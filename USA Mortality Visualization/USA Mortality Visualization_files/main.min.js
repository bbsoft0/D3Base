(function(d,a){"object"===typeof module&&"object"===typeof module.exports?module.exports=d.document?a(d,!0):function(b){if(!b.document){throw Error("jQuery requires a window with a document")}return a(b)}:a(d)})("undefined"!==typeof window?window:this,function(a,l){function h(f){var w=f.length,a=g.type(f);return"function"===a||g.isWindow(f)?!1:1===f.nodeType&&w?!0:"array"===a||0===w||"number"===typeof w&&0<w&&w-1 in f}function j(f,w,a){if(g.isFunction(w)){return g.grep(f,function(f,g){return !!w.call(f,g,f)!==a})}if(w.nodeType){return g.grep(f,function(f){return f===w!==a})}if("string"===typeof w){if(Vc.test(w)){return g.filter(w,f,a)}w=g.filter(w,f)}return g.grep(f,function(f){return 0<=g.inArray(f,w)!==a})}function d(f,w){do{f=f[w]}while(f&&1!==f.nodeType);return f}function n(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",s,!1),a.removeEventListener("load",s,!1)):(z.detachEvent("onreadystatechange",s),a.detachEvent("onload",s))}function s(){if(z.addEventListener||"load"===event.type||"complete"===z.readyState){n(),g.ready()}}function r(f,w,a){if(void 0===a&&1===f.nodeType){if(a="data-"+w.replace(Wc,"-$1").toLowerCase(),a=f.getAttribute(a),"string"===typeof a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:Xc.test(a)?g.parseJSON(a):a}catch(x){}g.data(f,w,a)}else{a=void 0}}return a}function b(f){for(var a in f){if(!("data"===a&&g.isEmptyObject(f[a]))&&"toJSON"!==a){return !1}}return !0}function e(f,a,p,x){if(g.acceptData(f)){var b=g.expando,k=f.nodeType,c=k?g.cache:f,e=k?f[b]:f[b]&&b;if(e&&c[e]&&(x||c[e].data)||!(void 0===p&&"string"===typeof a)){e||(e=k?f[b]=m.pop()||g.guid++:b);c[e]||(c[e]=k?{}:{toJSON:g.noop});if("object"===typeof a||"function"===typeof a){x?c[e]=g.extend(c[e],a):c[e].data=g.extend(c[e].data,a)}f=c[e];x||(f.data||(f.data={}),f=f.data);void 0!==p&&(f[g.camelCase(a)]=p);"string"===typeof a?(p=f[a],null==p&&(p=f[g.camelCase(a)])):p=f;return p}}}function c(f,a,p){if(g.acceptData(f)){var x,k,c=f.nodeType,e=c?g.cache:f,d=c?f[g.expando]:g.expando;if(e[d]){if(a&&(x=p?e[d]:e[d].data)){g.isArray(a)?a=a.concat(g.map(a,g.camelCase)):a in x?a=[a]:(a=g.camelCase(a),a=a in x?[a]:a.split(" "));for(k=a.length;k--;){delete x[a[k]]}if(p?!b(x):!g.isEmptyObject(x)){return}}if(!p&&(delete e[d].data,!b(e[d]))){return}c?g.cleanData([f],!0):v.deleteExpando||e!=e.window?delete e[d]:e[d]=null}}}function q(){return !0}function B(){return !1}function O(){try{return z.activeElement}catch(f){}}function T(f){var a=mc.split("|");f=f.createDocumentFragment();if(f.createElement){for(;a.length;){f.createElement(a.pop())}}return f}function M(f,a){var p,x,b=0,k=typeof f.getElementsByTagName!==ja?f.getElementsByTagName(a||"*"):typeof f.querySelectorAll!==ja?f.querySelectorAll(a||"*"):void 0;if(!k){k=[];for(p=f.childNodes||f;null!=(x=p[b]);b++){!a||g.nodeName(x,a)?k.push(x):g.merge(k,M(x,a))}}return void 0===a||a&&g.nodeName(f,a)?g.merge([f],k):k}function rb(f){Nb.test(f.type)&&(f.defaultChecked=f.checked)}function Ka(f,a){return g.nodeName(f,"table")&&g.nodeName(11!==a.nodeType?a:a.firstChild,"tr")?f.getElementsByTagName("tbody")[0]||f.appendChild(f.ownerDocument.createElement("tbody")):f}function K(f){f.type=(null!==g.find.attr(f,"type"))+"/"+f.type;return f}function U(f){var a=Yc.exec(f.type);a?f.type=a[1]:f.removeAttribute("type");return f}function Wa(f,a){for(var p,x=0;null!=(p=f[x]);x++){g._data(p,"globalEval",!a||g._data(a[x],"globalEval"))}}function ya(f,a){if(1===a.nodeType&&g.hasData(f)){var p,x,b;x=g._data(f);var k=g._data(a,x),c=x.events;if(c){for(p in delete k.handle,k.events={},c){x=0;for(b=c[p].length;x<b;x++){g.event.add(a,p,c[p][x])}}}k.data&&(k.data=g.extend({},k.data))}}function za(f,w){var p=g(w.createElement(f)).appendTo(w.body),x=a.getDefaultComputedStyle?a.getDefaultComputedStyle(p[0]).display:g.css(p[0],"display");p.detach();return x}function La(f){var a=z,p=nc[f];if(!p){p=za(f,a);if("none"===p||!p){fb=(fb||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(a.documentElement),a=(fb[0].contentWindow||fb[0].contentDocument).document,a.write(),a.close(),p=za(f,a),fb.detach()}nc[f]=p}return p}function pa(f,a){return{get:function(){var p=f();if(null!=p){if(p){delete this.get}else{return(this.get=a).apply(this,arguments)}}}}}function gb(f,a){if(a in f){return a}for(var p=a.charAt(0).toUpperCase()+a.slice(1),x=a,g=oc.length;g--;){if(a=oc[g]+p,a in f){return a}}return x}function A(f,a){for(var p,x,b,k=[],c=0,e=f.length;c<e;c++){if(x=f[c],x.style){if(k[c]=g._data(x,"olddisplay"),p=x.style.display,a){!k[c]&&"none"===p&&(x.style.display=""),""===x.style.display&&hb(x)&&(k[c]=g._data(x,"olddisplay",La(x.nodeName)))}else{if(!k[c]&&(b=hb(x),p&&"none"!==p||!b)){g._data(x,"olddisplay",b?p:g.css(x,"display"))}}}}for(c=0;c<e;c++){if(x=f[c],x.style&&(!a||"none"===x.style.display||""===x.style.display)){x.style.display=a?k[c]||"":"none"}}return f}function aa(f,a,p){return(f=Zc.exec(a))?Math.max(0,f[1]-(p||0))+(f[2]||"px"):a}function ba(f,a,p,x,b){a=p===(x?"border":"content")?4:"width"===a?1:0;for(var k=0;4>a;a+=2){"margin"===p&&(k+=g.css(f,p+Ma[a],!0,b)),x?("content"===p&&(k-=g.css(f,"padding"+Ma[a],!0,b)),"margin"!==p&&(k-=g.css(f,"border"+Ma[a]+"Width",!0,b))):(k+=g.css(f,"padding"+Ma[a],!0,b),"padding"!==p&&(k+=g.css(f,"border"+Ma[a]+"Width",!0,b)))}return k}function fa(f,a,p){var x=!0,b="width"===a?f.offsetWidth:f.offsetHeight,k=Na(f),c=v.boxSizing()&&"border-box"===g.css(f,"boxSizing",!1,k);if(0>=b||null==b){b=Oa(f,a,k);if(0>b||null==b){b=f.style[a]}if(sb.test(b)){return b}x=c&&(v.boxSizingReliable()||b===f.style[a]);b=parseFloat(b)||0}return b+ba(f,a,p||(c?"border":"content"),x,k)+"px"}function C(f,a,p,x,b){return new C.prototype.init(f,a,p,x,b)}function ua(){setTimeout(function(){Xa=void 0});return Xa=g.now()}function qa(f,a){var p,x={height:f},b=0;for(a=a?1:0;4>b;b+=2-a){p=Ma[b],x["margin"+p]=x["padding"+p]=f}a&&(x.opacity=x.width=f);return x}function ib(f,a,p){for(var b,g=(jb[a]||[]).concat(jb["*"]),k=0,c=g.length;k<c;k++){if(b=g[k].call(p,a,f)){return b}}}function tb(f,a,p){var b,k,c=0,e=ub.length,d=g.Deferred().always(function(){delete t.elem}),t=function(){if(k){return !1}for(var a=Xa||ua(),a=Math.max(0,m.startTime+m.duration-a),w=1-(a/m.duration||0),p=0,b=m.tweens.length;p<b;p++){m.tweens[p].run(w)}d.notifyWith(f,[m,w,a]);if(1>w&&b){return a}d.resolveWith(f,[m]);return !1},m=d.promise({elem:f,props:g.extend({},a),opts:g.extend(!0,{specialEasing:{}},p),originalProperties:a,originalOptions:p,startTime:Xa||ua(),duration:p.duration,tweens:[],createTween:function(a,w){var p=g.Tween(f,m.opts,a,w,m.opts.specialEasing[a]||m.opts.easing);m.tweens.push(p);return p},stop:function(a){var w=0,p=a?m.tweens.length:0;if(k){return this}for(k=!0;w<p;w++){m.tweens[w].run(1)}a?d.resolveWith(f,[m,a]):d.rejectWith(f,[m,a]);return this}});a=m.props;p=m.opts.specialEasing;var q,j,h,u;for(b in a){if(q=g.camelCase(b),j=p[q],h=a[b],g.isArray(h)&&(j=h[1],h=a[b]=h[0]),b!==q&&(a[q]=h,delete a[b]),(u=g.cssHooks[q])&&"expand" in u){for(b in h=u.expand(h),delete a[q],h){b in a||(a[b]=h[b],p[b]=j)}}else{p[q]=j}}for(;c<e;c++){if(b=ub[c].call(m,f,a,m.opts)){return b}}g.map(a,ib,m);g.isFunction(m.opts.start)&&m.opts.start.call(f,m);g.fx.timer(g.extend(t,{elem:f,anim:m,queue:m.opts.queue}));return m.progress(m.opts.progress).done(m.opts.done,m.opts.complete).fail(m.opts.fail).always(m.opts.always)}function kb(f){return function(a,p){"string"!==typeof a&&(p=a,a="*");var b,k=0,c=a.toLowerCase().match(va)||[];if(g.isFunction(p)){for(;b=c[k++];){"+"===b.charAt(0)?(b=b.slice(1)||"*",(f[b]=f[b]||[]).unshift(p)):(f[b]=f[b]||[]).push(p)}}}}function ra(f,a,p,b){function k(d){var m;c[d]=!0;g.each(f[d]||[],function(f,g){var d=g(a,p,b);if("string"===typeof d&&!e&&!c[d]){return a.dataTypes.unshift(d),k(d),!1}if(e){return !(m=d)}});return m}var c={},e=f===Ob;return k(a.dataTypes[0])||!c["*"]&&k("*")}function D(f,a){var p,b,k=g.ajaxSettings.flatOptions||{};for(b in a){void 0!==a[b]&&((k[b]?f:p||(p={}))[b]=a[b])}p&&g.extend(!0,f,p);return f}function V(f,a,p,b){var k;if(g.isArray(a)){g.each(a,function(a,w){p||ad.test(f)?b(f,w):V(f+"["+("object"===typeof w?a:"")+"]",w,p,b)})}else{if(!p&&"object"===g.type(a)){for(k in a){V(f+"["+k+"]",a[k],p,b)}}else{b(f,a)}}}function W(f){try{return f?new a.ActiveXObject("Microsoft.XMLHTTP"):new a.XMLHttpRequest}catch(w){}}function k(){try{return new a.XMLHttpRequest}catch(f){}}function t(f){return g.isWindow(f)?f:9===f.nodeType?f.defaultView||f.parentWindow:!1}var m=[],y=m.slice,E=m.concat,F=m.push,sa=m.indexOf,Ya={},bd=Ya.toString,Za=Ya.hasOwnProperty,Pb="".trim,v={},g=function(f,a){return new g.fn.init(f,a)},cd=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,dd=/^-ms-/,ed=/-([\da-z])/gi,P=function(f,a){return a.toUpperCase()};g.fn=g.prototype={jquery:"1.11.0",constructor:g,selector:"",length:0,toArray:function(){return y.call(this)},get:function(f){return null!=f?0>f?this[f+this.length]:this[f]:y.call(this)},pushStack:function(f){f=g.merge(this.constructor(),f);f.prevObject=this;f.context=this.context;return f},each:function(f,a){return g.each(this,f,a)},map:function(f){return this.pushStack(g.map(this,function(a,p){return f.call(a,p,a)}))},slice:function(){return this.pushStack(y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(f){var a=this.length;f=+f+(0>f?a:0);return this.pushStack(0<=f&&f<a?[this[f]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:F,sort:m.sort,splice:m.splice};g.extend=g.fn.extend=function(){var f,a,p,b,k,c=arguments[0]||{},e=1,d=arguments.length,m=!1;"boolean"===typeof c&&(m=c,c=arguments[e]||{},e++);"object"!==typeof c&&!g.isFunction(c)&&(c={});e===d&&(c=this,e--);for(;e<d;e++){if(null!=(k=arguments[e])){for(b in k){f=c[b],p=k[b],c!==p&&(m&&p&&(g.isPlainObject(p)||(a=g.isArray(p)))?(a?(a=!1,f=f&&g.isArray(f)?f:[]):f=f&&g.isPlainObject(f)?f:{},c[b]=g.extend(m,f,p)):void 0!==p&&(c[b]=p))}}}return c};g.extend({expando:"jQuery"+("1.11.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(f){throw Error(f)},noop:function(){},isFunction:function(f){return"function"===g.type(f)},isArray:Array.isArray||function(f){return"array"===g.type(f)},isWindow:function(f){return null!=f&&f==f.window},isNumeric:function(f){return 0<=f-parseFloat(f)},isEmptyObject:function(f){for(var a in f){return !1}return !0},isPlainObject:function(f){var a;if(!f||"object"!==g.type(f)||f.nodeType||g.isWindow(f)){return !1}try{if(f.constructor&&!Za.call(f,"constructor")&&!Za.call(f.constructor.prototype,"isPrototypeOf")){return !1}}catch(p){return !1}if(v.ownLast){for(a in f){return Za.call(f,a)}}for(a in f){}return void 0===a||Za.call(f,a)},type:function(f){return null==f?f+"":"object"===typeof f||"function"===typeof f?Ya[bd.call(f)]||"object":typeof f},globalEval:function(f){f&&g.trim(f)&&(a.execScript||function(f){a.eval.call(a,f)})(f)},camelCase:function(f){return f.replace(dd,"ms-").replace(ed,P)},nodeName:function(f,a){return f.nodeName&&f.nodeName.toLowerCase()===a.toLowerCase()},each:function(f,a,p){var b,g=0,k=f.length;b=h(f);if(p){if(b){for(;g<k&&!(b=a.apply(f[g],p),!1===b);g++){}}else{for(g in f){if(b=a.apply(f[g],p),!1===b){break}}}}else{if(b){for(;g<k&&!(b=a.call(f[g],g,f[g]),!1===b);g++){}}else{for(g in f){if(b=a.call(f[g],g,f[g]),!1===b){break}}}}return f},trim:Pb&&!Pb.call("\ufeff\u00a0")?function(f){return null==f?"":Pb.call(f)}:function(f){return null==f?"":(f+"").replace(cd,"")},makeArray:function(f,a){var p=a||[];null!=f&&(h(Object(f))?g.merge(p,"string"===typeof f?[f]:f):F.call(p,f));return p},inArray:function(f,a,p){var b;if(a){if(sa){return sa.call(a,f,p)}b=a.length;for(p=p?0>p?Math.max(0,b+p):p:0;p<b;p++){if(p in a&&a[p]===f){return p}}}return -1},merge:function(f,a){for(var p=+a.length,b=0,g=f.length;b<p;){f[g++]=a[b++]}if(p!==p){for(;void 0!==a[b];){f[g++]=a[b++]}}f.length=g;return f},grep:function(f,a,p){for(var b=[],g=0,k=f.length,c=!p;g<k;g++){p=!a(f[g],g),p!==c&&b.push(f[g])}return b},map:function(f,a,p){var b,g=0,k=f.length,c=[];if(h(f)){for(;g<k;g++){b=a(f[g],g,p),null!=b&&c.push(b)}}else{for(g in f){b=a(f[g],g,p),null!=b&&c.push(b)}}return E.apply([],c)},guid:1,proxy:function(f,a){var p,b;"string"===typeof a&&(b=f[a],a=f,f=b);if(g.isFunction(f)){return p=y.call(arguments,2),b=function(){return f.apply(a||this,p.concat(y.call(arguments)))},b.guid=f.guid=f.guid||g.guid++,b}},now:function(){return +new Date},support:v});g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(f,a){Ya["[object "+a+"]"]=a.toLowerCase()});var Qb=a,H=function(f,a,p,b){var g,k,c,e,d;(a?a.ownerDocument||a:Y)!==R&&ka(a);a=a||R;p=p||[];if(!f||"string"!==typeof f){return p}if(1!==(e=a.nodeType)&&9!==e){return[]}if(Z&&!b){if(g=fd.exec(f)){if(c=g[1]){if(9===e){if((k=a.getElementById(c))&&k.parentNode){if(k.id===c){return p.push(k),p}}else{return p}}else{if(a.ownerDocument&&(k=a.ownerDocument.getElementById(c))&&ta(a,k)&&k.id===c){return p.push(k),p}}}else{if(g[2]){return Aa.apply(p,a.getElementsByTagName(f)),p}if((c=g[3])&&I.getElementsByClassName&&a.getElementsByClassName){return Aa.apply(p,a.getElementsByClassName(c)),p}}}if(I.qsa&&(!S||!S.test(f))){k=g=L;c=a;d=9===e&&f;if(1===e&&"object"!==a.nodeName.toLowerCase()){e=vb(f);(g=a.getAttribute("id"))?k=g.replace(gd,"\\$&"):a.setAttribute("id",k);k="[id='"+k+"'] ";for(c=e.length;c--;){e[c]=k+wb(e[c])}c=Rb.test(f)&&Sb(a.parentNode)||a;d=e.join(",")}if(d){try{return Aa.apply(p,c.querySelectorAll(d)),p}catch(m){}finally{g||a.removeAttribute("id")}}}}var t;a:{f=f.replace(xb,"$1");k=vb(f);if(!b&&1===k.length){g=k[0]=k[0].slice(0);if(2<g.length&&"ID"===(t=g[0]).type&&I.getById&&9===a.nodeType&&Z&&G.relative[g[1].type]){a=(G.find.ID(t.matches[0].replace(Ba,Ca),a)||[])[0];if(!a){t=p;break a}f=f.slice(g.shift().value.length)}for(e=yb.needsContext.test(f)?0:g.length;e--;){t=g[e];if(G.relative[c=t.type]){break}if(c=G.find[c]){if(b=c(t.matches[0].replace(Ba,Ca),Rb.test(g[0].type)&&Sb(a.parentNode)||a)){g.splice(e,1);f=b.length&&wb(g);if(!f){Aa.apply(p,b);t=p;break a}break}}}}Da(f,k)(b,a,!Z,p,Rb.test(f)&&Sb(a.parentNode)||a);t=p}return t},Tb=function(){function f(p,b){a.push(p+" ")>G.cacheLength&&delete f[a.shift()];return f[p+" "]=b}var a=[];return f},la=function(f){f[L]=!0;return f},ma=function(f){var a=R.createElement("div");try{return !!f(a)}catch(p){return !1}finally{a.parentNode&&a.parentNode.removeChild(a)}},Ub=function(f,a){for(var p=f.split("|"),b=f.length;b--;){G.attrHandle[p[b]]=a}},pc=function(f,a){var p=a&&f,b=p&&1===f.nodeType&&1===a.nodeType&&(~a.sourceIndex||ca)-(~f.sourceIndex||ca);if(b){return b}if(p){for(;p=p.nextSibling;){if(p===a){return -1}}}return f?1:-1},hd=function(f){return function(a){return"input"===a.nodeName.toLowerCase()&&a.type===f}},id=function(f){return function(a){var p=a.nodeName.toLowerCase();return("input"===p||"button"===p)&&a.type===f}},X=function(f){return la(function(a){a=+a;return la(function(p,b){for(var g,k=f([],p.length,a),c=k.length;c--;){if(p[g=k[c]]){p[g]=!(b[g]=p[g])}}})})},Sb=function(f){return f&&typeof f.getElementsByTagName!==ga&&f},qc=function(){},vb=function(f,a){var p,b,g,k,c,e,d;if(c=Ea[f+" "]){return a?0:c.slice(0)}c=f;e=[];for(d=G.preFilter;c;){if(!p||(b=jd.exec(c))){b&&(c=c.slice(b[0].length)||c),e.push(g=[])}p=!1;if(b=kd.exec(c)){p=b.shift(),g.push({value:p,type:b[0].replace(xb," ")}),c=c.slice(p.length)}for(k in G.filter){if((b=yb[k].exec(c))&&(!d[k]||(b=d[k](b)))){p=b.shift(),g.push({value:p,type:k,matches:b}),c=c.slice(p.length)}}if(!p){break}}return a?c.length:c?H.error(f):Ea(f,e).slice(0)},wb=function(f){for(var a=0,p=f.length,b="";a<p;a++){b+=f[a].value}return b},Vb=function(f,a,p){var b=a.dir,g=p&&"parentNode"===b,k=ld++;return a.first?function(a,p,w){for(;a=a[b];){if(1===a.nodeType||g){return f(a,p,w)}}}:function(a,p,w){var c,e,d=[da,k];if(w){for(;a=a[b];){if((1===a.nodeType||g)&&f(a,p,w)){return !0}}}else{for(;a=a[b];){if(1===a.nodeType||g){e=a[L]||(a[L]={});if((c=e[b])&&c[0]===da&&c[1]===k){return d[2]=c[2]}e[b]=d;if(d[2]=f(a,p,w)){return !0}}}}}},Wb=function(f){return 1<f.length?function(a,p,b){for(var g=f.length;g--;){if(!f[g](a,p,b)){return !1}}return !0}:f[0]},Pa=function(f,a,p,b,g){for(var k,c=[],e=0,d=f.length,m=null!=a;e<d;e++){if(k=f[e]){if(!p||p(k,b,g)){c.push(k),m&&a.push(e)}}}return c},$a=function(f,a,p,b,g,k){b&&!b[L]&&(b=$a(b));g&&!g[L]&&(g=$a(g,k));return la(function(k,c,e,d){var m,t,Ja=[],q=[],h=c.length,j;if(!(j=k)){j=a||"*";for(var u=e.nodeType?[e]:e,n=[],y=0,B=u.length;y<B;y++){H(j,u[y],n)}j=n}j=f&&(k||!a)?Pa(j,Ja,f,e,d):j;u=p?g||(k?f:h||b)?[]:c:j;p&&p(j,u,e,d);if(b){m=Pa(u,q);b(m,[],e,d);for(e=m.length;e--;){if(t=m[e]){u[q[e]]=!(j[q[e]]=t)}}}if(k){if(g||f){if(g){m=[];for(e=u.length;e--;){if(t=u[e]){m.push(j[e]=t)}}g(null,u=[],m,d)}for(e=u.length;e--;){if((t=u[e])&&-1<(m=g?Qa.call(k,t):Ja[e])){k[m]=!(c[m]=t)}}}}else{u=Pa(u===c?u.splice(h,u.length):u),g?g(null,c,u,d):Aa.apply(c,u)}})},ab=function(f){var a,p,b,g=f.length,k=G.relative[f[0].type];p=k||G.relative[" "];for(var c=k?1:0,e=Vb(function(f){return f===a},p,!0),d=Vb(function(f){return -1<Qa.call(a,f)},p,!0),m=[function(f,p,b){return !k&&(b||p!==Ra)||((a=p).nodeType?e(f,p,b):d(f,p,b))}];c<g;c++){if(p=G.relative[f[c].type]){m=[Vb(Wb(m),p)]}else{p=G.filter[f[c].type].apply(null,f[c].matches);if(p[L]){for(b=++c;b<g&&!G.relative[f[b].type];b++){}return $a(1<c&&Wb(m),1<c&&wb(f.slice(0,c-1).concat({value:" "===f[c-2].type?"*":""})).replace(xb,"$1"),p,c<b&&ab(f.slice(c,b)),b<g&&ab(f=f.slice(b)),b<g&&wb(f))}m.push(p)}}return Wb(m)},Q,I,G,Sa,rc,Da,Ra,na,wa,ka,R,ha,Z,S,ea,Fa,ta,L="sizzle"+-new Date,Y=Qb.document,da=0,ld=0,sc=Tb(),Ea=Tb(),xa=Tb(),u=function(f,a){f===a&&(wa=!0);return 0},ga="undefined",ca=-2147483648,oa={}.hasOwnProperty,N=[],bb=N.pop,md=N.push,Aa=N.push,tc=N.slice,Qa=N.indexOf||function(f){for(var a=0,p=this.length;a<p;a++){if(this[a]===f){return a}}return -1},uc="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w#"),vc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+uc+")|)|)[\\x20\\t\\r\\n\\f]*\\]",Xb=":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+vc.replace(3,8)+")*)|.*)\\)|)",xb=RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),jd=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,kd=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,nd=RegExp("=[\\x20\\t\\r\\n\\f]*([^\\]'\"]*?)[\\x20\\t\\r\\n\\f]*\\]","g"),od=RegExp(Xb),pd=RegExp("^"+uc+"$"),yb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:RegExp("^("+"(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+vc),PSEUDO:RegExp("^"+Xb),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},qd=/^(?:input|select|textarea|button)$/i,rd=/^h\d$/i,lb=/^[^{]+\{\s*\[native \w/,fd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Rb=/[+~]/,gd=/'|\\/g,Ba=RegExp("\\\\([\\da-f]{1,6}[\\x20\\t\\r\\n\\f]?|([\\x20\\t\\r\\n\\f])|.)","ig"),Ca=function(f,a,p){f="0x"+a-65536;return f!==f||p?a:0>f?String.fromCharCode(f+65536):String.fromCharCode(f>>10|55296,f&1023|56320)};try{Aa.apply(N=tc.call(Y.childNodes),Y.childNodes),N[Y.childNodes.length].nodeType}catch(Yd){Aa={apply:N.length?function(f,a){md.apply(f,tc.call(a))}:function(f,a){for(var p=f.length,b=0;f[p++]=a[b++];){}f.length=p-1}}}I=H.support={};rc=H.isXML=function(f){return(f=f&&(f.ownerDocument||f).documentElement)?"HTML"!==f.nodeName:!1};ka=H.setDocument=function(f){var a=f?f.ownerDocument||f:Y;f=a.defaultView;if(a===R||9!==a.nodeType||!a.documentElement){return R}R=a;ha=a.documentElement;Z=!rc(a);f&&f!==f.top&&(f.addEventListener?f.addEventListener("unload",function(){ka()},!1):f.attachEvent&&f.attachEvent("onunload",function(){ka()}));I.attributes=ma(function(f){f.className="i";return !f.getAttribute("className")});I.getElementsByTagName=ma(function(f){f.appendChild(a.createComment(""));return !f.getElementsByTagName("*").length});I.getElementsByClassName=lb.test(a.getElementsByClassName)&&ma(function(f){f.innerHTML="<div class='a'></div><div class='a i'></div>";f.firstChild.className="i";return 2===f.getElementsByClassName("i").length});I.getById=ma(function(f){ha.appendChild(f).id=L;return !a.getElementsByName||!a.getElementsByName(L).length});I.getById?(G.find.ID=function(f,a){if(typeof a.getElementById!==ga&&Z){var b=a.getElementById(f);return b&&b.parentNode?[b]:[]}},G.filter.ID=function(f){var a=f.replace(Ba,Ca);return function(f){return f.getAttribute("id")===a}}):(delete G.find.ID,G.filter.ID=function(f){var a=f.replace(Ba,Ca);return function(f){return(f=typeof f.getAttributeNode!==ga&&f.getAttributeNode("id"))&&f.value===a}});G.find.TAG=I.getElementsByTagName?function(f,a){if(typeof a.getElementsByTagName!==ga){return a.getElementsByTagName(f)}}:function(f,a){var b,w=[],g=0,k=a.getElementsByTagName(f);if("*"===f){for(;b=k[g++];){1===b.nodeType&&w.push(b)}return w}return k};G.find.CLASS=I.getElementsByClassName&&function(f,a){if(typeof a.getElementsByClassName!==ga&&Z){return a.getElementsByClassName(f)}};ea=[];S=[];if(I.qsa=lb.test(a.querySelectorAll)){ma(function(f){f.innerHTML="<select t=''><option selected=''></option></select>";f.querySelectorAll("[t^='']").length&&S.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");f.querySelectorAll("[selected]").length||S.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");f.querySelectorAll(":checked").length||S.push(":checked")}),ma(function(f){var b=a.createElement("input");b.setAttribute("type","hidden");f.appendChild(b).setAttribute("name","D");f.querySelectorAll("[name=d]").length&&S.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");f.querySelectorAll(":enabled").length||S.push(":enabled",":disabled");f.querySelectorAll("*,:x");S.push(",.*:")})}(I.matchesSelector=lb.test(Fa=ha.webkitMatchesSelector||ha.mozMatchesSelector||ha.oMatchesSelector||ha.msMatchesSelector))&&ma(function(f){I.disconnectedMatch=Fa.call(f,"div");Fa.call(f,"[s!='']:x");ea.push("!=",Xb)});S=S.length&&RegExp(S.join("|"));ea=ea.length&&RegExp(ea.join("|"));ta=(f=lb.test(ha.compareDocumentPosition))||lb.test(ha.contains)?function(f,a){var b=9===f.nodeType?f.documentElement:f,w=a&&a.parentNode;return f===w||!(!w||!(1===w.nodeType&&(b.contains?b.contains(w):f.compareDocumentPosition&&f.compareDocumentPosition(w)&16)))}:function(f,a){if(a){for(;a=a.parentNode;){if(a===f){return !0}}}return !1};u=f?function(f,b){if(f===b){return wa=!0,0}var g=!f.compareDocumentPosition-!b.compareDocumentPosition;if(g){return g}g=(f.ownerDocument||f)===(b.ownerDocument||b)?f.compareDocumentPosition(b):1;return g&1||!I.sortDetached&&b.compareDocumentPosition(f)===g?f===a||f.ownerDocument===Y&&ta(Y,f)?-1:b===a||b.ownerDocument===Y&&ta(Y,b)?1:na?Qa.call(na,f)-Qa.call(na,b):0:g&4?-1:1}:function(f,b){if(f===b){return wa=!0,0}var g,k=0;g=f.parentNode;var c=b.parentNode,e=[f],d=[b];if(!g||!c){return f===a?-1:b===a?1:g?-1:c?1:na?Qa.call(na,f)-Qa.call(na,b):0}if(g===c){return pc(f,b)}for(g=f;g=g.parentNode;){e.unshift(g)}for(g=b;g=g.parentNode;){d.unshift(g)}for(;e[k]===d[k];){k++}return k?pc(e[k],d[k]):e[k]===Y?-1:d[k]===Y?1:0};return a};H.matches=function(f,a){return H(f,null,null,a)};H.matchesSelector=function(f,a){(f.ownerDocument||f)!==R&&ka(f);a=a.replace(nd,"='$1']");if(I.matchesSelector&&Z&&(!ea||!ea.test(a))&&(!S||!S.test(a))){try{var p=Fa.call(f,a);if(p||I.disconnectedMatch||f.document&&11!==f.document.nodeType){return p}}catch(b){}}return 0<H(a,R,null,[f]).length};H.contains=function(f,a){(f.ownerDocument||f)!==R&&ka(f);return ta(f,a)};H.attr=function(f,a){(f.ownerDocument||f)!==R&&ka(f);var p=G.attrHandle[a.toLowerCase()],p=p&&oa.call(G.attrHandle,a.toLowerCase())?p(f,a,!Z):void 0;return void 0!==p?p:I.attributes||!Z?f.getAttribute(a):(p=f.getAttributeNode(a))&&p.specified?p.value:null};H.error=function(f){throw Error("Syntax error, unrecognized expression: "+f)};H.uniqueSort=function(f){var a,p=[],b=0,g=0;wa=!I.detectDuplicates;na=!I.sortStable&&f.slice(0);f.sort(u);if(wa){for(;a=f[g++];){a===f[g]&&(b=p.push(g))}for(;b--;){f.splice(p[b],1)}}na=null;return f};Sa=H.getText=function(f){var a,b="",g=0;if(a=f.nodeType){if(1===a||9===a||11===a){if("string"===typeof f.textContent){return f.textContent}for(f=f.firstChild;f;f=f.nextSibling){b+=Sa(f)}}else{if(3===a||4===a){return f.nodeValue}}}else{for(;a=f[g++];){b+=Sa(a)}}return b};G=H.selectors={cacheLength:50,createPseudo:la,match:yb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(f){f[1]=f[1].replace(Ba,Ca);f[3]=(f[4]||f[5]||"").replace(Ba,Ca);"~="===f[2]&&(f[3]=" "+f[3]+" ");return f.slice(0,4)},CHILD:function(f){f[1]=f[1].toLowerCase();"nth"===f[1].slice(0,3)?(f[3]||H.error(f[0]),f[4]=+(f[4]?f[5]+(f[6]||1):2*("even"===f[3]||"odd"===f[3])),f[5]=+(f[7]+f[8]||"odd"===f[3])):f[3]&&H.error(f[0]);return f},PSEUDO:function(f){var a,b=!f[5]&&f[2];if(yb.CHILD.test(f[0])){return null}if(f[3]&&void 0!==f[4]){f[2]=f[4]}else{if(b&&od.test(b)&&(a=vb(b,!0))&&(a=b.indexOf(")",b.length-a)-b.length)){f[0]=f[0].slice(0,a),f[2]=b.slice(0,a)}}return f.slice(0,3)}},filter:{TAG:function(f){var a=f.replace(Ba,Ca).toLowerCase();return"*"===f?function(){return !0}:function(f){return f.nodeName&&f.nodeName.toLowerCase()===a}},CLASS:function(f){var a=sc[f+" "];return a||(a=RegExp("(^|[\\x20\\t\\r\\n\\f])"+f+"([\\x20\\t\\r\\n\\f]|$)"))&&sc(f,function(f){return a.test("string"===typeof f.className&&f.className||typeof f.getAttribute!==ga&&f.getAttribute("class")||"")})},ATTR:function(f,a,b){return function(g){g=H.attr(g,f);if(null==g){return"!="===a}if(!a){return !0}g+="";return"="===a?g===b:"!="===a?g!==b:"^="===a?b&&0===g.indexOf(b):"*="===a?b&&-1<g.indexOf(b):"$="===a?b&&g.slice(-b.length)===b:"~="===a?-1<(" "+g+" ").indexOf(b):"|="===a?g===b||g.slice(0,b.length+1)===b+"-":!1}},CHILD:function(f,a,b,g,k){var c="nth"!==f.slice(0,3),e="last"!==f.slice(-4),d="of-type"===a;return 1===g&&0===k?function(f){return !!f.parentNode}:function(a,b,p){var w,m,t,q,j;b=c!==e?"nextSibling":"previousSibling";var h=a.parentNode,u=d&&a.nodeName.toLowerCase();p=!p&&!d;if(h){if(c){for(;b;){for(m=a;m=m[b];){if(d?m.nodeName.toLowerCase()===u:1===m.nodeType){return !1}}j=b="only"===f&&!j&&"nextSibling"}return !0}j=[e?h.firstChild:h.lastChild];if(e&&p){p=h[L]||(h[L]={});w=p[f]||[];q=w[0]===da&&w[1];t=w[0]===da&&w[2];for(m=q&&h.childNodes[q];m=++q&&m&&m[b]||(t=q=0)||j.pop();){if(1===m.nodeType&&++t&&m===a){p[f]=[da,q,t];break}}}else{if(p&&(w=(a[L]||(a[L]={}))[f])&&w[0]===da){t=w[1]}else{for(;m=++q&&m&&m[b]||(t=q=0)||j.pop();){if((d?m.nodeName.toLowerCase()===u:1===m.nodeType)&&++t){if(p&&((m[L]||(m[L]={}))[f]=[da,t]),m===a){break}}}}}t-=k;return t===g||0===t%g&&0<=t/g}}},PSEUDO:function(f,a){var b,g=G.pseudos[f]||G.setFilters[f.toLowerCase()]||H.error("unsupported pseudo: "+f);return g[L]?g(a):1<g.length?(b=[f,f,"",a],G.setFilters.hasOwnProperty(f.toLowerCase())?la(function(f,b){for(var p,k=g(f,a),c=k.length;c--;){p=Qa.call(f,k[c]),f[p]=!(b[p]=k[c])}}):function(f){return g(f,0,b)}):g}},pseudos:{not:la(function(f){var a=[],b=[],g=Da(f.replace(xb,"$1"));return g[L]?la(function(f,a,b,p){p=g(f,null,p,[]);for(var w=f.length;w--;){if(b=p[w]){f[w]=!(a[w]=b)}}}):function(f,k,c){a[0]=f;g(a,null,c,b);return !b.pop()}}),has:la(function(f){return function(a){return 0<H(f,a).length}}),contains:la(function(f){return function(a){return -1<(a.textContent||a.innerText||Sa(a)).indexOf(f)}}),lang:la(function(f){pd.test(f||"")||H.error("unsupported lang: "+f);f=f.replace(Ba,Ca).toLowerCase();return function(a){var b;do{if(b=Z?a.lang:a.getAttribute("xml:lang")||a.getAttribute("lang")){return b=b.toLowerCase(),b===f||0===b.indexOf(f+"-")}}while((a=a.parentNode)&&1===a.nodeType);return !1}}),target:function(f){var a=Qb.location&&Qb.location.hash;return a&&a.slice(1)===f.id},root:function(f){return f===ha},focus:function(f){return f===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!(!f.type&&!f.href&&!~f.tabIndex)},enabled:function(f){return !1===f.disabled},disabled:function(f){return !0===f.disabled},checked:function(f){var a=f.nodeName.toLowerCase();return"input"===a&&!!f.checked||"option"===a&&!!f.selected},selected:function(f){f.parentNode&&f.parentNode.selectedIndex;return !0===f.selected},empty:function(f){for(f=f.firstChild;f;f=f.nextSibling){if(6>f.nodeType){return !1}}return !0},parent:function(f){return !G.pseudos.empty(f)},header:function(f){return rd.test(f.nodeName)},input:function(f){return qd.test(f.nodeName)},button:function(f){var a=f.nodeName.toLowerCase();return"input"===a&&"button"===f.type||"button"===a},text:function(f){var a;return"input"===f.nodeName.toLowerCase()&&"text"===f.type&&(null==(a=f.getAttribute("type"))||"text"===a.toLowerCase())},first:X(function(){return[0]}),last:X(function(f,a){return[a-1]}),eq:X(function(f,a,b){return[0>b?b+a:b]}),even:X(function(f,a){for(var b=0;b<a;b+=2){f.push(b)}return f}),odd:X(function(f,a){for(var b=1;b<a;b+=2){f.push(b)}return f}),lt:X(function(f,a,b){for(a=0>b?b+a:b;0<=--a;){f.push(a)}return f}),gt:X(function(f,a,b){for(b=0>b?b+a:b;++b<a;){f.push(b)}return f})}};G.pseudos.nth=G.pseudos.eq;for(Q in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){G.pseudos[Q]=hd(Q)}for(Q in {submit:!0,reset:!0}){G.pseudos[Q]=id(Q)}qc.prototype=G.filters=G.pseudos;G.setFilters=new qc;Da=H.compile=function(f,a){var b,g=[],k=[],c=xa[f+" "];if(!c){a||(a=vb(f));for(b=a.length;b--;){c=ab(a[b]),c[L]?g.push(c):k.push(c)}var e=0<g.length,d=0<k.length;b=function(f,a,b,p,w){var c,m,t,q=0,j="0",Ja=f&&[],h=[],u=Ra,n=f||d&&G.find.TAG("*",w),y=da+=null==u?1:Math.random()||0.1,B=n.length;for(w&&(Ra=a!==R&&a);j!==B&&null!=(c=n[j]);j++){if(d&&c){for(m=0;t=k[m++];){if(t(c,a,b)){p.push(c);break}}w&&(da=y)}e&&((c=!t&&c)&&q--,f&&Ja.push(c))}q+=j;if(e&&j!==q){for(m=0;t=g[m++];){t(Ja,h,a,b)}if(f){if(0<q){for(;j--;){!Ja[j]&&!h[j]&&(h[j]=bb.call(p))}}h=Pa(h)}Aa.apply(p,h);w&&(!f&&0<h.length&&1<q+g.length)&&H.uniqueSort(p)}w&&(da=y,Ra=u);return Ja};b=e?la(b):b;c=xa(f,b)}return c};I.sortStable=L.split("").sort(u).join("")===L;I.detectDuplicates=!!wa;ka();I.sortDetached=ma(function(f){return f.compareDocumentPosition(R.createElement("div"))&1});ma(function(f){f.innerHTML="<a href='#'></a>";return"#"===f.firstChild.getAttribute("href")})||Ub("type|href|height|width",function(f,a,b){if(!b){return f.getAttribute(a,"type"===a.toLowerCase()?1:2)}});(!I.attributes||!ma(function(f){f.innerHTML="<input/>";f.firstChild.setAttribute("value","");return""===f.firstChild.getAttribute("value")}))&&Ub("value",function(f,a,b){if(!b&&"input"===f.nodeName.toLowerCase()){return f.defaultValue}});ma(function(f){return null==f.getAttribute("disabled")})||Ub("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(f,a,b){var g;if(!b){return !0===f[a]?a.toLowerCase():(g=f.getAttributeNode(a))&&g.specified?g.value:null}});g.find=H;g.expr=H.selectors;g.expr[":"]=g.expr.pseudos;g.unique=H.uniqueSort;g.text=H.getText;g.isXMLDoc=H.isXML;g.contains=H.contains;var wc=g.expr.match.needsContext,xc=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Vc=/^.[^:#\[\.,]*$/;g.filter=function(f,a,b){var k=a[0];b&&(f=":not("+f+")");return 1===a.length&&1===k.nodeType?g.find.matchesSelector(k,f)?[k]:[]:g.find.matches(f,g.grep(a,function(f){return 1===f.nodeType}))};g.fn.extend({find:function(f){var a,b=[],k=this,c=k.length;if("string"!==typeof f){return this.pushStack(g(f).filter(function(){for(a=0;a<c;a++){if(g.contains(k[a],this)){return !0}}}))}for(a=0;a<c;a++){g.find(f,k[a],b)}b=this.pushStack(1<c?g.unique(b):b);b.selector=this.selector?this.selector+" "+f:f;return b},filter:function(f){return this.pushStack(j(this,f||[],!1))},not:function(f){return this.pushStack(j(this,f||[],!0))},is:function(f){return !!j(this,"string"===typeof f&&wc.test(f)?g(f):f||[],!1).length}});var mb,z=a.document,sd=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(f,a){var b,k;if(!f){return this}if("string"===typeof f){if((b="<"===f.charAt(0)&&">"===f.charAt(f.length-1)&&3<=f.length?[null,f,null]:sd.exec(f))&&(b[1]||!a)){if(b[1]){if(a=a instanceof g?a[0]:a,g.merge(this,g.parseHTML(b[1],a&&a.nodeType?a.ownerDocument||a:z,!0)),xc.test(b[1])&&g.isPlainObject(a)){for(b in a){if(g.isFunction(this[b])){this[b](a[b])}else{this.attr(b,a[b])}}}}else{if((k=z.getElementById(b[2]))&&k.parentNode){if(k.id!==b[2]){return mb.find(f)}this.length=1;this[0]=k}this.context=z;this.selector=f}return this}return !a||a.jquery?(a||mb).find(f):this.constructor(a).find(f)}if(f.nodeType){return this.context=this[0]=f,this.length=1,this}if(g.isFunction(f)){return"undefined"!==typeof mb.ready?mb.ready(f):f(g)}void 0!==f.selector&&(this.selector=f.selector,this.context=f.context);return g.makeArray(f,this)}).prototype=g.fn;mb=g(z);var td=/^(?:parents|prev(?:Until|All))/,ud={children:!0,contents:!0,next:!0,prev:!0};g.extend({dir:function(f,a,b){var k=[];for(f=f[a];f&&9!==f.nodeType&&(void 0===b||1!==f.nodeType||!g(f).is(b));){1===f.nodeType&&k.push(f),f=f[a]}return k},sibling:function(f,a){for(var b=[];f;f=f.nextSibling){1===f.nodeType&&f!==a&&b.push(f)}return b}});g.fn.extend({has:function(f){var a,b=g(f,this),k=b.length;return this.filter(function(){for(a=0;a<k;a++){if(g.contains(this,b[a])){return !0}}})},closest:function(f,a){for(var b,k=0,c=this.length,e=[],d=wc.test(f)||"string"!==typeof f?g(f,a||this.context):0;k<c;k++){for(b=this[k];b&&b!==a;b=b.parentNode){if(11>b.nodeType&&(d?-1<d.index(b):1===b.nodeType&&g.find.matchesSelector(b,f))){e.push(b);break}}}return this.pushStack(1<e.length?g.unique(e):e)},index:function(f){return !f?this[0]&&this[0].parentNode?this.first().prevAll().length:-1:"string"===typeof f?g.inArray(this[0],g(f)):g.inArray(f.jquery?f[0]:f,this)},add:function(f,a){return this.pushStack(g.unique(g.merge(this.get(),g(f,a))))},addBack:function(f){return this.add(null==f?this.prevObject:this.prevObject.filter(f))}});g.each({parent:function(f){return(f=f.parentNode)&&11!==f.nodeType?f:null},parents:function(f){return g.dir(f,"parentNode")},parentsUntil:function(f,a,b){return g.dir(f,"parentNode",b)},next:function(f){return d(f,"nextSibling")},prev:function(f){return d(f,"previousSibling")},nextAll:function(f){return g.dir(f,"nextSibling")},prevAll:function(f){return g.dir(f,"previousSibling")},nextUntil:function(f,a,b){return g.dir(f,"nextSibling",b)},prevUntil:function(f,a,b){return g.dir(f,"previousSibling",b)},siblings:function(f){return g.sibling((f.parentNode||{}).firstChild,f)},children:function(f){return g.sibling(f.firstChild)},contents:function(f){return g.nodeName(f,"iframe")?f.contentDocument||f.contentWindow.document:g.merge([],f.childNodes)}},function(f,a){g.fn[f]=function(b,k){var c=g.map(this,a,b);"Until"!==f.slice(-5)&&(k=b);k&&"string"===typeof k&&(c=g.filter(k,c));1<this.length&&(ud[f]||(c=g.unique(c)),td.test(f)&&(c=c.reverse()));return this.pushStack(c)}});var va=/\S+/g,yc={};g.Callbacks=function(f){var a;if("string"===typeof f){if(!(a=yc[f])){a=f;var b=yc[a]={};g.each(a.match(va)||[],function(f,a){b[a]=!0});a=b}}else{a=g.extend({},f)}f=a;var k,c,e,d,m,t,q=[],j=!f.once&&[],h=function(a){c=f.memory&&a;e=!0;m=t||0;t=0;d=q.length;for(k=!0;q&&m<d;m++){if(!1===q[m].apply(a[0],a[1])&&f.stopOnFalse){c=!1;break}}k=!1;q&&(j?j.length&&h(j.shift()):c?q=[]:u.disable())},u={add:function(){if(q){var a=q.length;(function $c(a){g.each(a,function(a,b){var p=g.type(b);"function"===p?(!f.unique||!u.has(b))&&q.push(b):b&&(b.length&&"string"!==p)&&$c(b)})})(arguments);k?d=q.length:c&&(t=a,h(c))}return this},remove:function(){q&&g.each(arguments,function(f,a){for(var b;-1<(b=g.inArray(a,q,b));){q.splice(b,1),k&&(b<=d&&d--,b<=m&&m--)}});return this},has:function(f){return f?-1<g.inArray(f,q):!(!q||!q.length)},empty:function(){q=[];d=0;return this},disable:function(){q=j=c=void 0;return this},disabled:function(){return !q},lock:function(){j=void 0;c||u.disable();return this},locked:function(){return !j},fireWith:function(f,a){if(q&&(!e||j)){a=a||[],a=[f,a.slice?a.slice():a],k?j.push(a):h(a)}return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return !!e}};return u};g.extend({Deferred:function(f){var a=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],b="pending",k={state:function(){return b},always:function(){c.done(arguments).fail(arguments);return this},then:function(){var f=arguments;return g.Deferred(function(b){g.each(a,function(a,p){var w=g.isFunction(f[a])&&f[a];c[p[1]](function(){var f=w&&w.apply(this,arguments);if(f&&g.isFunction(f.promise)){f.promise().done(b.resolve).fail(b.reject).progress(b.notify)}else{b[p[0]+"With"](this===k?b.promise():this,w?[f]:arguments)}})});f=null}).promise()},promise:function(f){return null!=f?g.extend(f,k):k}},c={};k.pipe=k.then;g.each(a,function(f,g){var e=g[2],d=g[3];k[g[1]]=e.add;d&&e.add(function(){b=d},a[f^1][2].disable,a[2][2].lock);c[g[0]]=function(){c[g[0]+"With"](this===c?k:this,arguments);return this};c[g[0]+"With"]=e.fireWith});k.promise(c);f&&f.call(c,c);return c},when:function(f){var a=0,b=y.call(arguments),k=b.length,c=1!==k||f&&g.isFunction(f.promise)?k:0,e=1===c?f:g.Deferred(),d=function(f,a,b){return function(g){a[f]=this;b[f]=1<arguments.length?y.call(arguments):g;b===m?e.notifyWith(a,b):--c||e.resolveWith(a,b)}},m,t,q;if(1<k){m=Array(k);t=Array(k);for(q=Array(k);a<k;a++){b[a]&&g.isFunction(b[a].promise)?b[a].promise().done(d(a,q,b)).fail(e.reject).progress(d(a,t,m)):--c}}c||e.resolveWith(q,b);return e.promise()}});var zb;g.fn.ready=function(f){g.ready.promise().done(f);return this};g.extend({isReady:!1,readyWait:1,holdReady:function(f){f?g.readyWait++:g.ready(!0)},ready:function(f){if(!(!0===f?--g.readyWait:g.isReady)){if(!z.body){return setTimeout(g.ready)}g.isReady=!0;!0!==f&&0<--g.readyWait||(zb.resolveWith(z,[g]),g.fn.trigger&&g(z).trigger("ready").off("ready"))}}});g.ready.promise=function(f){if(!zb){if(zb=g.Deferred(),"complete"===z.readyState){setTimeout(g.ready)}else{if(z.addEventListener){z.addEventListener("DOMContentLoaded",s,!1),a.addEventListener("load",s,!1)}else{z.attachEvent("onreadystatechange",s);a.attachEvent("onload",s);var b=!1;try{b=null==a.frameElement&&z.documentElement}catch(p){}b&&b.doScroll&&function Uc(){if(!g.isReady){try{b.doScroll("left")}catch(f){return setTimeout(Uc,50)}n();g.ready()}}()}}}return zb.promise(f)};var ja="undefined",zc;for(zc in g(v)){break}v.ownLast="0"!==zc;v.inlineBlockNeedsLayout=!1;g(function(){var f,a,b=z.getElementsByTagName("body")[0];if(b){f=z.createElement("div");f.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";a=z.createElement("div");b.appendChild(f).appendChild(a);if(typeof a.style.zoom!==ja&&(a.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",v.inlineBlockNeedsLayout=3===a.offsetWidth)){b.style.zoom=1}b.removeChild(f)}});var vd=z.createElement("div");if(null==v.deleteExpando){v.deleteExpando=!0;try{delete vd.test}catch(Zd){v.deleteExpando=!1}}g.acceptData=function(f){var a=g.noData[(f.nodeName+" ").toLowerCase()],b=+f.nodeType||1;return 1!==b&&9!==b?!1:!a||!0!==a&&f.getAttribute("classid")===a};var Xc=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wc=/([A-Z])/g;g.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(f){f=f.nodeType?g.cache[f[g.expando]]:f[g.expando];return !!f&&!b(f)},data:function(f,a,b){return e(f,a,b)},removeData:function(f,a){return c(f,a)},_data:function(f,a,b){return e(f,a,b,!0)},_removeData:function(f,a){return c(f,a,!0)}});g.fn.extend({data:function(f,a){var b,k,c,e=this[0],d=e&&e.attributes;if(void 0===f){if(this.length&&(c=g.data(e),1===e.nodeType&&!g._data(e,"parsedAttrs"))){for(b=d.length;b--;){k=d[b].name,0===k.indexOf("data-")&&(k=g.camelCase(k.slice(5)),r(e,k,c[k]))}g._data(e,"parsedAttrs",!0)}return c}return"object"===typeof f?this.each(function(){g.data(this,f)}):1<arguments.length?this.each(function(){g.data(this,f,a)}):e?r(e,f,g.data(e,f)):void 0},removeData:function(f){return this.each(function(){g.removeData(this,f)})}});g.extend({queue:function(f,a,b){var k;if(f){return a=(a||"fx")+"queue",k=g._data(f,a),b&&(!k||g.isArray(b)?k=g._data(f,a,g.makeArray(b)):k.push(b)),k||[]}},dequeue:function(f,a){a=a||"fx";var b=g.queue(f,a),k=b.length,c=b.shift(),e=g._queueHooks(f,a),d=function(){g.dequeue(f,a)};"inprogress"===c&&(c=b.shift(),k--);c&&("fx"===a&&b.unshift("inprogress"),delete e.stop,c.call(f,d,e));!k&&e&&e.empty.fire()},_queueHooks:function(f,a){var b=a+"queueHooks";return g._data(f,b)||g._data(f,b,{empty:g.Callbacks("once memory").add(function(){g._removeData(f,a+"queue");g._removeData(f,b)})})}});g.fn.extend({queue:function(f,a){var b=2;"string"!==typeof f&&(a=f,f="fx",b--);return arguments.length<b?g.queue(this[0],f):void 0===a?this:this.each(function(){var b=g.queue(this,f,a);g._queueHooks(this,f);"fx"===f&&"inprogress"!==b[0]&&g.dequeue(this,f)})},dequeue:function(f){return this.each(function(){g.dequeue(this,f)})},clearQueue:function(f){return this.queue(f||"fx",[])},promise:function(f,a){var b,k=1,c=g.Deferred(),e=this,d=this.length,m=function(){--k||c.resolveWith(e,[e])};"string"!==typeof f&&(a=f,f=void 0);for(f=f||"fx";d--;){if((b=g._data(e[d],f+"queueHooks"))&&b.empty){k++,b.empty.add(m)}}m();return c.promise(a)}});var Ab=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ma=["Top","Right","Bottom","Left"],hb=function(f,a){f=a||f;return"none"===g.css(f,"display")||!g.contains(f.ownerDocument,f)},Ta=g.access=function(f,a,b,k,c,e,d){var m=0,t=f.length,q=null==b;if("object"===g.type(b)){for(m in c=!0,b){g.access(f,a,m,b[m],!0,e,d)}}else{if(void 0!==k&&(c=!0,g.isFunction(k)||(d=!0),q&&(d?(a.call(f,k),a=null):(q=a,a=function(a,f,b){return q.call(g(a),b)})),a)){for(;m<t;m++){a(f[m],b,d?k:k.call(f[m],m,a(f[m],b)))}}}return c?f:q?a.call(f):t?a(f[0],b):e},Nb=/^(?:checkbox|radio)$/i,Yb=z.createDocumentFragment(),$=z.createElement("div"),nb=z.createElement("input");$.setAttribute("className","t");$.innerHTML="  <link/><table></table><a href='/a'>a</a>";v.leadingWhitespace=3===$.firstChild.nodeType;v.tbody=!$.getElementsByTagName("tbody").length;v.htmlSerialize=!!$.getElementsByTagName("link").length;v.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML;nb.type="checkbox";nb.checked=!0;Yb.appendChild(nb);v.appendChecked=nb.checked;$.innerHTML="<textarea>x</textarea>";v.noCloneChecked=!!$.cloneNode(!0).lastChild.defaultValue;Yb.appendChild($);$.innerHTML="<input type='radio' checked='checked' name='t'/>";v.checkClone=$.cloneNode(!0).cloneNode(!0).lastChild.checked;v.noCloneEvent=!0;$.attachEvent&&($.attachEvent("onclick",function(){v.noCloneEvent=!1}),$.cloneNode(!0).click());if(null==v.deleteExpando){v.deleteExpando=!0;try{delete $.test}catch($d){v.deleteExpando=!1}}var Yb=$=nb=null,Bb,Cb,Ac=z.createElement("div");for(Bb in {submit:!0,change:!0,focusin:!0}){if(Cb="on"+Bb,!(v[Bb+"Bubbles"]=Cb in a)){Ac.setAttribute(Cb,"t"),v[Bb+"Bubbles"]=!1===Ac.attributes[Cb].expando}}var Zb=/^(?:input|select|textarea)$/i,wd=/^key/,xd=/^(?:mouse|contextmenu)|click/,Bc=/^(?:focusinfocus|focusoutblur)$/,Cc=/^([^.]*)(?:\.(.+)|)$/;g.event={global:{},add:function(a,b,k,c,e){var d,m,t,q,j,h,u,n,y;if(t=g._data(a)){k.handler&&(q=k,k=q.handler,e=q.selector);k.guid||(k.guid=g.guid++);if(!(m=t.events)){m=t.events={}}if(!(j=t.handle)){j=t.handle=function(a){return typeof g!==ja&&(!a||g.event.triggered!==a.type)?g.event.dispatch.apply(j.elem,arguments):void 0},j.elem=a}b=(b||"").match(va)||[""];for(t=b.length;t--;){if(d=Cc.exec(b[t])||[],n=h=d[1],y=(d[2]||"").split(".").sort(),n){d=g.event.special[n]||{};n=(e?d.delegateType:d.bindType)||n;d=g.event.special[n]||{};h=g.extend({type:n,origType:h,data:c,handler:k,guid:k.guid,selector:e,needsContext:e&&g.expr.match.needsContext.test(e),namespace:y.join(".")},q);if(!(u=m[n])){if(u=m[n]=[],u.delegateCount=0,!d.setup||!1===d.setup.call(a,c,y,j)){a.addEventListener?a.addEventListener(n,j,!1):a.attachEvent&&a.attachEvent("on"+n,j)}}d.add&&(d.add.call(a,h),h.handler.guid||(h.handler.guid=k.guid));e?u.splice(u.delegateCount++,0,h):u.push(h);g.event.global[n]=!0}}a=null}},remove:function(a,b,k,c,e){var d,m,t,q,j,h,u,n,y,B,ga,s=g.hasData(a)&&g._data(a);if(s&&(h=s.events)){b=(b||"").match(va)||[""];for(j=b.length;j--;){if(t=Cc.exec(b[j])||[],y=ga=t[1],B=(t[2]||"").split(".").sort(),y){u=g.event.special[y]||{};y=(c?u.delegateType:u.bindType)||y;n=h[y]||[];t=t[2]&&RegExp("(^|\\.)"+B.join("\\.(?:.*\\.|)")+"(\\.|$)");for(q=d=n.length;d--;){if(m=n[d],(e||ga===m.origType)&&(!k||k.guid===m.guid)&&(!t||t.test(m.namespace))&&(!c||c===m.selector||"**"===c&&m.selector)){n.splice(d,1),m.selector&&n.delegateCount--,u.remove&&u.remove.call(a,m)}}q&&!n.length&&((!u.teardown||!1===u.teardown.call(a,B,s.handle))&&g.removeEvent(a,y,s.handle),delete h[y])}else{for(y in h){g.event.remove(a,y+b[j],k,c,!0)}}}g.isEmptyObject(h)&&(delete s.handle,g._removeData(a,"events"))}},trigger:function(f,b,k,c){var e,d,m,t,q,j,h=[k||z],u=Za.call(f,"type")?f.type:f;q=Za.call(f,"namespace")?f.namespace.split("."):[];m=e=k=k||z;if(!(3===k.nodeType||8===k.nodeType)&&!Bc.test(u+g.event.triggered)){if(0<=u.indexOf(".")&&(q=u.split("."),u=q.shift(),q.sort()),d=0>u.indexOf(":")&&"on"+u,f=f[g.expando]?f:new g.Event(u,"object"===typeof f&&f),f.isTrigger=c?2:3,f.namespace=q.join("."),f.namespace_re=f.namespace?RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,f.result=void 0,f.target||(f.target=k),b=null==b?[f]:g.makeArray(b,[f]),q=g.event.special[u]||{},c||!(q.trigger&&!1===q.trigger.apply(k,b))){if(!c&&!q.noBubble&&!g.isWindow(k)){t=q.delegateType||u;Bc.test(t+u)||(m=m.parentNode);for(;m;m=m.parentNode){h.push(m),e=m}if(e===(k.ownerDocument||z)){h.push(e.defaultView||e.parentWindow||a)}}for(j=0;(m=h[j++])&&!f.isPropagationStopped();){if(f.type=1<j?t:q.bindType||u,(e=(g._data(m,"events")||{})[f.type]&&g._data(m,"handle"))&&e.apply(m,b),(e=d&&m[d])&&e.apply&&g.acceptData(m)){f.result=e.apply(m,b),!1===f.result&&f.preventDefault()}}f.type=u;if(!c&&!f.isDefaultPrevented()&&(!q._default||!1===q._default.apply(h.pop(),b))&&g.acceptData(k)&&d&&k[u]&&!g.isWindow(k)){(e=k[d])&&(k[d]=null);g.event.triggered=u;try{k[u]()}catch(n){}g.event.triggered=void 0;e&&(k[d]=e)}return f.result}}},dispatch:function(a){a=g.event.fix(a);var b,k,c,e,d=[],m=y.call(arguments);b=(g._data(this,"events")||{})[a.type]||[];var t=g.event.special[a.type]||{};m[0]=a;a.delegateTarget=this;if(!(t.preDispatch&&!1===t.preDispatch.call(this,a))){d=g.event.handlers.call(this,a,b);for(b=0;(c=d[b++])&&!a.isPropagationStopped();){a.currentTarget=c.elem;for(e=0;(k=c.handlers[e++])&&!a.isImmediatePropagationStopped();){if(!a.namespace_re||a.namespace_re.test(k.namespace)){if(a.handleObj=k,a.data=k.data,k=((g.event.special[k.origType]||{}).handle||k.handler).apply(c.elem,m),void 0!==k&&!1===(a.result=k)){a.preventDefault(),a.stopPropagation()}}}}t.postDispatch&&t.postDispatch.call(this,a);return a.result}},handlers:function(a,b){var k,c,e,d,m=[],t=b.delegateCount,q=a.target;if(t&&q.nodeType&&(!a.button||"click"!==a.type)){for(;q!=this;q=q.parentNode||this){if(1===q.nodeType&&(!0!==q.disabled||"click"!==a.type)){e=[];for(d=0;d<t;d++){c=b[d],k=c.selector+" ",void 0===e[k]&&(e[k]=c.needsContext?0<=g(k,this).index(q):g.find(k,this,null,[q]).length),e[k]&&e.push(c)}e.length&&m.push({elem:q,handlers:e})}}}t<b.length&&m.push({elem:this,handlers:b.slice(t)});return m},fix:function(a){if(a[g.expando]){return a}var b,k,c;b=a.type;var e=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=xd.test(b)?this.mouseHooks:wd.test(b)?this.keyHooks:{});c=d.props?this.props.concat(d.props):this.props;a=new g.Event(e);for(b=c.length;b--;){k=c[b],a[k]=e[k]}a.target||(a.target=e.srcElement||z);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,e):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var g,k,c=b.button,e=b.fromElement;null==a.pageX&&null!=b.clientX&&(g=a.target.ownerDocument||z,k=g.documentElement,g=g.body,a.pageX=b.clientX+(k&&k.scrollLeft||g&&g.scrollLeft||0)-(k&&k.clientLeft||g&&g.clientLeft||0),a.pageY=b.clientY+(k&&k.scrollTop||g&&g.scrollTop||0)-(k&&k.clientTop||g&&g.clientTop||0));!a.relatedTarget&&e&&(a.relatedTarget=e===a.target?b.toElement:e);!a.which&&void 0!==c&&(a.which=c&1?1:c&2?3:c&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==O()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){if(this===O()&&this.blur){return this.blur(),!1}},delegateType:"focusout"},click:{trigger:function(){if(g.nodeName(this,"input")&&"checkbox"===this.type&&this.click){return this.click(),!1}},_default:function(a){return g.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,k,c){a=g.extend(new g.Event,k,{type:a,isSimulated:!0,originalEvent:{}});c?g.event.trigger(a,null,b):g.event.dispatch.call(b,a);a.isDefaultPrevented()&&k.preventDefault()}};g.removeEvent=z.removeEventListener?function(a,b,g){a.removeEventListener&&a.removeEventListener(b,g,!1)}:function(a,b,g){b="on"+b;a.detachEvent&&(typeof a[b]===ja&&(a[b]=null),a.detachEvent(b,g))};g.Event=function(a,b){if(!(this instanceof g.Event)){return new g.Event(a,b)}a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault())?q:B):this.type=a;b&&g.extend(this,b);this.timeStamp=a&&a.timeStamp||g.now();this[g.expando]=!0};g.Event.prototype={isDefaultPrevented:B,isPropagationStopped:B,isImmediatePropagationStopped:B,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=q;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=q;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=q;this.stopPropagation()}};g.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){g.event.special[a]={delegateType:b,bindType:b,handle:function(a){var f,k=a.relatedTarget,c=a.handleObj;if(!k||k!==this&&!g.contains(this,k)){a.type=c.origType,f=c.handler.apply(this,arguments),a.type=b}return f}}});v.submitBubbles||(g.event.special.submit={setup:function(){if(g.nodeName(this,"form")){return !1}g.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=g.nodeName(a,"input")||g.nodeName(a,"button")?a.form:void 0)&&!g._data(a,"submitBubbles")){g.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),g._data(a,"submitBubbles",!0)}})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&g.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(g.nodeName(this,"form")){return !1}g.event.remove(this,"._submit")}});v.changeBubbles||(g.event.special.change={setup:function(){if(Zb.test(this.nodeName)){if("checkbox"===this.type||"radio"===this.type){g.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),g.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);g.event.simulate("change",this,a,!0)})}return !1}g.event.add(this,"beforeactivate._change",function(a){a=a.target;Zb.test(a.nodeName)&&!g._data(a,"changeBubbles")&&(g.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&g.event.simulate("change",this.parentNode,a,!0)}),g._data(a,"changeBubbles",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type){return a.handleObj.handler.apply(this,arguments)}},teardown:function(){g.event.remove(this,"._change");return !Zb.test(this.nodeName)}});v.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},function(a,b){var k=function(a){g.event.simulate(b,a.target,g.event.fix(a),!0)};g.event.special[b]={setup:function(){var c=this.ownerDocument||this,e=g._data(c,b);e||c.addEventListener(a,k,!0);g._data(c,b,(e||0)+1)},teardown:function(){var c=this.ownerDocument||this,e=g._data(c,b)-1;e?g._data(c,b,e):(c.removeEventListener(a,k,!0),g._removeData(c,b))}}});g.fn.extend({on:function(a,b,k,c,e){var d,m;if("object"===typeof a){"string"!==typeof b&&(k=k||b,b=void 0);for(d in a){this.on(d,b,k,a[d],e)}return this}null==k&&null==c?(c=b,k=b=void 0):null==c&&("string"===typeof b?(c=k,k=void 0):(c=k,k=b,b=void 0));if(!1===c){c=B}else{if(!c){return this}}1===e&&(m=c,c=function(a){g().off(a);return m.apply(this,arguments)},c.guid=m.guid||(m.guid=g.guid++));return this.each(function(){g.event.add(this,a,c,k,b)})},one:function(a,b,g,k){return this.on(a,b,g,k,1)},off:function(a,b,k){var c;if(a&&a.preventDefault&&a.handleObj){return c=a.handleObj,g(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this}if("object"===typeof a){for(c in a){this.off(c,b,a[c])}return this}if(!1===b||"function"===typeof b){k=b,b=void 0}!1===k&&(k=B);return this.each(function(){g.event.remove(this,a,k,b)})},trigger:function(a,b){return this.each(function(){g.event.trigger(a,b,this)})},triggerHandler:function(a,b){var k=this[0];if(k){return g.event.trigger(a,b,k,!0)}}});var mc="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",yd=/ jQuery\d+="(?:null|\d+)"/g,Dc=RegExp("<(?:"+mc+")[\\s/>]","i"),$b=/^\s+/,Ec=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fc=/<([\w:]+)/,Gc=/<tbody/i,zd=/<|&#?\w+;/,Ad=/<(?:script|style|link)/i,Bd=/checked\s*(?:[^=]|=\s*.checked.)/i,Hc=/^$|\/(?:java|ecma)script/i,Yc=/^true\/(.*)/,Cd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:v.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ac=T(z).appendChild(z.createElement("div"));ia.optgroup=ia.option;ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead;ia.th=ia.td;g.extend({clone:function(a,b,k){var c,e,d,m,t,q=g.contains(a.ownerDocument,a);v.html5Clone||g.isXMLDoc(a)||!Dc.test("<"+a.nodeName+">")?d=a.cloneNode(!0):(ac.innerHTML=a.outerHTML,ac.removeChild(d=ac.firstChild));if((!v.noCloneEvent||!v.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!g.isXMLDoc(a)){c=M(d);t=M(a);for(m=0;null!=(e=t[m]);++m){if(c[m]){var j=c[m],u=void 0,h=void 0,n=void 0;if(1===j.nodeType){u=j.nodeName.toLowerCase();if(!v.noCloneEvent&&j[g.expando]){n=g._data(j);for(h in n.events){g.removeEvent(j,h,n.handle)}j.removeAttribute(g.expando)}if("script"===u&&j.text!==e.text){K(j).text=e.text,U(j)}else{if("object"===u){j.parentNode&&(j.outerHTML=e.outerHTML),v.html5Clone&&(e.innerHTML&&!g.trim(j.innerHTML))&&(j.innerHTML=e.innerHTML)}else{if("input"===u&&Nb.test(e.type)){j.defaultChecked=j.checked=e.checked,j.value!==e.value&&(j.value=e.value)}else{if("option"===u){j.defaultSelected=j.selected=e.defaultSelected}else{if("input"===u||"textarea"===u){j.defaultValue=e.defaultValue}}}}}}}}}if(b){if(k){t=t||M(a);c=c||M(d);for(m=0;null!=(e=t[m]);m++){ya(e,c[m])}}else{ya(a,d)}}c=M(d,"script");0<c.length&&Wa(c,!q&&M(a,"script"));return d},buildFragment:function(a,b,k,c){for(var e,d,m,t,q,j,u=a.length,h=T(b),n=[],y=0;y<u;y++){if((d=a[y])||0===d){if("object"===g.type(d)){g.merge(n,d.nodeType?[d]:d)}else{if(zd.test(d)){m=m||h.appendChild(b.createElement("div"));t=(Fc.exec(d)||["",""])[1].toLowerCase();j=ia[t]||ia._default;m.innerHTML=j[1]+d.replace(Ec,"<$1></$2>")+j[2];for(e=j[0];e--;){m=m.lastChild}!v.leadingWhitespace&&$b.test(d)&&n.push(b.createTextNode($b.exec(d)[0]));if(!v.tbody){for(e=(d="table"===t&&!Gc.test(d)?m.firstChild:"<table>"===j[1]&&!Gc.test(d)?m:0)&&d.childNodes.length;e--;){g.nodeName(q=d.childNodes[e],"tbody")&&!q.childNodes.length&&d.removeChild(q)}}g.merge(n,m.childNodes);for(m.textContent="";m.firstChild;){m.removeChild(m.firstChild)}m=h.lastChild}else{n.push(b.createTextNode(d))}}}}m&&h.removeChild(m);v.appendChecked||g.grep(M(n,"input"),rb);for(y=0;d=n[y++];){if(!(c&&-1!==g.inArray(d,c))&&(a=g.contains(d.ownerDocument,d),m=M(h.appendChild(d),"script"),a&&Wa(m),k)){for(e=0;d=m[e++];){Hc.test(d.type||"")&&k.push(d)}}}return h},cleanData:function(a,b){for(var k,c,e,d,t=0,q=g.expando,j=g.cache,u=v.deleteExpando,h=g.event.special;null!=(k=a[t]);t++){if(b||g.acceptData(k)){if(d=(e=k[q])&&j[e]){if(d.events){for(c in d.events){h[c]?g.event.remove(k,c):g.removeEvent(k,c,d.handle)}}j[e]&&(delete j[e],u?delete k[q]:typeof k.removeAttribute!==ja?k.removeAttribute(q):k[q]=null,m.push(e))}}}}});g.fn.extend({text:function(a){return Ta(this,function(a){return void 0===a?g.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&Ka(this,a).appendChild(a)})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=Ka(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var k,c=a?g.filter(a,this):this,e=0;null!=(k=c[e]);e++){!b&&1===k.nodeType&&g.cleanData(M(k)),k.parentNode&&(b&&g.contains(k.ownerDocument,k)&&Wa(M(k,"script")),k.parentNode.removeChild(k))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&g.cleanData(M(a,!1));a.firstChild;){a.removeChild(a.firstChild)}a.options&&g.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return g.clone(this,a,b)})},html:function(a){return Ta(this,function(a){var f=this[0]||{},b=0,k=this.length;if(void 0===a){return 1===f.nodeType?f.innerHTML.replace(yd,""):void 0}if("string"===typeof a&&!Ad.test(a)&&(v.htmlSerialize||!Dc.test(a))&&(v.leadingWhitespace||!$b.test(a))&&!ia[(Fc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ec,"<$1></$2>");try{for(;b<k;b++){f=this[b]||{},1===f.nodeType&&(g.cleanData(M(f,!1)),f.innerHTML=a)}f=0}catch(c){}}f&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];this.domManip(arguments,function(b){a=this.parentNode;g.cleanData(M(this));a&&a.replaceChild(b,this)});return a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=E.apply([],a);var k,c,e,d,m=0,t=this.length,q=this,j=t-1,u=a[0],h=g.isFunction(u);if(h||1<t&&"string"===typeof u&&!v.checkClone&&Bd.test(u)){return this.each(function(k){var g=q.eq(k);h&&(a[0]=u.call(this,k,g.html()));g.domManip(a,b)})}if(t&&(d=g.buildFragment(a,this[0].ownerDocument,!1,this),k=d.firstChild,1===d.childNodes.length&&(d=k),k)){e=g.map(M(d,"script"),K);for(c=e.length;m<t;m++){k=d,m!==j&&(k=g.clone(k,!0,!0),c&&g.merge(e,M(k,"script"))),b.call(this[m],k,m)}if(c){d=e[e.length-1].ownerDocument;g.map(e,U);for(m=0;m<c;m++){if(k=e[m],Hc.test(k.type||"")&&!g._data(k,"globalEval")&&g.contains(d,k)){k.src?g._evalUrl&&g._evalUrl(k.src):g.globalEval((k.text||k.textContent||k.innerHTML||"").replace(Cd,""))}}}d=k=null}return this}});g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){g.fn[a]=function(a){for(var f=0,k=[],c=g(a),e=c.length-1;f<=e;f++){a=f===e?this:this.clone(!0),g(c[f])[b](a),F.apply(k,a.get())}return this.pushStack(k)}});var fb,nc={},ob,Db,cb=z.createElement("div");cb.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";ob=cb.getElementsByTagName("a")[0];ob.style.cssText="float:left;opacity:.5";v.opacity=/^0.5/.test(ob.style.opacity);v.cssFloat=!!ob.style.cssFloat;cb.style.backgroundClip="content-box";cb.cloneNode(!0).style.backgroundClip="";v.clearCloneStyle="content-box"===cb.style.backgroundClip;ob=cb=null;v.shrinkWrapBlocks=function(){var a,b,k;if(null==Db){a=z.getElementsByTagName("body")[0];if(!a){return}b=z.createElement("div");k=z.createElement("div");a.appendChild(b).appendChild(k);Db=!1;typeof k.style.zoom!==ja&&(k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0;width:1px;padding:1px;zoom:1",k.innerHTML="<div></div>",k.firstChild.style.width="5px",Db=3!==k.offsetWidth);a.removeChild(b)}return Db};var Ic=/^margin/,sb=RegExp("^("+Ab+")(?!px)[a-z%]+$","i"),Na,Oa,Dd=/^(top|right|bottom|left)$/;a.getComputedStyle?(Na=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Oa=function(a,b,k){var c,e,d=a.style;e=(k=k||Na(a))?k.getPropertyValue(b)||k[b]:void 0;k&&(""===e&&!g.contains(a.ownerDocument,a)&&(e=g.style(a,b)),sb.test(e)&&Ic.test(b)&&(a=d.width,b=d.minWidth,c=d.maxWidth,d.minWidth=d.maxWidth=d.width=e,e=k.width,d.width=a,d.minWidth=b,d.maxWidth=c));return void 0===e?e:e+""}):z.documentElement.currentStyle&&(Na=function(a){return a.currentStyle},Oa=function(a,b,k){var g,c,e,d=a.style;e=(k=k||Na(a))?k[b]:void 0;null==e&&(d&&d[b])&&(e=d[b]);if(sb.test(e)&&!Dd.test(b)){k=d.left;if(c=(g=a.runtimeStyle)&&g.left){g.left=a.currentStyle.left}d.left="fontSize"===b?"1em":e;e=d.pixelLeft+"px";d.left=k;c&&(g.left=c)}return void 0===e?e:e+""||"auto"});var dc=function(){var f,b,k=z.getElementsByTagName("body")[0];k&&(f=z.createElement("div"),b=z.createElement("div"),f.style.cssText=bc,k.appendChild(f).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",g.swap(k,null!=k.style.zoom?{zoom:1}:{},function(){cc=4===b.offsetWidth}),Eb=!0,Fb=!1,Gb=!0,a.getComputedStyle&&(Fb="1%"!==(a.getComputedStyle(b,null)||{}).top,Eb="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width),k.removeChild(f),b=k=null)},pb,Hb,cc,Eb,Fb,Gb,db=z.createElement("div"),bc="border:0;width:0;height:0;position:absolute;top:0;left:-9999px";db.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";pb=db.getElementsByTagName("a")[0];pb.style.cssText="float:left;opacity:.5";v.opacity=/^0.5/.test(pb.style.opacity);v.cssFloat=!!pb.style.cssFloat;db.style.backgroundClip="content-box";db.cloneNode(!0).style.backgroundClip="";v.clearCloneStyle="content-box"===db.style.backgroundClip;pb=db=null;g.extend(v,{reliableHiddenOffsets:function(){if(null!=Hb){return Hb}var a,b,k;b=z.createElement("div");var g=z.getElementsByTagName("body")[0];if(g){return b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=bc,g.appendChild(a).appendChild(b),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=b.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",k=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",Hb=k&&0===b[0].offsetHeight,g.removeChild(a),Hb}},boxSizing:function(){null==cc&&dc();return cc},boxSizingReliable:function(){null==Eb&&dc();return Eb},pixelPosition:function(){null==Fb&&dc();return Fb},reliableMarginRight:function(){var f,b,k,g;if(null==Gb&&a.getComputedStyle){f=z.getElementsByTagName("body")[0];if(!f){return}b=z.createElement("div");k=z.createElement("div");b.style.cssText=bc;f.appendChild(b).appendChild(k);g=k.appendChild(z.createElement("div"));g.style.cssText=k.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";g.style.marginRight=g.style.width="0";k.style.width="1px";Gb=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight);f.removeChild(b)}return Gb}});g.swap=function(a,b,k,g){var c,e={};for(c in b){e[c]=a.style[c],a.style[c]=b[c]}k=k.apply(a,g||[]);for(c in b){a.style[c]=e[c]}return k};var ec=/alpha\([^)]*\)/i,Ed=/opacity\s*=\s*([^)]*)/,Fd=/^(none|table(?!-c[ea]).+)/,Zc=RegExp("^("+Ab+")(.*)$","i"),Gd=RegExp("^([+-])=("+Ab+")","i"),Hd={position:"absolute",visibility:"hidden",display:"block"},Jc={letterSpacing:0,fontWeight:400},oc=["Webkit","O","Moz","ms"];g.extend({cssHooks:{opacity:{get:function(a,b){if(b){var k=Oa(a,"opacity");return""===k?"1":k}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":v.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,k,c){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var e,d,m,t=g.camelCase(b),q=a.style;b=g.cssProps[t]||(g.cssProps[t]=gb(q,t));m=g.cssHooks[b]||g.cssHooks[t];if(void 0!==k){d=typeof k;if("string"===d&&(e=Gd.exec(k))){k=(e[1]+1)*e[2]+parseFloat(g.css(a,b)),d="number"}if(!(null==k||k!==k)){if("number"===d&&!g.cssNumber[t]&&(k+="px"),!v.clearCloneStyle&&(""===k&&0===b.indexOf("background"))&&(q[b]="inherit"),!m||!("set" in m)||void 0!==(k=m.set(a,k,c))){try{q[b]="",q[b]=k}catch(j){}}}}else{return m&&"get" in m&&void 0!==(e=m.get(a,!1,c))?e:q[b]}}},css:function(a,b,k,c){var e,d;d=g.camelCase(b);b=g.cssProps[d]||(g.cssProps[d]=gb(a.style,d));(d=g.cssHooks[b]||g.cssHooks[d])&&"get" in d&&(e=d.get(a,!0,k));void 0===e&&(e=Oa(a,b,c));"normal"===e&&b in Jc&&(e=Jc[b]);return""===k||k?(a=parseFloat(e),!0===k||g.isNumeric(a)?a||0:e):e}});g.each(["height","width"],function(a,b){g.cssHooks[b]={get:function(a,f,k){if(f){return 0===a.offsetWidth&&Fd.test(g.css(a,"display"))?g.swap(a,Hd,function(){return fa(a,b,k)}):fa(a,b,k)}},set:function(a,f,k){var c=k&&Na(a);return aa(a,f,k?ba(a,b,k,v.boxSizing()&&"border-box"===g.css(a,"boxSizing",!1,c),c):0)}}});v.opacity||(g.cssHooks.opacity={get:function(a,b){return Ed.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var k=a.style,c=a.currentStyle,e=g.isNumeric(b)?"alpha(opacity="+100*b+")":"",d=c&&c.filter||k.filter||"";k.zoom=1;if((1<=b||""===b)&&""===g.trim(d.replace(ec,""))&&k.removeAttribute){if(k.removeAttribute("filter"),""===b||c&&!c.filter){return}}k.filter=ec.test(d)?d.replace(ec,e):d+" "+e}});g.cssHooks.marginRight=pa(v.reliableMarginRight,function(a,b){if(b){return g.swap(a,{display:"inline-block"},Oa,[a,"marginRight"])}});g.each({margin:"",padding:"",border:"Width"},function(a,b){g.cssHooks[a+b]={expand:function(k){var g=0,c={};for(k="string"===typeof k?k.split(" "):[k];4>g;g++){c[a+Ma[g]+b]=k[g]||k[g-2]||k[0]}return c}};Ic.test(a)||(g.cssHooks[a+b].set=aa)});g.fn.extend({css:function(a,b){return Ta(this,function(a,f,b){var k,c={},e=0;if(g.isArray(f)){b=Na(a);for(k=f.length;e<k;e++){c[f[e]]=g.css(a,f[e],!1,b)}return c}return void 0!==b?g.style(a,f,b):g.css(a,f)},a,b,1<arguments.length)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){hb(this)?g(this).show():g(this).hide()})}});g.Tween=C;C.prototype={constructor:C,init:function(a,b,k,c,e,d){this.elem=a;this.prop=k;this.easing=e||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=d||(g.cssNumber[k]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,k=C.propHooks[this.prop];this.pos=this.options.duration?b=g.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);k&&k.set?k.set(this):C.propHooks._default.set(this);return this}};C.prototype.init.prototype=C.prototype;C.propHooks={_default:{get:function(a){if(null!=a.elem[a.prop]&&(!a.elem.style||null==a.elem.style[a.prop])){return a.elem[a.prop]}a=g.css(a.elem,a.prop,"");return !a||"auto"===a?0:a},set:function(a){if(g.fx.step[a.prop]){g.fx.step[a.prop](a)}else{a.elem.style&&(null!=a.elem.style[g.cssProps[a.prop]]||g.cssHooks[a.prop])?g.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}}};C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};g.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};g.fx=C.prototype.init;g.fx.step={};var Xa,Ib,Id=/^(?:toggle|show|hide)$/,Kc=RegExp("^(?:([+-])=|)("+Ab+")([a-z%]*)$","i"),Jd=/queueHooks$/,ub=[function(a,b,k){var c,e,d,m,t,q,j=this,u={},h=a.style,n=a.nodeType&&hb(a),y=g._data(a,"fxshow");k.queue||(m=g._queueHooks(a,"fx"),null==m.unqueued&&(m.unqueued=0,t=m.empty.fire,m.empty.fire=function(){m.unqueued||t()}),m.unqueued++,j.always(function(){j.always(function(){m.unqueued--;g.queue(a,"fx").length||m.empty.fire()})}));if(1===a.nodeType&&("height" in b||"width" in b)){k.overflow=[h.overflow,h.overflowX,h.overflowY],e=g.css(a,"display"),q=La(a.nodeName),"none"===e&&(e=q),"inline"===e&&"none"===g.css(a,"float")&&(!v.inlineBlockNeedsLayout||"inline"===q?h.display="inline-block":h.zoom=1)}k.overflow&&(h.overflow="hidden",v.shrinkWrapBlocks()||j.always(function(){h.overflow=k.overflow[0];h.overflowX=k.overflow[1];h.overflowY=k.overflow[2]}));for(c in b){if(e=b[c],Id.exec(e)){delete b[c];d=d||"toggle"===e;if(e===(n?"hide":"show")){if("show"===e&&y&&void 0!==y[c]){n=!0}else{continue}}u[c]=y&&y[c]||g.style(a,c)}}if(!g.isEmptyObject(u)){for(c in y?"hidden" in y&&(n=y.hidden):y=g._data(a,"fxshow",{}),d&&(y.hidden=!n),n?g(a).show():j.done(function(){g(a).hide()}),j.done(function(){var b;g._removeData(a,"fxshow");for(b in u){g.style(a,b,u[b])}}),u){b=ib(n?y[c]:0,c,j),c in y||(y[c]=b.start,n&&(b.end=b.start,b.start="width"===c||"height"===c?1:0))}}}],jb={"*":[function(a,b){var k=this.createTween(a,b),c=k.cur(),e=Kc.exec(b),d=e&&e[3]||(g.cssNumber[a]?"":"px"),m=(g.cssNumber[a]||"px"!==d&&+c)&&Kc.exec(g.css(k.elem,a)),t=1,q=20;if(m&&m[3]!==d){d=d||m[3];e=e||[];m=+c||1;do{t=t||".5",m/=t,g.style(k.elem,a,m+d)}while(t!==(t=k.cur()/c)&&1!==t&&--q)}e&&(m=k.start=+m||+c||0,k.unit=d,k.end=e[1]?m+(e[1]+1)*e[2]:+e[2]);return k}]};g.Animation=g.extend(tb,{tweener:function(a,b){g.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var k,c=0,e=a.length;c<e;c++){k=a[c],jb[k]=jb[k]||[],jb[k].unshift(b)}},prefilter:function(a,b){b?ub.unshift(a):ub.push(a)}});g.speed=function(a,b,k){var c=a&&"object"===typeof a?g.extend({},a):{complete:k||!k&&b||g.isFunction(a)&&a,duration:a,easing:k&&b||b&&!g.isFunction(b)&&b};c.duration=g.fx.off?0:"number"===typeof c.duration?c.duration:c.duration in g.fx.speeds?g.fx.speeds[c.duration]:g.fx.speeds._default;if(null==c.queue||!0===c.queue){c.queue="fx"}c.old=c.complete;c.complete=function(){g.isFunction(c.old)&&c.old.call(this);c.queue&&g.dequeue(this,c.queue)};return c};g.fn.extend({fadeTo:function(a,b,k,c){return this.filter(hb).css("opacity",0).show().end().animate({opacity:b},a,k,c)},animate:function(a,b,k,c){var e=g.isEmptyObject(a),d=g.speed(b,k,c);b=function(){var b=tb(this,g.extend({},a),d);(e||g._data(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===d.queue?this.each(b):this.queue(d.queue,b)},stop:function(a,b,k){var c=function(a){var b=a.stop;delete a.stop;b(k)};"string"!==typeof a&&(k=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",d=g.timers,m=g._data(this);if(e){m[e]&&m[e].stop&&c(m[e])}else{for(e in m){m[e]&&(m[e].stop&&Jd.test(e))&&c(m[e])}}for(e=d.length;e--;){if(d[e].elem===this&&(null==a||d[e].queue===a)){d[e].anim.stop(k),b=!1,d.splice(e,1)}}(b||!k)&&g.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,k=g._data(this),c=k[a+"queue"];b=k[a+"queueHooks"];var e=g.timers,d=c?c.length:0;k.finish=!0;g.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=e.length;b--;){e[b].elem===this&&e[b].queue===a&&(e[b].anim.stop(!0),e.splice(b,1))}for(b=0;b<d;b++){c[b]&&c[b].finish&&c[b].finish.call(this)}delete k.finish})}});g.each(["toggle","show","hide"],function(a,b){var k=g.fn[b];g.fn[b]=function(a,f,c){return null==a||"boolean"===typeof a?k.apply(this,arguments):this.animate(qa(b,!0),a,f,c)}});g.each({slideDown:qa("show"),slideUp:qa("hide"),slideToggle:qa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){g.fn[a]=function(a,f,k){return this.animate(b,a,f,k)}});g.timers=[];g.fx.tick=function(){var a,b=g.timers,k=0;for(Xa=g.now();k<b.length;k++){a=b[k],!a()&&b[k]===a&&b.splice(k--,1)}b.length||g.fx.stop();Xa=void 0};g.fx.timer=function(a){g.timers.push(a);a()?g.fx.start():g.timers.pop()};g.fx.interval=13;g.fx.start=function(){Ib||(Ib=setInterval(g.fx.tick,g.fx.interval))};g.fx.stop=function(){clearInterval(Ib);Ib=null};g.fx.speeds={slow:600,fast:200,_default:400};g.fn.delay=function(a,b){a=g.fx?g.fx.speeds[a]||a:a;return this.queue(b||"fx",function(b,k){var c=setTimeout(b,a);k.stop=function(){clearTimeout(c)}})};var Jb,Ga,fc,gc,qb=z.createElement("div");qb.setAttribute("className","t");qb.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Jb=qb.getElementsByTagName("a")[0];fc=z.createElement("select");gc=fc.appendChild(z.createElement("option"));Ga=qb.getElementsByTagName("input")[0];Jb.style.cssText="top:1px";v.getSetAttribute="t"!==qb.className;v.style=/top/.test(Jb.getAttribute("style"));v.hrefNormalized="/a"===Jb.getAttribute("href");v.checkOn=!!Ga.value;v.optSelected=gc.selected;v.enctype=!!z.createElement("form").enctype;fc.disabled=!0;v.optDisabled=!gc.disabled;Ga=z.createElement("input");Ga.setAttribute("value","");v.input=""===Ga.getAttribute("value");Ga.value="t";Ga.setAttribute("type","radio");v.radioValue="t"===Ga.value;var Kd=/\r/g;g.fn.extend({val:function(a){var b,k,c,e=this[0];if(arguments.length){return c=g.isFunction(a),this.each(function(k){if(1===this.nodeType&&(k=c?a.call(this,k,g(this).val()):a,null==k?k="":"number"===typeof k?k+="":g.isArray(k)&&(k=g.map(k,function(a){return null==a?"":a+""})),b=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()],!b||!("set" in b)||void 0===b.set(this,k,"value"))){this.value=k}})}if(e){if((b=g.valHooks[e.type]||g.valHooks[e.nodeName.toLowerCase()])&&"get" in b&&void 0!==(k=b.get(e,"value"))){return k}k=e.value;return"string"===typeof k?k.replace(Kd,""):null==k?"":k}}});g.extend({valHooks:{option:{get:function(a){var b=g.find.attr(a,"value");return null!=b?b:g.text(a)}},select:{get:function(a){for(var b,k=a.options,c=a.selectedIndex,e=(a="select-one"===a.type||0>c)?null:[],d=a?c+1:k.length,m=0>c?d:a?c:0;m<d;m++){if(b=k[m],(b.selected||m===c)&&(v.optDisabled?!b.disabled:null===b.getAttribute("disabled"))&&(!b.parentNode.disabled||!g.nodeName(b.parentNode,"optgroup"))){b=g(b).val();if(a){return b}e.push(b)}}return e},set:function(a,b){for(var k,c,e=a.options,d=g.makeArray(b),m=e.length;m--;){if(c=e[m],0<=g.inArray(g.valHooks.option.get(c),d)){try{c.selected=k=!0}catch(t){c.scrollHeight}}else{c.selected=!1}}k||(a.selectedIndex=-1);return e}}}});g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(a,b){if(g.isArray(b)){return a.checked=0<=g.inArray(g(a).val(),b)}}};v.checkOn||(g.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var eb,Lc,Ha=g.expr.attrHandle,hc=/^(?:checked|selected)$/i,Ua=v.getSetAttribute,Kb=v.input;g.fn.extend({attr:function(a,b){return Ta(this,g.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){g.removeAttr(this,a)})}});g.extend({attr:function(a,b,k){var c,e,d=a.nodeType;if(a&&!(3===d||8===d||2===d)){if(typeof a.getAttribute===ja){return g.prop(a,b,k)}if(1!==d||!g.isXMLDoc(a)){b=b.toLowerCase(),c=g.attrHooks[b]||(g.expr.match.bool.test(b)?Lc:eb)}if(void 0!==k){if(null===k){g.removeAttr(a,b)}else{if(c&&"set" in c&&void 0!==(e=c.set(a,k,b))){return e}a.setAttribute(b,k+"");return k}}else{if(c&&"get" in c&&null!==(e=c.get(a,b))){return e}e=g.find.attr(a,b);return null==e?void 0:e}}},removeAttr:function(a,b){var k,c,e=0,d=b&&b.match(va);if(d&&1===a.nodeType){for(;k=d[e++];){c=g.propFix[k]||k,g.expr.match.bool.test(k)?Kb&&Ua||!hc.test(k)?a[c]=!1:a[g.camelCase("default-"+k)]=a[c]=!1:g.attr(a,k,""),a.removeAttribute(Ua?k:c)}}},attrHooks:{type:{set:function(a,b){if(!v.radioValue&&"radio"===b&&g.nodeName(a,"input")){var k=a.value;a.setAttribute("type",b);k&&(a.value=k);return b}}}}});Lc={set:function(a,b,k){!1===b?g.removeAttr(a,k):Kb&&Ua||!hc.test(k)?a.setAttribute(!Ua&&g.propFix[k]||k,k):a[g.camelCase("default-"+k)]=a[k]=!0;return k}};g.each(g.expr.match.bool.source.match(/\w+/g),function(a,b){var k=Ha[b]||g.find.attr;Ha[b]=Kb&&Ua||!hc.test(b)?function(a,b,f){var c,g;f||(g=Ha[b],Ha[b]=c,c=null!=k(a,b,f)?b.toLowerCase():null,Ha[b]=g);return c}:function(a,b,f){if(!f){return a[g.camelCase("default-"+b)]?b.toLowerCase():null}}});if(!Kb||!Ua){g.attrHooks.value={set:function(a,b,k){if(g.nodeName(a,"input")){a.defaultValue=b}else{return eb&&eb.set(a,b,k)}}}}Ua||(eb={set:function(a,b,k){var c=a.getAttributeNode(k);c||a.setAttributeNode(c=a.ownerDocument.createAttribute(k));c.value=b+="";if("value"===k||b===a.getAttribute(k)){return b}}},Ha.id=Ha.name=Ha.coords=function(a,b,k){var c;if(!k){return(c=a.getAttributeNode(b))&&""!==c.value?c.value:null}},g.valHooks.button={get:function(a,b){var k=a.getAttributeNode(b);if(k&&k.specified){return k.value}},set:eb.set},g.attrHooks.contenteditable={set:function(a,b,k){eb.set(a,""===b?!1:b,k)}},g.each(["width","height"],function(a,b){g.attrHooks[b]={set:function(a,f){if(""===f){return a.setAttribute(b,"auto"),f}}}}));v.style||(g.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Ld=/^(?:input|select|textarea|button|object)$/i,Md=/^(?:a|area)$/i;g.fn.extend({prop:function(a,b){return Ta(this,g.prop,a,b,1<arguments.length)},removeProp:function(a){a=g.propFix[a]||a;return this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}});g.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,k){var c,e,d;d=a.nodeType;if(a&&!(3===d||8===d||2===d)){if(d=1!==d||!g.isXMLDoc(a)){b=g.propFix[b]||b,e=g.propHooks[b]}return void 0!==k?e&&"set" in e&&void 0!==(c=e.set(a,k,b))?c:a[b]=k:e&&"get" in e&&null!==(c=e.get(a,b))?c:a[b]}},propHooks:{tabIndex:{get:function(a){var b=g.find.attr(a,"tabindex");return b?parseInt(b,10):Ld.test(a.nodeName)||Md.test(a.nodeName)&&a.href?0:-1}}}});v.hrefNormalized||g.each(["href","src"],function(a,b){g.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});v.optSelected||(g.propHooks.selected={get:function(a){if(a=a.parentNode){a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}return null}});g.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){g.propFix[this.toLowerCase()]=this});v.enctype||(g.propFix.enctype="encoding");var ic=/[\t\r\n\f]/g;g.fn.extend({addClass:function(a){var b,k,c,e,d,m=0,t=this.length;b="string"===typeof a&&a;if(g.isFunction(a)){return this.each(function(b){g(this).addClass(a.call(this,b,this.className))})}if(b){for(b=(a||"").match(va)||[];m<t;m++){if(k=this[m],c=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(ic," "):" ")){for(d=0;e=b[d++];){0>c.indexOf(" "+e+" ")&&(c+=e+" ")}c=g.trim(c);k.className!==c&&(k.className=c)}}}return this},removeClass:function(a){var b,k,c,e,d,m=0,t=this.length;b=0===arguments.length||"string"===typeof a&&a;if(g.isFunction(a)){return this.each(function(b){g(this).removeClass(a.call(this,b,this.className))})}if(b){for(b=(a||"").match(va)||[];m<t;m++){if(k=this[m],c=1===k.nodeType&&(k.className?(" "+k.className+" ").replace(ic," "):"")){for(d=0;e=b[d++];){for(;0<=c.indexOf(" "+e+" ");){c=c.replace(" "+e+" "," ")}}c=a?g.trim(c):"";k.className!==c&&(k.className=c)}}}return this},toggleClass:function(a,b){var k=typeof a;return"boolean"===typeof b&&"string"===k?b?this.addClass(a):this.removeClass(a):g.isFunction(a)?this.each(function(k){g(this).toggleClass(a.call(this,k,this.className,b),b)}):this.each(function(){if("string"===k){for(var b,c=0,e=g(this),d=a.match(va)||[];b=d[c++];){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{if(k===ja||"boolean"===k){this.className&&g._data(this,"__className__",this.className),this.className=this.className||!1===a?"":g._data(this,"__className__")||""}}})},hasClass:function(a){a=" "+a+" ";for(var b=0,k=this.length;b<k;b++){if(1===this[b].nodeType&&0<=(" "+this[b].className+" ").replace(ic," ").indexOf(a)){return !0}}return !1}});g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){g.fn[b]=function(a,f){return 0<arguments.length?this.on(b,null,a,f):this.trigger(b)}});g.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,k){return this.on(a,null,b,k)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,k,c){return this.on(b,a,k,c)},undelegate:function(a,b,k){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",k)}});var jc=g.now(),kc=/\?/,Nd=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;g.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var k,c=null,e=g.trim(b+"");return e&&!g.trim(e.replace(Nd,function(a,b,f,g){k&&b&&(c=0);if(0===c){return a}k=f||b;c+=!g-!f;return""}))?Function("return "+e)():g.error("Invalid JSON: "+b)};g.parseXML=function(b){var k,c;if(!b||"string"!==typeof b){return null}try{a.DOMParser?(c=new DOMParser,k=c.parseFromString(b,"text/xml")):(k=new ActiveXObject("Microsoft.XMLDOM"),k.async="false",k.loadXML(b))}catch(e){k=void 0}(!k||!k.documentElement||k.getElementsByTagName("parsererror").length)&&g.error("Invalid XML: "+b);return k};var Va,Ia,Od=/#.*$/,Mc=/([?&])_=[^&]*/,Pd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Qd=/^(?:GET|HEAD)$/,Rd=/^\/\//,Nc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Oc={},Ob={},Pc="*/".concat("*");try{Ia=location.href}catch(ae){Ia=z.createElement("a"),Ia.href="",Ia=Ia.href}Va=Nc.exec(Ia.toLowerCase())||[];g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ia,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Va[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?D(D(a,g.ajaxSettings),b):D(g.ajaxSettings,a)},ajaxPrefilter:kb(Oc),ajaxTransport:kb(Ob),ajax:function(a,b){function k(a,b,f,c){var e,u,p,l;l=b;if(2!==ca){ca=2;t&&clearTimeout(t);j=void 0;m=c||"";E.readyState=0<a?4:0;c=200<=a&&300>a||304===a;if(f){p=h;for(var w=E,N,oa,r,F,O=p.contents,x=p.dataTypes;"*"===x[0];){x.shift(),void 0===oa&&(oa=p.mimeType||w.getResponseHeader("Content-Type"))}if(oa){for(F in O){if(O[F]&&O[F].test(oa)){x.unshift(F);break}}}if(x[0] in f){r=x[0]}else{for(F in f){if(!x[0]||p.converters[F+" "+x[0]]){r=F;break}N||(N=F)}r=r||N}r?(r!==x[0]&&x.unshift(r),p=f[r]):p=void 0}a:{f=h;N=p;oa=E;r=c;var bb,v,T,w={},O=f.dataTypes.slice();if(O[1]){for(v in f.converters){w[v.toLowerCase()]=f.converters[v]}}for(F=O.shift();F;){if(f.responseFields[F]&&(oa[f.responseFields[F]]=N),!T&&(r&&f.dataFilter)&&(N=f.dataFilter(N,f.dataType)),T=F,F=O.shift()){if("*"===F){F=T}else{if("*"!==T&&T!==F){v=w[T+" "+F]||w["* "+F];if(!v){for(bb in w){if(p=bb.split(" "),p[1]===F&&(v=w[T+" "+p[0]]||w["* "+p[0]])){!0===v?v=w[bb]:!0!==w[bb]&&(F=p[0],O.unshift(p[1]));break}}}if(!0!==v){if(v&&f["throws"]){N=v(N)}else{try{N=v(N)}catch(sa){p={state:"parsererror",error:v?sa:"No conversion from "+T+" to "+F};break a}}}}}}}p={state:"success",data:N}}if(c){h.ifModified&&((l=E.getResponseHeader("Last-Modified"))&&(g.lastModified[d]=l),(l=E.getResponseHeader("etag"))&&(g.etag[d]=l)),204===a||"HEAD"===h.type?l="nocontent":304===a?l="notmodified":(l=p.state,e=p.data,u=p.error,c=!u)}else{if(u=l,a||!l){l="error",0>a&&(a=0)}}E.status=a;E.statusText=(b||l)+"";c?B.resolveWith(n,[e,l,E]):B.rejectWith(n,[E,l,u]);E.statusCode(s);s=void 0;q&&y.trigger(c?"ajaxSuccess":"ajaxError",[E,h,c?e:u]);ga.fireWith(n,[E,l]);q&&(y.trigger("ajaxComplete",[E,h]),--g.active||g.event.trigger("ajaxStop"))}}"object"===typeof a&&(b=a,a=void 0);b=b||{};var c,e,d,m,t,q,j,u,h=g.ajaxSetup({},b),n=h.context||h,y=h.context&&(n.nodeType||n.jquery)?g(n):g.event,B=g.Deferred(),ga=g.Callbacks("once memory"),s=h.statusCode||{},l={},N={},ca=0,oa="canceled",E={readyState:0,getResponseHeader:function(a){var b;if(2===ca){if(!u){for(u={};b=Pd.exec(m);){u[b[1].toLowerCase()]=b[2]}}b=u[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===ca?m:null},setRequestHeader:function(a,b){var f=a.toLowerCase();ca||(a=N[f]=N[f]||a,l[a]=b);return this},overrideMimeType:function(a){ca||(h.mimeType=a);return this},statusCode:function(a){var b;if(a){if(2>ca){for(b in a){s[b]=[s[b],a[b]]}}else{E.always(a[E.status])}}return this},abort:function(a){a=a||oa;j&&j.abort(a);k(0,a);return this}};B.promise(E).complete=ga.add;E.success=E.done;E.error=E.fail;h.url=((a||h.url||Ia)+"").replace(Od,"").replace(Rd,Va[1]+"//");h.type=b.method||b.type||h.method||h.type;h.dataTypes=g.trim(h.dataType||"*").toLowerCase().match(va)||[""];null==h.crossDomain&&(c=Nc.exec(h.url.toLowerCase()),h.crossDomain=!(!c||!(c[1]!==Va[1]||c[2]!==Va[2]||(c[3]||("http:"===c[1]?"80":"443"))!==(Va[3]||("http:"===Va[1]?"80":"443")))));h.data&&(h.processData&&"string"!==typeof h.data)&&(h.data=g.param(h.data,h.traditional));ra(Oc,h,b,E);if(2===ca){return E}(q=h.global)&&0===g.active++&&g.event.trigger("ajaxStart");h.type=h.type.toUpperCase();h.hasContent=!Qd.test(h.type);d=h.url;h.hasContent||(h.data&&(d=h.url+=(kc.test(d)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=Mc.test(d)?d.replace(Mc,"$1_="+jc++):d+(kc.test(d)?"&":"?")+"_="+jc++));h.ifModified&&(g.lastModified[d]&&E.setRequestHeader("If-Modified-Since",g.lastModified[d]),g.etag[d]&&E.setRequestHeader("If-None-Match",g.etag[d]));(h.data&&h.hasContent&&!1!==h.contentType||b.contentType)&&E.setRequestHeader("Content-Type",h.contentType);E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Pc+"; q=0.01":""):h.accepts["*"]);for(e in h.headers){E.setRequestHeader(e,h.headers[e])}if(h.beforeSend&&(!1===h.beforeSend.call(n,E,h)||2===ca)){return E.abort()}oa="abort";for(e in {success:1,error:1,complete:1}){E[e](h[e])}if(j=ra(Ob,h,b,E)){E.readyState=1;q&&y.trigger("ajaxSend",[E,h]);h.async&&0<h.timeout&&(t=setTimeout(function(){E.abort("timeout")},h.timeout));try{ca=1,j.send(l,k)}catch(r){if(2>ca){k(-1,r)}else{throw r}}}else{k(-1,"No Transport")}return E},getJSON:function(a,b,k){return g.get(a,b,k,"json")},getScript:function(a,b){return g.get(a,void 0,b,"script")}});g.each(["get","post"],function(a,b){g[b]=function(a,f,k,c){g.isFunction(f)&&(c=c||k,k=f,f=void 0);return g.ajax({url:a,type:b,dataType:c,data:f,success:k})}});g.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){g.fn[b]=function(a){return this.on(b,a)}});g._evalUrl=function(a){return g.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})};g.fn.extend({wrapAll:function(a){if(g.isFunction(a)){return this.each(function(b){g(this).wrapAll(a.call(this,b))})}if(this[0]){var b=g(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return g.isFunction(a)?this.each(function(b){g(this).wrapInner(a.call(this,b))}):this.each(function(){var b=g(this),k=b.contents();k.length?k.wrapAll(a):b.append(a)})},wrap:function(a){var b=g.isFunction(a);return this.each(function(k){g(this).wrapAll(b?a.call(this,k):a)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()}});g.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!v.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||g.css(a,"display"))};g.expr.filters.visible=function(a){return !g.expr.filters.hidden(a)};var Sd=/%20/g,ad=/\[\]$/,Qc=/\r?\n/g,Td=/^(?:submit|button|image|reset|file)$/i,Ud=/^(?:input|select|textarea|keygen)/i;g.param=function(a,b){var k,c=[],e=function(a,b){b=g.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};void 0===b&&(b=g.ajaxSettings&&g.ajaxSettings.traditional);if(g.isArray(a)||a.jquery&&!g.isPlainObject(a)){g.each(a,function(){e(this.name,this.value)})}else{for(k in a){V(k,a[k],b,e)}}return c.join("&").replace(Sd,"+")};g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=g.prop(this,"elements");return a?g.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!g(this).is(":disabled")&&Ud.test(this.nodeName)&&!Td.test(a)&&(this.checked||!Nb.test(a))}).map(function(a,b){var k=g(this).val();return null==k?null:g.isArray(k)?g.map(k,function(a){return{name:b.name,value:a.replace(Qc,"\r\n")}}):{name:b.name,value:k.replace(Qc,"\r\n")}}).get()}});g.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&k())){a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}b=void 0}}return b}:k;g.ajaxSettings.xhr=void 0===a.ActiveXObject?W:function(){return(this.url==z.location||0==this.url.indexOf("http")||!this.isLocal)&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||W(1)};var Vd=0,Lb={},Mb=g.ajaxSettings.xhr();if(a.ActiveXObject){g(a).on("unload",function(){for(var a in Lb){Lb[a](void 0,!0)}})}v.cors=!!Mb&&"withCredentials" in Mb;(Mb=v.ajax=!!Mb)&&g.ajaxTransport(function(a){if(!a.crossDomain||v.cors){var b;return{send:function(k,c){var e,d=a.xhr(),m=++Vd;console.log("xhr.open async="+a.async+" url="+a.url);d.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields){for(e in a.xhrFields){d[e]=a.xhrFields[e]}}a.mimeType&&d.overrideMimeType&&d.overrideMimeType(a.mimeType);!a.crossDomain&&!k["X-Requested-With"]&&(k["X-Requested-With"]="XMLHttpRequest");for(e in k){void 0!==k[e]&&d.setRequestHeader(e,k[e]+"")}d.send(a.hasContent&&a.data||null);b=function(k,e){var t,q,h;if(b&&(e||4===d.readyState)){if(delete Lb[m],b=void 0,d.onreadystatechange=g.noop,e){4!==d.readyState&&d.abort()}else{h={};t=d.status;"string"===typeof d.responseText&&(h.text=d.responseText);try{q=d.statusText}catch(j){q=""}!t&&a.isLocal&&!a.crossDomain?t=h.text?200:404:1223===t&&(t=204)}}h&&c(t,q,h,d.getAllResponseHeaders())};a.async?4===d.readyState?setTimeout(b):d.onreadystatechange=Lb[m]=b:b()},abort:function(){b&&b(void 0,!0)}}}});g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){g.globalEval(a);return a}}});g.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});g.ajaxTransport("script",function(a){if(a.crossDomain){var b,k=z.head||g("head")[0]||z.documentElement;return{send:function(c,g){b=z.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,k){if(k||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,k||g(200,"success")}};k.insertBefore(b,k.firstChild)},abort:function(){if(b){b.onload(void 0,!0)}}}}});var Rc=[],lc=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Rc.pop()||g.expando+"_"+jc++;this[a]=!0;return a}});g.ajaxPrefilter("json jsonp",function(b,k,c){var e,d,m,t=!1!==b.jsonp&&(lc.test(b.url)?"url":"string"===typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&lc.test(b.data)&&"data");if(t||"jsonp"===b.dataTypes[0]){return e=b.jsonpCallback=g.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,t?b[t]=b[t].replace(lc,"$1"+e):!1!==b.jsonp&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){m||g.error(e+" was not called");return m[0]},b.dataTypes[0]="json",d=a[e],a[e]=function(){m=arguments},c.always(function(){a[e]=d;b[e]&&(b.jsonpCallback=k.jsonpCallback,Rc.push(e));m&&g.isFunction(d)&&d(m[0]);m=d=void 0}),"script"}});g.parseHTML=function(a,b,k){if(!a||"string"!==typeof a){return null}"boolean"===typeof b&&(k=b,b=!1);b=b||z;var c=xc.exec(a);k=!k&&[];if(c){return[b.createElement(c[1])]}c=g.buildFragment([a],b,k);k&&k.length&&g(k).remove();return g.merge([],c.childNodes)};var Sc=g.fn.load;g.fn.load=function(a,b,k){if("string"!==typeof a&&Sc){return Sc.apply(this,arguments)}var c,e,d,m=this,t=a.indexOf(" ");0<=t&&(c=a.slice(t,a.length),a=a.slice(0,t));g.isFunction(b)?(k=b,b=void 0):b&&"object"===typeof b&&(d="POST");0<m.length&&g.ajax({url:a,type:d,dataType:"html",data:b}).done(function(a){e=arguments;m.html(c?g("<div>").append(g.parseHTML(a)).find(c):a)}).complete(k&&function(a,b){m.each(k,e||[a.responseText,b,a])});return this};g.expr.filters.animated=function(a){return g.grep(g.timers,function(b){return a===b.elem}).length};var Tc=a.document.documentElement;g.offset={setOffset:function(a,b,k){var c,e,d,m=g.css(a,"position"),t=g(a),h={};"static"===m&&(a.style.position="relative");d=t.offset();e=g.css(a,"top");c=g.css(a,"left");("absolute"===m||"fixed"===m)&&-1<g.inArray("auto",[e,c])?(c=t.position(),e=c.top,c=c.left):(e=parseFloat(e)||0,c=parseFloat(c)||0);g.isFunction(b)&&(b=b.call(a,k,d));null!=b.top&&(h.top=b.top-d.top+e);null!=b.left&&(h.left=b.left-d.left+c);"using" in b?b.using.call(a,h):t.css(h)}};g.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){g.offset.setOffset(this,a,b)})}var b,k,c={top:0,left:0},e=(k=this[0])&&k.ownerDocument;if(e){b=e.documentElement;if(!g.contains(b,k)){return c}typeof k.getBoundingClientRect!==ja&&(c=k.getBoundingClientRect());k=t(e);return{top:c.top+(k.pageYOffset||b.scrollTop)-(b.clientTop||0),left:c.left+(k.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}}},position:function(){if(this[0]){var a,b,k={top:0,left:0},c=this[0];"fixed"===g.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),g.nodeName(a[0],"html")||(k=a.offset()),k.top+=g.css(a[0],"borderTopWidth",!0),k.left+=g.css(a[0],"borderLeftWidth",!0));return{top:b.top-k.top-g.css(c,"marginTop",!0),left:b.left-k.left-g.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Tc;a&&!g.nodeName(a,"html")&&"static"===g.css(a,"position");){a=a.offsetParent}return a||Tc})}});g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var k=/Y/.test(b);g.fn[a]=function(c){return Ta(this,function(a,f,c){var e=t(a);if(void 0===c){return e?b in e?e[b]:e.document.documentElement[f]:a[f]}e?e.scrollTo(!k?c:g(e).scrollLeft(),k?c:g(e).scrollTop()):a[f]=c},a,c,arguments.length,null)}});g.each(["top","left"],function(a,b){g.cssHooks[b]=pa(v.pixelPosition,function(a,k){if(k){return k=Oa(a,b),sb.test(k)?g(a).position()[b]+"px":k}})});g.each({Height:"height",Width:"width"},function(a,b){g.each({padding:"inner"+a,content:b,"":"outer"+a},function(k,c){g.fn[c]=function(c,e){var d=arguments.length&&(k||"boolean"!==typeof c),m=k||(!0===c||!0===e?"margin":"border");return Ta(this,function(b,k,c){return g.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(k=b.documentElement,Math.max(b.body["scroll"+a],k["scroll"+a],b.body["offset"+a],k["offset"+a],k["client"+a])):void 0===c?g.css(b,k,m):g.style(b,k,c,m)},b,d?c:void 0,d,null)}})});g.fn.size=function(){return this.length};g.fn.andSelf=g.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return g});var Wd=a.jQuery,Xd=a.$;g.noConflict=function(b){a.$===g&&(a.$=Xd);b&&a.jQuery===g&&(a.jQuery=Wd);return g};typeof l===ja&&(a.jQuery=a.$=g);return g});(function(d){function a(c){try{return c?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest}catch(b){}}d.ajaxSettings.xhr=void 0===window.ActiveXObject?a:function(){return(this.url==document.location||0==this.url.indexOf("http")||!this.isLocal)&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&a()||a(1)};d.ajaxTransport("+script",function(j){var c,b=document.head||jQuery("head")[0]||document.documentElement;return{send:function(h,f){c=document.createElement("script");j.scriptCharset&&(c.charset=j.scriptCharset);c.src=j.url;c.onload=c.onreadystatechange=function(i,l){if(l||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,l||f(200,"success")}};b.insertBefore(c,b.firstChild)},abort:function(){if(c){c.onload(void 0,!0)}}}});d.extend(d.support,{iecors:!!window.XDomainRequest});d.support.iecors?d.ajaxTransport(function(b){return{send:function(c,j){var i=new window.XDomainRequest;i.onload=function(){j(200,"OK",{text:i.responseText},{"Content-Type":i.contentType})};b.xhrFields&&(i.onerror=b.xhrFields.error,i.ontimeout=b.xhrFields.timeout);i.open(b.type,b.url);i.send(b.hasContent&&b.data||null)},abort:function(){xdr.abort()}}}):(d.ajaxSetup({accepts:{binary:"text/plain; charset=x-user-defined"},responseFields:{binary:"response"}}),d.ajaxTransport("binary",function(c){var b;return{send:function(f,t){var r=c.xhr();console.log("xhr.open binary async="+c.async+" url="+c.url);r.open(c.type,c.url,c.async);var s=!1;try{r.hasOwnProperty("responseType")&&(r.responseType="arraybuffer",s=!0)}catch(l){}try{!s&&r.overrideMimeType&&r.overrideMimeType("text/plain; charset=x-user-defined")}catch(n){}!c.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(var u in f){r.setRequestHeader(u,f[u])}}catch(q){}r.send(c.hasContent&&c.data||null);b=function(){var A=r.status,o="",h=r.getAllResponseHeaders(),p={};try{if(b&&4===r.readyState){b=void 0;try{p.text="string"===typeof r.responseText?r.responseText:null}catch(i){}try{p.binary=r.response}catch(m){}try{o=r.statusText}catch(j){o=""}!A&&c.isLocal&&!c.crossDomain?A=p.text?200:404:1223===A&&(A=204);t(A,o,p,h)}}catch(k){alert(k),t(-1,k)}};c.async?4===r.readyState?setTimeout(b):r.onreadystatechange=b:b()},abort:function(){}}}))})(jQuery);(function(l,a,h,j){function d(k,i){function f(m){l(c).each(function(){self.Jmol&&(0<=i.indexOf("mouseup")||0<=i.indexOf("touchend"))&&Jmol._setMouseOwner(null);var n=l(this);this!==m.target&&!n.has(m.target).length&&n.triggerHandler(i,[m.target,m])})}i=i||k+j;var c=l(),b=k+"."+i+"-special-event";l.event.special[i]={setup:function(){c=c.add(this);1===c.length&&l(a).bind(b,f)},teardown:function(){self.Jmol&&Jmol._setMouseOwner(null);c=c.not(this);0===c.length&&l(a).unbind(b)},add:function(m){var n=m.handler;m.handler=function(r,q){r.target=q;n.apply(this,arguments)}}}}l.map(h.split(" "),function(b){d(b)});d("focusin","focus"+j);d("focusout","blur"+j)})(jQuery,document,"click mousemove mouseup touchmove touchend","outjsmol");"undefined"==typeof jQuery&&alert("Note -- JSmoljQuery is required for JSmol, but it's not defined.");self.Jmol||(Jmol={});Jmol._version||(Jmol=function(h){var a=function(b){return{rear:b++,header:b++,main:b++,image:b++,front:b++,fileOpener:b++,coverImage:b++,dialog:b++,menu:b+90000,console:b+91000,consoleImage:b+91001,monitorZIndex:b+99999}},a={_version:"$Date: 2015-06-19 03:42:03 -0500 (Fri, 19 Jun 2015) $",_alertNoBinary:!0,_allowedJmolSize:[25,2048,300],_appletCssClass:"",_appletCssText:"",_fileCache:null,_jarFile:null,_j2sPath:null,_use:null,_j2sLoadMonitorOpacity:90,_applets:{},_asynchronous:!0,_ajaxQueue:[],_getZOrders:a,_z:a(Jmol.z||9000),_debugCode:!0,db:{_databasePrefixes:"$=:",_fileLoadScript:";if (_loadScript = '' && defaultLoadScript == '' && _filetype == 'Pdb') { select protein or nucleic;cartoons Only;color structure; select * };",_nciLoadScript:";n = ({molecule=1}.length < {molecule=2}.length ? 2 : 1); select molecule=n;display selected;center selected;",_pubChemLoadScript:"",_DirectDatabaseCalls:{"cactus.nci.nih.gov":"%URL","www.rcsb.org":"%URL","pdbe.org":"%URL","www.ebi.ac.uk":"%URL","wwwdev.ebi.ac.uk":"%URL","pubchem.ncbi.nlm.nih.gov":"%URL","http://www.nmrdb.org/tools/jmol/predict.php":"%URL",$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf&get3d=True",$$:"http://cactus.nci.nih.gov/chemical/structure/%FILENCI/file?format=sdf","=":"http://www.rcsb.org/pdb/files/%FILE.pdb","*":"http://www.ebi.ac.uk/pdbe/entry-files/download/%FILE.cif","==":"http://www.rcsb.org/pdb/files/ligand/%FILE.cif",":":"http://pubchem.ncbi.nlm.nih.gov/rest/pug/compound/%FILE/SDF?record_type=3d"},_restQueryUrl:"http://www.rcsb.org/pdb/rest/search",_restQueryXml:"<orgPdbQuery><queryType>org.pdb.query.simple.AdvancedKeywordQuery</queryType><description>Text Search</description><keywords>QUERY</keywords></orgPdbQuery>",_restReportUrl:"http://www.pdb.org/pdb/rest/customReport?pdbids=IDLIST&customReportColumns=structureId,structureTitle"},_debugAlert:!1,_document:h,_isXHTML:!1,_lastAppletID:null,_mousePageX:null,_mouseOwner:null,_serverUrl:"http://your.server.here/jsmol.php",_syncId:(""+Math.random()).substring(3),_touching:!1,_XhtmlElement:null,_XhtmlAppendChild:!1};h=h.location.href.toLowerCase();a._httpProto=0==h.indexOf("https")?"https://":"http://";a._isFile=0==h.indexOf("file:");a._ajaxTestSite=a._httpProto+"google.com";h=a._isFile||0==h.indexOf("http://localhost")||0==h.indexOf("http://127.");a._tracker="http://"==a._httpProto&&!h&&"http://chemapps.stolaf.edu/jmol/JmolTracker.htm?id=UA-45940799-1";a._isChrome=0<=navigator.userAgent.toLowerCase().indexOf("chrome");a._isSafari=!a._isChrome&&0<=navigator.userAgent.toLowerCase().indexOf("safari");a._isMsie=void 0!==window.ActiveXObject;a._useDataURI=!a._isSafari&&!a._isMsie;for(var f in Jmol){a[f]=Jmol[f]}return a}(document,Jmol));(function(a,l){l(document).ready(function(){a._document=null});a.$=function(a,e){null==a&&alert(e+arguments.callee.caller.toString());return l(e?"#"+a._id+"_"+e:a)};a._$=function(a){return"string"==typeof a?l("#"+a):a};a.$ajax=function(b){a._ajaxCall=b.url;b.cache="NO"!=b.cache;0==b.url.indexOf("http://pubchem.ncbi.nlm.nih")&&(b.url="https://"+b.url.substring(7));return l.ajax(b)};a._getNCIInfo=function(b,e){return a._getFileData("http://cactus.nci.nih.gov/chemical/structure/"+b+"/"+("name"==e?"names":e))};a.$appEvent=function(b,e,c,d){b=a.$(b,e);b.off(c)&&d&&b.on(c,d)};a.$resize=function(a){return l(window).resize(a)};a.$after=function(a,e){return l(a).after(e)};a.$append=function(a,e){return l(a).append(e)};a.$bind=function(a,e,c){return c?l(a).bind(e,c):l(a).unbind(e)};a.$closest=function(a,e){return l(a).closest(e)};a.$get=function(a,e){return l(a).get(e)};a.$documentOff=function(a,e){return l(document).off(a,"#"+e)};a.$documentOn=function(a,e,c){return l(document).on(a,"#"+e,c)};a.$getAncestorDiv=function(a,e){return l("div."+e+":has(#"+a+")")[0]};a.$supportsIECrossDomainScripting=function(){return l.support.iecors};a.$attr=function(b,e,c){return a._$(b).attr(e,c)};a.$css=function(b,e){return a._$(b).css(e)};a.$find=function(b,e){return a._$(b).find(e)};a.$focus=function(b){return a._$(b).focus()};a.$html=function(b,e){return a._$(b).html(e)};a.$offset=function(b){return a._$(b).offset()};a.$windowOn=function(a,e){return l(window).on(a,e)};a.$prop=function(b,e,c){var d=a._$(b);return 3==arguments.length?d.prop(e,c):d.prop(e)};a.$remove=function(b){return a._$(b).remove()};a.$scrollTo=function(b,e){var c=a._$(b);return c.scrollTop(0>e?c[0].scrollHeight:e)};a.$setEnabled=function(b,e){return a._$(b).attr("disabled",e?null:"disabled")};a.$setSize=function(b,e,c){return a._$(b).width(e).height(c)};a.$setVisible=function(b,e){var c=a._$(b);return e?c.show():c.hide()};a.$submit=function(b){return a._$(b).submit()};a.$val=function(b,e){var c=a._$(b);return 1==arguments.length?c.val():c.val(e)};a._clearVars=function(){delete jQuery;delete l;delete a;delete SwingController;delete J;delete JM;delete JS;delete JSV;delete JU;delete JV;delete java;delete javajs;delete Clazz;delete c$};var h=document,j=window,d={};d.ua=navigator.userAgent.toLowerCase();var n;a:{n=["linux","unix","mac","win"];for(var s=n.length;s--;){if(-1!=d.ua.indexOf(n[s])){n=n[s];break a}}n="unknown"}d.os=n;d.browser=function(){for(var a=d.ua,e="konqueror webkit omniweb opera webtv icab msie mozilla".split(" "),c=0;c<e.length;c++){if(0<=a.indexOf(e[c])){return e[c]}}return"unknown"};d.browserName=d.browser();d.browserVersion=parseFloat(d.ua.substring(d.ua.indexOf(d.browserName)+d.browserName.length+1));d.supportsXhr2=function(){return l.support.cors||l.support.iecors};d.allowDestroy="msie"!=d.browserName;d.allowHTML5="msie"!=d.browserName||0>navigator.appVersion.indexOf("MSIE 8");d.getDefaultLanguage=function(){return navigator.language||navigator.userLanguage||"en-US"};d._webGLtest=0;d.supportsWebGL=function(){if(!a.featureDetection._webGLtest){var b;a.featureDetection._webGLtest=j.WebGLRenderingContext&&((b=h.createElement("canvas")).getContext("webgl")||b.getContext("experimental-webgl"))?1:-1}return 0<a.featureDetection._webGLtest};d.supportsLocalization=function(){for(var a=h.getElementsByTagName("meta"),e=a.length;0<=--e;){if(0<=a[e].outerHTML.toLowerCase().indexOf("utf-8")){return !0}}return !1};d.supportsJava=function(){a.featureDetection._javaEnabled||(a.featureDetection._javaEnabled=a._isMsie?navigator.javaEnabled()?1:-1:navigator.javaEnabled()&&(!navigator.mimeTypes||navigator.mimeTypes["application/x-java-applet"])?1:-1);return 0<a.featureDetection._javaEnabled};d.compliantBrowser=function(){var a=!!h.getElementById,e=d.os;if("opera"==d.browserName&&7.54>=d.browserVersion&&"mac"==e||"webkit"==d.browserName&&125.12>d.browserVersion||"msie"==d.browserName&&"mac"==e||"konqueror"==d.browserName&&3.3>=d.browserVersion){a=!1}return a};d.isFullyCompliant=function(){return d.compliantBrowser()&&d.supportsJava()};d.useIEObject="win"==d.os&&"msie"==d.browserName&&5.5<=d.browserVersion;d.useHtml4Object="mozilla"==d.browserName&&5<=d.browserVersion||"opera"==d.browserName&&8<=d.browserVersion||"webkit"==d.browserName;d.hasFileReader=j.File&&j.FileReader;a.featureDetection=d;a._ajax=function(b){if(!b.async){return a.$ajax(b).responseText}a._ajaxQueue.push(b);1==a._ajaxQueue.length&&a._ajaxDone()};a._ajaxDone=function(){var b=a._ajaxQueue.shift();b&&a.$ajax(b)};a._grabberOptions=[["$","NCI(small molecules)"],[":","PubChem(small molecules)"],["=","RCSB(macromolecules)"],["*","PDBe(macromolecules)"]];a._getGrabberOptions=function(b){if(0==a._grabberOptions.length){return""}var e='<input type="text" id="ID_query" onfocus="jQuery(this).select()" onkeypress="if(13==event.which){Jmol._applets[\'ID\']._search();return false}" size="32" value="" />',c='<button id="ID_submit" onclick="Jmol._applets[\'ID\']._search()">Search</button></nobr>';1==a._grabberOptions.length?(e="<nobr>"+e+'<span style="display:none">',c="</span>"+c):e+="<br /><nobr>";for(var e=e+'<select id="ID_select">',d=0;d<a._grabberOptions.length;d++){var h=a._grabberOptions[d],e=e+('<option value="'+h[0]+'" '+(0==d?"selected":"")+">"+h[1]+"</option>")}e=(e+"</select>"+c).replace(/ID/g,b._id);return"<br />"+e};a._getScriptForDatabase=function(b){return"$"==b?a.db._nciLoadScript:":"==b?a.db._pubChemLoadScript:a.db._fileLoadScript};a._setInfo=function(a,e,c){var d=[],h="";if(0==c.indexOf("ERROR")){h=c}else{switch(e){case"=":e=c.split("<dimStructure.structureId>");d=["<table>"];for(c=1;c<e.length;c++){d.push('<tr><td valign=top><a href="javascript:Jmol.search('+a._id+",'="+e[c].substring(0,4)+"')\">"+e[c].substring(0,4)+"</a></td>"),d.push("<td>"+e[c].split("Title>")[1].split("</")[0]+"</td></tr>")}d.push("</table>");h=e.length-1+" matches";break;case"$":case":":break;default:return}}a._infoHeader=h;a._info=d.join("");a._showInfo(!0)};a._loadSuccess=function(b,e){e&&(a._ajaxDone(),e(b))};a._loadError=function(b){a._ajaxDone();a.say("Error connecting to server: "+a._ajaxCall);null!=b&&b()};a._isDatabaseCall=function(b){return 0<=a.db._databasePrefixes.indexOf(b.substring(0,1))};a._getDirectDatabaseCall=function(b,e){if(e&&!a.featureDetection.supportsXhr2()){return b}var c=2,d,h=a.db._DirectDatabaseCalls[b.substring(0,c)];h||(h=a.db._DirectDatabaseCalls[d=b.substring(0,--c)]);h&&(":"==d?(d=b.toLowerCase(),isNaN(parseInt(b.substring(1)))?0==d.indexOf(":smiles:")?(h+="?POST?smiles="+b.substring(8),b="smiles"):0==d.indexOf(":cid:")?b="cid/"+b.substring(5):(0==d.indexOf(":name:")?b=b.substring(5):0==d.indexOf(":cas:")&&(b=b.substring(4)),b="name/"+encodeURIComponent(b.substring(c))):b="cid/"+b.substring(1)):b=encodeURIComponent(b.substring(c)),0<=h.indexOf("FILENCI")?(b=b.replace(/\%2F/g,"/"),b=h.replace(/\%FILENCI/,b)):b=h.replace(/\%FILE/,b));return b};a._getRawDataFromServer=function(b,e,c,d,h,j){b="?call=getRawDataFromDatabase&database="+b+(0<=e.indexOf("?POST?")?"?POST?":"")+"&query="+encodeURIComponent(e)+(h?"&encoding=base64":"")+(j?"":"&script="+encodeURIComponent(a._getScriptForDatabase(b)));return a._contactServer(b,c,d)};a._checkFileName=function(b,e,c){a._isDatabaseCall(e)&&(c&&a._setQueryTerm(b,e),e=a._getDirectDatabaseCall(e,!0),a._isDatabaseCall(e)&&(e=a._getDirectDatabaseCall(e,!1),c&&(c[0]=!0)));return e};a._checkCache=function(b,e,c){if(b._cacheFiles&&a._fileCache&&!e.endsWith(".js")){if(b=a._fileCache[e]){return System.out.println("using "+b.length+" bytes of cached data for "+e),c(b),null}c=function(b,e){c(a._fileCache[b]=e)}}return c};a._loadFileData=function(b,e,c,d){var h=[];e=a._checkFileName(b,e,h);c=a._checkCache(b,e,c);h[0]?a._getRawDataFromServer("_",e,c,d):(b={type:"GET",dataType:"text",url:e,async:a._asynchronous,success:function(b){a._loadSuccess(b,c)},error:function(){a._loadError(d)}},a._checkAjaxPost(b),a._ajax(b))};a._getInfoFromDatabase=function(b,e,c){if("===="==e){var d=a.db._restQueryXml.replace(/QUERY/,c),d={dataType:"text",type:"POST",contentType:"application/x-www-form-urlencoded",url:a.db._restQueryUrl,data:encodeURIComponent(d)+"&req=browser",success:function(d){a._ajaxDone();a._extractInfoFromRCSB(b,e,c,d)},error:function(){a._loadError(null)},async:a._asynchronous};return a._ajax(d)}c="?call=getInfoFromDatabase&database="+e+"&query="+encodeURIComponent(c);return a._contactServer(c,function(c){a._setInfo(b,e,c)})};a._extractInfoFromRCSB=function(b,e,c,d){var h=d.length/5;if(0!=h&&4==c.length&&1!=h){c=c.toUpperCase();var j=d.indexOf(c);0<j&&0<="123456789".indexOf(c.substring(0,1))&&(d=c+","+d.substring(0,j)+d.substring(j+5));50<h&&(d=d.substring(0,250));d=d.replace(/\n/g,",");d=a._restReportUrl.replace(/IDLIST/,d);a._loadFileData(b,d,function(c){a._setInfo(b,e,c)})}};a._checkAjaxPost=function(a){var e=a.url.indexOf("?POST?");0<e&&(a.data=a.url.substring(e+6),a.url=a.url.substring(0,e),a.type="POST",a.contentType="application/x-www-form-urlencoded")};a._contactServer=function(b,e,c){b={dataType:"text",type:"GET",url:a._serverUrl+b,success:function(b){a._loadSuccess(b,e)},error:function(){a._loadError(c)},async:e?a._asynchronous:!1};a._checkAjaxPost(b);return a._ajax(b)};a._setQueryTerm=function(b,e){if(e&&b._hasOptions&&"http://"!=e.substring(0,7)){if(a._isDatabaseCall(e)){var c=e.substring(0,1);e=e.substring(1);e.substring(0,1)==c&&0<="=$".indexOf(c)&&(e=e.substring(1));var d=a._getElement(b,"select");if(d&&d.options){for(var h=0;h<d.options.length;h++){d[h].value==c&&(d[h].selected=!0)}}}a.$val(a.$(b,"query"),e)}};a._search=function(b,e,c){1<arguments.length||(e=null);a._setQueryTerm(b,e);e||(e=a.$val(a.$(b,"query")));0==e.indexOf("!")?b._script(e.substring(1)):(e&&(e=e.replace(/\"/g,"")),b._showInfo(!1),a._searchMol(b,e,c,!0))};a._searchMol=function(b,e,c,d){var h;a._isDatabaseCall(e)?(h=e.substring(0,1),e=e.substring(1)):h=b._hasOptions?a.$val(a.$(b,"select")):"$";"="==h&&3==e.length&&(e="="+e);var j=h+e;if(e&&!(0>j.indexOf("?")&&j==b._thisJmolModel)){b._thisJmolModel=j;var n;d&&null!=b._viewSet&&null!=(n=a.View.__findView(b._viewSet,{chemID:j}))?a.View.__setView(n,b,!1):("$"==h||":"==h?b._jmolFileType="MOL":"="==h&&(b._jmolFileType="PDB"),b._searchDatabase(e,h,c))}};a._searchDatabase=function(b,e,c,d){b._showInfo(!1);return 0<=e.indexOf("?")?(a._getInfoFromDatabase(b,c,e.split("?")[0]),!0):a.db._DirectDatabaseCalls[c]?(b._loadFile(c+e,d),!0):!1};a._syncBinaryOK="?";a._canSyncBinary=function(b){if(a._isAsync){return !0}if(self.VBArray){return a._syncBinaryOK=!1}if("?"!=a._syncBinaryOK){return a._syncBinaryOK}a._syncBinaryOK=!0;try{var e=new window.XMLHttpRequest;e.open("text",a._ajaxTestSite,!1);e.hasOwnProperty("responseType")?e.responseType="arraybuffer":e.overrideMimeType&&e.overrideMimeType("text/plain; charset=x-user-defined")}catch(c){return System.out.println("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._alertNoBinary&&!b&&alert("JSmolCore.js: synchronous binary file transfer is requested but not available"),a._syncBinaryOK=!1}return !0};a._binaryTypes=".gz .jpg .gif .png .zip .jmol .bin .smol .spartan .mrc .pse .map .omap".split(" ");a._isBinaryUrl=function(b){for(var e=a._binaryTypes.length;0<=--e;){if(0<=b.indexOf(a._binaryTypes[e])){return !0}}return !1};a._getFileData=function(b,e,c){var d=a._isBinaryUrl(b),h=0<=b.indexOf("pdb.gz")&&0==b.indexOf("http://www.rcsb.org/pdb/files/"),j=d&&!a._canSyncBinary(h);j&&h&&(b=b.replace(/pdb\.gz/,"pdb"),j=d=!1);h=0<=b.indexOf("?POST?");0==b.indexOf("file:/")&&0!=b.indexOf("file:///")&&(b="file://"+b.substring(5));var n=0>b.indexOf("://")||0==b.indexOf(document.location.protocol)&&0<=b.indexOf(document.location.host),s=a._isDirectCall(b),l=!n&&a.$supportsIECrossDomainScripting(),r=null;if((!e||j)&&(l||j||!n&&!s)){r=a._getRawDataFromServer("_",b,e,e,j,!0)}else{b=b.replace(/file:\/\/\/\//,"file://");var K={dataType:d?"binary":"text",async:!!e};h?(K.type="POST",K.url=b.split("?POST?")[0],K.data=b.split("?POST?")[1]):(K.type="GET",K.url=b);e&&(K.success=function(){e(a._xhrReturn(K.xhr))},K.error=function(){e(K.xhr.statusText)});K.xhr=a.$ajax(K);e||(r=a._xhrReturn(K.xhr))}if(!c){return r}null==r&&(r="",d=!1);d&&(d=a._canSyncBinary(!0));return d?a._strToBytes(r):JU.SB.newS(r)};a._xhrReturn=function(a){return !a.responseText||self.Clazz&&Clazz.instanceOf(a.response,self.ArrayBuffer)?a.response||a.statusText:a.responseText};a._isDirectCall=function(b){for(var e in a.db._DirectDatabaseCalls){if(0<=e.indexOf(".")&&0<=b.indexOf(e)){return !0}}return !1};a._cleanFileData=function(a){return 0<=a.indexOf("\r")&&0<=a.indexOf("\n")?a.replace(/\r\n/g,"\n"):0<=a.indexOf("\r")?a.replace(/\r/g,"\n"):a};a._getFileType=function(a){var e=a.substring(0,1);if("$"==e||":"==e){return"MOL"}if("="==e){return"="==a.substring(1,2)?"LCIF":"PDB"}a=a.split(".").pop().toUpperCase();return a.substring(0,Math.min(a.length,3))};a._getZ=function(b,e){return b&&b._z&&b._z[e]||a._z[e]};a._incrZ=function(b,e){return b&&b._z&&++b._z[e]||++a._z[e]};a._loadFileAsynchronously=function(b,e,c,d){if(0!=c.indexOf("?")){var h=c;c=a._checkFileName(e,c);var j=function(e){a._setData(b,c,h,e,d)},j=a._checkCache(e,c,j);0<=c.indexOf("|")&&(c=c.split("|")[0]);return null==j?null:a._getFileData(c,j)}if(!a.featureDetection.hasFileReader){return b.setData("Local file reading is not enabled in your browser",null,null,d)}e._localReader||(j='<div id="ID" style="z-index:'+a._getZ(e,"fileOpener")+';position:absolute;background:#E0E0E0;left:10px;top:10px"><div style="margin:5px 5px 5px 5px;"><input type="file" id="ID_files" /><button id="ID_loadfile">load</button><button id="ID_cancel">cancel</button></div><div>',a.$after("#"+e._id+"_appletdiv",j.replace(/ID/g,e._id+"_localReader")),e._localReader=a.$(e,"localReader"));a.$appEvent(e,"localReader_loadfile","click");a.$appEvent(e,"localReader_loadfile","click",function(){var c=a.$(e,"localReader_files")[0].files[0],h=new FileReader;h.onloadend=function(h){h.target.readyState==FileReader.DONE&&(a.$css(a.$(e,"localReader"),{display:"none"}),a._setData(b,c.name,c.name,h.target.result,d))};h.readAsArrayBuffer(c)});a.$appEvent(e,"localReader_cancel","click");a.$appEvent(e,"localReader_cancel","click",function(){a.$css(a.$(e,"localReader"),{display:"none"});b.setData(null,null,null,d)});a.$css(a.$(e,"localReader"),{display:"block"})};a._setData=function(b,e,c,d,h){d=a._strToBytes(d);0<=e.indexOf(".jdx")&&a.Cache.put("cache://"+e,d);b.setData(e,c,d,h)};a._toBytes=function(a){if("string"==typeof a){return a.getBytes()}a=new Uint8Array(a);for(var e=Clazz.newByteArray(a.length,0),c=a.length;0<=--c;){e[c]=a[c]}return e};a._doAjax=function(b,e,c){b=b.toString();if(null!=c){return a._saveFile(b,c)}e&&(b+="?POST?"+e);return a._getFileData(b,null,!0)};a._saveFile=function(b,e,c,d){if(a._localFileSaveFunction&&a._localFileSaveFunction(b,e)){return"OK"}b=b.substring(b.lastIndexOf("/")+1);c||(c=0<=b.indexOf(".pdf")?"application/pdf":0<=b.indexOf(".png")?"image/png":0<=b.indexOf(".gif")?"image/gif":0<=b.indexOf(".jpg")?"image/jpg":"");var h="string"==typeof e;h||(e=(JU?JU:J.util).Base64.getBase64(e).toString());d||(d=h?"":"base64");(h=a._serverUrl)&&0<=h.indexOf("your.server")&&(h="");a._useDataURI||!h?(d||(e=btoa(e)),d=document.createElement("a"),d.href="data:"+c+";base64,"+e,d.type=c||"text/plain",d.download=b,d.target="_blank",l("body").append(d),d.click(),d.remove()):(a._formdiv||(a.$after("body",'<div id="__jsmolformdiv__" style="display:none">\t\t\t\t\t\t<form id="__jsmolform__" method="post" target="_blank" action="">\t\t\t\t\t\t<input name="call" value="saveFile"/>\t\t\t\t\t\t<input id="__jsmolmimetype__" name="mimetype" value=""/>\t\t\t\t\t\t<input id="__jsmolencoding__" name="encoding" value=""/>\t\t\t\t\t\t<input id="__jsmolfilename__" name="filename" value=""/>\t\t\t\t\t\t<textarea id="__jsmoldata__" name="data"></textarea>\t\t\t\t\t\t</form>\t\t\t\t\t\t</div>'),a._formdiv="__jsmolform__"),a.$attr(a._formdiv,"action",h+"?"+(new Date).getMilliseconds()),a.$val("__jsmoldata__",e),a.$val("__jsmolfilename__",b),a.$val("__jsmolmimetype__",c),a.$val("__jsmolencoding__",d),a.$submit("__jsmolform__"),a.$val("__jsmoldata__",""),a.$val("__jsmolfilename__",""));return"OK"};a._strToBytes=function(b){if(Clazz.instanceOf(b,self.ArrayBuffer)){return a._toBytes(b)}for(var e=Clazz.newByteArray(b.length,0),c=b.length;0<=--c;){e[c]=b.charCodeAt(c)&255}return e};a._setConsoleDiv=function(a){self.Clazz&&Clazz.setConsoleDiv(a)};a._registerApplet=function(b,e){return window[b]=a._applets[b]=a._applets[e]=a._applets[b+"__"+a._syncId+"__"]=e};a._readyCallback=function(b,e,c,d,h){b=b.split("_object")[0];h||(h=d);c=c.booleanValue?c.booleanValue():c;var j=a._applets[b];j._appletPanel=h;j._applet=d;a._track(j._readyCallback(b,e,c))};a._getWrapper=function(b,e){var c;if(e){var d="";b._coverImage&&(d=' onclick="Jmol.coverApplet(ID, false)" title="'+b._coverTitle+'"',c='<image id="ID_coverclickgo" src="'+b._j2sPath+'/img/play_make_live.jpg" style="width:25px;height:25px;position:absolute;bottom:10px;left:10px;z-index:'+a._getZ(b,"coverImage")+';opacity:0.5;"'+d+" />",d='<div id="ID_coverdiv" style="background-color:red;z-index:'+a._getZ(b,"coverImage")+';width:100%;height:100%;display:inline;position:absolute;top:0px;left:0px"><image id="ID_coverimage" src="'+b._coverImage+'" style="width:100%;height:100%"'+d+"/>"+c+"</div>");c=a._appletCssText.replace(/\'/g,'"');c=0<=c.indexOf('style="')?c.split('style="')[1]:'" '+c;c='...<div id="ID_appletinfotablediv" style="width:Wpx;height:Hpx;position:relative;font-size:14px;text-align:left">IMG......<div id="ID_appletdiv" style="z-index:'+a._getZ(b,"header")+";width:100%;height:100%;position:absolute;top:0px;left:0px;"+c+">";var h=b._height,j=b._width;if("string"!==typeof h||0>h.indexOf("%")){h+="px"}if("string"!==typeof j||0>j.indexOf("%")){j+="px"}c=c.replace(/IMG/,d).replace(/Hpx/g,h).replace(/Wpx/g,j)}else{c='......</div>......<div id="ID_2dappletdiv" style="position:absolute;width:100%;height:100%;overflow:hidden;display:none"></div>......<div id="ID_infotablediv" style="width:100%;height:100%;position:absolute;top:0px;left:0px">.........<div id="ID_infoheaderdiv" style="height:20px;width:100%;background:yellow;display:none"><span id="ID_infoheaderspan"></span><span id="ID_infocheckboxspan" style="position:absolute;text-align:right;right:1px;"><a href="javascript:Jmol.showInfo(ID,false)">[x]</a></span></div>.........<div id="ID_infodiv" style="position:absolute;top:20px;bottom:0px;width:100%;height:100%;overflow:auto"></div>......</div>...</div>'}return c.replace(/\.\.\./g,"").replace(/[\n\r]/g,"").replace(/ID/g,b._id)};a._documentWrite=function(b){if(a._document){if(a._isXHTML&&!a._XhtmlElement){var e=document.getElementsByTagName("script");a._XhtmlElement=e.item(e.length-1);a._XhtmlAppendChild=!1}a._XhtmlElement?a._domWrite(b):a._document.write(b)}return b};a._domWrite=function(b){for(var e=[0];e[0]<b.length;){var c=a._getDomElement(b,e);if(!c){break}a._XhtmlAppendChild?a._XhtmlElement.appendChild(c):a._XhtmlElement.parentNode.insertBefore(c,_jmol.XhtmlElement)}};a._getDomElement=function(a,e){var c=document.createElement("span");c.innerHTML=a;e[0]=a.length;return c};a._setObject=function(b,e,c){b._id=e;b.__Info={};c.z&&c.zIndexBase&&(a._z=a._getZOrders(c.zIndexBase));for(var d in c){b.__Info[d]=c[d]}(b._z=c.z)||c.zIndexBase&&(b._z=b.__Info.z=a._getZOrders(c.zIndexBase));b._width=c.width;b._height=c.height;b._noscript=!b._isJava&&c.noscript;b._console=c.console;b._cacheFiles=!!c.cacheFiles;b._viewSet=null==c.viewSet||b._isJava?null:"Set"+c.viewSet;null!=b._viewSet&&(a.View.__init(b),b._currentView=null);!a._fileCache&&b._cacheFiles&&(a._fileCache={});b._console||(b._console=b._id+"_infodiv");"none"==b._console&&(b._console=null);b._color=c.color?c.color.replace(/0x/,"#"):"#FFFFFF";b._disableInitialConsole=c.disableInitialConsole;b._noMonitor=c.disableJ2SLoadMonitor;a._j2sPath&&(c.j2sPath=a._j2sPath);b._j2sPath=c.j2sPath;b._coverImage=c.coverImage;b._isCovered=!!b._coverImage;b._deferApplet=c.deferApplet||b._isCovered&&b._isJava;b._deferUncover=c.deferUncover&&!b._isJava;b._coverScript=c.coverScript;b._coverTitle=c.coverTitle;b._coverTitle||(b._coverTitle=b._deferApplet?"activate 3D model":"3D model is loading...");b._containerWidth=b._width+(b._width==parseFloat(b._width)?"px":"");b._containerHeight=b._height+(b._height==parseFloat(b._height)?"px":"");b._info="";b._infoHeader=b._jmolType+' "'+b._id+'"';b._hasOptions=c.addSelectionOptions;b._defaultModel=c.defaultModel;b._readyScript=c.script?c.script:"";b._readyFunction=c.readyFunction;b._coverImage&&!b._deferApplet&&(b._readyScript+=";javascript "+e+"._displayCoverImage(false)");b._src=c.src};a._addDefaultInfo=function(b,e){for(var c in e){"undefined"==typeof b[c]&&(b[c]=e[c])}a._use&&(b.use=a._use);0<=b.use.indexOf("SIGNED")&&(0>b.jarFile.indexOf("Signed")&&(b.jarFile=b.jarFile.replace(/Applet/,"AppletSigned")),b.use=b.use.replace(/SIGNED/,"JAVA"),b.isSigned=!0)};a._syncedApplets=[];a._syncedCommands=[];a._syncedReady=[];a._syncReady=!1;a._isJmolJSVSync=!1;a._setReady=function(b){a._syncedReady[b]=1;for(var e=0,c=0;c<a._syncedApplets.length;c++){if(a._syncedApplets[c]==b._id){a._syncedApplets[c]=b,a._syncedReady[c]=1}else{if(!a._syncedReady[c]){continue}}e++}e==a._syncedApplets.length&&a._setSyncReady()};a._setDestroy=function(b){a.featureDetection.allowDestroy&&a.$windowOn("beforeunload",function(){a._destroy(b)})};a._destroy=function(b){try{b._appletPanel&&b._appletPanel.destroy();b._applet=null;a._unsetMouse(b._canvas);b._canvas=null;for(var e=0,c=0;c<a._syncedApplets.length;c++){a._syncedApplets[c]==b&&(a._syncedApplets[c]=null),a._syncedApplets[c]&&e++}0<e||a._clearVars()}catch(d){}};a._setSyncReady=function(){a._syncReady=!0;for(var b="",e=0;e<a._syncedApplets.length;e++){a._syncedCommands[e]&&(b+="Jmol.script(Jmol._syncedApplets["+e+"], Jmol._syncedCommands["+e+"]);")}setTimeout(b,50)};a._mySyncCallback=function(b,e){app=a._applets[b];if(app._viewSet){a.View.updateFromSync(app,e)}else{if(!a._syncReady||!a._isJmolJSVSync){return 1}for(var c=0;c<a._syncedApplets.length;c++){0<=e.indexOf(a._syncedApplets[c]._syncKeyword)&&a._syncedApplets[c]._syncScript(e)}return 0}};a._getElement=function(a,e){return document.getElementById(a._id+"_"+e)||{}};a._evalJSON=function(a,e){a+="";if(!a){return[]}if("{"!=a.charAt(0)){return 0<=a.indexOf(" | ")&&(a=a.replace(/\ \|\ /g,"\n")),a}var c=(new Function("return "+a))();return !c?null:e&&void 0!=c[e]?c[e]:c};a._sortMessages=function(a){function e(a,b){return a[0]<b[0]?1:a[0]>b[0]?-1:0}if(!a||"object"!=typeof a){return[]}for(var c=[],d=a.length-1;0<=d;d--){for(var h=0,j=a[d].length;h<j;h++){c[c.length]=a[d][h]}}if(0!=c.length){return c=c.sort(e)}};a._setMouseOwner=function(b,e){null==b||e?a._mouseOwner=b:a._mouseOwner==b&&(a._mouseOwner=null)};a._jsGetMouseModifiers=function(a){var e=0;switch(a.button){case 0:e=16;break;case 1:e=8;break;case 2:e=4}a.shiftKey&&(e+=1);a.altKey&&(e+=8);a.ctrlKey&&(e+=2);return e};a._jsGetXY=function(b,e){if(!b.applet._ready||a._touching&&0>e.type.indexOf("touch")){return !1}var c=a.$offset(b.id),d,h=e.originalEvent;e.pageX||(e.pageX=h.pageX);e.pageY||(e.pageY=h.pageY);a._mousePageX=e.pageX;a._mousePageY=e.pageY;h.targetTouches&&h.targetTouches[0]?(d=h.targetTouches[0].pageX-c.left,c=h.targetTouches[0].pageY-c.top):h.changedTouches?(d=h.changedTouches[0].pageX-c.left,c=h.changedTouches[0].pageY-c.top):(d=e.pageX-c.left,c=e.pageY-c.top);return void 0==d?null:[Math.round(d),Math.round(c),a._jsGetMouseModifiers(e)]};a._gestureUpdate=function(b,e){e.stopPropagation();e.preventDefault();var c=e.originalEvent;switch(e.type){case"touchstart":a._touching=!0;break;case"touchend":a._touching=!1}if(!c.touches||2!=c.touches.length){return !1}switch(e.type){case"touchstart":b._touches=[[],[]];break;case"touchmove":var d=a.$offset(b.id),h=b._touches[0],j=b._touches[1];h.push([c.touches[0].pageX-d.left,c.touches[0].pageY-d.top]);j.push([c.touches[1].pageX-d.left,c.touches[1].pageY-d.top]);c=h.length;3<c&&(h.shift(),j.shift());2<=c&&b.applet._processGesture(b._touches)}return !0};a._jsSetMouse=function(b){var e=function(a){return !a.target||0<=a.target.className.indexOf("swingjs-ui")};a.$bind(b,"mousedown touchstart",function(c){if(e(c)){return !0}a._setMouseOwner(b,!0);c.stopPropagation();var d=c.target["data-UI"];(!d||!d.handleJSEvent(b,501,c))&&c.preventDefault();b.isDragging=!0;if("touchstart"==c.type&&a._gestureUpdate(b,c)){return !!d}a._setConsoleDiv(b.applet._console);var h=a._jsGetXY(b,c);h&&(2!=c.button&&a.Swing.hideMenus(b.applet),b.applet._processEvent(501,h));return !!d});a.$bind(b,"mouseup touchend",function(c){if(e(c)){return !0}a._setMouseOwner(null);c.stopPropagation();var d=c.target["data-UI"];(!d||!d.handleJSEvent(b,502,c))&&c.preventDefault();b.isDragging=!1;if("touchend"==c.type&&a._gestureUpdate(b,c)){return !!d}(c=a._jsGetXY(b,c))&&b.applet._processEvent(502,c);return !!d});a.$bind(b,"mousemove touchmove",function(c){if(e(c)){return !0}if(a._mouseOwner&&a._mouseOwner!=b&&a._mouseOwner.isDragging){if(!a._mouseOwner.mouseMove){return !0}a._mouseOwner.mouseMove(c);return !1}return a._drag(b,c)});a._drag=function(b,e){e.stopPropagation();e.preventDefault();if("touchmove"==e.type&&a._gestureUpdate(b,e)){return !1}var d=a._jsGetXY(b,e);if(!d){return !1}b.isDragging||(d[2]=0);var h=e.target["data-UI"];b.isdragging&&(!h||h.handleJSEvent(b,506,e));b.applet._processEvent(b.isDragging?506:503,d);return !!h};a.$bind(b,"DOMMouseScroll mousewheel",function(c){if(e(c)){return !0}c.stopPropagation();c.preventDefault();b.isDragging=!1;var d=c.originalEvent,d=d.detail?d.detail:("mac"==a.featureDetection.os?1:-1)*d.wheelDelta;c=a._jsGetMouseModifiers(c);b.applet._processEvent(-1,[0>d?-1:1,0,c]);return !1});a.$bind(b,"contextmenu",function(){return !1});a.$bind(b,"mouseout",function(c){if(e(c)){return !0}a._mouseOwner&&!a._mouseOwner.mouseMove&&a._setMouseOwner(null);b.applet._appletPanel&&b.applet._appletPanel.startHoverWatcher(!1);a._jsGetXY(b,c);return !1});a.$bind(b,"mouseenter",function(c){if(e(c)){return !0}b.applet._appletPanel&&b.applet._appletPanel.startHoverWatcher(!0);if(0===c.buttons||0===c.which){b.isDragging=!1;c=a._jsGetXY(b,c);if(!c){return !1}b.applet._processEvent(504,c);b.applet._processEvent(502,c);return !1}});a.$bind(b,"mousemoveoutjsmol",function(c,d,h){if(e(h)){return !0}if(b==a._mouseOwner&&b.isDragging){return a._drag(b,h)}});b.applet._is2D&&a.$resize(function(){b.applet&&b.applet._resize()});a.$bind("body","mouseup touchend",function(c){if(e(c)){return !0}b.applet&&(b.isDragging=!1);a._setMouseOwner(null)})};a._jsUnsetMouse=function(b){b.applet=null;a.$bind(b,"mousedown touchstart mousemove touchmove mouseup touchend DOMMouseScroll mousewheel contextmenu mouseout mouseenter",null);a._setMouseOwner(null)};a.Swing={count:0,menuInitialized:0,menuCounter:0,htDialogs:{}};var r=a.Swing;SwingController=r;r.setDraggable=function(b){b=b.prototype;b.setContainer||(b.setContainer=function(b){this.container=b;b.obj=this;this.ignoreMouse=this.isDragging=!1;var c=this;b.bind("mousedown touchstart",function(b){if(c.ignoreMouse){return c.ignoreMouse=!1,!0}a._setMouseOwner(c,!0);c.isDragging=!0;c.pageX=b.pageX;c.pageY=b.pageY;return !1});b.bind("mousemove touchmove",function(b){if(c.isDragging&&a._mouseOwner==c){return c.mouseMove(b),!1}});b.bind("mouseup touchend",function(b){c.mouseUp(b);a._setMouseOwner(null)})},b.mouseUp=function(b){if(this.isDragging&&a._mouseOwner==this){return this.pageX0+=b.pageX-this.pageX,this.pageY0+=b.pageY-this.pageY,this.isDragging=!1}a._setMouseOwner(null)},b.setPosition=function(){if(null===a._mousePageX){var b=a.$offset(this.applet._id+"_"+(this.applet._is2D?"canvas2d":"canvas"));a._mousePageX=b.left;a._mousePageY=b.top}this.pageX0=a._mousePageX;this.pageY0=a._mousePageY;this.container.css({top:a._mousePageY+"px",left:a._mousePageX+"px"})},b.mouseMove=function(b){if(this.isDragging&&a._mouseOwner==this){this.timestamp=System.currentTimeMillis();var c=this.pageX0+(b.pageX-this.pageX);b=this.pageY0+(b.pageY-this.pageY);a._mousePageX=c;a._mousePageY=b;this.container.css({top:b+"px",left:c+"px"})}},b.dragBind=function(b){this.applet._ignoreMouse=!b;this.container.unbind("mousemoveoutjsmol");this.container.unbind("touchmoveoutjsmol");this.container.unbind("mouseupoutjsmol");this.container.unbind("touchendoutjsmol");a._setMouseOwner(null);if(b){var c=this;this.container.bind("mousemoveoutjsmol touchmoveoutjsmol",function(a,b,d){c.mouseMove(d)});this.container.bind("mouseupoutjsmol touchendoutjsmol",function(a,b,d){c.mouseUp(d)})}})};r.JSDialog=function(){};r.setDraggable(r.JSDialog);r.getScreenDimensions=function(a){a.width=l(window).width();a.height=l(window).height()};r.dispose=function(b){a.$remove(b.id+"_mover");delete r.htDialogs[b.id];b.container.obj.dragBind(!1)};r.register=function(a,d){a.id=d+ ++r.count;r.htDialogs[a.id]=a};r.setDialog=function(b){a._setMouseOwner(null);a.$remove(b.id);var d=b.id+"_mover",c=a._$(d),h;c[0]?(c.html(b.html),h=c[0].jd):(a.$after("body","<div id='"+d+"' style='position:absolute;left:0px;top:0px;'>"+b.html+"</div>"),h=new r.JSDialog,c=a._$(d),b.container=c,h.applet=b.manager.vwr.html5Applet,h.setContainer(c),h.dialog=b,h.setPosition(),h.dragBind(!0),c[0].jd=h);a.$bind("#"+b.id+" .JButton","mousedown touchstart",function(){h.ignoreMouse=!0});a.$bind("#"+b.id+" .JComboBox","mousedown touchstart",function(){h.ignoreMouse=!0});a.$bind("#"+b.id+" .JCheckBox","mousedown touchstart",function(){h.ignoreMouse=!0});a.$bind("#"+b.id+" .JTextField","mousedown touchstart",function(){h.ignoreMouse=!0});a.$bind("#"+b.id+" .JTable","mousedown touchstart",function(){h.ignoreMouse=!0});a.$bind("#"+b.id+" .JScrollPane","mousedown touchstart",function(){h.ignoreMouse=!0});a.$bind("#"+b.id+" .JEditorPane","mousedown touchstart",function(){h.ignoreMouse=!0})};r.setSelected=function(b){a.$prop(b.id,"checked",!!b.selected)};r.setSelectedIndex=function(b){a.$prop(b.id,"selectedIndex",b.selectedIndex)};r.setText=function(b){a.$prop(b.id,"value",b.text)};r.setVisible=function(b){a.$setVisible(b.id,b.visible)};r.setEnabled=function(b){a.$setEnabled(b.id,b.enabled)};r.click=function(b,d){var c=r.htDialogs[b.id];if(c){var h=c.toString();if(0<=h.indexOf("JCheck")){c.selected=b.checked}else{if(0<=h.indexOf("JCombo")){c.selectedIndex=b.selectedIndex}else{if(null!=c.text&&(c.text=b.value,d&&13!=(d.charCode||d.keyCode))){return}}}}h=r.htDialogs[a.$getAncestorDiv(b.id,"JDialog").id];h.manager.actionPerformed(c?c.name:h.registryKey+"/"+b.id)};r.setFront=function(b){var d=b.manager.vwr.html5Applet;b.zIndex!=a._getZ(d,"dialog")&&(b.zIndex=a._incrZ(d,"dialog"));b.container&&((b.container[0]||b.container).style.zIndex=b.zIndex)};r.hideMenus=function(a){if(a=a._menus){for(var d in a){a[d].visible&&r.hideMenu(a[d])}}};r.windowClosing=function(b){b=r.htDialogs[a.$getAncestorDiv(b.id,"JDialog").id];b.registryKey?b.manager.processWindowClosing(b.registryKey):b.dispose()};a._track=function(b){if(a._tracker){try{var d='<iframe style="display:none" width="0" height="0" frameborder="0" tabindex="-1" src="'+(a._tracker+"&applet="+b._jmolType+"&version="+a._version+"&appver="+a.___JmolVersion+"&url="+encodeURIComponent(document.location.href))+'"></iframe>';a.$after("body",d)}catch(c){}delete a._tracker}return b};a.getProfile=function(){window["j2s.doProfile"]=!0;if(self.Clazz&&self.JSON){return Clazz._profile||(Clazz._profile={}),Clazz.getProfile()}};a._getInChIKey=function(a,d){0<=d.indexOf("MOL=")&&d.split("MOL=")[1].split('"')};a._getAttr=function(a,d){var c=a.indexOf(d+"=");return 0<=c&&0<=(c=a.indexOf('"',c))?a.substring(c+1,a.indexOf('"',c+1)):null};a.User={viewUpdatedCallback:null};a.View={count:0,applets:{},sets:{}};(function(b){b.updateView=function(d,c){if(null!=d._viewSet){c.chemID||(d._searchQuery=null);c.data||(c.data="N/A");c.type=d._viewType;if(null==(d._currentView=b.__findView(d._viewSet,c))){d._currentView=b.__createViewSet(d._viewSet,c.chemID,c.viewID||c.chemID)}d._currentView[c.type].data=c.data;d._currentView[c.type].smiles=d._getSmiles();a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(d,"updateView");b.__setView(d._currentView,d,!1)}};b.updateFromSync=function(d,c){d._updateMsg=c;var h=a._getAttr(c,"sourceID")||a._getAttr(c,"file");if(h){var j=b.__findView(d._viewSet,{viewID:h});if(null==j){return a.updateView(d,c)}j!=d._currentView&&b.__setView(j,d,!0);var n=(h=a._getAttr(c,"atoms"))&&0<=c.indexOf("selectionhalos ON")?eval("["+h+"]"):[];setTimeout(function(){d._currentView==j&&b.updateAtomPick(d,n)},10);a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(d,"updateFromSync")}};b.updateAtomPick=function(b,c){var d=b._currentView;if(null!=d){for(var h in d){"info"!=h&&d[h].applet!=b&&d[h].applet._updateAtomPick(c)}a.User.viewUpdatedCallback&&a.User.viewUpdatedCallback(b,"updateAtomPick")}};b.dumpViews=function(a){var c=b.sets[a];if(c){var d="View set "+a+":\n";a=b.applets[a];for(var h in a){d+="\napplet "+a[h]._id+" currentView="+(a[h]._currentView?a[h]._currentView.info.viewID:null)}for(h=c.length;0<=--h;){a=c[h];var d=d+("\n\n<b>view="+h+" viewID="+a.info.viewID+" chemID="+a.info.chemID+"</b>\n"),j,n;for(n in a){"info"!=n&&(d+="\nview="+h+" type="+n+" applet="+((j=a[n]).applet?j.applet._id:null)+" SMILES="+j.smiles+"\n atomMap="+JSON.stringify(j.atomMap)+"\n data=\n"+j.data+"\n")}}return d}};b.__init=function(a){var c=a._viewSet,d=b.applets;d[c]||(d[c]={});d[c][a._viewType]=a};b.__findView=function(a,c){var d=b.sets[a];null==d&&(d=b.sets[a]=[]);for(var h=d.length;0<=--h;){var j=d[h];if(c.viewID){if(j.info.viewID==c.viewID){return j}}else{if(null!=c.chemID&&c.chemID==j.info.chemID){return j}for(var n in j){if("info"!=n&&(null!=c.data&&null!=j[n].data?c.data==j[n].data:c.type==n)){return j}}}}return null};b.__createViewSet=function(d,c,h){b.count++;c={info:{chemID:c,viewID:h||"model_"+b.count}};for(var j in a._applets){h=a._applets[j],h._viewSet==d&&(c[h._viewType]={applet:h,data:null})}b.sets[d].push(c);return c};b.__setView=function(a,b,d){for(var h in a){if("info"!=h){var j=a[h],n=j.applet,s=d||null!=n&&"<modified>"==n._molData;if(!(null==n||n==b&&!s)){var l=null==j.data,r=null!=n._currentView;n._currentView=a;if(!r||!(a[h].data==j.data&&!l&!s)){if(n._loadModelFromView(a),l){break}}}}}}})(a.View);a.Cache={fileCache:{}};a.Cache.get=function(b){return a.Cache.fileCache[b]};a.Cache.put=function(b,d){a.Cache.fileCache[b]=d};a.Cache.setDragDrop=function(b){a.$appEvent(b,"appletdiv","dragover",function(a){a=a.originalEvent;a.stopPropagation();a.preventDefault();a.dataTransfer.dropEffect="copy"});a.$appEvent(b,"appletdiv","drop",function(d){var c=d.originalEvent;c.stopPropagation();c.preventDefault();var h=c.dataTransfer.files[0];if(null==h){try{h=""+c.dataTransfer.getData("text"),(0==h.indexOf("file:/")||0==h.indexOf("http:/"))&&b._scriptLoad(h)}catch(j){}}else{c=new FileReader,c.onloadend=function(c){if(c.target.readyState==FileReader.DONE){var j="cache://DROP_"+h.name;c=a._toBytes(c.target.result);j.endsWith(".spt")||b._appletPanel.cacheFileByName("cache://DROP_*",!1);"JSV"==b._viewType||j.endsWith(".jdx")?a.Cache.put(j,c):b._appletPanel.cachePut(j,c);(c=a._jsGetXY(b._canvas,d))&&(!b._appletPanel.setStatusDragDropped||b._appletPanel.setStatusDragDropped(0,c[0],c[1],j))&&b._appletPanel.openFileAsyncSpecial(j,1)}},c.readAsArrayBuffer(h)}})}})(Jmol,jQuery);Jmol._debugCode=!1;(function(v){v._isAsync=!1;v._asyncCallbacks={};v._coreFiles=[];var l=!1,h=[],j=[],b=0,n=[],s=[],r=function(c){arguments.length||(c=!0);delete b;for(var i;0<j.length&&"done"==(i=j[0])[4];){j.shift()}if(0!=j.length){if(!v._isAsync&&!c){setTimeout(r,10)}else{i.push("done");var f="JSmol exec "+i[0]._id+" "+i[3]+" "+i[2];self.System&&System.out.println(f);self.console&&console.log(f+" -- OK");h.push(f);i[1](i[0],i[2])}}},a=function(c){l?r():(l=!0,LoadClazz(),c._noMonitor&&(Clazz._LoaderProgressMonitor.showStatus=function(){}),LoadClazz=null,c.__Info.uncompressed&&Clazz.loadClass(),Clazz._Loader.onGlobalLoaded=function(){Clazz._LoaderProgressMonitor.showStatus("Application loaded.",!0);if(!v._debugCode||!v.haveCore){v.haveCore=!0,r()}},Clazz._Loader.loadPackageClasspath("java",null,!0,r))},d=function(c,f){Clazz._Loader.loadClass(f,function(){r()})};v.showExecLog=function(){return h.join("\n")};v._addExec=function(c){c[1]||(c[1]=d);var f="JSmol load "+c[0]._id+" "+c[3];self.console&&console.log(f+"...");h.push(f);j.push(c)};v._addCoreFile=function(c,f,i){c=c.toLowerCase().split(".")[0];if(!(0<=n.join("").indexOf(c))){n.push(c);n.sort();v._coreFiles=[f+"/core/core"+n.join("")+".z.js"];if(i&&(i=i.split(" "))){for(c=0;c<i.length;c++){0>s.join("").indexOf(i[c])&&s.push(f+"/core/core"+i[c]+".z.js")}}for(c=0;c<s.length;c++){v._coreFiles.push(s[c])}}};v._Canvas2D=function(f,k,c,i){this._uniqueId=(""+Math.random()).substring(3);this._id=f;this._is2D=!0;this._isJava=!1;this._jmolType="Jmol._Canvas2D ("+c+")";this._isLayered=k._isLayered||!1;this._isSwing=k._isSwing||!1;this._isJSV=k._isJSV||!1;this._isAstex=k._isAstex||!1;this._platform=k._platform||"";if(i){return this}window[f]=this;this._createCanvas(f,k);if(!v._document||this._deferApplet){return this}this._init();return this};v._setAppletParams=function(f,i,k,m){for(var c in k){if(!f||0<=f.indexOf(";"+c.toLowerCase()+";")){null==k[c]||"language"==c&&!v.featureDetection.supportsLocalization()||(m?i.put(c,!0===k[c]?Boolean.TRUE:!1===k[c]?Boolean.FALSE:k[c]):i[c]=k[c])}}};v._jsSetPrototype=function(c){c._init=function(){this._setupJS();this._showInfo(!0);this._disableInitialConsole&&this._showInfo(!1)};c._createCanvas=function(k,f,i){v._setObject(this,k,f);i&&(this._GLmol=i,this._GLmol.applet=this,this._GLmol.id=this._id);i=v._getWrapper(this,!0);this._deferApplet||(v._document?(v._documentWrite(i),this._newCanvas(!1),i=""):(this._deferApplet=!0,i+='<script type="text/javascript">'+k+"._cover(false)\x3c/script>"));i+=v._getWrapper(this,!1);f.addSelectionOptions&&(i+=v._getGrabberOptions(this));v._debugAlert&&!v._document&&alert(i);this._code=v._documentWrite(i)};c._newCanvas=function(f){this._is2D?this._createCanvas2d(f):this._GLmol.create()};c._getHtml5Canvas=function(){return this._canvas};c._getWidth=function(){return this._canvas.width};c._getHeight=function(){return this._canvas.height};c._getContentLayer=function(){return v.$(this,"contentLayer")[0]};c._repaintNow=function(){v._repaint(this,!1)};c._createCanvas2d=function(){var i=v.$(this,"appletdiv");try{i[0].removeChild(this._canvas),this._canvas.frontLayer&&i[0].removeChild(this._canvas.frontLayer),this._canvas.rearLayer&&i[0].removeChild(this._canvas.rearLayer),this._canvas.contentLayer&&i[0].removeChild(this._canvas.contentLayer),v._jsUnsetMouse(this._mouseInterface)}catch(f){}var k=Math.round(i.width()),m=Math.round(i.height()),o=document.createElement("canvas");o.applet=this;this._canvas=o;o.style.width="100%";o.style.height="100%";o.width=k;o.height=m;o.id=this._id+"_canvas2d";i.append(o);v._$(o.id).css({"z-index":v._getZ(this,"main")});if(this._isLayered){var p=document.createElement("div");o.contentLayer=p;p.id=this._id+"_contentLayer";i.append(p);v._$(p.id).css({zIndex:v._getZ(this,"image"),position:"absolute",left:"0px",top:"0px",width:(this._isSwing?k:0)+"px",height:(this._isSwing?m:0)+"px",overflow:"hidden"});this._isSwing?(i=document.createElement("div"),i.id=this._id+"_swingdiv",v._$(this._id+"_appletinfotablediv").append(i),v._$(i.id).css({zIndex:v._getZ(this,"rear"),position:"absolute",left:"0px",top:"0px",width:k+"px",height:m+"px",overflow:"hidden"}),this._mouseInterface=o.contentLayer,o.contentLayer.applet=this):this._mouseInterface=this._getLayer("front",i,k,m,!1)}else{this._mouseInterface=o}v._jsSetMouse(this._mouseInterface)};c._getLayer=function(i,f,k,m,o){var p=document.createElement("canvas");this._canvas[i+"Layer"]=p;p.style.width="100%";p.style.height="100%";p.id=this._id+"_"+i+"Layer";p.width=k;p.height=m;f.append(p);p.applet=this;v._$(p.id).css({background:o?"rgb(0,0,0,1)":"rgb(0,0,0,0.001)","z-index":v._getZ(this,i),position:"absolute",left:"0px",top:"0px",overflow:"hidden"});return p};c._setupJS=function(){window["j2s.lib"]={base:this._j2sPath+"/",alias:".",console:this._console,monitorZIndex:v._getZ(this,"monitorZIndex")};0==j.length&&v._addExec([this,a,null,"loadClazz"]);this._addCoreFiles();v._addExec([this,this.__startAppletJS,null,"start applet"]);this._isSigned=!0;this._ready=!1;this._applet=null;this._canScript=function(){return !0};this._savedOrientations=[];b&&clearTimeout(b);b=setTimeout(r,100)};c.__startAppletJS=function(i){0==v._version.indexOf("$Date: ")&&(v._version=(v._version.substring(7)+" -").split(" -")[0]+" (JSmol/j2s)");var k=Clazz._4Name("java.util.Hashtable").newInstance();v._setAppletParams(i._availableParams,k,i.__Info,!0);k.put("appletReadyCallback","Jmol._readyCallback");k.put("applet",!0);k.put("name",i._id);k.put("syncId",v._syncId);v._isAsync&&k.put("async",!0);i._color&&k.put("bgcolor",i._color);i._startupScript&&k.put("script",i._startupScript);v._syncedApplets.length&&k.put("synccallback","Jmol._mySyncCallback");k.put("signedApplet","true");k.put("platform",i._platform);i._is2D&&k.put("display",i._id+"_canvas2d");k.put("documentBase",document.location.href);var m=i._j2sPath+"/";if(0>m.indexOf("://")){var o=document.location.href.split("#")[0].split("?")[0].split("/");0==m.indexOf("/")?o=[o[0],m.substring(1)]:o[o.length-1]=m;m=o.join("/")}k.put("codePath",m);v._registerApplet(i._id,i);try{i._newApplet(k)}catch(f){System.out.println((v._isAsync?"normal async abort from ":"")+f);return}i._jsSetScreenDimensions();r()};c._restoreState||(c._restoreState=function(){});c._jsSetScreenDimensions=function(){if(this._appletPanel){var f=v._getElement(this,this._is2D?"canvas2d":"canvas");this._appletPanel.setScreenDimension(f.width,f.height)}};c._show=function(f){v.$setVisible(v.$(this,"appletdiv"),f);f&&v._repaint(this,!0)};c._canScript=function(){return !0};c.equals=function(f){return this==f};c.clone=function(){return this};c.hashCode=function(){return parseInt(this._uniqueId)};c._processGesture=function(f){return this._appletPanel.processTwoPointGesture(f)};c._processEvent=function(f,i){this._appletPanel.processMouseEvent(f,i[0],i[1],i[2],System.currentTimeMillis())};c._resize=function(){var i="__resizeTimeout_"+this._id;v[i]&&clearTimeout(v[i]);var f=this;v[i]=setTimeout(function(){v._repaint(f,!0);v[i]=null},100)};return c};v._repaint=function(f,k){if(f&&f._appletPanel){var c=v.$(f,"appletdiv"),i=Math.round(c.width()),c=Math.round(c.height());if(f._is2D&&(f._canvas.width!=i||f._canvas.height!=c)){f._newCanvas(!0),f._appletPanel.setDisplay(f._canvas)}f._appletPanel.setScreenDimension(i,c);i=function(){f._appletPanel.paint?f._appletPanel.paint(null):f._appletPanel.update(null)};k?setTimeout(i):i()}};v._loadImage=function(c,f,i,k,m,t){var u="echo_"+f+i+(k?"_"+k.length:""),o=v._getHiddenCanvas(c.vwr.html5Applet,u,0,0,!1,!0);if(null==o){if(null==t){t=new Image;if(null==k){return t.onload=function(){v._loadImage(c,f,i,null,m,t)},t.src=i,null}System.out.println("Jsmol.js Jmol._loadImage using data URI for "+u);var o=JU.Rdr.guessMimeTypeForBytes(k),q=i.substring(i.lastIndexOf("/")+1);3==q.length&&(q="."+q);t.src="data:"+o+";base64,"+JU.Base64.getBase64(k)}var q=t.width,p=t.height,o=v._getHiddenCanvas(c.vwr.html5Applet,u,q,p,!0,!1);o.imageWidth=q;o.imageHeight=p;o.id=u;o.image=t;v._setCanvasImage(o,q,p)}else{System.out.println("Jsmol.js Jmol._loadImage reading cached image for "+u)}return null==k?m(o,i):o};v._canvasCache={};v._getHiddenCanvas=function(i,k,m,o,f,c){k=i._id+"_"+k;i=v._canvasCache[k];if(c){return i}if(f||!i||i.width!=m||i.height!=o){i=document.createElement("canvas"),i.width=i.style.width=m,i.height=i.style.height=o,i.id=k,v._canvasCache[k]=i}return i};v._setCanvasImage=function(f,i,c){f.buf32=null;f.width=i;f.height=c;f.getContext("2d").drawImage(f.image,0,0,i,c)};v._apply=function(c,f){return c(f)}})(Jmol);(function(a,l){a._Applet=function(d,h,j){window[d]=this;this._jmolType="Jmol._Applet"+(h.isSigned?" (signed)":"");this._viewType="Jmol";this._isJava=!0;this._syncKeyword="Select:";this._availableParams=";progressbar;progresscolor;boxbgcolor;boxfgcolor;allowjavascript;boxmessage;\t\t\t\t\t\t\t\t\t;messagecallback;pickcallback;animframecallback;appletreadycallback;atommovedcallback;\t\t\t\t\t\t\t\t\t;echocallback;evalcallback;hovercallback;language;loadstructcallback;measurecallback;\t\t\t\t\t\t\t\t\t;minimizationcallback;resizecallback;scriptcallback;statusform;statustext;statustextarea;\t\t\t\t\t\t\t\t\t;synccallback;usecommandthread;syncid;appletid;startupscript;menufile;";if(j){return this}this._isSigned=h.isSigned;this._readyFunction=h.readyFunction;this._ready=!1;this._isJava=!0;this._isInfoVisible=!1;this._applet=null;this._memoryLimit=h.memoryLimit||512;this._canScript=function(){return !0};this._savedOrientations=[];this._initialize=function(d,b){var e=!1;a._jarFile&&(b=a._jarFile);if(this._jarFile){var c=this._jarFile;0<=c.indexOf("/")?(alert("This web page URL is requesting that the applet used be "+c+". This is a possible security risk, particularly if the applet is signed, because signed applets can read and write files on your local machine or network."),"yes"==prompt("Do you want to use applet "+c+"? ","yes or no")?(d=c.substring(0,c.lastIndexOf("/")),b=c.substring(c.lastIndexOf("/")+1)):e=!0):b=c;this_isSigned=h.isSigned=0<=b.indexOf("Signed")}this._jarPath=h.jarPath=d||".";this._jarFile=h.jarFile="string"==typeof b?b:(b?"JmolAppletSigned":"JmolApplet")+"0.jar";e&&alert("The web page URL was ignored. Continuing using "+this._jarFile+' in directory "'+this._jarPath+'"');void 0==a.controls||a.controls._onloadResetForms()};this._create(d,h);return this};var h=a._Applet,j=a._Applet.prototype;h._get=function(d,j,l){l||(l=!1);j||(j={});a._addDefaultInfo(j,{color:"#FFFFFF",width:300,height:300,addSelectionOptions:!1,serverURL:"http://your.server.here/jsmol.php",defaultModel:"",script:null,src:null,readyFunction:null,use:"HTML5",jarPath:"java",jarFile:"JmolApplet0.jar",isSigned:!1,j2sPath:"j2s",coverImage:null,coverTitle:"",coverCommand:"",deferApplet:!1,deferUncover:!1,disableJ2SLoadMonitor:!1,disableInitialConsole:!1,debug:!1});a._debugAlert=j.debug;j.serverURL&&(a._serverUrl=j.serverURL);for(var r=!1,b=null,e=j.use.toUpperCase().split("#")[0].split(" "),c=0;c<e.length;c++){switch(e[c]){case"JAVA":r=!0;a.featureDetection.supportsJava()&&(b=new h(d,j,l));break;case"WEBGL":b=h._getCanvas(d,j,l,!0);break;case"HTML5":a.featureDetection.allowHTML5?b=h._getCanvas(d,j,l,!1):e.push("JAVA");break;case"IMAGE":b=new a._Image(d,j,l)}if(null!=b){break}}null==b&&(l||!r?b={_jmolType:"none"}:r&&(b=new h(d,j)));return l?b:a._registerApplet(d,b)};h._getCanvas=function(d,j,l,r){j._isLayered=!1;j._platform="J.awtjs2d.Platform";return r&&a.featureDetection.supportsWebGL()?(a._Canvas3D.prototype=a.GLmol.extendApplet(a._jsSetPrototype(new h(d,j,!0))),new a._Canvas3D(d,j,"Jmol",l)):!r?(a._Canvas2D.prototype=a._jsSetPrototype(new h(d,j,!0)),new a._Canvas2D(d,j,"Jmol",l)):null};h._noJavaMsg="Either you do not have Java applets enabled in your web<br />browser or your browser is blocking this applet.<br />\t\t\tCheck the warning message from your browser and/or enable Java applets in<br />\t\t\tyour web browser preferences, or install the Java Runtime Environment from <a href='http://www.java.com'>www.java.com</a>";h._setCommonMethods=function(a){a._showInfo=j._showInfo;a._search=j._search;a._getName=j._getName;a._readyCallback=j._readyCallback};h._createApplet=function(d,j,s){d._initialize(j.jarPath,j.jarFile);var r=d._jarFile;a._isFile&&(r=r.replace(/0\.jar/,".jar"));var b=0<=d._containerWidth.indexOf("px")?d._containerWidth:"100%",e=0<=d._containerHeight.indexOf("px")?d._containerHeight:"100%",b=' style="width:'+b+";height:"+e+'" ',e="name='"+d._id+"_object' id='"+d._id+"_object' \n"+b+"\n";s.codebase=d._jarPath;s.codePath=s.codebase+"/";if(0>s.codePath.indexOf("://")){var c=l.location.href.split("#")[0].split("?")[0].split("/");c[c.length-1]=s.codePath;s.codePath=c.join("/")}s.archive=r;s.mayscript="true";s.java_arguments="-Xmx"+Math.round(j.memoryLimit||d._memoryLimit)+"m";s.permissions=d._isSigned?"all-permissions":"sandbox";s.documentLocation=l.location.href;s.documentBase=l.location.href.split("#")[0].split("?")[0];s.jarPath=j.jarPath;a._syncedApplets.length&&(s.synccallback="Jmol._mySyncCallback");d._startupScript&&(s.script=d._startupScript);var c="\n",q;for(q in s){s[q]&&(c+="  <param name='"+q+"' value='"+s[q]+"' />\n")}c=a.featureDetection.useIEObject||a.featureDetection.useHtml4Object?"<object "+e+(a.featureDetection.useIEObject?" classid='clsid:8AD9C840-044E-11D1-B3E9-00805F499D93' codebase='http://java.sun.com/update/1.6.0/jinstall-6u22-windows-i586.cab'>":" type='application/x-java-applet'>")+c+"<p style='background-color:yellow;"+b.split('"')[1]+";text-align:center;vertical-align:middle;'>\n"+h._noJavaMsg+"</p></object>\n":"<applet "+e+" code='"+s.code+"' codebase='"+d._jarPath+"' archive='"+r+"' mayscript='true'>\n"+c+"<table bgcolor='yellow'><tr><td align='center' valign='middle' "+b+">\n"+h._noJavaMsg+"</td></tr></table></applet>\n";d._deferApplet&&(d._javaCode=c,c="");c=a._getWrapper(d,!0)+c+a._getWrapper(d,!1)+(j.addSelectionOptions?a._getGrabberOptions(d):"");a._debugAlert&&alert(c);d._code=a._documentWrite(c)};j._newApplet=function(a){this._is2D||a.put("script",(a.get("script")||"")+";set multipleBondSpacing 0.35;");this._viewerOptions=a;return new J.appletjs.Jmol(a)};j._addCoreFiles=function(){a._addCoreFile("jmol",this._j2sPath,this.__Info.preloadCore);this._is2D||a._addExec([this,null,"J.export.JSExporter","load JSExporter"]);a._debugCode&&a._addExec([this,null,"J.appletjs.Jmol","load Jmol"])};j._create=function(d,j){a._setObject(this,d,j);var l={syncId:a._syncId,progressbar:"true",progresscolor:"blue",boxbgcolor:this._color||"black",boxfgcolor:"white",boxmessage:"Downloading JmolApplet ...",script:this._color?'background "'+this._color+'"':"",code:"JmolApplet.class"};a._setAppletParams(this._availableParams,l,j);var r;j.inlineModel?(r=j.inlineModel,r=r.replace(/\r|\n|\r\n/g,0<=r.indexOf("|")?"\\/n":"|").replace(/'/g,"&#39;"),a._debugAlert&&alert("inline model:\n"+r)):r="";l.loadInline=r;l.appletReadyCallback="Jmol._readyCallback";a._syncedApplets.length&&(l.synccallback="Jmol._mySyncCallback");l.java_arguments="-Xmx"+Math.round(j.memoryLimit||this._memoryLimit)+"m";this._initialize(j.jarPath,j.jarFile);h._createApplet(this,j,l)};j._restoreState=function(d,h){System.out.println("\n\nasynchronous restore state for "+d+" "+h);var j=this,l=j._applet&&j._applet.viewer;switch(h){case"setOptions":return function(){j.__startAppletJS(j)};case"render":return function(){setTimeout(function(){l.refresh(2)},10)};default:switch(d){case"J.shape.Balls":case"J.shape.Sticks":case"J.shape.Frank":return null}if(l&&l.isScriptExecuting&&l.isScriptExecuting()){if(a._asyncCallbacks[d]){return System.out.println("...ignored"),1}var b=l.getEvalContextAndHoldQueue(l.eval),e=b.pc-1;b.asyncID=d;a._asyncCallbacks[d]=function(a){b.pc=a;System.out.println("sc.asyncID="+b.asyncID+" sc.pc = "+b.pc);l.eval.resumeEval(b)};l.eval.pc=l.eval.pcEnd;System.out.println("setting resume for pc="+b.pc+" "+d+" to "+a._asyncCallbacks[d]+"//");return function(){System.out.println("resuming "+d+" "+a._asyncCallbacks[d]);a._asyncCallbacks[d](e)}}System.out.println(d+"?????????????????????"+h);return function(){setTimeout(function(){l.refresh(2)},10)}}};j._readyCallback=function(d,h,j){j&&(a._setDestroy(this),this._ready=!0,d=this._readyScript,this._defaultModel?a._search(this,this._defaultModel,d?";"+d:""):d?this._script(d):this._src&&this._script('load "'+this._src+'"'),this._showInfo(!0),this._showInfo(!1),a.Cache.setDragDrop(this),this._readyFunction&&this._readyFunction(this),a._setReady(this),(d=this._2dapplet)&&(d._isEmbedded&&d._ready&&d.__Info.visible)&&this._show2d(!0))};j._showInfo=function(d){d&&this._2dapplet&&this._2dapplet._show(!1);a.$html(a.$(this,"infoheaderspan"),this._infoHeader);this._info&&a.$html(a.$(this,"infodiv"),this._info);if(!this._isInfoVisible!=!d){this._isInfoVisible=d;if(this._isJava){var h=d?2:"100%";a.$setSize(a.$(this,"appletdiv"),h,h)}a.$setVisible(a.$(this,"infotablediv"),d);a.$setVisible(a.$(this,"infoheaderdiv"),d);this._show(!d)}};j._show2d=function(a){this._2dapplet._show2d(a);this._2dapplet._isEmbedded&&(this._showInfo(!1),this._show(!a),this._2dapplet.__showContainer(!0,!0))};j._getAtomCorrelation=function(a){this._loadMolData(a,"atommap = compare({1.1} {2.1} 'MAP' 'H'); zap 2.1",!0);a=jmol._evaluate("atommap");for(var h=jmol._evaluate("{*}.count"),j=[],l=[],b=0;b<a.length;b++){var e=a[b];j[e[0]+1]=e[1]-h+1;l[e[1]-h+1]=e[0]+1}return{fromJmol:j,toJmol:l}};j._show=function(d){var h=!d?2:"100%";a.$setSize(a.$(this,"object"),h,h);this._isJava||a.$setVisible(a.$(this,"appletdiv"),d)};j._clearConsole=function(){this._console==this._id+"_infodiv"&&(this.info="");self.Clazz&&(a._setConsoleDiv(this._console),Clazz.Console.clear())};j._addScript=function(a){this._readyScript||(this.readyScript="");this._readyScript&&(this._readyScript+=";");this._readyScript+=a;return !0};j._script=function(d){if(!this._ready){return this._addScript(d)}a._setConsoleDiv(this._console);this._applet.script(d)};j._syncScript=function(a){this._applet.syncScript(a)};j._scriptCheck=function(a){return this._ready&&this._applet.scriptCheck(a)};j._scriptWait=function(a,h){var j=this._scriptWaitAsArray(a),l="";if(!h){for(var b=j.length;0<=--b;){for(var e=0,c=j[b].length;e<c;e++){l+=j[b][e]+"\n"}}}return l};j._scriptEcho=function(a){a=this._scriptWaitAsArray(a);for(var h="",j=a.length;0<=--j;){for(var l=a[j].length;0<=--l;){"scriptEcho"==a[j][l][1]&&(h+=a[j][l][3]+"\n")}}return h.replace(/ \| /g,"\n")};j._scriptMessage=function(a){a=this._scriptWaitAsArray(a);for(var h="",j=a.length;0<=--j;){for(var l=a[j].length;0<=--l;){"scriptStatus"==a[j][l][1]&&(h+=a[j][l][3]+"\n")}}return h.replace(/ \| /g,"\n")};j._scriptWaitOutput=function(a){var h="";try{a&&(h+=this._applet.scriptWaitOutput(a))}catch(j){}return h};j._scriptWaitAsArray=function(d){var h="";try{if(this._getStatus("scriptEcho,scriptMessage,scriptStatus,scriptError"),d&&(h+=this._applet.scriptWait(d),h=a._evalJSON(h,"jmolStatus"),"object"==typeof h)){return h}}catch(j){}return[[h]]};j._getStatus=function(d){return a._sortMessages(this._getPropertyAsArray("jmolStatus",d))};j._getPropertyAsArray=function(d,h){return a._evalJSON(this._getPropertyAsJSON(d,h),d)};j._getPropertyAsString=function(a,h){void 0==h&&(h="");return this._applet.getPropertyAsString(a,h)+""};j._getPropertyAsJSON=function(a,h){void 0==h&&(h="");try{return this._applet.getPropertyAsJSON(a,h)+""}catch(j){return""}};j._getPropertyAsJavaObject=function(a,h){void 0==h&&(h="");return this._applet.getProperty(a,h)};j._evaluate=function(a){null!=a||(a="");return this._getPropertyAsArray("variableInfo",a)};j._evaluateDEPRECATED=function(a){a=""+this._getPropertyAsJavaObject("evaluate",a);var h=a.replace(/\-*\d+/,"");if(""==h&&!isNaN(parseInt(a))){return parseInt(a)}h=a.replace(/\-*\d*\.\d*/,"");return""==h&&!isNaN(parseFloat(a))?parseFloat(a):a};j._saveOrientation=function(a){return this._savedOrientations[a]=this._getPropertyAsArray("orientationInfo","info").moveTo};j._restoreOrientation=function(a){a=this._savedOrientations[a];return !a||""==a?a.replace(/1\.0/,"0"):this._scriptWait(a)};j._restoreOrientationDelayed=function(a,h){1>arguments.length&&(h=1);var j=this._savedOrientations[a];return !j||""==j?j.replace(/1\.0/,h):this._scriptWait(j)};j._resizeApplet=function(d){function h(d,b){var e=""+d;return 0==e.length?b?"":a._allowedJmolSize[2]:e.indexOf("%")==e.length-1?e:1>=(d=parseFloat(d))&&0<d?100*d+"%":(isNaN(d=Math.floor(d))?a._allowedJmolSize[2]:d<a._allowedJmolSize[0]?a._allowedJmolSize[0]:d>a._allowedJmolSize[1]?a._allowedJmolSize[1]:d)+(b?b:"")}var j;"object"==typeof d&&null!=d?(j=d[0]||d.width,d=d[1]||d.height):j=d;j=[h(j,"px"),h(d,"px")];d=a._getElement(this,"appletinfotablediv");d.style.width=j[0];d.style.height=j[1];this._containerWidth=j[0];this._containerHeight=j[1];this._is2D&&a._repaint(this,!0)};j._search=function(d,h){a._search(this,d,h)};j._searchDatabase=function(d,h,j){if(this._2dapplet&&this._2dapplet._isEmbedded&&!a.$(this,"appletdiv:visible")[0]){return this._2dapplet._searchDatabase(d,h,j)}this._showInfo(!1);0<=d.indexOf("?")?a._getInfoFromDatabase(this,h,d.split("?")[0]):(j||(j=a._getScriptForDatabase(h)),d=h+d,this._currentView=null,this._searchQuery=d,this._loadFile(d,j,d))};j._loadFile=function(d,h,j){this._showInfo(!1);h||(h="");this._thisJmolModel=""+Math.random();this._fileName=d;if(!this._scriptLoad(d,h)){var l=this;a._loadFileData(this,d,function(a){l.__loadModel(a,h,j)},function(){l.__loadModel(null)})}};j._scriptLoad=function(a,h){h||(h="");var j=this._isJava||!this._noscript;j&&this._script("zap;set echo middle center;echo Retrieving data...");if(!this._isSigned||null!=this._viewSet){return !1}j?this._script('load async "'+a+'";'+h):this._applet.openFile(a);this._checkDeferred("");return !0};j.__loadModel=function(d,h,j){null!=d&&(null!=this._viewSet&&(h||(h=""),h+=";if ({*}.molecule.max > 1 || {*}.modelindex.max > 0){ delete molecule > 1 or modelindex > 0;x = getProperty('extractModel',{*});load inline @x};"),!h&&this._noscript?this._applet.loadInlineString(d,"",!1):this._loadMolData(d,h,!1),null!=this._viewSet&&a.View.updateView(this,{chemID:j,data:d}))};j._loadMolData=function(a,h,j){h||(h="");j=j?"append":"model";this._applet.scriptWait('load DATA "'+j+'"'+a+'\nEND "'+j+'" ;'+h)};j._loadModelFromView=function(d){this._currentView=d;var h=d.Jmol;null!=h.data?this.__loadModel(h.data,null,d.info.chemID):null!=d.info.chemID?a._searchMol(this,d.info.chemID,null,!1):(h=d.JME)&&h.applet._show2d(!1,this)};j._updateView=function(){null!=this._viewSet&&this._applet&&(chemID=""+this._getPropertyAsJavaObject("variableInfo","script('show chemical inchiKey')"),chemID=36>chemID.length()?null:chemID.substring(36).split("\n")[0],a.View.updateView(this,{chemID:chemID,data:""+this._getPropertyAsJavaObject("evaluate","extractModel","{visible}")}))};j._atomPickedCallback=function(d,h){if(!(0>h)){var j=[h+1];a.View.updateAtomPick(this,j);this._updateAtomPick(j)}};j._updateAtomPick=function(a){this._script(0==a.length?"select none":"select on visible and (@"+a.join(",@")+")")};j._isDeferred=function(){return !this._canvas&&this._cover&&this._isCovered&&this._deferApplet};j._checkDeferred=function(a){return this._isDeferred()?(this._coverScript=a,this._cover(!1),!0):!1};j._cover=function(d){d||!this._deferApplet?this._displayCoverImage(d):(d=this._coverScript?this._coverScript:"",this._coverScript="",this._deferUncover&&(d+=";refresh;javascript "+this._id+"._displayCoverImage(false)"),this._script(d,!0),this._deferUncover&&"activate 3D model"==this._coverTitle&&(a._getElement(this,"coverimage").title="3D model is loading..."),this._isJava||this._newCanvas(!1),this._defaultModel&&a._search(this,this._defaultModel),this._showInfo(!1),this._deferUncover||this._displayCoverImage(!1),this._isJava&&a.$html(a.$(this,"appletdiv"),this._javaCode),this._init&&this._init())};j._displayCoverImage=function(d){this._coverImage&&this._isCovered!=d&&(this._isCovered=d,a._getElement(this,"coverdiv").style.display=d?"block":"none")};j._getSmiles=function(){return this._evaluate("{visible}.find('SMILES')")};j._getMol=function(){return this._evaluate("getProperty('ExtractModel',{visible})")};j._getMol2D=function(){return jmol._evaluate("script('select visible;show chemical sdf')")};a.jmolSmiles=function(a){return a._getSmiles()}})(Jmol,document);(function(d){var a=d.controls={_hasResetForms:!1,_scripts:[""],_checkboxMasters:{},_checkboxItems:{},_actions:{},_buttonCount:0,_checkboxCount:0,_radioGroupCount:0,_radioCount:0,_linkCount:0,_cmdCount:0,_menuCount:0,_previousOnloadHandler:null,_control:null,_element:null,_appletCssClass:null,_appletCssText:"",_buttonCssClass:null,_buttonCssText:"",_checkboxCssClass:null,_checkboxCssText:"",_radioCssClass:null,_radioCssText:"",_linkCssClass:null,_linkCssText:"",_menuCssClass:null,_menuCssText:""};a._addScript=function(j,c){var b=a._scripts.length;a._scripts[b]=[j,c];return b};a._getIdForControl=function(c,b){return"string"==typeof c?c:!b||!c._canScript||c._canScript(b)?c._id:null};a._radio=function(c,t,r,u,b,v,j,s){var n=a._getIdForControl(c,t);if(null==n){return null}++a._radioCount;void 0!=v&&null!=v||(v="jmolRadioGroup"+(a._radioGroupCount-1));if(!t){return""}void 0!=j&&null!=j||(j="jmolRadio"+(a._radioCount-1));void 0!=r&&null!=r||(r=t.substring(0,32));b||(b="");c="</span>";a._actions[j]=a._addScript(n,t);t='<span id="span_'+j+'"'+(s?' title="'+s+'"':"")+"><input name='"+v+"' id='"+j+"' type='radio' onclick='Jmol.controls._click(this);return true;' onmouseover='Jmol.controls._mouseOver(this);return true;' onmouseout='Jmol.controls._mouseOut()' "+(u?"checked='true' ":"")+a._radioCssText+" />";0<=r.toLowerCase().indexOf("<td>")&&(t+=c,c="");return t+('<label for="'+j+'">'+r+"</label>"+c+b)};a._scriptExecute=function(h,j){var c=d._applets[j[0]],b=j[1];if("object"==typeof b){b[0](h,b,c)}else{"function"==typeof b?b(c):d.script(c,b)}};a.__checkScript=function(j,c){var b=0<=c.value.indexOf("JSCONSOLE ")||""===j._scriptCheck(c.value);c.style.color=b?"black":"red";return b};a.__getCmd=function(j,c){if(c._cmds&&c._cmds.length){var b=c._cmds[c._cmdpt=(c._cmdpt+c._cmds.length+j)%c._cmds.length];setTimeout(function(){c.value=b},10);c._cmdadd=1;c._cmddir=j}};a._commandKeyPress=function(j,c,h){j=13==j?13:window.event?window.event.keyCode:j?j.keyCode||j.which:0;var b=document.getElementById(c),m=d._applets[h];switch(j){case 13:return c=b.value,a._scriptExecute(b,[h,c]),b._cmds||(b._cmds=[],b._cmddir=0,b._cmdpt=-1,b._cmdadd=0),c&&0==b._cmdadd?(++b._cmdpt,b._cmds.splice(b._cmdpt,0,c),b._cmdadd=0,b._cmddir=0):b._cmdadd=0,b.value="",!1;case 27:return setTimeout(function(){b.value=""},20),!1;case 38:a.__getCmd(-1,b);break;case 40:a.__getCmd(1,b);break;default:b._cmdadd=0}setTimeout(function(){a.__checkScript(m,b)},20);return !0};a._click=function(c,b){a._element=c;1==arguments.length&&(b=a._actions[c.id]);a._scriptExecute(c,a._scripts[b])};a._menuSelected=function(j){var c=j.value;if(void 0!=c){a._scriptExecute(j,a._scripts[c])}else{c=j.length;if("number"==typeof c){for(var b=0;b<c;++b){if(j[b].selected){a._click(j[b],j[b].value);return}}}alert("?Que? menu selected bug #8734")}};a._cbNotifyMaster=function(l){var j=!0,c=!0,b;for(b in l.chkGroup){l.chkGroup[b].checked?c=!1:j=!1}j&&(l.chkMaster.checked=!0);c&&(l.chkMaster.checked=!1);(j||c)&&a._checkboxItems[l.chkMaster.id]&&a._cbNotifyMaster(a._checkboxItems[l.chkMaster.id])};a._cbNotifyGroup=function(l,j){for(var c in l.chkGroup){var b=l.chkGroup[c];b.checked!=j&&(b.checked=j,a._cbClick(b));a._checkboxMasters[b.id]&&a._cbNotifyGroup(a._checkboxMasters[b.id],j)}};a._cbSetCheckboxGroup=function(n,m,c){var b=n;"number"==typeof b&&(b="jmolCheckbox"+b);(n=document.getElementById(b))||alert("jmolSetCheckboxGroup: master checkbox not found: "+b);var j=a._checkboxMasters[b]={};j.chkMaster=n;j.chkGroup={};"string"==typeof m?(m=c,b=1):b=0;for(n=b;n<m.length;n++){b=m[n],"number"==typeof b&&(b="jmolCheckbox"+b),(checkboxItem=document.getElementById(b))||alert("jmolSetCheckboxGroup: group checkbox not found: "+b),j.chkGroup[b]=checkboxItem,a._checkboxItems[b]=j}};a._cbClick=function(j){a._control=j;var c=a._actions[j.id][0],b=a._actions[j.id][1];a._click(j,j.checked?c:b);a._checkboxMasters[j.id]&&a._cbNotifyGroup(a._checkboxMasters[j.id],j.checked);a._checkboxItems[j.id]&&a._cbNotifyMaster(a._checkboxItems[j.id])};a._cbOver=function(j){var c=a._actions[j.id][0],b=a._actions[j.id][1];window.status=a._scripts[j.checked?b:c]};a._mouseOver=function(c,b){1==arguments.length&&(b=a._actions[c.id]);window.status=a._scripts[b]};a._mouseOut=function(){window.status=" ";return !0};a._onloadResetForms=function(){a._hasResetForms||(a._hasResetForms=!0,a._previousOnloadHandler=window.onload,window.onload=function(){if(0<a._buttonCount+a._checkboxCount+a._menuCount+a._radioCount+a._radioGroupCount){for(var c=document.forms,b=c.length;0<=--b;){c[b].reset()}}a._previousOnloadHandler&&a._previousOnloadHandler()})};a._getButton=function(j,c,h,b,m){j=a._getIdForControl(j,c);if(null==j){return""}void 0!=b&&null!=b||(b="jmolButton"+a._buttonCount);void 0!=h&&null!=h||(h=c.substring(0,32));++a._buttonCount;a._actions[b]=a._addScript(j,c);c='<span id="span_'+b+'"'+(m?' title="'+m+'"':"")+"><input type='button' name='"+b+"' id='"+b+"' value='"+h+"' onclick='Jmol.controls._click(this)' onmouseover='Jmol.controls._mouseOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+a._buttonCssText+" /></span>";d._debugAlert&&alert(c);return d._documentWrite(c)};a._getCheckbox=function(j,q,s,r,n,h,c){var b=a._getIdForControl(j,q);null!=b&&(b=a._getIdForControl(j,s));if(null==b){return""}void 0!=h&&null!=h||(h="jmolCheckbox"+a._checkboxCount);++a._checkboxCount;if(void 0==q||null==q||void 0==s||null==s){alert("jmolCheckbox requires two scripts")}else{if(void 0==r||null==r){alert("jmolCheckbox requires a label")}else{return a._actions[h]=[a._addScript(b,q),a._addScript(b,s)],j="</span>",n='<span id="span_'+h+'"'+(c?' title="'+c+'"':"")+"><input type='checkbox' name='"+h+"' id='"+h+"' onclick='Jmol.controls._cbClick(this)' onmouseover='Jmol.controls._cbOver(this);return true' onmouseout='Jmol.controls._mouseOut()' "+(n?"checked='true' ":"")+a._checkboxCssText+" />",0<=r.toLowerCase().indexOf("<td>")&&(n+=j,j=""),n+='<label for="'+h+'">'+r+"</label>"+j,d._debugAlert&&alert(n),d._documentWrite(n)}}};a._getCommandInput=function(n,h,c,b,o,j){n=a._getIdForControl(n,"x");if(null==n){return""}void 0!=b&&null!=b||(b="jmolCmd"+a._cmdCount);void 0!=h&&null!=h||(h="Execute");void 0!=c&&!isNaN(c)||(c=60);void 0!=j||(j="help");++a._cmdCount;h='<span id="span_'+b+'"'+(o?' title="'+o+'"':"")+"><input name='"+b+"' id='"+b+"' size='"+c+"' onkeydown='return Jmol.controls._commandKeyPress(event,\""+b+'","'+n+"\")' value='"+j+"'/><input  type='button' name='"+b+"Btn' id='"+b+"Btn' value = '"+h+"' onclick='Jmol.controls._commandKeyPress(13,\""+b+'","'+n+"\")' /></span>";d._debugAlert&&alert(h);return d._documentWrite(h)};a._getLink=function(j,c,h,b,m){j=a._getIdForControl(j,c);if(null==j){return""}void 0!=b&&null!=b||(b="jmolLink"+a._linkCount);void 0!=h&&null!=h||(h=c.substring(0,32));++a._linkCount;c=a._addScript(j,c);h='<span id="span_'+b+'"'+(m?' title="'+m+'"':"")+"><a name='"+b+"' id='"+b+"' href='javascript:Jmol.controls._click(null,"+c+");' onmouseover='Jmol.controls._mouseOver(null,"+c+");return true;' onmouseout='Jmol.controls._mouseOut()' "+a._linkCssText+">"+h+"</a></span>";d._debugAlert&&alert(h);return d._documentWrite(h)};a._getMenu=function(j,n,c,q,v){var s=a._getIdForControl(j,null);void 0!=q&&null!=q||(q="jmolMenu"+a._menuCount);++a._menuCount;s=typeof n;if(null!=s&&"object"==s&&n.length){var x=n.length;"number"!=typeof c||1==c?c=null:0>c&&(c=x);c='<span id="span_'+q+'"'+(v?' title="'+v+'"':"")+"><select name='"+q+"' id='"+q+"' onChange='Jmol.controls._menuSelected(this)'"+(c?" size='"+c+"' ":"")+a._menuCssText+">";for(q=0;q<x;++q){var h=n[q],s=typeof h,b=null,r=v=null;"object"==s&&null!=h?(b=h[0],v=h[1],r=h[2]):b=v=h;s=a._getIdForControl(j,b);if(null==s){return""}null==v&&(v=b);"#optgroup"==b?c+="<optgroup label='"+v+"'>":"#optgroupEnd"==b?c+="</optgroup>":(s=a._addScript(s,b),c+="<option value='"+s+(r?"' selected='true'>":"'>")+v+"</option>")}c+="</select></span>";d._debugAlert&&alert(c);return d._documentWrite(c)}};a._getRadio=function(j,q,s,r,n,h,c,b){0==a._radioGroupCount&&++a._radioGroupCount;h||(h="jmolRadioGroup"+(a._radioGroupCount-1));j=a._radio(j,q,s,r,n,h,c?c:h+"_"+a._radioCount,b?b:0);if(null==j){return""}d._debugAlert&&alert(j);return d._documentWrite(j)};a._getRadioGroup=function(h,j,B,n,y,s){var z=typeof j;if("object"!=z||null==z||!j.length){alert("invalid arrayOfRadioButtons")}else{void 0!=B&&null!=B||(B="&#xa0; ");var b=j.length;++a._radioGroupCount;n||(n="jmolRadioGroup"+(a._radioGroupCount-1));for(var A="<span id='"+(y?y:n)+"'>",r=0;r<b;++r){r==b-1&&(B="");var q=j[r],z=typeof q,c=null,A="object"==z?A+(c=a._radio(h,q[0],q[1],q[2],B,n,3<q.length?q[3]:(y?y:n)+"_"+r,4<q.length?q[4]:0,s)):A+(c=a._radio(h,q,null,null,B,n,(y?y:n)+"_"+r,s));if(null==c){return""}}A+="</span>";d._debugAlert&&alert(A);return d._documentWrite(A)}}})(Jmol);(function(d){var a=function(b){b="&"+b+"=";return decodeURI(("&"+document.location.search.substring(1)+b).split(b)[1].split("&")[0])};d._j2sPath=a("_J2S");d._jarFile=a("_JAR");d._use=a("_USE");d.getVersion=function(){return d._jmolInfo.version};d.getApplet=function(h,b,c){return d._Applet._get(h,b,c)};d.getJMEApplet=function(h,j,c,b){return d._JMEApplet._get(h,j,c,b)};d.getJSVApplet=function(h,b,c){return d._JSVApplet._get(h,b,c)};d.loadFile=function(j,c,b){j._loadFile(c,b)};d.script=function(c,b){c._checkDeferred(b)||c._script(b)};d.scriptCheck=function(c,b){return c&&c._scriptCheck&&c._ready&&c._scriptCheck(b)};d.scriptWait=function(c,b){return c._scriptWait(b)};d.scriptEcho=function(c,b){return c._scriptEcho(b)};d.scriptMessage=function(c,b){return c._scriptMessage(b)};d.scriptWaitOutput=function(c,b){return c._scriptWait(b)};d.scriptWaitAsArray=function(c,b){return c._scriptWaitAsArray(b)};d.search=function(j,c,b){j._search(c,b)};d.evaluateVar=function(c,b){return c._evaluate(b)};d.evaluate=function(c,b){return c._evaluateDEPRECATED(b)};d.getAppletHtml=function(h,b){if(b){var c=d._document;d._document=null;h=d.getApplet(h,b);d._document=c}return h._code};d.getPropertyAsArray=function(j,c,b){return j._getPropertyAsArray(c,b)};d.getPropertyAsJavaObject=function(j,c,b){return j._getPropertyAsJavaObject(c,b)};d.getPropertyAsJSON=function(j,c,b){return j._getPropertyAsJSON(c,b)};d.getPropertyAsString=function(j,c,b){return j._getPropertyAsString(c,b)};d.getStatus=function(c,b){return c._getStatus(b)};d.resizeApplet=function(c,b){return c._resizeApplet(b)};d.restoreOrientation=function(c,b){return c._restoreOrientation(b)};d.restoreOrientationDelayed=function(j,c,b){return j._restoreOrientationDelayed(c,b)};d.saveOrientation=function(c,b){return c._saveOrientation(b)};d.say=function(b){alert(b)};d.clearConsole=function(b){b._clearConsole()};d.getInfo=function(b){return b._info};d.setInfo=function(j,c,b){j._info=c;2<arguments.length&&j._showInfo(b)};d.showInfo=function(c,b){c._showInfo(b)};d.show2d=function(c,b){c._show2d(b)};d.jmolBr=function(){return d._documentWrite("<br />")};d.jmolButton=function(h,l,b,c,j){return d.controls._getButton(h,l,b,c,j)};d.jmolCheckbox=function(b,j,p,l,h,q,c){return d.controls._getCheckbox(b,j,p,l,h,q,c)};d.jmolCommandInput=function(h,l,o,c,j,b){return d.controls._getCommandInput(h,l,o,c,j,b)};d.jmolHtml=function(b){return d._documentWrite(b)};d.jmolLink=function(h,l,b,c,j){return d.controls._getLink(h,l,b,c,j)};d.jmolMenu=function(h,l,b,c,j){return d.controls._getMenu(h,l,b,c,j)};d.jmolRadio=function(b,j,q,l,h,s,c,r){return d.controls._getRadio(b,j,q,l,h,s,c,r)};d.jmolRadioGroup=function(h,l,o,c,j,b){return d.controls._getRadioGroup(h,l,o,c,j,b)};d.setCheckboxGroup=function(c,b){d.controls._cbSetCheckboxGroup(c,b,arguments)};d.setDocument=function(b){d._document=b};d.setXHTML=function(b){d._isXHTML=!0;d._XhtmlElement=null;d._XhtmlAppendChild=!1;b&&(d._XhtmlElement=document.getElementById(b),d._XhtmlAppendChild=!0)};d.setAppletCss=function(c,b){null!=c&&(d._appletCssClass=c);d._appletCssText=b?b+" ":c?'class="'+c+'" ':""};d.setButtonCss=function(c,b){null!=c&&(d.controls._buttonCssClass=c);d.controls._buttonCssText=b?b+" ":c?'class="'+c+'" ':""};d.setCheckboxCss=function(c,b){null!=c&&(d.controls._checkboxCssClass=c);d.controls._checkboxCssText=b?b+" ":c?'class="'+c+'" ':""};d.setRadioCss=function(c,b){null!=c&&(d.controls._radioCssClass=c);d.controls._radioCssText=b?b+" ":c?'class="'+c+'" ':""};d.setLinkCss=function(c,b){null!=c&&(d.controls._linkCssClass=c);d.controls._linkCssText=b?b+" ":c?'class="'+c+'" ':""};d.setMenuCss=function(c,b){null!=c&&(d.controls._menuCssClass=c);d.controls._menuCssText=b?b+" ":c?'class="'+c+'" ':""};d.setAppletSync=function(h,b,c){d._syncedApplets=h;d._syncedCommands=b;d._syncedReady={};d._isJmolJSVSync=c};d.setGrabberOptions=function(b){d._grabberOptions=b};d.setAppletHtml=function(c,b){c._code&&(d.$html(b,c._code),c._init&&!c._deferApplet&&c._init())};d.coverApplet=function(c,b){c._cover&&c._cover(b)};d.setFileCaching=function(c,b){c?c._cacheFiles=b:d.fileCache=b?{}:null};d.updateView=function(j,c,b){j._updateView(c,b)};d.getChemicalInfo=function(h,b,c){b||(b="name");"string"!=typeof applet_or_Identifier&&(h=h._getSmiles());return d._getNCIInfo(h,b,c)};d.saveImage=function(b){switch(b._viewType){case"Jmol":b._script('write PNGJ "'+b._id+'.png"');break;case"JSV":b._script("write PDF");break;case"JME":b._script("print")}}})(Jmol);LoadClazz=function(){c$=null;window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!1);window["j2s.clazzloaded"]||(window["j2s.clazzloaded"]=!0,window["j2s.object.native"]=!0,Clazz={_isQuiet:!1},function(a,l){var h=["j2s.clazzloaded","j2s.object.native"];a.setGlobal=function(a,b){h.push(a);window[a]=b};a.getGlobals=function(){return h.sort().join("\n")};a.setConsoleDiv=function(a){window["j2s.lib"]&&(window["j2s.lib"].console=a)};var j=window["j2s.doProfile"]&&self.JSON?{}:null;NullObject=function(){};a._supportsNativeObject=window["j2s.object.native"];a._supportsNativeObject?(a._O=function(){},a._O.__CLASS_NAME__="Object",a._O.getClass=function(){return a._O}):a._O=Object;a.Console={};a.dateToString=Date.prototype.toString;a._hashCode=0;var d=a._O.prototype;d.equals=function(a){return this==a};d.hashCode=function(){return this._$hashcode||(this._$hashcode=++a._hashCode)};d.getClass=function(){return a.getClass(this)};d.clone=function(){return a.clone(this)};a.clone=function(a){var b=new a.constructor,c;for(c in a){b[c]=a[c]}return b};d.finalize=function(){};d.notify=function(){};d.notifyAll=function(){};d.wait=function(){};d.to$tring=Object.prototype.toString;d.toString=function(){return this.__CLASS_NAME__?"["+this.__CLASS_NAME__+" object]":this.to$tring.apply(this,arguments)};a._extendedObjectMethods="equals hashCode getClass clone finalize notify notifyAll wait to$tring toString".split(" ");a.extendJO=function(b,c){c&&(b.__CLASS_NAME__=b.prototype.__CLASS_NAME__=c);if(a._supportsNativeObject){for(var d=0;d<a._extendedObjectMethods.length;d++){var e=a._extendedObjectMethods[d];b.prototype[e]=a._O.prototype[e]}}};a.extractClassName=function(a){a=a.substring(1,a.length-1);return 0<=a.indexOf("Array")?"Array":0<=a.indexOf("object ")?a.substring(7):a};a.getClassName=function(b,c){if(null==b){return"NullObject"}if(b instanceof a.CastedNull){return b.clazzName}switch(typeof b){case"number":return"n";case"boolean":return"b";case"string":return"String";case"function":if(b.__CLASS_NAME__){return c?b.__CLASS_NAME__:"Class"}var d=b.toString(),e=d.indexOf("function");if(0>e){return"["==d.charAt(0)?a.extractClassName(d):d.replace(/[^a-zA-Z0-9]/g,"")}var e=e+8,j=d.indexOf("(",e);if(0>j){break}d=d.substring(e,j);if(0<=d.indexOf("Array")){return"Array"}d=d.replace(/^\s+/,"").replace(/\s+$/,"");return"anonymous"==d||""==d?"Function":d;case"object":if(b.__CLASS_NAME__){return b.__CLASS_NAME__}if(!b.constructor){break}if(!b.constructor.__CLASS_NAME__){if(b instanceof Number){return"Number"}if(b instanceof Boolean){return"Boolean"}if(b instanceof Array){return"Array"}d=b.toString();if("["==d.charAt(0)){return a.extractClassName(d)}}return a.getClassName(b.constructor,!0)}return"Object"};a.getClass=function(b){if(!b){return a._O}if("function"==typeof b){return b}if(b instanceof a.CastedNull){b=b.clazzName}else{switch(typeof b){case"string":return String;case"object":if(!b.__CLASS_NAME__){return b.constructor||a._O}b=b.__CLASS_NAME__;break;default:return b.constructor}}return a.evalType(b,!0)};var n=function(b,c){for(var d=0;d<a.innerFunctionNames.length;d++){if(c==a.innerFunctionNames[d]&&a._innerFunctions[c]===b[c]){return !0}}return !1},s=function(){};a.inheritArgs=new s;a.inheritClass=function(b,c,d){for(var e in c){"b$"!=e&&("prototype"!=e&&"superClazz"!=e&&"__CLASS_NAME__"!=e&&"implementz"!=e&&!n(c,e))&&(b[e]=c[e])}a.unloadedClasses[a.getClassName(b,!0)]||(b.prototype=d?d:c!==Number?new c(a.inheritArgs):new Number);b.superClazz=c;b.prototype.__CLASS_NAME__=b.__CLASS_NAME__};a.implementOf=function(a,b){if(2<=arguments.length){a.implementz||(a.implementz=[]);var c=a.implementz;if(2==arguments.length){if("function"==typeof b){c.push(b),r(a,b)}else{if(b instanceof Array){for(var d=0;d<b.length;d++){c.push(b[d]),r(a,b[d])}}}}else{for(d=1;d<arguments.length;d++){c.push(arguments[d]),r(a,arguments[d])}}}};var r=function(a,b){for(var c in b){if("b$"!=c&&"prototype"!=c&&"superClazz"!=c&&"__CLASS_NAME__"!=c&&"implementz"!=c&&("function"!=typeof b[c]||!n(b,c))){a[c]=a.prototype[c]=b[c]}}};a.extendInterface=a.implementOf;a.equalsOrExtendsLevel=function(b,c){if(b===c){return 0}if(b.implementz){for(var d=b.implementz,e=0;e<d.length;e++){var j=a.equalsOrExtendsLevel(d[e],c);if(0<=j){return j+1}}}return -1};a.getInheritedLevel=function(b,c){if(b===c){return 0}var d="string"==typeof b;if(d&&("void"==b||"unknown"==b)){return -1}var e="string"==typeof c;if(e&&("void"==c||"unknown"==c)){return -1}if(b===(d?"NullObject":NullObject)){switch(c){case Number:case Boolean:case NullObject:break;default:return 0}}d&&(b=a.evalType(b));e&&(c=a.evalType(c));if(!c||!b){return -1}d=0;for(e=b;e!==c&&10>d;){if(e.implementz){for(var j=e.implementz,h=0;h<j.length;h++){var l=a.equalsOrExtendsLevel(j[h],c);if(0<=l){return d+l+1}}}e=e.superClazz;if(!e){return c===Object||c===a._O?d+1.5:-1}d++}return d};a.instanceOf=function(b,c){return null!=b&&c&&(b==c||b instanceof c||0<=a.getInheritedLevel(a.getClassName(b),c))};a.superCall=function(b,c,d,j){var h=null,l=-1,n=b[d];if(n){if(n.claxxOwner){n.claxxOwner!==c&&(h=n)}else{if(!n.stacks&&(!n.lastClaxxRef||!n.lastClaxxRef.prototype[d]||!n.lastClaxxRef.prototype[d].stacks)){h=n}else{var q=n.stacks;q||(q=n.lastClaxxRef.prototype[d].stacks);for(l=q.length;0<=--l;){if(c===q[l]){0<l?(l--,h=q[l].prototype[d]):h=q[0].prototype[d]["\\unknown"];break}else{if(0<a.getInheritedLevel(c,q[l])){h=q[l].prototype[d];break}}}}}}if(h){return 0==l&&"construct"==d&&(c=n.stacks)&&(!c[0].superClazz&&c[0].con$truct)&&c[0].con$truct.apply(b,[]),h.apply(b,j||[])}if("construct"!=d){throw a.alert(["j2slib","no class found",j.typeString]),new e(b,c,d,a.getParamsType(j).typeString)}};a.superConstructor=function(b,c,d){a.superCall(b,c,"construct",d);c.con$truct&&c.con$truct.apply(b,[])};a.CastedNull=function(b){this.clazzName=b?b instanceof String?b:b instanceof Function?a.getClassName(b,!0):""+b:"Object";this.toString=function(){return null};this.valueOf=function(){return null}};a.castNullAs=function(b){return new a.CastedNull(b)};a._initializingException=!1;a._callingStackTraces=[];var b=function(){this.toString=function(){return"J2S MethodException"}},e=function(){this.toString=function(){return"J2S MethodNotFoundException"}},c;try{null.hello()}catch(q){if(d=function(a,b,c){c||(c="[^\\s]+");var d=a.indexOf(b);a=a.substring(0,d)+c+a.substring(d+b.length);return RegExp("^"+a+"$")},/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)){var d=q.message.indexOf(":"),B=q.message.indexOf(":",d+2),O=q.message.substr(d+1,B-d-20);c=function(a){return -1!=a.message.indexOf(O)}}else{if(-1!=navigator.userAgent.toLowerCase().indexOf("webkit")){var T=d(q.message,"hello");c=function(a){return T.test(a.message)}}else{T=d(q.message,"$$o$$"),c=function(a){return T.test(a.message)}}}}a.exceptionOf=function(b,d){return b.__CLASS_NAME__?a.instanceOf(b,d):d==Error?(0<=(""+b).indexOf("Error")&&System.out.println(a.getStackTrace()),0<=(""+b).indexOf("Error")):d==Exception||d==Throwable||d==NullPointerException&&c(b)};a.getStackTrace=function(a){a||(a=25);var b="\n",c=arguments.callee,d=0>a;d&&(a=-a);for(var e=0;e<a&&(c=c.caller);e++){var j=c.toString?c.toString().substring(0,c.toString().indexOf("{")):"<native method>",b=b+(e+" "+(c.exName?(c.claxxOwner?c.claxxOwner.__CLASS_NAME__+".":"")+c.exName+j.replace(/function /,""):j)+"\n");if(c==c.caller){b+="<recursing>\n";break}if(d){for(var j=c.arguments,h=0;h<j.length;h++){var l=""+j[h];60<l.length&&(l=l.substring(0,60)+"...");b+=" args["+h+"]="+l.replace(/\s+/g," ")+"\n"}}}return b};a.makeConstructor=function(b,c,d){a.defineMethod(b,"construct",c,d);b.con$truct&&(b.con$truct.index=b.con$truct.stacks.length)};a.overrideConstructor=function(b,c,d){a.overrideMethod(b,"construct",c,d);b.con$truct&&(b.con$truct.index=b.con$truct.stacks.length)};a.defineMethod=function(c,d,h,l){a.assureInnerClass&&a.assureInnerClass(c,h);h.exName=d;l=K(l);var n=c.prototype,q=n[d];a._Loader._checkLoad&&M(c,d,l);if(!q||q.claxxOwner===c&&q.funParams==l){return h.funParams=l,h.claxxOwner=c,h.exClazz=c,n[d]=h}var s=null,r=q.stacks;r||(r=[],s=q,q.claxxOwner&&(r[0]=s.claxxOwner));if(!q.stacks||q.claxxReference!==c){var A=++Wa,q=function(){var c;a:{var k=arguments.callee.claxxReference,d=arguments.callee.methodName;c=arguments;fx=this[d];var g=a.getParamsType(c);if(!fx){try{System.out.println(a.getStackTrace(5))}catch(h){}}if(j){var m=A+" "+k.__CLASS_NAME__+" "+d+" "+JSON.stringify(g);0>U.indexOf(m)&&(U+=m+"\n");j[m]||(j[m]=0);j[m]++}if(fx.lastParams==g.typeString&&fx.lastClaxxRef===k){if(g.hasCastedNull){k=[];for(d=0;d<c.length;d++){k[d]=c[d] instanceof a.CastedNull?null:c[d]}}else{k=c}c=fx.lastMethod?fx.lastMethod.apply(this,k):null}else{fx.lastParams=g.typeString;fx.lastClaxxRef=k;m=fx.stacks;m||(m=k.prototype[d].stacks);for(var t=!1,l=m.length;0<=--l;){if(t||m[l]===k){var n=m[l].prototype[d],y=g,t=c,q=fx,E=[],s=!0,r=void 0;for(r in n){if(92==r.charCodeAt(0)){var F=r.substring(1).split("\\");F.length==y.length&&E.push(F);s=!1}else{if(s&&"funParams"==r&&n.funParams){r=n.funParams;F=r.substring(1).split("\\");F.length==y.length&&(E[0]=F);break}}}r=void 0;if(!(r=0==E.length)){r=void 0;for(var r=[],sa=E.length,F=0;F<sa;F++){for(var B=[],D=!0,Ya=E[F].length,C=0;C<Ya;C++){if(B[C]=a.getInheritedLevel(y[C],E[F][C]),0>B[C]){D=!1;break}}D&&(B[y.length]=F,r.push(B))}if(0==r.length){r=null}else{sa=r[0];for(F=1;F<r.length;F++){B=!0;for(C=0;C<y.length;C++){if(sa[C]<r[F][C]){B=!1;break}}B&&(sa=r[F])}r=E[sa[y.length]].join("\\")}r=!(E=r)}if(r){t=new b}else{n=s?n:n["\\"+E];s=null;if(y.hasCastedNull){s=[];for(y=0;y<t.length;y++){s[y]=t[y] instanceof a.CastedNull?null:t[y]}}else{s=t}q.lastMethod=n;t=n.apply(this,s)}if(!(t instanceof b)){c=t;break a}t=!0}}if("construct"==d){c=void 0}else{throw new e(this,k,d,g.typeString)}}}return c};q.methodName=d;q.claxxReference=c;q=n[d]=q;d=[];for(n=0;n<r.length;n++){d[n]=r[n]}q.stacks=d}r=q.stacks;0>rb(r,c)&&r.push(c);s&&(s.claxxOwner===c?(q[s.funParams]=s,s.claxxOwner=null,s.funParams=null):s.claxxOwner||(q["\\unknown"]=s));h.exClazz=c;q[l]=h;return q};duplicatedMethods={};var M=function(b,c,d){var e=b.prototype[c];if(e&&(e.claxxOwner||e.claxxReference)===b){key=b.__CLASS_NAME__+"."+c+d,(b=duplicatedMethods[key])?(c="Warning! Duplicate method found for "+key,System.out.println(c),a.alert(c),duplicatedMethods[key]=b+1):duplicatedMethods[key]=1}};a.showDuplicates=function(a){var b="",c=duplicatedMethods,d=0,e;for(e in c){1<c[e]&&(b+=c[e]+"\t"+e+"\n",d++)}b="Duplicates: "+d+"\n\n"+b;System.out.println(b);a||alert(b)};var rb=function(a,b){if(a&&b){for(var c=a.length;0<=--c;){if(a[c]===b){return c}}}return -1},Ka=function(a,b){var c=rb(a,b);if(0<=c){for(var d=a.length-1;c<d;c++){a[c]=a[c+1]}a.length--;return !0}},K=function(a){return a?a.replace(/~([NABSO])/g,function(a,b){switch(b){case"N":return"n";case"B":return"b";case"S":return"String";case"O":return"Object";case"A":return"Array"}return"Unknown"}).replace(/\s+/g,"").replace(/^|,/g,"\\").replace(/\$/g,"org.eclipse.s"):"\\void"};a.overrideMethod=function(b,c,d,e){a.assureInnerClass&&a.assureInnerClass(b,d);d.exName=c;e=K(e);a._Loader._checkLoad&&M(b,c,e);d.funParams=e;d.claxxOwner=b;return b.prototype[c]=d};var U="";a.getProfile=function(){var a="";if(j){var a=[],b;for(b in j){var c=""+j[b];a.push("        ".substring(c.length)+c+"\t"+b)}a=a.sort().reverse().join("\r\n");j={}}return a+U};a.getParamsType=function(b){var c=b.length;switch(c){case 0:var d=["void"];d.typeString="\\void";return d;case 1:switch(typeof obj){case"number":return d=["n"],d.typeString="\\n",d;case"boolean":return d=["b"],d.typeString="\\b",d}}d=[];d.hasCastedNull=!1;if(b){for(var e=0;e<c;e++){d[e]=a.getClassName(b[e]),b[e] instanceof a.CastedNull&&(d.hasCastedNull=!0)}}d.typeString="\\"+d.join("\\");return d};var Wa=0;a.allPackage={};a.allClasses={};a.lastPackageName=null;a.lastPackage=null;a.unloadedClasses=[];a.declarePackage=function(b){if(a.lastPackageName==b){return a.lastPackage}if(b&&b.length){for(var c=b.split(/\./),d=a.allPackage,e=0;e<c.length;e++){d[c[e]]||(d[c[e]]={__PKG_NAME__:d.__PKG_NAME__?d.__PKG_NAME__+"."+c[e]:c[e]},0==e&&a.setGlobal(c[e],d[c[e]])),d=d[c[e]]}a.lastPackageName=b;return a.lastPackage=d}};a.evalType=function(b,c){var d=b.lastIndexOf(".");if(-1!=d){var e=b.substring(0,d),e=a.declarePackage(e),d=b.substring(d+1);return e[d]}if(c){return window[b]}switch(b){case"string":return String;case"number":return Number;case"object":return a._O;case"boolean":return Boolean;case"function":return Function;case"void":case"undefined":case"unknown":return b;case"NullObject":return NullObject;default:return window[b]}};a.defineType=function(b,c,d,e){var h=a.unloadedClasses[b];h&&(c=h);h=b.lastIndexOf(".");if(-1!=h){var j=b.substring(0,h),j=a.declarePackage(j),h=b.substring(h+1);if(j[h]){return j[h]}j[h]=c}else{if(window[b]){return window[b]}a.setGlobal(b,c)}a.decorateAsType(c,b,d,e);b=a._innerFunctions;c.defineMethod=b.defineMethod;c.defineStaticMethod=b.defineStaticMethod;c.makeConstructor=b.makeConstructor;return c};var ya=!1;-1!=navigator.userAgent.indexOf("Safari")&&(d=navigator.userAgent,B=d.indexOf("Version/"),-1!=B&&(d=d.substring(B+8),ya=4<=parseFloat(d)));a.instantialize=function(a,b){if(!b||!(1==b.length&&b[0]&&b[0] instanceof s)){a instanceof Number&&(a.valueOf=function(){return this});if(ya){for(var c=[],d=0;d<b.length;d++){c[d]=b[d]}b=c}(c=a.construct)?a.con$truct?a.getClass().superClazz?c.claxxOwner&&c.claxxOwner===a.getClass()||c.stacks&&c.stacks[c.stacks.length-1]==a.getClass()?c.apply(a,b):(c.claxxOwner&&!c.claxxOwner.superClazz&&c.claxxOwner.con$truct?c.claxxOwner.con$truct.apply(a,[]):c.stacks&&(1==c.stacks.length&&!c.stacks[0].superClazz)&&c.stacks[0].con$truct.apply(a,[]),c.apply(a,b),a.con$truct.apply(a,[])):(a.con$truct.apply(a,[]),c.apply(a,b)):c.apply(a,b):a.con$truct&&a.con$truct.apply(a,[])}};a.innerFunctionNames="isInstance equals hashCode getName getClassLoader getResource getResourceAsStream defineMethod defineStaticMethod makeConstructor".split(" ");a._innerFunctions={isInstance:function(b){return a.instanceOf(b,this)},equals:function(a){return this===a},hashCode:function(){return this.getName().hashCode()},toString:function(){return"class "+this.getName()},getName:function(){return a.getClassName(this,!0)},getClassLoader:function(){var b=this.__CLASS_NAME__,c=a._Loader.getClasspathFor(b),d=c.lastIndexOf(b.replace(/\./g,"/")),c=-1!=d?c.substring(0,d):a._Loader.getClasspathFor(b,!0),b=a._Loader.requireLoaderByBase(c);b.getResourceAsStream=a._innerFunctions.getResourceAsStream;b.getResource=a._innerFunctions.getResource;return b},getResource:function(a){return this.getResourceAsStream(a).url},getResourceAsStream:function(b){if(!b){return null}var c=null;java.io.InputStream?c=new java.io.InputStream:(c=new a._O,c.__CLASS_NAME__="java.io.InputStream",c.close=NullObject);c.read=function(){return 0};b=b.replace(/\\/g,"/");var d=null,e=this.__CLASS_NAME__;2==arguments.length&&0!=b.indexOf("/")&&(b="/"+b);if(0==b.indexOf("/")){if(2==arguments.length?(d=arguments[1])||(d=a.binaryFolders[0]):a._Loader&&(d=a._Loader.getClasspathFor(e,!0)),d){var d=d.replace(/\\/g,"/"),h=d.length,h=d.charAt(h-1);"/"!=h&&(d+="/");c.url=d+b.substring(1)}else{c.url=b.substring(1)}}else{if(this.base){d=this.base}else{if(a._Loader){if(d=a._Loader.getClasspathFor(e),h=d.lastIndexOf(e.replace(/\./g,"/")),-1!=h){d=d.substring(0,h)}else{if(h=-1,d.indexOf(".z.js")==d.length-5&&-1!=(h=d.lastIndexOf("/"))){for(var d=d.substring(0,h+1),h=e.split(/\./),j=1;j<h.length;j++){for(var l="/",n=0;n<j;n++){l+=h[n]+"/"}if(l.length>d.length){break}if(d.indexOf(l)==d.length-l.length){d=d.substring(0,d.length-l.length+1);break}}}else{d=a._Loader.getClasspathFor(e,!0)}}}else{(h=a.binaryFolders)&&h.length&&(d=h[0])}}d||(d="j2s/");d=d.replace(/\\/g,"/");h=d.length;h=d.charAt(h-1);"/"!=h&&(d+="/");this.base?c.url=d+b:(h=e.lastIndexOf("."),c.url=-1==h||this.base?d+b:d+e.substring(0,h).replace(/\./g,"/")+"/"+b)}return c},defineMethod:function(b,c,d){a.defineMethod(this,b,c,d)},defineStaticMethod:function(b,c,d){a.defineMethod(this,b,c,d);this[b]=this.prototype[b]},makeConstructor:function(b,c){a.makeConstructor(this,b,c)}};var za=[];a.pu$h=function(a){a||(a=self.c$);a&&za.push(a)};a.p0p=function(){return za.pop()};a.decorateAsClass=function(b,c,d,e,h,j){var l=null;c&&(l=c.__PKG_NAME__,l||(l=c.__CLASS_NAME__));var n=(l?l+".":"")+d;a._Loader._classPending[n]&&(delete a._Loader._classPending[n],a._Loader._classCountOK++,a._Loader._classCountPending--);a._Loader&&a._Loader._checkLoad&&System.out.println("decorating class "+l+"."+d);(l=a.unloadedClasses[n])&&(b=l);La(b,c,d);j?a.inheritClass(b,e,j):e&&a.inheritClass(b,e);h&&a.implementOf(b,h);return b};var La=function(b,c,d){var e;c?c.__PKG_NAME__?(e=c.__PKG_NAME__+"."+d,c[d]=b,c===java.lang&&a.setGlobal(d,b)):(e=c.__CLASS_NAME__+"."+d,c[d]=b):(e=d,a.setGlobal(d,b));a.extendJO(b,e);c=a.innerFunctionNames;for(d=0;d<c.length;d++){b[c[d]]=a._innerFunctions[c[d]]}a._Loader&&a._Loader.updateNodeForFunctionDecoration(e)};a.declareInterface=function(b,c,d){var e=function(){};La(e,b,c);d&&a.implementOf(e,d);return e};a.declareType=function(b,c,d,e,h){return a.decorateAsClass(function(){a.instantialize(this,arguments)},b,c,d,e,h)};a.declareAnonymous=function(b,c,d,e,h){return a.decorateAsClass(function(){a.prepareCallback(this,arguments);a.instantialize(this,arguments)},b,c,d,e,h)};a.decorateAsType=function(b,c,d,e,h,j){a.extendJO(b,c);b.equals=a._innerFunctions.equals;b.getName=a._innerFunctions.getName;if(j){for(c=0;c<a.innerFunctionNames.length;c++){j=a.innerFunctionNames[c],b[j]=a._innerFunctions[j]}}h?a.inheritClass(b,d,h):d&&a.inheritClass(b,d);e&&a.implementOf(b,e);return b};Number.prototype._numberToString=Number.prototype.toString;a.declarePackage("java.io");a.declarePackage("java.lang.annotation");a.declarePackage("java.lang.instrument");a.declarePackage("java.lang.management");a.declarePackage("java.lang.reflect");a.declarePackage("java.lang.ref");java.lang.ref.reflect=java.lang.reflect;a.declarePackage("java.util");a.declarePackage("java.security");a.declareInterface(java.io,"Closeable");a.declareInterface(java.io,"DataInput");a.declareInterface(java.io,"DataOutput");a.declareInterface(java.io,"Externalizable");a.declareInterface(java.io,"Flushable");a.declareInterface(java.io,"Serializable");a.declareInterface(java.lang,"Iterable");a.declareInterface(java.lang,"CharSequence");a.declareInterface(java.lang,"Cloneable");a.declareInterface(java.lang,"Appendable");a.declareInterface(java.lang,"Comparable");a.declareInterface(java.lang,"Runnable");a.declareInterface(java.util,"Comparator");java.lang.ClassLoader={__CLASS_NAME__:"ClassLoader"};e=function(b,c,d,e){b="";e&&(b=e.substring(1).replace(/\\/g,","));this.message=(d&&"construct"!=d?"Method":"Constructor")+" "+a.getClassName(c,!0)+"."+d+"("+b+") is not found!";this.toString=function(){return"MethodNotFoundException:"+this.message}};a.prepareCallback=function(b,c){var d=c[0];if(b&&d&&d!==window){var e=a.getClassName(d,!0),h={};if(b.b$){for(var j in b.b$){h[j]=b.b$[j]}}b.b$=h;h[e]=d;for(e=a.getClass(d);e.superClazz;){e=e.superClazz,h[a.getClassName(e,!0)]=d}if(d=d.b$){for(j in d){h[j]=d[j]}}}for(h=0;h<c.length-1;h++){c[h]=c[h+1]}c.length--};a.innerTypeInstance=function(b,c,d){b||(b=arguments.callee.caller);var e;if(d||c.$finals){if(e=new b(c,a.inheritArgs),d){if(c.f$){var h={},j;for(j in c.f$){h[j]=c.f$[j]}for(j in d){h[j]=d[j]}e.f$=h}else{e.f$=d}}else{c.f$&&(e.f$=c.f$)}}else{switch(arguments.length){case 3:return new b(c);case 4:return c.__CLASS_NAME__==b.__CLASS_NAME__&&arguments[3]===a.inheritArgs?c:new b(c,arguments[3]);case 5:return new b(c,arguments[3],arguments[4]);case 6:return new b(c,arguments[3],arguments[4],arguments[5]);case 7:return new b(c,arguments[3],arguments[4],arguments[5],arguments[6]);case 8:return new b(c,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);case 9:return new b(c,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8]);case 10:return new b(c,arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9]);default:e=new b(c,a.inheritArgs)}}j=arguments.length-3;for(h=Array(j);0<=--j;){h[j]=arguments[j+3]}a.instantialize(e,h);return e};a.cloneFinals=function(){for(var a={},b=arguments.length/2;0<=--b;){a[arguments[b+b]]=arguments[b+b+1]}return a};a.isClassDefined=a.isDefinedClass=function(b){if(!b){return !1}if(a.allClasses[b]){return !0}for(var c=b.split(/\./),d=null,e=0;e<c.length;e++){if(!(d=d?d[c[e]]:a.allPackage[c[0]])){return !1}}return d&&(a.allClasses[b]=!0)};a.defineEnumConstant=function(a,b,c,d,e){e=e?new e:new a;e.$name=b;e.$ordinal=c;d&&d.length&&e.construct.apply(e,d);a[b]=e;a.prototype[b]=e;a["$ values"]||(a["$ values"]=[],a.values=function(){return this["$ values"]});a["$ values"].push(e);return e};a.floatToInt=function(a){return 0>a?Math.ceil(a):Math.floor(a)};a.floatToByte=a.floatToShort=a.floatToLong=a.floatToInt;a.doubleToByte=a.doubleToShort=a.doubleToLong=a.doubleToInt=a.floatToInt;a.floatToChar=function(a){return String.fromCharCode(0>a?Math.ceil(a):Math.floor(a))};a.doubleToChar=a.floatToChar;d=function(a){return function(){for(var b=this.length,c=32==a?new Int32Array(b):new Float64Array(b);0<=--b;){c[b]=this[b]}return c}};self.Int32Array&&self.Int32Array!=Array?(a.haveInt32=!0,Int32Array.prototype.sort||(Int32Array.prototype.sort=Array.prototype.sort),Int32Array.prototype.clone||(Int32Array.prototype.clone=d(32))):(Int32Array=function(a){a||(a=0);var b=Array(a);b.toString=function(){return"[object Int32Array]"};for(var c=0;c<a;c++){b[c]=0}return b},a.haveInt32=!1,Int32Array.prototype.sort=Array.prototype.sort,Int32Array.prototype.clone=d(32),Int32Array.prototype.int32Fake=function(){});self.Float64Array&&self.Float64Array!=Array?(a.haveFloat64=!0,Float64Array.prototype.sort||(Float64Array.prototype.sort=Array.prototype.sort),Float64Array.prototype.clone||(Float64Array.prototype.clone=d(64))):(a.haveFloat64=!1,Float64Array=function(a){a||(a=0);for(var b=Array(a),c=0;c<a;c++){b[c]=0}return b},Float64Array.prototype.sort=Array.prototype.sort,Float64Array.prototype.clone=d(64),Float64Array.prototype.float64Fake=function(){},Float64Array.prototype.toString=function(){return"[object Float64Array]"});a.newArray=function(){if(arguments[0] instanceof Array){var b=arguments[0],c=arguments[1]}else{b=arguments,c=Array}var d=b[0];"string"==typeof d&&(d=d.charCodeAt(0));var e=b.length-1,h=b[e];switch(b.length){case 0:case 1:return[];case 2:if(null==h){return Array(d)}if(!0===c&&a.haveInt32){return new Int32Array(d)}if(!1===c&&a.haveFloat64){return new Float64Array(d)}for(var b=!0===c?new Int32Array:!1===c?new Float64Array:0>d?h:Array(d),j=d;0<=--j;){b[j]=h}return b;default:for(var l=Array(e),j=0;j<e;j++){l[j]=b[j+1]}b=Array(d);if(null==h||0<=h||2<e){for(j=0;j<d;j++){b[j]=a.newArray(l,c)}}return b}};a.newArray32=function(b,c){var d=b[0];"string"==typeof d&&(d=d.charCodeAt(0));var e=b.length-1,h=b[e];switch(b.length){case 0:case 1:return alert("ERROR IN newArray32 -- args.length < 2"),[];case 2:if(e=0>d){d=h.length}var j=0>h?Array(d):c?new Int32Array(d):new Float64Array(d);if(e){for(e=d;0<=--e;){j[e]=h[e]}}return j}for(h=Array(e);0<=--e;){h[e]=b[e+1]}j=Array(d);for(e=0;e<d;e++){j[e]=a.newArray(h,c)}return j};a.newInt32Array=function(){return a.newArray32(arguments,!0)};a.newFloat64Array=function(){return a.newArray32(arguments,!1)};a.newFloatArray=a.newDoubleArray=a.newFloat64Array;a.newIntArray=a.newLongArray=a.newShortArray=a.newByteArray=a.newInt32Array;a.newCharArray=a.newBooleanArray=a.newArray;var pa=function(a,b){return a.constructor&&a.constructor!=Number&&0<=a.constructor.toString().indexOf(b)};a.isAS=function(a){return a&&"object"==typeof a&&pa(a," Array")&&("string"==typeof a[0]||"undefined"==typeof a[0])};a.isASS=function(b){return b&&"object"==typeof b&&a.isAS(b[0])};a.isAP=function(b){return b&&"JU.P3"==a.getClassName(b[0])};a.isAI=function(b){return b&&"object"==typeof b&&(a.haveInt32?pa(b,"Int32Array"):b.int32Fake?!0:!1)};a.isAII=function(b){return b&&"object"==typeof b&&a.isAI(b[0])};a.isAF=function(b){return b&&"object"==typeof b&&(a.haveFloat64?pa(b,"Float64Array"):b.float64Fake?!0:!1)};a.isAFF=function(b){return b&&"object"==typeof b&&a.isAF(b[0])};a.isAFFF=function(b){return b&&"object"==typeof b&&a.isAFF(b[0])};a.isAFloat=function(b){return b&&"object"==typeof b&&pa(b," Array")&&a.instanceOf(b[0],Float)};a.defineStatics=function(a){for(var b=arguments.length,c=(b-1)/2;0<=--c;){var d=arguments[--b],e=arguments[--b];a[e]=a.prototype[e]=d}};a.prepareFields=function(a,b){var c=[];if(a.con$truct){for(var d=a.con$truct.stacks,e=0;e<d.length;e++){c[e]=d[e]}}d=a.con$truct=function(){var a=arguments.callee.stacks;if(a){for(var b=0;b<a.length;b++){a[b].apply(this,[])}}};a.prototype.con$truct=d;c.push(b);a.con$truct.stacks=c;a.con$truct.index=0};java.lang.Object=a._O;a._O.getName=a._innerFunctions.getName;System={props:null,$props:{},arraycopy:function(a,b,c,d,e){if(a!==c){for(var h=0;h<e;h++){c[d+h]=a[b+h]}}else{for(var j=[],h=0;h<e;h++){j[h]=a[b+h]}for(h=0;h<e;h++){c[d+h]=j[h]}}},currentTimeMillis:function(){return(new Date).getTime()},gc:function(){},getProperties:function(){return System.props},getProperty:function(a,b){if(System.props){return System.props.getProperty(a,b)}var c=System.$props[a];return"undefined"!=typeof c?c:1==arguments.length?null:null==b?a:b},getSecurityManager:function(){return null},setProperties:function(a){System.props=a},setProperty:function(a,b){if(!System.props){return System.$props[a]=b}System.props.setProperty(a,b)}};System.setProperty("line.separator",0<=navigator.userAgent.indexOf("Windows")?"\r\n":"\n");System.setProperty("os.name",navigator.userAgent);System.identityHashCode=function(b){return null==b?0:b._$hashcode||(b._$hashcode=++a._hashCode)};System.out=new a._O;System.out.__CLASS_NAME__="java.io.PrintStream";System.out.print=function(){};System.out.printf=function(){};System.out.println=function(){};System.out.write=function(){};System.err=new a._O;System.err.__CLASS_NAME__="java.io.PrintStream";System.err.print=function(){};System.err.printf=function(){};System.err.println=function(){};System.err.write=function(){};a.popup=a.assert=a.log=a.error=window.alert;Thread=function(){};Thread.J2S_THREAD=Thread.prototype.J2S_THREAD=new Thread;Thread.currentThread=Thread.prototype.currentThread=function(){return this.J2S_THREAD};a.innerFunctionNames=a.innerFunctionNames.concat("getSuperclass isAssignableFrom getConstructor getDeclaredMethod getDeclaredMethods getMethod getMethods getModifiers newInstance".split(" "));a._innerFunctions.getSuperclass=function(){return this.superClazz};a._innerFunctions.isAssignableFrom=function(b){return 0<=a.getInheritedLevel(b,this)};a._innerFunctions.getConstructor=function(){return new java.lang.reflect.Constructor(this,[],[],java.lang.reflect.Modifier.PUBLIC)};a._innerFunctions.getDeclaredMethods=a._innerFunctions.getMethods=function(){var a=[],b=this.prototype,c;for(c in b){"function"==typeof b[c]&&!b[c].__CLASS_NAME__&&a.push(new java.lang.reflect.Method(this,c,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC))}b=this;for(c in b){"function"==typeof b[c]&&!b[c].__CLASS_NAME__&&a.push(new java.lang.reflect.Method(this,c,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC))}return a};a._innerFunctions.getDeclaredMethod=a._innerFunctions.getMethod=function(a){var b=this.prototype,c;for(c in b){if(a==c&&"function"==typeof b[c]&&!b[c].__CLASS_NAME__){return new java.lang.reflect.Method(this,c,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC)}}b=this;for(c in b){if(a==c&&"function"==typeof b[c]&&!b[c].__CLASS_NAME__){return new java.lang.reflect.Method(this,c,[],java.lang.Void,[],java.lang.reflect.Modifier.PUBLIC|java.lang.reflect.Modifier.STATIC)}}return null};a._innerFunctions.getModifiers=function(){return java.lang.reflect.Modifier.PUBLIC};a._innerFunctions.newInstance=function(){return new this};d=a.innerFunctionNames;for(B=0;B<d.length;B++){a._O[d[B]]=a._innerFunctions[d[B]],Array[d[B]]=a._innerFunctions[d[B]]}if(window.Clazz&&!window.Clazz.unloadClass){a.unloadClass=function(b){var c=a.evalType(b);if(c){a.unloadedClasses[b]=c;for(var d=b.split(/\./),e=null,h=0;h<d.length-1;h++){e=e?e[d[h]]:a.allPackage[d[0]]}if(e){for(j in e[d[d.length-1]]=null,e){0==j.indexOf(d[d.length-1]+"$")&&(a.unloadClass(e.__PKG_NAME__+"."+j),e[j]=null)}}else{a.allPackage[d[0]]=null;window[d[0]]=null;for(var j in window){0==j.indexOf(b+"$")&&(a.unloadClass(j),window[j]=null)}}if(a.allClasses[b]){for(j in a.allClasses[b]=!1,a.allClasses){0==j.indexOf(b+"$")&&(a.allClasses[j]=!1)}}for(var l in c){gb(c[l])}for(l in c.prototype){gb(c.prototype[l])}a._Loader&&a._Loader.unloadClassExt(b);return !0}return !1};var gb=function(a){a&&("function"==typeof a&&a.lastMethod&&a.lastParams&&a.lastClaxxRef)&&(a.lastMethod=null,a.lastParams=null,a.lastClaxxRef=null)}}a._Loader=a.ClazzLoader=function(){};var A=function(){this.parents=[];this.musts=[];this.optionals=[];this.onLoaded=this.path=this.name=this.declaration=null;this.status=0;this.random=0.13412};(function(a,b){b._checkLoad=l._checkLoad;b.updateNodeForFunctionDecoration=function(a){(a=Q(a))&&a.status==A.STATUS_KNOWN&&window.setTimeout(function(a){return function(){updateNode(a)}}(a),1)};A.prototype.toString=function(){return this.name||this.path||"ClazzNode"};A.STATUS_UNKNOWN=0;A.STATUS_KNOWN=1;A.STATUS_CONTENT_LOADED=2;A.STATUS_MUSTS_LOADED=3;A.STATUS_DECLARED=4;A.STATUS_LOAD_COMPLETE=5;var c=[];b.requireLoaderByBase=function(a){for(var d=0;d<c.length;d++){if(c[d].base==a){return c[d]}}d=new b;d.base=a;c.push(d);return d};var d=new A,e={},h=0,j=6,n=navigator.userAgent.toLowerCase(),q=-1!=n.indexOf("opera"),r=-1!=n.indexOf("msie")&&!q,s=-1!=n.indexOf("gecko");if(q&&(j=1,q=n.indexOf("opera/"),-1!=q)){var v=9;try{v=parseFloat(n.subString(q+6))}catch(g){}9.6<=v&&(j=6)}var B;self.Clazz&&a.isClassDefined?isClassDefined=a.isClassDefined:(B={},isClassDefined=function(a){return !0==B[a]});var D=function(a){if(!a||0==a.length){return[]}for(var b=null,c=0;c<a.length;c++){if(a[c]){if("$"==a[c].charAt(0)){if("."==a[c].charAt(1)){if(!b){continue}var d=b.lastIndexOf(".");-1!=d&&(b=b.substring(0,d),a[c]=b+a[c].substring(1))}else{a[c]="org.eclipse.s"+a[c].substring(1)}}b=a[c]}}return a},C=[],P={},M=0;b.loadPackageClasspath=function(a,c,d,e,g,k){g||(g=0);e||(e=null);k||(k=0);var h=d&&P["@"+a];if(0==g&&(d&&!P["@java"]&&0!=a.indexOf("java")&&H("java"))&&(b.loadPackage("java",e?function(){b.loadPackageClasspath(a,c,d,e,1)}:null),e)){return}if(a instanceof Array){if(D(a),e){k<a.length?b.loadPackageClasspath(a[k],c,d,function(){b.loadPackageClasspath(a,c,d,e,1,k+1)},1):e()}else{for(h=0;h<a.length;h++){b.loadPackageClasspath(a[h],c,d,null)}}}else{switch(a){case"java.*":a="java";case"java":c&&(g="@net.sf.j2s.ajax",P[g]||(P[g]=c),g="@net.sf.j2s",P[g]||(P[g]=c));break;case"swt":a="org.eclipse.swt";break;case"ajax":a="net.sf.j2s.ajax";break;case"j2s":a="net.sf.j2s";break;default:a.lastIndexOf(".*")==a.length-2&&(a=a.substring(0,a.length-2))}c&&(P["@"+a]=c);d&&!h&&!window[a+".registered"]?(M++,"java"==a&&(a="core"),b.loadClass(a+".package",function(){0==--M&&da()},!0,!0,1)):e&&e()}};a.loadClass=function(c,d,e){self.Class||(Class=a,Class.forName=a._4Name,JavaObject=a._O);return c&&b.loadClass(c,d,!0,e,1)};b.loadClass=function(c,g,h,j,l){l||(l=0);null==j&&(j=!1);if("boolean"==typeof g){return a.evalType(c)}System.out.println("loadClass "+c);H("java")&&b.loadPackage("java");H("core")&&b.loadPackage("core");b.keepOnLoading=!0;if(!h&&(M&&c.lastIndexOf(".package")!=c.length-8||0!=c.indexOf("java.")&&!isClassDefined(ea))){Fa.push([c,g]),System.out.println("loadclass-queuing"+c+ea+" "+isClassDefined(ea))}else{if((l=isClassDefined(c))||O["@"+c]){if(l&&g&&(h=Q(c),!h||h.status>=A.STATUS_LOAD_COMPLETE)){j?window.setTimeout(g,25):g()}}else{var m=b.getClasspathFor(c);l=e[m];if(!l){for(j=C.length;0<=--j;){if(C[j].path==m||C[j].name==c){l=!0;break}}}if(l){if(g&&(l=Q(c))){if(l.onLoaded){if(g!=l.onLoaded){var n=l.onLoaded,q=g;l.onLoaded=function(){n();q()}}}else{l.onLoaded=g}}}else{l=a.unloadedClasses[c]&&Q(c)||new A;l.name=c;l.path=m;l.isPackage=m.lastIndexOf("package.js")==m.length-10;Z(m,c,l);l.onLoaded=g;l.status=A.STATUS_KNOWN;c=!1;for(j=C.length;0<=--j;){if(C[j].status!=A.STATUS_LOAD_COMPLETE){c=!0;break}}if(l.isPackage){for(j=C.length;0<=--j&&!C[j].isPackage;){C[j+1]=C[j]}C[++j]=l}else{c&&C.push(l)}if(!c){var r=!1;g&&(r=X,X=!0);h&&(g=null);Ea(d,l,!0);W(l,l.path,l.requiredBy,!1,g?function(){X=r;g()}:null)}}}}};var H=function(a){return null!=window[a+".registered"]&&!P["@"+a]};b.loadPackage=function(a,c){c||(c=null);window[a+".registered"]=!1;b.loadPackageClasspath(a,b.J2SLibBase||(b.J2SLibBase=b.getJ2SLibBase()||"j2s/"),!0,c)};b.jarClasspath=function(a,b){b instanceof Array||(b=[classes]);D(b);for(var c=b.length;0<=--c;){P["#"+b[c]]=a}P["$"+a]=b};b.registerPackages=function(c,d){for(var e=b.getClasspathFor(c+".*",!0),g=0;g<d.length;g++){window.Clazz&&a.declarePackage(c+"."+d[g]),b.loadPackageClasspath(c+"."+d[g],e)}};b.getClasspathFor=function(c,d,e){var g=P["#"+c];if(!g||d||e){var h,j;if(g){if(c=c.replace(/\./g,"/"),0<=(j=g.lastIndexOf(c))||0<=(j=c.lastIndexOf("/"))&&0<=(j=g.lastIndexOf(c.substring(0,j)))){h=g.substring(0,j)}}else{for(j=c.length+2;0<=(j=c.lastIndexOf(".",j-2))&&!(h=P["@"+c.substring(0,j)]);){}d||(c=c.replace(/\./g,"/"))}null==h&&(h=window.Clazz&&a.binaryFolders&&a.binaryFolders.length?a.binaryFolders[0]:b.binaryFolders&&b.binaryFolders.length?b.binaryFolders[0]:"j2s");g=(h.lastIndexOf("/")==h.length-1?h:h+"/")+(d?"":c.lastIndexOf("/*")==c.length-2?c.substring(0,j+1):c+(!e?".js":"."!=e.charAt(0)?"."+e:e))}return g};b.ignore=function(){var a=1==arguments.length&&arguments[0] instanceof Array?a=arguments[0]:null,b=a?a.length:arguments.length;if(!a){for(var a=Array(b),c=0;c<b;c++){a[c]=arguments[c]}}D(a);for(c=0;c<b;c++){O["@"+a[c]]=1}};b.onScriptLoading=function(){};b.onScriptLoaded=function(){};b.onScriptInitialized=function(){};b.onScriptCompleted=function(){};b.onClassUnloaded=function(){};b.onGlobalLoaded=function(){};b.keepOnLoading=!0;var K={},O={},T=function(c,d){try{eval(d)}catch(e){if(a._isQuiet){return}var g="[Java2Script] The required class file \n\n"+c+(0==d.indexOf("[Exception")&&d.indexOf("data: no")?"\nwas not found.\n":"\ncould not be loaded. Script error: "+e.message+" \n\ndata:\n\n"+d)+"\n\n"+a.getStackTrace();alert(g);a.alert(g);throw e}b.onScriptLoaded(c,!1);ba(c)},U=function(a){return function(){if("interactive"!=a.readyState){try{a.parentNode&&a.parentNode.removeChild(a)}catch(b){}a=null}}},V=function(a){window["j2s.script.debugging"]||window.setTimeout(U(a),1)};a._4Name=function(c,d,e){if(a.isClassDefined(c)){return a.evalType(c)}d=l._isAsync&&d?d._restoreState(c,e):null;if(1==d){return null}if(b.setLoadingMode(d?b.MODE_SCRIPT:"xhr.sync")){return b.loadClass(c,d,!1,!0,1),null}b.loadClass(c);return a.evalType(c)};a.currentPath="";var W=function(c,d,g,j,m){a.currentPath=d;j&&alert("WHY>>");e[d]=!0;Ka(C,d);L=!0;ta=!1;b._checkLoad&&System.out.println("\t"+d+(g?"\n -- required by "+g:"")+"  ajax="+L+" async="+ta);b.onScriptLoading(d);if(L&&!ta){g=l._getFileData(d);try{T(d,g)}catch(n){alert(n+" loading file "+d+" "+c.name+" "+a.getStackTrace())}m&&m()}else{System.out.println("for file "+d+" fSuccess = "+(m?m.toString():"")),c={dataType:"script",async:!0,type:"GET",url:d,success:aa(d,!1,m),error:aa(d,!0,m)},h++,l.$ajax(c)}},aa=function(c,d,e){a.getStackTrace();return function(){s&&this.timeoutHandle&&(window.clearTimeout(this.timeoutHandle),this.timeoutHandle=null);0<h&&h--;this.onerror=this.onload=null;d&&alert("There was a problem loading "+c);b.onScriptLoaded(c,!0);var a=this,g;g=e?function(){V(a);ba(c,e)}:function(){V(a);ba(c)};0<=Y?window.setTimeout(function(){ba(c,g)},Y):ba(c,g)}},X=!0,fa=!1,ba=function(c,g){var l=K["@"+c];if(l){var m,n=P["$"+c];if(n){for(var q=0;q<n.length;q++){var s=n[q];if(s!=l.name&&(m=Q(s))){m.status<A.STATUS_CONTENT_LOADED&&(m.status=A.STATUS_CONTENT_LOADED,updateNode(m))}else{m=new A;m.name=s;var v=P["#"+s];v||(alert(s+" J2S error in tryToLoadNext"),error("Java2Script implementation error! Please report this bug!"));m.path=v;Z(m.path,s,m);m.status=A.STATUS_CONTENT_LOADED;Ea(d,m,!1);updateNode(m)}}}if(l instanceof Array){for(q=0;q<l.length;q++){l[q].status<A.STATUS_CONTENT_LOADED&&(l[q].status=A.STATUS_CONTENT_LOADED,updateNode(l[q]))}}else{if(l.status<A.STATUS_CONTENT_LOADED){m=!1;n=document.getElementsByTagName("SCRIPT");for(q=0;q<n.length;q++){if(r){if(n[q].onreadystatechange&&n[q].onreadystatechange.path==l.path&&"interactive"==n[q].readyState){m=!0;break}}else{if(n[q].onload&&n[q].onload.path==l.path){m=!0;break}}}m||(l.status=A.STATUS_CONTENT_LOADED,updateNode(l))}}if(b.keepOnLoading){q=!0;if(m=G(A.STATUS_KNOWN)){for(S(m);h<j&&(m=G(A.STATUS_KNOWN));){S(m)}}else{if(0!=C.length){m=C.shift(),!e[m.path]||0!=C.length||!X||m.musts.length||m.optionals.length?(Ea(d,m,!0),W(m,m.path,m.requiredBy,!1)):X&&(X=!1)}else{if(m=I(A.STATUS_KNOWN)){for(S(m);h<j&&(m=I(A.STATUS_KNOWN));){S(m)}}else{q=!1}}}if(!(q||0<h)){l=[G,I];n=null;for(q=0;2>q;q++){for(;m=l[q](A.STATUS_CONTENT_LOADED);){1==q&&n===m&&(m.status=A.STATUS_LOAD_COMPLETE),updateNode(m),n=m}}for(;!(pa=[],!qa(d,c));){}for(q=0;2>q;q++){for(n=null;(m=l[q](A.STATUS_DECLARED))&&n!==m;){updateNode(n=m)}}n=[];for(q=0;2>q;q++){for(;m=l[q](A.STATUS_DECLARED);){n.push(m),m.status=A.STATUS_LOAD_COMPLETE}}if(n.length){for(q=0;q<n.length;q++){xa(n[q])}for(q=0;q<n.length;q++){if(l=n[q].onLoaded){n[q].onLoaded=null,l()}}}if(g){g()}else{if(b._classCountPending){for(s in b._classPending){if(m=Q(s),System.out.println("class left pending "+s+" "+m),m){updateNode(m);break}}}else{b._checkLoad&&(System.out.println("I think I'm done: SAEM call count: "+Wa),a.showDuplicates(!0))}}b.onGlobalLoaded()}}}},pa=[],qa=function(a,c){var d=pa,e=d.length;d.push(a);for(var g=e;0<=--g&&!(d[g]===a&&d[g].status>=A.STATUS_DECLARED);){}if(0<=g){if(b._checkLoad){var k;System.out.println("cycle found loading "+c+" for "+a)}for(;g<e;g++){var h=d[g];h.status=A.STATUS_LOAD_COMPLETE;xa(h);for(k=0;k<h.parents.length;k++){updateNode(h.parents[k])}h.parents=[];var j=h.onLoaded;b._checkLoad&&(k="cycle setting status to LOAD_COMPLETE for "+h.name+(j?" firing "+j.toString():""),System.out.println(k));j&&(h.onLoaded=null,j())}d.length=0;return !0}h=[a.musts,a.optionals];for(k=0;2>k;k++){j=h[k];for(g=j.length;0<=--g;){if(j[g].status==A.STATUS_DECLARED&&qa(j[g],c)){return !0}}}d.length=e;return !1};b._classCountPending=0;b._classCountOK=0;b._classPending={};b.showPending=function(){var a=[],c;for(c in b._classPending){var d=Q(c);d?(a.push(d),System.out.println(ra("","",d,"",0))):alert("No node for "+c)}return a};var ra=function(a,b,c,d,e){b+="--"+c.name;a+=b+"\n";if(5<e){return a+(d+" ...\n")}d+="\t";a+=d+"status: "+c.status+"\n";if(c.parents&&c.parents.length&&c.parents[0]&&c.parents[0].name){a+=d+"parents: "+c.parents.length+"\n";for(var g=0;g<c.parents.length;g++){a=ra(a,b,c.parents[g],d+"\t",e+1)}a+="\n"}return a};updateNode=function(a){if(!a.name||a.status>=A.STATUS_LOAD_COMPLETE){xa(a)}else{var c=!0;if(a.musts.length&&a.declaration){for(var d=a.musts.length,e=d;0<=--e;){var g=a.musts[e];g.requiredBy=a;if(g.status<A.STATUS_DECLARED&&isClassDefined(g.name)){var k=[];g.status=A.STATUS_LOAD_COMPLETE;xa(g);if(g.declaration&&g.declaration.clazzList){for(var h=0,j=g.declaration.clazzList,l=j.length;h<l;h++){var m=Q(j[h]);m&&(m.status!=A.STATUS_LOAD_COMPLETE&&m!==g)&&(m.status=g.status,m.declaration=null,xa(m),m.onLoaded&&k.push(m))}g.declaration=null}g.onLoaded&&k.push(g);for(h=0;h<k.length;h++){if(j=k[h].onLoaded){k[h].onLoaded=null,j()}}}else{g.status==A.STATUS_CONTENT_LOADED&&updateNode(g),g.status<A.STATUS_DECLARED&&(c=!1)}a.musts.length!=d&&(e=d=a.musts.length,c=!0)}}if(c){if(a.status<A.STATUS_DECLARED){if(e=a.declaration){e(),e.executed=!0}b._checkLoad&&b._classPending[a.name]&&(delete b._classPending[a.name],b._classCountOK,b._classCountPending--);a.status=A.STATUS_DECLARED;B&&(B[a.name]=!0);b.onScriptInitialized(a.path);if(a.declaration&&a.declaration.clazzList){h=0;j=a.declaration.clazzList;for(l=j.length;h<l;h++){if((m=Q(j[h]))&&m.status!=A.STATUS_DECLARED&&m!==a){m.status=A.STATUS_DECLARED,B&&(B[m.name]=!0),b.onScriptInitialized(m.path)}}}}c=A.STATUS_DECLARED;if(0==a.optionals.length&&0==a.musts.length||a.status>A.STATUS_KNOWN&&!a.declaration||ua(a.musts,A.STATUS_LOAD_COMPLETE)&&ua(a.optionals,A.STATUS_LOAD_COMPLETE)){c=A.STATUS_LOAD_COMPLETE;if(!Pa(a,c)){return !1}if(a.declaration&&a.declaration.clazzList){h=0;j=a.declaration.clazzList;for(l=j.length;h<l;h++){if((m=Q(j[h]))&&m.status!=c&&m!==a){if(m.declaration=null,!Pa(m,c)){return !1}}}}}if(a.parents&&a.parents.length){for(e=0;e<a.parents.length;e++){h=a.parents[e],h.status<c&&updateNode(h,h.name)}c==A.STATUS_LOAD_COMPLETE&&(a.parents=[])}}}};var ua=function(a,b){for(var c=a.length;0<=--c;){if(a[c].status<b){return !1}}return !0},Pa=function(a,c){a.status=c;b.onScriptCompleted(a.path);var d=a.onLoaded;if(d&&(a.onLoaded=null,d(),!b.keepOnLoading)){return !1}xa(a);return !0},$a={"r0.13412":1},ab=function(){for(;;){var a=Math.random(),b="r"+a;if(!$a[b]){return $a[b]=1,d.random=a}}},Q=function(a){ab();return Sa(a,d)},I=function(a){ab();return na(d,a)},G=function(a){return Ra(d,a)},Sa=function(a,b){var c;return b.name==a?b:(c=ya(a,b.musts))||(c=ya(a,b.optionals))?c:null},ya=function(a,b){for(var c=d.random,e=b.length;0<=--e;){var g=b[e];if(g.name==a||g.random!=c&&(g.random=c,g=Sa(a,g))){return g}}return null},Da=function(a,b){return a.status==b&&(b!=A.STATUS_KNOWN||!e[a.path])&&(b==A.STATUS_DECLARED||!isClassDefined(a.name))},Ra=function(a,b){for(var c=a.musts.length;0<=--c;){var d=a.musts[c];if(Da(d,b)||(d=Ra(d,b))){return d}}return Da(a,b)?a:null},na=function(a,b){var c;return(c=wa(a.musts,b))||(c=wa(a.optionals,b))||Da(c=a,b)?c:null},wa=function(a,b){if(a){for(var c=d.random,e=0;e<a.length;e++){var g=a[e];if(Da(g,b)||g.random!=c&&(g.random=c,g=na(g,b))){return g}}}return null},ka={},R=function(a,c,e,g){if(c instanceof Array){D(c);for(var k=0;k<c.length;k++){R(a,c[k],e,g,c)}}else{b._checkLoad&&!b._classPending[c]&&(b._classPending[c]=1,0==b._classCountPending++&&(b._classCountOK=0),System.out.println("Loading class "+c));k=K["#"+c];k||(k=(k=Q(c))?k:new A,k.name=c,k.path=P["#"+c]||"unknown",Z(k.path,c,k),k.status=A.STATUS_KNOWN,Ea(d,k,!1));ha(k,a,!0);5==arguments.length&&g&&(g.status=k.status,g.clazzList=arguments[4]);if(k.declaration=g){k.status=A.STATUS_CONTENT_LOADED}ha(k,e,!1)}},ha=function(a,b,c){if(b&&b.length){D(b);for(var d=0;d<b.length;d++){var e=b[d];if(e&&!isClassDefined(e)&&!O["@"+e]){var g=Q(e);g||(g=new A,g.name=e,g.status=A.STATUS_KNOWN);g.requiredBy=a;Ea(a,g,c)}}}};window.Clazz?a.load=R:b.load=R;var Z=function(a,b,c){var d="@"+a;if(a=K[d]){if(a instanceof Array){for(var d=!1,e=0;e<a.length;e++){if(a[e].name==b){d=!0;break}}d||a.push(c)}else{K[d]=[a,c]}}else{K[d]=c}K["#"+b]=c},S=function(a){var c=a.name;if(!isClassDefined(c)&&!O["@"+c]){var d=b.getClasspathFor(c);a.path=d;Z(d,c,a);if(!e[d]){return W(a,d,a.requiredBy,!1),!0}}return !1},ea=b.runtimeKeyClass="java.lang.String",Fa=[];b.getJ2SLibBase=function(){var a=window["j2s.lib"];return a?a.base+("."==a.alias?"":(a.alias?a.alias:a.version?a.version:"1.0.0")+"/"):null};var ta=!0,L=!1,Y=-1;b.MODE_SCRIPT=4;b.MODE_XHR=2;b.MODE_SYNC=1;b.setLoadingMode=function(a,c){var d=!0,e=!0;"string"==typeof a?(a=a.toLowerCase(),0<=a.indexOf("script")?e=!1:a.indexOf("async"),d=!1):a&b.MODE_SCRIPT?e=!1:d=!(a&b.MODE_SYNC);L=e;Y=(ta=d)&&0<=c?c:-1;return d};var da=function(){if(!M&&isClassDefined(ea)){for(var a=Fa,c=0;c<a.length;c++){b.loadClass(a[c][0],a[c][1])}Fa=[]}};b.loadZJar=function(a,c){var d=null,e=c instanceof Array;e?c=c[c.length-1]:d=c==ea?da:null;b.jarClasspath(a,e?c:[c]);b.loadClass(c,d,!0)};var za={},La=[],Ea=function(a,b,c){var e=!1;c?(c=a.musts,b.requiredBy||(b.requiredBy=a)):c=a.optionals;za[b.name]||(La.push(b),za[b.name]=b);for(var g=0;g<c.length;g++){if(c[g].name==b.name){e=!0;break}}e||(c.push(b),X&&(0!=b.name.indexOf("java")&&0!=b.name.indexOf("net.sf.j2s.ajax"))&&(fa&&(X=!1),fa=!0));a:{if(a.name&&a!=d&&a!=b){for(e=0;e<b.parents.length;e++){if(b.parents[e].name==a.name){break a}}}b.parents.push(a)}},xa=function(a){var b=a.parents;if(b){for(var c=b.length;0<=--c;){Ka(b[c].musts,a)||Ka(b[c].optionals,a)}}};b.unloadClassExt=function(a){B&&(B[a]=!1);if(P["#"+a]){var c=P["#"+a];P["#"+a]=null;var d=P["$"+c];Ka(d,a)&&(P["$"+c]=d)}if(c=Q(a)){c.status=A.STATUS_KNOWN,e[c.path]=!1}c=b.getClasspathFor(a);e[c]=!1;ka[c]&&(ka[c]=!1);b.onClassUnloaded(a)};a.binaryFolders=b.binaryFolders=[b.getJ2SLibBase()]})(a,a._Loader);a._LoaderProgressMonitor={};var aa=a._LoaderProgressMonitor,ba=null,fa=0,C=null,ua=0;aa.DEFAULT_OPACITY=l&&l._j2sLoadMonitorOpacity?l._j2sLoadMonitorOpacity:55;aa.hideMonitor=function(){C.style.display="none"};aa.showStatus=function(a,b){if(!C){var c=document.createElement("DIV");c.id="_Loader-status";c.style.cssText="position:absolute;bottom:4px;left:4px;padding:2px 8px;z-index:"+(window["j2s.lib"].monitorZIndex||10000)+";background-color:#8e0000;color:yellow;font-family:Arial, sans-serif;font-size:10pt;white-space:nowrap;";c.onmouseover=tb;C=c;document.body.appendChild(c);kb||(kb=!0)}qa(C);if(null==a){b?ra():aa.hideMonitor()}else{C.appendChild(document.createTextNode(""+a));"none"==C.style.display&&(C.style.display="");ib(aa.DEFAULT_OPACITY);var d,c=navigator.userAgent;d=document.body;var e=d.parentNode,h=e.clientHeight;d=d.scrollTop+d.offsetTop;var j=e.scrollTop+e.offsetTop,c=0>c.indexOf("Opera")&&document.all?0==h?d:j:0>c.indexOf("Gecko")?h==e.offsetHeight&&h==e.scrollHeight?d:j:d;ua!=c&&(ua=c,C.style.bottom=ua+4+"px");b&&ra()}};var qa=function(a){if(a){for(var b=a.childNodes.length;0<=--b;){var c=a.childNodes[b];if(c){c.childNodes&&c.childNodes.length&&qa(c);try{a.removeChild(c)}catch(d){}}}}},ib=function(a){ba&&a==aa.DEFAULT_OPACITY&&(window.clearTimeout(ba),ba=null);fa=a;navigator.userAgent.toLowerCase();C.style.filter="Alpha(Opacity="+a+")";C.style.opacity=a/100},tb=function(){aa.hideMonitor()},kb=!1,ra=function(){"none"!=C.style.display&&(fa==aa.DEFAULT_OPACITY?(ba=window.setTimeout(function(){ra()},750),fa-=5):0<=fa-10?(ib(fa-10),ba=window.setTimeout(function(){ra()},40)):C.style.display="none")},D=a.Console,V=System;D.maxTotalLines=10000;D.setMaxTotalLines=function(a){D.maxTotalLines=0<a?a:999999};D.maxLatency=40;D.setMaxLatency=function(a){D.maxLatency=0<a?a:40};D.pinning=!1;D.enablePinning=function(a){D.pinning=a};D.linesCount=0;D.metLineBreak=!1;D.createConsoleWindow=function(){var a=document.createElement("DIV");a.style.cssText="font-family:monospace, Arial, sans-serif;";document.body.appendChild(a);return a};var W=String.fromCharCode(160),W=W+(W+W+W);D.consoleOutput=function(a,b){var c=window["j2s.lib"];(c=c&&c.console)&&"string"==typeof c&&(c=document.getElementById(c));if(!c){return !1}if(D.linesCount>D.maxTotalLines){for(var d=0;d<D.linesCount-D.maxTotalLines;d++){c&&0<c.childNodes.length&&c.removeChild(c.childNodes[0])}D.linesCount=D.maxTotalLines}var e=!1;a=("undefined"==typeof a?"":null==a?"null":""+a).replace(/\t/g,W);if(0<a.length){switch(a.charAt(a.length-1)){case"\n":case"\r":a=1<a.length?a.substring(0,a.length-("\r"==a.charAt(a.length-2)?2:1)):"",e=!0}}var h=null;a=a.replace(/\t/g,W);for(var h=a.split(/\r\n|\r|\n/g),d=0,j=h.length-1;d<=j;d++){var l=null;if(D.metLineBreak||0==D.linesCount||1>c.childNodes.length){l=document.createElement("DIV"),c.appendChild(l),l.style.whiteSpace="nowrap",D.linesCount++}else{try{l=c.childNodes[c.childNodes.length-1]}catch(n){l=document.createElement("DIV"),c.appendChild(l),l.style.whiteSpace="nowrap",D.linesCount++}}var q=document.createElement("SPAN");l.appendChild(q);q.style.whiteSpace="nowrap";b&&(q.style.color=b);l=h[d];0==l.length&&(l=W);q.appendChild(document.createTextNode(l));D.pinning||(c.scrollTop+=100);D.metLineBreak=d!=j||e}d=c.parentNode.className;!D.pinning&&(d&&-1!=d.indexOf("composite"))&&(c.parentNode.scrollTop=c.parentNode.scrollHeight);D.lastOutputTime=(new Date).getTime()};D.clear=function(){try{D.metLineBreak=!0;var a=window["j2s.lib"],b=a&&a.console;if(b&&(b=document.getElementById(b))){for(var c=b.childNodes,d=c.length;0<=--d;){b.removeChild(c[d])}D.linesCount=0}}catch(e){}};a.alert=function(a){D.consoleOutput(a+"\r\n")};V.out.print=function(a){D.consoleOutput(a)};V.out.println=function(a){D.consoleOutput("undefined"==typeof a?"\r\n":null==a?"null\r\n":a+"\r\n")};V.out.write=function(a,b,c){V.out.print(String.instantialize(a).substring(b,b+c))};V.err.__CLASS_NAME__="java.io.PrintStream";V.err.print=function(a){D.consoleOutput(a,"red")};V.err.println=function(a){D.consoleOutput("undefined"==typeof a?"\r\n":null==a?"null\r\n":a+"\r\n","red")};V.err.write=function(a,b,c){V.err.print(String.instantialize(a).substring(b,b+c))}}(Clazz,Jmol))};Jmol.___JmolDate="$Date: 2015-06-19 03:30:19 -0500 (Fri, 19 Jun 2015) $";Jmol.___fullJmolProperties="src/org/jmol/viewer/Jmol.properties";Jmol.___JmolVersion="14.3.15_2015.06.19";var THREE=THREE||{REVISION:"49"};if(!self.Int32Array){self.Int32Array=Array;self.Float32Array=Array}(function(){var d=0;var h=["ms","moz","webkit","o"];for(var f=0;f<h.length&&!window.requestAnimationFrame;++f){window.requestAnimationFrame=window[h[f]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[h[f]+"CancelAnimationFrame"]||window[h[f]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(a,k){var l=Date.now(),c=Math.max(0,16-(l-d));var b=window.setTimeout(function(){a(l+c)},c);d=l+c;return b}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(a){clearTimeout(a)}}}());THREE.Clock=function(b){this.autoStart=(b!==undefined)?b:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false};THREE.Clock.prototype.start=function(){this.startTime=Date.now();this.oldTime=this.startTime;this.running=true};THREE.Clock.prototype.stop=function(){this.getElapsedTime();this.running=false};THREE.Clock.prototype.getElapsedTime=function(){this.elapsedTime+=this.getDelta();return this.elapsedTime};THREE.Clock.prototype.getDelta=function(){var c=0;if(this.autoStart&&!this.running){this.start()}if(this.running){var d=Date.now();c=0.001*(d-this.oldTime);this.oldTime=d;this.elapsedTime+=c}return c};THREE.Color=function(b){if(b!==undefined){this.setHex(b)}return this};THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,copy:function(b){this.r=b.r;this.g=b.g;this.b=b.b;return this},copyGammaToLinear:function(b){this.r=b.r*b.r;this.g=b.g*b.g;this.b=b.b*b.b;return this},copyLinearToGamma:function(b){this.r=Math.sqrt(b.r);this.g=Math.sqrt(b.g);this.b=Math.sqrt(b.b);return this},convertGammaToLinear:function(){var f=this.r,h=this.g,b=this.b;this.r=f*f;this.g=h*h;this.b=b*b;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},setRGB:function(f,h,b){this.r=f;this.g=h;this.b=b;return this},setHSV:function(p,q,n){var r,i,h,o,f;if(n===0){this.r=this.g=this.b=0}else{r=Math.floor(p*6);i=(p*6)-r;h=n*(1-q);o=n*(1-(q*i));f=n*(1-(q*(1-i)));switch(r){case 1:this.r=o;this.g=n;this.b=h;break;case 2:this.r=h;this.g=n;this.b=f;break;case 3:this.r=h;this.g=o;this.b=n;break;case 4:this.r=f;this.g=h;this.b=n;break;case 5:this.r=n;this.g=h;this.b=o;break;case 6:case 0:this.r=n;this.g=f;this.b=h;break}}return this},setHex:function(b){b=Math.floor(b);this.r=(b>>16&255)/255;this.g=(b>>8&255)/255;this.b=(b&255)/255;return this},lerpSelf:function(d,c){this.r+=(d.r-this.r)*c;this.g+=(d.g-this.g)*c;this.b+=(d.b-this.b)*c;return this},getHex:function(){return Math.floor(this.r*255)<<16^Math.floor(this.g*255)<<8^Math.floor(this.b*255)},getContextStyle:function(){return"rgb("+Math.floor(this.r*255)+","+Math.floor(this.g*255)+","+Math.floor(this.b*255)+")"},clone:function(){return new THREE.Color().setRGB(this.r,this.g,this.b)}};THREE.Vector2=function(d,c){this.x=d||0;this.y=c||0};THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(d,c){this.x=d;this.y=c;return this},copy:function(b){this.x=b.x;this.y=b.y;return this},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;return this},addSelf:function(b){this.x+=b.x;this.y+=b.y;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;return this},subSelf:function(b){this.x-=b.x;this.y-=b.y;return this},multiplyScalar:function(b){this.x*=b;this.y*=b;return this},divideScalar:function(b){if(b){this.x/=b;this.y/=b}else{this.set(0,0)}return this},negate:function(){return this.multiplyScalar(-1)},dot:function(b){return this.x*b.x+this.y*b.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(b){return Math.sqrt(this.distanceToSquared(b))},distanceToSquared:function(h){var d=this.x-h.x,f=this.y-h.y;return d*d+f*f},setLength:function(b){return this.normalize().multiplyScalar(b)},lerpSelf:function(d,c){this.x+=(d.x-this.x)*c;this.y+=(d.y-this.y)*c;return this},equals:function(b){return((b.x===this.x)&&(b.y===this.y))},isZero:function(){return(this.lengthSq()<0.0001)},clone:function(){return new THREE.Vector2(this.x,this.y)}};THREE.Vector3=function(f,h,d){this.x=f||0;this.y=h||0;this.z=d||0};THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(f,h,d){this.x=f;this.y=h;this.z=d;return this},setX:function(b){this.x=b;return this},setY:function(b){this.y=b;return this},setZ:function(b){this.z=b;return this},copy:function(b){this.x=b.x;this.y=b.y;this.z=b.z;return this},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;return this},addSelf:function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z;return this},addScalar:function(b){this.x+=b;this.y+=b;this.z+=b;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;return this},subSelf:function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z;return this},multiply:function(a,b){this.x=a.x*b.x;this.y=a.y*b.y;this.z=a.z*b.z;return this},multiplySelf:function(b){this.x*=b.x;this.y*=b.y;this.z*=b.z;return this},multiplyScalar:function(b){this.x*=b;this.y*=b;this.z*=b;return this},divideSelf:function(b){this.x/=b.x;this.y/=b.y;this.z/=b.z;return this},divideScalar:function(b){if(b){this.x/=b;this.y/=b;this.z/=b}else{this.x=0;this.y=0;this.z=0}return this},negate:function(){return this.multiplyScalar(-1)},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(b){return this.normalize().multiplyScalar(b)},lerpSelf:function(d,c){this.x+=(d.x-this.x)*c;this.y+=(d.y-this.y)*c;this.z+=(d.z-this.z)*c;return this},cross:function(a,b){this.x=a.y*b.z-a.z*b.y;this.y=a.z*b.x-a.x*b.z;this.z=a.x*b.y-a.y*b.x;return this},crossSelf:function(f){var h=this.x,i=this.y,j=this.z;this.x=i*f.z-j*f.y;this.y=j*f.x-h*f.z;this.z=h*f.y-i*f.x;return this},distanceTo:function(b){return Math.sqrt(this.distanceToSquared(b))},distanceToSquared:function(b){return new THREE.Vector3().sub(this,b).lengthSq()},getPositionFromMatrix:function(b){this.x=b.elements[12];this.y=b.elements[13];this.z=b.elements[14];return this},getRotationFromMatrix:function(z,y){var m=y?y.x:1;var q=y?y.y:1;var s=y?y.z:1;var t=z.elements[0]/m,u=z.elements[4]/q,v=z.elements[8]/s;var A=z.elements[1]/m,B=z.elements[5]/q,C=z.elements[9]/s;var r=z.elements[10]/s;this.y=Math.asin(v);var x=Math.cos(this.y);if(Math.abs(x)>0.00001){this.x=Math.atan2(-C/x,r/x);this.z=Math.atan2(-u/x,t/x)}else{this.x=0;this.z=Math.atan2(A,B)}return this},getScaleFromMatrix:function(h){var i=this.set(h.elements[0],h.elements[1],h.elements[2]).length();var j=this.set(h.elements[4],h.elements[5],h.elements[6]).length();var f=this.set(h.elements[8],h.elements[9],h.elements[10]).length();this.x=i;this.y=j;this.z=f},equals:function(b){return((b.x===this.x)&&(b.y===this.y)&&(b.z===this.z))},isZero:function(){return(this.lengthSq()<0.0001)},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}};THREE.Vector4=function(h,i,j,f){this.x=h||0;this.y=i||0;this.z=j||0;this.w=(f!==undefined)?f:1};THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(h,i,j,f){this.x=h;this.y=i;this.z=j;this.w=f;return this},copy:function(b){this.x=b.x;this.y=b.y;this.z=b.z;this.w=(b.w!==undefined)?b.w:1;return this},add:function(a,b){this.x=a.x+b.x;this.y=a.y+b.y;this.z=a.z+b.z;this.w=a.w+b.w;return this},addSelf:function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z;this.w+=b.w;return this},sub:function(a,b){this.x=a.x-b.x;this.y=a.y-b.y;this.z=a.z-b.z;this.w=a.w-b.w;return this},subSelf:function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z;this.w-=b.w;return this},multiplyScalar:function(b){this.x*=b;this.y*=b;this.z*=b;this.w*=b;return this},divideScalar:function(b){if(b){this.x/=b;this.y/=b;this.z/=b;this.w/=b}else{this.x=0;this.y=0;this.z=0;this.w=1}return this},negate:function(){return this.multiplyScalar(-1)},dot:function(b){return this.x*b.x+this.y*b.y+this.z*b.z+this.w*b.w},lengthSq:function(){return this.dot(this)},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},setLength:function(b){return this.normalize().multiplyScalar(b)},lerpSelf:function(d,c){this.x+=(d.x-this.x)*c;this.y+=(d.y-this.y)*c;this.z+=(d.z-this.z)*c;this.w+=(d.w-this.w)*c;return this},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}};THREE.Frustum=function(){this.planes=[new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4(),new THREE.Vector4()]};THREE.Frustum.prototype.setFromMatrix=function(E){var A,T,L=this.planes;var i=E.elements;var G=i[0],I=i[1],K=i[2],M=i[3];var N=i[4],O=i[5],P=i[6],Q=i[7];var R=i[8],S=i[9],m=i[10],B=i[11];var C=i[12],D=i[13],F=i[14],H=i[15];L[0].set(M-G,Q-N,B-R,H-C);L[1].set(M+G,Q+N,B+R,H+C);L[2].set(M+I,Q+O,B+S,H+D);L[3].set(M-I,Q-O,B-S,H-D);L[4].set(M-K,Q-P,B-m,H-F);L[5].set(M+K,Q+P,B+m,H+F);for(A=0;A<6;A++){T=L[A];T.divideScalar(Math.sqrt(T.x*T.x+T.y*T.y+T.z*T.z))}};THREE.Frustum.prototype.contains=function(o){var l,p=this.planes,i=o.matrixWorld,m=i.elements,k=-o.geometry.boundingSphere.radius*i.getMaxScaleOnAxis();for(var n=0;n<6;n++){l=p[n].x*m[12]+p[n].y*m[13]+p[n].z*m[14]+p[n].w;if(l<=k){return false}}return true};THREE.Frustum.__v1=new THREE.Vector3();THREE.Ray=function(c,N){this.origin=c||new THREE.Vector3();this.direction=N||new THREE.Vector3();var U=0.0001;this.setPrecision=function(f){U=f};var v=new THREE.Vector3();var M=new THREE.Vector3();var O=new THREE.Vector3();var P=new THREE.Vector3();var Z=new THREE.Vector3();var aa=new THREE.Vector3();var ae=new THREE.Vector3();var a=new THREE.Vector3();var W=new THREE.Vector3();this.intersectObject=function(r){var n,l=[];if(r instanceof THREE.Particle){var p=R(this.origin,this.direction,r.matrixWorld.getPosition());if(p>r.scale.x){return[]}n={distance:p,point:r.position,face:null,object:r};l.push(n)}else{if(r instanceof THREE.Mesh){var p=R(this.origin,this.direction,r.matrixWorld.getPosition());var s=THREE.Frustum.__v1.set(r.matrixWorld.getColumnX().length(),r.matrixWorld.getColumnY().length(),r.matrixWorld.getColumnZ().length());if(p>r.geometry.boundingSphere.radius*Math.max(s.x,Math.max(s.y,s.z))){return l}var m,f,j,q,o,h=r.geometry,k=h.vertices,i;r.matrixRotationWorld.extractRotation(r.matrixWorld);for(m=0,f=h.faces.length;m<f;m++){j=h.faces[m];Z.copy(this.origin);aa.copy(this.direction);i=r.matrixWorld;ae=i.multiplyVector3(ae.copy(j.centroid)).subSelf(Z);a=r.matrixRotationWorld.multiplyVector3(a.copy(j.normal));q=aa.dot(a);if(Math.abs(q)<U){continue}o=a.dot(ae)/q;if(o<0){continue}if(r.doubleSided||(r.flipSided?q>0:q<0)){W.add(Z,aa.multiplyScalar(o));if(j instanceof THREE.Face3){v=i.multiplyVector3(v.copy(k[j.a]));M=i.multiplyVector3(M.copy(k[j.b]));O=i.multiplyVector3(O.copy(k[j.c]));if(X(W,v,M,O)){n={distance:Z.distanceTo(W),point:W.clone(),face:j,object:r};l.push(n)}}else{if(j instanceof THREE.Face4){v=i.multiplyVector3(v.copy(k[j.a]));M=i.multiplyVector3(M.copy(k[j.b]));O=i.multiplyVector3(O.copy(k[j.c]));P=i.multiplyVector3(P.copy(k[j.d]));if(X(W,v,M,P)||X(W,M,O,P)){n={distance:Z.distanceTo(W),point:W.clone(),face:j,object:r};l.push(n)}}}}}}}return l};this.intersectObjects=function(i){var j=[];for(var f=0,h=i.length;f<h;f++){Array.prototype.push.apply(j,this.intersectObject(i[f]))}j.sort(function(k,l){return k.distance-l.distance});return j};var ab=new THREE.Vector3(),ad=new THREE.Vector3(),af=new THREE.Vector3();var Q,S,Y;function R(f,i,h){ab.sub(h,f);Q=ab.dot(i);S=ad.add(f,af.copy(i).multiplyScalar(Q));Y=h.distanceTo(S);return Y}var b,d,u,ag,ah,ac,T,V;function X(f,h,i,j){ab.sub(j,h);ad.sub(i,h);af.sub(f,h);b=ab.dot(ab);d=ab.dot(ad);u=ab.dot(af);ag=ad.dot(ad);ah=ad.dot(af);ac=1/(b*ag-d*d);T=(ag*u-d*ah)*ac;V=(b*ah-d*u)*ac;return(T>=0)&&(V>=0)&&(T+V<1)}};THREE.Rectangle=function(){var p,n,m,q,l,r,o=true;function k(){l=m-p;r=q-n}this.getX=function(){return p};this.getY=function(){return n};this.getWidth=function(){return l};this.getHeight=function(){return r};this.getLeft=function(){return p};this.getTop=function(){return n};this.getRight=function(){return m};this.getBottom=function(){return q};this.set=function(d,a,b,c){o=false;p=d;n=a;m=b;q=c;k()};this.addPoint=function(b,a){if(o){o=false;p=b;n=a;m=b;q=a;k()}else{p=p<b?p:b;n=n<a?n:a;m=m>b?m:b;q=q>a?q:a;k()}};this.add3Points=function(h,d,b,f,c,a){if(o){o=false;p=h<b?(h<c?h:c):(b<c?b:c);n=d<f?(d<a?d:a):(f<a?f:a);m=h>b?(h>c?h:c):(b>c?b:c);q=d>f?(d>a?d:a):(f>a?f:a);k()}else{p=h<b?(h<c?(h<p?h:p):(c<p?c:p)):(b<c?(b<p?b:p):(c<p?c:p));n=d<f?(d<a?(d<n?d:n):(a<n?a:n)):(f<a?(f<n?f:n):(a<n?a:n));m=h>b?(h>c?(h>m?h:m):(c>m?c:m)):(b>c?(b>m?b:m):(c>m?c:m));q=d>f?(d>a?(d>q?d:q):(a>q?a:q)):(f>a?(f>q?f:q):(a>q?a:q));k()}};this.addRectangle=function(a){if(o){o=false;p=a.getLeft();n=a.getTop();m=a.getRight();q=a.getBottom();k()}else{p=p<a.getLeft()?p:a.getLeft();n=n<a.getTop()?n:a.getTop();m=m>a.getRight()?m:a.getRight();q=q>a.getBottom()?q:a.getBottom();k()}};this.inflate=function(a){p-=a;n-=a;m+=a;q+=a;k()};this.minSelf=function(a){p=p>a.getLeft()?p:a.getLeft();n=n>a.getTop()?n:a.getTop();m=m<a.getRight()?m:a.getRight();q=q<a.getBottom()?q:a.getBottom();k()};this.intersects=function(a){if(m<a.getLeft()){return false}if(p>a.getRight()){return false}if(q<a.getTop()){return false}if(n>a.getBottom()){return false}return true};this.empty=function(){o=true;p=0;n=0;m=0;q=0;k()};this.isEmpty=function(){return o}};THREE.Math={clamp:function(b,a,h){return(b<a)?a:((b>h)?h:b)},clampBottom:function(a,d){return a<d?d:a},mapLinear:function(h,l,i,j,k){return j+(h-l)*(k-j)/(i-l)},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(d,c){return d+Math.floor(Math.random()*(c-d+1))},randFloat:function(d,c){return d+Math.random()*(c-d)},randFloatSpread:function(b){return b*(0.5-Math.random())},sign:function(b){return(b<0)?-1:((b>0)?1:0)}};THREE.Matrix3=function(){this.elements=new Float32Array(9)};THREE.Matrix3.prototype={constructor:THREE.Matrix3,getInverse:function(t){var u=t.elements;var m=u[10]*u[5]-u[6]*u[9];var v=-u[10]*u[1]+u[2]*u[9];var B=u[6]*u[1]-u[2]*u[5];var r=-u[10]*u[4]+u[6]*u[8];var y=u[10]*u[0]-u[2]*u[8];var C=-u[6]*u[0]+u[2]*u[4];var s=u[9]*u[4]-u[5]*u[8];var z=-u[9]*u[0]+u[1]*u[8];var E=u[5]*u[0]-u[1]*u[4];var x=u[0]*m+u[1]*r+u[2]*s;if(x===0){console.warn("Matrix3.getInverse(): determinant == 0")}var D=1/x;var A=this.elements;A[0]=D*m;A[1]=D*v;A[2]=D*B;A[3]=D*r;A[4]=D*y;A[5]=D*C;A[6]=D*s;A[7]=D*z;A[8]=D*E;return this},transpose:function(){var c,d=this.elements;c=d[1];d[1]=d[3];d[3]=c;c=d[2];d[2]=d[6];d[6]=c;c=d[5];d[5]=d[7];d[7]=c;return this},transposeIntoArray:function(c){var d=this.m;c[0]=d[0];c[1]=d[3];c[2]=d[6];c[3]=d[1];c[4]=d[4];c[5]=d[7];c[6]=d[2];c[7]=d[5];c[8]=d[8];return this}};THREE.Matrix4=function(v,x,z,B,E,F,G,H,I,s,t,u,y,A,C,D){this.elements=new Float32Array(16);this.set((v!==undefined)?v:1,x||0,z||0,B||0,E||0,(F!==undefined)?F:1,G||0,H||0,I||0,s||0,(t!==undefined)?t:1,u||0,y||0,A||0,C||0,(D!==undefined)?D:1)};THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(v,x,z,B,E,F,G,H,K,L,t,u,y,A,C,D){var I=this.elements;I[0]=v;I[4]=x;I[8]=z;I[12]=B;I[1]=E;I[5]=F;I[9]=G;I[13]=H;I[2]=K;I[6]=L;I[10]=t;I[14]=u;I[3]=y;I[7]=A;I[11]=C;I[15]=D;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},copy:function(d){var c=d.elements;this.set(c[0],c[4],c[8],c[12],c[1],c[5],c[9],c[13],c[2],c[6],c[10],c[14],c[3],c[7],c[11],c[15]);return this},lookAt:function(p,o,j){var m=this.elements;var k=THREE.Matrix4.__v1;var l=THREE.Matrix4.__v2;var n=THREE.Matrix4.__v3;n.sub(p,o).normalize();if(n.length()===0){n.z=1}k.cross(j,n).normalize();if(k.length()===0){n.x+=0.0001;k.cross(j,n).normalize()}l.cross(n,k);m[0]=k.x;m[4]=l.x;m[8]=n.x;m[1]=k.y;m[5]=l.y;m[9]=n.y;m[2]=k.z;m[6]=l.z;m[10]=n.z;return this},multiply:function(a,b){var aj=a.elements;var R=b.elements;var aA=this.elements;var am=aj[0],ao=aj[4],ap=aj[8],aq=aj[12];var S=aj[1],T=aj[5],U=aj[9],V=aj[13];var aa=aj[2],ab=aj[6],ac=aj[10],ad=aj[14];var ai=aj[3],ak=aj[7],al=aj[11],an=aj[15];var au=R[0],aw=R[4],ay=R[8],az=R[12];var W=R[1],X=R[5],Y=R[9],Z=R[13];var ae=R[2],af=R[6],ag=R[10],ah=R[14];var ar=R[3],at=R[7],av=R[11],ax=R[15];aA[0]=am*au+ao*W+ap*ae+aq*ar;aA[4]=am*aw+ao*X+ap*af+aq*at;aA[8]=am*ay+ao*Y+ap*ag+aq*av;aA[12]=am*az+ao*Z+ap*ah+aq*ax;aA[1]=S*au+T*W+U*ae+V*ar;aA[5]=S*aw+T*X+U*af+V*at;aA[9]=S*ay+T*Y+U*ag+V*av;aA[13]=S*az+T*Z+U*ah+V*ax;aA[2]=aa*au+ab*W+ac*ae+ad*ar;aA[6]=aa*aw+ab*X+ac*af+ad*at;aA[10]=aa*ay+ab*Y+ac*ag+ad*av;aA[14]=aa*az+ab*Z+ac*ah+ad*ax;aA[3]=ai*au+ak*W+al*ae+an*ar;aA[7]=ai*aw+ak*X+al*af+an*at;aA[11]=ai*ay+ak*Y+al*ag+an*av;aA[15]=ai*az+ak*Z+al*ah+an*ax;return this},multiplySelf:function(b){return this.multiply(this,b)},multiplyToArray:function(i,j,b){var a=this.elements;this.multiply(i,j);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return this},multiplyScalar:function(d){var c=this.elements;c[0]*=d;c[4]*=d;c[8]*=d;c[12]*=d;c[1]*=d;c[5]*=d;c[9]*=d;c[13]*=d;c[2]*=d;c[6]*=d;c[10]*=d;c[14]*=d;c[3]*=d;c[7]*=d;c[11]*=d;c[15]*=d;return this},multiplyVector3:function(j){var k=this.elements;var m=j.x,n=j.y,d=j.z;var l=1/(k[3]*m+k[7]*n+k[11]*d+k[15]);j.x=(k[0]*m+k[4]*n+k[8]*d+k[12])*l;j.y=(k[1]*m+k[5]*n+k[9]*d+k[13])*l;j.z=(k[2]*m+k[6]*n+k[10]*d+k[14])*l;return j},multiplyVector4:function(j){var k=this.elements;var m=j.x,n=j.y,i=j.z,l=j.w;j.x=k[0]*m+k[4]*n+k[8]*i+k[12]*l;j.y=k[1]*m+k[5]*n+k[9]*i+k[13]*l;j.z=k[2]*m+k[6]*n+k[10]*i+k[14]*l;j.w=k[3]*m+k[7]*n+k[11]*i+k[15]*l;return j},rotateAxis:function(i){var j=this.elements;var k=i.x,l=i.y,h=i.z;i.x=k*j[0]+l*j[4]+h*j[8];i.y=k*j[1]+l*j[5]+h*j[9];i.z=k*j[2]+l*j[6]+h*j[10];i.normalize();return i},crossVector:function(a){var f=this.elements;var h=new THREE.Vector4();h.x=f[0]*a.x+f[4]*a.y+f[8]*a.z+f[12]*a.w;h.y=f[1]*a.x+f[5]*a.y+f[9]*a.z+f[13]*a.w;h.z=f[2]*a.x+f[6]*a.y+f[10]*a.z+f[14]*a.w;h.w=(a.w)?f[3]*a.x+f[7]*a.y+f[11]*a.z+f[15]*a.w:1;return h},determinant:function(){var H=this.elements;var v=H[0],x=H[4],z=H[8],B=H[12];var E=H[1],F=H[5],G=H[9],I=H[13];var K=H[2],L=H[6],t=H[10],u=H[14];var y=H[3],A=H[7],C=H[11],D=H[15];return(B*G*L*y-z*I*L*y-B*F*t*y+x*I*t*y+z*F*u*y-x*G*u*y-B*G*K*A+z*I*K*A+B*E*t*A-v*I*t*A-z*E*u*A+v*G*u*A+B*F*K*C-x*I*K*C-B*E*L*C+v*I*L*C+x*E*u*C-v*F*u*C-z*F*K*D+x*G*K*D+z*E*L*D-v*G*L*D-x*E*t*D+v*F*t*D)},transpose:function(){var c=this.elements;var d;d=c[1];c[1]=c[4];c[4]=d;d=c[2];c[2]=c[8];c[8]=d;d=c[6];c[6]=c[9];c[9]=d;d=c[3];c[3]=c[12];c[12]=d;d=c[7];c[7]=c[13];c[13]=d;d=c[11];c[11]=c[14];c[14]=d;return this},flattenToArray:function(c){var d=this.elements;c[0]=d[0];c[1]=d[1];c[2]=d[2];c[3]=d[3];c[4]=d[4];c[5]=d[5];c[6]=d[6];c[7]=d[7];c[8]=d[8];c[9]=d[9];c[10]=d[10];c[11]=d[11];c[12]=d[12];c[13]=d[13];c[14]=d[14];c[15]=d[15];return c},flattenToArrayOffset:function(h,d){var f=this.elements;h[d]=f[0];h[d+1]=f[1];h[d+2]=f[2];h[d+3]=f[3];h[d+4]=f[4];h[d+5]=f[5];h[d+6]=f[6];h[d+7]=f[7];h[d+8]=f[8];h[d+9]=f[9];h[d+10]=f[10];h[d+11]=f[11];h[d+12]=f[12];h[d+13]=f[13];h[d+14]=f[14];h[d+15]=f[15];return h},getPosition:function(){var b=this.elements;return THREE.Matrix4.__v1.set(b[12],b[13],b[14])},setPosition:function(d){var c=this.elements;c[12]=d.x;c[13]=d.y;c[14]=d.z;return this},getColumnX:function(){var b=this.elements;return THREE.Matrix4.__v1.set(b[0],b[1],b[2])},getColumnY:function(){var b=this.elements;return THREE.Matrix4.__v1.set(b[4],b[5],b[6])},getColumnZ:function(){var b=this.elements;return THREE.Matrix4.__v1.set(b[8],b[9],b[10])},getInverse:function(B){var L=this.elements;var m=B.elements;var E=m[0],F=m[4],H=m[8],K=m[12];var x=m[1],y=m[5],z=m[9],A=m[13];var M=m[2],N=m[6],O=m[10],P=m[14];var C=m[3],D=m[7],G=m[11],I=m[15];L[0]=z*P*D-A*O*D+A*N*G-y*P*G-z*N*I+y*O*I;L[4]=K*O*D-H*P*D-K*N*G+F*P*G+H*N*I-F*O*I;L[8]=H*A*D-K*z*D+K*y*G-F*A*G-H*y*I+F*z*I;L[12]=K*z*N-H*A*N-K*y*O+F*A*O+H*y*P-F*z*P;L[1]=A*O*C-z*P*C-A*M*G+x*P*G+z*M*I-x*O*I;L[5]=H*P*C-K*O*C+K*M*G-E*P*G-H*M*I+E*O*I;L[9]=K*z*C-H*A*C-K*x*G+E*A*G+H*x*I-E*z*I;L[13]=H*A*M-K*z*M+K*x*O-E*A*O-H*x*P+E*z*P;L[2]=y*P*C-A*N*C+A*M*D-x*P*D-y*M*I+x*N*I;L[6]=K*N*C-F*P*C-K*M*D+E*P*D+F*M*I-E*N*I;L[10]=F*A*C-K*y*C+K*x*D-E*A*D-F*x*I+E*y*I;L[14]=K*y*M-F*A*M-K*x*N+E*A*N+F*x*P-E*y*P;L[3]=z*N*C-y*O*C-z*M*D+x*O*D+y*M*G-x*N*G;L[7]=F*O*C-H*N*C+H*M*D-E*O*D-F*M*G+E*N*G;L[11]=H*y*C-F*z*C-H*x*D+E*z*D+F*x*G-E*y*G;L[15]=F*z*M-H*y*M+H*x*N-E*z*N-F*x*O+E*y*O;this.multiplyScalar(1/B.determinant());return this},setRotationFromEuler:function(R,z){var V=this.elements;var S=R.x,T=R.y,U=R.z;var a=Math.cos(S),b=Math.sin(S);var d=Math.cos(T),L=Math.sin(T);var Q=Math.cos(U),y=Math.sin(U);switch(z){case"YXZ":var N=d*Q,P=d*y,v=L*Q,M=L*y;V[0]=N+M*b;V[4]=v*b-P;V[8]=a*L;V[1]=a*y;V[5]=a*Q;V[9]=-b;V[2]=P*b-v;V[6]=M+N*b;V[10]=a*d;break;case"ZXY":var N=d*Q,P=d*y,v=L*Q,M=L*y;V[0]=N-M*b;V[4]=-a*y;V[8]=v+P*b;V[1]=P+v*b;V[5]=a*Q;V[9]=M-N*b;V[2]=-a*L;V[6]=b;V[10]=a*d;break;case"ZYX":var O=a*Q,f=a*y,Y=b*Q,Z=b*y;V[0]=d*Q;V[4]=Y*L-f;V[8]=O*L+Z;V[1]=d*y;V[5]=Z*L+O;V[9]=f*L-Y;V[2]=-L;V[6]=b*d;V[10]=a*d;break;case"YZX":var c=a*d,x=a*L,W=b*d,X=b*L;V[0]=d*Q;V[4]=X-c*y;V[8]=W*y+x;V[1]=y;V[5]=a*Q;V[9]=-b*Q;V[2]=-L*Q;V[6]=x*y+W;V[10]=c-X*y;break;case"XZY":var c=a*d,x=a*L,W=b*d,X=b*L;V[0]=d*Q;V[4]=-y;V[8]=L*Q;V[1]=c*y+X;V[5]=a*Q;V[9]=x*y-W;V[2]=W*y-x;V[6]=b*Q;V[10]=X*y+c;break;default:var O=a*Q,f=a*y,Y=b*Q,Z=b*y;V[0]=d*Q;V[4]=-d*y;V[8]=L;V[1]=f+Y*L;V[5]=O-Z*L;V[9]=-b*d;V[2]=Z-O*L;V[6]=Y+f*L;V[10]=a*d;break}return this},setRotationFromQuaternion:function(B){var I=this.elements;var F=B.x,G=B.y,H=B.z,E=B.w;var z=F+F,N=G+G,D=H+H;var K=F*z,L=F*N,M=F*D;var A=G*N,C=G*D,v=H*D;var q=E*z,x=E*N,y=E*D;I[0]=1-(A+v);I[4]=L-y;I[8]=M+x;I[1]=L+y;I[5]=1-(K+v);I[9]=C-q;I[2]=M-x;I[6]=C+q;I[10]=1-(K+A);return this},compose:function(k,j,l){var m=this.elements;var n=THREE.Matrix4.__m1;var i=THREE.Matrix4.__m2;n.identity();n.setRotationFromQuaternion(j);i.makeScale(l.x,l.y,l.z);this.multiply(n,i);m[12]=k.x;m[13]=k.y;m[14]=k.z;return this},decompose:function(m,r,o){var p=this.elements;var l=THREE.Matrix4.__v1;var n=THREE.Matrix4.__v2;var q=THREE.Matrix4.__v3;l.set(p[0],p[1],p[2]);n.set(p[4],p[5],p[6]);q.set(p[8],p[9],p[10]);m=(m instanceof THREE.Vector3)?m:new THREE.Vector3();r=(r instanceof THREE.Quaternion)?r:new THREE.Quaternion();o=(o instanceof THREE.Vector3)?o:new THREE.Vector3();o.x=l.length();o.y=n.length();o.z=q.length();m.x=p[12];m.y=p[13];m.z=p[14];var k=THREE.Matrix4.__m1;k.copy(this);k.elements[0]/=o.x;k.elements[1]/=o.x;k.elements[2]/=o.x;k.elements[4]/=o.y;k.elements[5]/=o.y;k.elements[6]/=o.y;k.elements[8]/=o.z;k.elements[9]/=o.z;k.elements[10]/=o.z;r.setFromRotationMatrix(k);return[m,r,o]},extractPosition:function(f){var h=this.elements;var d=f.elements;h[12]=d[12];h[13]=d[13];h[14]=d[14];return this},extractRotation:function(k){var l=this.elements;var m=k.elements;var p=THREE.Matrix4.__v1;var n=1/p.set(m[0],m[1],m[2]).length();var o=1/p.set(m[4],m[5],m[6]).length();var j=1/p.set(m[8],m[9],m[10]).length();l[0]=m[0]*n;l[1]=m[1]*n;l[2]=m[2]*n;l[4]=m[4]*o;l[5]=m[5]*o;l[6]=m[6]*o;l[8]=m[8]*j;l[9]=m[9]*j;l[10]=m[10]*j;return this},translate:function(h){var k=this.elements;var i=h.x,j=h.y,l=h.z;k[12]=k[0]*i+k[4]*j+k[8]*l+k[12];k[13]=k[1]*i+k[5]*j+k[9]*l+k[13];k[14]=k[2]*i+k[6]*j+k[10]*l+k[14];k[15]=k[3]*i+k[7]*j+k[11]*l+k[15];return this},rotateX:function(x){var y=this.elements;var s=y[4];var z=y[5];var p=y[6];var t=y[7];var u=y[8];var A=y[9];var q=y[10];var v=y[11];var r=Math.cos(x);var c=Math.sin(x);y[4]=r*s+c*u;y[5]=r*z+c*A;y[6]=r*p+c*q;y[7]=r*t+c*v;y[8]=r*u-c*s;y[9]=r*A-c*z;y[10]=r*q-c*p;y[11]=r*v-c*t;return this},rotateY:function(x){var y=this.elements;var s=y[0];var z=y[1];var p=y[2];var t=y[3];var u=y[8];var A=y[9];var q=y[10];var v=y[11];var r=Math.cos(x);var c=Math.sin(x);y[0]=r*s-c*u;y[1]=r*z-c*A;y[2]=r*p-c*q;y[3]=r*t-c*v;y[8]=r*u+c*s;y[9]=r*A+c*z;y[10]=r*q+c*p;y[11]=r*v+c*t;return this},rotateZ:function(x){var y=this.elements;var s=y[0];var z=y[1];var p=y[2];var t=y[3];var u=y[4];var A=y[5];var q=y[6];var v=y[7];var r=Math.cos(x);var c=Math.sin(x);y[0]=r*s+c*u;y[1]=r*z+c*A;y[2]=r*p+c*q;y[3]=r*t+c*v;y[4]=r*u-c*s;y[5]=r*A-c*z;y[6]=r*q-c*p;y[7]=r*v-c*t;return this},rotateByAxis:function(aC,aD){var aO=this.elements;if(aC.x===1&&aC.y===0&&aC.z===0){return this.rotateX(aD)}else{if(aC.x===0&&aC.y===1&&aC.z===0){return this.rotateY(aD)}else{if(aC.x===0&&aC.y===0&&aC.z===1){return this.rotateZ(aD)}}}var ak=aC.x,al=aC.y,am=aC.z;var ah=Math.sqrt(ak*ak+al*al+am*am);ak/=ah;al/=ah;am/=ah;var ar=ak*ak,aI=al*al,x=am*am;var n=Math.cos(aD);var aj=Math.sin(aD);var aB=1-n;var at=ak*al*aB;var au=ak*am*aB;var aJ=al*am*aB;var ap=ak*aj;var aE=al*aj;var av=am*aj;var aF=ar+(1-ar)*n;var ax=at+av;var an=au-aE;var aG=at-av;var c=aI+(1-aI)*n;var ao=aJ+ap;var aH=au+aE;var s=aJ-ap;var aq=x+(1-x)*n;var ac=aO[0],aw=aO[1],aK=aO[2],y=aO[3];var ae=aO[4],ay=aO[5],aL=aO[6],z=aO[7];var ag=aO[8],az=aO[9],aM=aO[10],ad=aO[11];var ai=aO[12],aA=aO[13],aN=aO[14],af=aO[15];aO[0]=aF*ac+ax*ae+an*ag;aO[1]=aF*aw+ax*ay+an*az;aO[2]=aF*aK+ax*aL+an*aM;aO[3]=aF*y+ax*z+an*ad;aO[4]=aG*ac+c*ae+ao*ag;aO[5]=aG*aw+c*ay+ao*az;aO[6]=aG*aK+c*aL+ao*aM;aO[7]=aG*y+c*z+ao*ad;aO[8]=aH*ac+s*ae+aq*ag;aO[9]=aH*aw+s*ay+aq*az;aO[10]=aH*aK+s*aL+aq*aM;aO[11]=aH*y+s*z+aq*ad;return this},scale:function(h){var k=this.elements;var i=h.x,j=h.y,l=h.z;k[0]*=i;k[4]*=j;k[8]*=l;k[1]*=i;k[5]*=j;k[9]*=l;k[2]*=i;k[6]*=j;k[10]*=l;k[3]*=i;k[7]*=j;k[11]*=l;return this},getMaxScaleOnAxis:function(){var j=this.elements;var i=j[0]*j[0]+j[1]*j[1]+j[2]*j[2];var f=j[4]*j[4]+j[5]*j[5]+j[6]*j[6];var h=j[8]*j[8]+j[9]*j[9]+j[10]*j[10];return Math.sqrt(Math.max(i,Math.max(f,h)))},makeTranslation:function(f,h,d){this.set(1,0,0,f,0,1,0,h,0,0,1,d,0,0,0,1);return this},makeRotationX:function(f){var h=Math.cos(f),c=Math.sin(f);this.set(1,0,0,0,0,h,-c,0,0,c,h,0,0,0,0,1);return this},makeRotationY:function(f){var h=Math.cos(f),c=Math.sin(f);this.set(h,0,c,0,0,1,0,0,-c,0,h,0,0,0,0,1);return this},makeRotationZ:function(f){var h=Math.cos(f),c=Math.sin(f);this.set(h,-c,0,0,c,h,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(v,u){var r=Math.cos(u);var c=Math.sin(u);var n=1-r;var o=v.x,p=v.y,q=v.z;var s=n*o,t=n*p;this.set(s*o+r,s*p-c*q,s*q+c*p,0,s*p+c*q,t*p+r,t*q-c*o,0,s*q-c*p,t*q+c*o,n*q*q+r,0,0,0,0,1);return this},makeScale:function(f,h,d){this.set(f,0,0,0,0,h,0,0,0,0,d,0,0,0,0,1);return this},makeFrustum:function(z,C,B,c,x,y){var A=this.elements;var a=2*x/(C-z);var d=2*x/(c-B);var b=(C+z)/(C-z);var t=(c+B)/(c-B);var u=-(y+x)/(y-x);var v=-2*y*x/(y-x);A[0]=a;A[4]=0;A[8]=b;A[12]=0;A[1]=0;A[5]=d;A[9]=t;A[13]=0;A[2]=0;A[6]=0;A[10]=u;A[14]=v;A[3]=0;A[7]=0;A[11]=-1;A[15]=0;return this},makePerspective:function(p,r,n,k){var l=n*Math.tan(p*Math.PI/360);var o=-l;var m=o*r;var q=l*r;return this.makeFrustum(m,q,o,l,n,k)},makeOrthographic:function(z,h,s,C,v,x){var A=this.elements;var p=h-z;var y=s-C;var B=x-v;var r=(h+z)/p;var t=(s+C)/y;var u=(x+v)/B;A[0]=2/p;A[4]=0;A[8]=0;A[12]=-r;A[1]=0;A[5]=2/y;A[9]=0;A[13]=-t;A[2]=0;A[6]=0;A[10]=-2/B;A[14]=-u;A[3]=0;A[7]=0;A[11]=0;A[15]=1;return this},clone:function(){var b=this.elements;return new THREE.Matrix4(b[0],b[4],b[8],b[12],b[1],b[5],b[9],b[13],b[2],b[6],b[10],b[14],b[3],b[7],b[11],b[15])}};THREE.Matrix4.__v1=new THREE.Vector3();THREE.Matrix4.__v2=new THREE.Vector3();THREE.Matrix4.__v3=new THREE.Vector3();THREE.Matrix4.__m1=new THREE.Matrix4();THREE.Matrix4.__m2=new THREE.Matrix4();THREE.Object3D=function(){this.id=THREE.Object3DCount++;this.name="";this.parent=undefined;this.children=[];this.up=new THREE.Vector3(0,1,0);this.position=new THREE.Vector3();this.rotation=new THREE.Vector3();this.eulerOrder="XYZ";this.scale=new THREE.Vector3(1,1,1);this.doubleSided=false;this.flipSided=false;this.renderDepth=null;this.rotationAutoUpdate=true;this.matrix=new THREE.Matrix4();this.matrixWorld=new THREE.Matrix4();this.matrixRotationWorld=new THREE.Matrix4();this.matrixAutoUpdate=true;this.matrixWorldNeedsUpdate=true;this.quaternion=new THREE.Quaternion();this.useQuaternion=false;this.boundRadius=0;this.boundRadiusScale=1;this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this._vector=new THREE.Vector3()};THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(b){this.matrix.multiply(b,this.matrix);this.scale.getScaleFromMatrix(this.matrix);this.rotation.getRotationFromMatrix(this.matrix,this.scale);this.position.getPositionFromMatrix(this.matrix)},translate:function(c,d){this.matrix.rotateAxis(d);this.position.addSelf(d.multiplyScalar(c))},translateX:function(b){this.translate(b,this._vector.set(1,0,0))},translateY:function(b){this.translate(b,this._vector.set(0,1,0))},translateZ:function(b){this.translate(b,this._vector.set(0,0,1))},lookAt:function(b){this.matrix.lookAt(b,this.position,this.up);if(this.rotationAutoUpdate){this.rotation.getRotationFromMatrix(this.matrix)}},add:function(d){if(d===this){console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");return}if(d instanceof THREE.Object3D){if(d.parent!==undefined){d.parent.remove(d)}d.parent=this;this.children.push(d);var c=this;while(c.parent!==undefined){c=c.parent}if(c!==undefined&&c instanceof THREE.Scene){c.__addObject(d)}}},remove:function(d){var f=this.children.indexOf(d);if(f!==-1){d.parent=undefined;this.children.splice(f,1);var h=this;while(h.parent!==undefined){h=h.parent}if(h!==undefined&&h instanceof THREE.Scene){h.__removeObject(d)}}},getChildByName:function(l,c){var j,i,k;for(j=0,i=this.children.length;j<i;j++){k=this.children[j];if(k.name===l){return k}if(c){k=k.getChildByName(l,c);if(k!==undefined){return k}}}return undefined},updateMatrix:function(){this.matrix.setPosition(this.position);if(this.useQuaternion){this.matrix.setRotationFromQuaternion(this.quaternion)}else{this.matrix.setRotationFromEuler(this.rotation,this.eulerOrder)}if(this.scale.x!==1||this.scale.y!==1||this.scale.z!==1){this.matrix.scale(this.scale);this.boundRadiusScale=Math.max(this.scale.x,Math.max(this.scale.y,this.scale.z))}this.matrixWorldNeedsUpdate=true},updateMatrixWorld:function(h){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||h){if(this.parent){this.matrixWorld.multiply(this.parent.matrixWorld,this.matrix)}else{this.matrixWorld.copy(this.matrix)}this.matrixWorldNeedsUpdate=false;h=true}for(var d=0,f=this.children.length;d<f;d++){this.children[d].updateMatrixWorld(h)}}};THREE.Object3DCount=0;THREE.Projector=function(){var ae,ar,ai=[],al,ah,aa=[],au,aj,O=[],ac,ak=[],aq,at,R=[],M,U,ag=[],N={objects:[],sprites:[],lights:[],elements:[]},am=new THREE.Vector3(),ao=new THREE.Vector4(),an=new THREE.Matrix4(),Z=new THREE.Matrix4(),W=new THREE.Frustum(),S=new THREE.Vector4(),Q=new THREE.Vector4(),ad;this.projectVector=function(b,a){a.matrixWorldInverse.getInverse(a.matrixWorld);an.multiply(a.projectionMatrix,a.matrixWorldInverse);an.multiplyVector3(b);return b};this.unprojectVector=function(b,a){a.projectionMatrixInverse.getInverse(a.projectionMatrix);an.multiply(a.matrixWorld,a.projectionMatrixInverse);an.multiplyVector3(b);return b};this.pickingRay=function(c,a){var d,f,b;c.z=-1;d=new THREE.Vector3(c.x,c.y,1);this.unprojectVector(c,a);this.unprojectVector(d,a);d.subSelf(c).normalize();return new THREE.Ray(c,d)};this.projectGraph=function(c,b){ar=0;N.objects.length=0;N.sprites.length=0;N.lights.length=0;var a=function(f){if(f.visible===false){return}if((f instanceof THREE.Mesh||f instanceof THREE.Line)&&(f.frustumCulled===false||W.contains(f))){am.copy(f.matrixWorld.getPosition());an.multiplyVector3(am);ae=V();ae.object=f;ae.z=am.z;N.objects.push(ae)}else{if(f instanceof THREE.Light){N.lights.push(f)}}for(var d=0,h=f.children.length;d<h;d++){a(f.children[d])}};a(c);b&&N.objects.sort(X);return N};this.projectScene=function(c,m,s){var ax=m.near,p=m.far,f=false,B,L,E,o,u,a,z,j,n,b,D,I,F,av,K,r,x,A,k,i,t,v,y,C,H,G,d,h,l,q;aj=0;ac=0;at=0;U=0;N.elements.length=0;if(m.parent===undefined){console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it...");c.add(m)}c.updateMatrixWorld();m.matrixWorldInverse.getInverse(m.matrixWorld);an.multiply(m.projectionMatrix,m.matrixWorldInverse);W.setFromMatrix(an);N=this.projectGraph(c,false);for(B=0,L=N.objects.length;B<L;B++){F=N.objects[B].object;av=F.matrixWorld;ah=0;if(F instanceof THREE.Mesh){r=F.geometry;x=F.geometry.materials;A=r.vertices;t=r.faces;H=r.faceVertexUvs;K=F.matrixRotationWorld.extractRotation(av);for(E=0,o=A.length;E<o;E++){al=af();al.positionWorld.copy(A[E]);av.multiplyVector3(al.positionWorld);al.positionScreen.copy(al.positionWorld);an.multiplyVector4(al.positionScreen);al.positionScreen.x/=al.positionScreen.w;al.positionScreen.y/=al.positionScreen.w;al.visible=al.positionScreen.z>ax&&al.positionScreen.z<p}for(u=0,a=t.length;u<a;u++){v=t[u];if(v instanceof THREE.Face3){d=aa[v.a];h=aa[v.b];l=aa[v.c];if(d.visible&&h.visible&&l.visible){f=((l.positionScreen.x-d.positionScreen.x)*(h.positionScreen.y-d.positionScreen.y)-(l.positionScreen.y-d.positionScreen.y)*(h.positionScreen.x-d.positionScreen.x))<0;if(F.doubleSided||f!=F.flipSided){au=Y();au.v1.copy(d);au.v2.copy(h);au.v3.copy(l)}else{continue}}else{continue}}else{if(v instanceof THREE.Face4){d=aa[v.a];h=aa[v.b];l=aa[v.c];q=aa[v.d];if(d.visible&&h.visible&&l.visible&&q.visible){f=(q.positionScreen.x-d.positionScreen.x)*(h.positionScreen.y-d.positionScreen.y)-(q.positionScreen.y-d.positionScreen.y)*(h.positionScreen.x-d.positionScreen.x)<0||(h.positionScreen.x-l.positionScreen.x)*(q.positionScreen.y-l.positionScreen.y)-(h.positionScreen.y-l.positionScreen.y)*(q.positionScreen.x-l.positionScreen.x)<0;if(F.doubleSided||f!=F.flipSided){au=ab();au.v1.copy(d);au.v2.copy(h);au.v3.copy(l);au.v4.copy(q)}else{continue}}else{continue}}}au.normalWorld.copy(v.normal);if(!f&&(F.flipSided||F.doubleSided)){au.normalWorld.negate()}K.multiplyVector3(au.normalWorld);au.centroidWorld.copy(v.centroid);av.multiplyVector3(au.centroidWorld);au.centroidScreen.copy(au.centroidWorld);an.multiplyVector3(au.centroidScreen);y=v.vertexNormals;for(z=0,j=y.length;z<j;z++){C=au.vertexNormalsWorld[z];C.copy(y[z]);if(!f&&(F.flipSided||F.doubleSided)){C.negate()}K.multiplyVector3(C)}for(n=0,b=H.length;n<b;n++){G=H[n][u];if(!G){continue}for(D=0,I=G.length;D<I;D++){au.uvs[n][D]=G[D]}}au.material=F.material;au.faceMaterial=v.materialIndex!==null?x[v.materialIndex]:null;au.z=au.centroidScreen.z;N.elements.push(au)}}else{if(F instanceof THREE.Line){Z.multiply(an,av);A=F.geometry.vertices;d=af();d.positionScreen.copy(A[0]);Z.multiplyVector4(d.positionScreen);var aw=F.type===THREE.LinePieces?2:1;for(E=1,o=A.length;E<o;E++){d=af();d.positionScreen.copy(A[E]);Z.multiplyVector4(d.positionScreen);if((E+1)%aw>0){continue}h=aa[ah-2];S.copy(d.positionScreen);Q.copy(h.positionScreen);if(ap(S,Q)){S.multiplyScalar(1/S.w);Q.multiplyScalar(1/Q.w);aq=T();aq.v1.positionScreen.copy(S);aq.v2.positionScreen.copy(Q);aq.z=Math.max(S.z,Q.z);aq.material=F.material;N.elements.push(aq)}}}}}for(B=0,L=N.sprites.length;B<L;B++){F=N.sprites[B].object;av=F.matrixWorld;if(F instanceof THREE.Particle){ao.set(av.elements[12],av.elements[13],av.elements[14],1);an.multiplyVector4(ao);ao.z/=ao.w;if(ao.z>0&&ao.z<1){M=P();M.x=ao.x/ao.w;M.y=ao.y/ao.w;M.z=ao.z;M.rotation=F.rotation.z;M.scale.x=F.scale.x*Math.abs(M.x-(ao.x+m.projectionMatrix.elements[0])/(ao.w+m.projectionMatrix.elements[12]));M.scale.y=F.scale.y*Math.abs(M.y-(ao.y+m.projectionMatrix.elements[5])/(ao.w+m.projectionMatrix.elements[13]));M.material=F.material;N.elements.push(M)}}}s&&N.elements.sort(X);return N};function V(){var a=ai[ar]=ai[ar]||new THREE.RenderableObject();ar++;return a}function af(){var a=aa[ah]=aa[ah]||new THREE.RenderableVertex();ah++;return a}function Y(){var a=O[aj]=O[aj]||new THREE.RenderableFace3();aj++;return a}function ab(){var a=ak[ac]=ak[ac]||new THREE.RenderableFace4();ac++;return a}function T(){var a=R[at]=R[at]||new THREE.RenderableLine();at++;return a}function P(){var a=ag[U]=ag[U]||new THREE.RenderableParticle();U++;return a}function X(a,b){return b.z-a.z}function ap(d,f){var h=0,a=1,c=d.z+d.w,i=f.z+f.w,j=-d.z+d.w,b=-f.z+f.w;if(c>=0&&i>=0&&j>=0&&b>=0){return true}else{if((c<0&&i<0)||(j<0&&b<0)){return false}else{if(c<0){h=Math.max(h,c/(c-i))}else{if(i<0){a=Math.min(a,c/(c-i))}}if(j<0){h=Math.max(h,j/(j-b))}else{if(b<0){a=Math.min(a,j/(j-b))}}if(a<h){return false}else{d.lerpSelf(f,h);f.lerpSelf(d,1-a);return true}}}}};THREE.Quaternion=function(h,i,j,f){this.x=h||0;this.y=i||0;this.z=j||0;this.w=(f!==undefined)?f:1};THREE.Quaternion.prototype={constructor:THREE.Quaternion,set:function(h,i,j,f){this.x=h;this.y=i;this.z=j;this.w=f;return this},copy:function(b){this.x=b.x;this.y=b.y;this.z=b.z;this.w=b.w;return this},setFromEuler:function(B){var v=Math.PI/360,r=B.x*v,t=B.y*v,u=B.z*v,y=Math.cos(t),c=Math.sin(t),z=Math.cos(-u),q=Math.sin(-u),A=Math.cos(r),s=Math.sin(r),C=y*z,x=c*q;this.w=C*A-x*s;this.x=C*s+x*A;this.y=c*z*A+y*q*s;this.z=y*q*A-c*z*s;return this},setFromAxisAngle:function(j,i){var h=i/2,f=Math.sin(h);this.x=j.x*f;this.y=j.y*f;this.z=j.z*f;this.w=Math.cos(h);return this},setFromRotationMatrix:function(f){function h(a,b){return b<0?-Math.abs(a):Math.abs(a)}var d=Math.pow(f.determinant(),1/3);this.w=Math.sqrt(Math.max(0,d+f.elements[0]+f.elements[5]+f.elements[10]))/2;this.x=Math.sqrt(Math.max(0,d+f.elements[0]-f.elements[5]-f.elements[10]))/2;this.y=Math.sqrt(Math.max(0,d-f.elements[0]+f.elements[5]-f.elements[10]))/2;this.z=Math.sqrt(Math.max(0,d-f.elements[0]-f.elements[5]+f.elements[10]))/2;this.x=h(this.x,(f.elements[6]-f.elements[9]));this.y=h(this.y,(f.elements[8]-f.elements[2]));this.z=h(this.z,(f.elements[1]-f.elements[4]));this.normalize();return this},calculateW:function(){this.w=-Math.sqrt(Math.abs(1-this.x*this.x-this.y*this.y-this.z*this.z));return this},inverse:function(){this.x*=-1;this.y*=-1;this.z*=-1;return this},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var b=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w);if(b===0){this.x=0;this.y=0;this.z=0;this.w=0}else{b=1/b;this.x=this.x*b;this.y=this.y*b;this.z=this.z*b;this.w=this.w*b}return this},multiply:function(a,b){this.x=a.x*b.w+a.y*b.z-a.z*b.y+a.w*b.x;this.y=-a.x*b.z+a.y*b.w+a.z*b.x+a.w*b.y;this.z=a.x*b.y-a.y*b.x+a.z*b.w+a.w*b.z;this.w=-a.x*b.x-a.y*b.y-a.z*b.z+a.w*b.w;return this},multiplySelf:function(b){var n=this.x,o=this.y,p=this.z,m=this.w,r=b.x,s=b.y,t=b.z,q=b.w;this.x=n*q+m*r+o*t-p*s;this.y=o*q+m*s+p*r-n*t;this.z=p*q+m*t+n*s-o*r;this.w=m*q-n*r-o*s-p*t;return this},multiplyVector3:function(A,p){if(!p){p=A}var q=A.x,r=A.y,s=A.z,u=this.x,v=this.y,x=this.z,t=this.w;var z=t*q+v*s-x*r,B=t*r+x*q-u*s,C=t*s+u*r-v*q,y=-u*q-v*r-x*s;p.x=z*t+y*-u+B*-x-C*-v;p.y=B*t+y*-v+C*-u-z*-x;p.z=C*t+y*-x+z*-v-B*-u;return p},clone:function(){return new THREE.Quaternion(this.x,this.y,this.z,this.w)}};THREE.Quaternion.slerp=function(p,r,m,l){var s=p.w*r.w+p.x*r.x+p.y*r.y+p.z*r.z;if(s<0){m.w=-r.w;m.x=-r.x;m.y=-r.y;m.z=-r.z;s=-s}else{m.copy(r)}if(Math.abs(s)>=1){m.w=p.w;m.x=p.x;m.y=p.y;m.z=p.z;return m}var q=Math.acos(s),t=Math.sqrt(1-s*s);if(Math.abs(t)<0.001){m.w=0.5*(p.w+r.w);m.x=0.5*(p.x+r.x);m.y=0.5*(p.y+r.y);m.z=0.5*(p.z+r.z);return m}var n=Math.sin((1-l)*q)/t,o=Math.sin(l*q)/t;m.w=(p.w*n+m.w*o);m.x=(p.x*n+m.x*o);m.y=(p.y*n+m.y*o);m.z=(p.z*n+m.z*o);return m};THREE.Vertex=function(){console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead.")};THREE.Face3=function(l,m,a,b,c,n){this.a=l;this.b=m;this.c=a;this.normal=b instanceof THREE.Vector3?b:new THREE.Vector3();this.vertexNormals=b instanceof Array?b:[];this.color=c instanceof THREE.Color?c:new THREE.Color();this.vertexColors=c instanceof Array?c:[];this.vertexTangents=[];this.materialIndex=n;this.centroid=new THREE.Vector3()};THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var h=new THREE.Face3(this.a,this.b,this.c);h.normal.copy(this.normal);h.color.copy(this.color);h.centroid.copy(this.centroid);h.materialIndex=this.materialIndex;var d,f;for(d=0,f=this.vertexNormals.length;d<f;d++){h.vertexNormals[d]=this.vertexNormals[d].clone()}for(d=0,f=this.vertexColors.length;d<f;d++){h.vertexColors[d]=this.vertexColors[d].clone()}for(d=0,f=this.vertexTangents.length;d<f;d++){h.vertexTangents[d]=this.vertexTangents[d].clone()}return h}};THREE.Face4=function(n,o,a,b,c,d,p){this.a=n;this.b=o;this.c=a;this.d=b;this.normal=c instanceof THREE.Vector3?c:new THREE.Vector3();this.vertexNormals=c instanceof Array?c:[];this.color=d instanceof THREE.Color?d:new THREE.Color();this.vertexColors=d instanceof Array?d:[];this.vertexTangents=[];this.materialIndex=p;this.centroid=new THREE.Vector3()};THREE.Face4.prototype={constructor:THREE.Face4,clone:function(){var h=new THREE.Face4(this.a,this.b,this.c,this.d);h.normal.copy(this.normal);h.color.copy(this.color);h.centroid.copy(this.centroid);h.materialIndex=this.materialIndex;var d,f;for(d=0,f=this.vertexNormals.length;d<f;d++){h.vertexNormals[d]=this.vertexNormals[d].clone()}for(d=0,f=this.vertexColors.length;d<f;d++){h.vertexColors[d]=this.vertexColors[d].clone()}for(d=0,f=this.vertexTangents.length;d<f;d++){h.vertexTangents[d]=this.vertexTangents[d].clone()}return h}};THREE.UV=function(c,d){this.u=c||0;this.v=d||0};THREE.UV.prototype={constructor:THREE.UV,set:function(c,d){this.u=c;this.v=d;return this},copy:function(b){this.u=b.u;this.v=b.v;return this},lerpSelf:function(d,c){this.u+=(d.u-this.u)*c;this.v+=(d.v-this.v)*c;return this},clone:function(){return new THREE.UV(this.u,this.v)}};THREE.Geometry=function(){this.id=THREE.GeometryCount++;this.vertices=[];this.colors=[];this.materials=[];this.faces=[];this.faceUvs=[[]];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphColors=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.boundingBox=null;this.boundingSphere=null;this.hasTangents=false;this.dynamic=false};THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(i){var o=new THREE.Matrix4();o.extractRotation(i);for(var p=0,m=this.vertices.length;p<m;p++){var j=this.vertices[p];i.multiplyVector3(j)}for(var p=0,m=this.faces.length;p<m;p++){var n=this.faces[p];o.multiplyVector3(n.normal);for(var r=0,q=n.vertexNormals.length;r<q;r++){o.multiplyVector3(n.vertexNormals[r])}i.multiplyVector3(n.centroid)}},computeCentroids:function(){var h,d,f;for(h=0,d=this.faces.length;h<d;h++){f=this.faces[h];f.centroid.set(0,0,0);if(f instanceof THREE.Face3){f.centroid.addSelf(this.vertices[f.a]);f.centroid.addSelf(this.vertices[f.b]);f.centroid.addSelf(this.vertices[f.c]);f.centroid.divideScalar(3)}else{if(f instanceof THREE.Face4){f.centroid.addSelf(this.vertices[f.a]);f.centroid.addSelf(this.vertices[f.b]);f.centroid.addSelf(this.vertices[f.c]);f.centroid.addSelf(this.vertices[f.d]);f.centroid.divideScalar(4)}}}},computeFaceNormals:function(){var y,B,n,x,u,t,r,s,z,A,C,v=new THREE.Vector3(),f=new THREE.Vector3();for(t=0,r=this.faces.length;t<r;t++){s=this.faces[t];z=this.vertices[s.a];A=this.vertices[s.b];C=this.vertices[s.c];v.sub(C,A);f.sub(z,A);v.crossSelf(f);if(!v.isZero()){v.normalize()}s.normal.copy(v)}},computeVertexNormals:function(){var j,n,k,l,m,f;if(this.__tmpVertices===undefined){this.__tmpVertices=new Array(this.vertices.length);f=this.__tmpVertices;for(j=0,n=this.vertices.length;j<n;j++){f[j]=new THREE.Vector3()}for(k=0,l=this.faces.length;k<l;k++){m=this.faces[k];if(m instanceof THREE.Face3){m.vertexNormals=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()]}else{if(m instanceof THREE.Face4){m.vertexNormals=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()]}}}}else{f=this.__tmpVertices;for(j=0,n=this.vertices.length;j<n;j++){f[j].set(0,0,0)}}for(k=0,l=this.faces.length;k<l;k++){m=this.faces[k];if(m instanceof THREE.Face3){f[m.a].addSelf(m.normal);f[m.b].addSelf(m.normal);f[m.c].addSelf(m.normal)}else{if(m instanceof THREE.Face4){f[m.a].addSelf(m.normal);f[m.b].addSelf(m.normal);f[m.c].addSelf(m.normal);f[m.d].addSelf(m.normal)}}}for(j=0,n=this.vertices.length;j<n;j++){f[j].normalize()}for(k=0,l=this.faces.length;k<l;k++){m=this.faces[k];if(m instanceof THREE.Face3){m.vertexNormals[0].copy(f[m.a]);m.vertexNormals[1].copy(f[m.b]);m.vertexNormals[2].copy(f[m.c])}else{if(m instanceof THREE.Face4){m.vertexNormals[0].copy(f[m.a]);m.vertexNormals[1].copy(f[m.b]);m.vertexNormals[2].copy(f[m.c]);m.vertexNormals[3].copy(f[m.d])}}}},computeMorphNormals:function(){var t,i,s,f,r;for(s=0,f=this.faces.length;s<f;s++){r=this.faces[s];if(!r.__originalFaceNormal){r.__originalFaceNormal=r.normal.clone()}else{r.__originalFaceNormal.copy(r.normal)}if(!r.__originalVertexNormals){r.__originalVertexNormals=[]}for(t=0,i=r.vertexNormals.length;t<i;t++){if(!r.__originalVertexNormals[t]){r.__originalVertexNormals[t]=r.vertexNormals[t].clone()}else{r.__originalVertexNormals[t].copy(r.vertexNormals[t])}}}var v=new THREE.Geometry();v.faces=this.faces;for(t=0,i=this.morphTargets.length;t<i;t++){if(!this.morphNormals[t]){this.morphNormals[t]={};this.morphNormals[t].faceNormals=[];this.morphNormals[t].vertexNormals=[];var u=this.morphNormals[t].faceNormals;var y=this.morphNormals[t].vertexNormals;var p,x;for(s=0,f=this.faces.length;s<f;s++){r=this.faces[s];p=new THREE.Vector3();if(r instanceof THREE.Face3){x={a:new THREE.Vector3(),b:new THREE.Vector3(),c:new THREE.Vector3()}}else{x={a:new THREE.Vector3(),b:new THREE.Vector3(),c:new THREE.Vector3(),d:new THREE.Vector3()}}u.push(p);y.push(x)}}var q=this.morphNormals[t];v.vertices=this.morphTargets[t].vertices;v.computeFaceNormals();v.computeVertexNormals();var p,x;for(s=0,f=this.faces.length;s<f;s++){r=this.faces[s];p=q.faceNormals[s];x=q.vertexNormals[s];p.copy(r.normal);if(r instanceof THREE.Face3){x.a.copy(r.vertexNormals[0]);x.b.copy(r.vertexNormals[1]);x.c.copy(r.vertexNormals[2])}else{x.a.copy(r.vertexNormals[0]);x.b.copy(r.vertexNormals[1]);x.c.copy(r.vertexNormals[2]);x.d.copy(r.vertexNormals[3])}}}for(s=0,f=this.faces.length;s<f;s++){r=this.faces[s];r.normal=r.__originalFaceNormal;r.vertexNormals=r.__originalVertexNormals}},computeTangents:function(){var X,ar,ah,au,Y,ap,aj,ax,aq,ab,ae,af,ay,az,aA,av,aw,f,i,al,am,t,v,an,ao,ad,ag,aB,n=[],r=[],aC=new THREE.Vector3(),at=new THREE.Vector3(),aa=new THREE.Vector3(),W=new THREE.Vector3(),Z=new THREE.Vector3(),ai;for(ah=0,au=this.vertices.length;ah<au;ah++){n[ah]=new THREE.Vector3();r[ah]=new THREE.Vector3()}function ak(b,d,j,a,c,h,k){ab=b.vertices[d];ae=b.vertices[j];af=b.vertices[a];ay=aq[c];az=aq[h];aA=aq[k];av=ae.x-ab.x;aw=af.x-ab.x;f=ae.y-ab.y;i=af.y-ab.y;al=ae.z-ab.z;am=af.z-ab.z;t=az.u-ay.u;v=aA.u-ay.u;an=az.v-ay.v;ao=aA.v-ay.v;ad=1/(t*ao-v*an);aC.set((ao*av-an*aw)*ad,(ao*f-an*i)*ad,(ao*al-an*am)*ad);at.set((t*aw-v*av)*ad,(t*i-v*f)*ad,(t*am-v*al)*ad);n[d].addSelf(aC);n[j].addSelf(aC);n[a].addSelf(aC);r[d].addSelf(at);r[j].addSelf(at);r[a].addSelf(at)}for(X=0,ar=this.faces.length;X<ar;X++){ax=this.faces[X];aq=this.faceVertexUvs[0][X];if(ax instanceof THREE.Face3){ak(this,ax.a,ax.b,ax.c,0,1,2)}else{if(ax instanceof THREE.Face4){ak(this,ax.a,ax.b,ax.d,0,1,3);ak(this,ax.b,ax.c,ax.d,1,2,3)}}}var ac=["a","b","c","d"];for(X=0,ar=this.faces.length;X<ar;X++){ax=this.faces[X];for(Y=0;Y<ax.vertexNormals.length;Y++){Z.copy(ax.vertexNormals[Y]);aj=ax[ac[Y]];ag=n[aj];aa.copy(ag);aa.subSelf(Z.multiplyScalar(Z.dot(ag))).normalize();W.cross(ax.vertexNormals[Y],ag);aB=W.dot(r[aj]);ai=(aB<0)?-1:1;ax.vertexTangents[Y]=new THREE.Vector4(aa.x,aa.y,aa.z,ai)}}this.hasTangents=true},computeBoundingBox:function(){if(!this.boundingBox){this.boundingBox={min:new THREE.Vector3(),max:new THREE.Vector3()}}if(this.vertices.length>0){var i,k=this.vertices[0];this.boundingBox.min.copy(k);this.boundingBox.max.copy(k);var m=this.boundingBox.min,j=this.boundingBox.max;for(var n=1,l=this.vertices.length;n<l;n++){i=this.vertices[n];if(i.x<m.x){m.x=i.x}else{if(i.x>j.x){j.x=i.x}}if(i.y<m.y){m.y=i.y}else{if(i.y>j.y){j.y=i.y}}if(i.z<m.z){m.z=i.z}else{if(i.z>j.z){j.z=i.z}}}}else{this.boundingBox.min.set(0,0,0);this.boundingBox.max.set(0,0,0)}},computeBoundingSphere:function(){if(!this.boundingSphere){this.boundingSphere={radius:0}}var h,i=0;for(var f=0,j=this.vertices.length;f<j;f++){h=this.vertices[f].length();if(h>i){i=h}}this.boundingSphere.radius=i},mergeVertices:function(){var j={};var B=[],L=[];var G,I;var v=4;var o=Math.pow(10,v);var u,i,k;var F="abcd",H,E,C,A,D;for(u=0,i=this.vertices.length;u<i;u++){G=this.vertices[u];I=[Math.round(G.x*o),Math.round(G.y*o),Math.round(G.z*o)].join("_");if(j[I]===undefined){j[I]=u;B.push(this.vertices[u]);L[u]=B.length-1}else{L[u]=L[j[I]]}}for(u=0,i=this.faces.length;u<i;u++){k=this.faces[u];if(k instanceof THREE.Face3){k.a=L[k.a];k.b=L[k.b];k.c=L[k.c]}else{if(k instanceof THREE.Face4){k.a=L[k.a];k.b=L[k.b];k.c=L[k.c];k.d=L[k.d];H=[k.a,k.b,k.c,k.d];for(E=3;E>0;E--){if(H.indexOf(k[F[E]])!=E){H.splice(E,1);this.faces[u]=new THREE.Face3(H[0],H[1],H[2]);for(C=0,A=this.faceVertexUvs.length;C<A;C++){D=this.faceVertexUvs[C][u];if(D){D.splice(E,1)}}break}}}}}var K=this.vertices.length-B.length;this.vertices=B;return K}};THREE.GeometryCount=0;THREE.Spline=function(c){this.points=c;var v=[],t={x:0,y:0,z:0},q,C,z,A,B,r,s,u,x;this.initFromArray=function(b){this.points=[];for(var a=0;a<b.length;a++){this.points[a]={x:b[a][0],y:b[a][1],z:b[a][2]}}};this.getPoint=function(a){q=(this.points.length-1)*a;C=Math.floor(q);z=q-C;v[0]=C===0?C:C-1;v[1]=C;v[2]=C>this.points.length-2?this.points.length-1:C+1;v[3]=C>this.points.length-3?this.points.length-1:C+2;r=this.points[v[0]];s=this.points[v[1]];u=this.points[v[2]];x=this.points[v[3]];A=z*z;B=z*A;t.x=y(r.x,s.x,u.x,x.x,z,A,B);t.y=y(r.y,s.y,u.y,x.y,z,A,B);t.z=y(r.z,s.z,u.z,x.z,z,A,B);return t};this.getControlPointsArray=function(){var d,a,f=this.points.length,b=[];for(d=0;d<f;d++){a=this.points[d];b[d]=[a.x,a.y,a.z]}return b};this.getLength=function(a){var n,l,k,m,f=0,i=0,o=0,h=new THREE.Vector3(),b=new THREE.Vector3(),j=[],d=0;j[0]=0;if(!a){a=100}k=this.points.length*a;h.copy(this.points[0]);for(n=1;n<k;n++){l=n/k;m=this.getPoint(l);b.copy(m);d+=b.distanceTo(h);h.copy(m);f=(this.points.length-1)*l;i=Math.floor(f);if(i!=o){j[i]=d;o=i}}j[j.length]=d;return{chunks:j,total:d}};this.reparametrizeByArcLength=function(a){var m,n,j,h,p,d,f,k,l,b=[],i=new THREE.Vector3(),o=this.getLength();b.push(i.copy(this.points[0]).clone());for(m=1;m<this.points.length;m++){f=o.chunks[m]-o.chunks[m-1];k=Math.ceil(a*f/o.total);h=(m-1)/(this.points.length-1);p=m/(this.points.length-1);for(n=1;n<k-1;n++){j=h+n*(1/k)*(p-h);l=this.getPoint(j);b.push(i.copy(l).clone())}b.push(i.copy(this.points[m]).clone())}this.points=b};function y(h,i,k,l,f,b,d){var j=(k-h)*0.5,a=(l-i)*0.5;return(2*(i-k)+j+a)*d+(-3*(i-k)-2*j-a)*b+j*f+i}};THREE.Camera=function(){THREE.Object3D.call(this);this.matrixWorldInverse=new THREE.Matrix4();this.projectionMatrix=new THREE.Matrix4();this.projectionMatrixInverse=new THREE.Matrix4()};THREE.Camera.prototype=new THREE.Object3D();THREE.Camera.prototype.constructor=THREE.Camera;THREE.Camera.prototype.lookAt=function(b){this.matrix.lookAt(this.position,b,this.up);if(this.rotationAutoUpdate){this.rotation.getRotationFromMatrix(this.matrix)}};THREE.OrthographicCamera=function(k,n,l,i,m,j){THREE.Camera.call(this);this.left=k;this.right=n;this.top=l;this.bottom=i;this.near=(m!==undefined)?m:0.1;this.far=(j!==undefined)?j:2000;this.updateProjectionMatrix()};THREE.OrthographicCamera.prototype=new THREE.Camera();THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera;THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)};THREE.PerspectiveCamera=function(j,f,i,h){THREE.Camera.call(this);this.fov=j!==undefined?j:50;this.aspect=f!==undefined?f:1;this.near=i!==undefined?i:0.1;this.far=h!==undefined?h:2000;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype=new THREE.Camera();THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera;THREE.PerspectiveCamera.prototype.setLens=function(c,d){d=d!==undefined?d:24;this.fov=2*Math.atan(d/(c*2))*(180/Math.PI);this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.setViewOffset=function(l,n,i,k,m,j){this.fullWidth=l;this.fullHeight=n;this.x=i;this.y=k;this.width=m;this.height=j;this.updateProjectionMatrix()};THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var p=this.fullWidth/this.fullHeight;var l=Math.tan(this.fov*Math.PI/360)*this.near;var j=-l;var m=p*j;var o=p*l;var n=Math.abs(o-m);var k=Math.abs(l-j);this.projectionMatrix.makeFrustum(m+this.x*n/this.fullWidth,m+(this.x+this.width)*n/this.fullWidth,l-(this.y+this.height)*k/this.fullHeight,l-this.y*k/this.fullHeight,this.near,this.far)}else{this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)}};THREE.Light=function(b){THREE.Object3D.call(this);this.color=new THREE.Color(b)};THREE.Light.prototype=new THREE.Object3D();THREE.Light.prototype.constructor=THREE.Light;THREE.Light.prototype.supr=THREE.Object3D.prototype;THREE.AmbientLight=function(b){THREE.Light.call(this,b)};THREE.AmbientLight.prototype=new THREE.Light();THREE.AmbientLight.prototype.constructor=THREE.AmbientLight;THREE.DirectionalLight=function(d,f,h){THREE.Light.call(this,d);this.position=new THREE.Vector3(0,1,0);this.target=new THREE.Object3D();this.intensity=(f!==undefined)?f:1;this.distance=(h!==undefined)?h:0;this.castShadow=false;this.onlyShadow=false;this.shadowCameraNear=50;this.shadowCameraFar=5000;this.shadowCameraLeft=-500;this.shadowCameraRight=500;this.shadowCameraTop=500;this.shadowCameraBottom=-500;this.shadowCameraVisible=false;this.shadowBias=0;this.shadowDarkness=0.5;this.shadowMapWidth=512;this.shadowMapHeight=512;this.shadowCascade=false;this.shadowCascadeOffset=new THREE.Vector3(0,0,-1000);this.shadowCascadeCount=2;this.shadowCascadeBias=[0,0,0];this.shadowCascadeWidth=[512,512,512];this.shadowCascadeHeight=[512,512,512];this.shadowCascadeNearZ=[-1,0.99,0.998];this.shadowCascadeFarZ=[0.99,0.998,1];this.shadowCascadeArray=[];this.shadowMap=null;this.shadowMapSize=null;this.shadowCamera=null;this.shadowMatrix=null};THREE.DirectionalLight.prototype=new THREE.Light();THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight;THREE.PointLight=function(d,f,h){THREE.Light.call(this,d);this.position=new THREE.Vector3(0,0,0);this.intensity=(f!==undefined)?f:1;this.distance=(h!==undefined)?h:0};THREE.PointLight.prototype=new THREE.Light();THREE.PointLight.prototype.constructor=THREE.PointLight;THREE.SpotLight=function(h,i,j,k,l){THREE.Light.call(this,h);this.position=new THREE.Vector3(0,1,0);this.target=new THREE.Object3D();this.intensity=(i!==undefined)?i:1;this.distance=(j!==undefined)?j:0;this.angle=(k!==undefined)?k:Math.PI/2;this.exponent=(l!==undefined)?l:10;this.castShadow=false;this.onlyShadow=false;this.shadowCameraNear=50;this.shadowCameraFar=5000;this.shadowCameraFov=50;this.shadowCameraVisible=false;this.shadowBias=0;this.shadowDarkness=0.5;this.shadowMapWidth=512;this.shadowMapHeight=512;this.shadowMap=null;this.shadowMapSize=null;this.shadowCamera=null;this.shadowMatrix=null};THREE.SpotLight.prototype=new THREE.Light();THREE.SpotLight.prototype.constructor=THREE.SpotLight;THREE.Material=function(b){b=b||{};this.id=THREE.MaterialCount++;this.name="";this.opacity=b.opacity!==undefined?b.opacity:1;this.transparent=b.transparent!==undefined?b.transparent:false;this.blending=b.blending!==undefined?b.blending:THREE.NormalBlending;this.blendSrc=b.blendSrc!==undefined?b.blendSrc:THREE.SrcAlphaFactor;this.blendDst=b.blendDst!==undefined?b.blendDst:THREE.OneMinusSrcAlphaFactor;this.blendEquation=b.blendEquation!==undefined?b.blendEquation:THREE.AddEquation;this.depthTest=b.depthTest!==undefined?b.depthTest:true;this.depthWrite=b.depthWrite!==undefined?b.depthWrite:true;this.polygonOffset=b.polygonOffset!==undefined?b.polygonOffset:false;this.polygonOffsetFactor=b.polygonOffsetFactor!==undefined?b.polygonOffsetFactor:0;this.polygonOffsetUnits=b.polygonOffsetUnits!==undefined?b.polygonOffsetUnits:0;this.alphaTest=b.alphaTest!==undefined?b.alphaTest:0;this.overdraw=b.overdraw!==undefined?b.overdraw:false;this.visible=true;this.needsUpdate=true};THREE.MaterialCount=0;THREE.NoShading=0;THREE.FlatShading=1;THREE.SmoothShading=2;THREE.NoColors=0;THREE.FaceColors=1;THREE.VertexColors=2;THREE.NoBlending=0;THREE.NormalBlending=1;THREE.AdditiveBlending=2;THREE.SubtractiveBlending=3;THREE.MultiplyBlending=4;THREE.AdditiveAlphaBlending=5;THREE.CustomBlending=6;THREE.AddEquation=100;THREE.SubtractEquation=101;THREE.ReverseSubtractEquation=102;THREE.ZeroFactor=200;THREE.OneFactor=201;THREE.SrcColorFactor=202;THREE.OneMinusSrcColorFactor=203;THREE.SrcAlphaFactor=204;THREE.OneMinusSrcAlphaFactor=205;THREE.DstAlphaFactor=206;THREE.OneMinusDstAlphaFactor=207;THREE.DstColorFactor=208;THREE.OneMinusDstColorFactor=209;THREE.SrcAlphaSaturateFactor=210;THREE.LineBasicMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==undefined?new THREE.Color(b.color):new THREE.Color(16777215);this.linewidth=b.linewidth!==undefined?b.linewidth:1;this.linecap=b.linecap!==undefined?b.linecap:"round";this.linejoin=b.linejoin!==undefined?b.linejoin:"round";this.vertexColors=b.vertexColors?b.vertexColors:false;this.fog=b.fog!==undefined?b.fog:true};THREE.LineBasicMaterial.prototype=new THREE.Material();THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial;THREE.MeshBasicMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==undefined?new THREE.Color(b.color):new THREE.Color(16777215);this.map=b.map!==undefined?b.map:null;this.lightMap=b.lightMap!==undefined?b.lightMap:null;this.envMap=b.envMap!==undefined?b.envMap:null;this.combine=b.combine!==undefined?b.combine:THREE.MultiplyOperation;this.reflectivity=b.reflectivity!==undefined?b.reflectivity:1;this.refractionRatio=b.refractionRatio!==undefined?b.refractionRatio:0.98;this.fog=b.fog!==undefined?b.fog:true;this.shading=b.shading!==undefined?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==undefined?b.wireframe:false;this.wireframeLinewidth=b.wireframeLinewidth!==undefined?b.wireframeLinewidth:1;this.wireframeLinecap=b.wireframeLinecap!==undefined?b.wireframeLinecap:"round";this.wireframeLinejoin=b.wireframeLinejoin!==undefined?b.wireframeLinejoin:"round";this.vertexColors=b.vertexColors!==undefined?b.vertexColors:THREE.NoColors;this.skinning=b.skinning!==undefined?b.skinning:false;this.morphTargets=b.morphTargets!==undefined?b.morphTargets:false};THREE.MeshBasicMaterial.prototype=new THREE.Material();THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial;THREE.MeshLambertMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==undefined?new THREE.Color(b.color):new THREE.Color(16777215);this.ambient=b.ambient!==undefined?new THREE.Color(b.ambient):new THREE.Color(16777215);this.emissive=b.emissive!==undefined?new THREE.Color(b.emissive):new THREE.Color(0);this.wrapAround=b.wrapAround!==undefined?b.wrapAround:false;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=b.map!==undefined?b.map:null;this.lightMap=b.lightMap!==undefined?b.lightMap:null;this.envMap=b.envMap!==undefined?b.envMap:null;this.combine=b.combine!==undefined?b.combine:THREE.MultiplyOperation;this.reflectivity=b.reflectivity!==undefined?b.reflectivity:1;this.refractionRatio=b.refractionRatio!==undefined?b.refractionRatio:0.98;this.fog=b.fog!==undefined?b.fog:true;this.shading=b.shading!==undefined?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==undefined?b.wireframe:false;this.wireframeLinewidth=b.wireframeLinewidth!==undefined?b.wireframeLinewidth:1;this.wireframeLinecap=b.wireframeLinecap!==undefined?b.wireframeLinecap:"round";this.wireframeLinejoin=b.wireframeLinejoin!==undefined?b.wireframeLinejoin:"round";this.vertexColors=b.vertexColors!==undefined?b.vertexColors:THREE.NoColors;this.skinning=b.skinning!==undefined?b.skinning:false;this.morphTargets=b.morphTargets!==undefined?b.morphTargets:false;this.morphNormals=b.morphNormals!==undefined?b.morphNormals:false};THREE.MeshLambertMaterial.prototype=new THREE.Material();THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial;THREE.MeshPhongMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==undefined?new THREE.Color(b.color):new THREE.Color(16777215);this.ambient=b.ambient!==undefined?new THREE.Color(b.ambient):new THREE.Color(16777215);this.emissive=b.emissive!==undefined?new THREE.Color(b.emissive):new THREE.Color(0);this.specular=b.specular!==undefined?new THREE.Color(b.specular):new THREE.Color(1118481);this.shininess=b.shininess!==undefined?b.shininess:30;this.metal=b.metal!==undefined?b.metal:false;this.perPixel=b.perPixel!==undefined?b.perPixel:false;this.wrapAround=b.wrapAround!==undefined?b.wrapAround:false;this.wrapRGB=new THREE.Vector3(1,1,1);this.map=b.map!==undefined?b.map:null;this.lightMap=b.lightMap!==undefined?b.lightMap:null;this.envMap=b.envMap!==undefined?b.envMap:null;this.combine=b.combine!==undefined?b.combine:THREE.MultiplyOperation;this.reflectivity=b.reflectivity!==undefined?b.reflectivity:1;this.refractionRatio=b.refractionRatio!==undefined?b.refractionRatio:0.98;this.fog=b.fog!==undefined?b.fog:true;this.shading=b.shading!==undefined?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==undefined?b.wireframe:false;this.wireframeLinewidth=b.wireframeLinewidth!==undefined?b.wireframeLinewidth:1;this.wireframeLinecap=b.wireframeLinecap!==undefined?b.wireframeLinecap:"round";this.wireframeLinejoin=b.wireframeLinejoin!==undefined?b.wireframeLinejoin:"round";this.vertexColors=b.vertexColors!==undefined?b.vertexColors:THREE.NoColors;this.skinning=b.skinning!==undefined?b.skinning:false;this.morphTargets=b.morphTargets!==undefined?b.morphTargets:false;this.morphNormals=b.morphNormals!==undefined?b.morphNormals:false};THREE.MeshPhongMaterial.prototype=new THREE.Material();THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial;THREE.MeshDepthMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.shading=b.shading!==undefined?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==undefined?b.wireframe:false;this.wireframeLinewidth=b.wireframeLinewidth!==undefined?b.wireframeLinewidth:1};THREE.MeshDepthMaterial.prototype=new THREE.Material();THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial;THREE.MeshNormalMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.shading=b.shading?b.shading:THREE.FlatShading;this.wireframe=b.wireframe?b.wireframe:false;this.wireframeLinewidth=b.wireframeLinewidth?b.wireframeLinewidth:1};THREE.MeshNormalMaterial.prototype=new THREE.Material();THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial;THREE.MeshFaceMaterial=function(){};THREE.ParticleBasicMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.color=b.color!==undefined?new THREE.Color(b.color):new THREE.Color(16777215);this.map=b.map!==undefined?b.map:null;this.size=b.size!==undefined?b.size:1;this.sizeAttenuation=b.sizeAttenuation!==undefined?b.sizeAttenuation:true;this.vertexColors=b.vertexColors!==undefined?b.vertexColors:false;this.fog=b.fog!==undefined?b.fog:true};THREE.ParticleBasicMaterial.prototype=new THREE.Material();THREE.ParticleBasicMaterial.prototype.constructor=THREE.ParticleBasicMaterial;THREE.ShaderMaterial=function(b){THREE.Material.call(this,b);b=b||{};this.fragmentShader=b.fragmentShader!==undefined?b.fragmentShader:"void main() {}";this.vertexShader=b.vertexShader!==undefined?b.vertexShader:"void main() {}";this.uniforms=b.uniforms!==undefined?b.uniforms:{};this.attributes=b.attributes;this.shading=b.shading!==undefined?b.shading:THREE.SmoothShading;this.wireframe=b.wireframe!==undefined?b.wireframe:false;this.wireframeLinewidth=b.wireframeLinewidth!==undefined?b.wireframeLinewidth:1;this.fog=b.fog!==undefined?b.fog:false;this.lights=b.lights!==undefined?b.lights:false;this.vertexColors=b.vertexColors!==undefined?b.vertexColors:THREE.NoColors;this.skinning=b.skinning!==undefined?b.skinning:false;this.morphTargets=b.morphTargets!==undefined?b.morphTargets:false;this.morphNormals=b.morphNormals!==undefined?b.morphNormals:false};THREE.ShaderMaterial.prototype=new THREE.Material();THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial;THREE.Texture=function(m,q,r,k,o,l,n,p){this.id=THREE.TextureCount++;this.image=m;this.mapping=q!==undefined?q:new THREE.UVMapping();this.wrapS=r!==undefined?r:THREE.ClampToEdgeWrapping;this.wrapT=k!==undefined?k:THREE.ClampToEdgeWrapping;this.magFilter=o!==undefined?o:THREE.LinearFilter;this.minFilter=l!==undefined?l:THREE.LinearMipMapLinearFilter;this.format=n!==undefined?n:THREE.RGBAFormat;this.type=p!==undefined?p:THREE.UnsignedByteType;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.generateMipmaps=true;this.premultiplyAlpha=false;this.needsUpdate=false;this.onUpdate=null};THREE.Texture.prototype={constructor:THREE.Texture,clone:function(){var b=new THREE.Texture(this.image,this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter,this.format,this.type);b.offset.copy(this.offset);b.repeat.copy(this.repeat);return b}};THREE.TextureCount=0;THREE.MultiplyOperation=0;THREE.MixOperation=1;THREE.UVMapping=function(){};THREE.CubeReflectionMapping=function(){};THREE.CubeRefractionMapping=function(){};THREE.SphericalReflectionMapping=function(){};THREE.SphericalRefractionMapping=function(){};THREE.RepeatWrapping=0;THREE.ClampToEdgeWrapping=1;THREE.MirroredRepeatWrapping=2;THREE.NearestFilter=3;THREE.NearestMipMapNearestFilter=4;THREE.NearestMipMapLinearFilter=5;THREE.LinearFilter=6;THREE.LinearMipMapNearestFilter=7;THREE.LinearMipMapLinearFilter=8;THREE.ByteType=9;THREE.UnsignedByteType=10;THREE.ShortType=11;THREE.UnsignedShortType=12;THREE.IntType=13;THREE.UnsignedIntType=14;THREE.FloatType=15;THREE.AlphaFormat=16;THREE.RGBFormat=17;THREE.RGBAFormat=18;THREE.LuminanceFormat=19;THREE.LuminanceAlphaFormat=20;THREE.DataTexture=function(r,t,m,o,p,v,q,s,n,u){THREE.Texture.call(this,null,v,q,s,n,u,o,p);this.image={data:r,width:t,height:m}};THREE.DataTexture.prototype=new THREE.Texture();THREE.DataTexture.prototype.constructor=THREE.DataTexture;THREE.DataTexture.prototype.clone=function(){var b=new THREE.DataTexture(this.image.data,this.image.width,this.image.height,this.format,this.type,this.mapping,this.wrapS,this.wrapT,this.magFilter,this.minFilter);b.offset.copy(this.offset);b.repeat.copy(this.repeat);return b};THREE.Particle=function(b){THREE.Object3D.call(this);this.material=b};THREE.Particle.prototype=new THREE.Object3D();THREE.Particle.prototype.constructor=THREE.Particle;THREE.ParticleSystem=function(c,d){THREE.Object3D.call(this);this.geometry=c;this.material=(d!==undefined)?d:new THREE.ParticleBasicMaterial({color:Math.random()*16777215});this.sortParticles=false;if(this.geometry){if(!this.geometry.boundingSphere){this.geometry.computeBoundingSphere()}this.boundRadius=c.boundingSphere.radius}this.frustumCulled=false};THREE.ParticleSystem.prototype=new THREE.Object3D();THREE.ParticleSystem.prototype.constructor=THREE.ParticleSystem;THREE.Line=function(h,d,f){THREE.Object3D.call(this);this.geometry=h;this.material=(d!==undefined)?d:new THREE.LineBasicMaterial({color:Math.random()*16777215});this.type=(f!==undefined)?f:THREE.LineStrip;if(this.geometry){if(!this.geometry.boundingSphere){this.geometry.computeBoundingSphere()}}};THREE.LineStrip=0;THREE.LinePieces=1;THREE.Line.prototype=new THREE.Object3D();THREE.Line.prototype.constructor=THREE.Line;THREE.Mesh=function(h,d){THREE.Object3D.call(this);this.geometry=h;this.material=(d!==undefined)?d:new THREE.MeshBasicMaterial({color:Math.random()*16777215,wireframe:true});if(this.geometry){if(!this.geometry.boundingSphere){this.geometry.computeBoundingSphere()}this.boundRadius=h.boundingSphere.radius;if(this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetForcedOrder=[];this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var f=0;f<this.geometry.morphTargets.length;f++){this.morphTargetInfluences.push(0);this.morphTargetDictionary[this.geometry.morphTargets[f].name]=f}}}};THREE.Mesh.prototype=new THREE.Object3D();THREE.Mesh.prototype.constructor=THREE.Mesh;THREE.Mesh.prototype.supr=THREE.Object3D.prototype;THREE.Mesh.prototype.getMorphTargetIndexByName=function(b){if(this.morphTargetDictionary[b]!==undefined){return this.morphTargetDictionary[b]}console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+b+" does not exist. Returning 0.");return 0};THREE.Ribbon=function(c,d){THREE.Object3D.call(this);this.geometry=c;this.material=d};THREE.Ribbon.prototype=new THREE.Object3D();THREE.Ribbon.prototype.constructor=THREE.Ribbon;THREE.LOD=function(){THREE.Object3D.call(this);this.LODs=[]};THREE.LOD.prototype=new THREE.Object3D();THREE.LOD.prototype.constructor=THREE.LOD;THREE.LOD.prototype.supr=THREE.Object3D.prototype;THREE.LOD.prototype.addLevel=function(h,d){if(d===undefined){d=0}d=Math.abs(d);for(var f=0;f<this.LODs.length;f++){if(d<this.LODs[f].visibleAtDistance){break}}this.LODs.splice(f,0,{visibleAtDistance:d,object3D:h});this.add(h)};THREE.LOD.prototype.update=function(j){if(this.LODs.length>1){j.matrixWorldInverse.getInverse(j.matrixWorld);var f=j.matrixWorldInverse;var i=-(f.elements[2]*this.matrixWorld.elements[12]+f.elements[6]*this.matrixWorld.elements[13]+f.elements[10]*this.matrixWorld.elements[14]+f.elements[14]);this.LODs[0].object3D.visible=true;for(var h=1;h<this.LODs.length;h++){if(i>=this.LODs[h].visibleAtDistance){this.LODs[h-1].object3D.visible=false;this.LODs[h].object3D.visible=true}else{break}}for(;h<this.LODs.length;h++){this.LODs[h].object3D.visible=false}}};THREE.Sprite=function(b){THREE.Object3D.call(this);this.color=(b.color!==undefined)?new THREE.Color(b.color):new THREE.Color(16777215);this.map=(b.map!==undefined)?b.map:new THREE.Texture();this.blending=(b.blending!==undefined)?b.blending:THREE.NormalBlending;this.blendSrc=b.blendSrc!==undefined?b.blendSrc:THREE.SrcAlphaFactor;this.blendDst=b.blendDst!==undefined?b.blendDst:THREE.OneMinusSrcAlphaFactor;this.blendEquation=b.blendEquation!==undefined?b.blendEquation:THREE.AddEquation;this.useScreenCoordinates=(b.useScreenCoordinates!==undefined)?b.useScreenCoordinates:true;this.mergeWith3D=(b.mergeWith3D!==undefined)?b.mergeWith3D:!this.useScreenCoordinates;this.affectedByDistance=(b.affectedByDistance!==undefined)?b.affectedByDistance:!this.useScreenCoordinates;this.scaleByViewport=(b.scaleByViewport!==undefined)?b.scaleByViewport:!this.affectedByDistance;this.alignment=(b.alignment instanceof THREE.Vector2)?b.alignment:THREE.SpriteAlignment.center;this.rotation3d=this.rotation;this.rotation=0;this.opacity=1;this.uvOffset=new THREE.Vector2(0,0);this.uvScale=new THREE.Vector2(1,1)};THREE.Sprite.prototype=new THREE.Object3D();THREE.Sprite.prototype.constructor=THREE.Sprite;THREE.Sprite.prototype.updateMatrix=function(){this.matrix.setPosition(this.position);this.rotation3d.set(0,0,this.rotation);this.matrix.setRotationFromEuler(this.rotation3d);if(this.scale.x!==1||this.scale.y!==1){this.matrix.scale(this.scale);this.boundRadiusScale=Math.max(this.scale.x,this.scale.y)}this.matrixWorldNeedsUpdate=true};THREE.SpriteAlignment={};THREE.SpriteAlignment.topLeft=new THREE.Vector2(1,-1);THREE.SpriteAlignment.topCenter=new THREE.Vector2(0,-1);THREE.SpriteAlignment.topRight=new THREE.Vector2(-1,-1);THREE.SpriteAlignment.centerLeft=new THREE.Vector2(1,0);THREE.SpriteAlignment.center=new THREE.Vector2(0,0);THREE.SpriteAlignment.centerRight=new THREE.Vector2(-1,0);THREE.SpriteAlignment.bottomLeft=new THREE.Vector2(1,1);THREE.SpriteAlignment.bottomCenter=new THREE.Vector2(0,1);THREE.SpriteAlignment.bottomRight=new THREE.Vector2(-1,1);THREE.Scene=function(){THREE.Object3D.call(this);this.fog=null;this.overrideMaterial=null;this.matrixAutoUpdate=false;this.__objects=[];this.__lights=[];this.__objectsAdded=[];this.__objectsRemoved=[]};THREE.Scene.prototype=new THREE.Object3D();THREE.Scene.prototype.constructor=THREE.Scene;THREE.Scene.prototype.__addObject=function(f){if(f instanceof THREE.Light){if(this.__lights.indexOf(f)===-1){this.__lights.push(f)}}else{if(!(f instanceof THREE.Camera)){if(this.__objects.indexOf(f)===-1){this.__objects.push(f);this.__objectsAdded.push(f);var c=this.__objectsRemoved.indexOf(f);if(c!==-1){this.__objectsRemoved.splice(c,1)}}}}for(var h=0;h<f.children.length;h++){this.__addObject(f.children[h])}};THREE.Scene.prototype.__removeObject=function(c){if(c instanceof THREE.Light){var j=this.__lights.indexOf(c);if(j!==-1){this.__lights.splice(j,1)}}else{if(!(c instanceof THREE.Camera)){var j=this.__objects.indexOf(c);if(j!==-1){this.__objects.splice(j,1);this.__objectsRemoved.push(c);var h=this.__objectsAdded.indexOf(c);if(h!==-1){this.__objectsAdded.splice(h,1)}}}}for(var i=0;i<c.children.length;i++){this.__removeObject(c.children[i])}};THREE.Fog=function(h,d,f){this.color=new THREE.Color(h);this.near=(d!==undefined)?d:1;this.far=(f!==undefined)?f:1000};THREE.FogExp2=function(c,d){this.color=new THREE.Color(c);this.density=(d!==undefined)?d:0.00025};THREE.ShaderChunk={fog_pars_fragment:["#ifdef USE_FOG","uniform vec3 fogColor;","#ifdef FOG_EXP2","uniform float fogDensity;","#else","uniform float fogNear;","uniform float fogFar;","#endif","#endif"].join("\n"),fog_fragment:["#ifdef USE_FOG","float depth = gl_FragCoord.z / gl_FragCoord.w;","#ifdef FOG_EXP2","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","#else","float fogFactor = smoothstep( fogNear, fogFar, depth );","#endif","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","#endif"].join("\n"),envmap_pars_fragment:["#ifdef USE_ENVMAP","varying vec3 vReflect;","uniform float reflectivity;","uniform samplerCube envMap;","uniform float flipEnvMap;","uniform int combine;","#endif"].join("\n"),envmap_fragment:["#ifdef USE_ENVMAP","#ifdef DOUBLE_SIDED","float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );","vec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * vReflect.x, vReflect.yz ) );","#else","vec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * vReflect.x, vReflect.yz ) );","#endif","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","if ( combine == 1 ) {","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, reflectivity );","} else {","gl_FragColor.xyz = gl_FragColor.xyz * cubeColor.xyz;","}","#endif"].join("\n"),envmap_pars_vertex:["#ifdef USE_ENVMAP","varying vec3 vReflect;","uniform float refractionRatio;","uniform bool useRefract;","#endif"].join("\n"),envmap_vertex:["#ifdef USE_ENVMAP","vec4 mPosition = objectMatrix * vec4( position, 1.0 );","vec3 nWorld = mat3( objectMatrix[ 0 ].xyz, objectMatrix[ 1 ].xyz, objectMatrix[ 2 ].xyz ) * normal;","if ( useRefract ) {","vReflect = refract( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ), refractionRatio );","} else {","vReflect = reflect( normalize( mPosition.xyz - cameraPosition ), normalize( nWorld.xyz ) );","}","#endif"].join("\n"),map_particle_pars_fragment:["#ifdef USE_MAP","uniform sampler2D map;","#endif"].join("\n"),map_particle_fragment:["#ifdef USE_MAP","gl_FragColor = gl_FragColor * texture2D( map, gl_PointCoord );","#endif"].join("\n"),map_pars_vertex:["#ifdef USE_MAP","varying vec2 vUv;","uniform vec4 offsetRepeat;","#endif"].join("\n"),map_pars_fragment:["#ifdef USE_MAP","varying vec2 vUv;","uniform sampler2D map;","#endif"].join("\n"),map_vertex:["#ifdef USE_MAP","vUv = uv * offsetRepeat.zw + offsetRepeat.xy;","#endif"].join("\n"),map_fragment:["#ifdef USE_MAP","#ifdef GAMMA_INPUT","vec4 texelColor = texture2D( map, vUv );","texelColor.xyz *= texelColor.xyz;","gl_FragColor = gl_FragColor * texelColor;","#else","gl_FragColor = gl_FragColor * texture2D( map, vUv );","#endif","#endif"].join("\n"),lightmap_pars_fragment:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","uniform sampler2D lightMap;","#endif"].join("\n"),lightmap_pars_vertex:["#ifdef USE_LIGHTMAP","varying vec2 vUv2;","#endif"].join("\n"),lightmap_fragment:["#ifdef USE_LIGHTMAP","gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );","#endif"].join("\n"),lightmap_vertex:["#ifdef USE_LIGHTMAP","vUv2 = uv2;","#endif"].join("\n"),lights_lambert_pars_vertex:["uniform vec3 ambient;","uniform vec3 diffuse;","uniform vec3 emissive;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngle[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif"].join("\n"),lights_lambert_vertex:["vLightFront = vec3( 0.0 );","#ifdef DOUBLE_SIDED","vLightBack = vec3( 0.0 );","#endif","transformedNormal = normalize( transformedNormal );","#if MAX_DIR_LIGHTS > 0","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( transformedNormal, dirVector );","vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += directionalLightColor[ i ] * directionalLightWeighting;","#ifdef DOUBLE_SIDED","vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;","#endif","}","#endif","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","float dotProduct = dot( transformedNormal, lVector );","vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;","#ifdef DOUBLE_SIDED","vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","lVector = normalize( lVector );","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - mPosition.xyz ) );","if ( spotEffect > spotLightAngle[ i ] ) {","spotEffect = pow( spotEffect, spotLightExponent[ i ] );","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","float dotProduct = dot( transformedNormal, lVector );","vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );","#ifdef DOUBLE_SIDED","vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );","#endif","#endif","#ifdef WRAP_AROUND","vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );","spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );","#ifdef DOUBLE_SIDED","spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );","#endif","#endif","vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;","#ifdef DOUBLE_SIDED","vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;","#endif","}","}","#endif","vLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;","#ifdef DOUBLE_SIDED","vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;","#endif"].join("\n"),lights_phong_pars_vertex:["#ifndef PHONG_PER_PIXEL","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0","varying vec3 vWorldPosition;","#endif"].join("\n"),lights_phong_vertex:["#ifndef PHONG_PER_PIXEL","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","vPointLight[ i ] = vec4( lVector, lDistance );","}","#endif","#if MAX_SPOT_LIGHTS > 0","for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","vSpotLight[ i ] = vec4( lVector, lDistance );","}","#endif","#endif","#if MAX_SPOT_LIGHTS > 0","vWorldPosition = mPosition.xyz;","#endif"].join("\n"),lights_phong_pars_fragment:["uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","#ifdef PHONG_PER_PIXEL","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","#else","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#endif","#if MAX_SPOT_LIGHTS > 0","uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];","uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];","uniform float spotLightAngle[ MAX_SPOT_LIGHTS ];","uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];","#ifdef PHONG_PER_PIXEL","uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];","#else","varying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];","#endif","varying vec3 vWorldPosition;","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vViewPosition;","varying vec3 vNormal;"].join("\n"),lights_phong_fragment:["vec3 normal = normalize( vNormal );","vec3 viewPosition = normalize( vViewPosition );","#ifdef DOUBLE_SIDED","normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );","#endif","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse  = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","#ifdef PHONG_PER_PIXEL","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","#else","vec3 lVector = normalize( vPointLight[ i ].xyz );","float lDistance = vPointLight[ i ].w;","#endif","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dotProduct, 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dotProduct, 0.0 );","#endif","pointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;","vec3 pointHalfVector = normalize( lVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = max( pow( pointDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;","#else","pointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;","#endif","}","#endif","#if MAX_SPOT_LIGHTS > 0","vec3 spotDiffuse  = vec3( 0.0 );","vec3 spotSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {","#ifdef PHONG_PER_PIXEL","vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz + vViewPosition.xyz;","float lDistance = 1.0;","if ( spotLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","#else","vec3 lVector = normalize( vSpotLight[ i ].xyz );","float lDistance = vSpotLight[ i ].w;","#endif","float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );","if ( spotEffect > spotLightAngle[ i ] ) {","spotEffect = pow( spotEffect, spotLightExponent[ i ] );","float dotProduct = dot( normal, lVector );","#ifdef WRAP_AROUND","float spotDiffuseWeightFull = max( dotProduct, 0.0 );","float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );","#else","float spotDiffuseWeight = max( dotProduct, 0.0 );","#endif","spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;","vec3 spotHalfVector = normalize( lVector + viewPosition );","float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );","float spotSpecularWeight = max( pow( spotDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );","spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;","#else","spotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;","#endif","}","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse  = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","float dotProduct = dot( normal, dirVector );","#ifdef WRAP_AROUND","float dirDiffuseWeightFull = max( dotProduct, 0.0 );","float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dotProduct, 0.0 );","#endif","dirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = max( pow( dirDotNormalHalf, shininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( shininess + 2.0001 ) / 8.0;","vec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","#else","dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;","#endif","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","#if MAX_SPOT_LIGHTS > 0","totalDiffuse += spotDiffuse;","totalSpecular += spotSpecular;","#endif","#ifdef METAL","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );","#else","gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;","#endif"].join("\n"),color_pars_fragment:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_fragment:["#ifdef USE_COLOR","gl_FragColor = gl_FragColor * vec4( vColor, opacity );","#endif"].join("\n"),color_pars_vertex:["#ifdef USE_COLOR","varying vec3 vColor;","#endif"].join("\n"),color_vertex:["#ifdef USE_COLOR","#ifdef GAMMA_INPUT","vColor = color * color;","#else","vColor = color;","#endif","#endif"].join("\n"),skinning_pars_vertex:["#ifdef USE_SKINNING","uniform mat4 boneGlobalMatrices[ MAX_BONES ];","#endif"].join("\n"),skinning_vertex:["#ifdef USE_SKINNING","gl_Position  = ( boneGlobalMatrices[ int( skinIndex.x ) ] * skinVertexA ) * skinWeight.x;","gl_Position += ( boneGlobalMatrices[ int( skinIndex.y ) ] * skinVertexB ) * skinWeight.y;","gl_Position  = projectionMatrix * modelViewMatrix * gl_Position;","#endif"].join("\n"),morphtarget_pars_vertex:["#ifdef USE_MORPHTARGETS","#ifndef USE_MORPHNORMALS","uniform float morphTargetInfluences[ 8 ];","#else","uniform float morphTargetInfluences[ 4 ];","#endif","#endif"].join("\n"),morphtarget_vertex:["#ifdef USE_MORPHTARGETS","vec3 morphed = vec3( 0.0 );","morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];","morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];","morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];","morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];","#ifndef USE_MORPHNORMALS","morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];","morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];","morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];","morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];","#endif","morphed += position;","gl_Position = projectionMatrix * modelViewMatrix * vec4( morphed, 1.0 );","#endif"].join("\n"),default_vertex:["#ifndef USE_MORPHTARGETS","#ifndef USE_SKINNING","gl_Position = projectionMatrix * mvPosition;","#endif","#endif"].join("\n"),morphnormal_vertex:["#ifdef USE_MORPHNORMALS","vec3 morphedNormal = vec3( 0.0 );","morphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];","morphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];","morphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];","morphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];","morphedNormal += normal;","vec3 transformedNormal = normalMatrix * morphedNormal;","#else","vec3 transformedNormal = normalMatrix * normal;","#endif"].join("\n"),shadowmap_pars_fragment:["#ifdef USE_SHADOWMAP","uniform sampler2D shadowMap[ MAX_SHADOWS ];","uniform vec2 shadowMapSize[ MAX_SHADOWS ];","uniform float shadowDarkness[ MAX_SHADOWS ];","uniform float shadowBias[ MAX_SHADOWS ];","varying vec4 vShadowCoord[ MAX_SHADOWS ];","float unpackDepth( const in vec4 rgba_depth ) {","const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );","float depth = dot( rgba_depth, bit_shift );","return depth;","}","#endif"].join("\n"),shadowmap_fragment:["#ifdef USE_SHADOWMAP","#ifdef SHADOWMAP_DEBUG","vec3 frustumColors[3];","frustumColors[0] = vec3( 1.0, 0.5, 0.0 );","frustumColors[1] = vec3( 0.0, 1.0, 0.8 );","frustumColors[2] = vec3( 0.0, 0.5, 1.0 );","#endif","#ifdef SHADOWMAP_CASCADE","int inFrustumCount = 0;","#endif","float fDepth;","vec3 shadowColor = vec3( 1.0 );","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;","bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );","bool inFrustum = all( inFrustumVec );","#ifdef SHADOWMAP_CASCADE","inFrustumCount += int( inFrustum );","bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );","#else","bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );","#endif","bool frustumTest = all( frustumTestVec );","if ( frustumTest ) {","shadowCoord.z += shadowBias[ i ];","#ifdef SHADOWMAP_SOFT","float shadow = 0.0;","const float shadowDelta = 1.0 / 9.0;","float xPixelOffset = 1.0 / shadowMapSize[ i ].x;","float yPixelOffset = 1.0 / shadowMapSize[ i ].y;","float dx0 = -1.25 * xPixelOffset;","float dy0 = -1.25 * yPixelOffset;","float dx1 = 1.25 * xPixelOffset;","float dy1 = 1.25 * yPixelOffset;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );","if ( fDepth < shadowCoord.z ) shadow += shadowDelta;","shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );","#else","vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );","float fDepth = unpackDepth( rgbaDepth );","if ( fDepth < shadowCoord.z )","shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );","#endif","}","#ifdef SHADOWMAP_DEBUG","#ifdef SHADOWMAP_CASCADE","if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];","#else","if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];","#endif","#endif","}","#ifdef GAMMA_OUTPUT","shadowColor *= shadowColor;","#endif","gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;","#endif"].join("\n"),shadowmap_pars_vertex:["#ifdef USE_SHADOWMAP","varying vec4 vShadowCoord[ MAX_SHADOWS ];","uniform mat4 shadowMatrix[ MAX_SHADOWS ];","#endif"].join("\n"),shadowmap_vertex:["#ifdef USE_SHADOWMAP","for( int i = 0; i < MAX_SHADOWS; i ++ ) {","#ifdef USE_MORPHTARGETS","vShadowCoord[ i ] = shadowMatrix[ i ] * objectMatrix * vec4( morphed, 1.0 );","#else","vShadowCoord[ i ] = shadowMatrix[ i ] * objectMatrix * vec4( position, 1.0 );","#endif","}","#endif"].join("\n"),alphatest_fragment:["#ifdef ALPHATEST","if ( gl_FragColor.a < ALPHATEST ) discard;","#endif"].join("\n"),linear_to_gamma_fragment:["#ifdef GAMMA_OUTPUT","gl_FragColor.xyz = sqrt( gl_FragColor.xyz );","#endif"].join("\n")};THREE.UniformsUtils={merge:function(h){var l,j,k,i={};for(l=0;l<h.length;l++){k=this.clone(h[l]);for(j in k){i[j]=k[j]}}return i},clone:function(j){var m,l,k,n,i={};for(m in j){i[m]={};for(l in j[m]){n=j[m][l];if(n instanceof THREE.Color||n instanceof THREE.Vector2||n instanceof THREE.Vector3||n instanceof THREE.Vector4||n instanceof THREE.Matrix4||n instanceof THREE.Texture){i[m][l]=n.clone()}else{if(n instanceof Array){i[m][l]=n.slice()}else{i[m][l]=n}}}}return i}};THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:0,texture:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:2,texture:null},envMap:{type:"t",value:1,texture:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:0.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},fog:{fogDensity:{type:"f",value:0.00025},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2000},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngle:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:0,texture:null},fogDensity:{type:"f",value:0.00025},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2000},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:6,texture:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}};THREE.ShaderLib={depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2000},opacity:{type:"f",value:1}},vertexShader:["void main() {","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;","void main() {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float color = 1.0 - smoothstep( mNear, mFar, depth );","gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;","void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vNormal = normalMatrix * normal;","gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;","void main() {","gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );","}"].join("\n")},basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {","gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,"#ifndef USE_ENVMAP","vec4 mPosition = objectMatrix * vec4( position, 1.0 );","#endif",THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","varying vec3 vLightBack;","#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {","gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,"#ifdef DOUBLE_SIDED","if ( gl_FrontFacing )","gl_FragColor.xyz *= vLightFront;","else","gl_FragColor.xyz *= vLightBack;","#else","gl_FragColor.xyz *= vLightFront;","#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["varying vec3 vViewPosition;","varying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.color_vertex,"#ifndef USE_ENVMAP","vec4 mPosition = objectMatrix * vec4( position, 1.0 );","#endif","vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.morphnormal_vertex,"vNormal = transformedNormal;",THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {","gl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","#ifdef USE_SIZEATTENUATION","gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","#else","gl_PointSize = size;","#endif","gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {","gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,"void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:["vec4 pack_depth( const in float depth ) {","const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","const vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","vec4 res = fract( depth * bit_shift );","res -= res.xxyz * bit_mask;","return res;","}","void main() {","gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","}"].join("\n")}};THREE.WebGLRenderer=function(bR){console.log("THREE.WebGLRenderer",THREE.REVISION);bR=bR||{};_canvas=bR.canvas!==undefined?bR.canvas:document.createElement("canvas"),_precision=bR.precision!==undefined?bR.precision:"highp",_alpha=bR.alpha!==undefined?bR.alpha:true,_premultipliedAlpha=bR.premultipliedAlpha!==undefined?bR.premultipliedAlpha:true,_antialias=bR.antialias!==undefined?bR.antialias:false,_stencil=bR.stencil!==undefined?bR.stencil:true,_preserveDrawingBuffer=bR.preserveDrawingBuffer!==undefined?bR.preserveDrawingBuffer:false,_clearColor=bR.clearColor!==undefined?new THREE.Color(bR.clearColor):new THREE.Color(0),_clearAlpha=bR.clearAlpha!==undefined?bR.clearAlpha:0,_maxLights=bR.maxLights!==undefined?bR.maxLights:4;this.domElement=_canvas;this.context=null;this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;this.sortObjects=true;this.autoUpdateObjects=true;this.autoUpdateScene=true;this.gammaInput=false;this.gammaOutput=false;this.physicallyBasedShading=false;this.shadowMapEnabled=false;this.shadowMapAutoUpdate=true;this.shadowMapSoft=true;this.shadowMapCullFrontFaces=true;this.shadowMapDebug=false;this.shadowMapCascade=false;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=true;this.renderPluginsPre=[];this.renderPluginsPost=[];this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var b2=this,cJ,bA=[],b9=null,ct=null,cf=-1,b7=null,bX=null,b5=0,bf=-1,bD=-1,bK=-1,bF=-1,bt=-1,bS=-1,cN=-1,bC=-1,cV=null,ca=null,bz=null,cX=null,bx=0,by=0,cv=0,bV=0,bL=0,b1=0,cL=new THREE.Frustum(),cb=new THREE.Matrix4(),cd=new THREE.Matrix4(),bm=new THREE.Vector4(),bu=new THREE.Vector3(),bN=true,bk={ambient:[0,0,0],directional:{length:0,colors:new Array(),positions:new Array()},point:{length:0,colors:new Array(),positions:new Array(),distances:new Array()},spot:{length:0,colors:new Array(),positions:new Array(),distances:new Array(),directions:new Array(),angles:new Array(),exponents:new Array()}};cJ=cz();cG();this.context=cJ;var ck=cJ.getParameter(cJ.MAX_VERTEX_TEXTURE_IMAGE_UNITS),bB=cJ.getParameter(cJ.MAX_TEXTURE_SIZE),ch=cJ.getParameter(cJ.MAX_CUBE_MAP_TEXTURE_SIZE);this.getContext=function(){return cJ};this.supportsVertexTextures=function(){return ck>0};this.setSize=function(a,b){_canvas.width=a;_canvas.height=b;this.setViewport(0,0,_canvas.width,_canvas.height)};this.setViewport=function(c,a,b,d){bx=c;by=a;cv=b;bV=d;cJ.viewport(bx,by,cv,bV)};this.setScissor=function(c,a,b,d){cJ.scissor(c,a,b,d)};this.enableScissorTest=function(a){a?cJ.enable(cJ.SCISSOR_TEST):cJ.disable(cJ.SCISSOR_TEST)};this.setClearColorHex=function(b,a){_clearColor.setHex(b);_clearAlpha=a;cJ.clearColor(_clearColor.r,_clearColor.g,_clearColor.b,_clearAlpha)};this.setClearColor=function(b,a){_clearColor.copy(b);_clearAlpha=a;cJ.clearColor(_clearColor.r,_clearColor.g,_clearColor.b,_clearAlpha)};this.getClearColor=function(){return _clearColor};this.getClearAlpha=function(){return _clearAlpha};this.clear=function(d,a,c){var b=0;if(d===undefined||d){b|=cJ.COLOR_BUFFER_BIT}if(a===undefined||a){b|=cJ.DEPTH_BUFFER_BIT}if(c===undefined||c){b|=cJ.STENCIL_BUFFER_BIT}cJ.clear(b)};this.clearTarget=function(b,d,a,c){this.setRenderTarget(b);this.clear(d,a,c)};this.addPostPlugin=function(a){a.init(this);this.renderPluginsPost.push(a)};this.addPrePlugin=function(a){a.init(this);this.renderPluginsPre.push(a)};this.deallocateObject=function(b){if(!b.__webglInit){return}b.__webglInit=false;delete b._modelViewMatrix;delete b._normalMatrix;delete b._normalMatrixArray;delete b._modelViewMatrixArray;delete b._objectMatrixArray;if(b instanceof THREE.Mesh){for(var a in b.geometry.geometryGroups){cB(b.geometry.geometryGroups[a])}}else{if(b instanceof THREE.Line){cx(b.geometry)}}};this.deallocateTexture=function(a){if(!a.__webglInit){return}a.__webglInit=false;cJ.deleteTexture(a.__webglTexture);b2.info.memory.textures--};this.deallocateRenderTarget=function(a){if(!a||!a.__webglTexture){return}cJ.deleteTexture(a.__webglTexture);if(a instanceof THREE.WebGLRenderTargetCube){for(var b=0;b<6;b++){cJ.deleteFramebuffer(a.__webglFramebuffer[b]);cJ.deleteRenderbuffer(a.__webglRenderbuffer[b])}}else{cJ.deleteFramebuffer(a.__webglFramebuffer);cJ.deleteRenderbuffer(a.__webglRenderbuffer)}};this.updateShadowMap=function(a,b){b9=null;bK=-1;cN=-1;bC=-1;b7=-1;cf=-1;bN=true;bf=-1;bD=-1;this.shadowMapPlugin.update(a,b)};function bH(a){a.__webglVertexBuffer=cJ.createBuffer();a.__webglColorBuffer=cJ.createBuffer();b2.info.geometries++}function bO(a){a.__webglVertexBuffer=cJ.createBuffer();a.__webglColorBuffer=cJ.createBuffer();b2.info.memory.geometries++}function cC(a){a.__webglVertexBuffer=cJ.createBuffer();a.__webglColorBuffer=cJ.createBuffer();b2.info.memory.geometries++}function cU(b){b.__webglVertexBuffer=cJ.createBuffer();b.__webglNormalBuffer=cJ.createBuffer();b.__webglTangentBuffer=cJ.createBuffer();b.__webglColorBuffer=cJ.createBuffer();b.__webglUVBuffer=cJ.createBuffer();b.__webglUV2Buffer=cJ.createBuffer();b.__webglSkinVertexABuffer=cJ.createBuffer();b.__webglSkinVertexBBuffer=cJ.createBuffer();b.__webglSkinIndicesBuffer=cJ.createBuffer();b.__webglSkinWeightsBuffer=cJ.createBuffer();b.__webglFaceBuffer=cJ.createBuffer();b.__webglLineBuffer=cJ.createBuffer();var c,a;if(b.numMorphTargets){b.__webglMorphTargetsBuffers=[];for(c=0,a=b.numMorphTargets;c<a;c++){b.__webglMorphTargetsBuffers.push(cJ.createBuffer())}}if(b.numMorphNormals){b.__webglMorphNormalsBuffers=[];for(c=0,a=b.numMorphNormals;c<a;c++){b.__webglMorphNormalsBuffers.push(cJ.createBuffer())}}b2.info.memory.geometries++}function cT(a){cJ.deleteBuffer(a.__webglVertexBuffer);cJ.deleteBuffer(a.__webglColorBuffer);b2.info.memory.geometries--}function cx(a){cJ.deleteBuffer(a.__webglVertexBuffer);cJ.deleteBuffer(a.__webglColorBuffer);b2.info.memory.geometries--}function cA(a){cJ.deleteBuffer(a.__webglVertexBuffer);cJ.deleteBuffer(a.__webglColorBuffer);b2.info.memory.geometries--}function cB(c){cJ.deleteBuffer(c.__webglVertexBuffer);cJ.deleteBuffer(c.__webglNormalBuffer);cJ.deleteBuffer(c.__webglTangentBuffer);cJ.deleteBuffer(c.__webglColorBuffer);cJ.deleteBuffer(c.__webglUVBuffer);cJ.deleteBuffer(c.__webglUV2Buffer);cJ.deleteBuffer(c.__webglSkinVertexABuffer);cJ.deleteBuffer(c.__webglSkinVertexBBuffer);cJ.deleteBuffer(c.__webglSkinIndicesBuffer);cJ.deleteBuffer(c.__webglSkinWeightsBuffer);cJ.deleteBuffer(c.__webglFaceBuffer);cJ.deleteBuffer(c.__webglLineBuffer);var d,a;if(c.numMorphTargets){for(d=0,a=c.numMorphTargets;d<a;d++){cJ.deleteBuffer(c.__webglMorphTargetsBuffers[d])}}if(c.numMorphNormals){for(d=0,a=c.numMorphNormals;d<a;d++){cJ.deleteBuffer(c.__webglMorphNormalsBuffers[d])}}if(c.__webglCustomAttributesList){for(var b in c.__webglCustomAttributesList){cJ.deleteBuffer(c.__webglCustomAttributesList[b].buffer)}}b2.info.memory.geometries--}function bT(a,h){var d=a.vertices.length;var c=h.material;if(c.attributes){if(a.__webglCustomAttributesList===undefined){a.__webglCustomAttributesList=[]}for(var i in c.attributes){var b=c.attributes[i];if(!b.__webglInitialized||b.createUniqueBuffers){b.__webglInitialized=true;var f=1;if(b.type==="v2"){f=2}else{if(b.type==="v3"){f=3}else{if(b.type==="v4"){f=4}else{if(b.type==="c"){f=3}}}}b.size=f;b.array=new Float32Array(d*f);b.buffer=cJ.createBuffer();b.buffer.belongsToAttribute=i;b.needsUpdate=true}a.__webglCustomAttributesList.push(b)}}}function cy(a,c){var b=a.vertices.length;a.__vertexArray=new Float32Array(b*3);a.__colorArray=new Float32Array(b*3);a.__sortArray=[];a.__webglParticleCount=b;bT(a,c)}function b8(a,c){var b=a.vertices.length;a.__vertexArray=new Float32Array(b*3);a.__colorArray=new Float32Array(b*3);a.__webglLineCount=b;bT(a,c)}function cZ(a){var b=a.vertices.length;a.__vertexArray=new Float32Array(b*3);a.__colorArray=new Float32Array(b*3);a.__webglVertexCount=b}function be(c,o){var m=o.geometry,n=c.faces3,p=c.faces4,u=n.length*3+p.length*4,j=n.length*1+p.length*2,h=n.length*3+p.length*4,k=bZ(o,c),d=co(k),b=bJ(k),r=cM(k);c.__vertexArray=new Float32Array(u*3);if(b){c.__normalArray=new Float32Array(u*3)}if(m.hasTangents){c.__tangentArray=new Float32Array(u*4)}if(r){c.__colorArray=new Float32Array(u*3)}if(d){if(m.faceUvs.length>0||m.faceVertexUvs.length>0){c.__uvArray=new Float32Array(u*2)}if(m.faceUvs.length>1||m.faceVertexUvs.length>1){c.__uv2Array=new Float32Array(u*2)}}if(o.geometry.skinWeights.length&&o.geometry.skinIndices.length){c.__skinVertexAArray=new Float32Array(u*4);c.__skinVertexBArray=new Float32Array(u*4);c.__skinIndexArray=new Float32Array(u*4);c.__skinWeightArray=new Float32Array(u*4)}c.__faceArray=new Uint16Array(j*3);c.__lineArray=new Uint16Array(h*2);var a,s;if(c.numMorphTargets){c.__morphTargetsArrays=[];for(a=0,s=c.numMorphTargets;a<s;a++){c.__morphTargetsArrays.push(new Float32Array(u*3))}}if(c.numMorphNormals){c.__morphNormalsArrays=[];for(a=0,s=c.numMorphNormals;a<s;a++){c.__morphNormalsArrays.push(new Float32Array(u*3))}}c.__webglFaceCount=j*3;c.__webglLineCount=h*2;if(k.attributes){if(c.__webglCustomAttributesList===undefined){c.__webglCustomAttributesList=[]}for(var q in k.attributes){var t=k.attributes[q];var i={};for(var l in t){i[l]=t[l]}if(!i.__webglInitialized||i.createUniqueBuffers){i.__webglInitialized=true;var f=1;if(i.type==="v2"){f=2}else{if(i.type==="v3"){f=3}else{if(i.type==="v4"){f=4}else{if(i.type==="c"){f=3}}}}i.size=f;i.array=new Float32Array(u*f);i.buffer=cJ.createBuffer();i.buffer.belongsToAttribute=q;t.needsUpdate=true;i.__original=t}c.__webglCustomAttributesList.push(i)}}c.__inittedArrays=true}function bZ(a,b){if(a.material&&!(a.material instanceof THREE.MeshFaceMaterial)){return a.material}else{if(b.materialIndex>=0){return a.geometry.materials[b.materialIndex]}}}function cQ(a){return a&&a.shading!==undefined&&a.shading===THREE.SmoothShading}function bJ(a){if((a instanceof THREE.MeshBasicMaterial&&!a.envMap)||a instanceof THREE.MeshDepthMaterial){return false}if(cQ(a)){return THREE.SmoothShading}else{return THREE.FlatShading}}function cM(a){if(a.vertexColors){return a.vertexColors}return false}function co(a){if(a.map||a.lightMap||a instanceof THREE.ShaderMaterial){return true}return false}function bQ(l,z,v){var D,A,n,j,f,q,i=l.vertices,B=i.length,c=l.colors,d=c.length,C=l.__vertexArray,m=l.__colorArray,k=l.__sortArray,s=l.verticesNeedUpdate,h=l.elementsNeedUpdate,y=l.colorsNeedUpdate,t=l.__webglCustomAttributesList,p,b,x,u,a,r,o;if(v.sortParticles){cd.copy(cb);cd.multiplySelf(v.matrixWorld);for(D=0;D<B;D++){n=i[D];bm.copy(n);cd.multiplyVector3(bm);k[D]=[bm.z,D]}k.sort(function(E,F){return F[0]-E[0]});for(D=0;D<B;D++){n=i[k[D][1]];j=D*3;C[j]=n.x;C[j+1]=n.y;C[j+2]=n.z}for(A=0;A<d;A++){j=A*3;q=c[k[A][1]];m[j]=q.r;m[j+1]=q.g;m[j+2]=q.b}if(t){for(p=0,b=t.length;p<b;p++){o=t[p];if(!(o.boundTo===undefined||o.boundTo==="vertices")){continue}j=0;a=o.value.length;if(o.size===1){for(u=0;u<a;u++){f=k[u][1];o.array[u]=o.value[f]}}else{if(o.size===2){for(u=0;u<a;u++){f=k[u][1];r=o.value[f];o.array[j]=r.x;o.array[j+1]=r.y;j+=2}}else{if(o.size===3){if(o.type==="c"){for(u=0;u<a;u++){f=k[u][1];r=o.value[f];o.array[j]=r.r;o.array[j+1]=r.g;o.array[j+2]=r.b;j+=3}}else{for(u=0;u<a;u++){f=k[u][1];r=o.value[f];o.array[j]=r.x;o.array[j+1]=r.y;o.array[j+2]=r.z;j+=3}}}else{if(o.size===4){for(u=0;u<a;u++){f=k[u][1];r=o.value[f];o.array[j]=r.x;o.array[j+1]=r.y;o.array[j+2]=r.z;o.array[j+3]=r.w;j+=4}}}}}}}}else{if(s){for(D=0;D<B;D++){n=i[D];j=D*3;C[j]=n.x;C[j+1]=n.y;C[j+2]=n.z}}if(y){for(A=0;A<d;A++){q=c[A];j=A*3;m[j]=q.r;m[j+1]=q.g;m[j+2]=q.b}}if(t){for(p=0,b=t.length;p<b;p++){o=t[p];if(o.needsUpdate&&(o.boundTo===undefined||o.boundTo==="vertices")){a=o.value.length;j=0;if(o.size===1){for(u=0;u<a;u++){o.array[u]=o.value[u]}}else{if(o.size===2){for(u=0;u<a;u++){r=o.value[u];o.array[j]=r.x;o.array[j+1]=r.y;j+=2}}else{if(o.size===3){if(o.type==="c"){for(u=0;u<a;u++){r=o.value[u];o.array[j]=r.r;o.array[j+1]=r.g;o.array[j+2]=r.b;j+=3}}else{for(u=0;u<a;u++){r=o.value[u];o.array[j]=r.x;o.array[j+1]=r.y;o.array[j+2]=r.z;j+=3}}}else{if(o.size===4){for(u=0;u<a;u++){r=o.value[u];o.array[j]=r.x;o.array[j+1]=r.y;o.array[j+2]=r.z;o.array[j+3]=r.w;j+=4}}}}}}}}}if(s||v.sortParticles){cJ.bindBuffer(cJ.ARRAY_BUFFER,l.__webglVertexBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,C,z)}if(y||v.sortParticles){cJ.bindBuffer(cJ.ARRAY_BUFFER,l.__webglColorBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,m,z)}if(t){for(p=0,b=t.length;p<b;p++){o=t[p];if(o.needsUpdate||v.sortParticles){cJ.bindBuffer(cJ.ARRAY_BUFFER,o.buffer);cJ.bufferData(cJ.ARRAY_BUFFER,o.array,z)}}}}function cS(l,a){var c,o,q,k,t,j=l.vertices,h=l.colors,p=j.length,i=h.length,b=l.__vertexArray,m=l.__colorArray,v=l.verticesNeedUpdate,z=l.colorsNeedUpdate,x=l.__webglCustomAttributesList,s,f,n,y,d,u,r;if(v){for(c=0;c<p;c++){q=j[c];k=c*3;b[k]=q.x;b[k+1]=q.y;b[k+2]=q.z}cJ.bindBuffer(cJ.ARRAY_BUFFER,l.__webglVertexBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,b,a)}if(z){for(o=0;o<i;o++){t=h[o];k=o*3;m[k]=t.r;m[k+1]=t.g;m[k+2]=t.b}cJ.bindBuffer(cJ.ARRAY_BUFFER,l.__webglColorBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,m,a)}if(x){for(s=0,f=x.length;s<f;s++){r=x[s];if(r.needsUpdate&&(r.boundTo===undefined||r.boundTo==="vertices")){k=0;d=r.value.length;if(r.size===1){for(y=0;y<d;y++){r.array[y]=r.value[y]}}else{if(r.size===2){for(y=0;y<d;y++){u=r.value[y];r.array[k]=u.x;r.array[k+1]=u.y;k+=2}}else{if(r.size===3){if(r.type==="c"){for(y=0;y<d;y++){u=r.value[y];r.array[k]=u.r;r.array[k+1]=u.g;r.array[k+2]=u.b;k+=3}}else{for(y=0;y<d;y++){u=r.value[y];r.array[k]=u.x;r.array[k+1]=u.y;r.array[k+2]=u.z;k+=3}}}else{if(r.size===4){for(y=0;y<d;y++){u=r.value[y];r.array[k]=u.x;r.array[k+1]=u.y;r.array[k+2]=u.z;r.array[k+3]=u.w;k+=4}}}}}cJ.bindBuffer(cJ.ARRAY_BUFFER,r.buffer);cJ.bufferData(cJ.ARRAY_BUFFER,r.array,a)}}}}function cp(b,j){var p,c,f,i,k,d=b.vertices,o=b.colors,l=d.length,q=o.length,n=b.__vertexArray,a=b.__colorArray,h=b.verticesNeedUpdate,m=b.colorsNeedUpdate;if(h){for(p=0;p<l;p++){f=d[p];i=p*3;n[i]=f.x;n[i+1]=f.y;n[i+2]=f.z}cJ.bindBuffer(cJ.ARRAY_BUFFER,b.__webglVertexBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,n,j)}if(m){for(c=0;c<q;c++){k=o[c];i=c*3;a[i]=k.r;a[i+1]=k.g;a[i+2]=k.b}cJ.bindBuffer(cJ.ARRAY_BUFFER,b.__webglColorBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,a,j)}}function bo(f,aA,b,U,aI){if(!f.__inittedArrays){return}var c4=bJ(aI),ab=cM(aI),h=co(aI),aQ=(c4===THREE.SmoothShading);var ba,ac,P,aw,M,al,A,K,da,au,db,aO,q,r,s,t,aM,aV,I,O,S,Y,aa,ad,j,k,m,n,am,ao,av,ax,ae,ag,ai,ak,aF,aJ,aL,aN,a6,a8,F,G,c2,aD,bb,dd,a1,o,i,a0,aP,c3,l,E,p,B,a4=0,Q=0,c=0,H=0,c1=0,aR=0,N=0,u=0,R=0,bc=0,az=0,Z=0,a9=0,aH,an=f.__vertexArray,aS=f.__uvArray,W=f.__uv2Array,ay=f.__normalArray,aq=f.__tangentArray,y=f.__colorArray,X=f.__skinVertexAArray,aX=f.__skinVertexBArray,aB=f.__skinIndexArray,T=f.__skinWeightArray,V=f.__morphTargetsArrays,aW=f.__morphNormalsArrays,aT=f.__webglCustomAttributesList,ap,L=f.__faceArray,C=f.__lineArray,d=aA.geometry,a2=d.verticesNeedUpdate,D=d.elementsNeedUpdate,x=d.uvsNeedUpdate,at=d.normalsNeedUpdate,aK=d.tangetsNeedUpdate,ar=d.colorsNeedUpdate,a=d.morphTargetsNeedUpdate,v=d.vertices,a5=f.faces3,a7=f.faces4,aj=d.faces,z=d.faceVertexUvs[0],aU=d.faceVertexUvs[1],ah=d.colors,aY=d.skinVerticesA,aZ=d.skinVerticesB,aE=d.skinIndices,af=d.skinWeights,aG=d.morphTargets,aC=d.morphNormals;if(a2){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];q=v[aw.a];r=v[aw.b];s=v[aw.c];an[Q]=q.x;an[Q+1]=q.y;an[Q+2]=q.z;an[Q+3]=r.x;an[Q+4]=r.y;an[Q+5]=r.z;an[Q+6]=s.x;an[Q+7]=s.y;an[Q+8]=s.z;Q+=9}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];q=v[aw.a];r=v[aw.b];s=v[aw.c];t=v[aw.d];an[Q]=q.x;an[Q+1]=q.y;an[Q+2]=q.z;an[Q+3]=r.x;an[Q+4]=r.y;an[Q+5]=r.z;an[Q+6]=s.x;an[Q+7]=s.y;an[Q+8]=s.z;an[Q+9]=t.x;an[Q+10]=t.y;an[Q+11]=t.z;Q+=12}cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglVertexBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,an,b)}if(a){for(a0=0,aP=aG.length;a0<aP;a0++){az=0;for(ba=0,ac=a5.length;ba<ac;ba++){E=a5[ba];aw=aj[E];q=aG[a0].vertices[aw.a];r=aG[a0].vertices[aw.b];s=aG[a0].vertices[aw.c];c3=V[a0];c3[az]=q.x;c3[az+1]=q.y;c3[az+2]=q.z;c3[az+3]=r.x;c3[az+4]=r.y;c3[az+5]=r.z;c3[az+6]=s.x;c3[az+7]=s.y;c3[az+8]=s.z;if(aI.morphNormals){if(aQ){p=aC[a0].vertexNormals[E];S=p.a;Y=p.b;aa=p.c}else{S=aC[a0].faceNormals[E];Y=S;aa=S}l=aW[a0];l[az]=S.x;l[az+1]=S.y;l[az+2]=S.z;l[az+3]=Y.x;l[az+4]=Y.y;l[az+5]=Y.z;l[az+6]=aa.x;l[az+7]=aa.y;l[az+8]=aa.z}az+=9}for(ba=0,ac=a7.length;ba<ac;ba++){E=a7[ba];aw=aj[E];q=aG[a0].vertices[aw.a];r=aG[a0].vertices[aw.b];s=aG[a0].vertices[aw.c];t=aG[a0].vertices[aw.d];c3=V[a0];c3[az]=q.x;c3[az+1]=q.y;c3[az+2]=q.z;c3[az+3]=r.x;c3[az+4]=r.y;c3[az+5]=r.z;c3[az+6]=s.x;c3[az+7]=s.y;c3[az+8]=s.z;c3[az+9]=t.x;c3[az+10]=t.y;c3[az+11]=t.z;if(aI.morphNormals){if(aQ){p=aC[a0].vertexNormals[E];S=p.a;Y=p.b;aa=p.c;ad=p.d}else{S=aC[a0].faceNormals[E];Y=S;aa=S;ad=S}l=aW[a0];l[az]=S.x;l[az+1]=S.y;l[az+2]=S.z;l[az+3]=Y.x;l[az+4]=Y.y;l[az+5]=Y.z;l[az+6]=aa.x;l[az+7]=aa.y;l[az+8]=aa.z;l[az+9]=ad.x;l[az+10]=ad.y;l[az+11]=ad.z}az+=12}cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglMorphTargetsBuffers[a0]);cJ.bufferData(cJ.ARRAY_BUFFER,V[a0],b);if(aI.morphNormals){cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglMorphNormalsBuffers[a0]);cJ.bufferData(cJ.ARRAY_BUFFER,aW[a0],b)}}}if(af.length){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];am=af[aw.a];ao=af[aw.b];av=af[aw.c];T[bc]=am.x;T[bc+1]=am.y;T[bc+2]=am.z;T[bc+3]=am.w;T[bc+4]=ao.x;T[bc+5]=ao.y;T[bc+6]=ao.z;T[bc+7]=ao.w;T[bc+8]=av.x;T[bc+9]=av.y;T[bc+10]=av.z;T[bc+11]=av.w;ae=aE[aw.a];ag=aE[aw.b];ai=aE[aw.c];aB[bc]=ae.x;aB[bc+1]=ae.y;aB[bc+2]=ae.z;aB[bc+3]=ae.w;aB[bc+4]=ag.x;aB[bc+5]=ag.y;aB[bc+6]=ag.z;aB[bc+7]=ag.w;aB[bc+8]=ai.x;aB[bc+9]=ai.y;aB[bc+10]=ai.z;aB[bc+11]=ai.w;aF=aY[aw.a];aJ=aY[aw.b];aL=aY[aw.c];X[bc]=aF.x;X[bc+1]=aF.y;X[bc+2]=aF.z;X[bc+3]=1;X[bc+4]=aJ.x;X[bc+5]=aJ.y;X[bc+6]=aJ.z;X[bc+7]=1;X[bc+8]=aL.x;X[bc+9]=aL.y;X[bc+10]=aL.z;X[bc+11]=1;a6=aZ[aw.a];a8=aZ[aw.b];F=aZ[aw.c];aX[bc]=a6.x;aX[bc+1]=a6.y;aX[bc+2]=a6.z;aX[bc+3]=1;aX[bc+4]=a8.x;aX[bc+5]=a8.y;aX[bc+6]=a8.z;aX[bc+7]=1;aX[bc+8]=F.x;aX[bc+9]=F.y;aX[bc+10]=F.z;aX[bc+11]=1;bc+=12}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];am=af[aw.a];ao=af[aw.b];av=af[aw.c];ax=af[aw.d];T[bc]=am.x;T[bc+1]=am.y;T[bc+2]=am.z;T[bc+3]=am.w;T[bc+4]=ao.x;T[bc+5]=ao.y;T[bc+6]=ao.z;T[bc+7]=ao.w;T[bc+8]=av.x;T[bc+9]=av.y;T[bc+10]=av.z;T[bc+11]=av.w;T[bc+12]=ax.x;T[bc+13]=ax.y;T[bc+14]=ax.z;T[bc+15]=ax.w;ae=aE[aw.a];ag=aE[aw.b];ai=aE[aw.c];ak=aE[aw.d];aB[bc]=ae.x;aB[bc+1]=ae.y;aB[bc+2]=ae.z;aB[bc+3]=ae.w;aB[bc+4]=ag.x;aB[bc+5]=ag.y;aB[bc+6]=ag.z;aB[bc+7]=ag.w;aB[bc+8]=ai.x;aB[bc+9]=ai.y;aB[bc+10]=ai.z;aB[bc+11]=ai.w;aB[bc+12]=ak.x;aB[bc+13]=ak.y;aB[bc+14]=ak.z;aB[bc+15]=ak.w;aF=aY[aw.a];aJ=aY[aw.b];aL=aY[aw.c];aN=aY[aw.d];X[bc]=aF.x;X[bc+1]=aF.y;X[bc+2]=aF.z;X[bc+3]=1;X[bc+4]=aJ.x;X[bc+5]=aJ.y;X[bc+6]=aJ.z;X[bc+7]=1;X[bc+8]=aL.x;X[bc+9]=aL.y;X[bc+10]=aL.z;X[bc+11]=1;X[bc+12]=aN.x;X[bc+13]=aN.y;X[bc+14]=aN.z;X[bc+15]=1;a6=aZ[aw.a];a8=aZ[aw.b];F=aZ[aw.c];G=aZ[aw.d];aX[bc]=a6.x;aX[bc+1]=a6.y;aX[bc+2]=a6.z;aX[bc+3]=1;aX[bc+4]=a8.x;aX[bc+5]=a8.y;aX[bc+6]=a8.z;aX[bc+7]=1;aX[bc+8]=F.x;aX[bc+9]=F.y;aX[bc+10]=F.z;aX[bc+11]=1;aX[bc+12]=G.x;aX[bc+13]=G.y;aX[bc+14]=G.z;aX[bc+15]=1;bc+=16}if(bc>0){cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglSkinVertexABuffer);cJ.bufferData(cJ.ARRAY_BUFFER,X,b);cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglSkinVertexBBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,aX,b);cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglSkinIndicesBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,aB,b);cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglSkinWeightsBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,T,b)}}if(ar&&ab){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];K=aw.vertexColors;da=aw.color;if(K.length===3&&ab===THREE.VertexColors){j=K[0];k=K[1];m=K[2]}else{j=da;k=da;m=da}y[R]=j.r;y[R+1]=j.g;y[R+2]=j.b;y[R+3]=k.r;y[R+4]=k.g;y[R+5]=k.b;y[R+6]=m.r;y[R+7]=m.g;y[R+8]=m.b;R+=9}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];K=aw.vertexColors;da=aw.color;if(K.length===4&&ab===THREE.VertexColors){j=K[0];k=K[1];m=K[2];n=K[3]}else{j=da;k=da;m=da;n=da}y[R]=j.r;y[R+1]=j.g;y[R+2]=j.b;y[R+3]=k.r;y[R+4]=k.g;y[R+5]=k.b;y[R+6]=m.r;y[R+7]=m.g;y[R+8]=m.b;y[R+9]=n.r;y[R+10]=n.g;y[R+11]=n.b;R+=12}if(R>0){cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglColorBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,y,b)}}if(aK&&d.hasTangents){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];au=aw.vertexTangents;aM=au[0];aV=au[1];I=au[2];aq[N]=aM.x;aq[N+1]=aM.y;aq[N+2]=aM.z;aq[N+3]=aM.w;aq[N+4]=aV.x;aq[N+5]=aV.y;aq[N+6]=aV.z;aq[N+7]=aV.w;aq[N+8]=I.x;aq[N+9]=I.y;aq[N+10]=I.z;aq[N+11]=I.w;N+=12}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];au=aw.vertexTangents;aM=au[0];aV=au[1];I=au[2];O=au[3];aq[N]=aM.x;aq[N+1]=aM.y;aq[N+2]=aM.z;aq[N+3]=aM.w;aq[N+4]=aV.x;aq[N+5]=aV.y;aq[N+6]=aV.z;aq[N+7]=aV.w;aq[N+8]=I.x;aq[N+9]=I.y;aq[N+10]=I.z;aq[N+11]=I.w;aq[N+12]=O.x;aq[N+13]=O.y;aq[N+14]=O.z;aq[N+15]=O.w;N+=16}cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglTangentBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,aq,b)}if(at&&c4){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];M=aw.vertexNormals;al=aw.normal;if(M.length===3&&aQ){for(bb=0;bb<3;bb++){a1=M[bb];ay[aR]=a1.x;ay[aR+1]=a1.y;ay[aR+2]=a1.z;aR+=3}}else{for(bb=0;bb<3;bb++){ay[aR]=al.x;ay[aR+1]=al.y;ay[aR+2]=al.z;aR+=3}}}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];M=aw.vertexNormals;al=aw.normal;if(M.length===4&&aQ){for(bb=0;bb<4;bb++){a1=M[bb];ay[aR]=a1.x;ay[aR+1]=a1.y;ay[aR+2]=a1.z;aR+=3}}else{for(bb=0;bb<4;bb++){ay[aR]=al.x;ay[aR+1]=al.y;ay[aR+2]=al.z;aR+=3}}}cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglNormalBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,ay,b)}if(x&&z&&h){for(ba=0,ac=a5.length;ba<ac;ba++){P=a5[ba];aw=aj[P];db=z[P];if(db===undefined){continue}for(bb=0;bb<3;bb++){o=db[bb];aS[c]=o.u;aS[c+1]=o.v;c+=2}}for(ba=0,ac=a7.length;ba<ac;ba++){P=a7[ba];aw=aj[P];db=z[P];if(db===undefined){continue}for(bb=0;bb<4;bb++){o=db[bb];aS[c]=o.u;aS[c+1]=o.v;c+=2}}if(c>0){cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglUVBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,aS,b)}}if(x&&aU&&h){for(ba=0,ac=a5.length;ba<ac;ba++){P=a5[ba];aw=aj[P];aO=aU[P];if(aO===undefined){continue}for(bb=0;bb<3;bb++){i=aO[bb];W[H]=i.u;W[H+1]=i.v;H+=2}}for(ba=0,ac=a7.length;ba<ac;ba++){P=a7[ba];aw=aj[P];aO=aU[P];if(aO===undefined){continue}for(bb=0;bb<4;bb++){i=aO[bb];W[H]=i.u;W[H+1]=i.v;H+=2}}if(H>0){cJ.bindBuffer(cJ.ARRAY_BUFFER,f.__webglUV2Buffer);cJ.bufferData(cJ.ARRAY_BUFFER,W,b)}}if(D){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];L[c1]=a4;L[c1+1]=a4+1;L[c1+2]=a4+2;c1+=3;C[u]=a4;C[u+1]=a4+1;C[u+2]=a4;C[u+3]=a4+2;C[u+4]=a4+1;C[u+5]=a4+2;u+=6;a4+=3}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];L[c1]=a4;L[c1+1]=a4+1;L[c1+2]=a4+3;L[c1+3]=a4+1;L[c1+4]=a4+2;L[c1+5]=a4+3;c1+=6;C[u]=a4;C[u+1]=a4+1;C[u+2]=a4;C[u+3]=a4+3;C[u+4]=a4+1;C[u+5]=a4+2;C[u+6]=a4+2;C[u+7]=a4+3;u+=8;a4+=4}cJ.bindBuffer(cJ.ELEMENT_ARRAY_BUFFER,f.__webglFaceBuffer);cJ.bufferData(cJ.ELEMENT_ARRAY_BUFFER,L,b);cJ.bindBuffer(cJ.ELEMENT_ARRAY_BUFFER,f.__webglLineBuffer);cJ.bufferData(cJ.ELEMENT_ARRAY_BUFFER,C,b)}if(aT){for(bb=0,dd=aT.length;bb<dd;bb++){ap=aT[bb];if(!ap.__original.needsUpdate){continue}Z=0;a9=0;if(ap.size===1){if(ap.boundTo===undefined||ap.boundTo==="vertices"){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];ap.array[Z]=ap.value[aw.a];ap.array[Z+1]=ap.value[aw.b];ap.array[Z+2]=ap.value[aw.c];Z+=3}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];ap.array[Z]=ap.value[aw.a];ap.array[Z+1]=ap.value[aw.b];ap.array[Z+2]=ap.value[aw.c];ap.array[Z+3]=ap.value[aw.d];Z+=4}}else{if(ap.boundTo==="faces"){for(ba=0,ac=a5.length;ba<ac;ba++){aH=ap.value[a5[ba]];ap.array[Z]=aH;ap.array[Z+1]=aH;ap.array[Z+2]=aH;Z+=3}for(ba=0,ac=a7.length;ba<ac;ba++){aH=ap.value[a7[ba]];ap.array[Z]=aH;ap.array[Z+1]=aH;ap.array[Z+2]=aH;ap.array[Z+3]=aH;Z+=4}}}}else{if(ap.size===2){if(ap.boundTo===undefined||ap.boundTo==="vertices"){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];q=ap.value[aw.a];r=ap.value[aw.b];s=ap.value[aw.c];ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=r.x;ap.array[Z+3]=r.y;ap.array[Z+4]=s.x;ap.array[Z+5]=s.y;Z+=6}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];q=ap.value[aw.a];r=ap.value[aw.b];s=ap.value[aw.c];t=ap.value[aw.d];ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=r.x;ap.array[Z+3]=r.y;ap.array[Z+4]=s.x;ap.array[Z+5]=s.y;ap.array[Z+6]=t.x;ap.array[Z+7]=t.y;Z+=8}}else{if(ap.boundTo==="faces"){for(ba=0,ac=a5.length;ba<ac;ba++){aH=ap.value[a5[ba]];q=aH;r=aH;s=aH;ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=r.x;ap.array[Z+3]=r.y;ap.array[Z+4]=s.x;ap.array[Z+5]=s.y;Z+=6}for(ba=0,ac=a7.length;ba<ac;ba++){aH=ap.value[a7[ba]];q=aH;r=aH;s=aH;t=aH;ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=r.x;ap.array[Z+3]=r.y;ap.array[Z+4]=s.x;ap.array[Z+5]=s.y;ap.array[Z+6]=t.x;ap.array[Z+7]=t.y;Z+=8}}}}else{if(ap.size===3){var a3;if(ap.type==="c"){a3=["r","g","b"]}else{a3=["x","y","z"]}if(ap.boundTo===undefined||ap.boundTo==="vertices"){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];q=ap.value[aw.a];r=ap.value[aw.b];s=ap.value[aw.c];ap.array[Z]=q[a3[0]];ap.array[Z+1]=q[a3[1]];ap.array[Z+2]=q[a3[2]];ap.array[Z+3]=r[a3[0]];ap.array[Z+4]=r[a3[1]];ap.array[Z+5]=r[a3[2]];ap.array[Z+6]=s[a3[0]];ap.array[Z+7]=s[a3[1]];ap.array[Z+8]=s[a3[2]];Z+=9}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];q=ap.value[aw.a];r=ap.value[aw.b];s=ap.value[aw.c];t=ap.value[aw.d];ap.array[Z]=q[a3[0]];ap.array[Z+1]=q[a3[1]];ap.array[Z+2]=q[a3[2]];ap.array[Z+3]=r[a3[0]];ap.array[Z+4]=r[a3[1]];ap.array[Z+5]=r[a3[2]];ap.array[Z+6]=s[a3[0]];ap.array[Z+7]=s[a3[1]];ap.array[Z+8]=s[a3[2]];ap.array[Z+9]=t[a3[0]];ap.array[Z+10]=t[a3[1]];ap.array[Z+11]=t[a3[2]];Z+=12}}else{if(ap.boundTo==="faces"){for(ba=0,ac=a5.length;ba<ac;ba++){aH=ap.value[a5[ba]];q=aH;r=aH;s=aH;ap.array[Z]=q[a3[0]];ap.array[Z+1]=q[a3[1]];ap.array[Z+2]=q[a3[2]];ap.array[Z+3]=r[a3[0]];ap.array[Z+4]=r[a3[1]];ap.array[Z+5]=r[a3[2]];ap.array[Z+6]=s[a3[0]];ap.array[Z+7]=s[a3[1]];ap.array[Z+8]=s[a3[2]];Z+=9}for(ba=0,ac=a7.length;ba<ac;ba++){aH=ap.value[a7[ba]];q=aH;r=aH;s=aH;t=aH;ap.array[Z]=q[a3[0]];ap.array[Z+1]=q[a3[1]];ap.array[Z+2]=q[a3[2]];ap.array[Z+3]=r[a3[0]];ap.array[Z+4]=r[a3[1]];ap.array[Z+5]=r[a3[2]];ap.array[Z+6]=s[a3[0]];ap.array[Z+7]=s[a3[1]];ap.array[Z+8]=s[a3[2]];ap.array[Z+9]=t[a3[0]];ap.array[Z+10]=t[a3[1]];ap.array[Z+11]=t[a3[2]];Z+=12}}}}else{if(ap.size===4){if(ap.boundTo===undefined||ap.boundTo==="vertices"){for(ba=0,ac=a5.length;ba<ac;ba++){aw=aj[a5[ba]];q=ap.value[aw.a];r=ap.value[aw.b];s=ap.value[aw.c];ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=q.z;ap.array[Z+3]=q.w;ap.array[Z+4]=r.x;ap.array[Z+5]=r.y;ap.array[Z+6]=r.z;ap.array[Z+7]=r.w;ap.array[Z+8]=s.x;ap.array[Z+9]=s.y;ap.array[Z+10]=s.z;ap.array[Z+11]=s.w;Z+=12}for(ba=0,ac=a7.length;ba<ac;ba++){aw=aj[a7[ba]];q=ap.value[aw.a];r=ap.value[aw.b];s=ap.value[aw.c];t=ap.value[aw.d];ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=q.z;ap.array[Z+3]=q.w;ap.array[Z+4]=r.x;ap.array[Z+5]=r.y;ap.array[Z+6]=r.z;ap.array[Z+7]=r.w;ap.array[Z+8]=s.x;ap.array[Z+9]=s.y;ap.array[Z+10]=s.z;ap.array[Z+11]=s.w;ap.array[Z+12]=t.x;ap.array[Z+13]=t.y;ap.array[Z+14]=t.z;ap.array[Z+15]=t.w;Z+=16}}else{if(ap.boundTo==="faces"){for(ba=0,ac=a5.length;ba<ac;ba++){aH=ap.value[a5[ba]];q=aH;r=aH;s=aH;ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=q.z;ap.array[Z+3]=q.w;ap.array[Z+4]=r.x;ap.array[Z+5]=r.y;ap.array[Z+6]=r.z;ap.array[Z+7]=r.w;ap.array[Z+8]=s.x;ap.array[Z+9]=s.y;ap.array[Z+10]=s.z;ap.array[Z+11]=s.w;Z+=12}for(ba=0,ac=a7.length;ba<ac;ba++){aH=ap.value[a7[ba]];q=aH;r=aH;s=aH;t=aH;ap.array[Z]=q.x;ap.array[Z+1]=q.y;ap.array[Z+2]=q.z;ap.array[Z+3]=q.w;ap.array[Z+4]=r.x;ap.array[Z+5]=r.y;ap.array[Z+6]=r.z;ap.array[Z+7]=r.w;ap.array[Z+8]=s.x;ap.array[Z+9]=s.y;ap.array[Z+10]=s.z;ap.array[Z+11]=s.w;ap.array[Z+12]=t.x;ap.array[Z+13]=t.y;ap.array[Z+14]=t.z;ap.array[Z+15]=t.w;Z+=16}}}}}}}cJ.bindBuffer(cJ.ARRAY_BUFFER,ap.buffer);cJ.bufferData(cJ.ARRAY_BUFFER,ap.array,b)}}if(U){delete f.__inittedArrays;delete f.__colorArray;delete f.__normalArray;delete f.__tangentArray;delete f.__uvArray;delete f.__uv2Array;delete f.__faceArray;delete f.__vertexArray;delete f.__lineArray;delete f.__skinVertexAArray;delete f.__skinVertexBArray;delete f.__skinIndexArray;delete f.__skinWeightArray}}this.renderBufferImmediate=function(p,j,r){if(!p.__webglVertexBuffer){p.__webglVertexBuffer=cJ.createBuffer()}if(!p.__webglNormalBuffer){p.__webglNormalBuffer=cJ.createBuffer()}if(p.hasPos){cJ.bindBuffer(cJ.ARRAY_BUFFER,p.__webglVertexBuffer);cJ.bufferData(cJ.ARRAY_BUFFER,p.positionArray,cJ.DYNAMIC_DRAW);cJ.enableVertexAttribArray(j.attributes.position);cJ.vertexAttribPointer(j.attributes.position,3,cJ.FLOAT,false,0,0)}if(p.hasNormal){cJ.bindBuffer(cJ.ARRAY_BUFFER,p.__webglNormalBuffer);if(r===THREE.FlatShading){var s,t,b,k,d,n,l,f,o,m,h,q,a,c,i=p.count*3;for(c=0;c<i;c+=9){a=p.normalArray;k=a[c];l=a[c+1];m=a[c+2];d=a[c+3];f=a[c+4];h=a[c+5];n=a[c+6];o=a[c+7];q=a[c+8];s=(k+d+n)/3;t=(l+f+o)/3;b=(m+h+q)/3;a[c]=s;a[c+1]=t;a[c+2]=b;a[c+3]=s;a[c+4]=t;a[c+5]=b;a[c+6]=s;a[c+7]=t;a[c+8]=b}}cJ.bufferData(cJ.ARRAY_BUFFER,p.normalArray,cJ.DYNAMIC_DRAW);cJ.enableVertexAttribArray(j.attributes.normal);cJ.vertexAttribPointer(j.attributes.normal,3,cJ.FLOAT,false,0,0)}cJ.drawArrays(cJ.TRIANGLES,0,p.count);p.count=0};this.renderBufferDirect=function(s,o,m,h,c,n){if(h.visible===false){return}var k,j,b,r,p,f;k=bW(s,o,m,h,n);j=k.attributes;var d=false,a=h.wireframe?1:0,q=(c.id*16777215)+(k.id*2)+a;if(q!==b7){b7=q;d=true}if(n instanceof THREE.Mesh){var l=c.offsets;for(var t=0,i=l.length;t<i;++t){if(d){cJ.bindBuffer(cJ.ARRAY_BUFFER,c.vertexPositionBuffer);cJ.vertexAttribPointer(j.position,c.vertexPositionBuffer.itemSize,cJ.FLOAT,false,0,l[t].index*4*3);if(j.normal>=0&&c.vertexNormalBuffer){cJ.bindBuffer(cJ.ARRAY_BUFFER,c.vertexNormalBuffer);cJ.vertexAttribPointer(j.normal,c.vertexNormalBuffer.itemSize,cJ.FLOAT,false,0,l[t].index*4*3)}if(j.uv>=0&&c.vertexUvBuffer){if(c.vertexUvBuffer){cJ.bindBuffer(cJ.ARRAY_BUFFER,c.vertexUvBuffer);cJ.vertexAttribPointer(j.uv,c.vertexUvBuffer.itemSize,cJ.FLOAT,false,0,l[t].index*4*2);cJ.enableVertexAttribArray(j.uv)}else{cJ.disableVertexAttribArray(j.uv)}}if(j.color>=0&&c.vertexColorBuffer){cJ.bindBuffer(cJ.ARRAY_BUFFER,c.vertexColorBuffer);cJ.vertexAttribPointer(j.color,c.vertexColorBuffer.itemSize,cJ.FLOAT,false,0,l[t].index*4*4)}cJ.bindBuffer(cJ.ELEMENT_ARRAY_BUFFER,c.vertexIndexBuffer)}cJ.drawElements(cJ.TRIANGLES,l[t].count,cJ.UNSIGNED_SHORT,l[t].start*2);b2.info.render.calls++;b2.info.render.vertices+=l[t].count;b2.info.render.faces+=l[t].count/3}}};this.renderBuffer=function(c,i,o,b,k,l){if(b.visible===false){return}var d,h,s,p,q,n,f,r;d=bW(c,i,o,b,l);h=d.attributes;var m=false,a=b.wireframe?1:0,j=(k.id*16777215)+(d.id*2)+a;if(j!==b7){b7=j;m=true}if(!b.morphTargets&&h.position>=0){if(m){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglVertexBuffer);cJ.vertexAttribPointer(h.position,3,cJ.FLOAT,false,0,0)}}else{if(l.morphTargetBase){bE(b,k,l)}}if(m){if(k.__webglCustomAttributesList){for(f=0,r=k.__webglCustomAttributesList.length;f<r;f++){n=k.__webglCustomAttributesList[f];if(h[n.buffer.belongsToAttribute]>=0){cJ.bindBuffer(cJ.ARRAY_BUFFER,n.buffer);cJ.vertexAttribPointer(h[n.buffer.belongsToAttribute],n.size,cJ.FLOAT,false,0,0)}}}if(h.color>=0){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglColorBuffer);cJ.vertexAttribPointer(h.color,3,cJ.FLOAT,false,0,0)}if(h.normal>=0){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglNormalBuffer);cJ.vertexAttribPointer(h.normal,3,cJ.FLOAT,false,0,0)}if(h.tangent>=0){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglTangentBuffer);cJ.vertexAttribPointer(h.tangent,4,cJ.FLOAT,false,0,0)}if(h.uv>=0){if(k.__webglUVBuffer){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglUVBuffer);cJ.vertexAttribPointer(h.uv,2,cJ.FLOAT,false,0,0);cJ.enableVertexAttribArray(h.uv)}else{cJ.disableVertexAttribArray(h.uv)}}if(h.uv2>=0){if(k.__webglUV2Buffer){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglUV2Buffer);cJ.vertexAttribPointer(h.uv2,2,cJ.FLOAT,false,0,0);cJ.enableVertexAttribArray(h.uv2)}else{cJ.disableVertexAttribArray(h.uv2)}}if(b.skinning&&h.skinVertexA>=0&&h.skinVertexB>=0&&h.skinIndex>=0&&h.skinWeight>=0){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglSkinVertexABuffer);cJ.vertexAttribPointer(h.skinVertexA,4,cJ.FLOAT,false,0,0);cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglSkinVertexBBuffer);cJ.vertexAttribPointer(h.skinVertexB,4,cJ.FLOAT,false,0,0);cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglSkinIndicesBuffer);cJ.vertexAttribPointer(h.skinIndex,4,cJ.FLOAT,false,0,0);cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglSkinWeightsBuffer);cJ.vertexAttribPointer(h.skinWeight,4,cJ.FLOAT,false,0,0)}}if(l instanceof THREE.Mesh){if(b.wireframe){bG(b.wireframeLinewidth);if(m){cJ.bindBuffer(cJ.ELEMENT_ARRAY_BUFFER,k.__webglLineBuffer)}cJ.drawElements(cJ.LINES,k.__webglLineCount,cJ.UNSIGNED_SHORT,0)}else{if(m){cJ.bindBuffer(cJ.ELEMENT_ARRAY_BUFFER,k.__webglFaceBuffer)}cJ.drawElements(cJ.TRIANGLES,k.__webglFaceCount,cJ.UNSIGNED_SHORT,0)}b2.info.render.calls++;b2.info.render.vertices+=k.__webglFaceCount;b2.info.render.faces+=k.__webglFaceCount/3}else{if(l instanceof THREE.Line){p=(l.type===THREE.LineStrip)?cJ.LINE_STRIP:cJ.LINES;bG(b.linewidth);cJ.drawArrays(p,0,k.__webglLineCount);b2.info.render.calls++}}};function bE(h,k,l){var j=h.program.attributes;if(l.morphTargetBase!==-1){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglMorphTargetsBuffers[l.morphTargetBase]);cJ.vertexAttribPointer(j.position,3,cJ.FLOAT,false,0,0)}else{if(j.position>=0){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglVertexBuffer);cJ.vertexAttribPointer(j.position,3,cJ.FLOAT,false,0,0)}}if(l.morphTargetForcedOrder.length){var n=0;var m=l.morphTargetForcedOrder;var f=l.morphTargetInfluences;while(n<h.numSupportedMorphTargets&&n<m.length){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglMorphTargetsBuffers[m[n]]);cJ.vertexAttribPointer(j["morphTarget"+n],3,cJ.FLOAT,false,0,0);if(h.morphNormals){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglMorphNormalsBuffers[m[n]]);cJ.vertexAttribPointer(j["morphNormal"+n],3,cJ.FLOAT,false,0,0)}l.__webglMorphTargetInfluences[n]=f[m[n]];n++}}else{var a=[];var c=-1;var b=0;var f=l.morphTargetInfluences;var i,d=f.length;var n=0;if(l.morphTargetBase!==-1){a[l.morphTargetBase]=true}while(n<h.numSupportedMorphTargets){for(i=0;i<d;i++){if(!a[i]&&f[i]>c){b=i;c=f[b]}}cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglMorphTargetsBuffers[b]);cJ.vertexAttribPointer(j["morphTarget"+n],3,cJ.FLOAT,false,0,0);if(h.morphNormals){cJ.bindBuffer(cJ.ARRAY_BUFFER,k.__webglMorphNormalsBuffers[b]);cJ.vertexAttribPointer(j["morphNormal"+n],3,cJ.FLOAT,false,0,0)}l.__webglMorphTargetInfluences[n]=c;a[b]=1;c=-1;n++}}if(h.program.uniforms.morphTargetInfluences!==null){cJ.uniform1fv(h.program.uniforms.morphTargetInfluences,l.__webglMorphTargetInfluences)}}function bY(a,b){return b.z-a.z}this.render=function(h,b,f,d){var j,a,i,l,n,k=h.__lights,m=h.fog;cf=-1;bN=true;if(b.parent===undefined){console.warn("DEPRECATED: Camera hasn't been added to a Scene. Adding it...");h.add(b)}if(this.autoUpdateScene){h.updateMatrixWorld()}if(!b._viewMatrixArray){b._viewMatrixArray=new Float32Array(16)}if(!b._projectionMatrixArray){b._projectionMatrixArray=new Float32Array(16)}b.matrixWorldInverse.getInverse(b.matrixWorld);b.matrixWorldInverse.flattenToArray(b._viewMatrixArray);b.projectionMatrix.flattenToArray(b._projectionMatrixArray);cb.multiply(b.projectionMatrix,b.matrixWorldInverse);cL.setFromMatrix(cb);if(this.autoUpdateObjects){this.initWebGLObjects(h)}b3(this.renderPluginsPre,h,b);b2.info.render.calls=0;b2.info.render.vertices=0;b2.info.render.faces=0;b2.info.render.points=0;this.setRenderTarget(f);if(this.autoClear||d){this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)}n=h.__webglObjects;for(j=0,a=n.length;j<a;j++){i=n[j];l=i.object;i.render=false;if(l.visible){if(!(l instanceof THREE.Mesh||l instanceof THREE.ParticleSystem)||!(l.frustumCulled)||cL.contains(l)){cH(l,b);br(i);i.render=true;if(this.sortObjects){if(l.renderDepth){i.z=l.renderDepth}else{bm.copy(l.matrixWorld.getPosition());cb.multiplyVector3(bm);i.z=bm.z}}}}}if(this.sortObjects){n.sort(bY)}n=h.__webglObjectsImmediate;for(j=0,a=n.length;j<a;j++){i=n[j];l=i.object;if(l.visible){cH(l,b);bP(i)}}if(h.overrideMaterial){var c=h.overrideMaterial;this.setBlending(c.blending,c.blendEquation,c.blendSrc,c.blendDst);this.setDepthTest(c.depthTest);this.setDepthWrite(c.depthWrite);cE(c.polygonOffset,c.polygonOffsetFactor,c.polygonOffsetUnits);cg(h.__webglObjects,false,"",b,k,m,true,c);cW(h.__webglObjectsImmediate,"",b,k,m,false,c)}else{this.setBlending(THREE.NormalBlending);cg(h.__webglObjects,true,"opaque",b,k,m,false);cW(h.__webglObjectsImmediate,"opaque",b,k,m,false);cg(h.__webglObjects,false,"transparent",b,k,m,true);cW(h.__webglObjectsImmediate,"transparent",b,k,m,true)}b3(this.renderPluginsPost,h,b);if(f&&f.generateMipmaps&&f.minFilter!==THREE.NearestFilter&&f.minFilter!==THREE.LinearFilter){bv(f)}this.setDepthTest(true);this.setDepthWrite(true)};function b3(f,a,b){if(!f.length){return}for(var c=0,d=f.length;c<d;c++){b9=null;bX=null;bK=-1;cN=-1;bC=-1;bf=-1;bD=-1;b7=-1;cf=-1;bN=true;f[c].render(a,b,bL,b1);b9=null;bX=null;bK=-1;cN=-1;bC=-1;bf=-1;bD=-1;b7=-1;cf=-1;bN=true}}function cg(o,r,d,a,i,n,c,q){var f,k,j,b,m,l,p;if(r){m=o.length-1;l=-1;p=-1}else{m=0;l=o.length;p=1}for(var h=m;h!==l;h+=p){f=o[h];if(f.render){k=f.object;j=f.buffer;if(q){b=q}else{b=f[d];if(!b){continue}if(c){b2.setBlending(b.blending,b.blendEquation,b.blendSrc,b.blendDst)}b2.setDepthTest(b.depthTest);b2.setDepthWrite(b.depthWrite);cE(b.polygonOffset,b.polygonOffsetFactor,b.polygonOffsetUnits)}b2.setObjectFaces(k);if(j instanceof THREE.BufferGeometry){b2.renderBufferDirect(a,i,n,b,j,k)}else{b2.renderBuffer(a,i,n,b,j,k)}}}}function cW(o,h,c,l,n,f,b){var i,m,d,j;for(var k=0,a=o.length;k<a;k++){i=o[k];m=i.object;if(m.visible){if(b){d=b}else{d=i[h];if(!d){continue}if(f){b2.setBlending(d.blending,d.blendEquation,d.blendSrc,d.blendDst)}b2.setDepthTest(d.depthTest);b2.setDepthWrite(d.depthWrite);cE(d.polygonOffset,d.polygonOffsetFactor,d.polygonOffsetUnits)}b2.renderImmediateObject(c,l,n,d,m)}}}this.renderImmediateObject=function(b,d,a,c,f){var h=bW(b,d,a,c,f);b7=-1;b2.setObjectFaces(f);if(f.immediateRenderCallback){f.immediateRenderCallback(h,cJ,cL)}else{f.render(function(i){b2.renderBufferImmediate(i,h,c.shading)})}};function bP(a){var c=a.object,b=c.material;if(b.transparent){a.transparent=b;a.opaque=null}else{a.opaque=b;a.transparent=null}}function br(a){var c=a.object,d=a.buffer,b,f,h;h=c.material;if(h instanceof THREE.MeshFaceMaterial){f=d.materialIndex;if(f>=0){b=c.geometry.materials[f];if(b.transparent){a.transparent=b;a.opaque=null}else{a.opaque=b;a.transparent=null}}}else{b=h;if(b){if(b.transparent){a.transparent=b;a.opaque=null}else{a.opaque=b;a.transparent=null}}}}function c0(d){var j,b,f,a,h,n,l,i={};var c=d.morphTargets.length;var m=d.morphNormals.length;d.geometryGroups={};for(j=0,b=d.faces.length;j<b;j++){f=d.faces[j];a=f.materialIndex;n=(a!==undefined)?a:-1;if(i[n]===undefined){i[n]={hash:n,counter:0}}l=i[n].hash+"_"+i[n].counter;if(d.geometryGroups[l]===undefined){d.geometryGroups[l]={faces3:[],faces4:[],materialIndex:a,vertices:0,numMorphTargets:c,numMorphNormals:m}}h=f instanceof THREE.Face3?3:4;if(d.geometryGroups[l].vertices+h>65535){i[n].counter+=1;l=i[n].hash+"_"+i[n].counter;if(d.geometryGroups[l]===undefined){d.geometryGroups[l]={faces3:[],faces4:[],materialIndex:a,vertices:0,numMorphTargets:c,numMorphNormals:m}}}if(f instanceof THREE.Face3){d.geometryGroups[l].faces3.push(j)}else{d.geometryGroups[l].faces4.push(j)}d.geometryGroups[l].vertices+=h}d.geometryGroupsList=[];for(var k in d.geometryGroups){d.geometryGroups[k].id=b5++;d.geometryGroupsList.push(d.geometryGroups[k])}}this.initWebGLObjects=function(b){if(!b.__webglObjects){b.__webglObjects=[];b.__webglObjectsImmediate=[];b.__webglSprites=[];b.__webglFlares=[]}while(b.__objectsAdded.length){bl(b.__objectsAdded[0],b);b.__objectsAdded.splice(0,1)}while(b.__objectsRemoved.length){cO(b.__objectsRemoved[0],b);b.__objectsRemoved.splice(0,1)}for(var a=0,c=b.__webglObjects.length;a<c;a++){cm(b.__webglObjects[a].object)}};function bl(d,b){var c,a,f;if(!d.__webglInit){d.__webglInit=true;d._modelViewMatrix=new THREE.Matrix4();d._normalMatrix=new THREE.Matrix3();if(d instanceof THREE.Mesh){a=d.geometry;if(a instanceof THREE.Geometry){if(a.geometryGroups===undefined){c0(a)}for(c in a.geometryGroups){f=a.geometryGroups[c];if(!f.__webglVertexBuffer){cU(f);be(f,d);a.verticesNeedUpdate=true;a.morphTargetsNeedUpdate=true;a.elementsNeedUpdate=true;a.uvsNeedUpdate=true;a.normalsNeedUpdate=true;a.tangetsNeedUpdate=true;a.colorsNeedUpdate=true}}}}else{if(d instanceof THREE.Line){a=d.geometry;if(!a.__webglVertexBuffer){bO(a);b8(a,d);a.verticesNeedUpdate=true;a.colorsNeedUpdate=true}}else{if(d instanceof THREE.ParticleSystem){a=d.geometry;if(!a.__webglVertexBuffer){bH(a);cy(a,d);a.verticesNeedUpdate=true;a.colorsNeedUpdate=true}}}}}if(!d.__webglActive){if(d instanceof THREE.Mesh){a=d.geometry;if(a instanceof THREE.BufferGeometry){bs(b.__webglObjects,a,d)}else{for(c in a.geometryGroups){f=a.geometryGroups[c];bs(b.__webglObjects,f,d)}}}else{if(d instanceof THREE.Line){a=d.geometry;bs(b.__webglObjects,a,d)}}d.__webglActive=true}}function bs(a,c,b){a.push({buffer:c,object:b,opaque:null,transparent:null})}function b0(a,b){a.push({object:b,opaque:null,transparent:null})}function cm(f){var a=f.geometry,i,c,b;if(f instanceof THREE.Mesh){if(a instanceof THREE.BufferGeometry){a.verticesNeedUpdate=false;a.elementsNeedUpdate=false;a.uvsNeedUpdate=false;a.normalsNeedUpdate=false;a.colorsNeedUpdate=false}else{for(var d=0,h=a.geometryGroupsList.length;d<h;d++){i=a.geometryGroupsList[d];b=bZ(f,i);c=b.attributes&&cR(b);if(a.verticesNeedUpdate||a.morphTargetsNeedUpdate||a.elementsNeedUpdate||a.uvsNeedUpdate||a.normalsNeedUpdate||a.colorsNeedUpdate||a.tangetsNeedUpdate||c){bo(i,f,cJ.DYNAMIC_DRAW,!a.dynamic,b)}}a.verticesNeedUpdate=false;a.morphTargetsNeedUpdate=false;a.elementsNeedUpdate=false;a.uvsNeedUpdate=false;a.normalsNeedUpdate=false;a.colorsNeedUpdate=false;a.tangetsNeedUpdate=false;b.attributes&&cq(b)}}else{if(f instanceof THREE.Line){b=bZ(f,i);c=b.attributes&&cR(b);if(a.verticesNeedUpdate||a.colorsNeedUpdate||c){cS(a,cJ.DYNAMIC_DRAW)}a.verticesNeedUpdate=false;a.colorsNeedUpdate=false;b.attributes&&cq(b)}else{if(f instanceof THREE.ParticleSystem){b=bZ(f,i);c=b.attributes&&cR(b);if(a.verticesNeedUpdate||a.colorsNeedUpdate||f.sortParticles||c){bQ(a,cJ.DYNAMIC_DRAW,f)}a.verticesNeedUpdate=false;a.colorsNeedUpdate=false;b.attributes&&cq(b)}}}}function cR(a){for(var b in a.attributes){if(a.attributes[b].needsUpdate){return true}}return false}function cq(a){for(var b in a.attributes){a.attributes[b].needsUpdate=false}}function cO(b,a){if(b instanceof THREE.Mesh||b instanceof THREE.Line){bU(a.__webglObjects,b)}b.__webglActive=false}function bU(b,c){for(var a=b.length-1;a>=0;a--){if(b[a].object===c){b.splice(a,1)}}}function cP(b,c){for(var a=b.length-1;a>=0;a--){if(b[a]===c){b.splice(a,1)}}}this.initMaterial=function(c,f,n,i){var p,a,b,d,q,k,o,j,r;if(c instanceof THREE.MeshDepthMaterial){r="depth"}else{if(c instanceof THREE.MeshNormalMaterial){r="normal"}else{if(c instanceof THREE.MeshBasicMaterial){r="basic"}else{if(c instanceof THREE.MeshLambertMaterial){r="lambert"}else{if(c instanceof THREE.MeshPhongMaterial){r="phong"}else{if(c instanceof THREE.LineBasicMaterial){r="basic"}else{if(c instanceof THREE.ParticleBasicMaterial){r="particle_basic"}}}}}}}if(r){cK(c,THREE.ShaderLib[r])}k=bj(f);j=cY(f);o=bw(i);q={map:!!c.map,envMap:!!c.envMap,lightMap:!!c.lightMap,vertexColors:c.vertexColors,fog:n,useFog:c.fog,sizeAttenuation:c.sizeAttenuation,skinning:c.skinning,maxBones:o,morphTargets:c.morphTargets,morphNormals:c.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:k.directional,maxPointLights:k.point,maxSpotLights:k.spot,maxShadows:j,shadowMapEnabled:this.shadowMapEnabled&&i.receiveShadow,shadowMapSoft:this.shadowMapSoft,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:c.alphaTest,metal:c.metal,perPixel:c.perPixel,wrapAround:c.wrapAround,doubleSided:i&&i.doubleSided};c.program=cF(r,c.fragmentShader,c.vertexShader,c.uniforms,c.attributes,q);var h=c.program.attributes;if(h.position>=0){cJ.enableVertexAttribArray(h.position)}if(h.color>=0){cJ.enableVertexAttribArray(h.color)}if(h.normal>=0){cJ.enableVertexAttribArray(h.normal)}if(h.tangent>=0){cJ.enableVertexAttribArray(h.tangent)}if(c.skinning&&h.skinVertexA>=0&&h.skinVertexB>=0&&h.skinIndex>=0&&h.skinWeight>=0){cJ.enableVertexAttribArray(h.skinVertexA);cJ.enableVertexAttribArray(h.skinVertexB);cJ.enableVertexAttribArray(h.skinIndex);cJ.enableVertexAttribArray(h.skinWeight)}if(c.attributes){for(a in c.attributes){if(h[a]!==undefined&&h[a]>=0){cJ.enableVertexAttribArray(h[a])}}}if(c.morphTargets){c.numSupportedMorphTargets=0;var l,m="morphTarget";for(d=0;d<this.maxMorphTargets;d++){l=m+d;if(h[l]>=0){cJ.enableVertexAttribArray(h[l]);c.numSupportedMorphTargets++}}}if(c.morphNormals){c.numSupportedMorphNormals=0;var l,m="morphNormal";for(d=0;d<this.maxMorphNormals;d++){l=m+d;if(h[l]>=0){cJ.enableVertexAttribArray(h[l]);c.numSupportedMorphNormals++}}}c.uniformsList=[];for(p in c.uniforms){c.uniformsList.push([c.uniforms[p],p])}};function cK(a,b){a.uniforms=THREE.UniformsUtils.clone(b.uniforms);a.vertexShader=b.vertexShader;a.fragmentShader=b.fragmentShader}function bW(f,l,n,d,m){if(!d.program||d.needsUpdate){b2.initMaterial(d,l,n,m);d.needsUpdate=false}if(d.morphTargets){if(!m.__webglMorphTargetInfluences){m.__webglMorphTargetInfluences=new Float32Array(b2.maxMorphTargets);for(var j=0,b=b2.maxMorphTargets;j<b;j++){m.__webglMorphTargetInfluences[j]=0}}}var h=false;var k=d.program,a=k.uniforms,c=d.uniforms;if(k!==b9){cJ.useProgram(k);b9=k;h=true}if(d.id!==cf){cf=d.id;h=true}if(h||f!==bX){cJ.uniformMatrix4fv(a.projectionMatrix,false,f._projectionMatrixArray);if(f!==bX){bX=f}}if(h){if(n&&d.fog){cI(c,n)}if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d.lights){if(bN){cu(k,l);bN=false}bg(c,bk)}if(d instanceof THREE.MeshBasicMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.MeshPhongMaterial){cn(c,d)}if(d instanceof THREE.LineBasicMaterial){ci(c,d)}else{if(d instanceof THREE.ParticleBasicMaterial){cr(c,d)}else{if(d instanceof THREE.MeshPhongMaterial){cj(c,d)}else{if(d instanceof THREE.MeshLambertMaterial){cw(c,d)}else{if(d instanceof THREE.MeshDepthMaterial){c.mNear.value=f.near;c.mFar.value=f.far;c.opacity.value=d.opacity}else{if(d instanceof THREE.MeshNormalMaterial){c.opacity.value=d.opacity}}}}}}if(m.receiveShadow&&!d._shadowPass){b6(c,l)}cD(k,d.uniformsList);if(d instanceof THREE.ShaderMaterial||d instanceof THREE.MeshPhongMaterial||d.envMap){if(a.cameraPosition!==null){var i=f.matrixWorld.getPosition();cJ.uniform3f(a.cameraPosition,i.x,i.y,i.z)}}if(d instanceof THREE.MeshPhongMaterial||d instanceof THREE.MeshLambertMaterial||d instanceof THREE.ShaderMaterial||d.skinning){if(a.viewMatrix!==null){cJ.uniformMatrix4fv(a.viewMatrix,false,f._viewMatrixArray)}}if(d.skinning){cJ.uniformMatrix4fv(a.boneGlobalMatrices,false,m.boneMatrices)}}bh(a,m);if(a.objectMatrix!==null){cJ.uniformMatrix4fv(a.objectMatrix,false,m.matrixWorld.elements)}return k}function cn(b,a){b.opacity.value=a.opacity;if(b2.gammaInput){b.diffuse.value.copyGammaToLinear(a.color)}else{b.diffuse.value=a.color}b.map.texture=a.map;if(a.map){b.offsetRepeat.value.set(a.map.offset.x,a.map.offset.y,a.map.repeat.x,a.map.repeat.y)}b.lightMap.texture=a.lightMap;b.envMap.texture=a.envMap;b.flipEnvMap.value=(a.envMap instanceof THREE.WebGLRenderTargetCube)?1:-1;if(b2.gammaInput){b.reflectivity.value=a.reflectivity}else{b.reflectivity.value=a.reflectivity}b.refractionRatio.value=a.refractionRatio;b.combine.value=a.combine;b.useRefract.value=a.envMap&&a.envMap.mapping instanceof THREE.CubeRefractionMapping}function ci(b,a){b.diffuse.value=a.color;b.opacity.value=a.opacity}function cr(b,a){b.psColor.value=a.color;b.opacity.value=a.opacity;b.size.value=a.size;b.scale.value=_canvas.height/2;b.map.texture=a.map}function cI(b,a){b.fogColor.value=a.color;if(a instanceof THREE.Fog){b.fogNear.value=a.near;b.fogFar.value=a.far}else{if(a instanceof THREE.FogExp2){b.fogDensity.value=a.density}}}function cj(b,a){b.shininess.value=a.shininess;if(b2.gammaInput){b.ambient.value.copyGammaToLinear(a.ambient);b.emissive.value.copyGammaToLinear(a.emissive);b.specular.value.copyGammaToLinear(a.specular)}else{b.ambient.value=a.ambient;b.emissive.value=a.emissive;b.specular.value=a.specular}if(a.wrapAround){b.wrapRGB.value.copy(a.wrapRGB)}}function cw(b,a){if(b2.gammaInput){b.ambient.value.copyGammaToLinear(a.ambient);b.emissive.value.copyGammaToLinear(a.emissive)}else{b.ambient.value=a.ambient;b.emissive.value=a.emissive}if(a.wrapAround){b.wrapRGB.value.copy(a.wrapRGB)}}function bg(b,a){b.ambientLightColor.value=a.ambient;b.directionalLightColor.value=a.directional.colors;b.directionalLightDirection.value=a.directional.positions;b.pointLightColor.value=a.point.colors;b.pointLightPosition.value=a.point.positions;b.pointLightDistance.value=a.point.distances;b.spotLightColor.value=a.spot.colors;b.spotLightPosition.value=a.spot.positions;b.spotLightDistance.value=a.spot.distances;b.spotLightDirection.value=a.spot.directions;b.spotLightAngle.value=a.spot.angles;b.spotLightExponent.value=a.spot.exponents}function b6(h,b){if(h.shadowMatrix){var c=0;for(var a=0,d=b.length;a<d;a++){var f=b[a];if(!f.castShadow){continue}if(f instanceof THREE.SpotLight||(f instanceof THREE.DirectionalLight&&!f.shadowCascade)){h.shadowMap.texture[c]=f.shadowMap;h.shadowMapSize.value[c]=f.shadowMapSize;h.shadowMatrix.value[c]=f.shadowMatrix;h.shadowDarkness.value[c]=f.shadowDarkness;h.shadowBias.value[c]=f.shadowBias;c++}}}}function bh(b,a){cJ.uniformMatrix4fv(b.modelViewMatrix,false,a._modelViewMatrix.elements);if(b.normalMatrix){cJ.uniformMatrix3fv(b.normalMatrix,false,a._normalMatrix.elements)}}function cD(i,a){var n,c,f,b,h,j,d,l,k,m;for(l=0,k=a.length;l<k;l++){b=i.uniforms[a[l][1]];if(!b){continue}n=a[l][0];f=n.type;c=n.value;switch(f){case"i":cJ.uniform1i(b,c);break;case"f":cJ.uniform1f(b,c);break;case"v2":cJ.uniform2f(b,c.x,c.y);break;case"v3":cJ.uniform3f(b,c.x,c.y,c.z);break;case"v4":cJ.uniform4f(b,c.x,c.y,c.z,c.w);break;case"c":cJ.uniform3f(b,c.r,c.g,c.b);break;case"fv1":cJ.uniform1fv(b,c);break;case"fv":cJ.uniform3fv(b,c);break;case"v2v":if(!n._array){n._array=new Float32Array(2*c.length)}for(j=0,d=c.length;j<d;j++){m=j*2;n._array[m]=c[j].x;n._array[m+1]=c[j].y}cJ.uniform2fv(b,n._array);break;case"v3v":if(!n._array){n._array=new Float32Array(3*c.length)}for(j=0,d=c.length;j<d;j++){m=j*3;n._array[m]=c[j].x;n._array[m+1]=c[j].y;n._array[m+2]=c[j].z}cJ.uniform3fv(b,n._array);break;case"v4v":if(!n._array){n._array=new Float32Array(4*c.length)}for(j=0,d=c.length;j<d;j++){m=j*4;n._array[m]=c[j].x;n._array[m+1]=c[j].y;n._array[m+2]=c[j].z;n._array[m+3]=c[j].w}cJ.uniform4fv(b,n._array);break;case"m4":if(!n._array){n._array=new Float32Array(16)}c.flattenToArray(n._array);cJ.uniformMatrix4fv(b,false,n._array);break;case"m4v":if(!n._array){n._array=new Float32Array(16*c.length)}for(j=0,d=c.length;j<d;j++){c[j].flattenToArrayOffset(n._array,j*16)}cJ.uniformMatrix4fv(b,false,n._array);break;case"t":cJ.uniform1i(b,c);h=n.texture;if(!h){continue}if(h.image instanceof Array&&h.image.length===6){bp(h,c)}else{if(h instanceof THREE.WebGLRenderTargetCube){cs(h,c)}else{b2.setTexture(h,c)}}break;case"tv":if(!n._array){n._array=[];for(j=0,d=n.texture.length;j<d;j++){n._array[j]=c+j}}cJ.uniform1iv(b,n._array);for(j=0,d=n.texture.length;j<d;j++){h=n.texture[j];if(!h){continue}b2.setTexture(h,n._array[j])}break}}}function cH(b,a){b._modelViewMatrix.multiply(a.matrixWorldInverse,b.matrixWorld);b._normalMatrix.getInverse(b._modelViewMatrix);b._normalMatrix.transpose()}function cu(H,v){var r,G,j,t,y=0,F=0,x=0,p,q,c,i,l=bk,E=l.directional.colors,n=l.directional.positions,h=l.point.colors,k=l.point.positions,u=l.point.distances,C=l.spot.colors,a=l.spot.positions,A=l.spot.distances,z=l.spot.directions,B=l.spot.angles,d=l.spot.exponents,f=0,s=0,o=0,b=0,m=0,D=0;for(r=0,G=v.length;r<G;r++){j=v[r];if(j.onlyShadow){continue}p=j.color;c=j.intensity;i=j.distance;if(j instanceof THREE.AmbientLight){if(b2.gammaInput){y+=p.r*p.r;F+=p.g*p.g;x+=p.b*p.b}else{y+=p.r;F+=p.g;x+=p.b}}else{if(j instanceof THREE.DirectionalLight){b=f*3;if(b2.gammaInput){E[b]=p.r*p.r*c*c;E[b+1]=p.g*p.g*c*c;E[b+2]=p.b*p.b*c*c}else{E[b]=p.r*c;E[b+1]=p.g*c;E[b+2]=p.b*c}bu.copy(j.matrixWorld.getPosition());bu.subSelf(j.target.matrixWorld.getPosition());bu.normalize();n[b]=bu.x;n[b+1]=bu.y;n[b+2]=bu.z;f+=1}else{if(j instanceof THREE.PointLight){m=s*3;if(b2.gammaInput){h[m]=p.r*p.r*c*c;h[m+1]=p.g*p.g*c*c;h[m+2]=p.b*p.b*c*c}else{h[m]=p.r*c;h[m+1]=p.g*c;h[m+2]=p.b*c}q=j.matrixWorld.getPosition();k[m]=q.x;k[m+1]=q.y;k[m+2]=q.z;u[s]=i;s+=1}else{if(j instanceof THREE.SpotLight){D=o*3;if(b2.gammaInput){C[D]=p.r*p.r*c*c;C[D+1]=p.g*p.g*c*c;C[D+2]=p.b*p.b*c*c}else{C[D]=p.r*c;C[D+1]=p.g*c;C[D+2]=p.b*c}q=j.matrixWorld.getPosition();a[D]=q.x;a[D+1]=q.y;a[D+2]=q.z;A[o]=i;bu.copy(q);bu.subSelf(j.target.matrixWorld.getPosition());bu.normalize();z[D]=bu.x;z[D+1]=bu.y;z[D+2]=bu.z;B[o]=Math.cos(j.angle);d[o]=j.exponent;o+=1}}}}}for(r=f*3,G=E.length;r<G;r++){E[r]=0}for(r=s*3,G=h.length;r<G;r++){h[r]=0}for(r=o*3,G=C.length;r<G;r++){C[r]=0}l.directional.length=f;l.point.length=s;l.spot.length=o;l.ambient[0]=y;l.ambient[1]=F;l.ambient[2]=x}this.setFaceCulling=function(a,b){if(a){if(!b||b==="ccw"){cJ.frontFace(cJ.CCW)}else{cJ.frontFace(cJ.CW)}if(a==="back"){cJ.cullFace(cJ.BACK)}else{if(a==="front"){cJ.cullFace(cJ.FRONT)}else{cJ.cullFace(cJ.FRONT_AND_BACK)}}cJ.enable(cJ.CULL_FACE)}else{cJ.disable(cJ.CULL_FACE)}};this.setObjectFaces=function(a){if(bf!==a.doubleSided){if(a.doubleSided){cJ.disable(cJ.CULL_FACE)}else{cJ.enable(cJ.CULL_FACE)}bf=a.doubleSided}if(bD!==a.flipSided){if(a.flipSided){cJ.frontFace(cJ.CW)}else{cJ.frontFace(cJ.CCW)}bD=a.flipSided}};this.setDepthTest=function(a){if(cN!==a){if(a){cJ.enable(cJ.DEPTH_TEST)}else{cJ.disable(cJ.DEPTH_TEST)}cN=a}};this.setDepthWrite=function(a){if(bC!==a){cJ.depthMask(a);bC=a}};function bG(a){if(a!==cX){cJ.lineWidth(a);cX=a}}function cE(a,b,c){if(cV!==a){if(a){cJ.enable(cJ.POLYGON_OFFSET_FILL)}else{cJ.disable(cJ.POLYGON_OFFSET_FILL)}cV=a}if(a&&(ca!==b||bz!==c)){cJ.polygonOffset(b,c);ca=b;bz=c}}this.setBlending=function(c,d,b,a){if(c!==bK){switch(c){case THREE.NoBlending:cJ.disable(cJ.BLEND);break;case THREE.AdditiveBlending:cJ.enable(cJ.BLEND);cJ.blendEquation(cJ.FUNC_ADD);cJ.blendFunc(cJ.SRC_ALPHA,cJ.ONE);break;case THREE.SubtractiveBlending:cJ.enable(cJ.BLEND);cJ.blendEquation(cJ.FUNC_ADD);cJ.blendFunc(cJ.ZERO,cJ.ONE_MINUS_SRC_COLOR);break;case THREE.MultiplyBlending:cJ.enable(cJ.BLEND);cJ.blendEquation(cJ.FUNC_ADD);cJ.blendFunc(cJ.ZERO,cJ.SRC_COLOR);break;case THREE.CustomBlending:cJ.enable(cJ.BLEND);break;default:cJ.enable(cJ.BLEND);cJ.blendEquationSeparate(cJ.FUNC_ADD,cJ.FUNC_ADD);cJ.blendFuncSeparate(cJ.SRC_ALPHA,cJ.ONE_MINUS_SRC_ALPHA,cJ.ONE,cJ.ONE_MINUS_SRC_ALPHA);break}bK=c}if(c===THREE.CustomBlending){if(d!==bF){cJ.blendEquation(ce(d));bF=d}if(b!==bt||a!==bS){cJ.blendFunc(ce(b),ce(a));bt=b;bS=a}}else{bF=null;bt=null;bS=null}};function cF(s,l,b,a,k,p){var n,m,i,o;var h=[];if(s){h.push(s)}else{h.push(l);h.push(b)}for(n in p){h.push(n);h.push(p[n])}o=h.join();for(n=0,m=bA.length;n<m;n++){if(bA[n].code===o){return bA[n].program}}i=cJ.createProgram();var q=["precision "+_precision+" float;",(ck>0)?"#define VERTEX_TEXTURES":"",b2.gammaInput?"#define GAMMA_INPUT":"",b2.gammaOutput?"#define GAMMA_OUTPUT":"",b2.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+p.maxDirLights,"#define MAX_POINT_LIGHTS "+p.maxPointLights,"#define MAX_SPOT_LIGHTS "+p.maxSpotLights,"#define MAX_SHADOWS "+p.maxShadows,"#define MAX_BONES "+p.maxBones,p.map?"#define USE_MAP":"",p.envMap?"#define USE_ENVMAP":"",p.lightMap?"#define USE_LIGHTMAP":"",p.vertexColors?"#define USE_COLOR":"",p.skinning?"#define USE_SKINNING":"",p.morphTargets?"#define USE_MORPHTARGETS":"",p.morphNormals?"#define USE_MORPHNORMALS":"",p.perPixel?"#define PHONG_PER_PIXEL":"",p.wrapAround?"#define WRAP_AROUND":"",p.doubleSided?"#define DOUBLE_SIDED":"",p.shadowMapEnabled?"#define USE_SHADOWMAP":"",p.shadowMapSoft?"#define SHADOWMAP_SOFT":"",p.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",p.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",p.sizeAttenuation?"#define USE_SIZEATTENUATION":"","uniform mat4 objectMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","attribute vec3 morphTarget0;","attribute vec3 morphTarget1;","attribute vec3 morphTarget2;","attribute vec3 morphTarget3;","#ifdef USE_MORPHNORMALS","attribute vec3 morphNormal0;","attribute vec3 morphNormal1;","attribute vec3 morphNormal2;","attribute vec3 morphNormal3;","#else","attribute vec3 morphTarget4;","attribute vec3 morphTarget5;","attribute vec3 morphTarget6;","attribute vec3 morphTarget7;","#endif","#endif","#ifdef USE_SKINNING","attribute vec4 skinVertexA;","attribute vec4 skinVertexB;","attribute vec4 skinIndex;","attribute vec4 skinWeight;","#endif",""].join("\n");var f=["precision "+_precision+" float;","#define MAX_DIR_LIGHTS "+p.maxDirLights,"#define MAX_POINT_LIGHTS "+p.maxPointLights,"#define MAX_SPOT_LIGHTS "+p.maxSpotLights,"#define MAX_SHADOWS "+p.maxShadows,p.alphaTest?"#define ALPHATEST "+p.alphaTest:"",b2.gammaInput?"#define GAMMA_INPUT":"",b2.gammaOutput?"#define GAMMA_OUTPUT":"",b2.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"",(p.useFog&&p.fog)?"#define USE_FOG":"",(p.useFog&&p.fog instanceof THREE.FogExp2)?"#define FOG_EXP2":"",p.map?"#define USE_MAP":"",p.envMap?"#define USE_ENVMAP":"",p.lightMap?"#define USE_LIGHTMAP":"",p.vertexColors?"#define USE_COLOR":"",p.metal?"#define METAL":"",p.perPixel?"#define PHONG_PER_PIXEL":"",p.wrapAround?"#define WRAP_AROUND":"",p.doubleSided?"#define DOUBLE_SIDED":"",p.shadowMapEnabled?"#define USE_SHADOWMAP":"",p.shadowMapSoft?"#define SHADOWMAP_SOFT":"",p.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",p.shadowMapCascade?"#define SHADOWMAP_CASCADE":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n");cJ.attachShader(i,cl("fragment",f+l));cJ.attachShader(i,cl("vertex",q+b));cJ.linkProgram(i);if(!cJ.getProgramParameter(i,cJ.LINK_STATUS)){console.error("Could not initialise shader\nVALIDATE_STATUS: "+cJ.getProgramParameter(i,cJ.VALIDATE_STATUS)+", gl error ["+cJ.getError()+"]")}i.uniforms={};i.attributes={};var d,r,c,j;d=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","objectMatrix","cameraPosition","boneGlobalMatrices","morphTargetInfluences"];for(r in a){d.push(r)}b4(i,d);d=["position","normal","uv","uv2","tangent","color","skinVertexA","skinVertexB","skinIndex","skinWeight"];for(j=0;j<p.maxMorphTargets;j++){d.push("morphTarget"+j)}for(j=0;j<p.maxMorphNormals;j++){d.push("morphNormal"+j)}for(c in k){d.push(c)}bd(i,d);i.id=bA.length;bA.push({program:i,code:o});b2.info.memory.programs=bA.length;return i}function b4(c,f){var b,d,a;for(b=0,d=f.length;b<d;b++){a=f[b];c.uniforms[a]=cJ.getUniformLocation(c,a)}}function bd(c,f){var b,d,a;for(b=0,d=f.length;b<d;b++){a=f[b];c.attributes[a]=cJ.getAttribLocation(c,a)}}function cl(b,c){var a;if(b==="fragment"){a=cJ.createShader(cJ.FRAGMENT_SHADER)}else{if(b==="vertex"){a=cJ.createShader(cJ.VERTEX_SHADER)}}cJ.shaderSource(a,c);cJ.compileShader(a);if(!cJ.getShaderParameter(a,cJ.COMPILE_STATUS)){console.error(cJ.getShaderInfoLog(a));console.error(c);return null}return a}function bI(a){return(a&(a-1))===0}function bM(c,b,a){if(a){cJ.texParameteri(c,cJ.TEXTURE_WRAP_S,ce(b.wrapS));cJ.texParameteri(c,cJ.TEXTURE_WRAP_T,ce(b.wrapT));cJ.texParameteri(c,cJ.TEXTURE_MAG_FILTER,ce(b.magFilter));cJ.texParameteri(c,cJ.TEXTURE_MIN_FILTER,ce(b.minFilter))}else{cJ.texParameteri(c,cJ.TEXTURE_WRAP_S,cJ.CLAMP_TO_EDGE);cJ.texParameteri(c,cJ.TEXTURE_WRAP_T,cJ.CLAMP_TO_EDGE);cJ.texParameteri(c,cJ.TEXTURE_MAG_FILTER,cc(b.magFilter));cJ.texParameteri(c,cJ.TEXTURE_MIN_FILTER,cc(b.minFilter))}}this.setTexture=function(h,a){if(h.needsUpdate){if(!h.__webglInit){h.__webglInit=true;h.__webglTexture=cJ.createTexture();b2.info.memory.textures++}cJ.activeTexture(cJ.TEXTURE0+a);cJ.bindTexture(cJ.TEXTURE_2D,h.__webglTexture);cJ.pixelStorei(cJ.UNPACK_PREMULTIPLY_ALPHA_WEBGL,h.premultiplyAlpha);var d=h.image,f=bI(d.width)&&bI(d.height),c=ce(h.format),b=ce(h.type);bM(cJ.TEXTURE_2D,h,f);if(h instanceof THREE.DataTexture){cJ.texImage2D(cJ.TEXTURE_2D,0,c,d.width,d.height,0,c,b,d.data)}else{cJ.texImage2D(cJ.TEXTURE_2D,0,c,c,b,h.image)}if(h.generateMipmaps&&f){cJ.generateMipmap(cJ.TEXTURE_2D)}h.needsUpdate=false;if(h.onUpdate){h.onUpdate()}}else{cJ.activeTexture(cJ.TEXTURE0+a);cJ.bindTexture(cJ.TEXTURE_2D,h.__webglTexture)}};function bi(b,a){if(b.width<=a&&b.height<=a){return b}var c=Math.max(b.width,b.height);var d=Math.floor(b.width*a/c);var h=Math.floor(b.height*a/c);var f=document.createElement("canvas");f.width=d;f.height=h;var i=f.getContext("2d");i.drawImage(b,0,0,b.width,b.height,0,0,d,h);return f}function bp(h,a){if(h.image.length===6){if(h.needsUpdate){if(!h.image.__webglTextureCube){h.image.__webglTextureCube=cJ.createTexture()}cJ.activeTexture(cJ.TEXTURE0+a);cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,h.image.__webglTextureCube);var j=[];for(var i=0;i<6;i++){if(b2.autoScaleCubemaps){j[i]=bi(h.image[i],ch)}else{j[i]=h.image[i]}}var d=j[0],f=bI(d.width)&&bI(d.height),c=ce(h.format),b=ce(h.type);bM(cJ.TEXTURE_CUBE_MAP,h,f);for(var i=0;i<6;i++){cJ.texImage2D(cJ.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,c,c,b,j[i])}if(h.generateMipmaps&&f){cJ.generateMipmap(cJ.TEXTURE_CUBE_MAP)}h.needsUpdate=false;if(h.onUpdate){h.onUpdate()}}else{cJ.activeTexture(cJ.TEXTURE0+a);cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,h.image.__webglTextureCube)}}}function cs(b,a){cJ.activeTexture(cJ.TEXTURE0+a);cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,b.__webglTexture)}function bq(a,b,c){cJ.bindFramebuffer(cJ.FRAMEBUFFER,a);cJ.framebufferTexture2D(cJ.FRAMEBUFFER,cJ.COLOR_ATTACHMENT0,c,b.__webglTexture,0)}function bn(b,a){cJ.bindRenderbuffer(cJ.RENDERBUFFER,b);if(a.depthBuffer&&!a.stencilBuffer){cJ.renderbufferStorage(cJ.RENDERBUFFER,cJ.DEPTH_COMPONENT16,a.width,a.height);cJ.framebufferRenderbuffer(cJ.FRAMEBUFFER,cJ.DEPTH_ATTACHMENT,cJ.RENDERBUFFER,b)}else{if(a.depthBuffer&&a.stencilBuffer){cJ.renderbufferStorage(cJ.RENDERBUFFER,cJ.DEPTH_STENCIL,a.width,a.height);cJ.framebufferRenderbuffer(cJ.FRAMEBUFFER,cJ.DEPTH_STENCIL_ATTACHMENT,cJ.RENDERBUFFER,b)}else{cJ.renderbufferStorage(cJ.RENDERBUFFER,cJ.RGBA4,a.width,a.height)}}}this.setRenderTarget=function(i){var f=(i instanceof THREE.WebGLRenderTargetCube);if(i&&!i.__webglFramebuffer){if(i.depthBuffer===undefined){i.depthBuffer=true}if(i.stencilBuffer===undefined){i.stencilBuffer=true}i.__webglTexture=cJ.createTexture();var d=bI(i.width)&&bI(i.height),m=ce(i.format),k=ce(i.type);if(f){i.__webglFramebuffer=[];i.__webglRenderbuffer=[];cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,i.__webglTexture);bM(cJ.TEXTURE_CUBE_MAP,i,d);for(var j=0;j<6;j++){i.__webglFramebuffer[j]=cJ.createFramebuffer();i.__webglRenderbuffer[j]=cJ.createRenderbuffer();cJ.texImage2D(cJ.TEXTURE_CUBE_MAP_POSITIVE_X+j,0,m,i.width,i.height,0,m,k,null);bq(i.__webglFramebuffer[j],i,cJ.TEXTURE_CUBE_MAP_POSITIVE_X+j);bn(i.__webglRenderbuffer[j],i)}if(d){cJ.generateMipmap(cJ.TEXTURE_CUBE_MAP)}}else{i.__webglFramebuffer=cJ.createFramebuffer();i.__webglRenderbuffer=cJ.createRenderbuffer();cJ.bindTexture(cJ.TEXTURE_2D,i.__webglTexture);bM(cJ.TEXTURE_2D,i,d);cJ.texImage2D(cJ.TEXTURE_2D,0,m,i.width,i.height,0,m,k,null);bq(i.__webglFramebuffer,i,cJ.TEXTURE_2D);bn(i.__webglRenderbuffer,i);if(d){cJ.generateMipmap(cJ.TEXTURE_2D)}}if(f){cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,null)}else{cJ.bindTexture(cJ.TEXTURE_2D,null)}cJ.bindRenderbuffer(cJ.RENDERBUFFER,null);cJ.bindFramebuffer(cJ.FRAMEBUFFER,null)}var b,l,a,c,h;if(i){if(f){b=i.__webglFramebuffer[i.activeCubeFace]}else{b=i.__webglFramebuffer}l=i.width;a=i.height;c=0;h=0}else{b=null;l=cv;a=bV;c=bx;h=by}if(b!==ct){cJ.bindFramebuffer(cJ.FRAMEBUFFER,b);cJ.viewport(c,h,l,a);ct=b}bL=l;b1=a};function bv(a){if(a instanceof THREE.WebGLRenderTargetCube){cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,a.__webglTexture);cJ.generateMipmap(cJ.TEXTURE_CUBE_MAP);cJ.bindTexture(cJ.TEXTURE_CUBE_MAP,null)}else{cJ.bindTexture(cJ.TEXTURE_2D,a.__webglTexture);cJ.generateMipmap(cJ.TEXTURE_2D);cJ.bindTexture(cJ.TEXTURE_2D,null)}}function cc(a){switch(a){case THREE.NearestFilter:case THREE.NearestMipMapNearestFilter:case THREE.NearestMipMapLinearFilter:return cJ.NEAREST;break;case THREE.LinearFilter:case THREE.LinearMipMapNearestFilter:case THREE.LinearMipMapLinearFilter:default:return cJ.LINEAR;break}}function ce(a){switch(a){case THREE.RepeatWrapping:return cJ.REPEAT;break;case THREE.ClampToEdgeWrapping:return cJ.CLAMP_TO_EDGE;break;case THREE.MirroredRepeatWrapping:return cJ.MIRRORED_REPEAT;break;case THREE.NearestFilter:return cJ.NEAREST;break;case THREE.NearestMipMapNearestFilter:return cJ.NEAREST_MIPMAP_NEAREST;break;case THREE.NearestMipMapLinearFilter:return cJ.NEAREST_MIPMAP_LINEAR;break;case THREE.LinearFilter:return cJ.LINEAR;break;case THREE.LinearMipMapNearestFilter:return cJ.LINEAR_MIPMAP_NEAREST;break;case THREE.LinearMipMapLinearFilter:return cJ.LINEAR_MIPMAP_LINEAR;break;case THREE.ByteType:return cJ.BYTE;break;case THREE.UnsignedByteType:return cJ.UNSIGNED_BYTE;break;case THREE.ShortType:return cJ.SHORT;break;case THREE.UnsignedShortType:return cJ.UNSIGNED_SHORT;break;case THREE.IntType:return cJ.INT;break;case THREE.UnsignedIntType:return cJ.UNSIGNED_INT;break;case THREE.FloatType:return cJ.FLOAT;break;case THREE.AlphaFormat:return cJ.ALPHA;break;case THREE.RGBFormat:return cJ.RGB;break;case THREE.RGBAFormat:return cJ.RGBA;break;case THREE.LuminanceFormat:return cJ.LUMINANCE;break;case THREE.LuminanceAlphaFormat:return cJ.LUMINANCE_ALPHA;break;case THREE.AddEquation:return cJ.FUNC_ADD;break;case THREE.SubtractEquation:return cJ.FUNC_SUBTRACT;break;case THREE.ReverseSubtractEquation:return cJ.FUNC_REVERSE_SUBTRACT;break;case THREE.ZeroFactor:return cJ.ZERO;break;case THREE.OneFactor:return cJ.ONE;break;case THREE.SrcColorFactor:return cJ.SRC_COLOR;break;case THREE.OneMinusSrcColorFactor:return cJ.ONE_MINUS_SRC_COLOR;break;case THREE.SrcAlphaFactor:return cJ.SRC_ALPHA;break;case THREE.OneMinusSrcAlphaFactor:return cJ.ONE_MINUS_SRC_ALPHA;break;case THREE.DstAlphaFactor:return cJ.DST_ALPHA;break;case THREE.OneMinusDstAlphaFactor:return cJ.ONE_MINUS_DST_ALPHA;break;case THREE.DstColorFactor:return cJ.DST_COLOR;break;case THREE.OneMinusDstColorFactor:return cJ.ONE_MINUS_DST_COLOR;break;case THREE.SrcAlphaSaturateFactor:return cJ.SRC_ALPHA_SATURATE;break}return 0}function bw(a){var b=50;return b}function bj(i){var k,b,h,a,f,l,j,d,c;a=f=l=j=d=c=0;for(k=0,b=i.length;k<b;k++){h=i[k];if(h.onlyShadow){continue}if(h instanceof THREE.DirectionalLight){a++}if(h instanceof THREE.PointLight){f++}if(h instanceof THREE.SpotLight){l++}}if((f+l+a)<=_maxLights){j=a;d=f;c=l}else{j=Math.ceil(_maxLights*a/(f+a));d=_maxLights-j;c=d}return{directional:j,point:d,spot:c}}function cY(c){var d,a,f,b=0;for(d=0,a=c.length;d<a;d++){f=c[d];if(!f.castShadow){continue}if(f instanceof THREE.SpotLight){b++}if(f instanceof THREE.DirectionalLight&&!f.shadowCascade){b++}}return b}function cz(){gl=null;try{if(!(gl=_canvas.getContext("experimental-webgl",{alpha:_alpha,premultipliedAlpha:_premultipliedAlpha,antialias:_antialias,stencil:_stencil,preserveDrawingBuffer:_preserveDrawingBuffer}))){throw"Error creating WebGL context."}}catch(a){console.error(a)}if(!gl.getExtension("OES_texture_float")){console.log("THREE.WebGLRenderer: Float textures not supported.")}return gl}function cG(){cJ.clearColor(0,0,0,1);cJ.clearDepth(1);cJ.clearStencil(0);cJ.enable(cJ.DEPTH_TEST);cJ.depthFunc(cJ.LEQUAL);cJ.frontFace(cJ.CCW);cJ.cullFace(cJ.BACK);cJ.enable(cJ.CULL_FACE);cJ.enable(cJ.BLEND);cJ.blendEquation(cJ.FUNC_ADD);cJ.blendFunc(cJ.SRC_ALPHA,cJ.ONE_MINUS_SRC_ALPHA);cJ.clearColor(_clearColor.r,_clearColor.g,_clearColor.b,_clearAlpha)}};THREE.WebGLRenderTarget=function(h,f,d){this.width=h;this.height=f;d=d||{};this.wrapS=d.wrapS!==undefined?d.wrapS:THREE.ClampToEdgeWrapping;this.wrapT=d.wrapT!==undefined?d.wrapT:THREE.ClampToEdgeWrapping;this.magFilter=d.magFilter!==undefined?d.magFilter:THREE.LinearFilter;this.minFilter=d.minFilter!==undefined?d.minFilter:THREE.LinearMipMapLinearFilter;this.offset=new THREE.Vector2(0,0);this.repeat=new THREE.Vector2(1,1);this.format=d.format!==undefined?d.format:THREE.RGBAFormat;this.type=d.type!==undefined?d.type:THREE.UnsignedByteType;this.depthBuffer=d.depthBuffer!==undefined?d.depthBuffer:true;this.stencilBuffer=d.stencilBuffer!==undefined?d.stencilBuffer:true;this.generateMipmaps=true};THREE.WebGLRenderTarget.prototype.clone=function(){var b=new THREE.WebGLRenderTarget(this.width,this.height);b.wrapS=this.wrapS;b.wrapT=this.wrapT;b.magFilter=this.magFilter;b.minFilter=this.minFilter;b.offset.copy(this.offset);b.repeat.copy(this.repeat);b.format=this.format;b.type=this.type;b.depthBuffer=this.depthBuffer;b.stencilBuffer=this.stencilBuffer;return b};THREE.WebGLRenderTargetCube=function(h,f,d){THREE.WebGLRenderTarget.call(this,h,f,d);this.activeCubeFace=0};THREE.WebGLRenderTargetCube.prototype=new THREE.WebGLRenderTarget();THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube;THREE.RenderableVertex=function(){this.positionWorld=new THREE.Vector3();this.positionScreen=new THREE.Vector4();this.visible=true};THREE.RenderableVertex.prototype.copy=function(b){this.positionWorld.copy(b.positionWorld);this.positionScreen.copy(b.positionScreen)};THREE.RenderableFace3=function(){this.v1=new THREE.RenderableVertex();this.v2=new THREE.RenderableVertex();this.v3=new THREE.RenderableVertex();this.centroidWorld=new THREE.Vector3();this.centroidScreen=new THREE.Vector3();this.normalWorld=new THREE.Vector3();this.vertexNormalsWorld=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()];this.material=null;this.faceMaterial=null;this.uvs=[[]];this.z=null};THREE.RenderableFace4=function(){this.v1=new THREE.RenderableVertex();this.v2=new THREE.RenderableVertex();this.v3=new THREE.RenderableVertex();this.v4=new THREE.RenderableVertex();this.centroidWorld=new THREE.Vector3();this.centroidScreen=new THREE.Vector3();this.normalWorld=new THREE.Vector3();this.vertexNormalsWorld=[new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3(),new THREE.Vector3()];this.material=null;this.faceMaterial=null;this.uvs=[[]];this.z=null};THREE.RenderableObject=function(){this.object=null;this.z=null};THREE.RenderableLine=function(){this.z=null;this.v1=new THREE.RenderableVertex();this.v2=new THREE.RenderableVertex();this.material=null};THREE.GeometryUtils={merge:function(aa,ag){var ab,i,ac=aa.vertices.length,P=aa.faceVertexUvs[0].length,ae=ag instanceof THREE.Mesh?ag.geometry:ag,am=aa.vertices,an=ae.vertices,ao=aa.faces,ap=ae.faces,Q=aa.faceVertexUvs[0],U=ae.faceVertexUvs[0];var O={};for(var Z=0;Z<aa.materials.length;Z++){var N=aa.materials[Z].id;O[N]=Z}if(ag instanceof THREE.Mesh){ag.matrixAutoUpdate&&ag.updateMatrix();ab=ag.matrix;i=new THREE.Matrix4();i.extractRotation(ab,ag.scale)}for(var Z=0,af=an.length;Z<af;Z++){var S=an[Z];var R=S.clone();if(ab){ab.multiplyVector3(R)}am.push(R)}for(Z=0,af=ap.length;Z<af;Z++){var ah=ap[Z],W,M,j,Y=ah.vertexNormals,V=ah.vertexColors;if(ah instanceof THREE.Face3){W=new THREE.Face3(ah.a+ac,ah.b+ac,ah.c+ac)}else{if(ah instanceof THREE.Face4){W=new THREE.Face4(ah.a+ac,ah.b+ac,ah.c+ac,ah.d+ac)}}W.normal.copy(ah.normal);if(i){i.multiplyVector3(W.normal)}for(var ad=0,X=Y.length;ad<X;ad++){M=Y[ad].clone();if(i){i.multiplyVector3(M)}W.vertexNormals.push(M)}W.color.copy(ah.color);for(var ad=0,X=V.length;ad<X;ad++){j=V[ad];W.vertexColors.push(j.clone())}if(ah.materialIndex!==undefined){var T=ae.materials[ah.materialIndex];var ak=T.id;var ai=O[ak];if(ai===undefined){ai=aa.materials.length;O[ak]=ai;aa.materials.push(T)}W.materialIndex=ai}W.centroid.copy(ah.centroid);if(ab){ab.multiplyVector3(W.centroid)}ao.push(W)}for(Z=0,af=U.length;Z<af;Z++){var aj=U[Z],al=[];for(var ad=0,X=aj.length;ad<X;ad++){al.push(new THREE.UV(aj[ad].u,aj[ad].v))}Q.push(al)}},clone:function(j){var u=new THREE.Geometry();var v,i;var s=j.vertices,A=j.faces,y=j.faceVertexUvs[0];if(j.materials){u.materials=j.materials.slice()}for(v=0,i=s.length;v<i;v++){var t=s[v];u.vertices.push(t.clone())}for(v=0,i=A.length;v<i;v++){var r=A[v];u.faces.push(r.clone())}for(v=0,i=y.length;v<i;v++){var B=y[v],C=[];for(var z=0,x=B.length;z<x;z++){C.push(new THREE.UV(B[z].u,B[z].v))}u.faceVertexUvs[0].push(C)}return u},randomPointInTriangle:function(n,p,a){var o,q,b,r=new THREE.Vector3(),c=THREE.GeometryUtils.__v1;o=THREE.GeometryUtils.random();q=THREE.GeometryUtils.random();if((o+q)>1){o=1-o;q=1-q}b=1-o-q;r.copy(n);r.multiplyScalar(o);c.copy(p);c.multiplyScalar(q);r.addSelf(c);c.copy(a);c.multiplyScalar(b);r.addSelf(c);return r},randomPointInFace:function(q,p,r){var s,t,u,m;if(q instanceof THREE.Face3){s=p.vertices[q.a];t=p.vertices[q.b];u=p.vertices[q.c];return THREE.GeometryUtils.randomPointInTriangle(s,t,u)}else{if(q instanceof THREE.Face4){s=p.vertices[q.a];t=p.vertices[q.b];u=p.vertices[q.c];m=p.vertices[q.d];var n,o;if(r){if(q._area1&&q._area2){n=q._area1;o=q._area2}else{n=THREE.GeometryUtils.triangleArea(s,t,m);o=THREE.GeometryUtils.triangleArea(t,u,m);q._area1=n;q._area2=o}}else{n=THREE.GeometryUtils.triangleArea(s,t,m),o=THREE.GeometryUtils.triangleArea(t,u,m)}var v=THREE.GeometryUtils.random()*(n+o);if(v<n){return THREE.GeometryUtils.randomPointInTriangle(s,t,m)}else{return THREE.GeometryUtils.randomPointInTriangle(t,u,m)}}}},randomPointsInGeometry:function(M,D){var I,A,N=M.faces,L=M.vertices,H=N.length,y=0,n=[],r,z,B,C;for(A=0;A<H;A++){I=N[A];if(I instanceof THREE.Face3){r=L[I.a];z=L[I.b];B=L[I.c];I._area=THREE.GeometryUtils.triangleArea(r,z,B)}else{if(I instanceof THREE.Face4){r=L[I.a];z=L[I.b];B=L[I.c];C=L[I.d];I._area1=THREE.GeometryUtils.triangleArea(r,z,C);I._area2=THREE.GeometryUtils.triangleArea(z,B,C);I._area=I._area1+I._area2}}y+=I._area;n[A]=y}function F(c){function b(d,h){if(h<d){return d}var f=d+Math.floor((h-d)/2);if(n[f]>c){return b(d,f-1)}else{if(n[f]<c){return b(f+1,h)}else{return f}}}var a=b(0,n.length-1);return a}var E,K,G=[];var i={};for(A=0;A<D;A++){E=THREE.GeometryUtils.random()*y;K=F(E);G[A]=THREE.GeometryUtils.randomPointInFace(N[K],M,true);if(!i[K]){i[K]=1}else{i[K]+=1}}return G},triangleArea:function(o,q,a){var c,p,r,b,n=THREE.GeometryUtils.__v1;n.sub(o,q);p=n.length();n.sub(o,a);r=n.length();n.sub(q,a);b=n.length();c=0.5*(p+r+b);return Math.sqrt(c*(c-p)*(c-r)*(c-b))},center:function(h){h.computeBoundingBox();var d=h.boundingBox;var f=new THREE.Vector3();f.add(d.min,d.max);f.multiplyScalar(-0.5);h.applyMatrix(new THREE.Matrix4().makeTranslation(f.x,f.y,f.z));h.computeBoundingBox();return f},normalizeUVs:function(l){var i=l.faceVertexUvs[0];for(var m=0,j=i.length;m<j;m++){var n=i[m];for(var p=0,o=n.length;p<o;p++){if(n[p].u!==1){n[p].u=n[p].u-Math.floor(n[p].u)}if(n[p].v!==1){n[p].v=n[p].v-Math.floor(n[p].v)}}}},triangulateQuads:function(V){var c,R,d,b;var X=[];var W=[];var a=[];for(c=0,R=V.faceUvs.length;c<R;c++){W[c]=[]}for(c=0,R=V.faceVertexUvs.length;c<R;c++){a[c]=[]}for(c=0,R=V.faces.length;c<R;c++){var T=V.faces[c];if(T instanceof THREE.Face4){var i=T.a;var G=T.b;var K=T.c;var M=T.d;var j=new THREE.Face3();var H=new THREE.Face3();j.color.copy(T.color);H.color.copy(T.color);j.materialIndex=T.materialIndex;H.materialIndex=T.materialIndex;j.a=i;j.b=G;j.c=M;H.a=G;H.b=K;H.c=M;if(T.vertexColors.length===4){j.vertexColors[0]=T.vertexColors[0].clone();j.vertexColors[1]=T.vertexColors[1].clone();j.vertexColors[2]=T.vertexColors[3].clone();H.vertexColors[0]=T.vertexColors[1].clone();H.vertexColors[1]=T.vertexColors[2].clone();H.vertexColors[2]=T.vertexColors[3].clone()}X.push(j,H);for(d=0,b=V.faceVertexUvs.length;d<b;d++){if(V.faceVertexUvs[d].length){var Q=V.faceVertexUvs[d][c];var I=Q[0];var L=Q[1];var O=Q[2];var S=Q[3];var N=[I.clone(),L.clone(),S.clone()];var P=[L.clone(),O.clone(),S.clone()];a[d].push(N,P)}}for(d=0,b=V.faceUvs.length;d<b;d++){if(V.faceUvs[d].length){var U=V.faceUvs[d][c];W[d].push(U,U)}}}else{X.push(T);for(d=0,b=V.faceUvs.length;d<b;d++){W[d].push(V.faceUvs[d])}for(d=0,b=V.faceVertexUvs.length;d<b;d++){a[d].push(V.faceVertexUvs[d])}}}V.faces=X;V.faceUvs=W;V.faceVertexUvs=a;V.computeCentroids();V.computeFaceNormals();V.computeVertexNormals();if(V.hasTangents){V.computeTangents()}},explode:function(E){var x=[];for(var z=0,C=E.faces.length;z<C;z++){var A=x.length;var d=E.faces[z];if(d instanceof THREE.Face4){var B=d.a;var D=d.b;var b=d.c;var i=d.d;var a=E.vertices[B];var c=E.vertices[D];var n=E.vertices[b];var y=E.vertices[i];x.push(a.clone());x.push(c.clone());x.push(n.clone());x.push(y.clone());d.a=A;d.b=A+1;d.c=A+2;d.d=A+3}else{var B=d.a;var D=d.b;var b=d.c;var a=E.vertices[B];var c=E.vertices[D];var n=E.vertices[b];x.push(a.clone());x.push(c.clone());x.push(n.clone());d.a=A;d.b=A+1;d.c=A+2}}E.vertices=x;delete E.__tmpVertices},tessellate:function(aH,aW){var aI,ao,aL,au,aw,ay,aA,ar,av,az,aB,c,aD,j,a0,ak,b,aC,aE,aF,aQ,aS,aJ,am,an,aM,aG,aK,at,ax,ap,aq,aV;var aN=[];var d=[];for(aI=0,ao=aH.faceVertexUvs.length;aI<ao;aI++){d[aI]=[]}for(aI=0,ao=aH.faces.length;aI<ao;aI++){aL=aH.faces[aI];if(aL instanceof THREE.Face3){au=aL.a;aw=aL.b;ay=aL.c;ar=aH.vertices[au];av=aH.vertices[aw];az=aH.vertices[ay];c=ar.distanceTo(av);aD=av.distanceTo(az);j=ar.distanceTo(az);if(c>aW||aD>aW||j>aW){b=aH.vertices.length;at=aL.clone();ax=aL.clone();if(c>=aD&&c>=j){aF=ar.clone();aF.lerpSelf(av,0.5);at.a=au;at.b=b;at.c=ay;ax.a=b;ax.b=aw;ax.c=ay;if(aL.vertexNormals.length===3){aJ=aL.vertexNormals[0].clone();aJ.lerpSelf(aL.vertexNormals[1],0.5);at.vertexNormals[1].copy(aJ);ax.vertexNormals[0].copy(aJ)}if(aL.vertexColors.length===3){aM=aL.vertexColors[0].clone();aM.lerpSelf(aL.vertexColors[1],0.5);at.vertexColors[1].copy(aM);ax.vertexColors[0].copy(aM)}aV=0}else{if(aD>=c&&aD>=j){aF=av.clone();aF.lerpSelf(az,0.5);at.a=au;at.b=aw;at.c=b;ax.a=b;ax.b=ay;ax.c=au;if(aL.vertexNormals.length===3){aJ=aL.vertexNormals[1].clone();aJ.lerpSelf(aL.vertexNormals[2],0.5);at.vertexNormals[2].copy(aJ);ax.vertexNormals[0].copy(aJ);ax.vertexNormals[1].copy(aL.vertexNormals[2]);ax.vertexNormals[2].copy(aL.vertexNormals[0])}if(aL.vertexColors.length===3){aM=aL.vertexColors[1].clone();aM.lerpSelf(aL.vertexColors[2],0.5);at.vertexColors[2].copy(aM);ax.vertexColors[0].copy(aM);ax.vertexColors[1].copy(aL.vertexColors[2]);ax.vertexColors[2].copy(aL.vertexColors[0])}aV=1}else{aF=ar.clone();aF.lerpSelf(az,0.5);at.a=au;at.b=aw;at.c=b;ax.a=b;ax.b=aw;ax.c=ay;if(aL.vertexNormals.length===3){aJ=aL.vertexNormals[0].clone();aJ.lerpSelf(aL.vertexNormals[2],0.5);at.vertexNormals[2].copy(aJ);ax.vertexNormals[0].copy(aJ)}if(aL.vertexColors.length===3){aM=aL.vertexColors[0].clone();aM.lerpSelf(aL.vertexColors[2],0.5);at.vertexColors[2].copy(aM);ax.vertexColors[0].copy(aM)}aV=2}}aN.push(at,ax);aH.vertices.push(aF);var a,aO,i,aP,aR,aT,aX,a1,a2;for(a=0,aO=aH.faceVertexUvs.length;a<aO;a++){if(aH.faceVertexUvs[a].length){i=aH.faceVertexUvs[a][aI];aP=i[0];aR=i[1];aT=i[2];if(aV===0){aX=aP.clone();aX.lerpSelf(aR,0.5);a1=[aP.clone(),aX.clone(),aT.clone()];a2=[aX.clone(),aR.clone(),aT.clone()]}else{if(aV===1){aX=aR.clone();aX.lerpSelf(aT,0.5);a1=[aP.clone(),aR.clone(),aX.clone()];a2=[aX.clone(),aT.clone(),aP.clone()]}else{aX=aP.clone();aX.lerpSelf(aT,0.5);a1=[aP.clone(),aR.clone(),aX.clone()];a2=[aX.clone(),aR.clone(),aT.clone()]}}d[a].push(a1,a2)}}}else{aN.push(aL);for(a=0,aO=aH.faceVertexUvs.length;a<aO;a++){d[a].push(aH.faceVertexUvs[a][aI])}}}else{au=aL.a;aw=aL.b;ay=aL.c;aA=aL.d;ar=aH.vertices[au];av=aH.vertices[aw];az=aH.vertices[ay];aB=aH.vertices[aA];c=ar.distanceTo(av);aD=av.distanceTo(az);a0=az.distanceTo(aB);ak=ar.distanceTo(aB);if(c>aW||aD>aW||a0>aW||ak>aW){aC=aH.vertices.length;aE=aH.vertices.length+1;ap=aL.clone();aq=aL.clone();if((c>=aD&&c>=a0&&c>=ak)||(a0>=aD&&a0>=c&&a0>=ak)){aQ=ar.clone();aQ.lerpSelf(av,0.5);aS=az.clone();aS.lerpSelf(aB,0.5);ap.a=au;ap.b=aC;ap.c=aE;ap.d=aA;aq.a=aC;aq.b=aw;aq.c=ay;aq.d=aE;if(aL.vertexNormals.length===4){am=aL.vertexNormals[0].clone();am.lerpSelf(aL.vertexNormals[1],0.5);an=aL.vertexNormals[2].clone();an.lerpSelf(aL.vertexNormals[3],0.5);ap.vertexNormals[1].copy(am);ap.vertexNormals[2].copy(an);aq.vertexNormals[0].copy(am);aq.vertexNormals[3].copy(an)}if(aL.vertexColors.length===4){aG=aL.vertexColors[0].clone();aG.lerpSelf(aL.vertexColors[1],0.5);aK=aL.vertexColors[2].clone();aK.lerpSelf(aL.vertexColors[3],0.5);ap.vertexColors[1].copy(aG);ap.vertexColors[2].copy(aK);aq.vertexColors[0].copy(aG);aq.vertexColors[3].copy(aK)}aV=0}else{aQ=av.clone();aQ.lerpSelf(az,0.5);aS=aB.clone();aS.lerpSelf(ar,0.5);ap.a=au;ap.b=aw;ap.c=aC;ap.d=aE;aq.a=aE;aq.b=aC;aq.c=ay;aq.d=aA;if(aL.vertexNormals.length===4){am=aL.vertexNormals[1].clone();am.lerpSelf(aL.vertexNormals[2],0.5);an=aL.vertexNormals[3].clone();an.lerpSelf(aL.vertexNormals[0],0.5);ap.vertexNormals[2].copy(am);ap.vertexNormals[3].copy(an);aq.vertexNormals[0].copy(an);aq.vertexNormals[1].copy(am)}if(aL.vertexColors.length===4){aG=aL.vertexColors[1].clone();aG.lerpSelf(aL.vertexColors[2],0.5);aK=aL.vertexColors[3].clone();aK.lerpSelf(aL.vertexColors[0],0.5);ap.vertexColors[2].copy(aG);ap.vertexColors[3].copy(aK);aq.vertexColors[0].copy(aK);aq.vertexColors[1].copy(aG)}aV=1}aN.push(ap,aq);aH.vertices.push(aQ,aS);var a,aO,i,aP,aR,aT,aU,m,al,aY,aZ;for(a=0,aO=aH.faceVertexUvs.length;a<aO;a++){if(aH.faceVertexUvs[a].length){i=aH.faceVertexUvs[a][aI];aP=i[0];aR=i[1];aT=i[2];aU=i[3];if(aV===0){m=aP.clone();m.lerpSelf(aR,0.5);al=aT.clone();al.lerpSelf(aU,0.5);aY=[aP.clone(),m.clone(),al.clone(),aU.clone()];aZ=[m.clone(),aR.clone(),aT.clone(),al.clone()]}else{m=aR.clone();m.lerpSelf(aT,0.5);al=aU.clone();al.lerpSelf(aP,0.5);aY=[aP.clone(),aR.clone(),m.clone(),al.clone()];aZ=[al.clone(),m.clone(),aT.clone(),aU.clone()]}d[a].push(aY,aZ)}}}else{aN.push(aL);for(a=0,aO=aH.faceVertexUvs.length;a<aO;a++){d[a].push(aH.faceVertexUvs[a][aI])}}}}aH.faces=aN;aH.faceVertexUvs=d}};THREE.GeometryUtils.random=THREE.Math.random16;THREE.GeometryUtils.__v1=new THREE.Vector3();THREE.ImageUtils={crossOrigin:"anonymous",loadTexture:function(k,i,j){var l=new Image(),h=new THREE.Texture(l,i);l.onload=function(){h.needsUpdate=true;if(j){j(this)}};l.crossOrigin=this.crossOrigin;l.src=k;return h},loadTextureCube:function(l,p,m){var o,i,k=[],n=new THREE.Texture(k,p);k.loadCount=0;for(o=0,i=l.length;o<i;++o){k[o]=new Image();k[o].onload=function(){k.loadCount+=1;if(k.loadCount===6){n.needsUpdate=true}if(m){m(this)}};k[o].crossOrigin=this.crossOrigin;k[o].src=l[o]}return n},getNormalMap:function(N,H){var ac=function(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]};var T=function(a,b){return[a[0]-b[0],a[1]-b[1],a[2]-b[2]]};var I=function(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);return[a[0]/b,a[1]/b,a[2]/b]};H=H|1;var L=N.width;var P=N.height;var ab=document.createElement("canvas");ab.width=L;ab.height=P;var ad=ab.getContext("2d");ad.drawImage(N,0,0);var y=ad.getImageData(0,0,L,P).data;var R=ad.createImageData(L,P);var W=R.data;for(var U=0;U<L;U++){for(var V=0;V<P;V++){var aa=V-1<0?0:V-1;var Y=V+1>P-1?P-1:V+1;var Z=U-1<0?0:U-1;var X=U+1>L-1?L-1:U+1;var i=[];var K=[0,0,y[(V*L+U)*4]/255*H];i.push([-1,0,y[(V*L+Z)*4]/255*H]);i.push([-1,-1,y[(aa*L+Z)*4]/255*H]);i.push([0,-1,y[(aa*L+U)*4]/255*H]);i.push([1,-1,y[(aa*L+X)*4]/255*H]);i.push([1,0,y[(V*L+X)*4]/255*H]);i.push([1,1,y[(Y*L+X)*4]/255*H]);i.push([0,1,y[(Y*L+U)*4]/255*H]);i.push([-1,1,y[(Y*L+Z)*4]/255*H]);var Q=[];var O=i.length;for(var x=0;x<O;x++){var ae=i[x];var af=i[(x+1)%O];ae=T(ae,K);af=T(af,K);Q.push(I(ac(ae,af)))}var M=[0,0,0];for(var x=0;x<Q.length;x++){M[0]+=Q[x][0];M[1]+=Q[x][1];M[2]+=Q[x][2]}M[0]/=Q.length;M[1]/=Q.length;M[2]/=Q.length;var S=(V*L+U)*4;W[S]=((M[0]+1)/2*255)|0;W[S+1]=((M[1]+1/2)*255)|0;W[S+2]=(M[2]*255)|0;W[S+3]=255}}ad.putImageData(R,0,0);return ab},generateDataTexture:function(u,i,t){var b=u*i;var r=new Uint8Array(3*b);var v=Math.floor(t.r*255);var q=Math.floor(t.g*255);var o=Math.floor(t.b*255);for(var s=0;s<b;s++){r[s*3]=v;r[s*3+1]=q;r[s*3+2]=o}var p=new THREE.DataTexture(r,u,i,THREE.RGBFormat);p.needsUpdate=true;return p}};THREE.SceneUtils={showHierarchy:function(d,c){THREE.SceneUtils.traverseHierarchy(d,function(a){a.visible=c})},traverseHierarchy:function(h,j){var k,l,i=h.children.length;for(l=0;l<i;l++){k=h.children[l];j(k);THREE.SceneUtils.traverseHierarchy(k,j)}},createMultiMaterialObject:function(k,j){var m,i=j.length,l=new THREE.Object3D();for(m=0;m<i;m++){var n=new THREE.Mesh(k,j[m]);l.add(n)}return l},cloneObject:function(l){var i;if(l instanceof THREE.Mesh){i=new THREE.Mesh(l.geometry,l.material)}else{if(l instanceof THREE.Line){i=new THREE.Line(l.geometry,l.material,l.type)}else{if(l instanceof THREE.Ribbon){i=new THREE.Ribbon(l.geometry,l.material)}else{if(l instanceof THREE.ParticleSystem){i=new THREE.ParticleSystem(l.geometry,l.material);i.sortParticles=l.sortParticles}else{if(l instanceof THREE.Particle){i=new THREE.Particle(l.material)}else{if(l instanceof THREE.Sprite){i=new THREE.Sprite({});i.color.copy(l.color);i.map=l.map;i.blending=l.blending;i.useScreenCoordinates=l.useScreenCoordinates;i.mergeWith3D=l.mergeWith3D;i.affectedByDistance=l.affectedByDistance;i.scaleByViewport=l.scaleByViewport;i.alignment=l.alignment;i.rotation3d.copy(l.rotation3d);i.rotation=l.rotation;i.opacity=l.opacity;i.uvOffset.copy(l.uvOffset);i.uvScale.copy(l.uvScale)}else{if(l instanceof THREE.LOD){i=new THREE.LOD()}else{if(l instanceof THREE.Object3D){i=new THREE.Object3D()}}}}}}}}i.name=l.name;i.parent=l.parent;i.up.copy(l.up);i.position.copy(l.position);if(i.rotation instanceof THREE.Vector3){i.rotation.copy(l.rotation)}i.eulerOrder=l.eulerOrder;i.scale.copy(l.scale);i.dynamic=l.dynamic;i.doubleSided=l.doubleSided;i.flipSided=l.flipSided;i.renderDepth=l.renderDepth;i.rotationAutoUpdate=l.rotationAutoUpdate;i.matrix.copy(l.matrix);i.matrixWorld.copy(l.matrixWorld);i.matrixRotationWorld.copy(l.matrixRotationWorld);i.matrixAutoUpdate=l.matrixAutoUpdate;i.matrixWorldNeedsUpdate=l.matrixWorldNeedsUpdate;i.quaternion.copy(l.quaternion);i.useQuaternion=l.useQuaternion;i.boundRadius=l.boundRadius;i.boundRadiusScale=l.boundRadiusScale;i.visible=l.visible;i.castShadow=l.castShadow;i.receiveShadow=l.receiveShadow;i.frustumCulled=l.frustumCulled;for(var h=0;h<l.children.length;h++){var j=THREE.SceneUtils.cloneObject(l.children[h]);i.children[h]=j;j.parent=i}if(l instanceof THREE.LOD){for(var h=0;h<l.LODs.length;h++){var k=l.LODs[h];i.LODs[h]={visibleAtDistance:k.visibleAtDistance,object3D:i.children[h]}}}return i},detach:function(h,f,d){h.applyMatrix(f.matrixWorld);f.remove(h);d.add(h)},attach:function(i,j,h){var f=new THREE.Matrix4();f.getInverse(h.matrixWorld);i.applyMatrix(f);j.remove(i);h.add(i)}};if(THREE.WebGLRenderer){THREE.ShaderUtils={lib:{fresnel:{uniforms:{mRefractionRatio:{type:"f",value:1.02},mFresnelBias:{type:"f",value:0.1},mFresnelPower:{type:"f",value:2},mFresnelScale:{type:"f",value:1},tCube:{type:"t",value:1,texture:null}},fragmentShader:["uniform samplerCube tCube;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","vec4 reflectedColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","vec4 refractedColor = vec4( 1.0, 1.0, 1.0, 1.0 );","refractedColor.r = textureCube( tCube, vec3( -vRefract[0].x, vRefract[0].yz ) ).r;","refractedColor.g = textureCube( tCube, vec3( -vRefract[1].x, vRefract[1].yz ) ).g;","refractedColor.b = textureCube( tCube, vec3( -vRefract[2].x, vRefract[2].yz ) ).b;","refractedColor.a = 1.0;","gl_FragColor = mix( refractedColor, reflectedColor, clamp( vReflectionFactor, 0.0, 1.0 ) );","}"].join("\n"),vertexShader:["uniform float mRefractionRatio;","uniform float mFresnelBias;","uniform float mFresnelScale;","uniform float mFresnelPower;","varying vec3 vReflect;","varying vec3 vRefract[3];","varying float vReflectionFactor;","void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vec4 mPosition = objectMatrix * vec4( position, 1.0 );","vec3 nWorld = normalize ( mat3( objectMatrix[0].xyz, objectMatrix[1].xyz, objectMatrix[2].xyz ) * normal );","vec3 I = mPosition.xyz - cameraPosition;","vReflect = reflect( I, nWorld );","vRefract[0] = refract( normalize( I ), nWorld, mRefractionRatio );","vRefract[1] = refract( normalize( I ), nWorld, mRefractionRatio * 0.99 );","vRefract[2] = refract( normalize( I ), nWorld, mRefractionRatio * 0.98 );","vReflectionFactor = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( I ), nWorld ), mFresnelPower );","gl_Position = projectionMatrix * mvPosition;","}"].join("\n")},normal:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},tDiffuse:{type:"t",value:0,texture:null},tCube:{type:"t",value:1,texture:null},tNormal:{type:"t",value:2,texture:null},tSpecular:{type:"t",value:3,texture:null},tAO:{type:"t",value:4,texture:null},tDisplacement:{type:"t",value:5,texture:null},uNormalScale:{type:"f",value:1},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDiffuseColor:{type:"c",value:new THREE.Color(16777215)},uSpecularColor:{type:"c",value:new THREE.Color(1118481)},uAmbientColor:{type:"c",value:new THREE.Color(16777215)},uShininess:{type:"f",value:30},uOpacity:{type:"f",value:1},uReflectivity:{type:"f",value:0.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 uAmbientColor;","uniform vec3 uDiffuseColor;","uniform vec3 uSpecularColor;","uniform float uShininess;","uniform float uOpacity;","uniform bool enableDiffuse;","uniform bool enableSpecular;","uniform bool enableAO;","uniform bool enableReflection;","uniform sampler2D tDiffuse;","uniform sampler2D tNormal;","uniform sampler2D tSpecular;","uniform sampler2D tAO;","uniform samplerCube tCube;","uniform float uNormalScale;","uniform float uReflectivity;","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","uniform vec3 ambientLightColor;","#if MAX_DIR_LIGHTS > 0","uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];","uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];","#endif","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","#ifdef WRAP_AROUND","uniform vec3 wrapRGB;","#endif","varying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main() {","gl_FragColor = vec4( vec3( 1.0 ), uOpacity );","vec3 specularTex = vec3( 1.0 );","vec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;","normalTex.xy *= uNormalScale;","normalTex = normalize( normalTex );","if( enableDiffuse ) {","#ifdef GAMMA_INPUT","vec4 texelColor = texture2D( tDiffuse, vUv );","texelColor.xyz *= texelColor.xyz;","gl_FragColor = gl_FragColor * texelColor;","#else","gl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );","#endif","}","if( enableAO ) {","#ifdef GAMMA_INPUT","vec4 aoColor = texture2D( tAO, vUv );","aoColor.xyz *= aoColor.xyz;","gl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;","#else","gl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;","#endif","}","if( enableSpecular )","specularTex = texture2D( tSpecular, vUv ).xyz;","mat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );","vec3 finalNormal = tsb * normalTex;","vec3 normal = normalize( finalNormal );","vec3 viewPosition = normalize( vViewPosition );","#if MAX_POINT_LIGHTS > 0","vec3 pointDiffuse = vec3( 0.0 );","vec3 pointSpecular = vec3( 0.0 );","for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {","vec3 pointVector = normalize( vPointLight[ i ].xyz );","float pointDistance = vPointLight[ i ].w;","#ifdef WRAP_AROUND","float pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );","float pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );","vec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );","#else","float pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );","#endif","pointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;","vec3 pointHalfVector = normalize( pointVector + viewPosition );","float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );","float pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );","pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;","#else","pointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;","#endif","}","#endif","#if MAX_DIR_LIGHTS > 0","vec3 dirDiffuse = vec3( 0.0 );","vec3 dirSpecular = vec3( 0.0 );","for( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {","vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );","vec3 dirVector = normalize( lDirection.xyz );","#ifdef WRAP_AROUND","float directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );","float directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );","vec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );","#else","float dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );","#endif","dirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;","vec3 dirHalfVector = normalize( dirVector + viewPosition );","float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );","float dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );","#ifdef PHYSICALLY_BASED_SHADING","float specularNormalization = ( uShininess + 2.0001 ) / 8.0;","vec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );","dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;","#else","dirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;","#endif","}","#endif","vec3 totalDiffuse = vec3( 0.0 );","vec3 totalSpecular = vec3( 0.0 );","#if MAX_DIR_LIGHTS > 0","totalDiffuse += dirDiffuse;","totalSpecular += dirSpecular;","#endif","#if MAX_POINT_LIGHTS > 0","totalDiffuse += pointDiffuse;","totalSpecular += pointSpecular;","#endif","gl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor) + totalSpecular;","if ( enableReflection ) {","vec3 wPos = cameraPosition - vViewPosition;","vec3 vReflect = reflect( normalize( wPos ), normal );","vec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );","#ifdef GAMMA_INPUT","cubeColor.xyz *= cubeColor.xyz;","#endif","gl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );","}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;","uniform vec2 uOffset;","uniform vec2 uRepeat;","#ifdef VERTEX_TEXTURES","uniform sampler2D tDisplacement;","uniform float uDisplacementScale;","uniform float uDisplacementBias;","#endif","varying vec3 vTangent;","varying vec3 vBinormal;","varying vec3 vNormal;","varying vec2 vUv;","#if MAX_POINT_LIGHTS > 0","uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];","uniform float pointLightDistance[ MAX_POINT_LIGHTS ];","varying vec4 vPointLight[ MAX_POINT_LIGHTS ];","#endif","varying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {","vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","vViewPosition = -mvPosition.xyz;","vNormal = normalMatrix * normal;","vTangent = normalMatrix * tangent.xyz;","vBinormal = cross( vNormal, vTangent ) * tangent.w;","vUv = uv * uRepeat + uOffset;","#if MAX_POINT_LIGHTS > 0","for( int i = 0; i < MAX_POINT_LIGHTS; i++ ) {","vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );","vec3 lVector = lPosition.xyz - mvPosition.xyz;","float lDistance = 1.0;","if ( pointLightDistance[ i ] > 0.0 )","lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );","lVector = normalize( lVector );","vPointLight[ i ] = vec4( lVector, lDistance );","}","#endif","#ifdef VERTEX_TEXTURES","vec3 dv = texture2D( tDisplacement, uv ).xyz;","float df = uDisplacementScale * dv.x + uDisplacementBias;","vec4 displacedPosition = vec4( normalize( vNormal.xyz ) * df, 0.0 ) + mvPosition;","gl_Position = projectionMatrix * displacedPosition;","#else","gl_Position = projectionMatrix * mvPosition;","#endif",THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:1,texture:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vViewPosition;","void main() {","vec4 mPosition = objectMatrix * vec4( position, 1.0 );","vViewPosition = cameraPosition - mPosition.xyz;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vViewPosition;","void main() {","vec3 wPos = cameraPosition - vViewPosition;","gl_FragColor = textureCube( tCube, vec3( tFlip * wPos.x, wPos.yz ) );","}"].join("\n")}}}}THREE.BufferGeometry=function(){this.id=THREE.GeometryCount++;this.vertexIndexBuffer=null;this.vertexPositionBuffer=null;this.vertexNormalBuffer=null;this.vertexUvBuffer=null;this.vertexColorBuffer=null;this.vertexIndexArray=null;this.vertexPositionArray=null;this.vertexNormalArray=null;this.vertexUvArray=null;this.vertexColorArray=null;this.dynamic=false;this.boundingBox=null;this.boundingSphere=null;this.morphTargets=[]};THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,computeBoundingBox:function(){},computeBoundingSphere:function(){}};THREE.CubeGeometry=function(G,H,s,E,T,R,P,B){THREE.Geometry.call(this);var S=this,L=G/2,O=H/2,i=s/2;var A,C,D,M,N,Q;if(P!==undefined){if(P instanceof Array){this.materials=P}else{this.materials=[];for(var F=0;F<6;F++){this.materials.push(P)}}A=0;M=1;C=2;N=3;D=4;Q=5}else{this.materials=[]}this.sides={px:true,nx:true,py:true,ny:true,pz:true,nz:true};if(B!=undefined){for(var I in B){if(this.sides[I]!==undefined){this.sides[I]=B[I]}}}this.sides.px&&K("z","y",-1,-1,s,H,L,A);this.sides.nx&&K("z","y",1,-1,s,H,-L,M);this.sides.py&&K("x","z",1,1,G,s,O,C);this.sides.ny&&K("x","z",1,-1,G,s,-O,N);this.sides.pz&&K("x","y",1,-1,G,H,i,D);this.sides.nz&&K("x","y",-1,-1,G,H,-i,Q);function K(r,t,af,y,o,p,a,q){var u,ab,ac,m=E||1,n=T||1,z=o/2,ad=p/2,x=S.vertices.length;if((r==="x"&&t==="y")||(r==="y"&&t==="x")){u="z"}else{if((r==="x"&&t==="z")||(r==="z"&&t==="x")){u="y";n=R||1}else{if((r==="z"&&t==="y")||(r==="y"&&t==="z")){u="x";m=R||1}}}var l=m+1,ae=n+1,b=o/m,j=p/n,c=new THREE.Vector3();c[u]=a>0?1:-1;for(ac=0;ac<ae;ac++){for(ab=0;ab<l;ab++){var aa=new THREE.Vector3();aa[r]=(ab*b-z)*af;aa[t]=(ac*j-ad)*y;aa[u]=a;S.vertices.push(aa)}}for(ac=0;ac<n;ac++){for(ab=0;ab<m;ab++){var d=ab+l*ac;var f=ab+l*(ac+1);var h=(ab+1)+l*(ac+1);var k=(ab+1)+l*ac;var v=new THREE.Face4(d+x,f+x,h+x,k+x);v.normal.copy(c);v.vertexNormals.push(c.clone(),c.clone(),c.clone(),c.clone());v.materialIndex=q;S.faces.push(v);S.faceVertexUvs[0].push([new THREE.UV(ab/m,ac/n),new THREE.UV(ab/m,(ac+1)/n),new THREE.UV((ab+1)/m,(ac+1)/n),new THREE.UV((ab+1)/m,ac/n)])}}}this.computeCentroids();this.mergeVertices()};THREE.CubeGeometry.prototype=new THREE.Geometry();THREE.CubeGeometry.prototype.constructor=THREE.CubeGeometry;THREE.CylinderGeometry=function(ai,u,aa,ao,at,y){THREE.Geometry.call(this);ai=ai!==undefined?ai:20;u=u!==undefined?u:20;aa=aa!==undefined?aa:100;var W=aa/2;var X=ao||8;var ab=at||1;var Z,ac,am=[],Y=[];for(ac=0;ac<=ab;ac++){var ae=[];var v=[];var S=ac/ab;var an=S*(u-ai)+ai;for(Z=0;Z<=X;Z++){var ag=Z/X;var R=new THREE.Vector3();R.x=an*Math.sin(ag*Math.PI*2);R.y=-S*aa+W;R.z=an*Math.cos(ag*Math.PI*2);this.vertices.push(R);ae.push(this.vertices.length-1);v.push(new THREE.UV(ag,S))}am.push(ae);Y.push(v)}var U=(u-ai)/aa;var af,aj;for(Z=0;Z<X;Z++){if(ai!==0){af=this.vertices[am[0][Z]].clone();aj=this.vertices[am[0][Z+1]].clone()}else{af=this.vertices[am[1][Z]].clone();aj=this.vertices[am[1][Z+1]].clone()}af.setY(Math.sqrt(af.x*af.x+af.z*af.z)*U).normalize();aj.setY(Math.sqrt(aj.x*aj.x+aj.z*aj.z)*U).normalize();for(ac=0;ac<ab;ac++){var ap=am[ac][Z];var aq=am[ac+1][Z];var ar=am[ac+1][Z+1];var au=am[ac][Z+1];var ad=af.clone();var ah=af.clone();var ak=aj.clone();var al=aj.clone();var x=Y[ac][Z].clone();var Q=Y[ac+1][Z].clone();var T=Y[ac+1][Z+1].clone();var V=Y[ac][Z+1].clone();this.faces.push(new THREE.Face4(ap,aq,ar,au,[ad,ah,ak,al]));this.faceVertexUvs[0].push([x,Q,T,V])}}if(!y&&ai>0){this.vertices.push(new THREE.Vector3(0,W,0));for(Z=0;Z<X;Z++){var ap=am[0][Z];var aq=am[0][Z+1];var ar=this.vertices.length-1;var ad=new THREE.Vector3(0,1,0);var ah=new THREE.Vector3(0,1,0);var ak=new THREE.Vector3(0,1,0);var x=Y[0][Z].clone();var Q=Y[0][Z+1].clone();var T=new THREE.UV(Q.u,0);this.faces.push(new THREE.Face3(ap,aq,ar,[ad,ah,ak]));this.faceVertexUvs[0].push([x,Q,T])}}if(!y&&u>0){this.vertices.push(new THREE.Vector3(0,-W,0));for(Z=0;Z<X;Z++){var ap=am[ac][Z+1];var aq=am[ac][Z];var ar=this.vertices.length-1;var ad=new THREE.Vector3(0,-1,0);var ah=new THREE.Vector3(0,-1,0);var ak=new THREE.Vector3(0,-1,0);var x=Y[ac][Z+1].clone();var Q=Y[ac][Z].clone();var T=new THREE.UV(Q.u,1);this.faces.push(new THREE.Face3(ap,aq,ar,[ad,ah,ak]));this.faceVertexUvs[0].push([x,Q,T])}}this.computeCentroids();this.computeFaceNormals()};THREE.CylinderGeometry.prototype=new THREE.Geometry();THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry;THREE.PlaneGeometry=function(M,G,z,V){THREE.Geometry.call(this);var T,U,S=M/2,d=G/2,H=z||1,K=V||1,x=H+1,N=K+1,F=M/H,R=G/K,I=new THREE.Vector3(0,1,0);for(U=0;U<N;U++){for(T=0;T<x;T++){var O=T*F-S;var P=U*R-d;this.vertices.push(new THREE.Vector3(O,0,P))}}for(U=0;U<K;U++){for(T=0;T<H;T++){var L=T+x*U;var a=T+x*(U+1);var b=(T+1)+x*(U+1);var c=(T+1)+x*U;var Q=new THREE.Face4(L,a,b,c);Q.normal.copy(I);Q.vertexNormals.push(I.clone(),I.clone(),I.clone(),I.clone());this.faces.push(Q);this.faceVertexUvs[0].push([new THREE.UV(T/H,U/K),new THREE.UV(T/H,(U+1)/K),new THREE.UV((T+1)/H,(U+1)/K),new THREE.UV((T+1)/H,U/K)])}}this.computeCentroids()};THREE.PlaneGeometry.prototype=new THREE.Geometry();THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry;THREE.SphereGeometry=function(ag,O,ak,x,S,af,T){THREE.Geometry.call(this);ag=ag||50;x=x!==undefined?x:0;S=S!==undefined?S:Math.PI*2;af=af!==undefined?af:0;T=T!==undefined?T:Math.PI;var V=Math.max(3,Math.floor(O)||8);var X=Math.max(2,Math.floor(ak)||6);var Y,Z,ae=[],W=[];for(Z=0;Z<=X;Z++){var Q=[];var u=[];for(Y=0;Y<=V;Y++){var R=Y/V;var U=Z/X;var M=new THREE.Vector3();M.x=-ag*Math.cos(x+R*S)*Math.sin(af+U*T);M.y=ag*Math.cos(af+U*T);M.z=ag*Math.sin(x+R*S)*Math.sin(af+U*T);this.vertices.push(M);Q.push(this.vertices.length-1);u.push(new THREE.UV(R,U))}ae.push(Q);W.push(u)}for(Z=0;Z<X;Z++){for(Y=0;Y<V;Y++){var ah=ae[Z][Y+1];var ai=ae[Z][Y];var aj=ae[Z+1][Y];var al=ae[Z+1][Y+1];var aa=this.vertices[ah].clone().normalize();var ab=this.vertices[ai].clone().normalize();var ac=this.vertices[aj].clone().normalize();var ad=this.vertices[al].clone().normalize();var v=W[Z][Y+1].clone();var y=W[Z][Y].clone();var N=W[Z+1][Y].clone();var P=W[Z+1][Y+1].clone();if(Math.abs(this.vertices[ah].y)==ag){this.faces.push(new THREE.Face3(ah,aj,al,[aa,ac,ad]));this.faceVertexUvs[0].push([v,N,P])}else{if(Math.abs(this.vertices[aj].y)==ag){this.faces.push(new THREE.Face3(ah,ai,aj,[aa,ab,ac]));this.faceVertexUvs[0].push([v,y,N])}else{this.faces.push(new THREE.Face4(ah,ai,aj,al,[aa,ab,ac,ad]));this.faceVertexUvs[0].push([v,y,N,P])}}}}this.computeCentroids();this.computeFaceNormals();this.boundingSphere={radius:ag}};THREE.SphereGeometry.prototype=new THREE.Geometry();THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry;THREE.PolyhedronGeometry=function(p,B,u,x){THREE.Geometry.call(this);u=u||1;x=x||0;var v=this;for(var z=0,A=p.length;z<A;z++){i(new THREE.Vector3(p[z][0],p[z][1],p[z][2]))}var y=[],C=this.vertices;for(var z=0,A=B.length;z<A;z++){D(C[B[z][0]],C[B[z][1]],C[B[z][2]],x)}this.mergeVertices();for(var z=0,A=this.vertices.length;z<A;z++){this.vertices[z].multiplyScalar(u)}function i(c){var a=c.normalize().clone();a.index=v.vertices.push(a)-1;var d=F(c)/2/Math.PI+0.5;var b=l(c)/Math.PI+0.5;a.uv=new THREE.UV(d,b);return a}function D(a,c,d,b){if(b<1){var h=new THREE.Face3(a.index,c.index,d.index,[a.clone(),c.clone(),d.clone()]);h.centroid.addSelf(a).addSelf(c).addSelf(d).divideScalar(3);h.normal=h.centroid.clone().normalize();v.faces.push(h);var f=F(h.centroid);v.faceVertexUvs[0].push([E(a.uv,a,f),E(c.uv,c,f),E(d.uv,d,f)])}else{b-=1;D(a,G(a,c),G(a,d),b);D(G(a,c),c,G(c,d),b);D(G(a,d),G(c,d),d,b);D(G(a,c),G(c,d),G(a,d),b)}}function G(c,a){if(!y[c.index]){y[c.index]=[]}if(!y[a.index]){y[a.index]=[]}var b=y[c.index][a.index];if(b===undefined){y[c.index][a.index]=y[a.index][c.index]=b=i(new THREE.Vector3().add(c,a).divideScalar(2))}return b}function F(a){return Math.atan2(a.z,-a.x)}function l(a){return Math.atan2(-a.y,Math.sqrt((a.x*a.x)+(a.z*a.z)))}function E(a,b,c){if((c<0)&&(a.u===1)){a=new THREE.UV(a.u-1,a.v)}if((b.x===0)&&(b.z===0)){a=new THREE.UV(c/2/Math.PI+0.5,a.v)}return a}this.computeCentroids();this.boundingSphere={radius:u}};THREE.PolyhedronGeometry.prototype=new THREE.Geometry();THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry;THREE.IcosahedronGeometry=function(h,j){var k=(1+Math.sqrt(5))/2;var l=[[-1,k,0],[1,k,0],[-1,-k,0],[1,-k,0],[0,-1,k],[0,1,k],[0,-1,-k],[0,1,-k],[k,0,-1],[k,0,1],[-k,0,-1],[-k,0,1]];var i=[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]];THREE.PolyhedronGeometry.call(this,l,i,h,j)};THREE.IcosahedronGeometry.prototype=new THREE.Geometry();THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry;(function(b){b.ShaderLib.lambert.fragmentShader=b.ShaderLib.lambert.fragmentShader.replace("gl_FrontFacing","true");b.ShaderLib.lambert.vertexShader=b.ShaderLib.lambert.vertexShader.replace(/\}$/,"#ifdef DOUBLE_SIDED\n if (transformedNormal.z < 0.0) vLightFront = vLightBack;\n #endif\n }")})(THREE);(function(b){b._Canvas3D=function(h,j,a,i){this._uniqueId=(""+Math.random()).substring(3);this._id=h;this._is2D=false;this._isJava=false;this._jmolType="Jmol._Canvas3D (Jmol/GLmol)";this._platform="J.awtjs.Platform";if(i){return this}window[h]=this;this._createCanvas(h,j,new b.GLmol);if(!b._document||this._deferApplet){return this}this._init();return this};b.GLmol=function(){return this};(function(a){a.extendApplet=function(d){d._refresh=function(){if(!this._applet){return}var r=this._applet.getGLmolView();var c=this._GLmol;var p=c.rotationGroup;if(!p){return}var n=c.modelGroup;var q=r.quaternion;p.quaternion=new THREE.Quaternion(-q.q3,-q.q0,q.q1,q.q2);var o=r.scale;p.position.z=c.CAMERA_Z+(r.cameraDistance+r.pixelCount*0.5)/o;n.position.x=-r.center.x;n.position.y=-r.center.y;n.position.z=-r.center.z;if(r.perspective){c.camera=c.perspectiveCamera;c.camera.fov=c.fov}else{c.camera=c.orthoscopicCamera;c.camera.right=r.width*0.5/o;c.camera.left=-c.camera.right;c.camera.top=r.height*0.5/o;c.camera.bottom=-c.camera.top}c.camera.updateProjectionMatrix();var m=this;requestAnimationFrame(function(){m._GLmol.show()})};return d};a.extendJSExporter=function(d){d.jsInitExport=function(c){c._GLmol.initializeJmolExport()};d.jsSphere=function(n,c,m,l,k){n._GLmol.addJmolSphere(l,k[0],k[1])};d.jsCylinder=function(p,c,o,l,n,m){p._GLmol.addJmolCylinder(l,n,m[0],m[1],m[2])};d.jsTriangle=function(m,n,c,k,l){m._GLmol.addJmolTriangle(n,c,k,l)};d.jsEndExport=function(c){c._GLmol.finalizeJmolExport();c._refresh()};d.jsSurface=function(V,T,N,W,U,R,M,K,X,c,L,k){var m={};if(L!=null){m.vertexColors=THREE.VertexColors;var Z=new Array(L.length);for(var S=L.length;--S>=0;){Z[S]=new THREE.Color(L[S])}}else{if(k!=null){m.vertexColors=THREE.FaceColors}else{m.color=c}}var i=new THREE.Geometry();for(var S=0;S<U;S++){i.vertices.push(new THREE.Vector3(T[S].x,T[S].y,T[S].z))}for(var S=0;S<R;S++){var Q=W[S][0],f=W[S][1],h=W[S][2];var l=W[S][3];var Y=(X==3||W[S].length==3);var P=(Y?new THREE.Face3(Q,f,h):new THREE.Face4(Q,f,h,l));P.vertexNormals[0]=N[Q];P.vertexNormals[1]=N[f];P.vertexNormals[2]=N[h];if(Y){if(L!=null){P.vertexColors=[Z[Q],Z[f],Z[h]]}}else{P.vertexNormals[3]=N[l]}if(k!=null){P.color=new THREE.Color(k[S])}i.faces.push(P)}var O=new THREE.Mesh(i,new THREE.MeshLambertMaterial(m));O.doubleSided=true;V._GLmol.modelGroup.add(O)}};a.getMat=function(f,h){if(!f._mat||f._matColor!=h){f._matColor=h;f._mat=new THREE.MeshLambertMaterial({color:h,specular:16777215})}return f._mat};a.setPt=function(f,h){f.x=h.x;f.y=h.y;f.z=h.z};(function(d){d.create=function(){this.container=b.$(this.applet,"appletdiv");this.WIDTH=this.container.width(),this.HEIGHT=this.container.height();this.ASPECT=this.WIDTH/this.HEIGHT;this.NEAR=1,FAR=800;this.CAMERA_Z=-150;this.applet.aaScale=2;this.renderer=new THREE.WebGLRenderer({antialias:true});var h=this.renderer.domElement;h.width=this.container.width();h.height=this.container.height();h.applet=this.applet;b._jsSetMouse(h);this.applet._canvas=h;h.style.width="100%";h.style.height="100%";h.id=this.id+"_canvas";this.container.append(h);this.renderer.setSize(this.WIDTH*this.applet.aaScale,this.HEIGHT*this.applet.aaScale);this.renderer.sortObjects=false;this.camera=new THREE.PerspectiveCamera(16.26,this.ASPECT,1,800);this.camera.position=new THREE.Vector3(0,0,this.CAMERA_Z);this.camera.lookAt(new THREE.Vector3(0,0,0));this.perspectiveCamera=this.camera;this.orthoscopicCamera=new THREE.OrthographicCamera();this.orthoscopicCamera.position.z=this.CAMERA_Z;this.orthoscopicCamera.lookAt(new THREE.Vector3(0,0,0));var c=this;b.$resize(function(){c.WIDTH=c.container.width();c.HEIGHT=c.container.height();c.ASPECT=c.WIDTH/c.HEIGHT;c.renderer.setSize(c.WIDTH,c.HEIGHT);c.camera.aspect=c.ASPECT;c.camera.updateProjectionMatrix();c.show()});this.scene=null;this.rotationGroup=null;this.modelGroup=null;this.bgColor=0;this.fov=16.26;this.fogStart=0.4;this.slabNear=-50;this.slabFar=50;this.sphereQuality=16;this.cylinderQuality=16};d.getView=function(){if(!this.modelGroup){return[0,0,0,0,0,0,0,1]}var c=this.modelGroup.position;var h=this.rotationGroup.quaternion;return[c.x,c.y,c.z,this.rotationGroup.position.z,h.x,h.y,h.z,h.w]};d.setView=function(c){if(!this.modelGroup||!this.rotationGroup){return}this.modelGroup.position.x=c[0];this.modelGroup.position.y=c[1];this.modelGroup.position.z=c[2];this.rotationGroup.position.z=c[3];this.rotationGroup.quaternion.x=c[4];this.rotationGroup.quaternion.y=c[5];this.rotationGroup.quaternion.z=c[6];this.rotationGroup.quaternion.w=c[7];this.show()};d.setBackground=function(c,h){h=h|1;this.bgColor=c;this.renderer.setClearColorHex(c,h);this.scene.fog.color=new THREE.Color(c)};d.setupLights=function(c){var i=new THREE.DirectionalLight(16777215);i.position=new THREE.Vector3(1,1,-2.5).normalize();i.intensity=1;c.add(i);var j=new THREE.AmbientLight(1052688);c.add(j)};d.setSlabAndFog=function(){var c=this.rotationGroup.position.z-this.camera.position.z;if(c<1){c=1}this.camera.near=c+this.slabNear;if(this.camera.near<1){this.camera.near=1}this.camera.far=c+this.slabFar;if(this.camera.near+1>this.camera.far){this.camera.far=this.camera.near+1}this.scene.fog.near=this.camera.near+this.fogStart*(this.camera.far-this.camera.near);this.scene.fog.far=this.camera.far;this.camera.updateProjectionMatrix()};d.initializeScene=function(){this.scene=new THREE.Scene();this.scene.fog=new THREE.Fog(this.bgColor,100,200);this.modelGroup=new THREE.Object3D();this.rotationGroup=new THREE.Object3D();this.rotationGroup.useQuaternion=true;this.rotationGroup.quaternion=new THREE.Quaternion(0,-1,0,0);this.rotationGroup.add(this.modelGroup);this.scene.add(this.rotationGroup);this.setupLights(this.scene)};d.show=function(){if(!this.scene){return}var c=new Date();this.setSlabAndFog();this.renderer.render(this.scene,this.camera)};d.initializeJmolExport=function(){this._view=this.getView();this.initializeScene();this.tpt1=new THREE.Vector3();this.tpt2=new THREE.Vector3();this._m=new THREE.Matrix4();this._geoTriangles=null;if(!this.sphereGeometry){this.sphereGeometry=new THREE.SphereGeometry(1,this.sphereQuality,this.sphereQuality);this.sphereGeometry0=new THREE.SphereGeometry(1,this.sphereQuality/4,this.sphereQuality/4);var c=this.cylinderGeometry={};c.c=new THREE.CylinderGeometry(1,1,1,this.cylinderQuality,1,true);c.c.faceUvs=[];c.c.faceVertexUvs=[];c.c0=new THREE.CylinderGeometry(1,1,1,this.cylinderQuality/4,1,true);c.c0.faceUvs=[];c.c0.faceVertexUvs=[];c.n=new THREE.CylinderGeometry(1,1,1,this.cylinderQuality,1,false);c.n.faceUvs=[];c.n.faceVertexUvs=[];c.n0=new THREE.CylinderGeometry(1,1,1,this.cylinderQuality/4,1,false);c.n0.faceUvs=[];c.n0.faceVertexUvs=[]}};d.drawSphere=function(c,m,p,r){var n=(r<0.05);var o=(n?this.sphereGeometry0:this.sphereGeometry);var q=new THREE.Mesh(o,a.getMat(this,p));c.add(q);q.scale.x=q.scale.y=q.scale.z=r;q.position.x=m.x;q.position.y=m.y;q.position.z=m.z};d.addJmolSphere=function(c,i,j){this.drawSphere(this.modelGroup,c,i,j)};d.addJmolCylinder=function(c,k,m,l,n){a.setPt(this.tpt1,c);a.setPt(this.tpt2,k);this.drawCylinder(this.modelGroup,this.tpt1,this.tpt2,0+n,m,true)};d.addJmolTriangle=function(r,f,n,p){var o=this._geoTriangles;if(!o){o=this._geoTriangles=new THREE.Geometry()}var c=o.vertices.length;o.vertices.push(new THREE.Vector3(f.x,f.y,f.z));o.vertices.push(new THREE.Vector3(n.x,n.y,n.z));o.vertices.push(new THREE.Vector3(p.x,p.y,p.z));var q=new THREE.Face3(c,c+1,c+2,null,new THREE.Color(r));o.faces.push(q)};d.finalizeJmolExport=function(){if(this._geoTriangles){var i=this._geoTriangles;i.computeFaceNormals();var c={vertexColors:THREE.FaceColors};var j=new THREE.Mesh(i,new THREE.MeshLambertMaterial(c));j.doubleSided=true;this.modelGroup.add(j)}this.setView(this._view)};d.drawCylinder=function(o,q,p,t,u,c){if(!q||!p){return}midpoint=new THREE.Vector3().add(q,p).multiplyScalar(0.5);var v=(t<0.05);var r=this.cylinderGeometry[(c?"c":"n")+(v?"0":"")];var s=new THREE.Mesh(r,a.getMat(this,u));s.position=midpoint;s.lookAt(q);s.updateMatrix();s.matrixAutoUpdate=false;s.matrix.multiplySelf(this._m.makeScale(t,t,q.distanceTo(p)).rotateX(Math.PI/2));o.add(s)}})(a.prototype)})(b.GLmol)})(Jmol);
/*! jQuery v1.11.3 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */
;!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(c){if(!c.document){throw new Error("jQuery requires a window with a document")}return b(c)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.3",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b="length" in a&&a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k){return d}if(!e&&p){if(11!==k&&(f=_.exec(a))){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName){return H.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+ra(o[l])}w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x){try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return la(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=ma(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=na(b)}function qa(){}qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?ga.error(a):z(a,i).slice(0)};function ra(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function ta(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++){ga(a,b[d],c)}return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=va(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[sa(ta(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=F.call(i))}}s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}return h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=xa(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function aa(){return !0}function ba(){return !1}function ca(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ca()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===ca()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?aa:ba):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=aa,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=aa,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=aa,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=ba}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=ba),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function da(a){var b=ea.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var ea="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fa=/ jQuery\d+="(?:null|\d+)"/g,ga=new RegExp("<(?:"+ea+")[\\s/>]","i"),ha=/^\s+/,ia=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ja=/<([\w:]+)/,ka=/<tbody/i,la=/<|&#?\w+;/,ma=/<(?:script|style|link)/i,na=/checked\s*(?:[^=]|=\s*.checked.)/i,oa=/^$|\/(?:java|ecma)script/i,pa=/^true\/(.*)/,qa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ra={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sa=da(y),ta=sa.appendChild(y.createElement("div"));ra.optgroup=ra.option,ra.tbody=ra.tfoot=ra.colgroup=ra.caption=ra.thead,ra.th=ra.td;function ua(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ua(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function va(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wa(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xa(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function ya(a){var b=pa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function za(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Aa(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Ba(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xa(b).text=a.text,ya(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!ga.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ta.innerHTML=a.outerHTML,ta.removeChild(f=ta.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ua(f),h=ua(a),g=0;null!=(e=h[g]);++g){d[g]&&Ba(e,d[g])}}if(b){if(c){for(h=h||ua(a),d=d||ua(f),g=0;null!=(e=h[g]);g++){Aa(e,d[g])}}else{Aa(a,f)}}return d=ua(f,"script"),d.length>0&&za(d,!i&&ua(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=da(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(la.test(f)){h=h||o.appendChild(b.createElement("div")),i=(ja.exec(f)||["",""])[1].toLowerCase(),l=ra[i]||ra._default,h.innerHTML=l[1]+f.replace(ia,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&ha.test(f)&&p.push(b.createTextNode(ha.exec(f)[0])),!k.tbody){f="table"!==i||ka.test(f)?"<table>"!==l[1]||ka.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ua(p,"input"),va),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ua(o.appendChild(f),"script"),g&&za(h),c)){e=0;while(f=h[e++]){oa.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ua(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&za(ua(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ua(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fa,""):void 0}if(!("string"!=typeof a||ma.test(a)||!k.htmlSerialize&&ga.test(a)||!k.leadingWhitespace&&ha.test(a)||ra[(ja.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ia,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ua(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ua(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&na.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ua(i,"script"),xa),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ua(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,ya),j=0;f>j;j++){d=g[j],oa.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qa,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Ca,Da={};function Ea(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fa(a){var b=y,c=Da[a];return c||(c=Ea(a,b),"none"!==c&&c||(Ca=(Ca||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Ca[0].contentWindow||Ca[0].contentDocument).document,b.write(),b.close(),c=Ea(a,b),Ca.detach()),Da[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Ga=/^margin/,Ha=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ia,Ja,Ka=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ia=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Ha.test(g)&&Ga.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ia=function(a){return a.currentStyle},Ja=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ia(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ha.test(g)&&!Ka.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function La(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Ma=/alpha\([^)]*\)/i,Na=/opacity\s*=\s*([^)]*)/,Oa=/^(none|table(?!-c[ea]).+)/,Pa=new RegExp("^("+S+")(.*)$","i"),Qa=new RegExp("^([+-])=("+S+")","i"),Ra={position:"absolute",visibility:"hidden",display:"block"},Sa={letterSpacing:"0",fontWeight:"400"},Ta=["Webkit","O","Moz","ms"];function Ua(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ta.length;while(e--){if(b=Ta[e]+c,b in a){return b}}return d}function Va(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fa(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wa(a,b,c){var d=Pa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Ya(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ia(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Ja(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ha.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xa(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Ja(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ua(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qa.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ua(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Ja(a,b,d)),"normal"===f&&b in Sa&&(f=Sa[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Oa.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Ra,function(){return Ya(a,b,d)}):Ya(a,b,d):void 0},set:function(a,c,d){var e=d&&Ia(a);return Wa(a,c,d?Xa(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Na.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Ma,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Ma.test(f)?f.replace(Ma,e):f+" "+e)}}),m.cssHooks.marginRight=La(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Ja,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Ga.test(a)||(m.cssHooks[a+b].set=Wa)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ia(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Va(this,!0)},hide:function(){return Va(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Za(a,b,c,d,e){return new Za.prototype.init(a,b,c,d,e)}m.Tween=Za,Za.prototype={constructor:Za,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Za.propHooks[this.prop];return a&&a.get?a.get(this):Za.propHooks._default.get(this)},run:function(a){var b,c=Za.propHooks[this.prop];return this.options.duration?this.pos=b=m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Za.propHooks._default.set(this),this}},Za.prototype.init.prototype=Za.prototype,Za.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Za.propHooks.scrollTop=Za.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Za.prototype.init,m.fx.step={};var $a,_a,ab=/^(?:toggle|show|hide)$/,bb=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cb=/queueHooks$/,db=[ib],eb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bb.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bb.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fb(){return setTimeout(function(){$a=void 0}),$a=m.now()}function gb(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hb(a,b,c){for(var d,e=(eb[b]||[]).concat(eb["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ib(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fa(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fa(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ab.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fa(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hb(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jb(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kb(a,b,c){var d,e,f=0,g=db.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$a||fb(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$a||fb(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jb(k,j.opts.specialEasing);g>f;f++){if(d=db[f].call(j,a,k,j.opts)){return d}}return m.map(k,hb,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kb,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],eb[c]=eb[c]||[],eb[c].unshift(b)}},prefilter:function(a,b){b?db.unshift(a):db.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kb(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cb.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gb(b,!0),a,d,e)}}),m.each({slideDown:gb("show"),slideUp:gb("hide"),slideToggle:gb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($a=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$a=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_a||(_a=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_a),_a=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lb=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lb,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mb,nb,ob=m.expr.attrHandle,pb=/^(?:checked|selected)$/i,qb=k.getSetAttribute,rb=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nb:mb)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rb&&qb||!pb.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qb?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nb={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rb&&qb||!pb.test(c)?a.setAttribute(!qb&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=ob[b]||m.find.attr;ob[b]=rb&&qb||!pb.test(b)?function(a,b,d){var e,f;return d||(f=ob[b],ob[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,ob[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rb&&qb||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mb&&mb.set(a,b,c)}}),qb||(mb={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},ob.id=ob.name=ob.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mb.set},m.attrHooks.contenteditable={set:function(a,b,c){mb.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sb=/^(?:input|select|textarea|button|object)$/i,tb=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sb.test(a.nodeName)||tb.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var ub=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ub," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ub," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vb=m.now(),wb=/\?/,xb=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xb,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yb,zb,Ab=/#.*$/,Bb=/([?&])_=[^&]*/,Cb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Db=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Eb=/^(?:GET|HEAD)$/,Fb=/^\/\//,Gb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hb={},Ib={},Jb="*/".concat("*");try{zb=location.href}catch(Kb){zb=y.createElement("a"),zb.href="",zb=zb.href}yb=Gb.exec(zb.toLowerCase())||[];function Lb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mb(a,b,c,d){var e={},f=a===Ib;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nb(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Ob(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pb(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zb,type:"GET",isLocal:Db.test(yb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nb(Nb(a,m.ajaxSettings),b):Nb(m.ajaxSettings,a)},ajaxPrefilter:Lb(Hb),ajaxTransport:Lb(Ib),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cb.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zb)+"").replace(Ab,"").replace(Fb,yb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gb.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yb[1]&&c[2]===yb[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yb[3]||("http:"===yb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mb(Hb,k,b,v),2===t){return v}h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Eb.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wb.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bb.test(e)?e.replace(Bb,"$1_="+vb++):e+(wb.test(e)?"&":"?")+"_="+vb++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jb+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mb(Ib,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Ob(k,v,c)),u=Pb(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qb=/%20/g,Rb=/\[\]$/,Sb=/\r?\n/g,Tb=/^(?:submit|button|image|reset|file)$/i,Ub=/^(?:input|select|textarea|keygen)/i;function Vb(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rb.test(a)?d(a,e):Vb(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vb(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vb(c,a[c],b,e)}}return d.join("&").replace(Qb,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Ub.test(this.nodeName)&&!Tb.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sb,"\r\n")}}):{name:b.name,value:c.replace(Sb,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zb()||$b()}:Zb;var Wb=0,Xb={},Yb=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xb){Xb[a](void 0,!0)}}),k.cors=!!Yb&&"withCredentials" in Yb,Yb=k.ajax=!!Yb,Yb&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xb[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xb[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zb(){try{return new a.XMLHttpRequest}catch(b){}}function $b(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _b=[],ac=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_b.pop()||m.expando+"_"+vb++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ac.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ac.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ac,"$1"+e):b.jsonp!==!1&&(b.url+=(wb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_b.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bc=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bc){return bc.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cc=a.document.documentElement;function dc(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dc(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cc;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cc})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dc(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=La(k.pixelPosition,function(a,c){return c?(c=Ja(a,b),Ha.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ec=a.jQuery,fc=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fc),b&&a.jQuery===m&&(a.jQuery=ec),m},typeof b===K&&(a.jQuery=a.$=m),m});(function(b){b.fn.splitter=function(a){a=a||{};return this.each(function(){var x;function C(c){if(I.outline){x=x||y.clone(false).insertAfter(E)}v.css("-webkit-user-select","none");y.addClass(I.activeClass);E._posSplit=E[0][I.pxSplit]-c[I.eventPos];b(document).bind("mousemove",A).bind("mouseup",L)}function A(d){var c=E._posSplit+d[I.eventPos];if(I.outline){c=Math.max(0,Math.min(c,H._DA-y._DA));y.css(I.origin,c)}else{z(c)}}function L(d){y.removeClass(I.activeClass);var c=E._posSplit+d[I.eventPos];if(I.outline){x.remove();x=null;z(c)}v.css("-webkit-user-select","text");b(document).unbind("mousemove",A).unbind("mouseup",L)}function z(c){c=Math.max(E._min,H._DA-F._max,Math.min(c,E._max,H._DA-y._DA-F._min));y._DA=y[0][I.pxSplit];y.css(I.origin,c).css(I.fixed,H._DF);E.css(I.origin,0).css(I.split,c).css(I.fixed,H._DF);F.css(I.origin,c+y._DA).css(I.split,H._DA-y._DA-c).css(I.fixed,H._DF);if(!b.browser.msie){v.trigger("resize")}}function u(h,c){var d=0;for(var f=1;f<arguments.length;f++){d+=Math.max(parseInt(h.css(arguments[f]))||0,0)}return d}var B=(a.splitHorizontal?"h":a.splitVertical?"v":a.type)||"v";var I=b.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[B],a);var H=b(this).css({position:"relative"});var v=b(">*",H[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"});var E=b(v[0]);var F=b(v[1]);var G=b('<a href="javascript:void(0)"></a>').attr({accessKey:I.accessKey,tabIndex:I.tabIndex,title:I.splitbarClass}).bind(b.browser.opera?"click":"focus",function(){this.focus();y.addClass(I.activeClass)}).bind("keydown",function(c){var d=c.which||c.keyCode;var f=d==I["key"+I.side1]?1:d==I["key"+I.side2]?-1:0;if(f){z(E[0][I.pxSplit]+f*I.pxPerKey,false)}}).bind("blur",function(){y.removeClass(I.activeClass)});var y=b(v[2]||"<div></div>").insertAfter(E).css("z-index","100").append(G).attr({"class":I.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",C);if(/^(auto|default|)$/.test(y.css("cursor"))){y.css("cursor",I.cursor)}y._DA=y[0][I.pxSplit];H._PBF=b.boxModel?u(H,"border"+I.side3+"Width","border"+I.side4+"Width"):0;H._PBA=b.boxModel?u(H,"border"+I.side1+"Width","border"+I.side2+"Width"):0;E._pane=I.side1;F._pane=I.side2;b.each([E,F],function(){this._min=I["min"+this._pane]||u(this,"min-"+I.split);this._max=I["max"+this._pane]||u(this,"max-"+I.split)||9999;this._init=I["size"+this._pane]===true?parseInt(b.curCSS(this[0],I.split)):I["size"+this._pane]});var K=E._init;if(!isNaN(F._init)){K=H[0][I.pxSplit]-H._PBA-F._init-y._DA}if(I.cookie){if(!b.cookie){alert("jQuery.splitter(): jQuery cookie plugin required")}var D=parseInt(b.cookie(I.cookie));if(!isNaN(D)){K=D}b(window).bind("unload",function(){var c=String(y.css(I.origin));b.cookie(I.cookie,c,{expires:I.cookieExpires||365,path:I.cookiePath||document.location.pathname})})}if(isNaN(K)){K=Math.round((H[0][I.pxSplit]-H._PBA-y._DA)/2)}if(I.anchorToWindow){H._hadjust=u(H,"borderTopWidth","borderBottomWidth","marginBottom");H._hmin=Math.max(u(H,"minHeight"),20);b(window).bind("resize",function(){var c=H.offset().top;var d=b(window).height();H.css("height",Math.max(d-c-H._hadjust,H._hmin)+"px");if(!b.browser.msie){H.trigger("resize")}}).trigger("resize")}else{if(I.resizeToWidth&&!b.browser.msie){b(window).bind("resize",function(){H.trigger("resize")})}}H.bind("resize",function(c,d){if(c.target!=this){return}H._DF=H[0][I.pxFixed]-H._PBF;H._DA=H[0][I.pxSplit]-H._PBA;if(H._DF<=0||H._DA<=0){return}z(!isNaN(d)?d:(!(I.sizeRight||I.sizeBottom)?E[0][I.pxSplit]:H._DA-F[0][I.pxSplit]-y._DA))}).trigger("resize",[K])})}})(jQuery);!function(f){var i,j,k="0.4.2",l="hasOwnProperty",m=/[\.\/]/,B=/\s*,\s*/,C="*",a=function(n,o){return n-o},b={n:{}},c=function(){for(var n=0,o=this.length;o>n;n++){if("undefined"!=typeof this[n]){return this[n]}}},d=function(){for(var n=this.length;--n;){if("undefined"!=typeof this[n]){return this[n]}}},h=function(y,z){y=String(y);var A,n=j,o=Array.prototype.slice.call(arguments,2),p=h.listeners(y),q=0,r=[],s={},t=[],u=i;t.firstDefined=c,t.lastDefined=d,i=y,j=0;for(var v=0,x=p.length;x>v;v++){"zIndex" in p[v]&&(r.push(p[v].zIndex),p[v].zIndex<0&&(s[p[v].zIndex]=p[v]))}for(r.sort(a);r[q]<0;){if(A=s[r[q++]],t.push(A.apply(z,o)),j){return j=n,t}}for(v=0;x>v;v++){if(A=p[v],"zIndex" in A){if(A.zIndex==r[q]){if(t.push(A.apply(z,o)),j){break}do{if(q++,A=s[r[q]],A&&t.push(A.apply(z,o)),j){break}}while(A)}else{s[A.zIndex]=A}}else{if(t.push(A.apply(z,o)),j){break}}}return j=n,i=u,t};h._events=b,h.listeners=function(t){var u,v,x,y,z,A,n,o,p=t.split(m),q=b,r=[q],s=[];for(y=0,z=p.length;z>y;y++){for(o=[],A=0,n=r.length;n>A;A++){for(q=r[A].n,v=[q[p[y]],q[C]],x=2;x--;){u=v[x],u&&(o.push(u),s=s.concat(u.f||[]))}}r=o}return s},h.on=function(q,r){if(q=String(q),"function"!=typeof r){return function(){}}for(var n=q.split(B),o=0,p=n.length;p>o;o++){!function(t){for(var v,x=t.split(m),y=b,s=0,u=x.length;u>s;s++){y=y.n,y=y.hasOwnProperty(x[s])&&y[x[s]]||(y[x[s]]={n:{}})}for(y.f=y.f||[],s=0,u=y.f.length;u>s;s++){if(y.f[s]==r){v=!0;break}}!v&&y.f.push(r)}(n[o])}return function(s){+s==+s&&(r.zIndex=+s)}},h.f=function(n){var o=[].slice.call(arguments,1);return function(){h.apply(null,[n,null].concat(o).concat([].slice.call(arguments,0)))}},h.stop=function(){j=1},h.nt=function(n){return n?new RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(i):i},h.nts=function(){return i.split(m)},h.off=h.unbind=function(u,v){if(!u){return void (h._events=b={n:{}})}var x=u.split(B);if(x.length>1){for(var y=0,z=x.length;z>y;y++){h.off(x[y],v)}}else{x=u.split(m);var n,o,p,y,z,q,r,s=[b];for(y=0,z=x.length;z>y;y++){for(q=0;q<s.length;q+=p.length-2){if(p=[q,1],n=s[q].n,x[y]!=C){n[x[y]]&&p.push(n[x[y]])}else{for(o in n){n[l](o)&&p.push(n[o])}}s.splice.apply(s,p)}}for(y=0,z=s.length;z>y;y++){for(n=s[y];n.n;){if(v){if(n.f){for(q=0,r=n.f.length;r>q;q++){if(n.f[q]==v){n.f.splice(q,1);break}}!n.f.length&&delete n.f}for(o in n.n){if(n.n[l](o)&&n.n[o].f){var t=n.n[o].f;for(q=0,r=t.length;r>q;q++){if(t[q]==v){t.splice(q,1);break}}!t.length&&delete n.n[o].f}}}else{delete n.f;for(o in n.n){n.n[l](o)&&n.n[o].f&&delete n.n[o].f}}n=n.n}}}},h.once=function(o,p){var n=function(){return h.unbind(o,n),p.apply(this,arguments)};return h.on(o,n)},h.version=k,h.toString=function(){return"You are running Eve "+k},"undefined"!=typeof module&&module.exports?module.exports=h:"function"==typeof define&&define.amd?define("eve",[],function(){return h}):f.eve=h}(this),function(b,c){if("function"==typeof define&&define.amd){define(["eve"],function(d){return c(b,d)})}else{if("undefined"!=typeof exports){var a=require("eve");module.exports=c(b,a)}else{c(b,b.eve)}}}(window||this,function(c,d){var a=function(o){var q={},K=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame||c.oRequestAnimationFrame||c.msRequestAnimationFrame||function(s){setTimeout(s,16)},M=Array.isArray||function(s){return s instanceof Array||"[object Array]"==Object.prototype.toString.call(s)},O=0,f="M"+(+new Date).toString(36),h=function(){return f+(O++).toString(36)},i=Date.now||function(){return +new Date},j=function(t){var u=this;if(null==t){return u.s}var s=u.s-t;u.b+=u.dur*s,u.B+=u.dur*s,u.s=t},k=function(s){var t=this;return null==s?t.spd:void (t.spd=s)},l=function(s){var t=this;return null==s?t.dur:(t.s=t.s*s/t.dur,void (t.dur=s))},n=function(){var s=this;delete q[s.id],s.update(),o("mina.stop."+s.id,s)},p=function(){var s=this;s.pdif||(delete q[s.id],s.update(),s.pdif=s.get()-s.b)},r=function(){var s=this;s.pdif&&(s.b=s.get()-s.pdif,delete s.pdif,q[s.id]=s)},L=function(){var t,u=this;if(M(u.start)){t=[];for(var v=0,s=u.start.length;s>v;v++){t[v]=+u.start[v]+(u.end[v]-u.start[v])*u.easing(u.s)}}else{t=+u.start+(u.end-u.start)*u.easing(u.s)}u.set(t)},N=function(){var s=0;for(var t in q){if(q.hasOwnProperty(t)){var u=q[t],v=u.get();s++,u.s=(v-u.b)/(u.dur/u.spd),u.s>=1&&(delete q[t],u.s=1,s--,function(x){setTimeout(function(){o("mina.finish."+x.id,x)})}(u)),u.update()}}s&&K(N)},m=function(x,y,z,A,B,C,s){var t={id:h(),start:x,end:y,b:z,s:0,dur:A-z,spd:1,get:B,set:C,easing:s||m.linear,status:j,speed:k,duration:l,stop:n,pause:p,resume:r,update:L};q[t.id]=t;var u,v=0;for(u in q){if(q.hasOwnProperty(u)&&(v++,2==v)){break}}return 1==v&&K(N),t};return m.time=i,m.getById=function(s){return q[s]||null},m.linear=function(s){return s},m.easeout=function(s){return Math.pow(s,1.7)},m.easein=function(s){return Math.pow(s,0.48)},m.easeinout=function(t){if(1==t){return 1}if(0==t){return 0}var u=0.48-t/1.04,v=Math.sqrt(0.1734+u*u),x=v-u,y=Math.pow(Math.abs(x),1/3)*(0>x?-1:1),z=-v-u,A=Math.pow(Math.abs(z),1/3)*(0>z?-1:1),s=y+A+0.5;return 3*(1-s)*s*s+s*s*s},m.backin=function(s){if(1==s){return 1}var t=1.70158;return s*s*((t+1)*s-t)},m.backout=function(s){if(0==s){return 0}s-=1;var t=1.70158;return s*s*((t+1)*s+t)+1},m.elastic=function(s){return s==!!s?s:Math.pow(2,-10*s)*Math.sin(2*(s-0.075)*Math.PI/0.3)+1},m.bounce=function(t){var u,v=7.5625,s=2.75;return 1/s>t?u=v*t*t:2/s>t?(t-=1.5/s,u=v*t*t+0.75):2.5/s>t?(t-=2.25/s,u=v*t*t+0.9375):(t-=2.625/s,u=v*t*t+0.984375),u},c.mina=m,m}("undefined"==typeof d?function(){}:d),b=function(ai){function aj(al,am){if(al){if(al.nodeType){return Y(al)}if(G(al,"array")&&aj.set){return aj.set.apply(aj,al)}if(al instanceof U){return al}if(null==am){return al=aa.doc.querySelector(String(al)),Y(al)}}return al=null==al?"100%":al,am=null==am?"100%":am,new X(al,am)}function F(an,ao){if(ao){if("#text"==an&&(an=aa.doc.createTextNode(ao.text||ao["#text"]||"")),"#comment"==an&&(an=aa.doc.createComment(ao.text||ao["#text"]||"")),"string"==typeof an&&(an=F(an)),"string"==typeof ao){return 1==an.nodeType?"xlink:"==ao.substring(0,6)?an.getAttributeNS(z,ao.substring(6)):"xml:"==ao.substring(0,4)?an.getAttributeNS(A,ao.substring(4)):an.getAttribute(ao):"text"==ao?an.nodeValue:null}if(1==an.nodeType){for(var al in ao){if(ao[ab](al)){var am=ae(ao[al]);am?"xlink:"==al.substring(0,6)?an.setAttributeNS(z,al.substring(6),am):"xml:"==al.substring(0,4)?an.setAttributeNS(A,al.substring(4),am):an.setAttribute(al,am):an.removeAttribute(al)}}}else{"text" in ao&&(an.nodeValue=ao.text)}}else{an=aa.doc.createElementNS(A,an)}return an}function G(al,am){return am=ae.prototype.toLowerCase.call(am),"finite"==am?isFinite(al):"array"==am&&(al instanceof Array||Array.isArray&&Array.isArray(al))?!0:"null"==am&&null===al||am==typeof al&&null!==al||"object"==am&&al===Object(al)||o.call(al).slice(8,-1).toLowerCase()==am}function H(am){if("function"==typeof am||Object(am)!==am){return am}var an=new am.constructor;for(var al in am){am[ab](al)&&(an[al]=H(am[al]))}return an}function I(am,an){for(var ao=0,al=am.length;al>ao;ao++){if(am[ao]===an){return am.push(am.splice(ao,1)[0])}}}function K(am,an,ao){function al(){var ar=Array.prototype.slice.call(arguments,0),aq=ar.join(""),at=al.cache=al.cache||{},ap=al.count=al.count||[];return at[ab](aq)?(I(ap,aq),ao?ao(at[aq]):at[aq]):(ap.length>=1000&&delete at[ap.shift()],ap.push(aq),at[aq]=am.apply(an,ar),ao?ao(at[aq]):at[aq])}return al}function L(am,an,ao,ap,aq,ar){if(null==aq){var at=am-ao,al=an-ap;return at||al?(180+180*i.atan2(-al,-at)/m+360)%360:0}return L(am,an,aq,ar)-L(ao,ap,aq,ar)}function M(al){return al%360*m/180}function N(al){return 180*al/m%360}function O(al){var am=[];return al=al.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(ap,an,ao){return ao=ao.split(/\s*,\s*|\s+/),"rotate"==an&&1==ao.length&&ao.push(0,0),"scale"==an&&(ao.length>2?ao=ao.slice(0,2):2==ao.length&&ao.push(0,0),1==ao.length&&ao.push(ao[0],0,0)),am.push("skewX"==an?["m",1,0,i.tan(M(ao[0])),1,0,0]:"skewY"==an?["m",1,i.tan(M(ao[0])),0,1,0,0]:[an.charAt(0)].concat(ao)),ap}),am}function P(ax,az){var aB=af(ax),am=new aj.Matrix;if(aB){for(var an=0,ao=aB.length;ao>an;an++){var ap,ar,at,au,av,aw=aB[an],ay=aw.length,aA=ae(aw[0]).toLowerCase(),al=aw[0]!=aA,aq=al?am.invert():0;"t"==aA&&2==ay?am.translate(aw[1],0):"t"==aA&&3==ay?al?(ap=aq.x(0,0),ar=aq.y(0,0),at=aq.x(aw[1],aw[2]),au=aq.y(aw[1],aw[2]),am.translate(at-ap,au-ar)):am.translate(aw[1],aw[2]):"r"==aA?2==ay?(av=av||az,am.rotate(aw[1],av.x+av.width/2,av.y+av.height/2)):4==ay&&(al?(at=aq.x(aw[2],aw[3]),au=aq.y(aw[2],aw[3]),am.rotate(aw[1],at,au)):am.rotate(aw[1],aw[2],aw[3])):"s"==aA?2==ay||3==ay?(av=av||az,am.scale(aw[1],aw[ay-1],av.x+av.width/2,av.y+av.height/2)):4==ay?al?(at=aq.x(aw[2],aw[3]),au=aq.y(aw[2],aw[3]),am.scale(aw[1],aw[1],at,au)):am.scale(aw[1],aw[1],aw[2],aw[3]):5==ay&&(al?(at=aq.x(aw[3],aw[4]),au=aq.y(aw[3],aw[4]),am.scale(aw[1],aw[2],at,au)):am.scale(aw[1],aw[2],aw[3],aw[4])):"m"==aA&&7==ay&&am.add(aw[1],aw[2],aw[3],aw[4],aw[5],aw[6])}}return am}function Q(an){var ao=an.node.ownerSVGElement&&Y(an.node.ownerSVGElement)||an.node.parentNode&&Y(an.node.parentNode)||aj.select("svg")||aj(0,0),al=ao.select("defs"),am=null==al?!1:al.node;return am||(am=W("defs",ao.node).node),am}function R(al){return al.node.ownerSVGElement&&Y(al.node.ownerSVGElement)||aj.select("svg")}function S(al,am,an){function ao(av){if(null==av){return n}if(av==+av){return av}F(au,{width:av});try{return au.getBBox().width}catch(aw){return 0}}function ap(av){if(null==av){return n}if(av==+av){return av}F(au,{height:av});try{return au.getBBox().height}catch(aw){return 0}}function aq(aw,av){null==am?at[aw]=av(al.attr(aw)||0):aw==am&&(at=av(null==an?al.attr(aw)||0:an))}var ar=R(al).node,at={},au=ar.querySelector(".svg---mgr");switch(au||(au=F("rect"),F(au,{x:-9000000000,y:-9000000000,width:10,height:10,"class":"svg---mgr",fill:"none"}),ar.appendChild(au)),al.type){case"rect":aq("rx",ao),aq("ry",ap);case"image":aq("width",ao),aq("height",ap);case"text":aq("x",ao),aq("y",ap);break;case"circle":aq("cx",ao),aq("cy",ap),aq("r",ao);break;case"ellipse":aq("cx",ao),aq("cy",ap),aq("rx",ao),aq("ry",ap);break;case"line":aq("x1",ao),aq("x2",ao),aq("y1",ap),aq("y2",ap);break;case"marker":aq("refX",ao),aq("markerWidth",ao),aq("refY",ap),aq("markerHeight",ap);break;case"radialGradient":aq("fx",ao),aq("fy",ap);break;case"tspan":aq("dx",ao),aq("dy",ap);break;default:aq(am,ao)}return ar.removeChild(au),at}function T(am){G(am,"array")||(am=Array.prototype.slice.call(arguments,0));for(var an=0,ao=0,ap=this.node;this[an];){delete this[an++]}for(an=0;an<am.length;an++){"set"==am[an].type?am[an].forEach(function(aq){ap.appendChild(aq.node)}):ap.appendChild(am[an].node)}var al=ap.childNodes;for(an=0;an<al.length;an++){this[ao++]=Y(al[an])}return this}function U(am){if(am.snap in B){return B[am.snap]}var an;try{an=am.ownerSVGElement}catch(ao){}this.node=am,an&&(this.paper=new X(an)),this.type=am.tagName||am.nodeName;var ap=this.id=y(this);if(this.anims={},this._={transform:[]},am.snap=ap,B[ap]=this,"g"==this.type&&(this.add=T),this.type in {g:1,mask:1,pattern:1,symbol:1}){for(var al in X.prototype){X.prototype[ab](al)&&(this[al]=X.prototype[al])}}}function V(al){this.node=al}function W(an,ao){var al=F(an);ao.appendChild(al);var am=Y(al);return am}function X(an,ar){var ao,ap,aq,at=X.prototype;if(an&&"svg"==an.tagName){if(an.snap in B){return B[an.snap]}var al=an.ownerDocument;ao=new U(an),ap=an.getElementsByTagName("desc")[0],aq=an.getElementsByTagName("defs")[0],ap||(ap=F("desc"),ap.appendChild(al.createTextNode("Created with Snap")),ao.node.appendChild(ap)),aq||(aq=F("defs"),ao.node.appendChild(aq)),ao.defs=aq;for(var am in at){at[ab](am)&&(ao[am]=at[am])}ao.paper=ao.root=ao}else{ao=W("svg",aa.doc.body),F(ao.node,{height:ar,version:1.1,width:an,xmlns:A})}return ao}function Y(al){return al?al instanceof U||al instanceof V?al:al.tagName&&"svg"==al.tagName.toLowerCase()?new X(al):al.tagName&&"object"==al.tagName.toLowerCase()&&"image/svg+xml"==al.type?new X(al.contentDocument.getElementsByTagName("svg")[0]):new U(al):al}function Z(am,an){for(var ao=0,ap=am.length;ap>ao;ao++){var aq={type:am[ao].type,attr:am[ao].attr()},al=am[ao].children();an.push(aq),al.length&&Z(al,aq.childNodes=[])}}aj.version="0.4.0",aj.toString=function(){return"Snap v"+this.version},aj._={};var aa={win:ai.window,doc:ai.window.document};aj._.glob=aa;var ab="hasOwnProperty",ae=String,f=parseFloat,h=parseInt,i=Math,j=i.max,k=i.min,l=i.abs,m=(i.pow,i.PI),n=(i.round,""),o=Object.prototype.toString,p=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i,q=(aj._.separator=/[,\s]+/,/[\s]*,[\s]*/),r={hs:1,rg:1},s=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,t=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/gi,u=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/gi,v=0,x="S"+(+new Date).toString(36),y=function(al){return(al&&al.type?al.type:n)+x+(v++).toString(36)},z="http://www.w3.org/1999/xlink",A="http://www.w3.org/2000/svg",B={};aj.url=function(al){return"url('#"+al+"')"};aj._.$=F,aj._.id=y,aj.format=function(){var am=/\{([^\}]+)\}/g,an=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,al=function(ao,ap,aq){var ar=aq;return ap.replace(an,function(aw,ax,at,au,av){ax=ax||au,ar&&(ax in ar&&(ar=ar[ax]),"function"==typeof ar&&av&&(ar=ar()))}),ar=(null==ar||ar==aq?ao:ar)+""};return function(ao,ap){return ae(ao).replace(am,function(ar,aq){return al(ar,aq,ap)})}}(),aj._.clone=H,aj._.cacher=K,aj.rad=M,aj.deg=N,aj.sin=function(al){return i.sin(aj.rad(al))},aj.tan=function(al){return i.tan(aj.rad(al))},aj.cos=function(al){return i.cos(aj.rad(al))},aj.asin=function(al){return aj.deg(i.asin(al))},aj.acos=function(al){return aj.deg(i.acos(al))},aj.atan=function(al){return aj.deg(i.atan(al))},aj.atan2=function(al){return aj.deg(i.atan2(al))},aj.angle=L,aj.len=function(an,ao,al,am){return Math.sqrt(aj.len2(an,ao,al,am))},aj.len2=function(am,an,ao,al){return(am-ao)*(am-ao)+(an-al)*(an-al)},aj.closestPoint=function(al,am,an){function ao(aH){var aF=aH.x-am,aG=aH.y-an;return aF*aF+aG*aG}for(var ar,au,av,ay,aA=al.node,aB=aA.getTotalLength(),aC=aB/aA.pathSegList.numberOfItems*0.125,aD=1/0,aE=0;aB>=aE;aE+=aC){(ay=ao(av=aA.getPointAtLength(aE)))<aD&&(ar=av,au=aE,aD=ay)}for(aC*=0.5;aC>0.5;){var ap,aq,at,aw,ax,az;(at=au-aC)>=0&&(ax=ao(ap=aA.getPointAtLength(at)))<aD?(ar=ap,au=at,aD=ax):(aw=au+aC)<=aB&&(az=ao(aq=aA.getPointAtLength(aw)))<aD?(ar=aq,au=aw,aD=az):aC*=0.5}return ar={x:ar.x,y:ar.y,length:au,distance:Math.sqrt(aD)}},aj.is=G,aj.snapTo=function(am,an,ao){if(ao=G(ao,"finite")?ao:10,G(am,"array")){for(var ap=am.length;ap--;){if(l(am[ap]-an)<=ao){return am[ap]}}}else{am=+am;var al=an%am;if(ao>al){return an-al}if(al>am-ao){return an-al+am}}return an},aj.getRGB=K(function(an){if(!an||(an=ae(an)).indexOf("-")+1){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ak}}if("none"==an){return{r:-1,g:-1,b:-1,hex:"none",toString:ak}}if(!(r[ab](an.toLowerCase().substring(0,2))||"#"==an.charAt())&&(an=C(an)),!an){return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ak}}var at,ao,ap,aq,ar,al,am=an.match(p);return am?(am[2]&&(ap=h(am[2].substring(5),16),ao=h(am[2].substring(3,5),16),at=h(am[2].substring(1,3),16)),am[3]&&(ap=h((ar=am[3].charAt(3))+ar,16),ao=h((ar=am[3].charAt(2))+ar,16),at=h((ar=am[3].charAt(1))+ar,16)),am[4]&&(al=am[4].split(q),at=f(al[0]),"%"==al[0].slice(-1)&&(at*=2.55),ao=f(al[1]),"%"==al[1].slice(-1)&&(ao*=2.55),ap=f(al[2]),"%"==al[2].slice(-1)&&(ap*=2.55),"rgba"==am[1].toLowerCase().slice(0,4)&&(aq=f(al[3])),al[3]&&"%"==al[3].slice(-1)&&(aq/=100)),am[5]?(al=am[5].split(q),at=f(al[0]),"%"==al[0].slice(-1)&&(at/=100),ao=f(al[1]),"%"==al[1].slice(-1)&&(ao/=100),ap=f(al[2]),"%"==al[2].slice(-1)&&(ap/=100),("deg"==al[0].slice(-3)||""==al[0].slice(-1))&&(at/=360),"hsba"==am[1].toLowerCase().slice(0,4)&&(aq=f(al[3])),al[3]&&"%"==al[3].slice(-1)&&(aq/=100),aj.hsb2rgb(at,ao,ap,aq)):am[6]?(al=am[6].split(q),at=f(al[0]),"%"==al[0].slice(-1)&&(at/=100),ao=f(al[1]),"%"==al[1].slice(-1)&&(ao/=100),ap=f(al[2]),"%"==al[2].slice(-1)&&(ap/=100),("deg"==al[0].slice(-3)||""==al[0].slice(-1))&&(at/=360),"hsla"==am[1].toLowerCase().slice(0,4)&&(aq=f(al[3])),al[3]&&"%"==al[3].slice(-1)&&(aq/=100),aj.hsl2rgb(at,ao,ap,aq)):(at=k(i.round(at),255),ao=k(i.round(ao),255),ap=k(i.round(ap),255),aq=k(j(aq,0),1),am={r:at,g:ao,b:ap,toString:ak},am.hex="#"+(16777216|ap|ao<<8|at<<16).toString(16).slice(1),am.opacity=G(aq,"finite")?aq:1,am)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ak}},aj),aj.hsb=K(function(am,an,al){return aj.hsb2rgb(am,an,al).hex}),aj.hsl=K(function(am,an,al){return aj.hsl2rgb(am,an,al).hex}),aj.rgb=K(function(am,an,ao,ap){if(G(ap,"finite")){var al=i.round;return"rgba("+[al(am),al(an),al(ao),+ap.toFixed(2)]+")"}return"#"+(16777216|ao|an<<8|am<<16).toString(16).slice(1)});var C=function(am){var an=aa.doc.getElementsByTagName("head")[0]||aa.doc.getElementsByTagName("svg")[0],al="rgb(255, 0, 0)";return(C=K(function(ap){if("red"==ap.toLowerCase()){return al}an.style.color=al,an.style.color=ap;var ao=aa.doc.defaultView.getComputedStyle(an,n).getPropertyValue("color");return ao==al?null:ao}))(am)},D=function(){return"hsb("+[this.h,this.s,this.b]+")"},E=function(){return"hsl("+[this.h,this.s,this.l]+")"},ak=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ad=function(an,ao,al){if(null==ao&&G(an,"object")&&"r" in an&&"g" in an&&"b" in an&&(al=an.b,ao=an.g,an=an.r),null==ao&&G(an,string)){var am=aj.getRGB(an);an=am.r,ao=am.g,al=am.b}return(an>1||ao>1||al>1)&&(an/=255,ao/=255,al/=255),[an,ao,al]},ag=function(an,ap,ao,al){an=i.round(255*an),ap=i.round(255*ap),ao=i.round(255*ao);var am={r:an,g:ap,b:ao,opacity:G(al,"finite")?al:1,hex:aj.rgb(an,ap,ao),toString:ak};return G(al,"finite")&&(am.opacity=al),am};aj.color=function(al){var am;return G(al,"object")&&"h" in al&&"s" in al&&"b" in al?(am=aj.hsb2rgb(al),al.r=am.r,al.g=am.g,al.b=am.b,al.opacity=1,al.hex=am.hex):G(al,"object")&&"h" in al&&"s" in al&&"l" in al?(am=aj.hsl2rgb(al),al.r=am.r,al.g=am.g,al.b=am.b,al.opacity=1,al.hex=am.hex):(G(al,"string")&&(al=aj.getRGB(al)),G(al,"object")&&"r" in al&&"g" in al&&"b" in al&&!("error" in al)?(am=aj.rgb2hsl(al),al.h=am.h,al.s=am.s,al.l=am.l,am=aj.rgb2hsb(al),al.v=am.b):(al={hex:"none"},al.r=al.g=al.b=al.h=al.s=al.v=al.l=-1,al.error=1)),al.toString=ak,al},aj.hsb2rgb=function(au,al,am,an){G(au,"object")&&"h" in au&&"s" in au&&"b" in au&&(am=au.b,al=au.s,an=au.o,au=au.h),au*=360;var ao,ap,aq,ar,at;return au=au%360/60,at=am*al,ar=at*(1-l(au%2-1)),ao=ap=aq=am-at,au=~~au,ao+=[at,ar,0,0,ar,at][au],ap+=[ar,at,at,ar,0,0][au],aq+=[0,0,ar,at,at,ar][au],ag(ao,ap,aq,an)},aj.hsl2rgb=function(au,al,am,an){G(au,"object")&&"h" in au&&"s" in au&&"l" in au&&(am=au.l,al=au.s,au=au.h),(au>1||al>1||am>1)&&(au/=360,al/=100,am/=100),au*=360;var ao,ap,aq,ar,at;return au=au%360/60,at=2*al*(0.5>am?am:1-am),ar=at*(1-l(au%2-1)),ao=ap=aq=am-at/2,au=~~au,ao+=[at,ar,0,0,ar,at][au],ap+=[ar,at,at,ar,0,0][au],aq+=[0,0,ar,at,at,ar][au],ag(ao,ap,aq,an)},aj.rgb2hsb=function(am,an,ao){ao=ad(am,an,ao),am=ao[0],an=ao[1],ao=ao[2];var ap,aq,ar,al;return ar=j(am,an,ao),al=ar-k(am,an,ao),ap=0==al?null:ar==am?(an-ao)/al:ar==an?(ao-am)/al+2:(am-an)/al+4,ap=(ap+360)%6*60/360,aq=0==al?0:al/ar,{h:ap,s:aq,b:ar,toString:D}},aj.rgb2hsl=function(au,al,am){am=ad(au,al,am),au=am[0],al=am[1],am=am[2];var an,ao,ap,aq,ar,at;return aq=j(au,al,am),ar=k(au,al,am),at=aq-ar,an=0==at?null:aq==au?(al-am)/at:aq==al?(am-au)/at+2:(au-al)/at+4,an=(an+360)%6*60/360,ap=(aq+ar)/2,ao=0==at?0:0.5>ap?at/(2*ap):at/(2-2*ap),{h:an,s:ao,l:ap,toString:E}},aj.parsePathString=function(an){if(!an){return null}var ao=aj.path(an);if(ao.arr){return aj.path.clone(ao.arr)}var al={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},am=[];return G(an,"array")&&G(an[0],"array")&&(am=aj.path.clone(an)),am.length||ae(an).replace(s,function(au,at,ap){var aq=[],ar=at.toLowerCase();if(ap.replace(u,function(av,aw){aw&&aq.push(+aw)}),"m"==ar&&aq.length>2&&(am.push([at].concat(aq.splice(0,2))),ar="l",at="m"==at?"l":"L"),"o"==ar&&1==aq.length&&am.push([at,aq[0]]),"r"==ar){am.push([at].concat(aq))}else{for(;aq.length>=al[ar]&&(am.push([at].concat(aq.splice(0,al[ar]))),al[ar]);){}}}),am.toString=aj.path.toString,ao.arr=aj.path.clone(am),am};var af=aj.parseTransformString=function(al){if(!al){return null}var am=[];return G(al,"array")&&G(al[0],"array")&&(am=aj.path.clone(al)),am.length||ae(al).replace(t,function(ap,aq,an){var ao=[];aq.toLowerCase();an.replace(u,function(ar,at){at&&ao.push(+at)}),am.push([aq].concat(ao))}),am.toString=aj.path.toString,am};aj._.svgTransform2string=O,aj._.rgTransform=/^[a-z][\s]*-?\.?\d/i,aj._.transform2matrix=P,aj._unit2px=S;aa.doc.contains||aa.doc.compareDocumentPosition?function(am,an){var ao=9==am.nodeType?am.documentElement:am,al=an&&an.parentNode;return am==al||!(!al||1!=al.nodeType||!(ao.contains?ao.contains(al):am.compareDocumentPosition&&16&am.compareDocumentPosition(al)))}:function(al,am){if(am){for(;am;){if(am=am.parentNode,am==al){return !0}}}return !1};aj._.getSomeDefs=Q,aj._.getSomeSVG=R,aj.select=function(al){return al=ae(al).replace(/([^\\]):/g,"$1\\:"),Y(aa.doc.querySelector(al))},aj.selectAll=function(an){for(var ao=aa.doc.querySelectorAll(an),al=(aj.set||Array)(),am=0;am<ao.length;am++){al.push(Y(ao[am]))}return al},setInterval(function(){for(var am in B){if(B[ab](am)){var an=B[am],al=an.node;("svg"!=an.type&&!al.ownerSVGElement||"svg"==an.type&&(!al.parentNode||"ownerSVGElement" in al.parentNode&&!al.ownerSVGElement))&&delete B[am]}}},10000),U.prototype.attr=function(ar,at){var au=this,av=au.node;if(!ar){if(1!=av.nodeType){return{text:av.nodeValue}}for(var al=av.attributes,am={},an=0,ao=al.length;ao>an;an++){am[al[an].nodeName]=al[an].nodeValue}return am}if(G(ar,"string")){if(!(arguments.length>1)){return d("snap.util.getattr."+ar,au).firstDefined()}var ap={};ap[ar]=at,ar=ap}for(var aq in ar){ar[ab](aq)&&d("snap.util.attr."+aq,au,ar[aq])}return au},aj.parse=function(am){var an=aa.doc.createDocumentFragment(),ao=!0,al=aa.doc.createElement("div");if(am=ae(am),am.match(/^\s*<\s*svg(?:\s|>)/)||(am="<svg>"+am+"</svg>",ao=!1),al.innerHTML=am,am=al.getElementsByTagName("svg")[0]){if(ao){an=am}else{for(;am.firstChild;){an.appendChild(am.firstChild)}}}return new V(an)},aj.fragment=function(){for(var an=Array.prototype.slice.call(arguments,0),ap=aa.doc.createDocumentFragment(),ao=0,al=an.length;al>ao;ao++){var am=an[ao];am.node&&am.node.nodeType&&ap.appendChild(am.node),am.nodeType&&ap.appendChild(am),"string"==typeof am&&ap.appendChild(aj.parse(am).node)}return new V(ap)},aj._.make=W,aj._.wrap=Y,X.prototype.el=function(am,an){var al=W(am,this.node);return an&&al.attr(an),al},U.prototype.children=function(){for(var an=[],ao=this.node.childNodes,al=0,am=ao.length;am>al;al++){an[al]=aj(ao[al])}return an},U.prototype.toJSON=function(){var al=[];return Z([this],al),al[0]},d.on("snap.util.getattr",function(){var am=d.nt();am=am.substring(am.lastIndexOf(".")+1);var al=am.replace(/[A-Z]/g,function(an){return"-"+an.toLowerCase()});return ah[ab](al)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(al):F(this.node,am)});var ah={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};d.on("snap.util.attr",function(ao){var ap=d.nt(),al={};ap=ap.substring(ap.lastIndexOf(".")+1),al[ap]=ao;var am=ap.replace(/-(\w)/gi,function(aq,ar){return ar.toUpperCase()}),an=ap.replace(/[A-Z]/g,function(aq){return"-"+aq.toLowerCase()});ah[ab](an)?this.node.style[am]=null==ao?n:ao:F(this.node,al)}),function(){}(X.prototype),aj.ajax=function(an,ao,ap,aq){var ar=new XMLHttpRequest,at=y();if(ar){if(G(ao,"function")){aq=ap,ap=ao,ao=null}else{if(G(ao,"object")){var al=[];for(var am in ao){ao.hasOwnProperty(am)&&al.push(encodeURIComponent(am)+"="+encodeURIComponent(ao[am]))}ao=al.join("&")}}return ar.open(ao?"POST":"GET",an,!0),ao&&(ar.setRequestHeader("X-Requested-With","XMLHttpRequest"),ar.setRequestHeader("Content-type","application/x-www-form-urlencoded")),ap&&(d.once("snap.ajax."+at+".0",ap),d.once("snap.ajax."+at+".200",ap),d.once("snap.ajax."+at+".304",ap)),ar.onreadystatechange=function(){4==ar.readyState&&d("snap.ajax."+at+"."+ar.status,aq,ar)},4==ar.readyState?ar:(ar.send(ao),ar)}},aj.load=function(am,an,al){aj.ajax(am,function(ap){var ao=aj.parse(ap.responseText);al?an.call(al,ao):an(ao)})};var ac=function(au){var al=au.getBoundingClientRect(),am=au.ownerDocument,an=am.body,ao=am.documentElement,ap=ao.clientTop||an.clientTop||0,aq=ao.clientLeft||an.clientLeft||0,ar=al.top+(g.win.pageYOffset||ao.scrollTop||an.scrollTop)-ap,at=al.left+(g.win.pageXOffset||ao.scrollLeft||an.scrollLeft)-aq;return{y:ar,x:at}};return aj.getElementByPoint=function(am,an){var ao=this,ap=(ao.canvas,aa.doc.elementFromPoint(am,an));if(aa.win.opera&&"svg"==ap.tagName){var aq=ac(ap),ar=ap.createSVGRect();ar.x=am-aq.x,ar.y=an-aq.y,ar.width=ar.height=1;var al=ap.getIntersectionList(ar,null);al.length&&(ap=al[al.length-1])}return ap?Y(ap):null},aj.plugin=function(al){al(aj,U,X,aa,V)},aa.win.Snap=aj,aj}(c||this);return b.plugin(function(f,h,i,j,k){function l(A,B){if(null==B){var y=!0;if(B=A.node.getAttribute("linearGradient"==A.type||"radialGradient"==A.type?"gradientTransform":"pattern"==A.type?"patternTransform":"transform"),!B){return new f.Matrix}B=f._.svgTransform2string(B)}else{B=f._.rgTransform.test(B)?t(B).replace(/\.{3}|\u2026/g,A._.transform||""):f._.svgTransform2string(B),s(B,"array")&&(B=f.path?f.path.toString.call(B):t(B)),A._.transform=B}var z=f._.transform2matrix(B,A.getBBox(1));return y?z:void (A.matrix=z)}function m(C){function D(O,P){var N=v(O.node,P);N=N&&N.match(H),N=N&&N[2],N&&"#"==N.charAt()&&(N=N.substring(1),N&&(K[N]=(K[N]||[]).concat(function(V){var Q={};Q[P]=URL(V),v(O.node,Q)})))}function E(N){var O=v(N.node,"xlink:href");O&&"#"==O.charAt()&&(O=O.substring(1),O&&(K[O]=(K[O]||[]).concat(function(P){N.attr("xlink:href","#"+P)})))}for(var F,G=C.selectAll("*"),H=/^\s*url\(("|'|)(.*)\1\)\s*$/,I=[],K={},L=0,M=G.length;M>L;L++){F=G[L],D(F,"fill"),D(F,"stroke"),D(F,"filter"),D(F,"mask"),D(F,"clip-path"),E(F);var y=v(F.node,"id");y&&(v(F.node,{id:F.id}),I.push({old:y,id:F.id}))}for(L=0,M=I.length;M>L;L++){var z=K[I[L].old];if(z){for(var A=0,B=z.length;B>A;A++){z[A](I[L].id)}}}}function p(z,A,y){return function(C){var B=C.slice(z,A);return 1==B.length&&(B=B[0]),y?y(B):B}}function q(y){return function(){var B=y?"<"+this.type:"",C=this.node.attributes,D=this.node.childNodes;if(y){for(var z=0,A=C.length;A>z;z++){B+=" "+C[z].name+'="'+C[z].value.replace(/"/g,'\\"')+'"'}}if(D.length){for(y&&(B+=">"),z=0,A=D.length;A>z;z++){3==D[z].nodeType?B+=D[z].nodeValue:1==D[z].nodeType&&(B+=o(D[z]).toString())}y&&(B+="</"+this.type+">")}else{y&&(B+="/>")}return B}}var r=h.prototype,s=f.is,t=String,u=f._unit2px,v=f._.$,x=f._.make,R=f._.getSomeDefs,n="hasOwnProperty",o=f._.wrap;r.getBBox=function(A){if(!f.Matrix||!f.path){return this.node.getBBox()}var D=this,B=new f.Matrix;if(D.removed){return f._.box()}for(;"use"==D.type;){if(A||(B=B.add(D.transform().localMatrix.translate(D.attr("x")||0,D.attr("y")||0))),D.original){D=D.original}else{var C=D.attr("xlink:href");D=D.original=D.node.ownerDocument.getElementById(C.substring(C.indexOf("#")+1))}}var E=D._,y=f.path.get[D.type]||f.path.get.deflt;try{return A?(E.bboxwt=y?f.path.getBBox(D.realPath=y(D)):f._.box(D.node.getBBox()),f._.box(E.bboxwt)):(D.realPath=y(D),D.matrix=D.transform().localMatrix,E.bbox=f.path.getBBox(f.path.map(D.realPath,B.add(D.matrix))),f._.box(E.bbox))}catch(z){return f._.box()}};var S=function(){return this.string};r.transform=function(F){var G=this._;if(null==F){for(var H,y=this,z=new f.Matrix(this.node.getCTM()),A=l(this),B=[A],C=new f.Matrix,D=A.toTransformString(),E=t(A)==t(this.matrix)?t(G.transform):D;"svg"!=y.type&&(y=y.parent());){B.push(l(y))}for(H=B.length;H--;){C.add(B[H])}return{string:E,globalMatrix:z,totalMatrix:C,localMatrix:A,diffMatrix:z.clone().add(A.invert()),global:z.toTransformString(),total:C.toTransformString(),local:D,toString:S}}return F instanceof f.Matrix?(this.matrix=F,this._.transform=F.toTransformString()):l(this,F),this.node&&("linearGradient"==this.type||"radialGradient"==this.type?v(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?v(this.node,{patternTransform:this.matrix}):v(this.node,{transform:this.matrix})),this},r.parent=function(){return o(this.node.parentNode)},r.append=r.add=function(y){if(y){if("set"==y.type){var z=this;return y.forEach(function(A){z.add(A)}),this}y=o(y),this.node.appendChild(y.node),y.paper=this.paper}return this},r.appendTo=function(y){return y&&(y=o(y),y.append(this)),this},r.prepend=function(z){if(z){if("set"==z.type){var A,B=this;return z.forEach(function(C){A?A.after(C):B.prepend(C),A=C}),this}z=o(z);var y=z.parent();this.node.insertBefore(z.node,this.node.firstChild),this.add&&this.add(),z.paper=this.paper,this.parent()&&this.parent().add(),y&&y.add()}return this},r.prependTo=function(y){return y=o(y),y.prepend(this),this},r.before=function(z){if("set"==z.type){var A=this;return z.forEach(function(B){var C=B.parent();A.node.parentNode.insertBefore(B.node,A.node),C&&C.add()}),this.parent().add(),this}z=o(z);var y=z.parent();return this.node.parentNode.insertBefore(z.node,this.node),this.parent()&&this.parent().add(),y&&y.add(),z.paper=this.paper,this},r.after=function(y){y=o(y);var z=y.parent();return this.node.nextSibling?this.node.parentNode.insertBefore(y.node,this.node.nextSibling):this.node.parentNode.appendChild(y.node),this.parent()&&this.parent().add(),z&&z.add(),y.paper=this.paper,this},r.insertBefore=function(y){y=o(y);var z=this.parent();return y.node.parentNode.insertBefore(this.node,y.node),this.paper=y.paper,z&&z.add(),y.parent()&&y.parent().add(),this},r.insertAfter=function(y){y=o(y);var z=this.parent();return y.node.parentNode.insertBefore(this.node,y.node.nextSibling),this.paper=y.paper,z&&z.add(),y.parent()&&y.parent().add(),this},r.remove=function(){var y=this.parent();return this.node.parentNode&&this.node.parentNode.removeChild(this.node),delete this.paper,this.removed=!0,y&&y.add(),this},r.select=function(y){return o(this.node.querySelector(y))},r.selectAll=function(A){for(var B=this.node.querySelectorAll(A),y=(f.set||Array)(),z=0;z<B.length;z++){y.push(o(B[z]))}return y},r.asPX=function(y,z){return null==z&&(z=this.attr(y)),+u(this,y,z)},r.use=function(){var y,z=this.node.id;return z||(z=this.id,v(this.node,{id:z})),y="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?x(this.type,this.node.parentNode):x("use",this.node.parentNode),v(y.node,{"xlink:href":"#"+z}),y.original=this,y},r.clone=function(){var y=o(this.node.cloneNode(!0));return v(y.node,"id")&&v(y.node,{id:y.id}),m(y),y.insertAfter(this),y},r.toDefs=function(){var y=R(this);return y.appendChild(this.node),this},r.pattern=r.toPattern=function(z,A,B,C){var y=x("pattern",R(this));return null==z&&(z=this.getBBox()),s(z,"object")&&"x" in z&&(A=z.y,B=z.width,C=z.height,z=z.x),v(y.node,{x:z,y:A,width:B,height:C,patternUnits:"userSpaceOnUse",id:y.id,viewBox:[z,A,B,C].join(" ")}),y.node.appendChild(this.node),y},r.marker=function(z,A,B,C,D,E){var y=x("marker",R(this));return null==z&&(z=this.getBBox()),s(z,"object")&&"x" in z&&(A=z.y,B=z.width,C=z.height,D=z.refX||z.cx,E=z.refY||z.cy,z=z.x),v(y.node,{viewBox:[z,A,B,C].join(" "),markerWidth:B,markerHeight:C,orient:"auto",refX:D||0,refY:E||0,id:y.id}),y.node.appendChild(this.node),y};var T=function(z,A,B,y){"function"!=typeof B||B.length||(y=B,B=a.linear),this.attr=z,this.dur=A,B&&(this.easing=B),y&&(this.callback=y)};f._.Animation=T,f.animation=function(z,A,B,y){return new T(z,A,B,y)},r.inAnim=function(){var z=this,A=[];for(var y in z.anims){z.anims[n](y)&&!function(B){A.push({anim:new T(B._attrs,B.dur,B.easing,B._callback),mina:B,curStatus:B.status(),status:function(C){return B.status(C)},stop:function(){B.stop()}})}(z.anims[y])}return A},f.animate=function(A,B,C,D,E,F){"function"!=typeof E||E.length||(F=E,E=a.linear);var y=a.time(),z=a(A,B,y,y+D,a.time,C,E);return F&&d.once("mina.finish."+z.id,F),z},r.stop=function(){for(var z=this.inAnim(),A=0,y=z.length;y>A;A++){z[A].stop()}return this},r.animate=function(A,C,E,F){"function"!=typeof E||E.length||(F=E,E=a.linear),A instanceof T&&(F=A.callback,E=A.easing,C=A.dur,A=A.attr);var G,I,K,L,M=[],N=[],B={},D=this;for(var H in A){if(A[n](H)){D.equal?(L=D.equal(H,t(A[H])),G=L.from,I=L.to,K=L.f):(G=+D.attr(H),I=+A[H]);var O=s(G,"array")?G.length:1;B[H]=p(M.length,M.length+O,K),M=M.concat(G),N=N.concat(I)}}var y=a.time(),z=a(M,N,y,y+C,a.time,function(Q){var V={};for(var P in B){B[n](P)&&(V[P]=B[P](Q))}D.attr(V)},E);return D.anims[z.id]=z,z._attrs=A,z._callback=F,d("snap.animcreated."+D.id,z),d.once("mina.finish."+z.id,function(){delete D.anims[z.id],F&&F.call(D)}),d.once("mina.stop."+z.id,function(){delete D.anims[z.id]}),D};var U={};r.data=function(B,y){var z=U[this.id]=U[this.id]||{};if(0==arguments.length){return d("snap.data.get."+this.id,this,z,null),z}if(1==arguments.length){if(f.is(B,"object")){for(var A in B){B[n](A)&&this.data(A,B[A])}return this}return d("snap.data.get."+this.id,this,z[B],B),z[B]}return z[B]=y,d("snap.data.set."+this.id,this,y,B),this},r.removeData=function(y){return null==y?U[this.id]={}:U[this.id]&&delete U[this.id][y],this},r.outerSVG=r.toString=q(1),r.innerSVG=q(),r.toDataURL=function(){if(c&&c.btoa){var z=this.getBBox(),y=f.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+z.x.toFixed(3),y:+z.y.toFixed(3),width:+z.width.toFixed(3),height:+z.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(y)))}},k.prototype.select=r.select,k.prototype.selectAll=r.selectAll}),b.plugin(function(h){function i(o,p,k,l,m,n){return null==p&&"[object SVGMatrix]"==j.call(o)?(this.a=o.a,this.b=o.b,this.c=o.c,this.d=o.d,this.e=o.e,void (this.f=o.f)):void (null!=o?(this.a=+o,this.b=+p,this.c=+k,this.d=+l,this.e=+m,this.f=+n):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0))}var j=Object.prototype.toString,q=String,r=Math,f="";!function(m){function k(n){return n[0]*n[0]+n[1]*n[1]}function l(n){var o=r.sqrt(k(n));n[0]&&(n[0]/=o),n[1]&&(n[1]/=o)}m.add=function(o,E,F,G,H,I){var K,L,M,N,O=[[],[],[]],n=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],p=[[o,F,H],[E,G,I],[0,0,1]];for(o&&o instanceof i&&(p=[[o.a,o.c,o.e],[o.b,o.d,o.f],[0,0,1]]),K=0;3>K;K++){for(L=0;3>L;L++){for(N=0,M=0;3>M;M++){N+=n[K][M]*p[M][L]}O[K][L]=N}}return this.a=O[0][0],this.b=O[1][0],this.c=O[0][1],this.d=O[1][1],this.e=O[0][2],this.f=O[1][2],this},m.invert=function(){var o=this,n=o.a*o.d-o.b*o.c;return new i(o.d/n,-o.b/n,-o.c/n,o.a/n,(o.c*o.f-o.d*o.e)/n,(o.b*o.e-o.a*o.f)/n)},m.clone=function(){return new i(this.a,this.b,this.c,this.d,this.e,this.f)},m.translate=function(n,o){return this.add(1,0,0,1,n,o)},m.scale=function(p,u,n,o){return null==u&&(u=p),(n||o)&&this.add(1,0,0,1,n,o),this.add(p,0,0,u,0,0),(n||o)&&this.add(1,0,0,1,-n,-o),this},m.rotate=function(x,n,o){x=h.rad(x),n=n||0,o=o||0;var p=+r.cos(x).toFixed(9),v=+r.sin(x).toFixed(9);return this.add(p,v,-v,p,n,o),this.add(1,0,0,1,-n,-o)},m.x=function(n,o){return n*this.a+o*this.c+this.e},m.y=function(n,o){return n*this.b+o*this.d+this.f},m.get=function(n){return +this[q.fromCharCode(97+n)].toFixed(4)},m.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"},m.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},m.determinant=function(){return this.a*this.d-this.b*this.c},m.split=function(){var u={};u.dx=this.e,u.dy=this.f;var n=[[this.a,this.c],[this.b,this.d]];u.scalex=r.sqrt(k(n[0])),l(n[0]),u.shear=n[0][0]*n[1][0]+n[0][1]*n[1][1],n[1]=[n[1][0]-n[0][0]*u.shear,n[1][1]-n[0][1]*u.shear],u.scaley=r.sqrt(k(n[1])),l(n[1]),u.shear/=u.scaley,this.determinant()<0&&(u.scalex=-u.scalex);var o=-n[0][1],p=n[1][1];return 0>p?(u.rotate=h.deg(r.acos(p)),0>o&&(u.rotate=360-u.rotate)):u.rotate=h.deg(r.asin(o)),u.isSimple=!(+u.shear.toFixed(9)||u.scalex.toFixed(9)!=u.scaley.toFixed(9)&&u.rotate),u.isSuperSimple=!+u.shear.toFixed(9)&&u.scalex.toFixed(9)==u.scaley.toFixed(9)&&!u.rotate,u.noRotation=!+u.shear.toFixed(9)&&!u.rotate,u},m.toTransformString=function(n){var o=n||this.split();return +o.shear.toFixed(9)?"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]:(o.scalex=+o.scalex.toFixed(4),o.scaley=+o.scaley.toFixed(4),o.rotate=+o.rotate.toFixed(4),(o.dx||o.dy?"t"+[+o.dx.toFixed(4),+o.dy.toFixed(4)]:f)+(1!=o.scalex||1!=o.scaley?"s"+[o.scalex,o.scaley,0,0]:f)+(o.rotate?"r"+[+o.rotate.toFixed(4),0,0]:f))}}(i.prototype),h.Matrix=i,h.matrix=function(k,l,m,n,o,p){return new i(k,l,m,n,o,p)}}),b.plugin(function(f,h,i,j,k){function l(v){return function(x){if(d.stop(),x instanceof k&&1==x.node.childNodes.length&&("radialGradient"==x.node.firstChild.tagName||"linearGradient"==x.node.firstChild.tagName||"pattern"==x.node.firstChild.tagName)&&(x=x.node.firstChild,R(this).appendChild(x),x=u(x)),x instanceof h){if("radialGradient"==x.type||"linearGradient"==x.type||"pattern"==x.type){x.node.id||T(x.node,{id:x.id});var y=m(x.node.id)}else{y=x.attr(v)}}else{if(y=f.color(x),y.error){var z=f(R(this).ownerSVGElement).gradient(x);z?(z.node.id||T(z.node,{id:z.id}),y=m(z.node.id)):y=x}else{y=n(y)}}var A={};A[v]=y,T(this.node,A),this.node.style[v]=r}}function p(v){d.stop(),v==+v&&(v+="px"),this.node.style.fontSize=v}function q(x){for(var y=[],z=x.childNodes,A=0,B=z.length;B>A;A++){var v=z[A];3==v.nodeType&&y.push(v.nodeValue),"tspan"==v.tagName&&y.push(1==v.childNodes.length&&3==v.firstChild.nodeType?v.firstChild.nodeValue:q(v))}return y}function s(){return d.stop(),this.node.style.fontSize}var t=f._.make,u=f._.wrap,Q=f.is,R=f._.getSomeDefs,S=/^url\(#?([^)]+)\)$/,T=f._.$,m=f.url,n=String,o=f._.separator,r="";d.on("snap.util.attr.mask",function(x){if(x instanceof h||x instanceof k){if(d.stop(),x instanceof k&&1==x.node.childNodes.length&&(x=x.node.firstChild,R(this).appendChild(x),x=u(x)),"mask"==x.type){var v=x}else{v=t("mask",R(this)),v.node.appendChild(x.node)}!v.node.id&&T(v.node,{id:v.id}),T(this.node,{mask:m(v.id)})}}),function(v){d.on("snap.util.attr.clip",v),d.on("snap.util.attr.clip-path",v),d.on("snap.util.attr.clipPath",v)}(function(x){if(x instanceof h||x instanceof k){if(d.stop(),"clipPath"==x.type){var v=x}else{v=t("clipPath",R(this)),v.node.appendChild(x.node),!v.node.id&&T(v.node,{id:v.id})}T(this.node,{"clip-path":m(v.node.id||v.id)})}}),d.on("snap.util.attr.fill",l("fill")),d.on("snap.util.attr.stroke",l("stroke"));var U=/^([lr])(?:\(([^)]*)\))?(.*)$/i;d.on("snap.util.grad.parse",function(x){x=n(x);var y=x.match(U);if(!y){return null}var z=y[1],A=y[2],v=y[3];return A=A.split(/\s*,\s*/).map(function(B){return +B==B?+B:B}),1==A.length&&0==A[0]&&(A=[]),v=v.split("-"),v=v.map(function(B){B=B.split(":");var C={color:B[0]};return B[1]&&(C.offset=parseFloat(B[1])),C}),{type:z,params:A,stops:v}}),d.on("snap.util.attr.d",function(v){d.stop(),Q(v,"array")&&Q(v[0],"array")&&(v=f.path.toString.call(v)),v=n(v),v.match(/[ruo]/i)&&(v=f.path.toAbsolute(v)),T(this.node,{d:v})})(-1),d.on("snap.util.attr.#text",function(x){d.stop(),x=n(x);for(var v=j.doc.createTextNode(x);this.node.firstChild;){this.node.removeChild(this.node.firstChild)}this.node.appendChild(v)})(-1),d.on("snap.util.attr.path",function(v){d.stop(),this.attr({d:v})})(-1),d.on("snap.util.attr.class",function(v){d.stop(),this.node.className.baseVal=v})(-1),d.on("snap.util.attr.viewBox",function(x){var v;v=Q(x,"object")&&"x" in x?[x.x,x.y,x.width,x.height].join(" "):Q(x,"array")?x.join(" "):x,T(this.node,{viewBox:v}),d.stop()})(-1),d.on("snap.util.attr.transform",function(v){this.transform(v),d.stop()})(-1),d.on("snap.util.attr.r",function(v){"rect"==this.type&&(d.stop(),T(this.node,{rx:v,ry:v}))})(-1),d.on("snap.util.attr.textpath",function(B){if(d.stop(),"text"==this.type){var z,A,v;if(!B&&this.textPath){for(A=this.textPath;A.node.firstChild;){this.node.appendChild(A.node.firstChild)}return A.remove(),void delete this.textPath}if(Q(B,"string")){var x=R(this),y=u(x.parentNode).path(B);x.appendChild(y.node),z=y.id,y.attr({id:z})}else{B=u(B),B instanceof h&&(z=B.attr("id"),z||(z=B.id,B.attr({id:z})))}if(z){if(A=this.textPath,v=this.node,A){A.attr({"xlink:href":"#"+z})}else{for(A=T("textPath",{"xlink:href":"#"+z});v.firstChild;){A.appendChild(v.firstChild)}v.appendChild(A),this.textPath=u(A)}}}})(-1),d.on("snap.util.attr.text",function(y){if("text"==this.type){for(var z=this.node,v=function(C){var B=T("tspan");if(Q(C,"array")){for(var A=0;A<C.length;A++){B.appendChild(v(C[A]))}}else{B.appendChild(j.doc.createTextNode(C))}return B.normalize&&B.normalize(),B};z.firstChild;){z.removeChild(z.firstChild)}for(var x=v(y);x.firstChild;){z.appendChild(x.firstChild)}}d.stop()})(-1),d.on("snap.util.attr.fontSize",p)(-1),d.on("snap.util.attr.font-size",p)(-1),d.on("snap.util.getattr.transform",function(){return d.stop(),this.transform()})(-1),d.on("snap.util.getattr.textpath",function(){return d.stop(),this.textPath})(-1),function(){function x(y){return function(){d.stop();var z=j.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+y);return"none"==z?z:f(j.doc.getElementById(z.match(S)[1]))}}function v(y){return function(B){d.stop();var z="marker"+y.charAt(0).toUpperCase()+y.substring(1);if(""==B||!B){return void (this.node.style[z]="none")}if("marker"==B.type){var A=B.node.id;return A||T(B.node,{id:B.id}),void (this.node.style[z]=m(A))}}}d.on("snap.util.getattr.marker-end",x("end"))(-1),d.on("snap.util.getattr.markerEnd",x("end"))(-1),d.on("snap.util.getattr.marker-start",x("start"))(-1),d.on("snap.util.getattr.markerStart",x("start"))(-1),d.on("snap.util.getattr.marker-mid",x("mid"))(-1),d.on("snap.util.getattr.markerMid",x("mid"))(-1),d.on("snap.util.attr.marker-end",v("end"))(-1),d.on("snap.util.attr.markerEnd",v("end"))(-1),d.on("snap.util.attr.marker-start",v("start"))(-1),d.on("snap.util.attr.markerStart",v("start"))(-1),d.on("snap.util.attr.marker-mid",v("mid"))(-1),d.on("snap.util.attr.markerMid",v("mid"))(-1)}(),d.on("snap.util.getattr.r",function(){return"rect"==this.type&&T(this.node,"rx")==T(this.node,"ry")?(d.stop(),T(this.node,"rx")):void 0})(-1),d.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){d.stop();var v=q(this.node);return 1==v.length?v[0]:v}})(-1),d.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1),d.on("snap.util.getattr.viewBox",function(){d.stop();var v=T(this.node,"viewBox");return v?(v=v.split(o),f._.box(+v[0],+v[1],+v[2],+v[3])):void 0})(-1),d.on("snap.util.getattr.points",function(){var v=T(this.node,"points");return d.stop(),v?v.split(o):void 0})(-1),d.on("snap.util.getattr.path",function(){var v=T(this.node,"d");return d.stop(),v})(-1),d.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1),d.on("snap.util.getattr.fontSize",s)(-1),d.on("snap.util.getattr.font-size",s)(-1)}),b.plugin(function(h,i){var j=/\S+/g,p=String,f=i.prototype;f.addClass=function(x){var y,z,A,k,l=p(x||"").match(j)||[],m=this.node,n=m.className.baseVal,o=n.match(j)||[];if(l.length){for(y=0;A=l[y++];){z=o.indexOf(A),~z||o.push(A)}k=o.join(" "),n!=k&&(m.className.baseVal=k)}return this},f.removeClass=function(x){var y,z,A,k,l=p(x||"").match(j)||[],m=this.node,n=m.className.baseVal,o=n.match(j)||[];if(o.length){for(y=0;A=l[y++];){z=o.indexOf(A),~z&&o.splice(z,1)}k=o.join(" "),n!=k&&(m.className.baseVal=k)}return this},f.hasClass=function(m){var n=this.node,k=n.className.baseVal,l=k.match(j)||[];return !!~l.indexOf(m)},f.toggleClass=function(o,z){if(null!=z){return z?this.addClass(o):this.removeClass(o)}var A,B,C,D,k=(o||"").match(j)||[],l=this.node,m=l.className.baseVal,n=m.match(j)||[];for(A=0;C=k[A++];){B=n.indexOf(C),~B?n.splice(B,1):n.push(C)}return D=n.join(" "),m!=D&&(l.className.baseVal=D),this}}),b.plugin(function(){function h(k){return k}function p(k){return function(l){return +l.toFixed(3)+k}}var q={"+":function(k,l){return k+l},"-":function(k,l){return k-l},"/":function(k,l){return k/l},"*":function(k,l){return k*l}},f=String,i=/[a-z]+$/i,j=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;d.on("snap.util.attr",function(o){var y=f(o).match(j);if(y){var z=d.nt(),A=z.substring(z.lastIndexOf(".")+1),B=this.attr(A),k={};d.stop();var l=y[3]||"",m=B.match(i),n=q[y[1]];if(m&&m==l?o=n(parseFloat(B),+y[2]):(B=this.asPX(A),o=n(this.asPX(A),this.asPX(A,y[2]+l))),isNaN(B)||isNaN(o)){return}k[A]=o,this.attr(k)}})(-10),d.on("snap.util.equal",function(m,n){var o=f(this.attr(m)||""),t=f(n).match(j);if(t){d.stop();var u=t[3]||"",k=o.match(i),l=q[t[1]];return k&&k==u?{from:parseFloat(o),to:l(parseFloat(o),+t[2]),f:p(k)}:(o=this.asPX(m),{from:o,to:l(o,this.asPX(m,t[2]+u)),f:h})}})(-10)}),b.plugin(function(q,r,h,j){var p=h.prototype,f=q.is;p.rect=function(x,y,k,l,m,n){var o;return null==n&&(n=m),f(x,"object")&&"[object Object]"==x?o=x:null!=x&&(o={x:x,y:y,width:k,height:l},null!=m&&(o.rx=m,o.ry=n)),this.el("rect",o)},p.circle=function(m,n,k){var l;return f(m,"object")&&"[object Object]"==m?l=m:null!=m&&(l={cx:m,cy:n,r:k}),this.el("circle",l)};var i=function(){function k(){this.parentNode.removeChild(this)}return function(o,l){var m=j.doc.createElement("img"),n=j.doc.body;m.style.cssText="position:absolute;left:-9999em;top:-9999em",m.onload=function(){l.call(m),m.onload=m.onerror=null,n.removeChild(m)},m.onerror=k,n.appendChild(m),m.src=o}}();p.image=function(v,x,k,l,m){var n=this.el("image");if(f(v,"object")&&"src" in v){n.attr(v)}else{if(null!=v){var o={"xlink:href":v,preserveAspectRatio:"none"};null!=x&&null!=k&&(o.x=x,o.y=k),null!=l&&null!=m?(o.width=l,o.height=m):i(v,function(){q._.$(n.node,{width:this.offsetWidth,height:this.offsetHeight})}),q._.$(n.node,o)}}return n},p.ellipse=function(n,o,k,l){var m;return f(n,"object")&&"[object Object]"==n?m=n:null!=n&&(m={cx:n,cy:o,rx:k,ry:l}),this.el("ellipse",m)},p.path=function(k){var l;return f(k,"object")&&!f(k,"array")?l=k:k&&(l={d:k}),this.el("path",l)},p.group=p.g=function(k){var l=this.el("g");return 1==arguments.length&&k&&!k.type?l.attr(k):arguments.length&&l.add(Array.prototype.slice.call(arguments,0)),l},p.svg=function(n,o,z,A,B,C,k,l){var m={};return f(n,"object")&&null==o?m=n:(null!=n&&(m.x=n),null!=o&&(m.y=o),null!=z&&(m.width=z),null!=A&&(m.height=A),null!=B&&null!=C&&null!=k&&null!=l&&(m.viewBox=[B,C,k,l])),this.el("svg",m)},p.mask=function(k){var l=this.el("mask");return 1==arguments.length&&k&&!k.type?l.attr(k):arguments.length&&l.add(Array.prototype.slice.call(arguments,0)),l},p.ptrn=function(n,o,z,A,B,C,k,l){if(f(n,"object")){var m=n}else{m={patternUnits:"userSpaceOnUse"},n&&(m.x=n),o&&(m.y=o),null!=z&&(m.width=z),null!=A&&(m.height=A),m.viewBox=null!=B&&null!=C&&null!=k&&null!=l?[B,C,k,l]:[n||0,o||0,z||0,A||0]}return this.el("pattern",m)},p.use=function(k){return null!=k?(k instanceof r&&(k.attr("id")||k.attr({id:q._.id(k)}),k=k.attr("id")),"#"==String(k).charAt()&&(k=k.substring(1)),this.el("use",{"xlink:href":"#"+k})):r.prototype.use.call(this)},p.symbol=function(n,o,k,l){var m={};return null!=n&&null!=o&&null!=k&&null!=l&&(m.viewBox=[n,o,k,l]),this.el("symbol",m)},p.text=function(m,n,k){var l={};return f(m,"object")?l=m:null!=m&&(l={x:m,y:n,text:k||""}),this.el("text",l)},p.line=function(n,o,k,l){var m={};return f(n,"object")?m=n:null!=n&&(m={x1:n,x2:k,y1:o,y2:l}),this.el("line",m)},p.polyline=function(k){arguments.length>1&&(k=Array.prototype.slice.call(arguments,0));var l={};return f(k,"object")&&!f(k,"array")?l=k:null!=k&&(l={points:k}),this.el("polyline",l)},p.polygon=function(k){arguments.length>1&&(k=Array.prototype.slice.call(arguments,0));var l={};return f(k,"object")&&!f(k,"array")?l=k:null!=k&&(l={points:k}),this.el("polygon",l)},function(){function k(){return this.selectAll("stop")}function l(s,t){var u=x("stop"),A={offset:+t+"%"};return s=q.color(s),A["stop-color"]=s.hex,s.opacity<1&&(A["stop-opacity"]=s.opacity),x(u,A),this.node.appendChild(u),this}function m(){if("linearGradient"==this.type){var t=x(this.node,"x1")||0,u=x(this.node,"x2")||1,E=x(this.node,"y1")||0,G=x(this.node,"y2")||0;return q._.box(t,E,math.abs(u-t),math.abs(G-E))}var s=this.node.cx||0.5,D=this.node.cy||0.5,F=this.node.r||0;return q._.box(s-F,D-F,2*F,2*F)}function n(N,O){function P(A,B){for(var y=(B-I)/(A-K),z=K;A>z;z++){u[z].offset=+(+I+y*(z-K)).toFixed(2)}K=A,I=B}var s,t=d("snap.util.grad.parse",null,O).firstDefined();if(!t){return null}t.params.unshift(N),s="l"==t.type.toLowerCase()?o.apply(0,t.params):v.apply(0,t.params),t.type!=t.type.toLowerCase()&&x(s.node,{gradientUnits:"userSpaceOnUse"});var u=t.stops,H=u.length,I=0,K=0;H--;for(var L=0;H>L;L++){"offset" in u[L]&&P(L,u[L].offset)}for(u[H].offset=u[H].offset||100,P(H,u[H].offset),L=0;H>=L;L++){var M=u[L];s.addStop(M.color,M.offset)}return s}function o(u,C,t,B,D){var s=q._.make("linearGradient",u);return s.stops=k,s.addStop=l,s.getBBox=m,null!=C&&x(s.node,{x1:C,y1:t,x2:B,y2:D}),s}function v(t,D,F,s,C,E){var u=q._.make("radialGradient",t);return u.stops=k,u.addStop=l,u.getBBox=m,null!=D&&x(u.node,{cx:D,cy:F,r:s}),null!=C&&null!=E&&x(u.node,{fx:C,fy:E}),u}var x=q._.$;p.gradient=function(s){return n(this.defs,s)},p.gradientLinear=function(s,t,u,A){return o(this.defs,s,t,u,A)},p.gradientRadial=function(t,u,s,B,C){return v(this.defs,t,u,s,B,C)},p.toString=function(){var t,u=this.node.ownerDocument,s=u.createDocumentFragment(),B=u.createElement("div"),C=this.node.cloneNode(!0);return s.appendChild(B),B.appendChild(C),q._.$(C,{xmlns:"http://www.w3.org/2000/svg"}),t=B.innerHTML,s.removeChild(s.firstChild),t},p.toDataURL=function(){return c&&c.btoa?"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(this))):void 0},p.clear=function(){for(var s,t=this.node.firstChild;t;){s=t.nextSibling,"defs"!=t.tagName?t.parentNode.removeChild(t):p.clear.call({node:t}),t=s}}}()}),b.plugin(function(I,K){function L(Y){var Z=L.ps=L.ps||{};return Z[Y]?Z[Y].sleep=100:Z[Y]={sleep:100},setTimeout(function(){for(var ai in Z){Z[v](ai)&&ai!=Y&&(Z[ai].sleep--,!Z[ai].sleep&&delete Z[ai])}}),Z[Y]}function M(Z,ai,aj,Y){return null==Z&&(Z=ai=aj=Y=0),null==ai&&(ai=Z.y,aj=Z.width,Y=Z.height,Z=Z.x),{x:Z,y:ai,width:aj,w:aj,height:Y,h:Y,x2:Z+aj,y2:ai+Y,cx:Z+aj/2,cy:ai+Y/2,r1:z.min(aj,Y)/2,r2:z.max(aj,Y)/2,r0:z.sqrt(aj*aj+Y*Y)/2,path:ah(Z,ai,aj,Y),vb:[Z,ai,aj,Y].join(" ")}}function N(){return this.join(",").replace(x,"$1")}function O(Y){var Z=u(Y);return Z.toString=N,Z}function P(ao,Y,Z,ai,aj,ak,al,am,an){return null==an?W(ao,Y,Z,ai,aj,ak,al,am):R(ao,Y,Z,ai,aj,ak,al,am,X(ao,Y,Z,ai,aj,ak,al,am,an))}function Q(ai,Y){function Z(aj){return +(+aj).toFixed(3)}return I._.cacher(function(aj,ak,al){aj instanceof K&&(aj=aj.attr("d")),aj=p(aj);for(var am,ap,aq,ar,at,au="",av={},an=0,ao=0,aw=aj.length;aw>ao;ao++){if(aq=aj[ao],"M"==aq[0]){am=+aq[1],ap=+aq[2]}else{if(ar=P(am,ap,aq[1],aq[2],aq[3],aq[4],aq[5],aq[6]),an+ar>ak){if(Y&&!av.start){if(at=P(am,ap,aq[1],aq[2],aq[3],aq[4],aq[5],aq[6],ak-an),au+=["C"+Z(at.start.x),Z(at.start.y),Z(at.m.x),Z(at.m.y),Z(at.x),Z(at.y)],al){return au}av.start=au,au=["M"+Z(at.x),Z(at.y)+"C"+Z(at.n.x),Z(at.n.y),Z(at.end.x),Z(at.end.y),Z(aq[5]),Z(aq[6])].join(),an+=ar,am=+aq[5],ap=+aq[6];continue}if(!ai&&!Y){return at=P(am,ap,aq[1],aq[2],aq[3],aq[4],aq[5],aq[6],ak-an)}}an+=ar,am=+aq[5],ap=+aq[6]}au+=aq.shift()+aq}return av.end=au,at=ai?an:Y?av:R(am,ap,aq[0],aq[1],aq[2],aq[3],aq[4],aq[5],1)},null,I._.clone)}function R(Z,Y,ai,aj,ak,al,am,an,ao){var ap=1-ao,aq=D(ap,3),ar=D(ap,2),at=ao*ao,au=at*ao,aw=aq*Z+3*ar*ao*ai+3*ap*ao*ao*ak+au*am,ax=aq*Y+3*ar*ao*aj+3*ap*ao*ao*al+au*an,ay=Z+2*ao*(ai-Z)+at*(ak-2*ai+Z),az=Y+2*ao*(aj-Y)+at*(al-2*aj+Y),aA=ai+2*ao*(ak-ai)+at*(am-2*ak+ai),aB=aj+2*ao*(al-aj)+at*(an-2*al+aj),aC=ap*Z+ao*ai,aD=ap*Y+ao*aj,aE=ap*ak+ao*am,aF=ap*al+ao*an,av=90-180*z.atan2(ay-aA,az-aB)/A;return{x:aw,y:ax,m:{x:ay,y:az},n:{x:aA,y:aB},start:{x:aC,y:aD},end:{x:aE,y:aF},alpha:av}}function S(Y,Z,ai,aj,ak,al,am,an){I.is(Y,"array")||(Y=[Y,Z,ai,aj,ak,al,am,an]);var ao=o.apply(null,Y);return M(ao.min.x,ao.min.y,ao.max.x-ao.min.x,ao.max.y-ao.min.y)}function T(Z,ai,Y){return ai>=Z.x&&ai<=Z.x+Z.width&&Y>=Z.y&&Y<=Z.y+Z.height}function U(Y,Z){return Y=M(Y),Z=M(Z),T(Z,Y.x,Y.y)||T(Z,Y.x2,Y.y)||T(Z,Y.x,Y.y2)||T(Z,Y.x2,Y.y2)||T(Y,Z.x,Z.y)||T(Y,Z.x2,Z.y)||T(Y,Z.x,Z.y2)||T(Y,Z.x2,Z.y2)||(Y.x<Z.x2&&Y.x>Z.x||Z.x<Y.x2&&Z.x>Y.x)&&(Y.y<Z.y2&&Y.y>Z.y||Z.y<Y.y2&&Z.y>Y.y)}function V(Z,ai,aj,ak,al){var am=-3*ai+9*aj-9*ak+3*al,Y=Z*am+6*ai-12*aj+6*ak;return Z*Y-3*ai+3*aj}function W(Y,Z,ai,aj,am,ao,ap,at,au){null==au&&(au=1),au=au>1?1:0>au?0:au;for(var av=au/2,aw=12,ax=[-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],ay=[0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],ak=0,al=0;aw>al;al++){var an=av*ax[al]+av,aq=V(an,Y,ai,am,ap),ar=V(an,Z,aj,ao,at),az=aq*aq+ar*ar;ak+=ay[al]*z.sqrt(az)}return av*ak}function X(ai,ak,al,an,ao,ap,aq,ar,at){if(!(0>at||W(ai,ak,al,an,ao,ap,aq,ar)<at)){var au,Y=1,Z=Y/2,aj=Y-Z,am=0.01;for(au=W(ai,ak,al,an,ao,ap,aq,ar,aj);E(au-at)>am;){Z/=2,aj+=(at>au?1:-1)*Z,au=W(ai,ak,al,an,ao,ap,aq,ar,aj)}return aj}}function aa(av,Z,aj,al,am,an,ao,ap){if(!(C(av,aj)<B(am,ao)||B(av,aj)>C(am,ao)||C(Z,al)<B(an,ap)||B(Z,al)>C(an,ap))){var aq=(av*al-Z*aj)*(am-ao)-(av-aj)*(am*ap-an*ao),ar=(av*al-Z*aj)*(an-ap)-(Z-al)*(am*ap-an*ao),at=(av-aj)*(an-ap)-(Z-al)*(am-ao);if(at){var au=aq/at,Y=ar/at,ai=+au.toFixed(2),ak=+Y.toFixed(2);if(!(ai<+B(av,aj).toFixed(2)||ai>+C(av,aj).toFixed(2)||ai<+B(am,ao).toFixed(2)||ai>+C(am,ao).toFixed(2)||ak<+B(Z,al).toFixed(2)||ak>+C(Z,al).toFixed(2)||ak<+B(an,ap).toFixed(2)||ak>+C(an,ap).toFixed(2))){return{x:au,y:Y}}}}}function ab(Y,Z,aj){var ai=S(Y),ak=S(Z);if(!U(ai,ak)){return aj?0:[]}for(var al=W.apply(0,Y),am=W.apply(0,Z),an=~~(al/8),ao=~~(am/8),ap=[],aq=[],at={},av=aj?0:[],ax=0;an+1>ax;ax++){var az=R.apply(0,Y.concat(ax/an));ap.push({x:az.x,y:az.y,t:ax/an})}for(ax=0;ao+1>ax;ax++){az=R.apply(0,Z.concat(ax/ao)),aq.push({x:az.x,y:az.y,t:ax/ao})}for(ax=0;an>ax;ax++){for(var aA=0;ao>aA;aA++){var aB=ap[ax],aC=ap[ax+1],aD=aq[aA],aE=aq[aA+1],aF=E(aC.x-aB.x)<0.001?"y":"x",ar=E(aE.x-aD.x)<0.001?"y":"x",au=aa(aB.x,aB.y,aC.x,aC.y,aD.x,aD.y,aE.x,aE.y);if(au){if(at[au.x.toFixed(4)]==au.y.toFixed(4)){continue}at[au.x.toFixed(4)]=au.y.toFixed(4);var aw=aB.t+E((au[aF]-aB[aF])/(aC[aF]-aB[aF]))*(aC.t-aB.t),ay=aD.t+E((au[ar]-aD[ar])/(aE[ar]-aD[ar]))*(aE.t-aD.t);aw>=0&&1>=aw&&ay>=0&&1>=ay&&(aj?av++:av.push({x:au.x,y:au.y,t1:aw,t2:ay}))}}}return av}function ac(Y,Z){return ae(Y,Z)}function ad(Y,Z){return ae(Y,Z,1)}function ae(Y,Z,ai){Y=p(Y),Z=p(Z);for(var aj,ak,al,am,an,ao,ap,ar,au,av,aw=ai?0:[],ax=0,ay=Y.length;ay>ax;ax++){var az=Y[ax];if("M"==az[0]){aj=an=az[1],ak=ao=az[2]}else{"C"==az[0]?(au=[aj,ak].concat(az.slice(1)),aj=au[6],ak=au[7]):(au=[aj,ak,aj,ak,an,ao,an,ao],aj=an,ak=ao);for(var aA=0,aC=Z.length;aC>aA;aA++){var aD=Z[aA];if("M"==aD[0]){al=ap=aD[1],am=ar=aD[2]}else{"C"==aD[0]?(av=[al,am].concat(aD.slice(1)),al=av[6],am=av[7]):(av=[al,am,al,am,ap,ar,ap,ar],al=ap,am=ar);var aq=ab(au,av,ai);if(ai){aw+=aq}else{for(var at=0,aB=aq.length;aB>at;at++){aq[at].segment1=ax,aq[at].segment2=aA,aq[at].bez1=au,aq[at].bez2=av}aw=aw.concat(aq)}}}}}return aw}function af(Z,ai,aj){var Y=ag(Z);return T(Y,ai,aj)&&ae(Z,[["M",ai,aj],["H",Y.x2+10]],1)%2==1}function ag(av){var Z=L(av);if(Z.bbox){return u(Z.bbox)}if(!av){return M()}av=p(av);for(var ai,aj=0,ak=0,an=[],ao=[],ap=0,aq=av.length;aq>ap;ap++){if(ai=av[ap],"M"==ai[0]){aj=ai[1],ak=ai[2],an.push(aj),ao.push(ak)}else{var ar=o(aj,ak,ai[1],ai[2],ai[3],ai[4],ai[5],ai[6]);an=an.concat(ar.min.x,ar.max.x),ao=ao.concat(ar.min.y,ar.max.y),aj=ai[5],ak=ai[6]}}var at=B.apply(0,an),au=B.apply(0,ao),Y=C.apply(0,an),al=C.apply(0,ao),am=M(at,au,Y-at,al-au);return Z.bbox=u(am),am}function ah(Z,ai,aj,ak,al){if(al){return[["M",+Z+ +al,ai],["l",aj-2*al,0],["a",al,al,0,0,1,al,al],["l",0,ak-2*al],["a",al,al,0,0,1,-al,al],["l",2*al-aj,0],["a",al,al,0,0,1,-al,-al],["l",0,2*al-ak],["a",al,al,0,0,1,al,-al],["z"]]}var Y=[["M",Z,ai],["l",aj,0],["l",0,ak],["l",-aj,0],["z"]];return Y.toString=N,Y}function i(am,an,ao,ap,aq){if(null==aq&&null==ap&&(ap=ao),am=+am,an=+an,ao=+ao,ap=+ap,null!=aq){var Y=Math.PI/180,Z=am+ao*Math.cos(-ap*Y),ai=am+ao*Math.cos(-aq*Y),aj=an+ao*Math.sin(-ap*Y),ak=an+ao*Math.sin(-aq*Y),al=[["M",Z,aj],["A",ao,ao,0,+(aq-ap>180),0,ai,ak]]}else{al=[["M",am,an],["m",0,-ap],["a",ao,ap,0,1,1,0,2*ap],["a",ao,ap,0,1,1,0,-2*ap],["z"]]}return al.toString=N,al}function j(Y){var Z=L(Y),ai=String.prototype.toLowerCase;if(Z.rel){return O(Z.rel)}I.is(Y,"array")&&I.is(Y&&Y[0],"array")||(Y=I.parsePathString(Y));var aj=[],am=0,ao=0,ap=0,aq=0,ar=0;"M"==Y[0][0]&&(am=Y[0][1],ao=Y[0][2],ap=am,aq=ao,ar++,aj.push(["M",am,ao]));for(var at=ar,au=Y.length;au>at;at++){var av=aj[at]=[],aw=Y[at];if(aw[0]!=ai.call(aw[0])){switch(av[0]=ai.call(aw[0]),av[0]){case"a":av[1]=aw[1],av[2]=aw[2],av[3]=aw[3],av[4]=aw[4],av[5]=aw[5],av[6]=+(aw[6]-am).toFixed(3),av[7]=+(aw[7]-ao).toFixed(3);break;case"v":av[1]=+(aw[1]-ao).toFixed(3);break;case"m":ap=aw[1],aq=aw[2];default:for(var ak=1,al=aw.length;al>ak;ak++){av[ak]=+(aw[ak]-(ak%2?am:ao)).toFixed(3)}}}else{av=aj[at]=[],"m"==aw[0]&&(ap=aw[1]+am,aq=aw[2]+ao);for(var an=0,ax=aw.length;ax>an;an++){aj[at][an]=aw[an]}}var ay=aj[at].length;switch(aj[at][0]){case"z":am=ap,ao=aq;break;case"h":am+=+aj[at][ay-1];break;case"v":ao+=+aj[at][ay-1];break;default:am+=+aj[at][ay-2],ao+=+aj[at][ay-1]}}return aj.toString=N,Z.rel=O(aj),aj}function k(Y){var Z=L(Y);if(Z.abs){return O(Z.abs)}if(t(Y,"array")&&t(Y&&Y[0],"array")||(Y=I.parsePathString(Y)),!Y||!Y.length){return[["M",0,0]]}var ai,aj=[],ak=0,an=0,ap=0,aq=0,ar=0;"M"==Y[0][0]&&(ak=+Y[0][1],an=+Y[0][2],ap=ak,aq=an,ar++,aj[0]=["M",ak,an]);for(var at,au,av=3==Y.length&&"M"==Y[0][0]&&"R"==Y[1][0].toUpperCase()&&"Z"==Y[2][0].toUpperCase(),aw=ar,ax=Y.length;ax>aw;aw++){if(aj.push(at=[]),au=Y[aw],ai=au[0],ai!=ai.toUpperCase()){switch(at[0]=ai.toUpperCase(),at[0]){case"A":at[1]=au[1],at[2]=au[2],at[3]=au[3],at[4]=au[4],at[5]=au[5],at[6]=+au[6]+ak,at[7]=+au[7]+an;break;case"V":at[1]=+au[1]+an;break;case"H":at[1]=+au[1]+ak;break;case"R":for(var al=[ak,an].concat(au.slice(1)),am=2,ao=al.length;ao>am;am++){al[am]=+al[am]+ak,al[++am]=+al[am]+an}aj.pop(),aj=aj.concat(r(al,av));break;case"O":aj.pop(),al=i(ak,an,au[1],au[2]),al.push(al[0]),aj=aj.concat(al);break;case"U":aj.pop(),aj=aj.concat(i(ak,an,au[1],au[2],au[3])),at=["U"].concat(aj[aj.length-1].slice(-2));break;case"M":ap=+au[1]+ak,aq=+au[2]+an;default:for(am=1,ao=au.length;ao>am;am++){at[am]=+au[am]+(am%2?ak:an)}}}else{if("R"==ai){al=[ak,an].concat(au.slice(1)),aj.pop(),aj=aj.concat(r(al,av)),at=["R"].concat(au.slice(-2))}else{if("O"==ai){aj.pop(),al=i(ak,an,au[1],au[2]),al.push(al[0]),aj=aj.concat(al)}else{if("U"==ai){aj.pop(),aj=aj.concat(i(ak,an,au[1],au[2],au[3])),at=["U"].concat(aj[aj.length-1].slice(-2))}else{for(var ay=0,az=au.length;az>ay;ay++){at[ay]=au[ay]}}}}}if(ai=ai.toUpperCase(),"O"!=ai){switch(at[0]){case"Z":ak=+ap,an=+aq;break;case"H":ak=at[1];break;case"V":an=at[1];break;case"M":ap=at[at.length-2],aq=at[at.length-1];default:ak=at[at.length-2],an=at[at.length-1]}}}return aj.toString=N,Z.abs=O(aj),aj}function l(Z,ai,aj,Y){return[Z,ai,aj,Y,aj,Y]}function m(Z,ai,aj,ak,al,am){var an=1/3,Y=2/3;return[an*Z+Y*aj,an*ai+Y*ak,an*al+Y*aj,an*am+Y*ak,al,am]}function n(at,av,ax,az,aB,aD,aF,aH,aI,aJ){var aK,aL=120*A/180,aM=A/180*(+aB||0),aN=[],aO=I._.cacher(function(aY,aZ,a0){var a1=aY*z.cos(a0)-aZ*z.sin(a0),aX=aY*z.sin(a0)+aZ*z.cos(a0);return{x:a1,y:aX}});if(aJ){ap=aJ[0],aq=aJ[1],aW=aJ[2],bx=aJ[3]}else{aK=aO(at,av,-aM),at=aK.x,av=aK.y,aK=aO(aH,aI,-aM),aH=aK.x,aI=aK.y;var aP=(z.cos(A/180*aB),z.sin(A/180*aB),(at-aH)/2),aQ=(av-aI)/2,aR=aP*aP/(ax*ax)+aQ*aQ/(az*az);aR>1&&(aR=z.sqrt(aR),ax=aR*ax,az=aR*az);var aS=ax*ax,aT=az*az,aV=(aD==aF?-1:1)*z.sqrt(E((aS*aT-aS*aQ*aQ-aT*aP*aP)/(aS*aQ*aQ+aT*aP*aP))),aW=aV*ax*aQ/az+(at+aH)/2,bx=aV*-az*aP/ax+(av+aI)/2,ap=z.asin(((av-bx)/az).toFixed(9)),aq=z.asin(((aI-bx)/az).toFixed(9));ap=aW>at?A-ap:ap,aq=aW>aH?A-aq:aq,0>ap&&(ap=2*A+ap),0>aq&&(aq=2*A+aq),aF&&ap>aq&&(ap-=2*A),!aF&&aq>ap&&(aq-=2*A)}var ar=aq-ap;if(E(ar)>aL){var au=aq,aw=aH,ay=aI;aq=ap+aL*(aF&&aq>ap?1:-1),aH=aW+ax*z.cos(aq),aI=bx+az*z.sin(aq),aN=n(aH,aI,ax,az,aB,0,aF,aw,ay,[aq,au,aW,bx])}ar=aq-ap;var aA=z.cos(ap),aC=z.sin(ap),aE=z.cos(aq),aG=z.sin(aq),am=z.tan(ar/4),an=4/3*ax*am,ao=4/3*az*am,Y=[at,av],Z=[at+an*aC,av-ao*aA],ai=[aH+an*aG,aI-ao*aE],aj=[aH,aI];if(Z[0]=2*Y[0]-Z[0],Z[1]=2*Y[1]-Z[1],aJ){return[Z,ai,aj].concat(aN)}aN=[Z,ai,aj].concat(aN).join().split(",");for(var ak=[],al=0,aU=aN.length;aU>al;al++){ak[al]=al%2?aO(aN[al-1],aN[al],aM).y:aO(aN[al],aN[al+1],aM).x}return ak}function o(Y,Z,ai,aj,ak,al,am,an){for(var ao,aq,au,av,aw,ax,ay,az,aA=[],aB=[[],[]],aC=0;2>aC;++aC){if(0==aC?(aq=6*Y-12*ai+6*ak,ao=-3*Y+9*ai-9*ak+3*am,au=3*ai-3*Y):(aq=6*Z-12*aj+6*al,ao=-3*Z+9*aj-9*al+3*an,au=3*aj-3*Z),E(ao)<1e-12){if(E(aq)<1e-12){continue}av=-au/aq,av>0&&1>av&&aA.push(av)}else{ay=aq*aq-4*au*ao,az=z.sqrt(ay),0>ay||(aw=(-aq+az)/(2*ao),aw>0&&1>aw&&aA.push(aw),ax=(-aq-az)/(2*ao),ax>0&&1>ax&&aA.push(ax))}}for(var ap,ar=aA.length,at=ar;ar--;){av=aA[ar],ap=1-av,aB[0][ar]=ap*ap*ap*Y+3*ap*ap*av*ai+3*ap*av*av*ak+av*av*av*am,aB[1][ar]=ap*ap*ap*Z+3*ap*ap*av*aj+3*ap*av*av*al+av*av*av*an}return aB[0][at]=Y,aB[1][at]=Z,aB[0][at+1]=am,aB[1][at+1]=an,aB[0].length=aB[1].length=at+2,{min:{x:B.apply(0,aB[0]),y:B.apply(0,aB[1])},max:{x:C.apply(0,aB[0]),y:C.apply(0,aB[1])}}}function p(Y,Z){var ai=!Z&&L(Y);if(!Z&&ai.curve){return O(ai.curve)}for(var aj=k(Y),ak=Z&&k(Z),al={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},am={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},aq=(function(aC,aD,aE){var aF,aB;if(!aC){return["C",aD.x,aD.y,aD.x,aD.y,aD.x,aD.y]}switch(!(aC[0] in {T:1,Q:1})&&(aD.qx=aD.qy=null),aC[0]){case"M":aD.X=aC[1],aD.Y=aC[2];break;case"A":aC=["C"].concat(n.apply(0,[aD.x,aD.y].concat(aC.slice(1))));break;case"S":"C"==aE||"S"==aE?(aF=2*aD.x-aD.bx,aB=2*aD.y-aD.by):(aF=aD.x,aB=aD.y),aC=["C",aF,aB].concat(aC.slice(1));break;case"T":"Q"==aE||"T"==aE?(aD.qx=2*aD.x-aD.qx,aD.qy=2*aD.y-aD.qy):(aD.qx=aD.x,aD.qy=aD.y),aC=["C"].concat(m(aD.x,aD.y,aD.qx,aD.qy,aC[1],aC[2]));break;case"Q":aD.qx=aC[1],aD.qy=aC[2],aC=["C"].concat(m(aD.x,aD.y,aC[1],aC[2],aC[3],aC[4]));break;case"L":aC=["C"].concat(l(aD.x,aD.y,aC[1],aC[2]));break;case"H":aC=["C"].concat(l(aD.x,aD.y,aC[1],aD.y));break;case"V":aC=["C"].concat(l(aD.x,aD.y,aD.x,aC[1]));break;case"Z":aC=["C"].concat(l(aD.x,aD.y,aD.X,aD.Y))}return aC}),ar=function(aC,aD){if(aC[aD].length>7){aC[aD].shift();for(var aB=aC[aD];aB.length;){au[aD]="A",ak&&(av[aD]="A"),aC.splice(aD++,0,["C"].concat(aB.splice(0,6)))}aC.splice(aD,1),az=C(aj.length,ak&&ak.length||0)}},at=function(aC,aD,aE,aF,aB){aC&&aD&&"M"==aC[aB][0]&&"M"!=aD[aB][0]&&(aD.splice(aB,0,["M",aF.x,aF.y]),aE.bx=0,aE.by=0,aE.x=aC[aB][1],aE.y=aC[aB][2],az=C(aj.length,ak&&ak.length||0))},au=[],av=[],aw="",ax="",ay=0,az=C(aj.length,ak&&ak.length||0);az>ay;ay++){aj[ay]&&(aw=aj[ay][0]),"C"!=aw&&(au[ay]=aw,ay&&(ax=au[ay-1])),aj[ay]=aq(aj[ay],al,ax),"A"!=au[ay]&&"C"==aw&&(au[ay]="C"),ar(aj,ay),ak&&(ak[ay]&&(aw=ak[ay][0]),"C"!=aw&&(av[ay]=aw,ay&&(ax=av[ay-1])),ak[ay]=aq(ak[ay],am,ax),"A"!=av[ay]&&"C"==aw&&(av[ay]="C"),ar(ak,ay)),at(aj,ak,al,am,ay),at(ak,aj,am,al,ay);var an=aj[ay],ao=ak&&ak[ay],ap=an.length,aA=ak&&ao.length;al.x=an[ap-2],al.y=an[ap-1],al.bx=y(an[ap-4])||al.x,al.by=y(an[ap-3])||al.y,am.bx=ak&&(y(ao[aA-4])||am.x),am.by=ak&&(y(ao[aA-3])||am.y),am.x=ak&&ao[aA-2],am.y=ak&&ao[aA-1]}return ak||(ai.curve=O(aj)),ak?[aj,ak]:aj}function q(ao,Y){if(!Y){return ao}var Z,ai,aj,ak,al,am,an;for(ao=p(ao),aj=0,al=ao.length;al>aj;aj++){for(an=ao[aj],ak=1,am=an.length;am>ak;ak+=2){Z=Y.x(an[ak],an[ak+1]),ai=Y.y(an[ak],an[ak+1]),an[ak]=Z,an[ak+1]=ai}}return ao}function r(Z,ai){for(var aj=[],ak=0,al=Z.length;al-2*!ai>ak;ak+=2){var Y=[{x:+Z[ak-2],y:+Z[ak-1]},{x:+Z[ak],y:+Z[ak+1]},{x:+Z[ak+2],y:+Z[ak+3]},{x:+Z[ak+4],y:+Z[ak+5]}];ai?ak?al-4==ak?Y[3]={x:+Z[0],y:+Z[1]}:al-2==ak&&(Y[2]={x:+Z[0],y:+Z[1]},Y[3]={x:+Z[2],y:+Z[3]}):Y[0]={x:+Z[al-2],y:+Z[al-1]}:al-4==ak?Y[3]=Y[2]:ak||(Y[0]={x:+Z[ak],y:+Z[ak+1]}),aj.push(["C",(-Y[0].x+6*Y[1].x+Y[2].x)/6,(-Y[0].y+6*Y[1].y+Y[2].y)/6,(Y[1].x+6*Y[2].x-Y[3].x)/6,(Y[1].y+6*Y[2].y-Y[3].y)/6,Y[2].x,Y[2].y])}return aj}var s=K.prototype,t=I.is,u=I._.clone,v="hasOwnProperty",x=/,?([a-z]),?/gi,y=parseFloat,z=Math,A=z.PI,B=z.min,C=z.max,D=z.pow,E=z.abs,F=Q(1),G=Q(),H=Q(0,1),f=I._unit2px,h={path:function(Y){return Y.attr("path")},circle:function(Y){var Z=f(Y);return i(Z.cx,Z.cy,Z.r)},ellipse:function(Y){var Z=f(Y);return i(Z.cx||0,Z.cy||0,Z.rx,Z.ry)},rect:function(Y){var Z=f(Y);return ah(Z.x||0,Z.y||0,Z.width,Z.height,Z.rx,Z.ry)},image:function(Y){var Z=f(Y);return ah(Z.x||0,Z.y||0,Z.width,Z.height)},line:function(Y){return"M"+[Y.attr("x1")||0,Y.attr("y1")||0,Y.attr("x2"),Y.attr("y2")]},polyline:function(Y){return"M"+Y.attr("points")},polygon:function(Y){return"M"+Y.attr("points")+"z"},deflt:function(Y){var Z=Y.node.getBBox();return ah(Z.x,Z.y,Z.width,Z.height)}};I.path=L,I.path.getTotalLength=F,I.path.getPointAtLength=G,I.path.getSubpath=function(Z,ai,aj){if(this.getTotalLength(Z)-aj<0.000001){return H(Z,ai).end}var Y=H(Z,aj,1);return ai?H(Y,ai).end:Y},s.getTotalLength=function(){return this.node.getTotalLength?this.node.getTotalLength():void 0},s.getPointAtLength=function(Y){return G(this.attr("d"),Y)},s.getSubpath=function(Y,Z){return I.path.getSubpath(this.attr("d"),Y,Z)},I._.box=M,I.path.findDotsAtSegment=R,I.path.bezierBBox=S,I.path.isPointInsideBBox=T,I.closest=function(av,Y,Z,ai){for(var aj=100,am=M(av-aj/2,Y-aj/2,aj,aj),an=[],ap=Z[0].hasOwnProperty("x")?function(aw){return{x:Z[aw].x,y:Z[aw].y}}:function(aw){return{x:Z[aw],y:ai[aw]}},aq=0;1000000>=aj&&!aq;){for(var ar=0,at=Z.length;at>ar;ar++){var au=ap(ar);if(T(am,au.x,au.y)){aq++,an.push(au);break}}aq||(aj*=2,am=M(av-aj/2,Y-aj/2,aj,aj))}if(1000000!=aj){var ak,al=1/0;for(ar=0,at=an.length;at>ar;ar++){var ao=I.len(av,Y,an[ar].x,an[ar].y);al>ao&&(al=ao,an[ar].len=ao,ak=an[ar])}return ak}},I.path.isBBoxIntersect=U,I.path.intersection=ac,I.path.intersectionNumber=ad,I.path.isPointInside=af,I.path.getBBox=ag,I.path.get=h,I.path.toRelative=j,I.path.toAbsolute=k,I.path.toCubic=p,I.path.map=q,I.path.toString=N,I.path.clone=O}),b.plugin(function(h){var f=Math.max,i=Math.min,j=function(m){if(this.items=[],this.bindings={},this.length=0,this.type="set",m){for(var l=0,k=m.length;k>l;l++){m[l]&&(this[this.items.length]=this.items[this.items.length]=m[l],this.length++)}}},n=j.prototype;n.push=function(){for(var m,r,k=0,l=arguments.length;l>k;k++){m=arguments[k],m&&(r=this.items.length,this[r]=this.items[r]=m,this.length++)}return this},n.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},n.forEach=function(m,r){for(var k=0,l=this.items.length;l>k;k++){if(m.call(r,this.items[k],k)===!1){return this}}return this},n.animate=function(A,C,D,E){"function"!=typeof D||D.length||(E=D,D=a.linear),A instanceof h._.Animation&&(E=A.callback,D=A.easing,C=D.dur,A=A.attr);var F=arguments;if(h.is(A,"array")&&h.is(F[F.length-1],"array")){var G=!0}var k,l=function(){k?this.b=k:k=this.b},m=0,z=this,B=E&&function(){++m==z.length&&E.call(this)};return this.forEach(function(o,p){d.once("snap.animcreated."+o.id,l),G?F[p]&&o.animate.apply(o,F[p]):o.animate(A,C,D,B)})},n.remove=function(){for(;this.length;){this.pop().remove()}return this},n.bind=function(s,t,k){var l={};if("function"==typeof t){this.bindings[s]=t}else{var m=k||s;this.bindings[s]=function(o){l[m]=o,t.attr(l)}}return this},n.attr=function(s){var t={};for(var k in s){this.bindings[k]?this.bindings[k](s[k]):t[k]=s[k]}for(var l=0,m=this.items.length;m>l;l++){this.items[l].attr(t)}return this},n.clear=function(){for(;this.length;){this.pop()}},n.splice=function(x,v){x=0>x?f(this.length+x,0):x,v=f(0,i(this.length-x,v));var k,l=[],m=[],t=[];for(k=2;k<arguments.length;k++){t.push(arguments[k])}for(k=0;v>k;k++){m.push(this[x+k])}for(;k<this.length-x;k++){l.push(this[x+k])}var u=t.length;for(k=0;k<u+l.length;k++){this.items[x+k]=this[x+k]=u>k?t[k]:l[k-u]}for(k=this.items.length=this.length-=v-u;this[k];){delete this[k++]}return new j(m)},n.exclude=function(m){for(var l=0,k=this.length;k>l;l++){if(this[l]==m){return this.splice(l,1),!0}}return !1},n.insertAfter=function(l){for(var k=this.items.length;k--;){this.items[k].insertAfter(l)}return this},n.getBBox=function(){for(var u=[],t=[],k=[],l=[],m=this.items.length;m--;){if(!this.items[m].removed){var s=this.items[m].getBBox();u.push(s.x),t.push(s.y),k.push(s.x+s.width),l.push(s.y+s.height)}}return u=i.apply(0,u),t=i.apply(0,t),k=f.apply(0,k),l=f.apply(0,l),{x:u,y:t,x2:k,y2:l,width:k-u,height:l-t,cx:u+(k-u)/2,cy:t+(l-t)/2}},n.clone=function(m){m=new j;for(var l=0,k=this.items.length;k>l;l++){m.push(this.items[l].clone())}return m},n.toString=function(){return"Snaps set"},n.type="set",h.Set=j,h.set=function(){var k=new j;return arguments.length&&k.push.apply(k,Array.prototype.slice.call(arguments,0)),k}}),b.plugin(function(K,h){function j(q){var r=q[0];switch(r.toLowerCase()){case"t":return[r,0,0];case"m":return[r,1,0,0,1,0,0];case"r":return 4==q.length?[r,0,q[2],q[3]]:[r,0];case"s":return 5==q.length?[r,1,1,q[3],q[4]]:3==q.length?[r,1,1]:[r,1]}}function k(t,u,v){u=n(u).replace(/\.{3}|\u2026/g,t),t=K.parseTransformString(t)||[],u=K.parseTransformString(u)||[];for(var y,z,A,B,q=Math.max(t.length,u.length),r=[],s=[],x=0;q>x;x++){if(A=t[x]||j(u[x]),B=u[x]||j(A),A[0]!=B[0]||"r"==A[0].toLowerCase()&&(A[2]!=B[2]||A[3]!=B[3])||"s"==A[0].toLowerCase()&&(A[3]!=B[3]||A[4]!=B[4])){t=K._.transform2matrix(t,v()),u=K._.transform2matrix(u,v()),r=[["m",t.a,t.b,t.c,t.d,t.e,t.f]],s=[["m",u.a,u.b,u.c,u.d,u.e,u.f]];break}for(r[x]=[],s[x]=[],y=0,z=Math.max(A.length,B.length);z>y;y++){y in A&&(r[x][y]=A[y]),y in B&&(s[x][y]=B[y])}}return{from:G(r),to:G(s),f:F(r)}}function l(q){return q}function m(q){return function(r){return +r.toFixed(3)+q}}function o(q){return q.join(" ")}function p(q){return K.rgb(q[0],q[1],q[2])}function F(x){var y,z,q,r,s,t,u=0,v=[];for(y=0,z=x.length;z>y;y++){for(s="[",t=['"'+x[y][0]+'"'],q=1,r=x[y].length;r>q;q++){t[q]="val["+u+++"]"}s+=t+"]",v[y]=s}return Function("val","return Snap.path.toString.call(["+v+"])")}function G(r){for(var s=[],t=0,u=r.length;u>t;t++){for(var v=1,q=r[t].length;q>v;v++){s.push(r[t][v])}}return s}function H(q){return isFinite(parseFloat(q))}function I(q,r){return K.is(q,"array")&&K.is(r,"array")?q.toString()==r.toString():!1}var f={},i=/[a-z]+$/i,n=String;f.stroke=f.fill="colour",h.prototype.equal=function(r,q){return d("snap.util.equal",this,r,q).firstDefined()},d.on("snap.util.equal",function(s,u){var v,x,y=n(this.attr(s)||""),q=this;if(H(y)&&H(u)){return{from:parseFloat(y),to:parseFloat(u),f:l}}if("colour"==f[s]){return v=K.color(y),x=K.color(u),{from:[v.r,v.g,v.b,v.opacity],to:[x.r,x.g,x.b,x.opacity],f:p}}if("viewBox"==s){return v=this.attr(s).vb.split(" ").map(Number),x=u.split(" ").map(Number),{from:v,to:x,f:o}}if("transform"==s||"gradientTransform"==s||"patternTransform"==s){return u instanceof K.Matrix&&(u=u.toTransformString()),K._.rgTransform.test(u)||(u=K._.svgTransform2string(u)),k(y,u,function(){return q.getBBox(1)})}if("d"==s||"path"==s){return v=K.path.toCubic(y,u),{from:G(v[0]),to:G(v[1]),f:F(v[0])}}if("points"==s){return v=n(y).split(K._.separator),x=n(u).split(K._.separator),{from:v,to:x,f:function(z){return z}}}var r=y.match(i),t=n(u).match(i);return r&&I(r,t)?{from:parseFloat(y),to:parseFloat(u),f:m(r)}:{from:this.asPX(s),to:this.asPX(s,u),f:l}})}),b.plugin(function(f,h,k,m){for(var n=h.prototype,p="hasOwnProperty",r=("createTouch" in m.doc),M=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","touchstart","touchmove","touchend","touchcancel"],N={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},O=(function(u,v){var x="y"==u?"scrollTop":"scrollLeft",t=v&&v.node?v.node.ownerDocument:m.doc;return t[x in t.documentElement?"documentElement":"body"][x]}),P=function(){return this.originalEvent.preventDefault()},i=function(){return this.originalEvent.stopPropagation()},j=function(u,v,x,y){var z=r&&N[v]?N[v]:v,t=function(F){var B=O("y",y),A=O("x",y);if(r&&N[p](v)){for(var C=0,D=F.targetTouches&&F.targetTouches.length;D>C;C++){if(F.targetTouches[C].target==u||u.contains(F.targetTouches[C].target)){var H=F;F=F.targetTouches[C],F.originalEvent=H,F.preventDefault=P,F.stopPropagation=i;break}}}var E=F.clientX+A,G=F.clientY+B;return x.call(y,F,E,G)};return v!==z&&u.addEventListener(v,t,!1),u.addEventListener(z,t,!1),function(){return v!==z&&u.removeEventListener(v,t,!1),u.removeEventListener(z,t,!1),!0}},l=[],o=function(A){for(var B,C=A.clientX,D=A.clientY,t=O("y"),u=O("x"),v=l.length;v--;){if(B=l[v],r){for(var x,y=A.touches&&A.touches.length;y--;){if(x=A.touches[y],x.identifier==B.el._drag.id||B.el.node.contains(x.target)){C=x.clientX,D=x.clientY,(A.originalEvent?A.originalEvent:A).preventDefault();break}}}else{A.preventDefault()}var z=B.el.node;z.nextSibling,z.parentNode,z.style.display;C+=u,D+=t,d("snap.drag.move."+B.el.id,B.move_scope||B.el,C-B.el._drag.x,D-B.el._drag.y,C,D,A)}},q=function(u){f.unmousemove(o).unmouseup(q);for(var v,t=l.length;t--;){v=l[t],v.el._drag={},d("snap.drag.end."+v.el.id,v.end_scope||v.start_scope||v.move_scope||v.el,u),d.off("snap.drag.*."+v.el.id)}l=[]},s=M.length;s--;){!function(t){f[t]=n[t]=function(y,z){if(f.is(y,"function")){this.events=this.events||[],this.events.push({name:t,f:y,unbind:j(this.node||document,t,y,z||this)})}else{for(var u=0,v=this.events.length;v>u;u++){if(this.events[u].name==t){try{this.events[u].f.call(this)}catch(x){}}}}return this},f["un"+t]=n["un"+t]=function(x){for(var u=this.events||[],v=u.length;v--;){if(u[v].name==t&&(u[v].f==x||!x)){return u[v].unbind(),u.splice(v,1),!u.length&&delete this.events,this}}return this}}(M[s])}n.hover=function(u,v,x,t){return this.mouseover(u,x).mouseout(v,t||x)},n.unhover=function(t,u){return this.unmouseover(t).unmouseout(u)};var Q=[];n.drag=function(A,B,D,t,u,v){function x(E,F,G){(E.originalEvent||E).preventDefault(),z._drag.x=F,z._drag.y=G,z._drag.id=E.identifier,!l.length&&f.mousemove(o).mouseup(q),l.push({el:z,move_scope:t,start_scope:u,end_scope:v}),B&&d.on("snap.drag.start."+z.id,B),A&&d.on("snap.drag.move."+z.id,A),D&&d.on("snap.drag.end."+z.id,D),d("snap.drag.start."+z.id,u||t||z,F,G,E)}function y(F,G,E){d("snap.draginit."+z.id,z,F,G,E)}var z=this;if(!arguments.length){var C;return z.drag(function(E,F){this.attr({transform:C+(C?"T":"t")+[E,F]})},function(){C=this.transform().local})}return d.on("snap.draginit."+z.id,x),z._drag={},Q.push({el:z,start:x,init:y}),z.mousedown(y),z},n.undrag=function(){for(var t=Q.length;t--;){Q[t].el==this&&(this.unmousedown(Q[t].init),Q.splice(t,1),d.unbind("snap.drag.*."+this.id),d.unbind("snap.draginit."+this.id))}return !Q.length&&f.unmousemove(o).unmouseup(q),this}}),b.plugin(function(h,q,r){var s=(q.prototype,r.prototype),f=/^\s*url\((.+)\)/,i=String,j=h._.$;h.filter={},s.filter=function(k){var l=this;"svg"!=l.type&&(l=l.paper);var m=h.parse(i(k)),n=h._.id(),o=(l.node.offsetWidth,l.node.offsetHeight,j("filter"));return j(o,{id:n,filterUnits:"userSpaceOnUse"}),o.appendChild(m.node),l.defs.appendChild(o),new q(o)},d.on("snap.util.getattr.filter",function(){d.stop();var l=j(this.node,"filter");if(l){var k=i(l).match(f);return k&&h.select(k[1])}}),d.on("snap.util.attr.filter",function(l){if(l instanceof q&&"filter"==l.type){d.stop();var k=l.node.id;k||(j(l.node,{id:l.id}),k=l.id),j(this.node,{filter:h.url(k)})}l&&"none"!=l||(d.stop(),this.node.removeAttribute("filter"))}),h.filter.blur=function(k,l){null==k&&(k=2);var m=null==l?k:[k,l];return h.format('<feGaussianBlur stdDeviation="{def}"/>',{def:m})},h.filter.blur.toString=function(){return this()},h.filter.shadow=function(k,l,m,n,o){return"string"==typeof m&&(n=m,o=n,m=4),"string"!=typeof n&&(o=n,n="#000"),n=n||"#000",null==m&&(m=4),null==o&&(o=1),null==k&&(k=0,l=2),null==l&&(l=k),n=h.color(n),h.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',{color:n,dx:k,dy:l,blur:m,opacity:o})},h.filter.shadow.toString=function(){return this()},h.filter.grayscale=function(k){return null==k&&(k=1),h.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:0.2126+0.7874*(1-k),b:0.7152-0.7152*(1-k),c:0.0722-0.0722*(1-k),d:0.2126-0.2126*(1-k),e:0.7152+0.2848*(1-k),f:0.0722-0.0722*(1-k),g:0.2126-0.2126*(1-k),h:0.0722+0.9278*(1-k)})},h.filter.grayscale.toString=function(){return this()},h.filter.sepia=function(k){return null==k&&(k=1),h.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:0.393+0.607*(1-k),b:0.769-0.769*(1-k),c:0.189-0.189*(1-k),d:0.349-0.349*(1-k),e:0.686+0.314*(1-k),f:0.168-0.168*(1-k),g:0.272-0.272*(1-k),h:0.534-0.534*(1-k),i:0.131+0.869*(1-k)})},h.filter.sepia.toString=function(){return this()},h.filter.saturate=function(k){return null==k&&(k=1),h.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-k})},h.filter.saturate.toString=function(){return this()},h.filter.hueRotate=function(k){return k=k||0,h.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:k})},h.filter.hueRotate.toString=function(){return this()},h.filter.invert=function(k){return null==k&&(k=1),h.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:k,amount2:1-k})},h.filter.invert.toString=function(){return this()},h.filter.brightness=function(k){return null==k&&(k=1),h.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:k})},h.filter.brightness.toString=function(){return this()},h.filter.contrast=function(k){return null==k&&(k=1),h.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',{amount:k,amount2:0.5-k/2})},h.filter.contrast.toString=function(){return this()}}),b.plugin(function(h,i){var j=h._.box,q=h.is,r=/^[^a-z]*([tbmlrc])/i,f=function(){return"T"+this.dx+","+this.dy};i.prototype.getAlign=function(n,o){null==o&&q(n,"string")&&(o=n,n=null),n=n||this.paper;var k=n.getBBox?n.getBBox():j(n),l=this.getBBox(),m={};switch(o=o&&o.match(r),o=o?o[1].toLowerCase():"c"){case"t":m.dx=0,m.dy=k.y-l.y;break;case"b":m.dx=0,m.dy=k.y2-l.y2;break;case"m":m.dx=0,m.dy=k.cy-l.cy;break;case"l":m.dx=k.x-l.x,m.dy=0;break;case"r":m.dx=k.x2-l.x2,m.dy=0;break;default:m.dx=k.cx-l.cx,m.dy=0}return m.toString=f,m},i.prototype.align=function(k,l){return this.transform("..."+this.getAlign(k,l))}}),b});!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){function G(r,s){var p,q=document.createElement(r||"div");for(p in s){q[p]=s[p]}return q}function b(q){for(var r=1,p=arguments.length;p>r;r++){q.appendChild(arguments[r])}return q}function d(v,x,y,p){var q=["opacity",x,~~(100*v),y,p].join("-"),r=0.01+y/p*100,s=Math.max(1-(1-v)/x*(100-r),v),t=n.substring(0,n.indexOf("Animation")).toLowerCase(),u=t&&"-"+t+"-"||"";return a[q]||(o.insertRule("@"+u+"keyframes "+q+"{0%{opacity:"+s+"}"+r+"%{opacity:"+v+"}"+(r+0.01)+"%{opacity:1}"+(r+x)%100+"%{opacity:"+v+"}100%{opacity:"+s+"}}",o.cssRules.length),a[q]=1),q}function h(s,t){var p,q,r=s.style;if(t=t.charAt(0).toUpperCase()+t.slice(1),void 0!==r[t]){return t}for(q=0;q<F.length;q++){if(p=F[q]+t,void 0!==r[p]){return p}}}function i(q,r){for(var p in r){q.style[h(q,p)||p]=r[p]}return q}function j(r){for(var s=1;s<arguments.length;s++){var p=arguments[s];for(var q in p){void 0===r[q]&&(r[q]=p[q])}}return r}function k(p,q){return"string"==typeof p?p:p[q%p.length]}function l(p){this.opts=j(p||{},l.defaults,c)}function m(){function p(r,q){return G("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',q)}o.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(u,v){function x(){return i(p("group",{coordsize:r+" "+r,coordorigin:-q+" "+-q}),{width:r,height:r})}function y(C,A,B){b(t,b(i(x(),{rotation:360/v.lines*C+"deg",left:~~A}),b(i(p("roundrect",{arcsize:v.corners}),{width:q,height:v.scale*v.width,left:v.scale*v.radius,top:-v.scale*v.width>>1,filter:B}),p("fill",{color:k(v.color,C),opacity:v.opacity}),p("stroke",{opacity:0}))))}var z,q=v.scale*(v.length+v.width),r=2*v.scale*q,s=-(v.width+v.length)*v.scale*2+"px",t=i(x(),{position:"absolute",top:s,left:s});if(v.shadow){for(z=1;z<=v.lines;z++){y(z,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(z=1;z<=v.lines;z++){y(z)}return b(u,t)},l.prototype.opacity=function(t,u,q,r){var s=t.firstChild;r=r.shadow&&r.lines||0,s&&u+r<s.childNodes.length&&(s=s.childNodes[u+r],s=s&&s.firstChild,s=s&&s.firstChild,s&&(s.opacity=q))}}var n,o,F=["webkit","Moz","ms","O"],a={},c={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:0.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(l.defaults={},j(l.prototype,{spin:function(q){this.stop();var r=this,s=r.opts,t=r.el=G(null,{className:s.className});if(i(t,{position:s.position,width:0,zIndex:s.zIndex,left:s.left,top:s.top}),q&&q.insertBefore(t,q.firstChild||null),t.setAttribute("role","progressbar"),r.lines(t,r.opts),!n){var u,v=0,y=(s.lines-1)*(1-s.direction)/2,z=s.fps,A=z/s.speed,B=(1-s.opacity)/(A*s.trail/100),p=A/s.lines;!function x(){v++;for(var C=0;C<s.lines;C++){u=Math.max(1-(v+(s.lines-C)*p)%A*B,s.opacity),r.opacity(t,C*s.direction+y,u,s)}r.timeout=r.el&&setTimeout(x,~~(1000/z))}()}return r},stop:function(){var p=this.el;return p&&(clearTimeout(this.timeout),p.parentNode&&p.parentNode.removeChild(p),this.el=void 0),this},lines:function(u,q){function s(x,v){return i(G(),{position:"absolute",width:q.scale*(q.length+q.width)+"px",height:q.scale*q.width+"px",background:x,boxShadow:v,transformOrigin:"left",transform:"rotate("+~~(360/q.lines*p+q.rotate)+"deg) translate("+q.scale*q.radius+"px,0)",borderRadius:(q.corners*q.scale*q.width>>1)+"px"})}for(var t,p=0,r=(q.lines-1)*(1-q.direction)/2;p<q.lines;p++){t=i(G(),{position:"absolute",top:1+~(q.scale*q.width/2)+"px",transform:q.hwaccel?"translate3d(0,0,0)":"",opacity:q.opacity,animation:n&&d(q.opacity,q.trail,r+p*q.direction,q.lines)+" "+1/q.speed+"s linear infinite"}),q.shadow&&b(t,i(s("#000","0 0 4px #000"),{top:"2px"})),b(u,b(t,s(k(q.color,p),"0 0 1px rgba(0,0,0,.1)")))}return u},opacity:function(q,r,p){r<q.childNodes.length&&(q.childNodes[r].style.opacity=p)}}),"undefined"!=typeof document){o=function(){var p=G("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],p),p.sheet||p.styleSheet}();var f=i(G("group"),{behavior:"url(#default#VML)"});!h(f,"transform")&&f.adj?m():n=h(f,"animation")}return l});(function(b){if(typeof exports=="object"){b(require("jquery"),require("spin.js"))}else{if(typeof define=="function"&&define.amd){define(["jquery","spin"],b)}else{if(!window.Spinner){throw new Error("Spin.js not present")}b(window.jQuery,window.Spinner)}}}(function(c,d){c.fn.spin=function(a,b){return this.each(function(){var i=c(this),j=i.data();if(j.spinner){j.spinner.stop();delete j.spinner}if(a!==false){a=c.extend({color:b||i.css("color")},c.fn.spin.presets[a]||a);j.spinner=new d(a).spin(this)}})};c.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}));
/*! jQuery UI - v1.9.2 - 2012-11-23
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.draggable.js, jquery.ui.droppable.js, jquery.ui.resizable.js, jquery.ui.selectable.js, jquery.ui.sortable.js, jquery.ui.effect.js, jquery.ui.accordion.js, jquery.ui.autocomplete.js, jquery.ui.button.js, jquery.ui.datepicker.js, jquery.ui.dialog.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js, jquery.ui.menu.js, jquery.ui.position.js, jquery.ui.progressbar.js, jquery.ui.slider.js, jquery.ui.spinner.js, jquery.ui.tabs.js, jquery.ui.tooltip.js
* Copyright 2012 jQuery Foundation and other contributors; Licensed MIT */
(function(l,i){function j(b,f){var a,c,h,d=b.nodeName.toLowerCase();return"area"===d?(a=b.parentNode,c=a.name,!b.href||!c||a.nodeName.toLowerCase()!=="map"?!1:(h=l("img[usemap=#"+c+"]")[0],!!h&&n(h))):(/input|select|textarea|button|object/.test(d)?!b.disabled:"a"===d?b.href||f:f)&&n(b)}function n(a){return l.expr.filters.visible(a)&&!l(a).parents().andSelf().filter(function(){return l.css(this,"visibility")==="hidden"}).length}var k=0,m=/^ui-id-\d+$/;l.ui=l.ui||{};if(l.ui.version){return}l.extend(l.ui,{version:"1.9.2",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),l.fn.extend({_focus:l.fn.focus,focus:function(b,a){return typeof b=="number"?this.each(function(){var c=this;setTimeout(function(){l(c).focus(),a&&a.call(c)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return l.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(l.css(this,"position"))&&/(auto|scroll)/.test(l.css(this,"overflow")+l.css(this,"overflow-y")+l.css(this,"overflow-x"))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(l.css(this,"overflow")+l.css(this,"overflow-y")+l.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?l(document):a},zIndex:function(a){if(a!==i){return this.css("zIndex",a)}if(this.length){var b=l(this[0]),d,c;while(b.length&&b[0]!==document){d=b.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){c=parseInt(b.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++k)})},removeUniqueId:function(){return this.each(function(){m.test(this.id)&&l(this).removeAttr("id")})}}),l.extend(l.expr[":"],{data:l.expr.createPseudo?l.expr.createPseudo(function(a){return function(b){return !!l.data(b,a)}}):function(c,a,b){return !!l.data(c,b[3])},focusable:function(a){return j(a,!isNaN(l.attr(a,"tabindex")))},tabbable:function(c){var a=l.attr(c,"tabindex"),b=isNaN(a);return(b||a>=0)&&j(c,!b)}}),l(function(){var b=document.body,a=b.appendChild(a=document.createElement("div"));a.offsetHeight,l.extend(a.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),l.support.minHeight=a.offsetHeight===100,l.support.selectstart="onselectstart" in a,b.removeChild(a).style.display="none"}),l("<a>").outerWidth(1).jquery||l.each(["Width","Height"],function(f,a){function d(r,p,q,s){return l.each(c,function(){p-=parseFloat(l.css(r,"padding"+this))||0,q&&(p-=parseFloat(l.css(r,"border"+this+"Width"))||0),s&&(p-=parseFloat(l.css(r,"margin"+this))||0)}),p}var c=a==="Width"?["Left","Right"]:["Top","Bottom"],b=a.toLowerCase(),h={innerWidth:l.fn.innerWidth,innerHeight:l.fn.innerHeight,outerWidth:l.fn.outerWidth,outerHeight:l.fn.outerHeight};l.fn["inner"+a]=function(o){return o===i?h["inner"+a].call(this):this.each(function(){l(this).css(b,d(this,o)+"px")})},l.fn["outer"+a]=function(p,q){return typeof p!="number"?h["outer"+a].call(this,p):this.each(function(){l(this).css(b,d(this,p,!0,q)+"px")})}}),l("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(l.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,l.camelCase(b)):a.call(this)}}(l.fn.removeData)),function(){var a=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];l.ui.ie=a.length?!0:!1,l.ui.ie6=parseFloat(a[1],10)===6}(),l.fn.extend({disableSelection:function(){return this.bind((l.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),l.extend(l.ui,{plugin:{add:function(c,f,a){var d,b=l.ui[c].prototype;for(d in a){b.plugins[d]=b.plugins[d]||[],b.plugins[d].push([f,a[d]])}},call:function(a,c,f){var b,d=a.plugins[c];if(!d||!a.element[0].parentNode||a.element[0].parentNode.nodeType===11){return}for(b=0;b<d.length;b++){a.options[d[b][0]]&&d[b][1].apply(a.element,f)}}},contains:l.contains,hasScroll:function(c,a){if(l(c).css("overflow")==="hidden"){return !1}var b=a&&a==="left"?"scrollLeft":"scrollTop",d=!1;return c[b]>0?!0:(c[b]=1,d=c[b]>0,c[b]=0,d)},isOverAxis:function(b,c,a){return b>c&&b<c+a},isOver:function(c,f,a,d,b,h){return l.ui.isOverAxis(c,a,b)&&l.ui.isOverAxis(f,d,h)}})})(jQuery),function(k,h){var j=0,l=Array.prototype.slice,i=k.cleanData;k.cleanData=function(d){for(var a=0,b;(b=d[a])!=null;a++){try{k(b).triggerHandler("remove")}catch(c){}}i(d)},k.widget=function(b,d,r){var c,a,o,f,n=b.split(".")[0];b=b.split(".")[1],c=n+"-"+b,r||(r=d,d=k.Widget),k.expr[":"][c.toLowerCase()]=function(m){return !!k.data(m,c)},k[n]=k[n]||{},a=k[n][b],o=k[n][b]=function(p,m){if(!this._createWidget){return new o(p,m)}arguments.length&&this._createWidget(p,m)},k.extend(o,a,{version:r.version,_proto:k.extend({},r),_childConstructors:[]}),f=new d,f.options=k.widget.extend({},f.options),k.each(r,function(m,p){k.isFunction(p)&&(r[m]=function(){var t=function(){return d.prototype[m].apply(this,arguments)},q=function(s){return d.prototype[m].apply(this,s)};return function(){var y=this._super,s=this._superApply,v;return this._super=t,this._superApply=q,v=p.apply(this,arguments),this._super=y,this._superApply=s,v}}())}),o.prototype=k.widget.extend(f,{widgetEventPrefix:a?f.widgetEventPrefix:b},r,{constructor:o,namespace:n,widgetName:b,widgetBaseClass:c,widgetFullName:c}),a?(k.each(a._childConstructors,function(m,p){var q=p.prototype;k.widget(q.namespace+"."+q.widgetName,o,p._proto)}),delete a._childConstructors):d._childConstructors.push(o),k.widget.bridge(b,o)},k.widget.extend=function(n){var c=l.call(arguments,1),b=0,a=c.length,d,f;for(;b<a;b++){for(d in c[b]){f=c[b][d],c[b].hasOwnProperty(d)&&f!==h&&(k.isPlainObject(f)?n[d]=k.isPlainObject(n[d])?k.widget.extend({},n[d],f):k.widget.extend({},f):n[d]=f)}}return n},k.widget.bridge=function(a,c){var b=c.prototype.widgetFullName||a;k.fn[a]=function(p){var f=typeof p=="string",o=l.call(arguments,1),d=this;return p=!f&&o.length?k.widget.extend.apply(null,[p].concat(o)):p,f?this.each(function(){var m,n=k.data(this,b);if(!n){return k.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+p+"'")}if(!k.isFunction(n[p])||p.charAt(0)==="_"){return k.error("no such method '"+p+"' for "+a+" widget instance")}m=n[p].apply(n,o);if(m!==n&&m!==h){return d=m&&m.jquery?d.pushStack(m.get()):m,!1}}):this.each(function(){var m=k.data(this,b);m?m.option(p||{})._init():k.data(this,b,new c(p,this))}),d}},k.Widget=function(){},k.Widget._childConstructors=[],k.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=k(a||this.defaultElement||this)[0],this.element=k(a),this.uuid=j++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=k.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=k(),this.hoverable=k(),this.focusable=k(),a!==this&&(k.data(a,this.widgetName,this),k.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===a&&this.destroy()}}),this.document=k(a.style?a.ownerDocument:a.document||a),this.window=k(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:k.noop,_getCreateEventData:k.noop,_create:k.noop,_init:k.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(k.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:k.noop,widget:function(){return this.element},option:function(n,b){var d=n,c,a,f;if(arguments.length===0){return k.widget.extend({},this.options)}if(typeof n=="string"){d={},c=n.split("."),n=c.shift();if(c.length){a=d[n]=k.widget.extend({},this.options[n]);for(f=0;f<c.length-1;f++){a[c[f]]=a[c[f]]||{},a=a[c[f]]}n=c.pop();if(b===h){return a[n]===h?null:a[n]}a[n]=b}else{if(b===h){return this.options[n]===h?null:this.options[n]}d[n]=b}}return this._setOptions(d),this},_setOptions:function(a){var b;for(b in a){this._setOption(b,a[b])}return this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(d,a,b){var f,c=this;typeof d!="boolean"&&(b=a,a=d,d=!1),b?(a=f=k(a),this.bindings=this.bindings.add(a)):(b=a,a=this.element,f=this.widget()),k.each(b,function(u,o){function v(){if(!d&&(c.options.disabled===!0||k(this).hasClass("ui-state-disabled"))){return}return(typeof o=="string"?c[o]:o).apply(c,arguments)}typeof o!="string"&&(v.guid=o.guid=o.guid||v.guid||k.guid++);var x=u.match(/^(\w+)\s*(.*)$/),r=x[1]+c.eventNamespace,m=x[2];m?f.delegate(m,r,v):a.bind(r,v)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(b,d){function a(){return(typeof b=="string"?c[b]:b).apply(c,arguments)}var c=this;return setTimeout(a,d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(b){k(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){k(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(b){k(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){k(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(d,n,b){var f,c,a=this.options[d];b=b||{},n=k.Event(n),n.type=(d===this.widgetEventPrefix?d:this.widgetEventPrefix+d).toLowerCase(),n.target=this.element[0],c=n.originalEvent;if(c){for(f in c){f in n||(n[f]=c[f])}}return this.element.trigger(n,b),!(k.isFunction(a)&&a.apply(this.element[0],[n].concat(b))===!1||n.isDefaultPrevented())}},k.each({show:"fadeIn",hide:"fadeOut"},function(b,a){k.Widget.prototype["_"+b]=function(c,f,d){typeof f=="string"&&(f={effect:f});var p,o=f?f===!0||typeof f=="number"?a:f.effect||a:b;f=f||{},typeof f=="number"&&(f={duration:f}),p=!k.isEmptyObject(f),f.complete=d,f.delay&&c.delay(f.delay),p&&k.effects&&(k.effects.effect[o]||k.uiBackCompat!==!1&&k.effects[o])?c[b](f):o!==b&&c[o]?c[o](f.duration,f.easing,d):c.queue(function(m){k(this)[b](),d&&d.call(c[0]),m()})}}),k.uiBackCompat!==!1&&(k.Widget.prototype._getCreateOptions=function(){return k.metadata&&k.metadata.get(this.element[0])[this.widgetName]})}(jQuery),function(d,f){var h=!1;d(document).mouseup(function(a){h=!1}),d.widget("ui.mouse",{version:"1.9.2",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===d.data(b.target,a.widgetName+".preventClickEvent")){return d.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(h){return}this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var a=this,i=c.which===1,b=typeof this.options.cancel=="string"&&c.target.nodeName?d(c.target).closest(this.options.cancel).length:!1;if(!i||b||!this._mouseCapture(c)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=this._mouseStart(c)!==!1;if(!this._mouseStarted){return c.preventDefault(),!0}}return !0===d.data(c.target,this.widgetName+".preventClickEvent")&&d.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(j){return a._mouseMove(j)},this._mouseUpDelegate=function(j){return a._mouseUp(j)},d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),h=!0,!0},_mouseMove:function(a){return !d.ui.ie||document.documentMode>=9||!!a.button?this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted):this._mouseUp(a)},_mouseUp:function(a){return d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&d.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(a){return this.mouseDelayMet},_mouseStart:function(a){},_mouseDrag:function(a){},_mouseStop:function(a){},_mouseCapture:function(a){return !0}})}(jQuery),function(c,d){c.widget("ui.draggable",c.ui.mouse,{version:"1.9.2",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var a=this.options;return this.helper||a.disabled||c(b.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(b),this.handle?(c(a.iframeFix===!0?"iframe":a.iframeFix).each(function(){c('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(c(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var a=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),c.ui.ddmanager&&(c.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},c.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),a.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),c.ui.ddmanager&&c.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(h,a){this.position=this._generatePosition(h),this.positionAbs=this._convertPositionTo("absolute");if(!a){var b=this._uiHash();if(this._trigger("drag",h,b)===!1){return this._mouseUp({}),!1}this.position=b.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}return c.ui.ddmanager&&c.ui.ddmanager.drag(this,h),!1},_mouseStop:function(k){var a=!1;c.ui.ddmanager&&!this.options.dropBehaviour&&(a=c.ui.ddmanager.drop(this,k)),this.dropped&&(a=this.dropped,this.dropped=!1);var b=this.element[0],l=!1;while(b&&(b=b.parentNode)){b==document&&(l=!0)}if(!l&&this.options.helper==="original"){return !1}if(this.options.revert=="invalid"&&!a||this.options.revert=="valid"&&a||this.options.revert===!0||c.isFunction(this.options.revert)&&this.options.revert.call(this.element,a)){var i=this;c(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",k)!==!1&&i._clear()})}else{this._trigger("stop",k)!==!1&&this._clear()}return !1},_mouseUp:function(a){return c("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),c.ui.ddmanager&&c.ui.ddmanager.dragStop(this,a),c.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var a=!this.options.handle||!c(this.options.handle,this.element).length?!0:!1;return c(this.options.handle,this.element).find("*").andSelf().each(function(){this==b.target&&(a=!0)}),a},_createHelper:function(h){var a=this.options,b=c.isFunction(a.helper)?c(a.helper.apply(this.element[0],[h])):a.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return b.parents("body").length||b.appendTo(a.appendTo=="parent"?this.element[0].parentNode:a.appendTo),b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute"),b},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),c.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.ui.ie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var k=this.options;k.containment=="parent"&&(k.containment=this.helper[0].parentNode);if(k.containment=="document"||k.containment=="window"){this.containment=[k.containment=="document"?0:c(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,k.containment=="document"?0:c(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(k.containment=="document"?0:c(window).scrollLeft())+c(k.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(k.containment=="document"?0:c(window).scrollTop())+(c(k.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(k.containment)&&k.containment.constructor!=Array){var a=c(k.containment),b=a[0];if(!b){return}var l=a.offset(),i=c(b).css("overflow")!="hidden";this.containment=[(parseInt(c(b).css("borderLeftWidth"),10)||0)+(parseInt(c(b).css("paddingLeft"),10)||0),(parseInt(c(b).css("borderTopWidth"),10)||0)+(parseInt(c(b).css("paddingTop"),10)||0),(i?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(c(b).css("borderLeftWidth"),10)||0)-(parseInt(c(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(i?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(c(b).css("borderTopWidth"),10)||0)-(parseInt(c(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=a}else{k.containment.constructor==Array&&(this.containment=k.containment)}},_convertPositionTo:function(m,a){a||(a=this.position);var i=m=="absolute"?1:-1,n=this.options,l=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(l[0].tagName);return{top:a.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():b?0:l.scrollTop())*i,left:a.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():b?0:l.scrollLeft())*i}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var a;if(this.containment){if(this.relative_container){var b=this.relative_container.offset();a=[this.containment[0]+b.left,this.containment[1]+b.top,this.containment[2]+b.left,this.containment[3]+b.top]}else{a=this.containment}t.pageX-this.offset.click.left<a[0]&&(s=a[0]+this.offset.click.left),t.pageY-this.offset.click.top<a[1]&&(o=a[1]+this.offset.click.top),t.pageX-this.offset.click.left>a[2]&&(s=a[2]+this.offset.click.left),t.pageY-this.offset.click.top>a[3]&&(o=a[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=a?f-this.offset.click.top<a[1]||f-this.offset.click.top>a[3]?f-this.offset.click.top<a[1]?f+n.grid[1]:f-n.grid[1]:f:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=a?l-this.offset.click.left<a[0]||l-this.offset.click.left>a[2]?l-this.offset.click.left<a[0]?l+n.grid[0]:l-n.grid[0]:l:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(h,a,b){return b=b||this._uiHash(),c.ui.plugin.call(this,h,[a,b]),h=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),c.Widget.prototype._trigger.call(this,h,a,b)},plugins:{},_uiHash:function(a){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),c.ui.plugin.add("draggable","connectToSortable",{start:function(k,a){var b=c(this).data("draggable"),l=b.options,i=c.extend({},a,{item:b.element});b.sortables=[],c(l.connectToSortable).each(function(){var f=c.data(this,"sortable");f&&!f.options.disabled&&(b.sortables.push({instance:f,shouldRevert:f.options.revert}),f.refreshPositions(),f._trigger("activate",k,i))})},stop:function(i,a){var b=c(this).data("draggable"),j=c.extend({},a,{item:b.element});c.each(b.sortables,function(){this.instance.isOver?(this.instance.isOver=0,b.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(i),this.instance.options.helper=this.instance.options._helper,b.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",i,j))})},drag:function(k,a){var b=c(this).data("draggable"),l=this,i=function(s){var j=this.offset.click.top,o=this.offset.click.left,h=this.positionAbs.top,r=this.positionAbs.left,n=s.height,t=s.width,u=s.top,f=s.left;return c.ui.isOver(h+j,r+o,u,f,n,t)};c.each(b.sortables,function(h){var f=!1,j=this;this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,c.each(b.sortables,function(){return this.instance.positionAbs=b.positionAbs,this.instance.helperProportions=b.helperProportions,this.instance.offset.click=b.offset.click,this!=j&&this.instance._intersectsWith(this.instance.containerCache)&&c.ui.contains(j.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=c(l).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return a.helper[0]},k.target=this.instance.currentItem[0],this.instance._mouseCapture(k,!0),this.instance._mouseStart(k,!0,!0),this.instance.offset.click.top=b.offset.click.top,this.instance.offset.click.left=b.offset.click.left,this.instance.offset.parent.left-=b.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=b.offset.parent.top-this.instance.offset.parent.top,b._trigger("toSortable",k),b.dropped=this.instance.element,b.currentItem=b.element,this.instance.fromOutside=b),this.instance.currentItem&&this.instance._mouseDrag(k)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",k,this.instance._uiHash(this.instance)),this.instance._mouseStop(k,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),b._trigger("fromSortable",k),b.dropped=!1)})}}),c.ui.plugin.add("draggable","cursor",{start:function(i,a){var b=c("body"),j=c(this).data("draggable").options;b.css("cursor")&&(j._cursor=b.css("cursor")),b.css("cursor",j.cursor)},stop:function(h,a){var b=c(this).data("draggable").options;b._cursor&&c("body").css("cursor",b._cursor)}}),c.ui.plugin.add("draggable","opacity",{start:function(i,a){var b=c(a.helper),j=c(this).data("draggable").options;b.css("opacity")&&(j._opacity=b.css("opacity")),b.css("opacity",j.opacity)},stop:function(h,a){var b=c(this).data("draggable").options;b._opacity&&c(a.helper).css("opacity",b._opacity)}}),c.ui.plugin.add("draggable","scroll",{start:function(h,a){var b=c(this).data("draggable");b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"&&(b.overflowOffset=b.scrollParent.offset())},drag:function(k,a){var b=c(this).data("draggable"),l=b.options,i=!1;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){if(!l.axis||l.axis!="x"){b.overflowOffset.top+b.scrollParent[0].offsetHeight-k.pageY<l.scrollSensitivity?b.scrollParent[0].scrollTop=i=b.scrollParent[0].scrollTop+l.scrollSpeed:k.pageY-b.overflowOffset.top<l.scrollSensitivity&&(b.scrollParent[0].scrollTop=i=b.scrollParent[0].scrollTop-l.scrollSpeed)}if(!l.axis||l.axis!="y"){b.overflowOffset.left+b.scrollParent[0].offsetWidth-k.pageX<l.scrollSensitivity?b.scrollParent[0].scrollLeft=i=b.scrollParent[0].scrollLeft+l.scrollSpeed:k.pageX-b.overflowOffset.left<l.scrollSensitivity&&(b.scrollParent[0].scrollLeft=i=b.scrollParent[0].scrollLeft-l.scrollSpeed)}}else{if(!l.axis||l.axis!="x"){k.pageY-c(document).scrollTop()<l.scrollSensitivity?i=c(document).scrollTop(c(document).scrollTop()-l.scrollSpeed):c(window).height()-(k.pageY-c(document).scrollTop())<l.scrollSensitivity&&(i=c(document).scrollTop(c(document).scrollTop()+l.scrollSpeed))}if(!l.axis||l.axis!="y"){k.pageX-c(document).scrollLeft()<l.scrollSensitivity?i=c(document).scrollLeft(c(document).scrollLeft()-l.scrollSpeed):c(window).width()-(k.pageX-c(document).scrollLeft())<l.scrollSensitivity&&(i=c(document).scrollLeft(c(document).scrollLeft()+l.scrollSpeed))}}i!==!1&&c.ui.ddmanager&&!l.dropBehaviour&&c.ui.ddmanager.prepareOffsets(b,k)}}),c.ui.plugin.add("draggable","snap",{start:function(i,a){var b=c(this).data("draggable"),j=b.options;b.snapElements=[],c(j.snap.constructor!=String?j.snap.items||":data(draggable)":j.snap).each(function(){var h=c(this),f=h.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:h.outerWidth(),height:h.outerHeight(),top:f.top,left:f.left})})},drag:function(n,t){var P=c(this).data("draggable"),p=P.options,l=p.snapTolerance,u=t.offset.left,y=u+P.helperProportions.width,a=t.offset.top,i=a+P.helperProportions.height;for(var r=P.snapElements.length-1;r>=0;r--){var f=P.snapElements[r].left,o=f+P.snapElements[r].width,v=P.snapElements[r].top,h=v+P.snapElements[r].height;if(!(f-l<u&&u<o+l&&v-l<a&&a<h+l||f-l<u&&u<o+l&&v-l<i&&i<h+l||f-l<y&&y<o+l&&v-l<a&&a<h+l||f-l<y&&y<o+l&&v-l<i&&i<h+l)){P.snapElements[r].snapping&&P.options.snap.release&&P.options.snap.release.call(P.element,n,c.extend(P._uiHash(),{snapItem:P.snapElements[r].item})),P.snapElements[r].snapping=!1;continue}if(p.snapMode!="inner"){var Q=Math.abs(v-i)<=l,s=Math.abs(h-a)<=l,m=Math.abs(f-y)<=l,R=Math.abs(o-u)<=l;Q&&(t.position.top=P._convertPositionTo("relative",{top:v-P.helperProportions.height,left:0}).top-P.margins.top),s&&(t.position.top=P._convertPositionTo("relative",{top:h,left:0}).top-P.margins.top),m&&(t.position.left=P._convertPositionTo("relative",{top:0,left:f-P.helperProportions.width}).left-P.margins.left),R&&(t.position.left=P._convertPositionTo("relative",{top:0,left:o}).left-P.margins.left)}var b=Q||s||m||R;if(p.snapMode!="outer"){var Q=Math.abs(v-a)<=l,s=Math.abs(h-i)<=l,m=Math.abs(f-u)<=l,R=Math.abs(o-y)<=l;Q&&(t.position.top=P._convertPositionTo("relative",{top:v,left:0}).top-P.margins.top),s&&(t.position.top=P._convertPositionTo("relative",{top:h-P.helperProportions.height,left:0}).top-P.margins.top),m&&(t.position.left=P._convertPositionTo("relative",{top:0,left:f}).left-P.margins.left),R&&(t.position.left=P._convertPositionTo("relative",{top:0,left:o-P.helperProportions.width}).left-P.margins.left)}!P.snapElements[r].snapping&&(Q||s||m||R||b)&&P.options.snap.snap&&P.options.snap.snap.call(P.element,n,c.extend(P._uiHash(),{snapItem:P.snapElements[r].item})),P.snapElements[r].snapping=Q||s||m||R||b}}}),c.ui.plugin.add("draggable","stack",{start:function(k,a){var b=c(this).data("draggable").options,l=c.makeArray(c(b.stack)).sort(function(h,f){return(parseInt(c(h).css("zIndex"),10)||0)-(parseInt(c(f).css("zIndex"),10)||0)});if(!l.length){return}var i=parseInt(l[0].style.zIndex)||0;c(l).each(function(f){this.style.zIndex=i+f}),this[0].style.zIndex=i+l.length}}),c.ui.plugin.add("draggable","zIndex",{start:function(i,a){var b=c(a.helper),j=c(this).data("draggable").options;b.css("zIndex")&&(j._zIndex=b.css("zIndex")),b.css("zIndex",j.zIndex)},stop:function(h,a){var b=c(this).data("draggable").options;b._zIndex&&c(a.helper).css("zIndex",b._zIndex)}})}(jQuery),function(c,d){c.widget("ui.droppable",{version:"1.9.2",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,a=b.accept;this.isover=0,this.isout=1,this.accept=c.isFunction(a)?a:function(h){return h.is(a)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},c.ui.ddmanager.droppables[b.scope]=c.ui.ddmanager.droppables[b.scope]||[],c.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var b=c.ui.ddmanager.droppables[this.options.scope];for(var a=0;a<b.length;a++){b[a]==this&&b.splice(a,1)}this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,a){b=="accept"&&(this.accept=c.isFunction(a)?a:function(h){return h.is(a)}),c.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var a=c.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),a&&this._trigger("activate",b,this.ui(a))},_deactivate:function(b){var a=c.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),a&&this._trigger("deactivate",b,this.ui(a))},_over:function(b){var a=c.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return}this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(a)))},_out:function(b){var a=c.ui.ddmanager.current;if(!a||(a.currentItem||a.element)[0]==this.element[0]){return}this.accept.call(this.element[0],a.currentItem||a.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(a)))},_drop:function(i,a){var b=a||c.ui.ddmanager.current;if(!b||(b.currentItem||b.element)[0]==this.element[0]){return !1}var j=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var f=c.data(this,"droppable");if(f.options.greedy&&!f.options.disabled&&f.options.scope==b.options.scope&&f.accept.call(f.element[0],b.currentItem||b.element)&&c.ui.intersect(b,c.extend(f,{offset:f.element.offset()}),f.options.tolerance)){return j=!0,!1}}),j?!1:this.accept.call(this.element[0],b.currentItem||b.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",i,this.ui(b)),this.element):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),c.ui.intersect=function(G,f,o){if(!f.offset){return !1}var s=(G.positionAbs||G.position.absolute).left,u=s+G.helperProportions.width,l=(G.positionAbs||G.position.absolute).top,a=l+G.helperProportions.height,b=f.offset.left,p=b+f.proportions.width,t=f.offset.top,h=t+f.proportions.height;switch(o){case"fit":return b<=s&&u<=p&&t<=l&&a<=h;case"intersect":return b<s+G.helperProportions.width/2&&u-G.helperProportions.width/2<p&&t<l+G.helperProportions.height/2&&a-G.helperProportions.height/2<h;case"pointer":var r=(G.positionAbs||G.position.absolute).left+(G.clickOffset||G.offset.click).left,n=(G.positionAbs||G.position.absolute).top+(G.clickOffset||G.offset.click).top,i=c.ui.isOver(n,r,t,b,f.proportions.height,f.proportions.width);return i;case"touch":return(l>=t&&l<=h||a>=t&&a<=h||l<t&&a>h)&&(s>=b&&s<=p||u>=b&&u<=p||s<b&&u>p);default:return !1}},c.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(n,a){var i=c.ui.ddmanager.droppables[n.options.scope]||[],o=a?a.type:null,m=(n.currentItem||n.element).find(":data(droppable)").andSelf();c:for(var b=0;b<i.length;b++){if(i[b].options.disabled||n&&!i[b].accept.call(i[b].element[0],n.currentItem||n.element)){continue}for(var p=0;p<m.length;p++){if(m[p]==i[b].element[0]){i[b].proportions.height=0;continue c}}i[b].visible=i[b].element.css("display")!="none";if(!i[b].visible){continue}o=="mousedown"&&i[b]._activate.call(i[b],a),i[b].offset=i[b].element.offset(),i[b].proportions={width:i[b].element[0].offsetWidth,height:i[b].element[0].offsetHeight}}},drop:function(h,a){var b=!1;return c.each(c.ui.ddmanager.droppables[h.options.scope]||[],function(){if(!this.options){return}!this.options.disabled&&this.visible&&c.ui.intersect(h,this,this.options.tolerance)&&(b=this._drop.call(this,a)||b),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],h.currentItem||h.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,a))}),b},dragStart:function(b,a){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||c.ui.ddmanager.prepareOffsets(b,a)})},drag:function(b,a){b.options.refreshPositions&&c.ui.ddmanager.prepareOffsets(b,a),c.each(c.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return}var m=c.ui.intersect(b,this,this.options.tolerance),o=!m&&this.isover==1?"isout":m&&this.isover==0?"isover":null;if(!o){return}var n;if(this.options.greedy){var i=this.options.scope,p=this.element.parents(":data(droppable)").filter(function(){return c.data(this,"droppable").options.scope===i});p.length&&(n=c.data(p[0],"droppable"),n.greedyChild=o=="isover"?1:0)}n&&o=="isover"&&(n.isover=0,n.isout=1,n._out.call(n,a)),this[o]=1,this[o=="isout"?"isover":"isout"]=0,this[o=="isover"?"_over":"_out"].call(this,a),n&&o=="isout"&&(n.isout=0,n.isover=1,n._over.call(n,a))})},dragStop:function(b,a){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||c.ui.ddmanager.prepareOffsets(b,a)}}}(jQuery),function(j,h){j.widget("ui.resizable",j.ui.mouse,{version:"1.9.2",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var d=this,q=this.options;this.element.addClass("ui-resizable"),j.extend(this,{_aspectRatio:!!q.aspectRatio,aspectRatio:q.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:q.helper||q.ghost||q.animate?q.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(j('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=q.handles||(j(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var b=this.handles.split(",");this.handles={};for(var n=0;n<b.length;n++){var c=j.trim(b[n]),a="ui-resizable-"+c,o=j('<div class="ui-resizable-handle '+a+'"></div>');o.css({zIndex:q.zIndex}),"se"==c&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[c]=".ui-resizable-"+c,this.element.append(o)}}this._renderAxis=function(p){p=p||this.element;for(var k in this.handles){this.handles[k].constructor==String&&(this.handles[k]=j(this.handles[k],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var l=j(this.handles[k],this.element),r=0;r=/sw|ne|nw|se|n|s/.test(k)?l.outerHeight():l.outerWidth();var m=["padding",/ne|nw|n/.test(k)?"Top":/se|sw|s/.test(k)?"Bottom":/^e$/.test(k)?"Right":"Left"].join("");p.css(m,r),this._proportionallyResize()}if(!j(this.handles[k]).length){continue}}},this._renderAxis(this.element),this._handles=j(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!d.resizing){if(this.className){var k=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}d.axis=k&&k[1]?k[1]:"se"}}),q.autoHide&&(this._handles.hide(),j(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(q.disabled){return}j(this).removeClass("ui-resizable-autohide"),d._handles.show()}).mouseleave(function(){if(q.disabled){return}d.resizing||(j(this).addClass("ui-resizable-autohide"),d._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b=function(c){j(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){b(this.element);var a=this.element;this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")}).insertAfter(a),a.remove()}return this.originalElement.css("resize",this.originalResizeStyle),b(this.originalElement),this},_mouseCapture:function(c){var a=!1;for(var b in this.handles){j(this.handles[b])[0]==c.target&&(a=!0)}return !this.options.disabled&&a},_mouseStart:function(c){var a=this.options,d=this.element.position(),b=this.element;this.resizing=!0,this.documentScroll={top:j(document).scrollTop(),left:j(document).scrollLeft()},(b.is(".ui-draggable")||/absolute/.test(b.css("position")))&&b.css({position:"absolute",top:d.top,left:d.left}),this._renderProxy();var q=i(this.helper.css("left")),o=i(this.helper.css("top"));a.containment&&(q+=j(a.containment).scrollLeft()||0,o+=j(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:q,top:o},this.size=this._helper?{width:b.outerWidth(),height:b.outerHeight()}:{width:b.width(),height:b.height()},this.originalSize=this._helper?{width:b.outerWidth(),height:b.outerHeight()}:{width:b.width(),height:b.height()},this.originalPosition={left:q,top:o},this.sizeDiff={width:b.outerWidth()-b.width(),height:b.outerHeight()-b.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio=typeof a.aspectRatio=="number"?a.aspectRatio:this.originalSize.width/this.originalSize.height||1;var p=j(".ui-resizable-"+this.axis).css("cursor");return j("body").css("cursor",p=="auto"?this.axis+"-resize":p),b.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(u){var r=this.helper,l=this.options,o={},b=this,c=this.originalMousePosition,n=this.axis,s=u.pageX-c.left||0,t=u.pageY-c.top||0,a=this._change[n];if(!a){return !1}var d=a.apply(this,[u,s,t]);this._updateVirtualBoundaries(u.shiftKey);if(this._aspectRatio||u.shiftKey){d=this._updateRatio(d,u)}return d=this._respectSize(d,u),this._propagate("resize",u),r.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(d),this._trigger("resize",u,this.ui()),!1},_mouseStop:function(r){this.resizing=!1;var d=this.options,n=this;if(this._helper){var b=this._proportionallyResizeElements,o=b.length&&/textarea/i.test(b[0].nodeName),l=o&&j.ui.hasScroll(b[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,t={width:n.helper.width()-s,height:n.helper.height()-l},a=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;d.animate||this.element.css(j.extend(t,{top:c,left:a})),n.helper.height(n.size.height),n.helper.width(n.size.width),this._helper&&!d.animate&&this._proportionallyResize()}return j("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",r),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(b){var d=this.options,q,n,c,a,o;o={minWidth:f(d.minWidth)?d.minWidth:0,maxWidth:f(d.maxWidth)?d.maxWidth:Infinity,minHeight:f(d.minHeight)?d.minHeight:0,maxHeight:f(d.maxHeight)?d.maxHeight:Infinity};if(this._aspectRatio||b){q=o.minHeight*this.aspectRatio,c=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,q>o.minWidth&&(o.minWidth=q),c>o.minHeight&&(o.minHeight=c),n<o.maxWidth&&(o.maxWidth=n),a<o.maxHeight&&(o.maxHeight=a)}this._vBoundaries=o},_updateCache:function(a){var b=this.options;this.offset=this.helper.offset(),f(a.left)&&(this.position.left=a.left),f(a.top)&&(this.position.top=a.top),f(a.height)&&(this.size.height=a.height),f(a.width)&&(this.size.width=a.width)},_updateRatio:function(c,n){var a=this.options,o=this.position,d=this.size,b=this.axis;return f(c.height)?c.width=c.height*this.aspectRatio:f(c.width)&&(c.height=c.width/this.aspectRatio),b=="sw"&&(c.left=o.left+(d.width-c.width),c.top=null),b=="nw"&&(c.top=o.top+(d.height-c.height),c.left=o.left+(d.width-c.width)),c},_respectSize:function(t,I){var o=this.helper,b=this._vBoundaries,H=this._aspectRatio||I.shiftKey,p=this.axis,K=f(t.width)&&b.maxWidth&&b.maxWidth<t.width,d=f(t.height)&&b.maxHeight&&b.maxHeight<t.height,u=f(t.width)&&b.minWidth&&b.minWidth>t.width,c=f(t.height)&&b.minHeight&&b.minHeight>t.height;u&&(t.width=b.minWidth),c&&(t.height=b.minHeight),K&&(t.width=b.maxWidth),d&&(t.height=b.maxHeight);var l=this.originalPosition.left+this.originalSize.width,v=this.position.top+this.size.height,s=/sw|nw|w/.test(p),n=/nw|ne|n/.test(p);u&&s&&(t.left=l-b.minWidth),K&&s&&(t.left=l-b.maxWidth),c&&n&&(t.top=v-b.minHeight),d&&n&&(t.top=v-b.maxHeight);var a=!t.width&&!t.height;return a&&!t.left&&t.top?t.top=null:a&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){var n=this.options;if(!this._proportionallyResizeElements.length){return}var a=this.helper||this.element;for(var c=0;c<this._proportionallyResizeElements.length;c++){var o=this._proportionallyResizeElements[c];if(!this.borderDif){var d=[o.css("borderTopWidth"),o.css("borderRightWidth"),o.css("borderBottomWidth"),o.css("borderLeftWidth")],b=[o.css("paddingTop"),o.css("paddingRight"),o.css("paddingBottom"),o.css("paddingLeft")];this.borderDif=j.map(d,function(m,k){var l=parseInt(m,10)||0,r=parseInt(b[k],10)||0;return l+r})}o.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var c=this.element,a=this.options;this.elementOffset=c.offset();if(this._helper){this.helper=this.helper||j('<div style="overflow:hidden;"></div>');var b=j.ui.ie6?1:0,d=j.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+d,height:this.element.outerHeight()+d,position:"absolute",left:this.elementOffset.left-b+"px",top:this.elementOffset.top-b+"px",zIndex:++a.zIndex}),this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(b,c,a){return{width:this.originalSize.width+c}},w:function(b,n,a){var c=this.options,o=this.originalSize,d=this.originalPosition;return{left:d.left+n,width:o.width-n}},n:function(b,n,a){var c=this.options,o=this.originalSize,d=this.originalPosition;return{top:d.top+a,height:o.height-a}},s:function(b,c,a){return{height:this.originalSize.height+a}},se:function(c,a,b){return j.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[c,a,b]))},sw:function(c,a,b){return j.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[c,a,b]))},ne:function(c,a,b){return j.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[c,a,b]))},nw:function(c,a,b){return j.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[c,a,b]))}},_propagate:function(b,a){j.ui.plugin.call(this,b,[a,this.ui()]),b!="resize"&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),j.ui.plugin.add("resizable","alsoResize",{start:function(d,a){var b=j(this).data("resizable"),m=b.options,c=function(k){j(k).each(function(){var l=j(this);l.data("resizable-alsoresize",{width:parseInt(l.width(),10),height:parseInt(l.height(),10),left:parseInt(l.css("left"),10),top:parseInt(l.css("top"),10)})})};typeof m.alsoResize=="object"&&!m.alsoResize.parentNode?m.alsoResize.length?(m.alsoResize=m.alsoResize[0],c(m.alsoResize)):j.each(m.alsoResize,function(k){c(k)}):c(m.alsoResize)},resize:function(c,r){var a=j(this).data("resizable"),d=a.options,b=a.originalSize,s=a.originalPosition,n={height:a.size.height-b.height||0,width:a.size.width-b.width||0,top:a.position.top-s.top||0,left:a.position.left-s.left||0},o=function(k,l){j(k).each(function(){var q=j(this),t=j(this).data("resizable-alsoresize"),p={},m=l&&l.length?l:q.parents(r.originalElement[0]).length?["width","height"]:["width","height","top","left"];j.each(m,function(u,v){var x=(t[v]||0)+(n[v]||0);x&&x>=0&&(p[v]=x||null)}),q.css(p)})};typeof d.alsoResize=="object"&&!d.alsoResize.nodeType?j.each(d.alsoResize,function(l,k){o(l,k)}):o(d.alsoResize)},stop:function(b,a){j(this).removeData("resizable-alsoresize")}}),j.ui.plugin.add("resizable","animate",{stop:function(r,l){var o=j(this).data("resizable"),b=o.options,c=o._proportionallyResizeElements,n=c.length&&/textarea/i.test(c[0].nodeName),s=n&&j.ui.hasScroll(c[0],"left")?0:o.sizeDiff.height,t=n?0:o.sizeDiff.width,a={width:o.size.width-t,height:o.size.height-s},d=parseInt(o.element.css("left"),10)+(o.position.left-o.originalPosition.left)||null,u=parseInt(o.element.css("top"),10)+(o.position.top-o.originalPosition.top)||null;o.element.animate(j.extend(a,u&&d?{top:u,left:d}:{}),{duration:b.animateDuration,easing:b.animateEasing,step:function(){var k={width:parseInt(o.element.css("width"),10),height:parseInt(o.element.css("height"),10),top:parseInt(o.element.css("top"),10),left:parseInt(o.element.css("left"),10)};c&&c.length&&j(c[0]).css({width:k.width,height:k.height}),o._updateCache(k),o._propagate("resize",r)}})}}),j.ui.plugin.add("resizable","containment",{start:function(H,s){var c=j(this).data("resizable"),G=c.options,p=c.element,a=G.containment,d=a instanceof j?a.get(0):/parent/.test(a)?p.parent().get(0):a;if(!d){return}c.containerElement=j(d);if(/document/.test(a)||a==document){c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:j(document),left:0,top:0,width:j(document).width(),height:j(document).height()||document.body.parentNode.scrollHeight}}else{var u=j(d),o=[];j(["Top","Right","Left","Bottom"]).each(function(k,m){o[k]=i(u.css("padding"+m))}),c.containerOffset=u.offset(),c.containerPosition=u.position(),c.containerSize={height:u.innerHeight()-o[3],width:u.innerWidth()-o[1]};var l=c.containerOffset,v=c.containerSize.height,r=c.containerSize.width,t=j.ui.hasScroll(d,"left")?d.scrollWidth:r,b=j.ui.hasScroll(d)?d.scrollHeight:v;c.parentData={element:d,left:l.left,top:l.top,width:t,height:b}}},resize:function(v,c){var p=j(this).data("resizable"),s=p.options,u=p.containerSize,n=p.containerOffset,I=p.size,a=p.position,l=p._aspectRatio||v.shiftKey,t={top:0,left:0},b=p.containerElement;b[0]!=document&&/static/.test(b.css("position"))&&(t=n),a.left<(p._helper?n.left:0)&&(p.size.width=p.size.width+(p._helper?p.position.left-n.left:p.position.left-t.left),l&&(p.size.height=p.size.width/p.aspectRatio),p.position.left=s.helper?n.left:0),a.top<(p._helper?n.top:0)&&(p.size.height=p.size.height+(p._helper?p.position.top-n.top:p.position.top),l&&(p.size.width=p.size.height*p.aspectRatio),p.position.top=p._helper?n.top:0),p.offset.left=p.parentData.left+p.position.left,p.offset.top=p.parentData.top+p.position.top;var r=Math.abs((p._helper?p.offset.left-t.left:p.offset.left-t.left)+p.sizeDiff.width),o=Math.abs((p._helper?p.offset.top-t.top:p.offset.top-n.top)+p.sizeDiff.height),d=p.containerElement.get(0)==p.element.parent().get(0),K=/relative|absolute/.test(p.containerElement.css("position"));d&&K&&(r-=p.parentData.left),r+p.size.width>=p.parentData.width&&(p.size.width=p.parentData.width-r,l&&(p.size.height=p.size.width/p.aspectRatio)),o+p.size.height>=p.parentData.height&&(p.size.height=p.parentData.height-o,l&&(p.size.width=p.size.height*p.aspectRatio))},stop:function(d,n){var r=j(this).data("resizable"),b=r.options,a=r.position,o=r.containerOffset,l=r.containerPosition,s=r.containerElement,u=j(r.helper),c=u.offset(),t=u.outerWidth()-r.sizeDiff.width,D=u.outerHeight()-r.sizeDiff.height;r._helper&&!b.animate&&/relative/.test(s.css("position"))&&j(this).css({left:c.left-l.left-o.left,width:t,height:D}),r._helper&&!b.animate&&/static/.test(s.css("position"))&&j(this).css({left:c.left-l.left-o.left,width:t,height:D})}}),j.ui.plugin.add("resizable","ghost",{start:function(d,a){var b=j(this).data("resizable"),m=b.options,c=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof m.ghost=="string"?m.ghost:""),b.ghost.appendTo(b.helper)},resize:function(c,a){var b=j(this).data("resizable"),d=b.options;b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(c,a){var b=j(this).data("resizable"),d=b.options;b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),j.ui.plugin.add("resizable","grid",{resize:function(r,l){var o=j(this).data("resizable"),b=o.options,c=o.size,n=o.originalSize,s=o.originalPosition,t=o.axis,a=b._aspectRatio||r.shiftKey;b.grid=typeof b.grid=="number"?[b.grid,b.grid]:b.grid;var d=Math.round((c.width-n.width)/(b.grid[0]||1))*(b.grid[0]||1),u=Math.round((c.height-n.height)/(b.grid[1]||1))*(b.grid[1]||1);/^(se|s|e)$/.test(t)?(o.size.width=n.width+d,o.size.height=n.height+u):/^(ne)$/.test(t)?(o.size.width=n.width+d,o.size.height=n.height+u,o.position.top=s.top-u):/^(sw)$/.test(t)?(o.size.width=n.width+d,o.size.height=n.height+u,o.position.left=s.left-d):(o.size.width=n.width+d,o.size.height=n.height+u,o.position.top=s.top-u,o.position.left=s.left-d)}});var i=function(a){return parseInt(a,10)||0},f=function(a){return !isNaN(parseInt(a,10))}}(jQuery),function(c,d){c.widget("ui.selectable",c.ui.mouse,{version:"1.9.2",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable"),this.dragged=!1;var a;this.refresh=function(){a=c(b.options.filter,b.element[0]),a.addClass("ui-selectee"),a.each(function(){var j=c(this),i=j.offset();c.data(this,"selectable-item",{element:this,$element:j,left:i.left,top:i.top,right:i.left+j.outerWidth(),bottom:i.top+j.outerHeight(),startselected:!1,selected:j.hasClass("ui-selected"),selecting:j.hasClass("ui-selecting"),unselecting:j.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=a.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(h){var a=this;this.opos=[h.pageX,h.pageY];if(this.options.disabled){return}var b=this.options;this.selectees=c(b.filter,this.element[0]),this._trigger("start",h),c(b.appendTo).append(this.helper),this.helper.css({left:h.clientX,top:h.clientY,width:0,height:0}),b.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var f=c.data(this,"selectable-item");f.startselected=!0,!h.metaKey&&!h.ctrlKey&&(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,a._trigger("unselecting",h,{unselecting:f.element}))}),c(h.target).parents().andSelf().each(function(){var f=c.data(this,"selectable-item");if(f){var i=!h.metaKey&&!h.ctrlKey||!f.$element.hasClass("ui-selected");return f.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),f.unselecting=!i,f.selecting=i,f.selected=i,i?a._trigger("selecting",h,{selecting:f.element}):a._trigger("unselecting",h,{unselecting:f.element}),!1}})},_mouseDrag:function(o){var a=this;this.dragged=!0;if(this.options.disabled){return}var i=this.options,p=this.opos[0],n=this.opos[1],b=o.pageX,q=o.pageY;if(p>b){var r=b;b=p,p=r}if(n>q){var r=q;q=n,n=r}return this.helper.css({left:p,top:n,width:b-p,height:q-n}),this.selectees.each(function(){var f=c.data(this,"selectable-item");if(!f||f.element==a.element[0]){return}var h=!1;i.tolerance=="touch"?h=!(f.left>b||f.right<p||f.top>q||f.bottom<n):i.tolerance=="fit"&&(h=f.left>p&&f.right<b&&f.top>n&&f.bottom<q),h?(f.selected&&(f.$element.removeClass("ui-selected"),f.selected=!1),f.unselecting&&(f.$element.removeClass("ui-unselecting"),f.unselecting=!1),f.selecting||(f.$element.addClass("ui-selecting"),f.selecting=!0,a._trigger("selecting",o,{selecting:f.element}))):(f.selecting&&((o.metaKey||o.ctrlKey)&&f.startselected?(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.$element.addClass("ui-selected"),f.selected=!0):(f.$element.removeClass("ui-selecting"),f.selecting=!1,f.startselected&&(f.$element.addClass("ui-unselecting"),f.unselecting=!0),a._trigger("unselecting",o,{unselecting:f.element}))),f.selected&&!o.metaKey&&!o.ctrlKey&&!f.startselected&&(f.$element.removeClass("ui-selected"),f.selected=!1,f.$element.addClass("ui-unselecting"),f.unselecting=!0,a._trigger("unselecting",o,{unselecting:f.element})))}),!1},_mouseStop:function(h){var a=this;this.dragged=!1;var b=this.options;return c(".ui-unselecting",this.element[0]).each(function(){var f=c.data(this,"selectable-item");f.$element.removeClass("ui-unselecting"),f.unselecting=!1,f.startselected=!1,a._trigger("unselected",h,{unselected:f.element})}),c(".ui-selecting",this.element[0]).each(function(){var f=c.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected"),f.selecting=!1,f.selected=!0,f.startselected=!0,a._trigger("selected",h,{selected:f.element})}),this._trigger("stop",h),this.helper.remove(),!1}})}(jQuery),function(c,d){c.widget("ui.sortable",c.ui.mouse,{version:"1.9.2",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?a.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--){this.items[a].item.removeData(this.widgetName+"-item")}return this},_setOption:function(b,a){b==="disabled"?(this.options[b]=a,this.widget().toggleClass("ui-sortable-disabled",!!a)):c.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(m,a){var i=this;if(this.reverting){return !1}if(this.options.disabled||this.options.type=="static"){return !1}this._refreshItems(m);var n=null,l=c(m.target).parents().each(function(){if(c.data(this,i.widgetName+"-item")==i){return n=c(this),!1}});c.data(m.target,i.widgetName+"-item")==i&&(n=c(m.target));if(!n){return !1}if(this.options.handle&&!a){var b=!1;c(this.options.handle,n).find("*").andSelf().each(function(){this==m.target&&(b=!0)});if(!b){return !1}}return this.currentItem=n,this._removeCurrentsFromItems(),!0},_mouseStart:function(k,a,b){var l=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(k),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},c.extend(this.offset,{click:{left:k.pageX-this.offset.left,top:k.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(k),this.originalPageX=k.pageX,this.originalPageY=k.pageY,l.cursorAt&&this._adjustOffsetFromHelper(l.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),l.containment&&this._setContainment(),l.cursor&&(c("body").css("cursor")&&(this._storedCursor=c("body").css("cursor")),c("body").css("cursor",l.cursor)),l.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",l.opacity)),l.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",l.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",k,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!b){for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",k,this._uiHash(this))}}return c.ui.ddmanager&&(c.ui.ddmanager.current=this),c.ui.ddmanager&&!l.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,k),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(k),!0},_mouseDrag:function(n){this.position=this._generatePosition(n),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var a=this.options,i=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-n.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop+a.scrollSpeed:n.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=i=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-n.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft+a.scrollSpeed:n.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=i=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(n.pageY-c(document).scrollTop()<a.scrollSensitivity?i=c(document).scrollTop(c(document).scrollTop()-a.scrollSpeed):c(window).height()-(n.pageY-c(document).scrollTop())<a.scrollSensitivity&&(i=c(document).scrollTop(c(document).scrollTop()+a.scrollSpeed)),n.pageX-c(document).scrollLeft()<a.scrollSensitivity?i=c(document).scrollLeft(c(document).scrollLeft()-a.scrollSpeed):c(window).width()-(n.pageX-c(document).scrollLeft())<a.scrollSensitivity&&(i=c(document).scrollLeft(c(document).scrollLeft()+a.scrollSpeed))),i!==!1&&c.ui.ddmanager&&!a.dropBehaviour&&c.ui.ddmanager.prepareOffsets(this,n)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var o=this.items.length-1;o>=0;o--){var m=this.items[o],b=m.item[0],p=this._intersectsWithPointer(m);if(!p){continue}if(m.instance!==this.currentContainer){continue}if(b!=this.currentItem[0]&&this.placeholder[p==1?"next":"prev"]()[0]!=b&&!c.contains(this.placeholder[0],b)&&(this.options.type=="semi-dynamic"?!c.contains(this.element[0],b):!0)){this.direction=p==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(m)){break}this._rearrange(n,m),this._trigger("change",n,this._uiHash());break}}return this._contactContainers(n),c.ui.ddmanager&&c.ui.ddmanager.drag(this,n),this._trigger("sort",n,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(i,a){if(!i){return}c.ui.ddmanager&&!this.options.dropBehaviour&&c.ui.ddmanager.drop(this,i);if(this.options.revert){var b=this,j=this.placeholder.offset();this.reverting=!0,c(this.helper).animate({left:j.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:j.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){b._clear(i)})}else{this._clear(i,a)}return !1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var a=this.containers.length-1;a>=0;a--){this.containers[a]._trigger("deactivate",null,this._uiHash(this)),this.containers[a].containerCache.over&&(this.containers[a]._trigger("out",null,this._uiHash(this)),this.containers[a].containerCache.over=0)}}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),c.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?c(this.domPosition.prev).after(this.currentItem):c(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(h){var a=this._getItemsAsjQuery(h&&h.connected),b=[];return h=h||{},c(a).each(function(){var f=(c(h.item||this).attr(h.attribute||"id")||"").match(h.expression||/(.+)[-=_](.+)/);f&&b.push((h.key||f[1]+"[]")+"="+(h.key&&h.expression?f[1]:f[2]))}),!b.length&&h.key&&b.push(h.key+"="),b.join("&")},toArray:function(h){var a=this._getItemsAsjQuery(h&&h.connected),b=[];return h=h||{},a.each(function(){b.push(c(h.item||this).attr(h.attribute||"id")||"")}),b},_intersectsWith:function(a){var s=this.positionAbs.left,n=s+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,f=a.left,o=f+a.width,t=a.top,u=t+a.height,b=this.offset.click.top,l=this.offset.click.left,B=r+b>t&&r+b<u&&s+l>f&&s+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?B:f<s+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&t<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<u},_intersectsWithPointer:function(m){var a=this.options.axis==="x"||c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,m.top,m.height),i=this.options.axis==="y"||c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,m.left,m.width),n=a&&i,l=this._getDragVerticalDirection(),b=this._getDragHorizontalDirection();return n?this.floating?b&&b=="right"||l=="down"?2:1:l&&(l=="down"?2:1):!1},_intersectsWithSides:function(k){var a=c.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,k.top+k.height/2,k.height),b=c.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,k.left+k.width/2,k.width),l=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?i=="right"&&b||i=="left"&&!b:l&&(l=="down"&&a||l=="up"&&!a)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(o){var a=[],i=[],p=this._connectWith();if(p&&o){for(var n=p.length-1;n>=0;n--){var b=c(p[n]);for(var q=b.length-1;q>=0;q--){var r=c.data(b[q],this.widgetName);r&&r!=this&&!r.options.disabled&&i.push([c.isFunction(r.options.items)?r.options.items.call(r.element):c(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r])}}}i.push([c.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):c(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var n=i.length-1;n>=0;n--){i[n][0].each(function(){a.push(this)})}return c(a)},_removeCurrentsFromItems:function(){var a=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=c.grep(this.items,function(h){for(var b=0;b<a.length;b++){if(a[b]==h.item[0]){return !1}}return !0})},_refreshItems:function(h){this.items=[],this.containers=[this];var l=this.items,o=[[c.isFunction(this.options.items)?this.options.items.call(this.element[0],h,{item:this.currentItem}):c(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready){for(var b=f.length-1;b>=0;b--){var n=c(f[b]);for(var r=n.length-1;r>=0;r--){var s=c.data(n[r],this.widgetName);s&&s!=this&&!s.options.disabled&&(o.push([c.isFunction(s.options.items)?s.options.items.call(s.element[0],h,{item:this.currentItem}):c(s.options.items,s.element),s]),this.containers.push(s))}}}for(var b=o.length-1;b>=0;b--){var u=o[b][1],i=o[b][0];for(var r=0,t=i.length;r<t;r++){var a=c(i[r]);a.data(this.widgetName+"-item",u),l.push({item:a,instance:u,width:0,height:0,left:0,top:0})}}},refreshPositions:function(k){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var a=this.items.length-1;a>=0;a--){var b=this.items[a];if(b.instance!=this.currentContainer&&this.currentContainer&&b.item[0]!=this.currentItem[0]){continue}var l=this.options.toleranceElement?c(this.options.toleranceElement,b.item):b.item;k||(b.width=l.outerWidth(),b.height=l.outerHeight());var i=l.offset();b.left=i.left,b.top=i.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var a=this.containers.length-1;a>=0;a--){var i=this.containers[a].element.offset();this.containers[a].containerCache.left=i.left,this.containers[a].containerCache.top=i.top,this.containers[a].containerCache.width=this.containers[a].element.outerWidth(),this.containers[a].containerCache.height=this.containers[a].element.outerHeight()}}return this},_createPlaceholder:function(h){h=h||this;var a=h.options;if(!a.placeholder||a.placeholder.constructor==String){var b=a.placeholder;a.placeholder={element:function(){var f=c(document.createElement(h.currentItem[0].nodeName)).addClass(b||h.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return b||(f.style.visibility="hidden"),f},update:function(f,i){if(b&&!a.forcePlaceholderSize){return}i.height()||i.height(h.currentItem.innerHeight()-parseInt(h.currentItem.css("paddingTop")||0,10)-parseInt(h.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(h.currentItem.innerWidth()-parseInt(h.currentItem.css("paddingLeft")||0,10)-parseInt(h.currentItem.css("paddingRight")||0,10))}}}h.placeholder=c(a.placeholder.element.call(h.element,h.currentItem)),h.currentItem.after(h.placeholder),a.placeholder.update(h,h.placeholder)},_contactContainers:function(h){var l=null,o=null;for(var f=this.containers.length-1;f>=0;f--){if(c.contains(this.currentItem[0],this.containers[f].element[0])){continue}if(this._intersectsWith(this.containers[f].containerCache)){if(l&&c.contains(this.containers[f].element[0],l.element[0])){continue}l=this.containers[f],o=f}else{this.containers[f].containerCache.over&&(this.containers[f]._trigger("out",h,this._uiHash(this)),this.containers[f].containerCache.over=0)}}if(!l){return}if(this.containers.length===1){this.containers[o]._trigger("over",h,this._uiHash(this)),this.containers[o].containerCache.over=1}else{var b=10000,n=null,r=this.containers[o].floating?"left":"top",s=this.containers[o].floating?"width":"height",u=this.positionAbs[r]+this.offset.click[r];for(var i=this.items.length-1;i>=0;i--){if(!c.contains(this.containers[o].element[0],this.items[i].item[0])){continue}if(this.items[i].item[0]==this.currentItem[0]){continue}var t=this.items[i].item.offset()[r],a=!1;Math.abs(t-u)>Math.abs(t+this.items[i][s]-u)&&(a=!0,t+=this.items[i][s]),Math.abs(t-u)<b&&(b=Math.abs(t-u),n=this.items[i],this.direction=a?"up":"down")}if(!n&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[o],n?this._rearrange(h,n,null,!0):this._rearrange(h,null,this.containers[o].element,!0),this._trigger("change",h,this._uiHash()),this.containers[o]._trigger("change",h,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[o]._trigger("over",h,this._uiHash(this)),this.containers[o].containerCache.over=1}},_createHelper:function(h){var a=this.options,b=c.isFunction(a.helper)?c(a.helper.apply(this.element[0],[h,this.currentItem])):a.helper=="clone"?this.currentItem.clone():this.currentItem;return b.parents("body").length||c(a.appendTo!="parent"?a.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]),b[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(b[0].style.width==""||a.forceHelperSize)&&b.width(this.currentItem.width()),(b[0].style.height==""||a.forceHelperSize)&&b.height(this.currentItem.height()),b},_adjustOffsetFromHelper:function(a){typeof a=="string"&&(a=a.split(" ")),c.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&c.contains(this.scrollParent[0],this.offsetParent[0])&&(a.left+=this.scrollParent.scrollLeft(),a.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&c.ui.ie){a={top:0,left:0}}return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var i=this.options;i.containment=="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment=="document"||i.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,c(i.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(c(i.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!/^(document|window|parent)$/.test(i.containment)){var a=c(i.containment)[0],b=c(i.containment).offset(),j=c(a).css("overflow")!="hidden";this.containment=[b.left+(parseInt(c(a).css("borderLeftWidth"),10)||0)+(parseInt(c(a).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(c(a).css("borderTopWidth"),10)||0)+(parseInt(c(a).css("paddingTop"),10)||0)-this.margins.top,b.left+(j?Math.max(a.scrollWidth,a.offsetWidth):a.offsetWidth)-(parseInt(c(a).css("borderLeftWidth"),10)||0)-(parseInt(c(a).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(j?Math.max(a.scrollHeight,a.offsetHeight):a.offsetHeight)-(parseInt(c(a).css("borderTopWidth"),10)||0)-(parseInt(c(a).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(m,a){a||(a=this.position);var i=m=="absolute"?1:-1,n=this.options,l=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,b=/(html|body)/i.test(l[0].tagName);return{top:a.top+this.offset.relative.top*i+this.offset.parent.top*i-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():b?0:l.scrollTop())*i,left:a.left+this.offset.relative.left*i+this.offset.parent.left*i-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():b?0:l.scrollLeft())*i}},_generatePosition:function(o){var a=this.options,i=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!c.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,p=/(html|body)/i.test(i[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var n=o.pageX,b=o.pageY;if(this.originalPosition){this.containment&&(o.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),o.pageY-this.offset.click.top<this.containment[1]&&(b=this.containment[1]+this.offset.click.top),o.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),o.pageY-this.offset.click.top>this.containment[3]&&(b=this.containment[3]+this.offset.click.top));if(a.grid){var q=this.originalPageY+Math.round((b-this.originalPageY)/a.grid[1])*a.grid[1];b=this.containment?q-this.offset.click.top<this.containment[1]||q-this.offset.click.top>this.containment[3]?q-this.offset.click.top<this.containment[1]?q+a.grid[1]:q-a.grid[1]:q:q;var r=this.originalPageX+Math.round((n-this.originalPageX)/a.grid[0])*a.grid[0];n=this.containment?r-this.offset.click.left<this.containment[0]||r-this.offset.click.left>this.containment[2]?r-this.offset.click.left<this.containment[0]?r+a.grid[0]:r-a.grid[0]:r:r}}return{top:b-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():p?0:i.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():p?0:i.scrollLeft())}},_rearrange:function(b,k,a,i){a?a[0].appendChild(this.placeholder[0]):k.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?k.item[0]:k.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var l=this.counter;this._delay(function(){l==this.counter&&this.refreshPositions(!i)})},_clear:function(i,a){this.reverting=!1;var b=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var j in this._storedCSS){if(this._storedCSS[j]=="auto"||this._storedCSS[j]=="static"){this._storedCSS[j]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}this.fromOutside&&!a&&b.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!a&&b.push(function(f){this._trigger("update",f,this._uiHash())}),this!==this.currentContainer&&(a||(b.push(function(f){this._trigger("remove",f,this._uiHash())}),b.push(function(f){return function(h){f._trigger("receive",h,this._uiHash(this))}}.call(this,this.currentContainer)),b.push(function(f){return function(h){f._trigger("update",h,this._uiHash(this))}}.call(this,this.currentContainer))));for(var j=this.containers.length-1;j>=0;j--){a||b.push(function(f){return function(h){f._trigger("deactivate",h,this._uiHash(this))}}.call(this,this.containers[j])),this.containers[j].containerCache.over&&(b.push(function(f){return function(h){f._trigger("out",h,this._uiHash(this))}}.call(this,this.containers[j])),this.containers[j].containerCache.over=0)}this._storedCursor&&c("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!a){this._trigger("beforeStop",i,this._uiHash());for(var j=0;j<b.length;j++){b[j].call(this,i)}this._trigger("stop",i,this._uiHash())}return this.fromOutside=!1,!1}a||this._trigger("beforeStop",i,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!a){for(var j=0;j<b.length;j++){b[j].call(this,i)}this._trigger("stop",i,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){c.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var a=b||this;return{helper:a.helper,placeholder:a.placeholder||c([]),position:a.position,originalPosition:a.originalPosition,offset:a.positionAbs,item:a.currentItem,sender:b?b.element:null}}})}(jQuery),jQuery.effects||function(j,h){var i=j.uiBackCompat!==!1,f="ui-effects-";j.effects={effect:{}},function(v,c){function o(m,x,k){var q=a[x.type]||{};return m==null?k||!x.def?null:x.def:(m=q.floor?~~m:parseFloat(m),isNaN(m)?x.def:q.mod?(m+q.mod)%q.mod:0>m?0:q.max<m?q.max:m)}function d(m){var k=n(),q=k._rgba=[];return m=m.toLowerCase(),r(u,function(B,C){var A,y=C.re.exec(m),x=y&&C.parse(y),z=C.space||"rgba";if(x){return A=k[z](x),k[I[z].cache]=A[I[z].cache],q=k._rgba=A._rgba,!1}}),q.length?(q.join()==="0,0,0,0"&&v.extend(q,b.transparent),k):b[m]}function K(m,q,k){return k=(k+1)%1,k*6<1?m+(q-m)*k*6:k*2<1?q:k*3<2?m+(q-m)*(2/3-k)*6:m}var p="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),s=/^([\-+])=\s*(\d+\.?\d*)/,u=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(k){return[k[1],k[2],k[3],k[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(k){return[k[1]*2.55,k[2]*2.55,k[3]*2.55,k[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(k){return[parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(k){return[parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(k){return[k[1],k[2]/100,k[3]/100,k[4]]}}],n=v.Color=function(k,x,m,q){return new v.Color.fn.parse(k,x,m,q)},I={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=n.support={},t=v("<p>")[0],b,r=v.each;t.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=t.style.backgroundColor.indexOf("rgba")>-1,r(I,function(k,m){m.cache="_"+k,m.props.alpha={idx:3,type:"percent",def:1}}),n.fn=v.extend(n.prototype,{parse:function(m,y,q,A){if(m===c){return this._rgba=[null,null,null,null],this}if(m.jquery||m.nodeType){m=v(m).css(y),y=c}var k=this,x=v.type(m),z=this._rgba=[];y!==c&&(m=[m,y,q,A],x="array");if(x==="string"){return this.parse(d(m)||b._default)}if(x==="array"){return r(I.rgba.props,function(B,C){z[C.idx]=o(m[C.idx],C)}),this}if(x==="object"){return m instanceof n?r(I,function(B,C){m[C.cache]&&(k[C.cache]=m[C.cache].slice())}):r(I,function(B,C){var D=C.cache;r(C.props,function(F,E){if(!k[D]&&C.to){if(F==="alpha"||m[F]==null){return}k[D]=C.to(k._rgba)}k[D][E.idx]=o(m[F],E,!0)}),k[D]&&j.inArray(null,k[D].slice(0,3))<0&&(k[D][3]=1,C.from&&(k._rgba=C.from(k[D])))}),this}},is:function(m){var x=n(m),k=!0,q=this;return r(I,function(z,B){var A,y=x[B.cache];return y&&(A=q[B.cache]||B.to&&B.to(q._rgba)||[],r(B.props,function(C,D){if(y[D.idx]!=null){return k=y[D.idx]===A[D.idx],k}})),k}),k},_space:function(){var k=[],m=this;return r(I,function(q,x){m[x.cache]&&k.push(q)}),k.pop()},transition:function(m,A){var k=n(m),q=k._space(),B=I[q],y=this.alpha()===0?n("transparent"):this,x=y[B.cache]||B.to(y._rgba),z=x.slice();return k=k[B.cache],r(B.props,function(H,D){var C=D.idx,G=x[C],F=k[C],E=a[D.type]||{};if(F===null){return}G===null?z[C]=F:(E.mod&&(F-G>E.mod/2?G+=E.mod:G-F>E.mod/2&&(G-=E.mod)),z[C]=o((F-G)*A+G,D))}),this[q](z)},blend:function(k){if(this._rgba[3]===1){return this}var x=this._rgba.slice(),m=x.pop(),q=n(k)._rgba;return n(v.map(x,function(z,y){return(1-m)*q[y]+m*z}))},toRgbaString:function(){var m="rgba(",k=v.map(this._rgba,function(q,x){return q==null?x>2?1:0:q});return k[3]===1&&(k.pop(),m="rgb("),m+k.join()+")"},toHslaString:function(){var m="hsla(",k=v.map(this.hsla(),function(q,x){return q==null&&(q=x>2?1:0),x&&x<3&&(q=Math.round(q*100)+"%"),q});return k[3]===1&&(k.pop(),m="hsl("),m+k.join()+")"},toHexString:function(m){var k=this._rgba.slice(),q=k.pop();return m&&k.push(~~(q*255)),"#"+v.map(k,function(x){return x=(x||0).toString(16),x.length===1?"0"+x:x}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),n.fn.parse.prototype=n.fn,I.hsla.to=function(B){if(B[0]==null||B[1]==null||B[2]==null){return[null,null,null,B[3]]}var q=B[0]/255,F=B[1]/255,x=B[2]/255,D=B[3],m=Math.max(q,F,x),k=Math.min(q,F,x),y=m-k,z=m+k,C=z*0.5,E,A;return k===m?E=0:q===m?E=60*(F-x)/y+360:F===m?E=60*(x-q)/y+120:E=60*(q-F)/y+240,C===0||C===1?A=C:C<=0.5?A=y/z:A=y/(2-z),[Math.round(E)%360,A,C,D==null?1:D]},I.hsla.from=function(x){if(x[0]==null||x[1]==null||x[2]==null){return[null,null,null,x[3]]}var y=x[0]/360,q=x[1],A=x[2],z=x[3],k=A<=0.5?A*(1+q):A+q-A*q,m=2*A-k;return[Math.round(K(m,k,y+1/3)*255),Math.round(K(m,k,y)*255),Math.round(K(m,k,y-1/3)*255),z]},r(I,function(x,z){var k=z.props,m=z.cache,q=z.to,y=z.from;n.fn[x]=function(B){q&&!this[m]&&(this[m]=q(this._rgba));if(B===c){return this[m].slice()}var C,D=v.type(B),E=D==="array"||D==="object"?B:arguments,A=this[m].slice();return r(k,function(G,H){var F=E[D==="object"?G:H.idx];F==null&&(F=A[H.idx]),A[H.idx]=o(F,H)}),y?(C=n(y(A)),C[m]=A,C):n(A)},r(k,function(A,B){if(n.fn[A]){return}n.fn[A]=function(F){var C=v.type(F),E=A==="alpha"?this._hsla?"hsla":"rgba":x,G=this[E](),D=G[B.idx],H;return C==="undefined"?D:(C==="function"&&(F=F.call(this,D),C=v.type(F)),F==null&&B.empty?this:(C==="string"&&(H=s.exec(F),H&&(F=D+parseFloat(H[2])*(H[1]==="+"?1:-1))),G[B.idx]=F,this[E](G)))}})}),r(p,function(m,k){v.cssHooks[k]={set:function(q,y){var z,x,A="";if(v.type(y)!=="string"||(z=d(y))){y=n(z||y);if(!l.rgba&&y._rgba[3]!==1){x=k==="backgroundColor"?q.parentNode:q;while((A===""||A==="transparent")&&x&&x.style){try{A=v.css(x,"backgroundColor"),x=x.parentNode}catch(B){}}y=y.blend(A&&A!=="transparent"?A:"_default")}y=y.toRgbaString()}try{q.style[k]=y}catch(C){}}},v.fx.step[k]=function(q){q.colorInit||(q.start=n(q.elem,k),q.end=n(q.end),q.colorInit=!0),v.cssHooks[k].set(q.elem,q.start.transition(q.end,q.pos))}}),v.cssHooks.borderColor={expand:function(k){var m={};return r(["Top","Right","Bottom","Left"],function(q,x){m["border"+x+"Color"]=k}),m}},b=v.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function d(){var k=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,q={},r,n;if(k&&k.length&&k[0]&&k[k[0]]){n=k.length;while(n--){r=k[n],typeof k[r]=="string"&&(q[j.camelCase(r)]=k[r])}}else{for(r in k){typeof k[r]=="string"&&(q[r]=k[r])}}return q}function c(k,o){var n={},t,s;for(t in o){s=o[t],k[t]!==s&&!b[t]&&(j.fx.step[t]||!isNaN(parseFloat(s)))&&(n[t]=s)}return n}var a=["add","remove","toggle"],b={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};j.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(m,k){j.fx.step[k]=function(l){if(l.end!=="none"&&!l.setAttr||l.pos===1&&!l.setAttr){jQuery.style(l.elem,k,l.end),l.setAttr=!0}}}),j.effects.animateClass=function(k,s,r,o){var q=j.speed(s,r,o);return this.queue(function(){var n=j(this),l=n.attr("class")||"",p,m=q.children?n.find("*").andSelf():n;m=m.map(function(){var t=j(this);return{el:t,start:d.call(this)}}),p=function(){j.each(a,function(u,t){k[t]&&n[t+"Class"](k[t])})},p(),m=m.map(function(){return this.end=d.call(this.el[0]),this.diff=c(this.start,this.end),this}),n.attr("class",l),m=m.map(function(){var y=this,t=j.Deferred(),v=jQuery.extend({},q,{queue:!1,complete:function(){t.resolve(y)}});return this.el.animate(this.diff,v),t.promise()}),j.when.apply(j,m.get()).done(function(){p(),j.each(arguments,function(){var t=this.el;j.each(this.diff,function(u){t.css(u,"")})}),q.complete.call(n[0])})})},j.fn.extend({_addClass:j.fn.addClass,addClass:function(k,q,r,n){return q?j.effects.animateClass.call(this,{add:k},q,r,n):this._addClass(k)},_removeClass:j.fn.removeClass,removeClass:function(k,q,r,n){return q?j.effects.animateClass.call(this,{remove:k},q,r,n):this._removeClass(k)},_toggleClass:j.fn.toggleClass,toggleClass:function(o,s,n,k,r){return typeof s=="boolean"||s===h?n?j.effects.animateClass.call(this,s?{add:o}:{remove:o},n,k,r):this._toggleClass(o,s):j.effects.animateClass.call(this,{toggle:o},s,n,k)},switchClass:function(k,r,s,n,t){return j.effects.animateClass.call(this,{add:r,remove:k},s,n,t)}})}(),function(){function b(n,c,d,o){j.isPlainObject(n)&&(c=n,n=n.effect),n={effect:n},c==null&&(c={}),j.isFunction(c)&&(o=c,d=null,c={});if(typeof c=="number"||j.fx.speeds[c]){o=d,d=c,c={}}return j.isFunction(d)&&(o=d,d=null),c&&j.extend(n,c),d=d||c.duration,n.duration=j.fx.off?0:typeof d=="number"?d:d in j.fx.speeds?j.fx.speeds[d]:j.fx.speeds._default,n.complete=o||c.complete,n}function a(c){return !c||typeof c=="number"||j.fx.speeds[c]?!0:typeof c=="string"&&!j.effects.effect[c]?i&&j.effects[c]?!1:!0:!1}j.extend(j.effects,{version:"1.9.2",save:function(d,l){for(var c=0;c<l.length;c++){l[c]!==null&&d.data(f+l[c],d[0].style[l[c]])}},restore:function(d,c){var o,n;for(n=0;n<c.length;n++){c[n]!==null&&(o=d.data(f+c[n]),o===h&&(o=""),d.css(c[n],o))}},setMode:function(c,d){return d==="toggle"&&(d=c.is(":hidden")?"show":"hide"),d},getBaseline:function(d,n){var c,m;switch(d[0]){case"top":c=0;break;case"middle":c=0.5;break;case"bottom":c=1;break;default:c=d[0]/n.height}switch(d[1]){case"left":m=0;break;case"center":m=0.5;break;case"right":m=1;break;default:m=d[1]/n.width}return{x:m,y:c}},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper")){return n.parent()}var r={width:n.outerWidth(!0),height:n.outerHeight(!0),"float":n.css("float")},c=j("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),o={width:n.width(),height:n.height()},d=document.activeElement;try{d.id}catch(s){d=document.body}return n.wrap(c),(n[0]===d||j.contains(n[0],d))&&j(d).focus(),c=n.parent(),n.css("position")==="static"?(c.css({position:"relative"}),n.css({position:"relative"})):(j.extend(r,{position:n.css("position"),zIndex:n.css("z-index")}),j.each(["top","left","bottom","right"],function(l,k){r[k]=n.css(k),isNaN(parseInt(r[k],10))&&(r[k]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(o),c.css(r).show()},removeWrapper:function(d){var c=document.activeElement;return d.parent().is(".ui-effects-wrapper")&&(d.parent().replaceWith(d),(d[0]===c||j.contains(d[0],c))&&j(c).focus()),d},setTransition:function(n,c,d,o){return o=o||{},j.each(c,function(m,l){var k=n.cssUnit(l);k[0]>0&&(o[l]=k[0]*d+k[1])}),o}}),j.fn.extend({effect:function(){function q(k){function s(){j.isFunction(n)&&n.call(l[0]),j.isFunction(k)&&k()}var l=j(this),n=o.complete,m=o.mode;(l.is(":hidden")?m==="hide":m==="show")?s():r.call(l[0],o,s)}var o=b.apply(this,arguments),c=o.mode,d=o.queue,r=j.effects.effect[o.effect],p=!r&&i&&j.effects[o.effect];return j.fx.off||!r&&!p?c?this[c](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):r?d===!1?this.each(q):this.queue(d||"fx",q):p.call(this,{options:o,duration:o.duration,callback:o.complete,mode:o.mode})},_show:j.fn.show,show:function(c){if(a(c)){return this._show.apply(this,arguments)}var d=b.apply(this,arguments);return d.mode="show",this.effect.call(this,d)},_hide:j.fn.hide,hide:function(c){if(a(c)){return this._hide.apply(this,arguments)}var d=b.apply(this,arguments);return d.mode="hide",this.effect.call(this,d)},__toggle:j.fn.toggle,toggle:function(d){if(a(d)||typeof d=="boolean"||j.isFunction(d)){return this.__toggle.apply(this,arguments)}var c=b.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)},cssUnit:function(l){var c=this.css(l),d=[];return j.each(["em","px","%","pt"],function(k,n){c.indexOf(n)>0&&(d=[parseFloat(c),n])}),d}})}(),function(){var a={};j.each(["Quad","Cubic","Quart","Quint","Expo"],function(c,b){a[b]=function(d){return Math.pow(d,c+2)}}),j.extend(a,{Sine:function(b){return 1-Math.cos(b*Math.PI/2)},Circ:function(b){return 1-Math.sqrt(1-b*b)},Elastic:function(b){return b===0||b===1?b:-Math.pow(2,8*(b-1))*Math.sin(((b-1)*80-7.5)*Math.PI/15)},Back:function(b){return b*b*(3*b-2)},Bounce:function(c){var d,b=4;while(c<((d=Math.pow(2,--b))-1)/11){}return 1/Math.pow(4,3-b)-7.5625*Math.pow((d*3-2)/22-c,2)}}),j.each(a,function(c,b){j.easing["easeIn"+c]=b,j.easing["easeOut"+c]=function(d){return 1-b(1-d)},j.easing["easeInOut"+c]=function(d){return d<0.5?b(d*2)/2:1-b(d*-2+2)/2}})}()}(jQuery),function(k,h){var j=0,l={},i={};l.height=l.paddingTop=l.paddingBottom=l.borderTopWidth=l.borderBottomWidth="hide",i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="show",k.widget("ui.accordion",{version:"1.9.2",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.accordionId="ui-accordion-"+(this.element.attr("id")||++j),a=this.options;this.prevShow=this.prevHide=k(),this.element.addClass("ui-accordion ui-widget ui-helper-reset"),this.headers=this.element.find(a.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this._hoverable(this.headers),this._focusable(this.headers),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").hide(),!a.collapsible&&(a.active===!1||a.active==null)&&(a.active=0),a.active<0&&(a.active+=this.headers.length),this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top"),this.active.next().addClass("ui-accordion-content-active").show(),this._createIcons(),this.refresh(),this.element.attr("role","tablist"),this.headers.attr("role","tab").each(function(o){var d=k(this),n=d.attr("id"),f=d.next(),c=f.attr("id");n||(n=b+"-header-"+o,d.attr("id",n)),c||(c=b+"-panel-"+o,f.attr("id",c)),d.attr("aria-controls",c),f.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._on(this.headers,{keydown:"_keydown"}),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._setupEvents(a.event)},_getCreateEventData:function(){return{header:this.active,content:this.active.length?this.active.next():k()}},_createIcons:function(){var a=this.options.icons;a&&(k("<span>").addClass("ui-accordion-header-icon ui-icon "+a.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(a.header).addClass(a.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this.options.heightStyle!=="content"&&a.css("height","")},_setOption:function(a,b){if(a==="active"){this._activate(b);return}a==="event"&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),a==="collapsible"&&!b&&this.options.active===!1&&this._activate(0),a==="icons"&&(this._destroyIcons(),b&&this._createIcons()),a==="disabled"&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)},_keydown:function(d){if(d.altKey||d.ctrlKey){return}var a=k.ui.keyCode,b=this.headers.length,f=this.headers.index(d.target),c=!1;switch(d.keyCode){case a.RIGHT:case a.DOWN:c=this.headers[(f+1)%b];break;case a.LEFT:case a.UP:c=this.headers[(f-1+b)%b];break;case a.SPACE:case a.ENTER:this._eventHandler(d);break;case a.HOME:c=this.headers[0];break;case a.END:c=this.headers[b-1]}c&&(k(d.target).attr("tabIndex",-1),k(c).attr("tabIndex",0),c.focus(),d.preventDefault())},_panelKeyDown:function(a){a.keyCode===k.ui.keyCode.UP&&a.ctrlKey&&k(a.currentTarget).prev().focus()},refresh:function(){var c,a,b=this.options.heightStyle,d=this.element.parent();b==="fill"?(k.support.minHeight||(a=d.css("overflow"),d.css("overflow","hidden")),c=d.height(),this.element.siblings(":visible").each(function(){var f=k(this),n=f.css("position");if(n==="absolute"||n==="fixed"){return}c-=f.outerHeight(!0)}),a&&d.css("overflow",a),this.headers.each(function(){c-=k(this).outerHeight(!0)}),this.headers.next().each(function(){k(this).height(Math.max(0,c-k(this).innerHeight()+k(this).height()))}).css("overflow","auto")):b==="auto"&&(c=0,this.headers.next().each(function(){c=Math.max(c,k(this).css("height","").height())}).height(c))},_activate:function(b){var a=this._findActive(b)[0];if(a===this.active[0]){return}a=a||this.active[0],this._eventHandler({target:a,currentTarget:a,preventDefault:k.noop})},_findActive:function(a){return typeof a=="number"?this.headers.eq(a):k()},_setupEvents:function(b){var a={};if(!b){return}k.each(b.split(" "),function(c,d){a[d]="_eventHandler"}),this._on(this.headers,a)},_eventHandler:function(s){var f=this.options,o=this.active,d=k(s.currentTarget),r=d[0]===o[0],n=r&&f.collapsible,a=n?k():d.next(),b=o.next(),c={oldHeader:o,oldPanel:b,newHeader:n?k():d,newPanel:a};s.preventDefault();if(r&&!f.collapsible||this._trigger("beforeActivate",s,c)===!1){return}f.active=n?!1:this.headers.index(d),this.active=r?k():d,this._toggle(c),o.removeClass("ui-accordion-header-active ui-state-active"),f.icons&&o.children(".ui-accordion-header-icon").removeClass(f.icons.activeHeader).addClass(f.icons.header),r||(d.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),f.icons&&d.children(".ui-accordion-header-icon").removeClass(f.icons.header).addClass(f.icons.activeHeader),d.next().addClass("ui-accordion-content-active"))},_toggle:function(c){var a=c.newPanel,b=this.prevShow.length?this.prevShow:c.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=a,this.prevHide=b,this.options.animate?this._animate(a,b,c):(b.hide(),a.show(),this._toggleComplete(c)),b.attr({"aria-expanded":"false","aria-hidden":"true"}),b.prev().attr("aria-selected","false"),a.length&&b.length?b.prev().attr("tabIndex",-1):a.length&&this.headers.filter(function(){return k(this).attr("tabIndex")===0}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(C,d,n){var c,o,s,t=this,a=0,f=C.length&&(!d.length||C.index()<d.index()),u=this.options.animate||{},b=f&&u.down||u,p=function(){t._toggleComplete(n)};typeof b=="number"&&(s=b),typeof b=="string"&&(o=b),o=o||b.easing||u.easing,s=s||b.duration||u.duration;if(!d.length){return C.animate(i,s,o,p)}if(!C.length){return d.animate(l,s,o,p)}c=C.show().outerHeight(),d.animate(l,{duration:s,easing:o,step:function(m,q){q.now=Math.round(m)}}),C.hide().animate(i,{duration:s,easing:o,complete:p,step:function(q,m){m.now=Math.round(q),m.prop!=="height"?a+=m.now:t.options.heightStyle!=="content"&&(m.now=Math.round(c-d.outerHeight()-a),a=0)}})},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}}),k.uiBackCompat!==!1&&(function(b,c){b.extend(c.options,{navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}});var a=c._create;c._create=function(){if(this.options.navigation){var f=this,p=this.element.find(this.options.header),o=p.next(),d=p.add(o).find("a").filter(this.options.navigationFilter)[0];d&&p.add(o).each(function(m){if(b.contains(this,d)){return f.options.active=Math.floor(m/2),!1}})}a.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(b,d){b.extend(d.options,{heightStyle:null,autoHeight:!0,clearStyle:!1,fillSpace:!1});var a=d._create,c=d._setOption;b.extend(d,{_create:function(){this.options.heightStyle=this.options.heightStyle||this._mergeHeightStyle(),a.call(this)},_setOption:function(f){if(f==="autoHeight"||f==="clearStyle"||f==="fillSpace"){this.options.heightStyle=this._mergeHeightStyle()}c.apply(this,arguments)},_mergeHeightStyle:function(){var f=this.options;if(f.fillSpace){return"fill"}if(f.clearStyle){return"content"}if(f.autoHeight){return"auto"}}})}(jQuery,jQuery.ui.accordion.prototype),function(b,c){b.extend(c.options.icons,{activeHeader:null,headerSelected:"ui-icon-triangle-1-s"});var a=c._createIcons;c._createIcons=function(){this.options.icons&&(this.options.icons.activeHeader=this.options.icons.activeHeader||this.options.icons.headerSelected),a.call(this)}}(jQuery,jQuery.ui.accordion.prototype),function(b,c){c.activate=c._activate;var a=c._findActive;c._findActive=function(d){return d===-1&&(d=!1),d&&typeof d!="number"&&(d=this.headers.index(this.headers.filter(d)),d===-1&&(d=!1)),a.call(this,d)}}(jQuery,jQuery.ui.accordion.prototype),jQuery.ui.accordion.prototype.resize=jQuery.ui.accordion.prototype.refresh,function(b,c){b.extend(c.options,{change:null,changestart:null});var a=c._trigger;c._trigger=function(p,f,d){var o=a.apply(this,arguments);return o?(p==="beforeActivate"?o=a.call(this,"changestart",f,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel}):p==="activate"&&(o=a.call(this,"change",f,{oldHeader:d.oldHeader,oldContent:d.oldPanel,newHeader:d.newHeader,newContent:d.newPanel})),o):!1}}(jQuery,jQuery.ui.accordion.prototype),function(b,c){b.extend(c.options,{animate:null,animated:"slide"});var a=c._create;c._create=function(){var d=this.options;d.animate===null&&(d.animated?d.animated==="slide"?d.animate=300:d.animated==="bounceslide"?d.animate={duration:200,down:{easing:"easeOutBounce",duration:1000}}:d.animate=d.animated:d.animate=!1),a.call(this)}}(jQuery,jQuery.ui.accordion.prototype))}(jQuery),function(d,f){var h=0;d.widget("ui.autocomplete",{version:"1.9.2",defaultElement:"<input>",options:{appendTo:"body",autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,a,b;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(l){if(this.element.prop("readOnly")){c=!0,b=!0,a=!0;return}c=!1,b=!1,a=!1;var i=d.ui.keyCode;switch(l.keyCode){case i.PAGE_UP:c=!0,this._move("previousPage",l);break;case i.PAGE_DOWN:c=!0,this._move("nextPage",l);break;case i.UP:c=!0,this._keyEvent("previous",l);break;case i.DOWN:c=!0,this._keyEvent("next",l);break;case i.ENTER:case i.NUMPAD_ENTER:this.menu.active&&(c=!0,l.preventDefault(),this.menu.select(l));break;case i.TAB:this.menu.active&&this.menu.select(l);break;case i.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(l),l.preventDefault());break;default:a=!0,this._searchTimeout(l)}},keypress:function(i){if(c){c=!1,i.preventDefault();return}if(a){return}var l=d.ui.keyCode;switch(i.keyCode){case l.PAGE_UP:this._move("previousPage",i);break;case l.PAGE_DOWN:this._move("nextPage",i);break;case l.UP:this._keyEvent("previous",i);break;case l.DOWN:this._keyEvent("next",i)}},input:function(j){if(b){b=!1,j.preventDefault();return}this._searchTimeout(j)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(j){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(j),this._change(j)}}),this._initSource(),this.menu=d("<ul>").addClass("ui-autocomplete").appendTo(this.document.find(this.options.appendTo||"body")[0]).menu({input:d(),role:null}).zIndex(this.element.zIndex()+1).hide().data("menu"),this._on(this.menu.element,{mousedown:function(l){l.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var k=this.menu.element[0];d(l.target).closest(".ui-menu-item").length||this._delay(function(){var i=this;this.document.one("mousedown",function(j){j.target!==i.element[0]&&j.target!==k&&!d.contains(k,j.target)&&i.close()})})},menufocus:function(n,l){if(this.isNewMenu){this.isNewMenu=!1;if(n.originalEvent&&/^mouse/.test(n.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){d(n.target).trigger(n.originalEvent)});return}}var m=l.item.data("ui-autocomplete-item")||l.item.data("item.autocomplete");!1!==this._trigger("focus",n,{item:m})?n.originalEvent&&/^key/.test(n.originalEvent.type)&&this._value(m.value):this.liveRegion.text(m.value)},menuselect:function(n,p){var m=p.item.data("ui-autocomplete-item")||p.item.data("item.autocomplete"),o=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=o,this._delay(function(){this.previous=o,this.selectedItem=m})),!1!==this._trigger("select",n,{item:m})&&this._value(m.value),this.term=this._value(),this.close(n),this.selectedItem=m}}),this.liveRegion=d("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),d.fn.bgiframe&&this.menu.element.bgiframe(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(this.document.find(b||"body")[0]),a==="disabled"&&b&&this.xhr&&this.xhr.abort()},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var c,a,b=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(k,l){l(d.ui.autocomplete.filter(c,k.term))}):typeof this.options.source=="string"?(a=this.options.source,this.source=function(i,l){b.xhr&&b.xhr.abort(),b.xhr=d.ajax({url:a,data:i,dataType:"json",success:function(j){l(j)},error:function(){l([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=a!=null?a:this._value(),this.term=this._value();if(a.length<this.options.minLength){return this.close(b)}if(this._trigger("search",b)===!1){return}return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,b=++h;return function(c){b===h&&a.__response(c),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:d.map(a,function(b){return typeof b=="string"?{label:b,value:b}:d.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var a=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(a,b),this.menu.refresh(),a.show(),this._resizeMenu(),a.position(d.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,a){var b=this;d.each(a,function(l,k){b._renderItemData(c,k)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,a){return d("<li>").append(d("<a>").text(a.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)){this._value(this.term),this.menu.blur();return}this.menu[a](b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(a,b),b.preventDefault()}}}),d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,a){var b=new RegExp(d.ui.autocomplete.escapeRegex(a),"i");return d.grep(c,function(j){return b.test(j.label||j.value||j)})}}),d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}a&&a.length?b=this.options.messages.results(a.length):b=this.options.messages.noResults,this.liveRegion.text(b)}})}(jQuery),function(i,y){var r,t,n,u,s="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",f="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var b=i(this).find(":ui-button");setTimeout(function(){b.button("refresh")},1)},o=function(d){var h=d.name,c=d.form,b=i([]);return h&&(c?b=i(c).find("[name='"+h+"']"):b=i("[name='"+h+"']",d.ownerDocument).filter(function(){return !this.form})),b};i.widget("ui.button",{version:"1.9.2",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),typeof this.options.disabled!="boolean"?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var b=this,c=this.options,d=this.type==="checkbox"||this.type==="radio",h=d?"":"ui-state-active",j="ui-state-focus";c.label===null&&(c.label=this.type==="input"?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(s).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(c.disabled){return}this===r&&i(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){if(c.disabled){return}i(this).removeClass(h)}).bind("click"+this.eventNamespace,function(k){c.disabled&&(k.preventDefault(),k.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){b.buttonElement.addClass(j)}).bind("blur"+this.eventNamespace,function(){b.buttonElement.removeClass(j)}),d&&(this.element.bind("change"+this.eventNamespace,function(){if(u){return}b.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(k){if(c.disabled){return}u=!1,t=k.pageX,n=k.pageY}).bind("mouseup"+this.eventNamespace,function(k){if(c.disabled){return}if(t!==k.pageX||n!==k.pageY){u=!0}})),this.type==="checkbox"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled||u){return !1}i(this).toggleClass("ui-state-active"),b.buttonElement.attr("aria-pressed",b.element[0].checked)}):this.type==="radio"?this.buttonElement.bind("click"+this.eventNamespace,function(){if(c.disabled||u){return !1}i(this).addClass("ui-state-active"),b.buttonElement.attr("aria-pressed","true");var k=b.element[0];o(k).not(k).map(function(){return i(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(c.disabled){return !1}i(this).addClass("ui-state-active"),r=this,b.document.one("mouseup",function(){r=null})}).bind("mouseup"+this.eventNamespace,function(){if(c.disabled){return !1}i(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(k){if(c.disabled){return !1}(k.keyCode===i.ui.keyCode.SPACE||k.keyCode===i.ui.keyCode.ENTER)&&i(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace,function(){i(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(k){k.keyCode===i.ui.keyCode.SPACE&&i(this).click()})),this._setOption("disabled",c.disabled),this._resetButton()},_determineButtonType:function(){var d,b,c;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button",this.type==="checkbox"||this.type==="radio"?(d=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=d.find(b),this.buttonElement.length||(d=d.length?d.siblings():this.element.siblings(),this.buttonElement=d.filter(b),this.buttonElement.length||(this.buttonElement=d.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(s+" "+a+" "+f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(c,b){this._super(c,b);if(c==="disabled"){b?this.element.prop("disabled",!0):this.element.prop("disabled",!1);return}this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),this.type==="radio"?o(this.element[0]).each(function(){i(this).is(":checked")?i(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):i(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):this.type==="checkbox"&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if(this.type==="input"){this.options.label&&this.element.val(this.options.label);return}var h=this.buttonElement.removeClass(f),d=i("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(h.empty()).text(),j=this.options.icons,c=j.primary&&j.secondary,b=[];j.primary||j.secondary?(this.options.text&&b.push("ui-button-text-icon"+(c?"s":j.primary?"-primary":"-secondary")),j.primary&&h.prepend("<span class='ui-button-icon-primary ui-icon "+j.primary+"'></span>"),j.secondary&&h.append("<span class='ui-button-icon-secondary ui-icon "+j.secondary+"'></span>"),this.options.text||(b.push(c?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||h.attr("title",i.trim(d)))):b.push("ui-button-text-only"),h.addClass(b.join(" "))}}),i.widget("ui.buttonset",{version:"1.9.2",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(c,b){c==="disabled"&&this.buttons.button("option",c,b),this._super(c,b)},refresh:function(){var b=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return i(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return i(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function($,undefined){function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){$(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){$.datepicker._isDisabledDatepicker(instActive.inline?e.parent()[0]:instActive.input[0])||($(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),$(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!=-1&&$(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!=-1&&$(this).addClass("ui-datepicker-next-hover"))})}function extendRemove(e,t){$.extend(e,t);for(var n in t){if(t[n]==null||t[n]==undefined){e[n]=t[n]}}return e}$.extend($.ui,{datepicker:{version:"1.9.2"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return extendRemove(this._defaults,e||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),nodeName=="input"?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(e,t){var n=e[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(e,t){var n=$(e);t.append=$([]),t.trigger=$([]);if(n.hasClass(this.markerClassName)){return}this._attachments(n,t),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),this._autoSize(t),$.data(e,PROP_NAME,t),t.settings.disabled&&this._disableDatepicker(e)},_attachments:function(e,t){var n=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),n&&(t.append=$('<span class="'+this._appendClass+'">'+n+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove();var i=this._get(t,"showOn");(i=="focus"||i=="both")&&e.focus(this._showDatepicker);if(i=="button"||i=="both"){var s=this._get(t,"buttonText"),o=this._get(t,"buttonImage");t.trigger=$(this._get(t,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):$('<button type="button"></button>').addClass(this._triggerClass).html(o==""?s:$("<img/>").attr({src:o,alt:s,title:s}))),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==e[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=e[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(e[0])):$.datepicker._showDatepicker(e[0]),!1})}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t=new Date(2009,11,20),n=this._get(e,"dateFormat");if(n.match(/[DM]/)){var r=function(e){var t=0,n=0;for(var r=0;r<e.length;r++){e[r].length>t&&(t=e[r].length,n=r)}return n};t.setMonth(r(this._get(e,n.match(/MM/)?"monthNames":"monthNamesShort"))),t.setDate(r(this._get(e,n.match(/DD/)?"dayNames":"dayNamesShort"))+20-t.getDay())}e.input.attr("size",this._formatDate(e,t).length)}},_inlineDatepicker:function(e,t){var n=$(e);if(n.hasClass(this.markerClassName)){return}n.addClass(this.markerClassName).append(t.dpDiv).bind("setData.datepicker",function(e,n,r){t.settings[n]=r}).bind("getData.datepicker",function(e,n){return this._get(t,n)}),$.data(e,PROP_NAME,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block")},_dialogDatepicker:function(e,t,n,r,i){var s=this._dialogInst;if(!s){this.uuid+=1;var o="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+o+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),s=this._dialogInst=this._newInst(this._dialogInput,!1),s.settings={},$.data(this._dialogInput[0],PROP_NAME,s)}extendRemove(s.settings,r||{}),t=t&&t.constructor==Date?this._formatDate(s,t):t,this._dialogInput.val(t),this._pos=i?i.length?i:[i.pageX,i.pageY]:null;if(!this._pos){var u=document.documentElement.clientWidth,a=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,l=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[u/2-100+f,a/2-150+l]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),s.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,s),this},_destroyDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();$.removeData(e,PROP_NAME),r=="input"?(n.append.remove(),n.trigger.remove(),t.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):(r=="div"||r=="span")&&t.removeClass(this.markerClassName).empty()},_enableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t})},_disableDatepicker:function(e){var t=$(e),n=$.data(e,PROP_NAME);if(!t.hasClass(this.markerClassName)){return}var r=e.nodeName.toLowerCase();if(r=="input"){e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(r=="div"||r=="span"){var i=t.children("."+this._inlineClass);i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}}this._disabledInputs=$.map(this._disabledInputs,function(t){return t==e?null:t}),this._disabledInputs[this._disabledInputs.length]=e},_isDisabledDatepicker:function(e){if(!e){return !1}for(var t=0;t<this._disabledInputs.length;t++){if(this._disabledInputs[t]==e){return !0}}return !1},_getInst:function(e){try{return $.data(e,PROP_NAME)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var r=this._getInst(e);if(arguments.length==2&&typeof t=="string"){return t=="defaults"?$.extend({},$.datepicker._defaults):r?t=="all"?$.extend({},r.settings):this._get(r,t):null}var i=t||{};typeof t=="string"&&(i={},i[t]=n);if(r){this._curInst==r&&this._hideDatepicker();var s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(r,"min"),u=this._getMinMaxDate(r,"max");extendRemove(r.settings,i),o!==null&&i.dateFormat!==undefined&&i.minDate===undefined&&(r.settings.minDate=this._formatDate(r,o)),u!==null&&i.dateFormat!==undefined&&i.maxDate===undefined&&(r.settings.maxDate=this._formatDate(r,u)),this._attachments($(e),r),this._autoSize(r),this._setDate(r,s),this._updateAlternate(r),this._updateDatepicker(r)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t=$.datepicker._getInst(e.target),n=!0,r=t.dpDiv.is(".ui-datepicker-rtl");t._keyEvent=!0;if($.datepicker._datepickerShowing){switch(e.keyCode){case 9:$.datepicker._hideDatepicker(),n=!1;break;case 13:var i=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",t.dpDiv);i[0]&&$.datepicker._selectDay(e.target,t.selectedMonth,t.selectedYear,i[0]);var s=$.datepicker._get(t,"onSelect");if(s){var o=$.datepicker._formatDate(t);s.apply(t.input?t.input[0]:null,[o,t])}else{$.datepicker._hideDatepicker()}return !1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&$.datepicker._clearDate(e.target),n=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&$.datepicker._gotoToday(e.target),n=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?1:-1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?-$.datepicker._get(t,"stepBigMonths"):-$.datepicker._get(t,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,-7,"D"),n=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,r?-1:1,"D"),n=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&$.datepicker._adjustDate(e.target,e.ctrlKey?+$.datepicker._get(t,"stepBigMonths"):+$.datepicker._get(t,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&$.datepicker._adjustDate(e.target,7,"D"),n=e.ctrlKey||e.metaKey;break;default:n=!1}}else{e.keyCode==36&&e.ctrlKey?$.datepicker._showDatepicker(this):n=!1}n&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t=$.datepicker._getInst(e.target);if($.datepicker._get(t,"constrainInput")){var n=$.datepicker._possibleChars($.datepicker._get(t,"dateFormat")),r=String.fromCharCode(e.charCode==undefined?e.keyCode:e.charCode);return e.ctrlKey||e.metaKey||r<" "||!n||n.indexOf(r)>-1}},_doKeyUp:function(e){var t=$.datepicker._getInst(e.target);if(t.input.val()!=t.lastVal){try{var n=$.datepicker.parseDate($.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,$.datepicker._getFormatConfig(t));n&&($.datepicker._setDateFromField(t),$.datepicker._updateAlternate(t),$.datepicker._updateDatepicker(t))}catch(r){$.datepicker.log(r)}}return !0},_showDatepicker:function(e){e=e.target||e,e.nodeName.toLowerCase()!="input"&&(e=$("input",e.parentNode)[0]);if($.datepicker._isDisabledDatepicker(e)||$.datepicker._lastInput==e){return}var t=$.datepicker._getInst(e);$.datepicker._curInst&&$.datepicker._curInst!=t&&($.datepicker._curInst.dpDiv.stop(!0,!0),t&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var n=$.datepicker._get(t,"beforeShow"),r=n?n.apply(e,[e,t]):{};if(r===!1){return}extendRemove(t.settings,r),t.lastVal=null,$.datepicker._lastInput=e,$.datepicker._setDateFromField(t),$.datepicker._inDialog&&(e.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(e),$.datepicker._pos[1]+=e.offsetHeight);var i=!1;$(e).parents().each(function(){return i|=$(this).css("position")=="fixed",!i});var s={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};$.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(t),s=$.datepicker._checkOffset(t,s,i),t.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":i?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!t.inline){var o=$.datepicker._get(t,"showAnim"),u=$.datepicker._get(t,"duration"),a=function(){var e=t.dpDiv.find("iframe.ui-datepicker-cover");if(!!e.length){var n=$.datepicker._getBorders(t.dpDiv);e.css({left:-n[0],top:-n[1],width:t.dpDiv.outerWidth(),height:t.dpDiv.outerHeight()})}};t.dpDiv.zIndex($(e).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&($.effects.effect[o]||$.effects[o])?t.dpDiv.show(o,$.datepicker._get(t,"showOptions"),u,a):t.dpDiv[o||"show"](o?u:null,a),(!o||!u)&&a(),t.input.is(":visible")&&!t.input.is(":disabled")&&t.input.focus(),$.datepicker._curInst=t}},_updateDatepicker:function(e){this.maxRows=4;var t=$.datepicker._getBorders(e.dpDiv);instActive=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n=e.dpDiv.find("iframe.ui-datepicker-cover");!n.length||n.css({left:-t[0],top:-t[1],width:e.dpDiv.outerWidth(),height:e.dpDiv.outerHeight()}),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var r=this._getNumberOfMonths(e),i=r[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),i>1&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",s*i+"em"),e.dpDiv[(r[0]!=1||r[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e==$.datepicker._curInst&&$.datepicker._datepickerShowing&&e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&e.input[0]!=document.activeElement&&e.input.focus();if(e.yearshtml){var o=e.yearshtml;setTimeout(function(){o===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),o=e.yearshtml=null},0)}},_getBorders:function(e){var t=function(e){return{thin:1,medium:2,thick:3}[e]||e};return[parseFloat(t(e.css("border-left-width"))),parseFloat(t(e.css("border-top-width")))]},_checkOffset:function(e,t,n){var r=e.dpDiv.outerWidth(),i=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,u=document.documentElement.clientWidth+(n?0:$(document).scrollLeft()),a=document.documentElement.clientHeight+(n?0:$(document).scrollTop());return t.left-=this._get(e,"isRTL")?r-s:0,t.left-=n&&t.left==e.input.offset().left?$(document).scrollLeft():0,t.top-=n&&t.top==e.input.offset().top+o?$(document).scrollTop():0,t.left-=Math.min(t.left,t.left+r>u&&u>r?Math.abs(t.left+r-u):0),t.top-=Math.min(t.top,t.top+i>a&&a>i?Math.abs(i+o):0),t},_findPos:function(e){var t=this._getInst(e),n=this._get(t,"isRTL");while(e&&(e.type=="hidden"||e.nodeType!=1||$.expr.filters.hidden(e))){e=e[n?"previousSibling":"nextSibling"]}var r=$(e).offset();return[r.left,r.top]},_hideDatepicker:function(e){var t=this._curInst;if(!t||e&&t!=$.data(e,PROP_NAME)){return}if(this._datepickerShowing){var n=this._get(t,"showAnim"),r=this._get(t,"duration"),i=function(){$.datepicker._tidyDialog(t)};$.effects&&($.effects.effect[n]||$.effects[n])?t.dpDiv.hide(n,$.datepicker._get(t,"showOptions"),r,i):t.dpDiv[n=="slideDown"?"slideUp":n=="fadeIn"?"fadeOut":"hide"](n?r:null,i),n||i(),this._datepickerShowing=!1;var s=this._get(t,"onClose");s&&s.apply(t.input?t.input[0]:null,[t.input?t.input.val():"",t]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(!$.datepicker._curInst){return}var t=$(e.target),n=$.datepicker._getInst(t[0]);(t[0].id!=$.datepicker._mainDivId&&t.parents("#"+$.datepicker._mainDivId).length==0&&!t.hasClass($.datepicker.markerClassName)&&!t.closest("."+$.datepicker._triggerClass).length&&$.datepicker._datepickerShowing&&(!$.datepicker._inDialog||!$.blockUI)||t.hasClass($.datepicker.markerClassName)&&$.datepicker._curInst!=n)&&$.datepicker._hideDatepicker()},_adjustDate:function(e,t,n){var r=$(e),i=this._getInst(r[0]);if(this._isDisabledDatepicker(r[0])){return}this._adjustInstDate(i,t+(n=="M"?this._get(i,"showCurrentAtPos"):0),n),this._updateDatepicker(i)},_gotoToday:function(e){var t=$(e),n=this._getInst(t[0]);if(this._get(n,"gotoCurrent")&&n.currentDay){n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear}else{var r=new Date;n.selectedDay=r.getDate(),n.drawMonth=n.selectedMonth=r.getMonth(),n.drawYear=n.selectedYear=r.getFullYear()}this._notifyChange(n),this._adjustDate(t)},_selectMonthYear:function(e,t,n){var r=$(e),i=this._getInst(r[0]);i["selected"+(n=="M"?"Month":"Year")]=i["draw"+(n=="M"?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(i),this._adjustDate(r)},_selectDay:function(e,t,n,r){var i=$(e);if($(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(i[0])){return}var s=this._getInst(i[0]);s.selectedDay=s.currentDay=$("a",r).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=n,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear))},_clearDate:function(e){var t=$(e),n=this._getInst(t[0]);this._selectDate(t,"")},_selectDate:function(e,t){var n=$(e),r=this._getInst(n[0]);t=t!=null?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r);var i=this._get(r,"onSelect");i?i.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],typeof r.input[0]!="object"&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t=this._get(e,"altField");if(t){var n=this._get(e,"altFormat")||this._get(e,"dateFormat"),r=this._getDate(e),i=this.formatDate(n,r,this._getFormatConfig(e));$(t).each(function(){$(this).val(i)})}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t=new Date(e.getTime());t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/86400000)/7)+1},parseDate:function(e,t,n){if(e==null||t==null){throw"Invalid arguments"}t=typeof t=="object"?t.toString():t+"";if(t==""){return null}var r=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff;r=typeof r!="string"?r:(new Date).getFullYear()%100+parseInt(r,10);var i=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,s=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,u=(n?n.monthNames:null)||this._defaults.monthNames,a=-1,f=-1,l=-1,c=-1,h=!1,p=function(t){var n=y+1<e.length&&e.charAt(y+1)==t;return n&&y++,n},d=function(e){var n=p(e),r=e=="@"?14:e=="!"?20:e=="y"&&n?4:e=="o"?3:2,i=new RegExp("^\\d{1,"+r+"}"),s=t.substring(g).match(i);if(!s){throw"Missing number at position "+g}return g+=s[0].length,parseInt(s[0],10)},v=function(e,n,r){var i=$.map(p(e)?r:n,function(e,t){return[[t,e]]}).sort(function(e,t){return -(e[1].length-t[1].length)}),s=-1;$.each(i,function(e,n){var r=n[1];if(t.substr(g,r.length).toLowerCase()==r.toLowerCase()){return s=n[0],g+=r.length,!1}});if(s!=-1){return s+1}throw"Unknown name at position "+g},m=function(){if(t.charAt(g)!=e.charAt(y)){throw"Unexpected literal at position "+g}g++},g=0;for(var y=0;y<e.length;y++){if(h){e.charAt(y)=="'"&&!p("'")?h=!1:m()}else{switch(e.charAt(y)){case"d":l=d("d");break;case"D":v("D",i,s);break;case"o":c=d("o");break;case"m":f=d("m");break;case"M":f=v("M",o,u);break;case"y":a=d("y");break;case"@":var b=new Date(d("@"));a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"!":var b=new Date((d("!")-this._ticksTo1970)/10000);a=b.getFullYear(),f=b.getMonth()+1,l=b.getDate();break;case"'":p("'")?m():h=!0;break;default:m()}}}if(g<t.length){var w=t.substr(g);if(!/^\s+/.test(w)){throw"Extra/unparsed characters found in date: "+w}}a==-1?a=(new Date).getFullYear():a<100&&(a+=(new Date).getFullYear()-(new Date).getFullYear()%100+(a<=r?0:-100));if(c>-1){f=1,l=c;do{var E=this._getDaysInMonth(a,f-1);if(l<=E){break}f++,l-=E}while(!0)}var b=this._daylightSavingAdjust(new Date(a,f-1,l));if(b.getFullYear()!=a||b.getMonth()+1!=f||b.getDate()!=l){throw"Invalid date"}return b},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(e,t,n){if(!t){return""}var r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,i=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,u=function(t){var n=h+1<e.length&&e.charAt(h+1)==t;return n&&h++,n},a=function(e,t,n){var r=""+t;if(u(e)){while(r.length<n){r="0"+r}}return r},f=function(e,t,n,r){return u(e)?r[t]:n[t]},l="",c=!1;if(t){for(var h=0;h<e.length;h++){if(c){e.charAt(h)=="'"&&!u("'")?c=!1:l+=e.charAt(h)}else{switch(e.charAt(h)){case"d":l+=a("d",t.getDate(),2);break;case"D":l+=f("D",t.getDay(),r,i);break;case"o":l+=a("o",Math.round(((new Date(t.getFullYear(),t.getMonth(),t.getDate())).getTime()-(new Date(t.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":l+=a("m",t.getMonth()+1,2);break;case"M":l+=f("M",t.getMonth(),s,o);break;case"y":l+=u("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=t.getTime()*10000+this._ticksTo1970;break;case"'":u("'")?l+="'":c=!0;break;default:l+=e.charAt(h)}}}}return l},_possibleChars:function(e){var t="",n=!1,r=function(t){var n=i+1<e.length&&e.charAt(i+1)==t;return n&&i++,n};for(var i=0;i<e.length;i++){if(n){e.charAt(i)=="'"&&!r("'")?n=!1:t+=e.charAt(i)}else{switch(e.charAt(i)){case"d":case"m":case"y":case"@":t+="0123456789";break;case"D":case"M":return null;case"'":r("'")?t+="'":n=!0;break;default:t+=e.charAt(i)}}}return t},_get:function(e,t){return e.settings[t]!==undefined?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()==e.lastVal){return}var n=this._get(e,"dateFormat"),r=e.lastVal=e.input?e.input.val():null,i,s;i=s=this._getDefaultDate(e);var o=this._getFormatConfig(e);try{i=this.parseDate(n,r,o)||s}catch(u){this.log(u),r=t?"":r}e.selectedDay=i.getDate(),e.drawMonth=e.selectedMonth=i.getMonth(),e.drawYear=e.selectedYear=i.getFullYear(),e.currentDay=r?i.getDate():0,e.currentMonth=r?i.getMonth():0,e.currentYear=r?i.getFullYear():0,this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(e,t,n){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},i=function(t){try{return $.datepicker.parseDate($.datepicker._get(e,"dateFormat"),t,$.datepicker._getFormatConfig(e))}catch(n){}var r=(t.toLowerCase().match(/^c/)?$.datepicker._getDate(e):null)||new Date,i=r.getFullYear(),s=r.getMonth(),o=r.getDate(),u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=u.exec(t);while(a){switch(a[2]||"d"){case"d":case"D":o+=parseInt(a[1],10);break;case"w":case"W":o+=parseInt(a[1],10)*7;break;case"m":case"M":s+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s));break;case"y":case"Y":i+=parseInt(a[1],10),o=Math.min(o,$.datepicker._getDaysInMonth(i,s))}a=u.exec(t)}return new Date(i,s,o)},s=t==null||t===""?n:typeof t=="string"?i(t):typeof t=="number"?isNaN(t)?n:r(t):new Date(t.getTime());return s=s&&s.toString()=="Invalid Date"?n:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var r=!t,i=e.selectedMonth,s=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),(i!=e.selectedMonth||s!=e.selectedYear)&&!n&&this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(r?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&e.input.val()==""?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,-t,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(n,+t,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(n)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(n,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t=new Date;t=this._daylightSavingAdjust(new Date(t.getFullYear(),t.getMonth(),t.getDate()));var n=this._get(e,"isRTL"),r=this._get(e,"showButtonPanel"),i=this._get(e,"hideIfNoPrevNext"),s=this._get(e,"navigationAsDateFormat"),o=this._getNumberOfMonths(e),u=this._get(e,"showCurrentAtPos"),a=this._get(e,"stepMonths"),f=o[0]!=1||o[1]!=1,l=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),c=this._getMinMaxDate(e,"min"),h=this._getMinMaxDate(e,"max"),p=e.drawMonth-u,d=e.drawYear;p<0&&(p+=12,d--);if(h){var v=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-o[0]*o[1]+1,h.getDate()));v=c&&v<c?c:v;while(this._daylightSavingAdjust(new Date(d,p,1))>v){p--,p<0&&(p=11,d--)}}e.drawMonth=p,e.drawYear=d;var m=this._get(e,"prevText");m=s?this.formatDate(m,this._daylightSavingAdjust(new Date(d,p-a,1)),this._getFormatConfig(e)):m;var g=this._canAdjustMonth(e,-1,d,p)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>":i?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+m+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"e":"w")+'">'+m+"</span></a>",y=this._get(e,"nextText");y=s?this.formatDate(y,this._daylightSavingAdjust(new Date(d,p+a,1)),this._getFormatConfig(e)):y;var b=this._canAdjustMonth(e,1,d,p)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>":i?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+y+'"><span class="ui-icon ui-icon-circle-triangle-'+(n?"w":"e")+'">'+y+"</span></a>",w=this._get(e,"currentText"),E=this._get(e,"gotoCurrent")&&e.currentDay?l:t;w=s?this.formatDate(w,E,this._getFormatConfig(e)):w;var S=e.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(e,"closeText")+"</button>",x=r?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(n?S:"")+(this._isInRange(e,E)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+w+"</button>":"")+(n?"":S)+"</div>":"",T=parseInt(this._get(e,"firstDay"),10);T=isNaN(T)?0:T;var N=this._get(e,"showWeek"),C=this._get(e,"dayNames"),k=this._get(e,"dayNamesShort"),L=this._get(e,"dayNamesMin"),A=this._get(e,"monthNames"),O=this._get(e,"monthNamesShort"),M=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),D=this._get(e,"selectOtherMonths"),P=this._get(e,"calculateWeek")||this.iso8601Week,H=this._getDefaultDate(e),B="";for(var j=0;j<o[0];j++){var F="";this.maxRows=4;for(var I=0;I<o[1];I++){var q=this._daylightSavingAdjust(new Date(d,p,e.selectedDay)),R=" ui-corner-all",U="";if(f){U+='<div class="ui-datepicker-group';if(o[1]>1){switch(I){case 0:U+=" ui-datepicker-group-first",R=" ui-corner-"+(n?"right":"left");break;case o[1]-1:U+=" ui-datepicker-group-last",R=" ui-corner-"+(n?"left":"right");break;default:U+=" ui-datepicker-group-middle",R=""}}U+='">'}U+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+R+'">'+(/all|left/.test(R)&&j==0?n?b:g:"")+(/all|right/.test(R)&&j==0?n?g:b:"")+this._generateMonthYearHeader(e,p,d,c,h,j>0||I>0,A,O)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=N?'<th class="ui-datepicker-week-col">'+this._get(e,"weekHeader")+"</th>":"";for(var W=0;W<7;W++){var X=(W+T)%7;z+="<th"+((W+T+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+C[X]+'">'+L[X]+"</span></th>"}U+=z+"</tr></thead><tbody>";var V=this._getDaysInMonth(d,p);d==e.selectedYear&&p==e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,V));var J=(this._getFirstDayOfMonth(d,p)-T+7)%7,K=Math.ceil((J+V)/7),Q=f?this.maxRows>K?this.maxRows:K:K;this.maxRows=Q;var G=this._daylightSavingAdjust(new Date(d,p,1-J));for(var Y=0;Y<Q;Y++){U+="<tr>";var Z=N?'<td class="ui-datepicker-week-col">'+this._get(e,"calculateWeek")(G)+"</td>":"";for(var W=0;W<7;W++){var et=M?M.apply(e.input?e.input[0]:null,[G]):[!0,""],tt=G.getMonth()!=p,nt=tt&&!D||!et[0]||c&&G<c||h&&G>h;Z+='<td class="'+((W+T+6)%7>=5?" ui-datepicker-week-end":"")+(tt?" ui-datepicker-other-month":"")+(G.getTime()==q.getTime()&&p==e.selectedMonth&&e._keyEvent||H.getTime()==G.getTime()&&H.getTime()==q.getTime()?" "+this._dayOverClass:"")+(nt?" "+this._unselectableClass+" ui-state-disabled":"")+(tt&&!_?"":" "+et[1]+(G.getTime()==l.getTime()?" "+this._currentClass:"")+(G.getTime()==t.getTime()?" ui-datepicker-today":""))+'"'+((!tt||_)&&et[2]?' title="'+et[2]+'"':"")+(nt?"":' data-handler="selectDay" data-event="click" data-month="'+G.getMonth()+'" data-year="'+G.getFullYear()+'"')+">"+(tt&&!_?"&#xa0;":nt?'<span class="ui-state-default">'+G.getDate()+"</span>":'<a class="ui-state-default'+(G.getTime()==t.getTime()?" ui-state-highlight":"")+(G.getTime()==l.getTime()?" ui-state-active":"")+(tt?" ui-priority-secondary":"")+'" href="#">'+G.getDate()+"</a>")+"</td>",G.setDate(G.getDate()+1),G=this._daylightSavingAdjust(G)}U+=Z+"</tr>"}p++,p>11&&(p=0,d++),U+="</tbody></table>"+(f?"</div>"+(o[0]>0&&I==o[1]-1?'<div class="ui-datepicker-row-break"></div>':""):""),F+=U}B+=F}return B+=x+($.ui.ie6&&!e.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),e._keyEvent=!1,B},_generateMonthYearHeader:function(e,t,n,r,i,s,o,u){var a=this._get(e,"changeMonth"),f=this._get(e,"changeYear"),l=this._get(e,"showMonthAfterYear"),c='<div class="ui-datepicker-title">',h="";if(s||!a){h+='<span class="ui-datepicker-month">'+o[t]+"</span>"}else{var p=r&&r.getFullYear()==n,d=i&&i.getFullYear()==n;h+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var v=0;v<12;v++){(!p||v>=r.getMonth())&&(!d||v<=i.getMonth())&&(h+='<option value="'+v+'"'+(v==t?' selected="selected"':"")+">"+u[v]+"</option>")}h+="</select>"}l||(c+=h+(s||!a||!f?"&#xa0;":""));if(!e.yearshtml){e.yearshtml="";if(s||!f){c+='<span class="ui-datepicker-year">'+n+"</span>"}else{var m=this._get(e,"yearRange").split(":"),g=(new Date).getFullYear(),y=function(e){var t=e.match(/c[+-].*/)?n+parseInt(e.substring(1),10):e.match(/[+-].*/)?g+parseInt(e,10):parseInt(e,10);return isNaN(t)?g:t},b=y(m[0]),w=Math.max(b,y(m[1]||""));b=r?Math.max(b,r.getFullYear()):b,w=i?Math.min(w,i.getFullYear()):w,e.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';for(;b<=w;b++){e.yearshtml+='<option value="'+b+'"'+(b==n?' selected="selected"':"")+">"+b+"</option>"}e.yearshtml+="</select>",c+=e.yearshtml,e.yearshtml=null}}return c+=this._get(e,"yearSuffix"),l&&(c+=(s||!a||!f?"&#xa0;":"")+h),c+="</div>",c},_adjustInstDate:function(e,t,n){var r=e.drawYear+(n=="Y"?t:0),i=e.drawMonth+(n=="M"?t:0),s=Math.min(e.selectedDay,this._getDaysInMonth(r,i))+(n=="D"?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(r,i,s)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),(n=="M"||n=="Y")&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),i=n&&t<n?n:t;return i=r&&i>r?r:i,i},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return t==null?[1,1]:typeof t=="number"?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return(new Date(e,t,1)).getDay()},_canAdjustMonth:function(e,t,n,r){var i=this._getNumberOfMonths(e),s=this._daylightSavingAdjust(new Date(n,r+(t<0?t:i[0]*i[1]),1));return t<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(e,s)},_isInRange:function(e,t){var n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max");return(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t=typeof t!="string"?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,r){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?typeof t=="object"?t:this._daylightSavingAdjust(new Date(r,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),i,this._getFormatConfig(e))}}),$.fn.datepicker=function(e){if(!this.length){return this}$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find(document.body).append($.datepicker.dpDiv),$.datepicker.initialized=!0);var t=Array.prototype.slice.call(arguments,1);return typeof e!="string"||e!="isDisabled"&&e!="getDate"&&e!="widget"?e=="option"&&arguments.length==2&&typeof arguments[1]=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t)):this.each(function(){typeof e=="string"?$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this].concat(t)):$.datepicker._attachDatepicker(this,e)}):$.datepicker["_"+e+"Datepicker"].apply($.datepicker,[this[0]].concat(t))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.9.2",window["DP_jQuery_"+dpuuid]=$}(jQuery),function(k,h){var j="ui-dialog ui-widget ui-widget-content ui-corner-all ",l={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};k.widget("ui.dialog",{version:"1.9.2",options:{autoOpen:!0,buttons:{},closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:!1,maxWidth:!1,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var a=k(this).css(b).offset().top;a<0&&k(this).css("top",b.top-a)}},resizable:!0,show:null,stack:!0,title:"",width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr("title"),typeof this.originalTitle!="string"&&(this.originalTitle=""),this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.options.title=this.options.title||this.originalTitle;var b=this,s=this.options,c=s.title||"&#160;",a,o,d,f,r;a=(this.uiDialog=k("<div>")).addClass(j+s.dialogClass).css({display:"none",outline:0,zIndex:s.zIndex}).attr("tabIndex",-1).keydown(function(m){s.closeOnEscape&&!m.isDefaultPrevented()&&m.keyCode&&m.keyCode===k.ui.keyCode.ESCAPE&&(b.close(m),m.preventDefault())}).mousedown(function(m){b.moveToTop(!1,m)}).appendTo("body"),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(a),o=(this.uiDialogTitlebar=k("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){a.focus()}).prependTo(a),d=k("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(m){m.preventDefault(),b.close(m)}).appendTo(o),(this.uiDialogTitlebarCloseText=k("<span>")).addClass("ui-icon ui-icon-closethick").text(s.closeText).appendTo(d),f=k("<span>").uniqueId().addClass("ui-dialog-title").html(c).prependTo(o),r=(this.uiDialogButtonPane=k("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),(this.uiButtonSet=k("<div>")).addClass("ui-dialog-buttonset").appendTo(r),a.attr({role:"dialog","aria-labelledby":f.attr("id")}),o.find("*").add(o).disableSelection(),this._hoverable(d),this._focusable(d),s.draggable&&k.fn.draggable&&this._makeDraggable(),s.resizable&&k.fn.resizable&&this._makeResizable(),this._createButtons(s.buttons),this._isOpen=!1,k.fn.bgiframe&&a.bgiframe(),this._on(a,{keydown:function(p){if(!s.modal||p.keyCode!==k.ui.keyCode.TAB){return}var m=k(":tabbable",a),q=m.filter(":first"),n=m.filter(":last");if(p.target===n[0]&&!p.shiftKey){return q.focus(1),!1}if(p.target===q[0]&&p.shiftKey){return n.focus(1),!1}}})},_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a,b=this.oldPosition;this.overlay&&this.overlay.destroy(),this.uiDialog.hide(),this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body"),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},close:function(c){var a=this,b,d;if(!this._isOpen){return}if(!1===this._trigger("beforeClose",c)){return}return this._isOpen=!1,this.overlay&&this.overlay.destroy(),this.options.hide?this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",c)}):(this.uiDialog.hide(),this._trigger("close",c)),k.ui.dialog.overlay.resize(),this.options.modal&&(b=0,k(".ui-dialog").each(function(){this!==a.uiDialog[0]&&(d=k(this).css("z-index"),isNaN(d)||(b=Math.max(b,d)))}),k.ui.dialog.maxZ=b),this},isOpen:function(){return this._isOpen},moveToTop:function(c,a){var b=this.options,d;return b.modal&&!c||!b.stack&&!b.modal?this._trigger("focus",a):(b.zIndex>k.ui.dialog.maxZ&&(k.ui.dialog.maxZ=b.zIndex),this.overlay&&(k.ui.dialog.maxZ+=1,k.ui.dialog.overlay.maxZ=k.ui.dialog.maxZ,this.overlay.$el.css("z-index",k.ui.dialog.overlay.maxZ)),d={scrollTop:this.element.scrollTop(),scrollLeft:this.element.scrollLeft()},k.ui.dialog.maxZ+=1,this.uiDialog.css("z-index",k.ui.dialog.maxZ),this.element.attr(d),this._trigger("focus",a),this)},open:function(){if(this._isOpen){return}var c,a=this.options,b=this.uiDialog;return this._size(),this._position(a.position),b.show(a.show),this.overlay=a.modal?new k.ui.dialog.overlay(this):null,this.moveToTop(!0),c=this.element.find(":tabbable"),c.length||(c=this.uiDialogButtonPane.find(":tabbable"),c.length||(c=b)),c.eq(0).focus(),this._isOpen=!0,this._trigger("open"),this},_createButtons:function(c){var a=this,b=!1;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),typeof c=="object"&&c!==null&&k.each(c,function(){return !(b=!0)}),b?(k.each(c,function(f,p){var o,d;p=k.isFunction(p)?{click:p,text:f}:p,p=k.extend({type:"button"},p),d=p.click,p.click=function(){d.apply(a.element[0],arguments)},o=k("<button></button>",p).appendTo(a.uiButtonSet),k.fn.button&&o.button()}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog)):this.uiDialog.removeClass("ui-dialog-buttons")},_makeDraggable:function(){function b(d){return{position:d.position,offset:d.offset}}var c=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,f){k(this).addClass("ui-dialog-dragging"),c._trigger("dragStart",d,b(f))},drag:function(f,d){c._trigger("drag",f,b(d))},stop:function(f,d){a.position=[d.position.left-c.document.scrollLeft(),d.position.top-c.document.scrollTop()],k(this).removeClass("ui-dialog-dragging"),c._trigger("dragStop",f,b(d)),k.ui.dialog.overlay.resize()}})},_makeResizable:function(n){function f(m){return{originalPosition:m.originalPosition,originalSize:m.originalSize,position:m.position,size:m.size}}n=n===h?this.options.resizable:n;var b=this,d=this.options,c=this.uiDialog.css("position"),a=typeof n=="string"?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:a,start:function(m,p){k(this).addClass("ui-dialog-resizing"),b._trigger("resizeStart",m,f(p))},resize:function(o,m){b._trigger("resize",o,f(m))},stop:function(m,p){k(this).removeClass("ui-dialog-resizing"),d.height=k(this).height(),d.width=k(this).width(),b._trigger("resizeStop",m,f(p)),k.ui.dialog.overlay.resize()}}).css("position",c).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(c){var a=[],b=[0,0],d;if(c){if(typeof c=="string"||typeof c=="object"&&"0" in c){a=c.split?c.split(" "):[c[0],c[1]],a.length===1&&(a[1]=a[0]),k.each(["left","top"],function(f,n){+a[f]===a[f]&&(b[f]=a[f],a[f]=n)}),c={my:a[0]+(b[0]<0?b[0]:"+"+b[0])+" "+a[1]+(b[1]<0?b[1]:"+"+b[1]),at:a.join(" ")}}c=k.extend({},k.ui.dialog.prototype.options.position,c)}else{c=k.ui.dialog.prototype.options.position}d=this.uiDialog.is(":visible"),d||this.uiDialog.show(),this.uiDialog.position(c),d||this.uiDialog.hide()},_setOptions:function(d){var a=this,c={},b=!1;k.each(d,function(f,n){a._setOption(f,n),f in l&&(b=!0),f in i&&(c[f]=n)}),b&&this._size(),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",c)},_setOption:function(d,b){var f,c,a=this.uiDialog;switch(d){case"buttons":this._createButtons(b);break;case"closeText":this.uiDialogTitlebarCloseText.text(""+b);break;case"dialogClass":a.removeClass(this.options.dialogClass).addClass(j+b);break;case"disabled":b?a.addClass("ui-dialog-disabled"):a.removeClass("ui-dialog-disabled");break;case"draggable":f=a.is(":data(draggable)"),f&&!b&&a.draggable("destroy"),!f&&b&&this._makeDraggable();break;case"position":this._position(b);break;case"resizable":c=a.is(":data(resizable)"),c&&!b&&a.resizable("destroy"),c&&typeof b=="string"&&a.resizable("option","handles",b),!c&&b!==!1&&this._makeResizable(b);break;case"title":k(".ui-dialog-title",this.uiDialogTitlebar).html(""+(b||"&#160;"))}this._super(d,b)},_size:function(){var d,a,b,f=this.options,c=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0}),f.minWidth>f.width&&(f.width=f.minWidth),d=this.uiDialog.css({height:"auto",width:f.width}).outerHeight(),a=Math.max(0,f.minHeight-d),f.height==="auto"?k.support.minHeight?this.element.css({minHeight:a,height:"auto"}):(this.uiDialog.show(),b=this.element.css("height","auto").height(),c||this.uiDialog.hide(),this.element.height(Math.max(b,a))):this.element.height(Math.max(f.height-d,0)),this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}}),k.extend(k.ui.dialog,{uuid:0,maxZ:0,getTitleId:function(a){var b=a.attr("id");return b||(this.uuid+=1,b=this.uuid),"ui-dialog-title-"+b},overlay:function(a){this.$el=k.ui.dialog.overlay.create(a)}}),k.extend(k.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:k.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),create:function(b){this.instances.length===0&&(setTimeout(function(){k.ui.dialog.overlay.instances.length&&k(document).bind(k.ui.dialog.overlay.events,function(c){if(k(c.target).zIndex()<k.ui.dialog.overlay.maxZ){return !1}})},1),k(window).bind("resize.dialog-overlay",k.ui.dialog.overlay.resize));var a=this.oldInstances.pop()||k("<div>").addClass("ui-widget-overlay");return k(document).bind("keydown.dialog-overlay",function(c){var d=k.ui.dialog.overlay.instances;d.length!==0&&d[d.length-1]===a&&b.options.closeOnEscape&&!c.isDefaultPrevented()&&c.keyCode&&c.keyCode===k.ui.keyCode.ESCAPE&&(b.close(c),c.preventDefault())}),a.appendTo(document.body).css({width:this.width(),height:this.height()}),k.fn.bgiframe&&a.bgiframe(),this.instances.push(a),a},destroy:function(c){var a=k.inArray(c,this.instances),b=0;a!==-1&&this.oldInstances.push(this.instances.splice(a,1)[0]),this.instances.length===0&&k([document,window]).unbind(".dialog-overlay"),c.height(0).width(0).remove(),k.each(this.instances,function(){b=Math.max(b,this.css("z-index"))}),this.maxZ=b},height:function(){var b,a;return k.ui.ie?(b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),a=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),b<a?k(window).height()+"px":b+"px"):k(document).height()+"px"},width:function(){var b,a;return k.ui.ie?(b=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),a=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),b<a?k(window).width()+"px":b+"px"):k(document).width()+"px"},resize:function(){var a=k([]);k.each(k.ui.dialog.overlay.instances,function(){a=a.add(this)}),a.css({width:0,height:0}).css({width:k.ui.dialog.overlay.width(),height:k.ui.dialog.overlay.height()})}}),k.extend(k.ui.dialog.overlay.prototype,{destroy:function(){k.ui.dialog.overlay.destroy(this.$el)}})}(jQuery),function(j,h){var i=/up|down|vertical/,f=/up|left|vertical|horizontal/;j.effects.effect.blind=function(I,b){var H=j(this),p=["position","top","bottom","left","right","height","width"],K=j.effects.setMode(H,I.mode||"hide"),c=I.direction||"up",t=i.test(c),d=t?"height":"width",l=t?"top":"left",v=f.test(c),s={},m=K==="show",a,o,u;H.parent().is(".ui-effects-wrapper")?j.effects.save(H.parent(),p):j.effects.save(H,p),H.show(),a=j.effects.createWrapper(H).css({overflow:"hidden"}),o=a[d](),u=parseFloat(a.css(l))||0,s[d]=m?o:0,v||(H.css(t?"bottom":"right",0).css(t?"top":"left","auto").css({position:"absolute"}),s[l]=m?u:o+u),m&&(a.css(d,0),v||a.css(l,u+o)),a.animate(s,{duration:I.duration,easing:I.easing,queue:!1,complete:function(){K==="hide"&&H.hide(),j.effects.restore(H,p),j.effects.removeWrapper(H),b()}})}}(jQuery),function(c,d){c.effects.effect.bounce=function(m,t){var y=c(this),p=["position","top","bottom","left","right","height","width"],R=c.effects.setMode(y,m.mode||"effect"),u=R==="hide",o=R==="show",a=m.direction||"up",i=m.distance,r=m.times||5,f=r*2+(o||u?1:0),n=m.duration/f,v=m.easing,h=a==="up"||a==="down"?"top":"left",Q=a==="up"||a==="left",s,l,T,b=y.queue(),S=b.length;(o||u)&&p.push("opacity"),c.effects.save(y,p),y.show(),c.effects.createWrapper(y),i||(i=y[h==="top"?"outerHeight":"outerWidth"]()/3),o&&(T={opacity:1},T[h]=0,y.css("opacity",0).css(h,Q?-i*2:i*2).animate(T,n,v)),u&&(i/=Math.pow(2,r-1)),T={},T[h]=0;for(s=0;s<r;s++){l={},l[h]=(Q?"-=":"+=")+i,y.animate(l,n,v).animate(T,n,v),i=u?i*2:i/2}u&&(l={opacity:0},l[h]=(Q?"-=":"+=")+i,y.animate(l,n,v)),y.queue(function(){u&&y.hide(),c.effects.restore(y,p),c.effects.removeWrapper(y),t()}),S>1&&b.splice.apply(b,[1,0].concat(b.splice(S,f+1))),y.dequeue()}}(jQuery),function(c,d){c.effects.effect.clip=function(G,f){var o=c(this),s=["position","top","bottom","left","right","height","width"],u=c.effects.setMode(o,G.mode||"hide"),l=u==="show",a=G.direction||"vertical",b=a==="vertical",p=b?"height":"width",t=b?"top":"left",h={},r,n,i;c.effects.save(o,s),o.show(),r=c.effects.createWrapper(o).css({overflow:"hidden"}),n=o[0].tagName==="IMG"?r:o,i=n[p](),l&&(n.css(p,0),n.css(t,i/2)),h[p]=l?i:0,h[t]=l?0:i/2,n.animate(h,{queue:!1,duration:G.duration,easing:G.easing,complete:function(){l||o.hide(),c.effects.restore(o,s),c.effects.removeWrapper(o),f()}})}}(jQuery),function(c,d){c.effects.effect.drop=function(s,l){var o=c(this),f=["position","top","bottom","left","right","opacity","height","width"],r=c.effects.setMode(o,s.mode||"hide"),n=r==="show",t=s.direction||"left",u=t==="up"||t==="down"?"top":"left",b=t==="up"||t==="left"?"pos":"neg",i={opacity:n?1:0},a;c.effects.save(o,f),o.show(),c.effects.createWrapper(o),a=s.distance||o[u==="top"?"outerHeight":"outerWidth"](!0)/2,n&&o.css("opacity",0).css(u,b==="pos"?-a:a),i[u]=(n?b==="pos"?"+=":"-=":b==="pos"?"-=":"+=")+a,o.animate(i,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){r==="hide"&&o.hide(),c.effects.restore(o,f),c.effects.removeWrapper(o),l()}})}}(jQuery),function(c,d){c.effects.effect.explode=function(n,t){function R(){f.push(this),f.length===P*p&&b()}function b(){l.css({visibility:"visible"}),c(f).remove(),y||l.hide(),t()}var P=n.pieces?Math.round(Math.sqrt(n.pieces)):3,p=P,l=c(this),u=c.effects.setMode(l,n.mode||"hide"),y=u==="show",a=l.show().css("visibility","hidden").offset(),i=Math.ceil(l.outerWidth()/p),r=Math.ceil(l.outerHeight()/P),f=[],o,v,h,Q,s,m;for(o=0;o<P;o++){Q=a.top+o*r,m=o-(P-1)/2;for(v=0;v<p;v++){h=a.left+v*i,s=v-(p-1)/2,l.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-v*i,top:-o*r}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:i,height:r,left:h+(y?s*i:0),top:Q+(y?m*r:0),opacity:y?0:1}).animate({left:h+(y?0:s*i),top:Q+(y?0:m*r),opacity:y?1:0},n.duration||500,n.easing,R)}}}}(jQuery),function(c,d){c.effects.effect.fade=function(i,a){var b=c(this),j=c.effects.setMode(b,i.mode||"toggle");b.animate({opacity:j},{queue:!1,duration:i.duration,easing:i.easing,complete:a})}}(jQuery),function(c,d){c.effects.effect.fold=function(r,s){var m=c(this),i=["position","top","bottom","left","right","height","width"],o=c.effects.setMode(m,r.mode||"hide"),f=o==="show",t=o==="hide",v=r.size||15,a=/([0-9]+)%/.exec(v),n=!!r.horizFirst,M=f!==n,h=M?["width","height"]:["height","width"],l=r.duration/2,N,u,p={},b={};c.effects.save(m,i),m.show(),N=c.effects.createWrapper(m).css({overflow:"hidden"}),u=M?[N.width(),N.height()]:[N.height(),N.width()],a&&(v=parseInt(a[1],10)/100*u[t?0:1]),f&&N.css(n?{height:0,width:v}:{height:v,width:0}),p[h[0]]=f?u[0]:v,b[h[1]]=f?u[1]:0,N.animate(p,l,r.easing).animate(b,l,r.easing,function(){t&&m.hide(),c.effects.restore(m,i),c.effects.removeWrapper(m),s()})}}(jQuery),function(c,d){c.effects.effect.highlight=function(m,a){var i=c(this),n=["backgroundImage","backgroundColor","opacity"],l=c.effects.setMode(i,m.mode||"show"),b={backgroundColor:i.css("backgroundColor")};l==="hide"&&(b.opacity=0),c.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:m.color||"#ffff99"}).animate(b,{queue:!1,duration:m.duration,easing:m.easing,complete:function(){l==="hide"&&i.hide(),c.effects.restore(i,n),a()}})}}(jQuery),function(c,d){c.effects.effect.pulsate=function(f,l){var p=c(this),u=c.effects.setMode(p,f.mode||"show"),a=u==="show",n=u==="hide",h=a||u==="hide",i=(f.times||5)*2+(h?1:0),s=f.duration/i,b=0,r=p.queue(),t=r.length,o;if(a||!p.is(":visible")){p.css("opacity",0).show(),b=1}for(o=1;o<i;o++){p.animate({opacity:b},s,f.easing),b=1-b}p.animate({opacity:b},s,f.easing),p.queue(function(){n&&p.hide(),l()}),t>1&&r.splice.apply(r,[1,0].concat(r.splice(t,i+1))),p.dequeue()}}(jQuery),function(c,d){c.effects.effect.puff=function(o,a){var i=c(this),p=c.effects.setMode(i,o.mode||"hide"),n=p==="hide",b=parseInt(o.percent,10)||150,q=b/100,r={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};c.extend(o,{effect:"scale",queue:!1,fade:!0,mode:p,complete:a,percent:n?b:100,from:n?r:{height:r.height*q,width:r.width*q,outerHeight:r.outerHeight*q,outerWidth:r.outerWidth*q}}),i.effect(o)},c.effects.effect.scale=function(t,n){var r=c(this),i=c.extend(!0,{},t),s=c.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),a=t.direction||"both",b=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:a!=="horizontal"?o/100:1,x:a!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=b||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},c.effects.effect.size=function(n,t){var P,p,l,u=c(this),y=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],i=["width","height","overflow"],r=["fontSize"],f=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],v=c.effects.setMode(u,n.mode||"effect"),h=n.restore||v!=="effect",Q=n.scale||"both",s=n.origin||["middle","center"],m=u.css("position"),R=h?y:a,b={height:0,width:0,outerHeight:0,outerWidth:0};v==="show"&&u.show(),P={height:u.height(),width:u.width(),outerHeight:u.outerHeight(),outerWidth:u.outerWidth()},n.mode==="toggle"&&v==="show"?(u.from=n.to||b,u.to=n.from||P):(u.from=n.from||(v==="show"?b:P),u.to=n.to||(v==="hide"?b:P)),l={from:{y:u.from.height/P.height,x:u.from.width/P.width},to:{y:u.to.height/P.height,x:u.to.width/P.width}};if(Q==="box"||Q==="both"){l.from.y!==l.to.y&&(R=R.concat(f),u.from=c.effects.setTransition(u,f,l.from.y,u.from),u.to=c.effects.setTransition(u,f,l.to.y,u.to)),l.from.x!==l.to.x&&(R=R.concat(o),u.from=c.effects.setTransition(u,o,l.from.x,u.from),u.to=c.effects.setTransition(u,o,l.to.x,u.to))}(Q==="content"||Q==="both")&&l.from.y!==l.to.y&&(R=R.concat(r).concat(i),u.from=c.effects.setTransition(u,r,l.from.y,u.from),u.to=c.effects.setTransition(u,r,l.to.y,u.to)),c.effects.save(u,R),u.show(),c.effects.createWrapper(u),u.css("overflow","hidden").css(u.from),s&&(p=c.effects.getBaseline(s,P),u.from.top=(P.outerHeight-u.outerHeight())*p.y,u.from.left=(P.outerWidth-u.outerWidth())*p.x,u.to.top=(P.outerHeight-u.to.outerHeight)*p.y,u.to.left=(P.outerWidth-u.to.outerWidth)*p.x),u.css(u.from);if(Q==="content"||Q==="both"){f=f.concat(["marginTop","marginBottom"]).concat(r),o=o.concat(["marginLeft","marginRight"]),i=y.concat(f).concat(o),u.find("*[width]").each(function(){var j=c(this),k={height:j.height(),width:j.width(),outerHeight:j.outerHeight(),outerWidth:j.outerWidth()};h&&c.effects.save(j,i),j.from={height:k.height*l.from.y,width:k.width*l.from.x,outerHeight:k.outerHeight*l.from.y,outerWidth:k.outerWidth*l.from.x},j.to={height:k.height*l.to.y,width:k.width*l.to.x,outerHeight:k.height*l.to.y,outerWidth:k.width*l.to.x},l.from.y!==l.to.y&&(j.from=c.effects.setTransition(j,f,l.from.y,j.from),j.to=c.effects.setTransition(j,f,l.to.y,j.to)),l.from.x!==l.to.x&&(j.from=c.effects.setTransition(j,o,l.from.x,j.from),j.to=c.effects.setTransition(j,o,l.to.x,j.to)),j.css(j.from),j.animate(j.to,n.duration,n.easing,function(){h&&c.effects.restore(j,i)})})}u.animate(u.to,{queue:!1,duration:n.duration,easing:n.easing,complete:function(){u.to.opacity===0&&u.css("opacity",u.from.opacity),v==="hide"&&u.hide(),c.effects.restore(u,R),h||(m==="static"?u.css({position:"relative",top:u.to.top,left:u.to.left}):c.each(["top","left"],function(j,k){u.css(k,function(z,q){var x=parseInt(q,10),A=j?u.to.left:u.to.top;return q==="auto"?A+"px":x+A+"px"})})),c.effects.removeWrapper(u),t()}})}}(jQuery),function(c,d){c.effects.effect.shake=function(m,s){var y=c(this),o=["position","top","bottom","left","right","height","width"],i=c.effects.setMode(y,m.mode||"effect"),t=m.direction||"left",v=m.distance||20,a=m.times||3,h=a*2+1,p=Math.round(m.duration/h),b=t==="up"||t==="down"?"top":"left",n=t==="up"||t==="left",u={},f={},O={},r,l=y.queue(),P=l.length;c.effects.save(y,o),y.show(),c.effects.createWrapper(y),u[b]=(n?"-=":"+=")+v,f[b]=(n?"+=":"-=")+v*2,O[b]=(n?"-=":"+=")+v*2,y.animate(u,p,m.easing);for(r=1;r<a;r++){y.animate(f,p,m.easing).animate(O,p,m.easing)}y.animate(f,p,m.easing).animate(u,p/2,m.easing).queue(function(){i==="hide"&&y.hide(),c.effects.restore(y,o),c.effects.removeWrapper(y),s()}),P>1&&l.splice.apply(l,[1,0].concat(l.splice(P,h+1))),y.dequeue()}}(jQuery),function(c,d){c.effects.effect.slide=function(s,l){var o=c(this),f=["position","top","bottom","left","right","width","height"],r=c.effects.setMode(o,s.mode||"show"),n=r==="show",t=s.direction||"left",u=t==="up"||t==="down"?"top":"left",b=t==="up"||t==="left",i,a={};c.effects.save(o,f),o.show(),i=s.distance||o[u==="top"?"outerHeight":"outerWidth"](!0),c.effects.createWrapper(o).css({overflow:"hidden"}),n&&o.css(u,b?isNaN(i)?"-"+i:-i:i),a[u]=(n?b?"+=":"-=":b?"-=":"+=")+i,o.animate(a,{queue:!1,duration:s.duration,easing:s.easing,complete:function(){r==="hide"&&o.hide(),c.effects.restore(o,f),c.effects.removeWrapper(o),l()}})}}(jQuery),function(c,d){c.effects.effect.transfer=function(h,l){var o=c(this),f=c(h.to),b=f.css("position")==="fixed",n=c("body"),r=b?n.scrollTop():0,s=b?n.scrollLeft():0,u=f.offset(),i={top:u.top-r,left:u.left-s,height:f.innerHeight(),width:f.innerWidth()},t=o.offset(),a=c('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(h.className).css({top:t.top-r,left:t.left-s,height:o.innerHeight(),width:o.innerWidth(),position:b?"fixed":"absolute"}).animate(i,h.duration,h.easing,function(){a.remove(),l()})}}(jQuery),function(d,f){var h=!1;d.widget("ui.menu",{version:"1.9.2",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,d.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var a=d(b.target).closest(".ui-menu-item");!h&&a.not(".ui-state-disabled").length&&(h=!0,this.select(b),a.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var a=d(b.currentTarget);a.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,a)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,c){var a=this.active||this.element.children(".ui-menu-item").eq(0);c||this.focus(b,a)},blur:function(a){this._delay(function(){d.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){d(a.target).closest(".ui-menu").length||this.collapseAll(a),h=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=d(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(i){function r(j){return j.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var q,b,n,c,a,o=!0;switch(i.keyCode){case d.ui.keyCode.PAGE_UP:this.previousPage(i);break;case d.ui.keyCode.PAGE_DOWN:this.nextPage(i);break;case d.ui.keyCode.HOME:this._move("first","first",i);break;case d.ui.keyCode.END:this._move("last","last",i);break;case d.ui.keyCode.UP:this.previous(i);break;case d.ui.keyCode.DOWN:this.next(i);break;case d.ui.keyCode.LEFT:this.collapse(i);break;case d.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(i);break;case d.ui.keyCode.ENTER:case d.ui.keyCode.SPACE:this._activate(i);break;case d.ui.keyCode.ESCAPE:this.collapse(i);break;default:o=!1,b=this.previousFilter||"",n=String.fromCharCode(i.keyCode),c=!1,clearTimeout(this.filterTimer),n===b?c=!0:n=b+n,a=new RegExp("^"+r(n),"i"),q=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(d(this).children("a").text())}),q=c&&q.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):q,q.length||(n=String.fromCharCode(i.keyCode),a=new RegExp("^"+r(n),"i"),q=this.activeMenu.children(".ui-menu-item").filter(function(){return a.test(d(this).children("a").text())})),q.length?(this.focus(i,q),q.length>1?(this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}o&&i.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var c,a=this.options.icons.submenu,b=this.element.find(this.options.menus);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var m=d(this),i=m.prev("a"),n=d("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);i.attr("aria-haspopup","true").prepend(n),m.attr("aria-labelledby",i.attr("id"))}),c=b.add(this.element),c.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),c.children(":not(.ui-menu-item)").each(function(){var j=d(this);/[^\-\s]/.test(j.text())||j.addClass("ui-widget-content ui-menu-divider")}),c.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!d.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(b,j){var a,c;this.blur(b,b&&b.type==="focus"),this._scrollIntoView(j),this.active=j.first(),c=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",c.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),b&&b.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),a=j.children(".ui-menu"),a.length&&/^mouse/.test(b.type)&&this._startOpening(a),this.activeMenu=j.parent(),this._trigger("focus",b,{item:j})},_scrollIntoView:function(n){var a,c,o,i,b,p;this._hasScroll()&&(a=parseFloat(d.css(this.activeMenu[0],"borderTopWidth"))||0,c=parseFloat(d.css(this.activeMenu[0],"paddingTop"))||0,o=n.offset().top-this.activeMenu.offset().top-a-c,i=this.activeMenu.scrollTop(),b=this.activeMenu.height(),p=n.height(),o<0?this.activeMenu.scrollTop(i+o):o+p>b&&this.activeMenu.scrollTop(i+o-b+p))},blur:function(a,b){b||clearTimeout(this.timer);if(!this.active){return}this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active})},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close(),this._open(a)},this.delay)},_open:function(b){var a=d.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(b,a){clearTimeout(this.timer),this.timer=this._delay(function(){var c=a?this.element:d(b&&b.target).closest(this.element.find(".ui-menu"));c.length||(c=this.element),this._close(c),this.blur(b),this.activeMenu=c},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,j,a){var c;this.active&&(b==="first"||b==="last"?c=this.active[b==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):c=this.active[b+"All"](".ui-menu-item").eq(0));if(!c||!c.length||!this.active){c=this.activeMenu.children(".ui-menu-item")[j]()}this.focus(a,c)},nextPage:function(c){var a,b,i;if(!this.active){this.next(c);return}if(this.isLastItem()){return}this._hasScroll()?(b=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=d(this),a.offset().top-b-i<0}),this.focus(c,a)):this.focus(c,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(c){var a,b,i;if(!this.active){this.next(c);return}if(this.isFirstItem()){return}this._hasScroll()?(b=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=d(this),a.offset().top-b+i>0}),this.focus(c,a)):this.focus(c,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||d(b.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,a)}})}(jQuery),function(s,c){function E(j,b,d){return[parseInt(j[0],10)*(l.test(j[0])?b/100:1),parseInt(j[1],10)*(l.test(j[1])?d/100:1)]}function p(b,d){return parseInt(s.css(b,d),10)||0}s.ui=s.ui||{};var n,t=Math.max,f=Math.abs,a=Math.round,o=/left|center|right/,h=/top|center|bottom/,i=/[\+\-]\d+%?/,u=/^\w+/,l=/%$/,r=s.fn.position;s.position={scrollbarWidth:function(){if(n!==c){return n}var j,b,k=s("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=k.children()[0];return s("body").append(k),j=d.offsetWidth,k.css("overflow","scroll"),b=d.offsetWidth,j===b&&(b=k[0].clientWidth),k.remove(),n=j-b},getScrollInfo:function(m){var d=m.isWindow?"":m.element.css("overflow-x"),j=m.isWindow?"":m.element.css("overflow-y"),b=d==="scroll"||d==="auto"&&m.width<m.element[0].scrollWidth,k=j==="scroll"||j==="auto"&&m.height<m.element[0].scrollHeight;return{width:b?s.position.scrollbarWidth():0,height:k?s.position.scrollbarWidth():0}},getWithinInfo:function(b){var d=s(b||window),j=s.isWindow(d[0]);return{element:d,isWindow:j,offset:d.offset()||{left:0,top:0},scrollLeft:d.scrollLeft(),scrollTop:d.scrollTop(),width:j?d.width():d.outerWidth(),height:j?d.height():d.outerHeight()}}},s.fn.position=function(A){if(!A||!A.of){return r.apply(this,arguments)}A=s.extend({},A);var x,q,j,z,v,k=s(A.of),b=s.position.getWithinInfo(A.within),d=s.position.getScrollInfo(b),B=k[0],y=(A.collision||"flip").split(" "),m={};return B.nodeType===9?(q=k.width(),j=k.height(),z={top:0,left:0}):s.isWindow(B)?(q=k.width(),j=k.height(),z={top:k.scrollTop(),left:k.scrollLeft()}):B.preventDefault?(A.at="left top",q=j=0,z={top:B.pageY,left:B.pageX}):(q=k.outerWidth(),j=k.outerHeight(),z=k.offset()),v=s.extend({},z),s.each(["my","at"],function(){var D=(A[this]||"").split(" "),F,C;D.length===1&&(D=o.test(D[0])?D.concat(["center"]):h.test(D[0])?["center"].concat(D):["center","center"]),D[0]=o.test(D[0])?D[0]:"center",D[1]=h.test(D[1])?D[1]:"center",F=i.exec(D[0]),C=i.exec(D[1]),m[this]=[F?F[0]:0,C?C[0]:0],A[this]=[u.exec(D[0])[0],u.exec(D[1])[0]]}),y.length===1&&(y[1]=y[0]),A.at[0]==="right"?v.left+=q:A.at[0]==="center"&&(v.left+=q/2),A.at[1]==="bottom"?v.top+=j:A.at[1]==="center"&&(v.top+=j/2),x=E(m.at,q,j),v.left+=x[0],v.top+=x[1],this.each(function(){var C,F,Q=s(this),T=Q.outerWidth(),R=Q.outerHeight(),G=p(this,"marginLeft"),N=p(this,"marginTop"),V=T+G+p(this,"marginRight")+d.width,S=R+N+p(this,"marginBottom")+d.height,D=s.extend({},v),U=E(m.my,Q.outerWidth(),Q.outerHeight());A.my[0]==="right"?D.left-=T:A.my[0]==="center"&&(D.left-=T/2),A.my[1]==="bottom"?D.top-=R:A.my[1]==="center"&&(D.top-=R/2),D.left+=U[0],D.top+=U[1],s.support.offsetFractions||(D.left=a(D.left),D.top=a(D.top)),C={marginLeft:G,marginTop:N},s.each(["left","top"],function(H,I){s.ui.position[y[H]]&&s.ui.position[y[H]][I](D,{targetWidth:q,targetHeight:j,elemWidth:T,elemHeight:R,collisionPosition:C,collisionWidth:V,collisionHeight:S,offset:[x[0]+U[0],x[1]+U[1]],my:A.my,at:A.at,within:b,elem:Q})}),s.fn.bgiframe&&Q.bgiframe(),A.using&&(F=function(K){var H=z.left-D.left,L=H+q-T,I=z.top-D.top,O=I+j-R,M={target:{element:k,left:z.left,top:z.top,width:q,height:j},element:{element:Q,left:D.left,top:D.top,width:T,height:R},horizontal:L<0?"left":H>0?"right":"center",vertical:O<0?"top":I>0?"bottom":"middle"};q<T&&f(H+L)<q&&(M.horizontal="center"),j<R&&f(I+O)<j&&(M.vertical="middle"),t(f(H),f(L))>t(f(I),f(O))?M.important="horizontal":M.important="vertical",A.using.call(this,K,M)}),Q.offset(s.extend(D,{using:F}))})},s.ui.position={fit:{left:function(b,v){var k=v.within,j=k.isWindow?k.scrollLeft:k.offset.left,q=k.width,m=b.left-v.collisionPosition.marginLeft,x=j-m,y=m+v.collisionWidth-q-j,d;v.collisionWidth>q?x>0&&y<=0?(d=b.left+x+v.collisionWidth-q-j,b.left+=x-d):y>0&&x<=0?b.left=j:x>y?b.left=j+q-v.collisionWidth:b.left=j:x>0?b.left+=x:y>0?b.left-=y:b.left=t(b.left-m,b.left)},top:function(b,v){var k=v.within,j=k.isWindow?k.scrollTop:k.offset.top,q=v.within.height,m=b.top-v.collisionPosition.marginTop,x=j-m,y=m+v.collisionHeight-q-j,d;v.collisionHeight>q?x>0&&y<=0?(d=b.top+x+v.collisionHeight-q-j,b.top+=x-d):y>0&&x<=0?b.top=j:x>y?b.top=j+q-v.collisionHeight:b.top=j:x>0?b.top+=x:y>0?b.top-=y:b.top=t(b.top-m,b.top)}},flip:{left:function(x,j){var B=j.within,d=B.offset.left+B.scrollLeft,b=B.width,C=B.isWindow?B.scrollLeft:B.offset.left,k=x.left-j.collisionPosition.marginLeft,m=k-C,y=k+j.collisionWidth-b-C,A=j.my[0]==="left"?-j.elemWidth:j.my[0]==="right"?j.elemWidth:0,q=j.at[0]==="left"?j.targetWidth:j.at[0]==="right"?-j.targetWidth:0,z=-2*j.offset[0],D,v;if(m<0){D=x.left+A+q+z+j.collisionWidth-b-d;if(D<0||D<f(m)){x.left+=A+q+z}}else{if(y>0){v=x.left-j.collisionPosition.marginLeft+A+q+z-C;if(v>0||f(v)<y){x.left+=A+q+z}}}},top:function(y,d){var C=d.within,j=C.offset.top+C.scrollTop,b=C.height,D=C.isWindow?C.scrollTop:C.offset.top,k=y.top-d.collisionPosition.marginTop,q=k-D,z=k+d.collisionHeight-b-D,B=d.my[1]==="top",v=B?-d.elemHeight:d.my[1]==="bottom"?d.elemHeight:0,A=d.at[1]==="top"?d.targetHeight:d.at[1]==="bottom"?-d.targetHeight:0,T=-2*d.offset[1],x,m;q<0?(m=y.top+v+A+T+d.collisionHeight-b-j,y.top+v+A+T>q&&(m<0||m<f(q))&&(y.top+=v+A+T)):z>0&&(x=y.top-d.collisionPosition.marginTop+v+A+T-D,y.top+v+A+T>z&&(x>0||f(x)<z)&&(y.top+=v+A+T))}},flipfit:{left:function(){s.ui.position.flip.left.apply(this,arguments),s.ui.position.fit.left.apply(this,arguments)},top:function(){s.ui.position.flip.top.apply(this,arguments),s.ui.position.fit.top.apply(this,arguments)}}},function(){var m,k,d,v,j,q=document.getElementsByTagName("body")[0],b=document.createElement("div");m=document.createElement(q?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},q&&s.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(j in d){m.style[j]=d[j]}m.appendChild(b),k=q||document.documentElement,k.insertBefore(m,k.firstChild),b.style.cssText="position: absolute; left: 10.7432222px;",v=s(b).offset().left,s.support.offsetFractions=v>10&&v<11,m.innerHTML="",k.removeChild(m)}(),s.uiBackCompat!==!1&&function(b){var d=b.fn.position;b.fn.position=function(j){if(!j||!j.offset){return d.call(this,j)}var m=j.offset.split(" "),k=j.at.split(" ");return m.length===1&&(m[1]=m[0]),/^\d/.test(m[0])&&(m[0]="+"+m[0]),/^\d/.test(m[1])&&(m[1]="+"+m[1]),k.length===1&&(/left|center|right/.test(k[0])?k[1]="center":(k[1]=k[0],k[0]="center")),d.call(this,b.extend(j,{at:k[0]+m[0]+" "+k[1]+m[1],offset:c}))}}(jQuery)}(jQuery),function(c,d){c.widget("ui.progressbar",{version:"1.9.2",options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=c("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===d?this._value():(this._setOption("value",a),this)},_setOption:function(a,b){a==="value"&&(this.options.value=b,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),this._super(a,b)},_value:function(){var a=this.options.value;return typeof a!="number"&&(a=0),Math.min(this.options.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var a=this.value(),b=this._percentage();this.oldValue!==a&&(this.oldValue=a,this._trigger("change")),this.valueDiv.toggle(a>this.min).toggleClass("ui-corner-right",a===this.options.max).width(b.toFixed(0)+"%"),this.element.attr("aria-valuenow",a)}})}(jQuery),function(d,f){var h=5;d.widget("ui.slider",d.ui.mouse,{version:"1.9.2",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var i,b,m=this.options,c=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",n=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(m.disabled?" ui-slider-disabled ui-disabled":"")),this.range=d([]),m.range&&(m.range===!0&&(m.values||(m.values=[this._valueMin(),this._valueMin()]),m.values.length&&m.values.length!==2&&(m.values=[m.values[0],m.values[0]])),this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(m.range==="min"||m.range==="max"?" ui-slider-range-"+m.range:""))),b=m.values&&m.values.length||1;for(i=c.length;i<b;i++){n.push(a)}this.handles=c.add(d(n.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(j){j.preventDefault()}).mouseenter(function(){m.disabled||d(this).addClass("ui-state-hover")}).mouseleave(function(){d(this).removeClass("ui-state-hover")}).focus(function(){m.disabled?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")}),this.handles.each(function(j){d(this).data("ui-slider-handle-index",j)}),this._on(this.handles,{keydown:function(r){var l,s,o,k,j=d(r.target).data("ui-slider-handle-index");switch(r.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:r.preventDefault();if(!this._keySliding){this._keySliding=!0,d(r.target).addClass("ui-state-active"),l=this._start(r,j);if(l===!1){return}}}k=this.options.step,this.options.values&&this.options.values.length?s=o=this.values(j):s=o=this.value();switch(r.keyCode){case d.ui.keyCode.HOME:o=this._valueMin();break;case d.ui.keyCode.END:o=this._valueMax();break;case d.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/h);break;case d.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/h);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(s===this._valueMax()){return}o=this._trimAlignValue(s+k);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(s===this._valueMin()){return}o=this._trimAlignValue(s-k)}this._slide(r,j,o)},keyup:function(k){var j=d(k.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(k,j),this._change(k,j),d(k.target).removeClass("ui-state-active"))}}),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(s){var l,o,c,r,n,t,u,b,i=this,a=this.options;return a.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),l={x:s.pageX,y:s.pageY},o=this._normValueFromMouse(l),c=this._valueMax()-this._valueMin()+1,this.handles.each(function(k){var j=Math.abs(o-i.values(k));c>j&&(c=j,r=d(this),n=k)}),a.range===!0&&this.values(1)===a.min&&(n+=1,r=d(this.handles[n])),t=this._start(s,n),t===!1?!1:(this._mouseSliding=!0,this._handleIndex=n,r.addClass("ui-state-active").focus(),u=r.offset(),b=!d(s.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=b?{left:0,top:0}:{left:s.pageX-u.left-r.width()/2,top:s.pageY-u.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(s,n,o),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(b){var c={x:b.pageX,y:b.pageY},a=this._normValueFromMouse(c);return this._slide(b,this._handleIndex,a),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(b){var m,a,c,n,i;return this.orientation==="horizontal"?(m=this.elementSize.width,a=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(m=this.elementSize.height,a=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),c=a/m,c>1&&(c=1),c<0&&(c=0),this.orientation==="vertical"&&(c=1-c),n=this._valueMax()-this._valueMin(),i=this._valueMin()+c*n,this._trimAlignValue(i)},_start:function(b,c){var a={handle:this.handles[c],value:this.value()};return this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("start",b,a)},_slide:function(b,m,a){var c,n,i;this.options.values&&this.options.values.length?(c=this.values(m?0:1),this.options.values.length===2&&this.options.range===!0&&(m===0&&a>c||m===1&&a<c)&&(a=c),a!==this.values(m)&&(n=this.values(),n[m]=a,i=this._trigger("slide",b,{handle:this.handles[m],value:a,values:n}),c=this.values(m?0:1),i!==!1&&this.values(m,a,!0))):a!==this.value()&&(i=this._trigger("slide",b,{handle:this.handles[m],value:a}),i!==!1&&this.value(a))},_stop:function(b,c){var a={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("stop",b,a)},_change:function(b,c){if(!this._keySliding&&!this._mouseSliding){var a={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("change",b,a)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(i,a){var b,l,c;if(arguments.length>1){this.options.values[i]=this._trimAlignValue(a),this._refreshValue(),this._change(null,i);return}if(!arguments.length){return this._values()}if(!d.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(i):this.value()}b=this.options.values,l=arguments[0];for(c=0;c<b.length;c+=1){b[c]=this._trimAlignValue(l[c]),this._change(null,c)}this._refreshValue()},_setOption:function(c,a){var b,i=0;d.isArray(this.options.values)&&(i=this.options.values.length),d.Widget.prototype._setOption.apply(this,arguments);switch(c){case"disabled":a?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.prop("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(b=0;b<i;b+=1){this._change(null,b)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(b){var j,a,c;if(arguments.length){return j=this.options.values[b],j=this._trimAlignValue(j),j}a=this.options.values.slice();for(c=0;c<a.length;c+=1){a[c]=this._trimAlignValue(a[c])}return a},_trimAlignValue:function(b){if(b<=this._valueMin()){return this._valueMin()}if(b>=this._valueMax()){return this._valueMax()}var j=this.options.step>0?this.options.step:1,a=(b-this._valueMin())%j,c=b-a;return Math.abs(a)*2>=j&&(c+=a>0?j:-j),parseFloat(c.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var s,l,o,c,r,n=this.options.range,t=this.options,a=this,b=this._animateOff?!1:t.animate,i={};this.options.values&&this.options.values.length?this.handles.each(function(j){l=(a.values(j)-a._valueMin())/(a._valueMax()-a._valueMin())*100,i[a.orientation==="horizontal"?"left":"bottom"]=l+"%",d(this).stop(1,1)[b?"animate":"css"](i,t.animate),a.options.range===!0&&(a.orientation==="horizontal"?(j===0&&a.range.stop(1,1)[b?"animate":"css"]({left:l+"%"},t.animate),j===1&&a.range[b?"animate":"css"]({width:l-s+"%"},{queue:!1,duration:t.animate})):(j===0&&a.range.stop(1,1)[b?"animate":"css"]({bottom:l+"%"},t.animate),j===1&&a.range[b?"animate":"css"]({height:l-s+"%"},{queue:!1,duration:t.animate}))),s=l}):(o=this.value(),c=this._valueMin(),r=this._valueMax(),l=r!==c?(o-c)/(r-c)*100:0,i[this.orientation==="horizontal"?"left":"bottom"]=l+"%",this.handle.stop(1,1)[b?"animate":"css"](i,t.animate),n==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[b?"animate":"css"]({width:l+"%"},t.animate),n==="max"&&this.orientation==="horizontal"&&this.range[b?"animate":"css"]({width:100-l+"%"},{queue:!1,duration:t.animate}),n==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[b?"animate":"css"]({height:l+"%"},t.animate),n==="max"&&this.orientation==="vertical"&&this.range[b?"animate":"css"]({height:100-l+"%"},{queue:!1,duration:t.animate}))}})}(jQuery),function(c){function d(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}c.widget("ui.spinner",{version:"1.9.2",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},a=this.element;return c.each(["min","max","step"],function(i,k){var l=a.attr(k);l!==undefined&&l.length&&(b[k]=l)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh(),this.previous!==this.element.val()&&this._trigger("change",a)},mousewheel:function(a,b){if(!b){return}if(!this.spinning&&!this._start(a)){return !1}this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()},"mousedown .ui-spinner-button":function(h){function b(){var f=this.element[0]===this.document[0].activeElement;f||(this.element.focus(),this.previous=a,this._delay(function(){this.previous=a}))}var a;a=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),h.preventDefault(),b.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,b.call(this)});if(this._start(h)===!1){return}this._repeat(null,c(h.currentTarget).hasClass("ui-spinner-up")?1:-1,h)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(a){if(!c(a.currentTarget).hasClass("ui-state-active")){return}if(this._start(a)===!1){return !1}this._repeat(null,c(a.currentTarget).hasClass("ui-spinner-up")?1:-1,a)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(a.height()*0.5)&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(h){var a=this.options,b=c.ui.keyCode;switch(h.keyCode){case b.UP:return this._repeat(null,1,h),!0;case b.DOWN:return this._repeat(null,-1,h),!0;case b.PAGE_UP:return this._repeat(null,a.page,h),!0;case b.PAGE_DOWN:return this._repeat(null,-a.page,h),!0}return !1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return !this.spinning&&this._trigger("start",a)===!1?!1:(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(b,h,a){b=b||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,h,a)},b),this._spin(h*this.options.step,a)},_spin:function(b,h){var a=this.value()||0;this.counter||(this.counter=1),a=this._adjustValue(a+b*this._increment(this.counter));if(!this.spinning||this._trigger("spin",h,{value:a})!==!1){this._value(a),this.counter++}},_increment:function(b){var a=this.options.incremental;return a?c.isFunction(a)?a(b):Math.floor(b*b*b/50000-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return this.options.min!==null&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(b){var h=b.toString(),a=h.indexOf(".");return a===-1?0:h.length-a-1},_adjustValue:function(b){var j,a,i=this.options;return j=i.min!==null?i.min:0,a=b-j,a=Math.round(a/i.step)*i.step,b=j+a,b=parseFloat(b.toFixed(this._precision())),i.max!==null&&b>i.max?i.max:i.min!==null&&b<i.min?i.min:b},_stop:function(a){if(!this.spinning){return}clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a)},_setOption:function(b,h){if(b==="culture"||b==="numberFormat"){var a=this._parse(this.element.val());this.options[b]=h,this.element.val(this._format(a));return}(b==="max"||b==="min"||b==="step")&&typeof h=="string"&&(h=this._parse(h)),this._super(b,h),b==="disabled"&&(h?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:d(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return typeof a=="string"&&a!==""&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),a===""||isNaN(a)?null:a},_format:function(a){return a===""?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(b,h){var a;b!==""&&(a=this._parse(b),a!==null&&(h||(a=this._adjustValue(a)),b=this._format(a))),this.element.val(b),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:d(function(a){this._stepUp(a)}),_stepUp:function(a){this._spin((a||1)*this.options.step)},stepDown:d(function(a){this._stepDown(a)}),_stepDown:function(a){this._spin((a||1)*-this.options.step)},pageUp:d(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:d(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){if(!arguments.length){return this._parse(this.element.val())}d(this._value).call(this,a)},widget:function(){return this.uiSpinner}})}(jQuery),function(l,i){function j(){return ++k}function n(a){return a.hash.length>1&&a.href.replace(m,"")===location.href.replace(m,"").replace(/\s/g,"%20")}var k=0,m=/#.*$/;l.widget("ui.tabs",{version:"1.9.2",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var c=this,a=this.options,b=a.active,d=location.hash.substring(1);this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",a.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(f){l(this).is(".ui-state-disabled")&&f.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){l(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs();if(b===null){d&&this.tabs.each(function(f,h){if(l(h).attr("aria-controls")===d){return b=f,!1}}),b===null&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active")));if(b===null||b===-1){b=this.tabs.length?0:!1}}b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),b===-1&&(b=a.collapsible?!1:0)),a.active=b,!a.collapsible&&a.active===!1&&this.anchors.length&&(a.active=0),l.isArray(a.disabled)&&(a.disabled=l.unique(a.disabled.concat(l.map(this.tabs.filter(".ui-state-disabled"),function(f){return c.tabs.index(f)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(this.options.active):this.active=l(),this._refresh(),this.active.length&&this.load(a.active)},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):l()}},_tabKeydown:function(c){var a=l(this.document[0].activeElement).closest("li"),b=this.tabs.index(a),d=!0;if(this._handlePageNav(c)){return}switch(c.keyCode){case l.ui.keyCode.RIGHT:case l.ui.keyCode.DOWN:b++;break;case l.ui.keyCode.UP:case l.ui.keyCode.LEFT:d=!1,b--;break;case l.ui.keyCode.END:b=this.anchors.length-1;break;case l.ui.keyCode.HOME:b=0;break;case l.ui.keyCode.SPACE:c.preventDefault(),clearTimeout(this.activating),this._activate(b);return;case l.ui.keyCode.ENTER:c.preventDefault(),clearTimeout(this.activating),this._activate(b===this.options.active?!1:b);return;default:return}c.preventDefault(),clearTimeout(this.activating),b=this._focusNextTab(b,d),c.ctrlKey||(a.attr("aria-selected","false"),this.tabs.eq(b).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",b)},this.delay))},_panelKeydown:function(a){if(this._handlePageNav(a)){return}a.ctrlKey&&a.keyCode===l.ui.keyCode.UP&&(a.preventDefault(),this.active.focus())},_handlePageNav:function(a){if(a.altKey&&a.keyCode===l.ui.keyCode.PAGE_UP){return this._activate(this._focusNextTab(this.options.active-1,!1)),!0}if(a.altKey&&a.keyCode===l.ui.keyCode.PAGE_DOWN){return this._activate(this._focusNextTab(this.options.active+1,!0)),!0}},_findNextTab:function(c,a){function d(){return c>b&&(c=0),c<0&&(c=b),c}var b=this.tabs.length-1;while(l.inArray(d(),this.options.disabled)!==-1){c=a?c+1:c-1}return c},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){if(a==="active"){this._activate(b);return}if(a==="disabled"){this._setupDisabled(b);return}this._super(a,b),a==="collapsible"&&(this.element.toggleClass("ui-tabs-collapsible",b),!b&&this.options.active===!1&&this._activate(0)),a==="event"&&this._setupEvents(b),a==="heightStyle"&&this._setupHeightStyle(b)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+j()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,a=this.tablist.children(":has(a[href])");b.disabled=l.map(a.filter(".ui-state-disabled"),function(c){return a.index(c)}),this._processTabs(),b.active===!1||!this.anchors.length?(b.active=!1,this.active=l()):this.active.length&&!l.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=l()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var a=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return l("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=l(),this.anchors.each(function(d,r){var u,h,b,c=l(r).uniqueId().attr("id"),o=l(r).closest("li"),f=o.attr("aria-controls");n(r)?(u=r.hash,h=a.element.find(a._sanitizeSelector(u))):(b=a._tabId(o),u="#"+b,h=a.element.find(u),h.length||(h=a._createPanel(b),h.insertAfter(a.panels[d-1]||a.tablist)),h.attr("aria-live","polite")),h.length&&(a.panels=a.panels.add(h)),f&&o.data("ui-tabs-aria-controls",f),o.attr({"aria-controls":u.substring(1),"aria-labelledby":c}),h.attr("aria-labelledby",c)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(a){return l("<div>").attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(c){l.isArray(c)&&(c.length?c.length===this.anchors.length&&(c=!0):c=!1);for(var a=0,b;b=this.tabs[a];a++){c===!0||l.inArray(a,c)!==-1?l(b).addClass("ui-state-disabled").attr("aria-disabled","true"):l(b).removeClass("ui-state-disabled").removeAttr("aria-disabled")}this.options.disabled=c},_setupEvents:function(b){var a={click:function(c){c.preventDefault()}};b&&l.each(b.split(" "),function(c,d){a[d]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,a),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(c){var a,b,d=this.element.parent();c==="fill"?(l.support.minHeight||(b=d.css("overflow"),d.css("overflow","hidden")),a=d.height(),this.element.siblings(":visible").each(function(){var f=l(this),h=f.css("position");if(h==="absolute"||h==="fixed"){return}a-=f.outerHeight(!0)}),b&&d.css("overflow",b),this.element.children().not(this.panels).each(function(){a-=l(this).outerHeight(!0)}),this.panels.each(function(){l(this).height(Math.max(0,a-l(this).innerHeight()+l(this).height()))}).css("overflow","auto")):c==="auto"&&(a=0,this.panels.each(function(){a=Math.max(a,l(this).height("").height())}).height(a))},_eventHandler:function(o){var d=this.options,h=this.active,a=l(o.currentTarget),c=a.closest("li"),f=c[0]===h[0],r=f&&d.collapsible,s=r?l():this._getPanelForTab(c),t=h.length?this._getPanelForTab(h):l(),b={oldTab:h,oldPanel:t,newTab:r?l():c,newPanel:s};o.preventDefault();if(c.hasClass("ui-state-disabled")||c.hasClass("ui-tabs-loading")||this.running||f&&!d.collapsible||this._trigger("beforeActivate",o,b)===!1){return}d.active=r?!1:this.tabs.index(c),this.active=f?l():c,this.xhr&&this.xhr.abort(),!t.length&&!s.length&&l.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(c),o),this._toggle(o,b)},_toggle:function(b,d){function h(){o.running=!1,o._trigger("activate",b,d)}function f(){d.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),c.length&&o.options.show?o._show(c,o.options.show,h):(c.show(),h())}var o=this,c=d.newPanel,a=d.oldPanel;this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),f()}):(d.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),a.hide(),f()),a.attr({"aria-expanded":"false","aria-hidden":"true"}),d.oldTab.attr("aria-selected","false"),c.length&&a.length?d.oldTab.attr("tabIndex",-1):c.length&&this.tabs.filter(function(){return l(this).attr("tabIndex")===0}).attr("tabIndex",-1),c.attr({"aria-expanded":"true","aria-hidden":"false"}),d.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(c){var a,b=this._findActive(c);if(b[0]===this.active[0]){return}b.length||(b=this.active),a=b.find(".ui-tabs-anchor")[0],this._eventHandler({target:a,currentTarget:a,preventDefault:l.noop})},_findActive:function(a){return a===!1?l():this.tabs.eq(a)},_getIndex:function(a){return typeof a=="string"&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId(),this.tabs.add(this.panels).each(function(){l.data(this,"ui-tabs-destroy")?l(this).remove():l(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=l(this),a=b.data("ui-tabs-aria-controls");a?b.attr("aria-controls",a):b.removeAttr("aria-controls")}),this.panels.show(),this.options.heightStyle!=="content"&&this.panels.css("height","")},enable:function(a){var b=this.options.disabled;if(b===!1){return}a===i?b=!1:(a=this._getIndex(a),l.isArray(b)?b=l.map(b,function(c){return c!==a?c:null}):b=l.map(this.tabs,function(c,d){return d!==a?d:null})),this._setupDisabled(b)},disable:function(a){var b=this.options.disabled;if(b===!0){return}if(a===i){b=!0}else{a=this._getIndex(a);if(l.inArray(a,b)!==-1){return}l.isArray(b)?b=l.merge([a],b).sort():b=[a]}this._setupDisabled(b)},load:function(a,f){a=this._getIndex(a);var o=this,b=this.tabs.eq(a),h=b.find(".ui-tabs-anchor"),c=this._getPanelForTab(b),d={tab:b,panel:c};if(n(h[0])){return}this.xhr=l.ajax(this._ajaxSettings(h,f,d)),this.xhr&&this.xhr.statusText!=="canceled"&&(b.addClass("ui-tabs-loading"),c.attr("aria-busy","true"),this.xhr.success(function(p){setTimeout(function(){c.html(p),o._trigger("load",f,d)},1)}).complete(function(q,p){setTimeout(function(){p==="abort"&&o.panels.stop(!1,!0),b.removeClass("ui-tabs-loading"),c.removeAttr("aria-busy"),q===o.xhr&&delete o.xhr},1)}))},_ajaxSettings:function(c,a,b){var d=this;return{url:c.attr("href"),beforeSend:function(f,h){return d._trigger("beforeLoad",a,l.extend({jqXHR:f,ajaxSettings:h},b))}}},_getPanelForTab:function(b){var a=l(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+a))}}),l.uiBackCompat!==!1&&(l.ui.tabs.prototype._ui=function(a,b){return{tab:a,panel:b,index:this.anchors.index(a)}},l.widget("ui.tabs",l.ui.tabs,{url:function(a,b){this.anchors.eq(a).attr("href",b)}}),l.widget("ui.tabs",l.ui.tabs,{options:{ajaxOptions:null,cache:!1},_create:function(){this._super();var a=this;this._on({tabsbeforeload:function(b,c){if(l.data(c.tab[0],"cache.tabs")){b.preventDefault();return}c.jqXHR.success(function(){a.options.cache&&l.data(c.tab[0],"cache.tabs",!0)})}})},_ajaxSettings:function(c,a,b){var d=this.options.ajaxOptions;return l.extend({},d,{error:function(q,f){try{d.error(q,f,b.tab.closest("li").index(),b.tab[0])}catch(h){}}},this._superApply(arguments))},_setOption:function(a,b){a==="cache"&&b===!1&&this.anchors.removeData("cache.tabs"),this._super(a,b)},_destroy:function(){this.anchors.removeData("cache.tabs"),this._super()},url:function(a){this.anchors.eq(a).removeData("cache.tabs"),this._superApply(arguments)}}),l.widget("ui.tabs",l.ui.tabs,{abort:function(){this.xhr&&this.xhr.abort()}}),l.widget("ui.tabs",l.ui.tabs,{options:{spinner:"<em>Loading&#8230;</em>"},_create:function(){this._super(),this._on({tabsbeforeload:function(b,d){if(b.target!==this.element[0]||!this.options.spinner){return}var a=d.tab.find("span"),c=a.html();a.html(this.options.spinner),d.jqXHR.complete(function(){a.html(c)})}})}}),l.widget("ui.tabs",l.ui.tabs,{options:{enable:null,disable:null},enable:function(c){var a=this.options,b;if(c&&a.disabled===!0||l.isArray(a.disabled)&&l.inArray(c,a.disabled)!==-1){b=!0}this._superApply(arguments),b&&this._trigger("enable",null,this._ui(this.anchors[c],this.panels[c]))},disable:function(c){var a=this.options,b;if(c&&a.disabled===!1||l.isArray(a.disabled)&&l.inArray(c,a.disabled)===-1){b=!0}this._superApply(arguments),b&&this._trigger("disable",null,this._ui(this.anchors[c],this.panels[c]))}}),l.widget("ui.tabs",l.ui.tabs,{options:{add:null,remove:null,tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},add:function(d,r,b){b===i&&(b=this.anchors.length);var a,h,c=this.options,f=l(c.tabTemplate.replace(/#\{href\}/g,d).replace(/#\{label\}/g,r)),o=d.indexOf("#")?this._tabId(f):d.replace("#","");return f.addClass("ui-state-default ui-corner-top").data("ui-tabs-destroy",!0),f.attr("aria-controls",o),a=b>=this.tabs.length,h=this.element.find("#"+o),h.length||(h=this._createPanel(o),a?b>0?h.insertAfter(this.panels.eq(-1)):h.appendTo(this.element):h.insertBefore(this.panels[b])),h.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").hide(),a?f.appendTo(this.tablist):f.insertBefore(this.tabs[b]),c.disabled=l.map(c.disabled,function(p){return p>=b?++p:p}),this.refresh(),this.tabs.length===1&&c.active===!1&&this.option("active",0),this._trigger("add",null,this._ui(this.anchors[b],this.panels[b])),this},remove:function(c){c=this._getIndex(c);var a=this.options,b=this.tabs.eq(c).remove(),d=this._getPanelForTab(b).remove();return b.hasClass("ui-tabs-active")&&this.anchors.length>2&&this._activate(c+(c+1<this.anchors.length?1:-1)),a.disabled=l.map(l.grep(a.disabled,function(f){return f!==c}),function(f){return f>=c?--f:f}),this.refresh(),this._trigger("remove",null,this._ui(b.find("a")[0],d[0])),this}}),l.widget("ui.tabs",l.ui.tabs,{length:function(){return this.anchors.length}}),l.widget("ui.tabs",l.ui.tabs,{options:{idPrefix:"ui-tabs-"},_tabId:function(b){var a=b.is("li")?b.find("a[href]"):b;return a=a[0],l(a).closest("li").attr("aria-controls")||a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF\-]/g,"")||this.options.idPrefix+j()}}),l.widget("ui.tabs",l.ui.tabs,{options:{panelTemplate:"<div></div>"},_createPanel:function(a){return l(this.options.panelTemplate).attr("id",a).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)}}),l.widget("ui.tabs",l.ui.tabs,{_create:function(){var a=this.options;a.active===null&&a.selected!==i&&(a.active=a.selected===-1?!1:a.selected),this._super(),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_setOption:function(b,c){if(b!=="selected"){return this._super(b,c)}var a=this.options;this._super("active",c===-1?!1:c),a.selected=a.active,a.selected===!1&&(a.selected=-1)},_eventHandler:function(){this._superApply(arguments),this.options.selected=this.options.active,this.options.selected===!1&&(this.options.selected=-1)}}),l.widget("ui.tabs",l.ui.tabs,{options:{show:null,select:null},_create:function(){this._super(),this.options.active!==!1&&this._trigger("show",null,this._ui(this.active.find(".ui-tabs-anchor")[0],this._getPanelForTab(this.active)[0]))},_trigger:function(h,c,f){var a,d,b=this._superApply(arguments);return b?(h==="beforeActivate"?(a=f.newTab.length?f.newTab:f.oldTab,d=f.newPanel.length?f.newPanel:f.oldPanel,b=this._super("select",c,{tab:a.find(".ui-tabs-anchor")[0],panel:d[0],index:a.closest("li").index()})):h==="activate"&&f.newTab.length&&(b=this._super("show",c,{tab:f.newTab.find(".ui-tabs-anchor")[0],panel:f.newPanel[0],index:f.newTab.closest("li").index()})),b):!1}}),l.widget("ui.tabs",l.ui.tabs,{select:function(a){a=this._getIndex(a);if(a===-1){if(!this.options.collapsible||this.options.selected===-1){return}a=this.options.selected}this.anchors.eq(a).trigger(this.options.event+this.eventNamespace)}}),function(){var a=0;l.widget("ui.tabs",l.ui.tabs,{options:{cookie:null},_create:function(){var b=this.options,c;b.active==null&&b.cookie&&(c=parseInt(this._cookie(),10),c===-1&&(c=!1),b.active=c),this._super()},_cookie:function(b){var c=[this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++a)];return arguments.length&&(c.push(b===!1?-1:b),c.push(this.options.cookie)),l.cookie.apply(null,c)},_refresh:function(){this._super(),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_eventHandler:function(){this._superApply(arguments),this.options.cookie&&this._cookie(this.options.active,this.options.cookie)},_destroy:function(){this._super(),this.options.cookie&&this._cookie(null,this.options.cookie)}})}(),l.widget("ui.tabs",l.ui.tabs,{_trigger:function(c,a,b){var d=l.extend({},b);return c==="load"&&(d.panel=d.panel[0],d.tab=d.tab.find(".ui-tabs-anchor")[0]),this._super(c,a,d)}}),l.widget("ui.tabs",l.ui.tabs,{options:{fx:null},_getFx:function(){var c,a,b=this.options.fx;return b&&(l.isArray(b)?(c=b[0],a=b[1]):c=a=b),b?{show:a,hide:c}:null},_toggle:function(o,c){function f(){b.running=!1,b._trigger("activate",o,c)}function h(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),r.length&&a.show?r.animate(a.show,a.show.duration,function(){f()}):(r.show(),f())}var b=this,r=c.newPanel,d=c.oldPanel,a=this._getFx();if(!a){return this._super(o,c)}b.running=!0,d.length&&a.hide?d.animate(a.hide,a.hide.duration,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),d.hide(),h())}}))}(jQuery),function(j){function i(c,a){var b=(c.attr("aria-describedby")||"").split(/\s+/);b.push(a),c.data("ui-tooltip-id",a).attr("aria-describedby",j.trim(b.join(" ")))}function f(c){var a=c.data("ui-tooltip-id"),b=(c.attr("aria-describedby")||"").split(/\s+/),d=j.inArray(a,b);d!==-1&&b.splice(d,1),c.removeData("ui-tooltip-id"),b=j.trim(b.join(" ")),b?c.attr("aria-describedby",b):c.removeAttr("aria-describedby")}var h=0;j.widget("ui.tooltip",{version:"1.9.2",options:{content:function(){return j(this).attr("title")},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(c,a){var b=this;if(c==="disabled"){this[a?"_disable":"_enable"](),this.options[c]=a;return}this._super(c,a),c==="content"&&j.each(this.tooltips,function(d,l){b._updateContent(l)})},_disable:function(){var a=this;j.each(this.tooltips,function(b,c){var d=j.Event("blur");d.target=d.currentTarget=c[0],a.close(d,!0)}),this.element.find(this.options.items).andSelf().each(function(){var b=j(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var a=j(this);a.data("ui-tooltip-title")&&a.attr("title",a.data("ui-tooltip-title"))})},open:function(c){var a=this,b=j(c?c.target:this.element).closest(this.options.items);if(!b.length||b.data("ui-tooltip-id")){return}b.attr("title")&&b.data("ui-tooltip-title",b.attr("title")),b.data("ui-tooltip-open",!0),c&&c.type==="mouseover"&&b.parents().each(function(){var l=j(this),d;l.data("ui-tooltip-open")&&(d=j.Event("blur"),d.target=d.currentTarget=this,a.close(d,!0)),l.attr("title")&&(l.uniqueId(),a.parents[this.id]={element:this,title:l.attr("title")},l.attr("title",""))}),this._updateContent(b,c)},_updateContent:function(b,n){var a,c=this.options.content,o=this,d=n?n.type:null;if(typeof c=="string"){return this._open(n,b,c)}a=c.call(b[0],function(k){if(!b.data("ui-tooltip-open")){return}o._delay(function(){n&&(n.type=d),this._open(n,b,k)})}),a&&this._open(n,b,a)},_open:function(b,t,c){function s(k){o.of=k;if(a.is(":hidden")){return}a.position(o)}var a,r,d,o=j.extend({},this.options.position);if(!c){return}a=this._find(t);if(a.length){a.find(".ui-tooltip-content").html(c);return}t.is("[title]")&&(b&&b.type==="mouseover"?t.attr("title",""):t.removeAttr("title")),a=this._tooltip(t),i(t,a.attr("id")),a.find(".ui-tooltip-content").html(c),this.options.track&&b&&/^mouse/.test(b.type)?(this._on(this.document,{mousemove:s}),s(b)):a.position(j.extend({of:t},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(d=setInterval(function(){a.is(":visible")&&(s(o.of),clearInterval(d))},j.fx.interval)),this._trigger("open",b,{tooltip:a}),r={keyup:function(l){if(l.keyCode===j.ui.keyCode.ESCAPE){var k=j.Event(l);k.currentTarget=t[0],this.close(k,!0)}},remove:function(){this._removeTooltip(a)}};if(!b||b.type==="mouseover"){r.mouseleave="close"}if(!b||b.type==="focusin"){r.focusout="close"}this._on(!0,t,r)},close:function(c){var a=this,d=j(c?c.currentTarget:this.element),b=this._find(d);if(this.closing){return}d.data("ui-tooltip-title")&&d.attr("title",d.data("ui-tooltip-title")),f(d),b.stop(!0),this._hide(b,this.options.hide,function(){a._removeTooltip(j(this))}),d.removeData("ui-tooltip-open"),this._off(d,"mouseleave focusout keyup"),d[0]!==this.element[0]&&this._off(d,"remove"),this._off(this.document,"mousemove"),c&&c.type==="mouseleave"&&j.each(this.parents,function(m,k){j(k.element).attr("title",k.title),delete a.parents[m]}),this.closing=!0,this._trigger("close",c,{tooltip:b}),this.closing=!1},_tooltip:function(a){var b="ui-tooltip-"+h++,c=j("<div>").attr({id:b,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return j("<div>").addClass("ui-tooltip-content").appendTo(c),c.appendTo(this.document[0].body),j.fn.bgiframe&&c.bgiframe(),this.tooltips[b]=a,c},_find:function(b){var a=b.data("ui-tooltip-id");return a?j("#"+a):j()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var a=this;j.each(this.tooltips,function(b,c){var d=j.Event("blur");d.target=d.currentTarget=c[0],a.close(d,!0),j("#"+b).remove(),c.data("ui-tooltip-title")&&(c.attr("title",c.data("ui-tooltip-title")),c.removeData("ui-tooltip-title"))})}})}(jQuery);
/*!
 * Bootstrap v3.3.6 (http://getbootstrap.com)
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under the MIT license
 */
;if("undefined"==typeof jQuery){throw new Error("Bootstrap's JavaScript requires jQuery")}+function(a){var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}}(jQuery),+function(a){function b(){var d=document.createElement("bootstrap"),j={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in j){if(void 0!==d.style[c]){return{end:j[c]}}}return !1}a.fn.emulateTransitionEnd=function(c){var d=!1,j=this;a(this).one("bsTransitionEnd",function(){d=!0});var k=function(){d||a(j).trigger(a.support.transition.end)};return setTimeout(k,c),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(c){return a(c.target).is(this)?c.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(d){function l(f){return this.each(function(){var i=d(this),h=i.data("bs.alert");h||i.data("bs.alert",h=new b(this)),"string"==typeof f&&h[f].call(i)})}var a='[data-dismiss="alert"]',b=function(f){d(f).on("click",a,this.close)};b.VERSION="3.3.6",b.TRANSITION_DURATION=150,b.prototype.close=function(i){function k(){j.detach().trigger("closed.bs.alert").remove()}var f=d(this),h=f.attr("data-target");h||(h=f.attr("href"),h=h&&h.replace(/.*(?=#[^\s]*$)/,""));var j=d(h);i&&i.preventDefault(),j.length||(j=f.closest(".alert")),j.trigger(i=d.Event("close.bs.alert")),i.isDefaultPrevented()||(j.removeClass("in"),d.support.transition&&j.hasClass("fade")?j.one("bsTransitionEnd",k).emulateTransitionEnd(b.TRANSITION_DURATION):k())};var c=d.fn.alert;d.fn.alert=l,d.fn.alert.Constructor=b,d.fn.alert.noConflict=function(){return d.fn.alert=c,this},d(document).on("click.bs.alert.data-api",a,b.prototype.close)}(jQuery),+function(c){function d(f){return this.each(function(){var i=c(this),j=i.data("bs.button"),h="object"==typeof f&&f;j||i.data("bs.button",j=new a(this,h)),"toggle"==f?j.toggle():f&&j.setState(f)})}var a=function(f,h){this.$element=c(f),this.options=c.extend({},a.DEFAULTS,h),this.isLoading=!1};a.VERSION="3.3.6",a.DEFAULTS={loadingText:"loading..."},a.prototype.setState=function(i){var o="disabled",f=this.$element,h=f.is("input")?"val":"html",j=f.data();i+="Text",null==j.resetText&&f.data("resetText",f[h]()),setTimeout(c.proxy(function(){f[h](null==j[i]?this.options[i]:j[i]),"loadingText"==i?(this.isLoading=!0,f.addClass(o).attr(o,o)):this.isLoading&&(this.isLoading=!1,f.removeClass(o).removeAttr(o))},this),0)},a.prototype.toggle=function(){var h=!0,i=this.$element.closest('[data-toggle="buttons"]');if(i.length){var f=this.$element.find("input");"radio"==f.prop("type")?(f.prop("checked")&&(h=!1),i.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==f.prop("type")&&(f.prop("checked")!==this.$element.hasClass("active")&&(h=!1),this.$element.toggleClass("active")),f.prop("checked",this.$element.hasClass("active")),h&&f.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")}};var b=c.fn.button;c.fn.button=d,c.fn.button.Constructor=a,c.fn.button.noConflict=function(){return c.fn.button=b,this},c(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(f){var h=c(f.target);h.hasClass("btn")||(h=h.closest(".btn")),d.call(h,"toggle"),c(f.target).is('input[type="radio"]')||c(f.target).is('input[type="checkbox"]')||f.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(f){c(f.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(f.type))})}(jQuery),+function(d){function l(f){return this.each(function(){var i=d(this),j=i.data("bs.carousel"),k=d.extend({},a.DEFAULTS,i.data(),"object"==typeof f&&f),h="string"==typeof f?f:k.slide;j||i.data("bs.carousel",j=new a(this,k)),"number"==typeof f?j.to(f):h?j[h]():k.interval&&j.pause().cycle()})}var a=function(f,h){this.$element=d(f),this.$indicators=this.$element.find(".carousel-indicators"),this.options=h,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart" in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};a.VERSION="3.3.6",a.TRANSITION_DURATION=600,a.DEFAULTS={interval:5000,pause:"hover",wrap:!0,keyboard:!0},a.prototype.keydown=function(f){if(!/input|textarea/i.test(f.target.tagName)){switch(f.which){case 37:this.prev();break;case 39:this.next();break;default:return}f.preventDefault()}},a.prototype.cycle=function(f){return f||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},a.prototype.getItemIndex=function(f){return this.$items=f.parent().children(".item"),this.$items.index(f||this.$active)},a.prototype.getItemForDirection=function(f,h){var i=this.getItemIndex(h),j="prev"==f&&0===i||"next"==f&&i==this.$items.length-1;if(j&&!this.options.wrap){return h}var k="prev"==f?-1:1,r=(i+k)%this.$items.length;return this.$items.eq(r)},a.prototype.to=function(h){var i=this,f=this.getItemIndex(this.$active=this.$element.find(".item.active"));return h>this.$items.length-1||0>h?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(h)}):f==h?this.pause().cycle():this.slide(h>f?"next":"prev",this.$items.eq(h))},a.prototype.pause=function(f){return f||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},a.prototype.next=function(){return this.sliding?void 0:this.slide("next")},a.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},a.prototype.slide=function(y,z){var A=this.$element.find(".item.active"),B=z||this.getItemForDirection(y,A),f=this.interval,h="next"==y?"left":"right",i=this;if(B.hasClass("active")){return this.sliding=!1}var j=B[0],k=d.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,f&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var m=d(this.$indicators.children()[this.getItemIndex(B)]);m&&m.addClass("active")}var x=d.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return d.support.transition&&this.$element.hasClass("slide")?(B.addClass(y),B[0].offsetWidth,A.addClass(h),B.addClass(h),A.one("bsTransitionEnd",function(){B.removeClass([y,h].join(" ")).addClass("active"),A.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(x)},0)}).emulateTransitionEnd(a.TRANSITION_DURATION)):(A.removeClass("active"),B.addClass("active"),this.sliding=!1,this.$element.trigger(x)),f&&this.cycle(),this}};var b=d.fn.carousel;d.fn.carousel=l,d.fn.carousel.Constructor=a,d.fn.carousel.noConflict=function(){return d.fn.carousel=b,this};var c=function(k){var p,h=d(this),j=d(h.attr("data-target")||(p=h.attr("href"))&&p.replace(/.*(?=#[^\s]+$)/,""));if(j.hasClass("carousel")){var f=d.extend({},j.data(),h.data()),i=h.attr("data-slide-to");i&&(f.interval=!1),l.call(j,f),i&&j.data("bs.carousel").to(i),k.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",c).on("click.bs.carousel.data-api","[data-slide-to]",c),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var f=d(this);l.call(f,f.data())})})}(jQuery),+function(d){function l(i){var f,h=i.attr("data-target")||(f=i.attr("href"))&&f.replace(/.*(?=#[^\s]+$)/,"");return d(h)}function a(f){return this.each(function(){var i=d(this),j=i.data("bs.collapse"),h=d.extend({},b.DEFAULTS,i.data(),"object"==typeof f&&f);!j&&h.toggle&&/show|hide/.test(f)&&(h.toggle=!1),j||i.data("bs.collapse",j=new b(this,h)),"string"==typeof f&&j[f]()})}var b=function(f,h){this.$element=d(f),this.options=d.extend({},b.DEFAULTS,h),this.$trigger=d('[data-toggle="collapse"][href="#'+f.id+'"],[data-toggle="collapse"][data-target="#'+f.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};b.VERSION="3.3.6",b.TRANSITION_DURATION=350,b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var f=this.$element.hasClass("width");return f?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(i=o.data("bs.collapse"),i&&i.transitioning))){var f=d.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){o&&o.length&&(a.call(o,"hide"),i||o.data("bs.collapse",null));var h=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[h](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var j=function(){this.$element.removeClass("collapsing").addClass("collapse in")[h](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!d.support.transition){return j.call(this)}var k=d.camelCase(["scroll",h].join("-"));this.$element.one("bsTransitionEnd",d.proxy(j,this)).emulateTransitionEnd(b.TRANSITION_DURATION)[h](this.$element[0][k])}}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var h=d.Event("hide.bs.collapse");if(this.$element.trigger(h),!h.isDefaultPrevented()){var f=this.dimension();this.$element[f](this.$element[f]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return d.support.transition?void this.$element[f](0).one("bsTransitionEnd",d.proxy(i,this)).emulateTransitionEnd(b.TRANSITION_DURATION):i.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},b.prototype.getParent=function(){return d(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(d.proxy(function(i,f){var h=d(f);this.addAriaAndCollapsedClass(l(h),h)},this)).end()},b.prototype.addAriaAndCollapsedClass=function(h,i){var f=h.hasClass("in");h.attr("aria-expanded",f),i.toggleClass("collapsed",!f).attr("aria-expanded",f)};var c=d.fn.collapse;d.fn.collapse=a,d.fn.collapse.Constructor=b,d.fn.collapse.noConflict=function(){return d.fn.collapse=c,this},d(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(h){var j=d(this);j.attr("data-target")||h.preventDefault();var k=l(j),f=k.data("bs.collapse"),i=f?"toggle":j.data();a.call(k,i)})}(jQuery),+function(d){function f(i){var j=i.attr("data-target");j||(j=i.attr("href"),j=j&&/#[A-Za-z]/.test(j)&&j.replace(/.*(?=#[^\s]*$)/,""));var k=j&&d(j);return k&&k.length?k:i.parent()}function h(i){i&&3===i.which||(d(r).remove(),d(a).each(function(){var k=d(this),l=f(k),j={relatedTarget:this};l.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&d.contains(l[0],i.target)||(l.trigger(i=d.Event("hide.bs.dropdown",j)),i.isDefaultPrevented()||(k.attr("aria-expanded","false"),l.removeClass("open").trigger(d.Event("hidden.bs.dropdown",j)))))}))}function q(i){return this.each(function(){var k=d(this),j=k.data("bs.dropdown");j||k.data("bs.dropdown",j=new b(this)),"string"==typeof i&&j[i].call(k)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',b=function(i){d(i).on("click.bs.dropdown",this.toggle)};b.VERSION="3.3.6",b.prototype.toggle=function(k){var l=d(this);if(!l.is(".disabled, :disabled")){var m=f(l),i=m.hasClass("open");if(h(),!i){"ontouchstart" in document.documentElement&&!m.closest(".navbar-nav").length&&d(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(d(this)).on("click",h);var j={relatedTarget:this};if(m.trigger(k=d.Event("show.bs.dropdown",j)),k.isDefaultPrevented()){return}l.trigger("focus").attr("aria-expanded","true"),m.toggleClass("open").trigger(d.Event("shown.bs.dropdown",j))}return !1}},b.prototype.keydown=function(k){if(/(38|40|27|32)/.test(k.which)&&!/input|textarea/i.test(k.target.tagName)){var l=d(this);if(k.preventDefault(),k.stopPropagation(),!l.is(".disabled, :disabled")){var m=f(l),o=m.hasClass("open");if(!o&&27!=k.which||o&&27==k.which){return 27==k.which&&m.find(a).trigger("focus"),l.trigger("click")}var n=" li:not(.disabled):visible a",i=m.find(".dropdown-menu"+n);if(i.length){var j=i.index(k.target);38==k.which&&j>0&&j--,40==k.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var c=d.fn.dropdown;d.fn.dropdown=q,d.fn.dropdown.Constructor=b,d.fn.dropdown.noConflict=function(){return d.fn.dropdown=c,this},d(document).on("click.bs.dropdown.data-api",h).on("click.bs.dropdown.data-api",".dropdown form",function(i){i.stopPropagation()}).on("click.bs.dropdown.data-api",a,b.prototype.toggle).on("keydown.bs.dropdown.data-api",a,b.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",b.prototype.keydown)}(jQuery),+function(c){function d(f,h){return this.each(function(){var j=c(this),l=j.data("bs.modal"),i=c.extend({},a.DEFAULTS,j.data(),"object"==typeof f&&f);l||j.data("bs.modal",l=new a(this,i)),"string"==typeof f?l[f](h):i.show&&l.show(h)})}var a=function(f,h){this.options=h,this.$body=c(document.body),this.$element=c(f),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,c.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};a.VERSION="3.3.6",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(f){return this.isShown?this.hide():this.show(f)},a.prototype.show=function(f){var h=this,i=c.Event("show.bs.modal",{relatedTarget:f});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',c.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){h.$element.one("mouseup.dismiss.bs.modal",function(j){c(j.target).is(h.$element)&&(h.ignoreBackdropClick=!0)})}),this.backdrop(function(){var k=c.support.transition&&h.$element.hasClass("fade");h.$element.parent().length||h.$element.appendTo(h.$body),h.$element.show().scrollTop(0),h.adjustDialog(),k&&h.$element[0].offsetWidth,h.$element.addClass("in"),h.enforceFocus();var j=c.Event("shown.bs.modal",{relatedTarget:f});k?h.$dialog.one("bsTransitionEnd",function(){h.$element.trigger("focus").trigger(j)}).emulateTransitionEnd(a.TRANSITION_DURATION):h.$element.trigger("focus").trigger(j)}))},a.prototype.hide=function(f){f&&f.preventDefault(),f=c.Event("hide.bs.modal"),this.$element.trigger(f),this.isShown&&!f.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),c(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),c.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",c.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){c(document).off("focusin.bs.modal").on("focusin.bs.modal",c.proxy(function(f){this.$element[0]===f.target||this.$element.has(f.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",c.proxy(function(f){27==f.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?c(window).on("resize.bs.modal",c.proxy(this.handleUpdate,this)):c(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var f=this;this.$element.hide(),this.backdrop(function(){f.$body.removeClass("modal-open"),f.resetAdjustments(),f.resetScrollbar(),f.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(i){var f=this,h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var j=c.support.transition&&h;if(this.$backdrop=c(document.createElement("div")).addClass("modal-backdrop "+h).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",c.proxy(function(k){return this.ignoreBackdropClick?void (this.ignoreBackdropClick=!1):void (k.target===k.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),j&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!i){return}j?this.$backdrop.one("bsTransitionEnd",i).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):i()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var n=function(){f.removeBackdrop(),i&&i()};c.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):n()}else{i&&i()}}},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var f=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&f?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!f?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var f=window.innerWidth;if(!f){var h=document.documentElement.getBoundingClientRect();f=h.right-Math.abs(h.left)}this.bodyIsOverflowing=document.body.clientWidth<f,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var f=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",f+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var f=document.createElement("div");f.className="modal-scrollbar-measure",this.$body.append(f);var h=f.offsetWidth-f.clientWidth;return this.$body[0].removeChild(f),h};var b=c.fn.modal;c.fn.modal=d,c.fn.modal.Constructor=a,c.fn.modal.noConflict=function(){return c.fn.modal=b,this},c(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(h){var j=c(this),n=j.attr("href"),f=c(j.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),i=f.data("bs.modal")?"toggle":c.extend({remote:!/#/.test(n)&&n},f.data(),j.data());j.is("a")&&h.preventDefault(),f.one("show.bs.modal",function(k){k.isDefaultPrevented()||f.one("hidden.bs.modal",function(){j.is(":visible")&&j.trigger("focus")})}),d.call(f,i,this)})}(jQuery),+function(c){function d(f){return this.each(function(){var i=c(this),j=i.data("bs.tooltip"),h="object"==typeof f&&f;(j||!/destroy|hide/.test(f))&&(j||i.data("bs.tooltip",j=new a(this,h)),"string"==typeof f&&j[f]())})}var a=function(f,h){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",f,h)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},a.prototype.init=function(i,r,s){if(this.enabled=!0,this.type=i,this.$element=c(r),this.options=this.getOptions(s),this.$viewport=this.options.viewport&&c(c.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0] instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}for(var t=this.options.trigger.split(" "),u=t.length;u--;){var f=t[u];if("click"==f){this.$element.on("click."+this.type,this.options.selector,c.proxy(this.toggle,this))}else{if("manual"!=f){var h="hover"==f?"mouseenter":"focusin",j="hover"==f?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,c.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,c.proxy(this.leave,this))}}}this.options.selector?this._options=c.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.getOptions=function(f){return f=c.extend({},this.getDefaults(),this.$element.data(),f),f.delay&&"number"==typeof f.delay&&(f.delay={show:f.delay,hide:f.delay}),f},a.prototype.getDelegateOptions=function(){var f={},h=this.getDefaults();return this._options&&c.each(this._options,function(i,j){h[i]!=j&&(f[i]=j)}),f},a.prototype.enter=function(f){var h=f instanceof this.constructor?f:c(f.currentTarget).data("bs."+this.type);return h||(h=new this.constructor(f.currentTarget,this.getDelegateOptions()),c(f.currentTarget).data("bs."+this.type,h)),f instanceof c.Event&&(h.inState["focusin"==f.type?"focus":"hover"]=!0),h.tip().hasClass("in")||"in"==h.hoverState?void (h.hoverState="in"):(clearTimeout(h.timeout),h.hoverState="in",h.options.delay&&h.options.delay.show?void (h.timeout=setTimeout(function(){"in"==h.hoverState&&h.show()},h.options.delay.show)):h.show())},a.prototype.isInStateTrue=function(){for(var f in this.inState){if(this.inState[f]){return !0}}return !1},a.prototype.leave=function(f){var h=f instanceof this.constructor?f:c(f.currentTarget).data("bs."+this.type);return h||(h=new this.constructor(f.currentTarget,this.getDelegateOptions()),c(f.currentTarget).data("bs."+this.type,h)),f instanceof c.Event&&(h.inState["focusout"==f.type?"focus":"hover"]=!1),h.isInStateTrue()?void 0:(clearTimeout(h.timeout),h.hoverState="out",h.options.delay&&h.options.delay.hide?void (h.timeout=setTimeout(function(){"out"==h.hoverState&&h.hide()},h.options.delay.hide)):h.hide())},a.prototype.show=function(){var I=c.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(I);var h=c.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(I.isDefaultPrevented()||!h){return}var i=this,j=this.tip(),k=this.getUID(this.type);this.setContent(),j.attr("id",k),this.$element.attr("aria-describedby",k),this.options.animation&&j.addClass("fade");var m="function"==typeof this.options.placement?this.options.placement.call(this,j[0],this.$element[0]):this.options.placement,n=/\s?auto?\s?/i,p=n.test(m);p&&(m=m.replace(n,"")||"top"),j.detach().css({top:0,left:0,display:"block"}).addClass(m).data("bs."+this.type,this),this.options.container?j.appendTo(this.options.container):j.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var q=this.getPosition(),F=j[0].offsetWidth,G=j[0].offsetHeight;if(p){var H=m,f=this.getPosition(this.$viewport);m="bottom"==m&&q.bottom+G>f.bottom?"top":"top"==m&&q.top-G<f.top?"bottom":"right"==m&&q.right+F>f.width?"left":"left"==m&&q.left-F<f.left?"right":m,j.removeClass(H).addClass(m)}var l=this.getCalculatedOffset(m,q,F,G);this.applyPlacement(l,m);var o=function(){var r=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==r&&i.leave(i)};c.support.transition&&this.$tip.hasClass("fade")?j.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o()}},a.prototype.applyPlacement=function(k,l){var m=this.tip(),B=m[0].offsetWidth,C=m[0].offsetHeight,D=parseInt(m.css("margin-top"),10),E=parseInt(m.css("margin-left"),10);isNaN(D)&&(D=0),isNaN(E)&&(E=0),k.top+=D,k.left+=E,c.offset.setOffset(m[0],c.extend({using:function(o){m.css({top:Math.round(o.top),left:Math.round(o.left)})}},k),0),m.addClass("in");var F=m[0].offsetWidth,f=m[0].offsetHeight;"top"==l&&f!=C&&(k.top=k.top+C-f);var h=this.getViewportAdjustedDelta(l,k,F,f);h.left?k.left+=h.left:k.top+=h.top;var i=/top|bottom/.test(l),j=i?2*h.left-B+F:2*h.top-C+f,n=i?"offsetWidth":"offsetHeight";m.offset(k),this.replaceArrow(j,m[0][n],i)},a.prototype.replaceArrow=function(h,i,f){this.arrow().css(f?"left":"top",50*(1-h/i)+"%").css(f?"top":"left","")},a.prototype.setContent=function(){var f=this.tip(),h=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](h),f.removeClass("fade in top bottom left right")},a.prototype.hide=function(i){function f(){"in"!=h.hoverState&&j.detach(),h.$element.removeAttr("aria-describedby").trigger("hidden.bs."+h.type),i&&i()}var h=this,j=c(this.$tip),n=c.Event("hide.bs."+this.type);return this.$element.trigger(n),n.isDefaultPrevented()?void 0:(j.removeClass("in"),c.support.transition&&j.hasClass("fade")?j.one("bsTransitionEnd",f).emulateTransitionEnd(a.TRANSITION_DURATION):f(),this.hoverState=null,this)},a.prototype.fixTitle=function(){var f=this.$element;(f.attr("title")||"string"!=typeof f.attr("data-original-title"))&&f.attr("data-original-title",f.attr("title")||"").attr("title","")},a.prototype.hasContent=function(){return this.getTitle()},a.prototype.getPosition=function(i){i=i||this.$element;var q=i[0],r="BODY"==q.tagName,s=q.getBoundingClientRect();null==s.width&&(s=c.extend({},s,{width:s.right-s.left,height:s.bottom-s.top}));var f=r?{top:0,left:0}:i.offset(),h={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:i.scrollTop()},j=r?{width:c(window).width(),height:c(window).height()}:null;return c.extend({},s,h,j,f)},a.prototype.getCalculatedOffset=function(h,i,j,f){return"bottom"==h?{top:i.top+i.height,left:i.left+i.width/2-j/2}:"top"==h?{top:i.top-f,left:i.left+i.width/2-j/2}:"left"==h?{top:i.top+i.height/2-f/2,left:i.left-j}:{top:i.top+i.height/2-f/2,left:i.left+i.width}},a.prototype.getViewportAdjustedDelta=function(z,A,B,C){var f={top:0,left:0};if(!this.$viewport){return f}var h=this.options.viewport&&this.options.viewport.padding||0,i=this.getPosition(this.$viewport);if(/right|left/.test(z)){var j=A.top-h-i.scroll,k=A.top+h-i.scroll+C;j<i.top?f.top=i.top-j:k>i.top+i.height&&(f.top=i.top+i.height-k)}else{var x=A.left-h,y=A.left+h+B;x<i.left?f.left=i.left-x:y>i.right&&(f.left=i.left+i.width-y)}return f},a.prototype.getTitle=function(){var h,i=this.$element,f=this.options;return h=i.attr("data-original-title")||("function"==typeof f.title?f.title.call(i[0]):f.title)},a.prototype.getUID=function(f){do{f+=~~(1000000*Math.random())}while(document.getElementById(f));return f},a.prototype.tip=function(){if(!this.$tip&&(this.$tip=c(this.options.template),1!=this.$tip.length)){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}return this.$tip},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},a.prototype.enable=function(){this.enabled=!0},a.prototype.disable=function(){this.enabled=!1},a.prototype.toggleEnabled=function(){this.enabled=!this.enabled},a.prototype.toggle=function(f){var h=this;f&&(h=c(f.currentTarget).data("bs."+this.type),h||(h=new this.constructor(f.currentTarget,this.getDelegateOptions()),c(f.currentTarget).data("bs."+this.type,h))),f?(h.inState.click=!h.inState.click,h.isInStateTrue()?h.enter(h):h.leave(h)):h.tip().hasClass("in")?h.leave(h):h.enter(h)},a.prototype.destroy=function(){var f=this;clearTimeout(this.timeout),this.hide(function(){f.$element.off("."+f.type).removeData("bs."+f.type),f.$tip&&f.$tip.detach(),f.$tip=null,f.$arrow=null,f.$viewport=null})};var b=c.fn.tooltip;c.fn.tooltip=d,c.fn.tooltip.Constructor=a,c.fn.tooltip.noConflict=function(){return c.fn.tooltip=b,this}}(jQuery),+function(c){function d(f){return this.each(function(){var i=c(this),j=i.data("bs.popover"),h="object"==typeof f&&f;(j||!/destroy|hide/.test(f))&&(j||i.data("bs.popover",j=new a(this,h)),"string"==typeof f&&j[f]())})}var a=function(f,h){this.init("popover",f,h)};if(!c.fn.tooltip){throw new Error("Popover requires tooltip.js")}a.VERSION="3.3.6",a.DEFAULTS=c.extend({},c.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),a.prototype=c.extend({},c.fn.tooltip.Constructor.prototype),a.prototype.constructor=a,a.prototype.getDefaults=function(){return a.DEFAULTS},a.prototype.setContent=function(){var h=this.tip(),i=this.getTitle(),f=this.getContent();h.find(".popover-title")[this.options.html?"html":"text"](i),h.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof f?"html":"append":"text"](f),h.removeClass("fade top bottom left right in"),h.find(".popover-title").html()||h.find(".popover-title").hide()},a.prototype.hasContent=function(){return this.getTitle()||this.getContent()},a.prototype.getContent=function(){var f=this.$element,h=this.options;return f.attr("data-content")||("function"==typeof h.content?h.content.call(f[0]):h.content)},a.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var b=c.fn.popover;c.fn.popover=d,c.fn.popover.Constructor=a,c.fn.popover.noConflict=function(){return c.fn.popover=b,this}}(jQuery),+function(c){function d(f,h){this.$body=c(document.body),this.$scrollElement=c(c(f).is(document.body)?window:f),this.options=c.extend({},d.DEFAULTS,h),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",c.proxy(this.process,this)),this.refresh(),this.process()}function a(f){return this.each(function(){var i=c(this),j=i.data("bs.scrollspy"),h="object"==typeof f&&f;j||i.data("bs.scrollspy",j=new d(this,h)),"string"==typeof f&&j[f]()})}d.VERSION="3.3.6",d.DEFAULTS={offset:10},d.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},d.prototype.refresh=function(){var h=this,f="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),c.isWindow(this.$scrollElement[0])||(f="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var l=c(this),j=l.data("target")||l.attr("href"),k=/^#./.test(j)&&c(j);return k&&k.length&&k.is(":visible")&&[[k[f]().top+i,j]]||null}).sort(function(j,k){return j[0]-k[0]}).each(function(){h.offsets.push(this[0]),h.targets.push(this[1])})},d.prototype.process=function(){var h,i=this.$scrollElement.scrollTop()+this.options.offset,j=this.getScrollHeight(),r=this.options.offset+j-this.$scrollElement.height(),s=this.offsets,t=this.targets,f=this.activeTarget;if(this.scrollHeight!=j&&this.refresh(),i>=r){return f!=(h=t[t.length-1])&&this.activate(h)}if(f&&i<s[0]){return this.activeTarget=null,this.clear()}for(h=s.length;h--;){f!=t[h]&&i>=s[h]&&(void 0===s[h+1]||i<s[h+1])&&this.activate(t[h])}},d.prototype.activate=function(h){this.activeTarget=h,this.clear();var f=this.selector+'[data-target="'+h+'"],'+this.selector+'[href="'+h+'"]',i=c(f).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},d.prototype.clear=function(){c(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var b=c.fn.scrollspy;c.fn.scrollspy=a,c.fn.scrollspy.Constructor=d,c.fn.scrollspy.noConflict=function(){return c.fn.scrollspy=b,this},c(window).on("load.bs.scrollspy.data-api",function(){c('[data-spy="scroll"]').each(function(){var f=c(this);a.call(f,f.data())})})}(jQuery),+function(d){function l(f){return this.each(function(){var i=d(this),h=i.data("bs.tab");h||i.data("bs.tab",h=new a(this)),"string"==typeof f&&h[f]()})}var a=function(f){this.element=d(f)};a.VERSION="3.3.6",a.TRANSITION_DURATION=150,a.prototype.show=function(){var i=this.element,j=i.closest("ul:not(.dropdown-menu)"),k=i.data("target");if(k||(k=i.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,"")),!i.parent("li").hasClass("active")){var r=j.find(".active:last a"),s=d.Event("hide.bs.tab",{relatedTarget:i[0]}),f=d.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),i.trigger(f),!f.isDefaultPrevented()&&!s.isDefaultPrevented()){var h=d(k);this.activate(i.closest("li"),j),this.activate(h,h.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:i[0]}),i.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},a.prototype.activate=function(i,j,p){function f(){h.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),i.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),k?(i[0].offsetWidth,i.addClass("in")):i.removeClass("fade"),i.parent(".dropdown-menu").length&&i.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),p&&p()}var h=j.find("> .active"),k=p&&d.support.transition&&(h.length&&h.hasClass("fade")||!!j.find("> .fade").length);h.length&&k?h.one("bsTransitionEnd",f).emulateTransitionEnd(a.TRANSITION_DURATION):f(),h.removeClass("in")};var b=d.fn.tab;d.fn.tab=l,d.fn.tab.Constructor=a,d.fn.tab.noConflict=function(){return d.fn.tab=b,this};var c=function(f){f.preventDefault(),l.call(d(this),"show")};d(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',c).on("click.bs.tab.data-api",'[data-toggle="pill"]',c)}(jQuery),+function(c){function d(f){return this.each(function(){var i=c(this),j=i.data("bs.affix"),h="object"==typeof f&&f;j||i.data("bs.affix",j=new a(this,h)),"string"==typeof f&&j[f]()})}var a=function(f,h){this.options=c.extend({},a.DEFAULTS,h),this.$target=c(this.options.target).on("scroll.bs.affix.data-api",c.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",c.proxy(this.checkPositionWithEventLoop,this)),this.$element=c(f),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};a.VERSION="3.3.6",a.RESET="affix affix-top affix-bottom",a.DEFAULTS={offset:0,target:window},a.prototype.getState=function(z,A,f,h){var i=this.$target.scrollTop(),j=this.$element.offset(),u=this.$target.height();if(null!=f&&"top"==this.affixed){return f>i?"top":!1}if("bottom"==this.affixed){return null!=f?i+this.unpin<=j.top?!1:"bottom":z-h>=i+u?!1:"bottom"}var v=null==this.affixed,x=v?i:j.top,y=v?u:A;return null!=f&&f>=i?"top":null!=h&&x+y>=z-h?"bottom":!1},a.prototype.getPinnedOffset=function(){if(this.pinnedOffset){return this.pinnedOffset}this.$element.removeClass(a.RESET).addClass("affix");var f=this.$target.scrollTop(),h=this.$element.offset();return this.pinnedOffset=h.top-f},a.prototype.checkPositionWithEventLoop=function(){setTimeout(c.proxy(this.checkPosition,this),1)},a.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=this.$element.height(),q=this.options.offset,r=q.top,t=q.bottom,f=Math.max(c(document).height(),c(document.body).height());"object"!=typeof q&&(t=r=q),"function"==typeof r&&(r=q.top(this.$element)),"function"==typeof t&&(t=q.bottom(this.$element));var h=this.getState(f,i,r,t);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var j="affix"+(h?"-"+h:""),s=c.Event(j+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented()){return}this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(a.RESET).addClass(j).trigger(j.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:f-i-t})}};var b=c.fn.affix;c.fn.affix=d,c.fn.affix.Constructor=a,c.fn.affix.noConflict=function(){return c.fn.affix=b,this},c(window).on("load",function(){c('[data-spy="affix"]').each(function(){var f=c(this),h=f.data();h.offset=h.offset||{},null!=h.offsetBottom&&(h.offset.bottom=h.offsetBottom),null!=h.offsetTop&&(h.offset.top=h.offsetTop),d.call(f,h)})})}(jQuery);(function(c,d){typeof module==="object"&&module.exports?module.exports=c.document?d(c):d:c.Highcharts=d(c)})(typeof window!=="undefined"?window:this,function(c0){function bc(b,c){var a="Highcharts error #"+b+": www.highcharts.com/errors/"+b;if(c){throw Error(a)}c0.console&&console.log(a)}function dG(b,c,a){this.options=c;this.elem=b;this.prop=a}function cH(){var d,f=arguments,a,b={},c=function(i,k){var j,h;typeof i!=="object"&&(i={});for(h in k){k.hasOwnProperty(h)&&(j=k[h],i[h]=j&&typeof j==="object"&&Object.prototype.toString.call(j)!=="[object Array]"&&h!=="renderTo"&&typeof j.nodeType!=="number"?c(i[h]||{},j):k[h])}return i};f[0]===!0&&(b=f[1],f=Array.prototype.slice.call(f,2));a=f.length;for(d=0;d<a;d++){b=c(b,f[d])}return b}function cR(a,b){return parseInt(a,b||10)}function ct(a){return typeof a==="string"}function P(a){return Object.prototype.toString.call(a)==="[object Array]"}function dQ(b,c){for(var a=b.length;a--;){if(b[a]===c){b.splice(a,1);break}}}function cl(a){return a!==cn&&a!==null}function ab(d,f,a){var b,c;if(ct(f)){cl(a)?d.setAttribute(f,a):d&&d.getAttribute&&(c=d.getAttribute(f))}else{if(cl(f)&&cC(f)){for(b in f){d.setAttribute(b,f[b])}}}return c}function dJ(a){return P(a)?a:[a]}function cP(b,c,a){if(c){return setTimeout(b,c,a)}b.call(0,a)}function c5(a,b){if(B&&!S&&b&&b.opacity!==cn){b.filter="alpha(opacity="+b.opacity*100+")"}cm(a.style,b)}function cU(d,f,a,b,c){d=cF.createElement(d);f&&cm(d,f);c&&c5(d,{padding:0,border:"none",margin:0});a&&c5(d,a);b&&b.appendChild(d);return d}function bb(b,c){var a=function(){};a.prototype=new b;cm(a.prototype,c);return a}function a1(b,c,a){return Array((c||2)+1-String(b).length).join(a||0)+b}function dO(a){return(cD&&cD(a)||dR||0)*60000}function dw(b,c){for(var f="{",h=!1,i,j,k,l,a,d=[];(f=b.indexOf(f))!==-1;){i=b.slice(0,f);if(h){j=i.split(":");k=j.shift().split(".");a=k.length;i=c;for(l=0;l<a;l++){i=i[k[l]]}if(j.length){j=j.join(":"),k=/\.([0-9])/,l=c8.lang,a=void 0,/f$/.test(j)?(a=(a=j.match(k))?a[1]:-1,i!==null&&(i=cE.numberFormat(i,a,l.decimalPoint,j.indexOf(",")>-1?l.thousandsSep:""))):i=cq(j,i)}}d.push(i);b=b.slice(f+1);f=(h=!h)?"}":"{"}d.push(b);return d.join("")}function cK(a){return dj.pow(10,ba(dj.log(a)/dj.LN10))}function c3(d,h,f,i,a){var b,c=d,f=cj(f,1);b=d/f;h||(h=[1,2,2.5,5,10],i===!1&&(f===1?h=[1,2,5,10]:f<=0.1&&(h=[1/f])));for(i=0;i<h.length;i++){if(c=h[i],a&&c*f>=d||!a&&b<=(h[i]+(h[i+1]||h[i]))/2){break}}c*=f;return c}function cs(d,f){var a=d.length,b,c;for(c=0;c<a;c++){d[c].safeI=c}d.sort(function(i,h){b=f(i,h);return b===0?i.safeI-h.safeI:b});for(c=0;c<a;c++){delete d[c].safeI}}function dL(b){for(var c=b.length,a=b[0];c--;){b[c]<a&&(a=b[c])}return a}function V(b){for(var c=b.length,a=b[0];c--;){b[c]>a&&(a=b[c])}return a}function cy(b,c){for(var a in b){b[a]&&b[a]!==c&&b[a].destroy&&b[a].destroy(),delete b[a]}}function ci(a){A||(A=cU(x));a&&A.appendChild(a);A.innerHTML=""}function a6(a,b){return parseFloat(a.toPrecision(b||14))}function cf(a,b){b.renderer.globalAnimation=cj(a,b.animation)}function cW(a){return cC(a)?cH(a):{duration:a?500:0}}function da(){var c=c8.global,d=c.useUTC,a=d?"getUTC":"get",b=d?"setUTC":"set";di=c.Date||c0.Date;dR=d&&c.timezoneOffset;cD=d&&c.getTimezoneOffset;du=function(h,i,k,m,f,j){var l;d?(l=di.UTC.apply(0,arguments),l+=dO(l)):l=(new di(h,i,cj(k,1),cj(m,0),cj(f,0),cj(j,0))).getTime();return l};G=a+"Minutes";aa=a+"Hours";I=a+"Day";t=a+"Date";cp=a+"Month";T=a+"FullYear";R=b+"Milliseconds";a2=b+"Seconds";Q=b+"Minutes";dx=b+"Hours";dK=b+"Date";Y=b+"Month";cw=b+"FullYear"}function ac(a){if(!(this instanceof ac)){return new ac(a)}this.init(a)}function cL(){}function dk(c,d,a,b){this.axis=c;this.pos=d;this.type=a||"";this.isNew=!0;!a&&!b&&this.addLabel()}function de(d,f,h,a,b){var c=d.chart.inverted;this.axis=d;this.isNegative=h;this.options=f;this.x=a;this.total=null;this.points={};this.stack=b;this.rightCliff=this.leftCliff=0;this.alignOptions={align:f.align||(c?h?"left":"right":"center"),verticalAlign:f.verticalAlign||(c?"middle":h?"bottom":"top"),y:cj(f.y,c?4:h?14:-6),x:cj(f.x,c?h?-6:6:0)};this.textAlign=f.textAlign||(c?h?"right":"left":"center")}function cv(b,c,a){this.scrollbarButtons=[];this.renderer=b;this.userOptions=c;this.options=cH(ck,c);this.chart=a;this.size=cj(this.options.size,this.options.height);this.render();this.initEvents();this.addEvents()}function cc(d){var f=d.options,h=f.navigator,a=h.enabled,b=f.scrollbar,f=b.enabled,c=a?h.height:0,b=f?b.height:0;this.handles=[];this.elementsToDestroy=[];this.chart=d;this.setBaseSeries();this.height=c;this.scrollbarHeight=b;this.scrollbarEnabled=f;this.navigatorEnabled=a;this.navigatorOptions=h;this.outlineHeight=c+b;this.init()}function o(a){this.init(a)}var cn,cF=c0.document,dj=Math,cB=dj.round,ba=dj.floor,D=dj.ceil,co=dj.max,cJ=dj.min,dg=dj.abs,dA=dj.cos,dy=dj.sin,cI=dj.PI,cu=cI*2/360,cQ=c0.navigator&&c0.navigator.userAgent||"",y=c0.opera,B=/(msie|trident|edge)/i.test(cQ)&&!y,cO=cF&&cF.documentMode===8,c6=!B&&/AppleWebKit/.test(cQ),dn=/Firefox/.test(cQ),a4=/(Mobile|Android|Windows Phone)/.test(cQ),O="http://www.w3.org/2000/svg",S=cF&&cF.createElementNS&&!!cF.createElementNS(O,"svg").createSVGRect,cS=dn&&parseInt(cQ.split("Firefox/")[1],10)<4,cM=cF&&!S&&!B&&!!cF.createElement("canvas").getContext,dH,cx,dq={},dh=0,A,c8,cq,c2,c4=function(){},ce=[],U=0,x="div",a7="M",dd="L",cg=/^[0-9]+$/,M=["plotTop","marginRight","marginBottom","plotLeft"],di,du,dR,cD,G,aa,I,t,cp,T,R,a2,Q,dx,dK,Y,cw,cV={},cE;cE=c0.Highcharts?bc(16,!0):{win:c0};cE.seriesTypes=cV;var dv=[],K,z,ch,W,dz,H,cN,a5,cY,dC,c9;dG.prototype={dSetter:function(){var d=this.paths[0],f=this.paths[1],h=[],a=this.now,b=d.length,c;if(a===1){h=this.toD}else{if(b===f.length&&a<1){for(;b--;){c=parseFloat(d[b]),h[b]=isNaN(c)?d[b]:a*parseFloat(f[b]-c)+c}}else{h=f}}this.elem.attr("d",h)},update:function(){var c=this.elem,d=this.prop,a=this.now,b=this.options.step;if(this[d+"Setter"]){this[d+"Setter"]()}else{c.attr?c.element&&c.attr(d,a):c.style[d]=a+this.unit}b&&b.call(c,a,this)},run:function(d,f,h){var a=this,b=function(i){return b.stopped?!1:a.step(i)},c;this.startTime=+new di;this.start=d;this.end=f;this.unit=h;this.now=this.start;this.pos=0;b.elem=this.elem;if(b()&&dv.push(b)===1){b.timerId=setInterval(function(){for(c=0;c<dv.length;c++){dv[c]()||dv.splice(c--,1)}dv.length||clearInterval(b.timerId)},13)}},step:function(f){var i=+new di,b,h=this.options;b=this.elem;var j=h.complete,a=h.duration,c=h.curAnim,d;if(b.attr&&!b.element){b=!1}else{if(f||i>=a+this.startTime){this.now=this.end;this.pos=1;this.update();f=c[this.prop]=!0;for(d in c){c[d]!==!0&&(f=!1)}f&&j&&j.call(b);b=!1}else{this.pos=h.easing((i-this.startTime)/a),this.now=this.start+(this.end-this.start)*this.pos,this.update(),b=!0}}return b},initPath:function(l,n,r){function s(L){for(u=L.length;u--;){(L[u]===a7||L[u]===dd)&&L.splice(u+1,0,L[u+1],L[u+2],L[u+1],L[u+2])}}function F(Z,ad){for(;Z.length<m;){Z[0]=ad[m-Z.length];var L=Z.slice(0,k);[].splice.apply(Z,[0,0].concat(L));b&&(L=Z.slice(Z.length-k),[].splice.apply(Z,[Z.length,0].concat(L)),u--)}Z[0]="M"}function a(Z,ad){for(var L=(m-Z.length)/k;L>0&&L--;){p=Z.slice().splice(Z.length/f-k,k*f),p[0]=ad[m-k-L*k],j&&(p[k-6]=p[k-2],p[k-5]=p[k-1]),[].splice.apply(Z,[Z.length/f,0].concat(p)),b&&L--}}var n=n||"",c,d=l.startX,h=l.endX,j=n.indexOf("C")>-1,k=j?7:3,m,p,u,n=n.split(" "),r=r.slice(),b=l.isArea,f=b?2:1,i;j&&(s(n),s(r));if(d&&h){for(u=0;u<d.length;u++){if(d[u]===h[0]){c=u;break}else{if(d[0]===h[h.length-d.length+u]){c=u;i=!0;break}}}c===void 0&&(n=[])}n.length&&cE.isNumber(c)&&(m=r.length+c*f*k,i?(F(n,r),a(r,n)):(F(r,n),a(n,r)));return[n,r]}};var cm=cE.extend=function(b,c){var a;b||(b={});for(a in c){b[a]=c[a]}return b},cC=cE.isObject=function(a,b){return a&&typeof a==="object"&&(!b||!P(a))},cr=cE.isNumber=function(a){return typeof a==="number"&&!isNaN(a)},cj=cE.pick=function(){var c=arguments,d,a,b=c.length;for(d=0;d<b;d++){if(a=c[d],a!==cn&&a!==null){return a}}},df=cE.wrap=function(c,d,a){var b=c[d];c[d]=function(){var f=Array.prototype.slice.call(arguments);f.unshift(b);return a.apply(this,f)}};cq=function(m,p,a){if(!cl(p)||isNaN(p)){return c8.lang.invalidDate||""}var m=cj(m,"%Y-%m-%d %H:%M:%S"),c=new di(p-dO(p)),d,h=c[aa](),i=c[I](),j=c[t](),k=c[cp](),l=c[T](),n=c8.lang,b=n.weekdays,f=n.shortWeekdays,c=cm({a:f?f[i]:b[i].substr(0,3),A:b[i],d:a1(j),e:a1(j,2," "),w:i,b:n.shortMonths[k],B:n.months[k],m:a1(k+1),y:l.toString().substr(2,2),Y:l,H:a1(h),k:h,I:a1(h%12||12),l:h%12||12,M:a1(c[G]()),p:h<12?"AM":"PM",P:h<12?"am":"pm",S:a1(c.getSeconds()),L:a1(cB(p%1000),3)},cE.dateFormats);for(d in c){for(;m.indexOf("%"+d)!==-1;){m=m.replace("%"+d,typeof c[d]==="function"?c[d](p):c[d])}}return a?m.substr(0,1).toUpperCase()+m.substr(1):m};c2={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000,month:2419200000,year:31449600000};cE.numberFormat=function(b,d,f,h){var b=+b||0,d=+d,i=c8.lang,j=(b.toString().split(".")[1]||"").length,k,a,c=Math.abs(b);d===-1?d=Math.min(j,20):cr(d)||(d=2);k=String(cR(c.toFixed(d)));a=k.length>3?k.length%3:0;f=cj(f,i.decimalPoint);h=cj(h,i.thousandsSep);b=b<0?"-":"";b+=a?k.substr(0,a)+h:"";b+=k.substr(a).replace(/(\d{3})(?=\d)/g,"$1"+h);d&&(h=Math.abs(c-k+Math.pow(10,-Math.max(d,j)-1)),b+=f+h.toFixed(d).slice(2));return b};Math.easeInOutSine=function(a){return -0.5*(Math.cos(Math.PI*a)-1)};K=function(b,c){var a;if(c==="width"){return Math.min(b.offsetWidth,b.scrollWidth)-K(b,"padding-left")-K(b,"padding-right")}else{if(c==="height"){return Math.min(b.offsetHeight,b.scrollHeight)-K(b,"padding-top")-K(b,"padding-bottom")}}return(a=c0.getComputedStyle(b,void 0))&&cR(a.getPropertyValue(c))};z=function(a,b){return b.indexOf?b.indexOf(a):[].indexOf.call(b,a)};W=function(a,b){return[].filter.call(a,b)};H=function(d,f){for(var a=[],b=0,c=d.length;b<c;b++){a[b]=f.call(d[b],d[b],b,d)}return a};dz=function(a){var b=cF.documentElement,a=a.getBoundingClientRect();return{top:a.top+(c0.pageYOffset||b.scrollTop)-(b.clientTop||0),left:a.left+(c0.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}};c9=function(a){for(var b=dv.length;b--;){if(dv[b].elem===a){dv[b].stopped=!0}}};ch=function(a,b){return Array.prototype.forEach.call(a,b)};cN=function(d,f,a){function b(h){h.target=h.srcElement||c0;a.call(d,h)}var c=d.hcEvents=d.hcEvents||{};if(d.addEventListener){d.addEventListener(f,a,!1)}else{if(d.attachEvent){if(!d.hcEventsIE){d.hcEventsIE={}}d.hcEventsIE[a.toString()]=b;d.attachEvent("on"+f,b)}}c[f]||(c[f]=[]);c[f].push(a)};a5=function(f,i,b){function h(l,k){f.removeEventListener?f.removeEventListener(l,k,!1):f.attachEvent&&(k=f.hcEventsIE[k.toString()],f.detachEvent("on"+l,k))}function j(){var k,l,m;if(f.nodeName){for(m in i?(k={},k[i]=!0):k=c,k){if(c[m]){for(l=c[m].length;l--;){h(m,c[m][l])}}}}}var a,c=f.hcEvents,d;if(c){i?(a=c[i]||[],b?(d=z(b,a),d>-1&&(a.splice(d,1),c[i]=a),h(i,b)):(j(),c[i]=[])):(j(),f.hcEvents={})}};cY=function(d,h,f,i){var a;a=d.hcEvents;var b,c,f=f||{};if(cF.createEvent&&(d.dispatchEvent||d.fireEvent)){a=cF.createEvent("Events"),a.initEvent(h,!0,!0),a.target=d,cm(a,f),d.dispatchEvent?d.dispatchEvent(a):d.fireEvent(h,a)}else{if(a){a=a[h]||[];b=a.length;if(!f.preventDefault){f.preventDefault=function(){f.defaultPrevented=!0}}f.target=d;if(!f.type){f.type=h}for(h=0;h<b;h++){(c=a[h])&&c.call(d,f)===!1&&f.preventDefault()}}}i&&!f.defaultPrevented&&i(f)};dC=function(f,i,b){var h,j="",a,c,d;cC(b)||(h=arguments,b={duration:h[2],easing:h[3],complete:h[4]});if(!cr(b.duration)){b.duration=400}b.easing=typeof b.easing==="function"?b.easing:Math[b.easing]||Math.easeInOutSine;b.curAnim=cH(i);for(d in i){c=new dG(f,b,d),a=null,d==="d"?(c.paths=c.initPath(f,f.d,i.d),c.toD=i.d,h=0,a=1):f.attr?h=f.attr(d):(h=parseFloat(K(f,d))||0,d!=="opacity"&&(j="px")),a||(a=i[d]),a.match&&a.match("px")&&(a=a.replace(/px/g,"")),c.run(h,a,j)}};if(c0.jQuery){c0.jQuery.fn.highcharts=function(){var a=[].slice.call(arguments);if(this[0]){return a[0]?(new (cE[ct(a[0])?a.shift():"Chart"])(this[0],a[0],a[1]),this):ce[ab(this[0],"data-highcharts-chart")]}}}cF&&!cF.defaultView&&(K=function(b,c){var a;a={width:"clientWidth",height:"clientHeight"}[c];if(b.style[c]){return cR(b.style[c])}c==="opacity"&&(c="filter");if(a){return b.style.zoom=1,Math.max(b[a]-2*K(b,"padding"),0)}a=b.currentStyle[c.replace(/\-(\w)/g,function(d,f){return f.toUpperCase()})];c==="filter"&&(a=a.replace(/alpha\(opacity=([0-9]+)\)/,function(d,f){return f/100}));return a===""?1:cR(a)});Array.prototype.forEach||(ch=function(c,d){for(var a=0,b=c.length;a<b;a++){if(d.call(c[a],c[a],a,c)===!1){return a}}});Array.prototype.indexOf||(z=function(c,d){var a,b=0;if(d){for(a=d.length;b<a;b++){if(d[b]===c){return b}}}return -1});Array.prototype.filter||(W=function(d,f){for(var a=[],b=0,c=d.length;b<c;b++){f(d[b],b)&&a.push(d[b])}return a});cE.Fx=dG;cE.inArray=z;cE.each=ch;cE.grep=W;cE.offset=dz;cE.map=H;cE.addEvent=cN;cE.removeEvent=a5;cE.fireEvent=cY;cE.animate=dC;cE.animObject=cW;cE.stop=c9;c8={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#2b908f,#f45b5b,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/stock/4.2.6/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}},width:null,height:null},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"},widthAdjust:-44},subtitle:{text:"",align:"center",style:{color:"#555555"},widthAdjust:-44},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return this.y===null?"":cE.numberFormat(this.y,-1)},style:{color:"contrast",fontSize:"11px",fontWeight:"bold",textShadow:"0 0 6px contrast, 0 0 3px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1000}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:a4?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var a8=c8.plotOptions,dN=a8.line;da();ac.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[cR(a[1]),cR(a[2]),cR(a[3]),parseFloat(a[4],10)]}},{regex:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[cR(a[1],16),cR(a[2],16),cR(a[3],16),1]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[cR(a[1]),cR(a[2]),cR(a[3]),1]}}],init:function(d){var f,a,b,c;if((this.input=d)&&d.stops){this.stops=H(d.stops,function(h){return new ac(h[1])})}else{for(b=this.parsers.length;b--&&!a;){c=this.parsers[b],(f=c.regex.exec(d))&&(a=c.parse(f))}}this.rgba=a||[]},get:function(c){var d=this.input,a=this.rgba,b;this.stops?(b=cH(d),b.stops=[].concat(b.stops),ch(this.stops,function(f,h){b.stops[h]=[b.stops[h][0],f.get(c)]})):b=a&&cr(a[0])?c==="rgb"||!c&&a[3]===1?"rgb("+a[0]+","+a[1]+","+a[2]+")":c==="a"?a[3]:"rgba("+a.join(",")+")":d;return b},brighten:function(b){var c,a=this.rgba;if(this.stops){ch(this.stops,function(d){d.brighten(b)})}else{if(cr(b)&&b!==0){for(c=0;c<3;c++){a[c]+=cR(b*255),a[c]<0&&(a[c]=0),a[c]>255&&(a[c]=255)}}}return this},setOpacity:function(a){this.rgba[3]=a;return this}};cL.prototype={opacity:1,textProps:"direction,fontSize,fontWeight,fontFamily,fontStyle,color,lineHeight,width,textDecoration,textOverflow,textShadow".split(","),init:function(a,b){this.element=b==="span"?cU(b):cF.createElementNS(O,b);this.renderer=a},animate:function(b,c,a){c=cj(c,this.renderer.globalAnimation,!0);c9(this);if(c){if(a){c.complete=a}dC(this,b,c)}else{this.attr(b,null,a)}return this},colorGradient:function(l,n,r){var s=this.renderer,F,a,c,d,h,j,k,m,p,u,b,f=[],i;l.linearGradient?a="linearGradient":l.radialGradient&&(a="radialGradient");if(a){c=l[a];h=s.gradients;k=l.stops;u=r.radialReference;P(c)&&(l[a]=c={x1:c[0],y1:c[1],x2:c[2],y2:c[3],gradientUnits:"userSpaceOnUse"});a==="radialGradient"&&u&&!cl(c.gradientUnits)&&(d=c,c=cH(c,s.getRadialAttr(u,d),{gradientUnits:"userSpaceOnUse"}));for(b in c){b!=="id"&&f.push(b,c[b])}for(b in k){f.push(k[b])}f=f.join(",");h[f]?u=h[f].attr("id"):(c.id=u="highcharts-"+dh++,h[f]=j=s.createElement(a).attr(c).add(s.defs),j.radAttr=d,j.stops=[],ch(k,function(L){L[1].indexOf("rgba")===0?(F=ac(L[1]),m=F.get("rgb"),p=F.get("a")):(m=L[1],p=1);L=s.createElement("stop").attr({offset:L[0],"stop-color":m,"stop-opacity":p}).add(j);j.stops.push(L)}));i="url("+s.url+"#"+u+")";r.setAttribute(n,i);r.gradient=f;l.toString=function(){return i}}},applyTextShadow:function(d){var h=this.element,f,i=d.indexOf("contrast")!==-1,a={},b=this.renderer.forExport,c=b||h.style.textShadow!==cn&&!B;if(i){a.textShadow=d=d.replace(/contrast/g,this.renderer.getContrast(h.style.fill))}if(c6||b){a.textRendering="geometricPrecision"}c?this.css(a):(this.fakeTS=!0,this.ySetter=this.xSetter,f=[].slice.call(h.getElementsByTagName("tspan")),ch(d.split(/\s?,\s?/g),function(j){var k=h.firstChild,l,m,j=j.split(" ");l=j[j.length-1];(m=j[j.length-2])&&ch(f,function(r,n){var p;n===0&&(r.setAttribute("x",h.getAttribute("x")),n=h.getAttribute("y"),r.setAttribute("y",n||0),n===null&&h.setAttribute("y",0));p=r.cloneNode(1);ab(p,{"class":"highcharts-text-shadow",fill:l,stroke:l,"stroke-opacity":1/co(cR(m),3),"stroke-width":m,"stroke-linejoin":"round"});h.insertBefore(p,k)})}))},attr:function(f,i,b){var h,j=this.element,a,c=this,d;typeof f==="string"&&i!==cn&&(h=f,f={},f[h]=i);if(typeof f==="string"){c=(this[f+"Getter"]||this._defaultGetter).call(this,f,j)}else{for(h in f){i=f[h];d=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(h)&&(a||(this.symbolAttr(f),a=!0),d=!0);if(this.rotation&&(h==="x"||h==="y")){this.doTransform=!0}d||(d=this[h+"Setter"]||this._defaultSetter,d.call(this,i,h,j),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(h)&&this.updateShadows(h,i,d))}if(this.doTransform){this.updateTransform(),this.doTransform=!1}}b&&b();return c},updateShadows:function(d,f,a){for(var b=this.shadows,c=b.length;c--;){a.call(b[c],d==="height"?Math.max(f-(b[c].cutHeight||0),0):d==="d"?this.d:f,d,b[c])}},addClass:function(b){var c=this.element,a=ab(c,"class")||"";a.indexOf(b)===-1&&ab(c,"class",a+" "+b);return this},symbolAttr:function(a){var b=this;ch("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(c){b[c]=cj(a[c],b[c])});b.attr({d:b.renderer.symbols[b.symbolName](b.x,b.y,b.width,b.height,b)})},clip:function(a){return this.attr("clip-path",a?"url("+this.renderer.url+"#"+a.id+")":"none")},crisp:function(d){var f,a={},b,c=this.strokeWidth||0;b=cB(c)%2/2;d.x=ba(d.x||this.x||0)+b;d.y=ba(d.y||this.y||0)+b;d.width=ba((d.width||this.width||0)-2*b);d.height=ba((d.height||this.height||0)-2*b);d.strokeWidth=c;for(f in d){this[f]!==d[f]&&(this[f]=a[f]=d[f])}return a},css:function(d){var h=this.styles,f={},i=this.element,a,b,c="";a=!h;if(d&&d.color){d.fill=d.color}if(h){for(b in d){d[b]!==h[b]&&(f[b]=d[b],a=!0)}}if(a){a=this.textWidth=d&&d.width&&i.nodeName.toLowerCase()==="text"&&cR(d.width)||this.textWidth;h&&(d=cm(h,f));this.styles=d;a&&(cM||!S&&this.renderer.forExport)&&delete d.width;if(B&&!S){c5(this.element,d)}else{h=function(k,j){return"-"+j.toLowerCase()};for(b in d){c+=b.replace(/([A-Z])/g,h)+":"+d[b]+";"}ab(i,"style",c)}a&&this.added&&this.renderer.buildText(this)}return this},on:function(c,d){var a=this,b=a.element;cx&&c==="click"?(b.ontouchstart=function(f){a.touchEventFired=di.now();f.preventDefault();d.call(b,f)},b.onclick=function(f){(cQ.indexOf("Android")===-1||di.now()-(a.touchEventFired||0)>1100)&&d.call(b,f)}):b["on"+c]=d;return this},setRadialReference:function(a){var b=this.renderer.gradients[this.element.gradient];this.element.radialReference=a;b&&b.radAttr&&b.animate(this.renderer.getRadialAttr(a,b.radAttr));return this},translate:function(a,b){return this.attr({translateX:a,translateY:b})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var d=this.translateX||0,h=this.translateY||0,f=this.scaleX,i=this.scaleY,a=this.inverted,b=this.rotation,c=this.element;a&&(d+=this.attr("width"),h+=this.attr("height"));d=["translate("+d+","+h+")"];a?d.push("rotate(90) scale(-1,1)"):b&&d.push("rotate("+b+" "+(c.getAttribute("x")||0)+" "+(c.getAttribute("y")||0)+")");(cl(f)||cl(i))&&d.push("scale("+cj(f,1)+" "+cj(i,1)+")");d.length&&c.setAttribute("transform",d.join(" "))},toFront:function(){var a=this.element;a.parentNode.appendChild(a);return this},align:function(f,i,b){var h,j,a,c,d={};j=this.renderer;a=j.alignedObjects;if(f){if(this.alignOptions=f,this.alignByTranslate=i,!b||ct(b)){this.alignTo=h=b||"renderer",dQ(a,this),a.push(this),b=null}}else{f=this.alignOptions,i=this.alignByTranslate,h=this.alignTo}b=cj(b,j[h],j);h=f.align;j=f.verticalAlign;a=(b.x||0)+(f.x||0);c=(b.y||0)+(f.y||0);if(h==="right"||h==="center"){a+=(b.width-(f.width||0))/{right:1,center:2}[h]}d[i?"translateX":"x"]=cB(a);if(j==="bottom"||j==="middle"){c+=(b.height-(f.height||0))/({bottom:1,middle:2}[j]||1)}d[i?"translateY":"y"]=cB(c);this[this.placed?"animate":"attr"](d);this.placed=!0;this.alignAttr=d;return this},getBBox:function(k,m){var p,r=this.renderer,u,a,c,d=this.element,h=this.styles;u=this.textStr;var i,j=d.style,l,n=r.cache,s=r.cacheKeys,b;a=cj(m,this.rotation);c=a*cu;u!==cn&&(b=["",a||0,h&&h.fontSize,d.style.width].join(","),b=u===""||cg.test(u)?"num:"+u.toString().length+b:u+b);b&&!k&&(p=n[b]);if(!p){if(d.namespaceURI===O||r.forExport){try{l=this.fakeTS&&function(F){ch(d.querySelectorAll(".highcharts-text-shadow"),function(L){L.style.display=F})},dn&&j.textShadow?(i=j.textShadow,j.textShadow=""):l&&l("none"),p=d.getBBox?cm({},d.getBBox()):{width:d.offsetWidth,height:d.offsetHeight},i?j.textShadow=i:l&&l("")}catch(f){}if(!p||p.width<0){p={width:0,height:0}}}else{p=this.htmlGetBBox()}if(r.isSVG){r=p.width;u=p.height;if(B&&h&&h.fontSize==="11px"&&u.toPrecision(3)==="16.9"){p.height=u=14}if(a){p.width=dg(u*dy(c))+dg(r*dA(c)),p.height=dg(u*dA(c))+dg(r*dy(c))}}if(b){for(;s.length>250;){delete n[s.shift()]}n[b]||s.push(b);n[b]=p}}return p},show:function(a){return this.attr({visibility:a?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(a){var b=this;b.animate({opacity:0},{duration:a||150,complete:function(){b.attr({y:-9999})}})},add:function(c){var d=this.renderer,a=this.element,b;if(c){this.parentGroup=c}this.parentInverted=c&&c.inverted;this.textStr!==void 0&&d.buildText(this);this.added=!0;if(!c||c.handleZ||this.zIndex){b=this.zIndexSetter()}b||(c?c.element:d.box).appendChild(a);if(this.onAdd){this.onAdd()}return this},safeRemoveChild:function(a){var b=a.parentNode;b&&b.removeChild(a)},destroy:function(){var d=this,f=d.element||{},h=d.shadows,a=d.renderer.isSVG&&f.nodeName==="SPAN"&&d.parentGroup,b,c;f.onclick=f.onmouseout=f.onmouseover=f.onmousemove=f.point=null;c9(d);if(d.clipPath){d.clipPath=d.clipPath.destroy()}if(d.stops){for(c=0;c<d.stops.length;c++){d.stops[c]=d.stops[c].destroy()}d.stops=null}d.safeRemoveChild(f);for(h&&ch(h,function(i){d.safeRemoveChild(i)});a&&a.div&&a.div.childNodes.length===0;){f=a.parentGroup,d.safeRemoveChild(a.div),delete a.div,a=f}d.alignTo&&dQ(d.renderer.alignedObjects,d);for(b in d){delete d[b]}return null},shadow:function(a,c,d){var h=[],i,j,k=this.element,l,m,b,f;if(a){m=cj(a.width,3);b=(a.opacity||0.15)/m;f=this.parentInverted?"(-1,-1)":"("+cj(a.offsetX,1)+", "+cj(a.offsetY,1)+")";for(i=1;i<=m;i++){j=k.cloneNode(0);l=m*2+1-2*i;ab(j,{isShadow:"true",stroke:a.color||"black","stroke-opacity":b*i,"stroke-width":l,transform:"translate"+f,fill:"none"});if(d){ab(j,"height",co(ab(j,"height")-l,0)),j.cutHeight=l}c?c.element.appendChild(j):k.parentNode.insertBefore(j,k);h.push(j)}this.shadows=h}return this},xGetter:function(a){this.element.nodeName==="circle"&&(a={x:"cx",y:"cy"}[a]||a);return this._defaultGetter(a)},_defaultGetter:function(a){a=cj(this[a],this.element?this.element.getAttribute(a):null,0);/^[\-0-9\.]+$/.test(a)&&(a=parseFloat(a));return a},dSetter:function(b,c,a){b&&b.join&&(b=b.join(" "));/(NaN| {2}|^$)/.test(b)&&(b="M 0 0");a.setAttribute(c,b);this[c]=b},dashstyleSetter:function(b){var c,a=this["stroke-width"];a==="inherit"&&(a=1);if(b=b&&b.toLowerCase()){b=b.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(c=b.length;c--;){b[c]=cR(b[c])*a}b=b.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",b)}},alignSetter:function(a){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[a])},opacitySetter:function(b,c,a){this[c]=b;a.setAttribute(c,b)},titleSetter:function(a){var b=this.element.getElementsByTagName("title")[0];b||(b=cF.createElementNS(O,"title"),this.element.appendChild(b));b.firstChild&&b.removeChild(b.firstChild);b.appendChild(cF.createTextNode(String(cj(a),"").replace(/<[^>]*>/g,"")))},textSetter:function(a){if(a!==this.textStr){delete this.bBox,this.textStr=a,this.added&&this.renderer.buildText(this)}},fillSetter:function(b,c,a){typeof b==="string"?a.setAttribute(c,b):b&&this.colorGradient(b,c,a)},visibilitySetter:function(b,c,a){b==="inherit"?a.removeAttribute(c):a.setAttribute(c,b)},zIndexSetter:function(b,d){var f=this.renderer,h=this.parentGroup,f=(h||f).element||f.box,i,j,k=this.element,a;i=this.added;var c;if(cl(b)){k.zIndex=b,b=+b,this[d]===b&&(i=!1),this[d]=b}if(i){if((b=this.zIndex)&&h){h.handleZ=!0}h=f.childNodes;for(c=0;c<h.length&&!a;c++){if(i=h[c],j=i.zIndex,i!==k&&(cR(j)>b||!cl(b)&&cl(j))){f.insertBefore(k,i),a=!0}}a||f.appendChild(k)}return a},_defaultSetter:function(b,c,a){a.setAttribute(c,b)}};cL.prototype.yGetter=cL.prototype.xGetter;cL.prototype.translateXSetter=cL.prototype.translateYSetter=cL.prototype.rotationSetter=cL.prototype.verticalAlignSetter=cL.prototype.scaleXSetter=cL.prototype.scaleYSetter=function(a,b){this[b]=a;this.doTransform=!0};cL.prototype["stroke-widthSetter"]=cL.prototype.strokeSetter=function(b,c,a){this[c]=b;if(this.stroke&&this["stroke-width"]){this.strokeWidth=this["stroke-width"],cL.prototype.fillSetter.call(this,this.stroke,"stroke",a),a.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0}else{if(c==="stroke-width"&&b===0&&this.hasStroke){a.removeAttribute("stroke"),this.hasStroke=!1}}};var dr=function(){this.init.apply(this,arguments)};dr.prototype={Element:cL,init:function(f,i,b,h,j,a){var c,h=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(h));c=h.element;f.appendChild(c);f.innerHTML.indexOf("xmlns")===-1&&ab(c,"xmlns",O);this.isSVG=!0;this.box=c;this.boxWrapper=h;this.alignedObjects=[];this.url=(dn||c6)&&cF.getElementsByTagName("base").length?c0.location.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(cF.createTextNode("Created with Highstock 4.2.6"));this.defs=this.createElement("defs").add();this.allowHTML=a;this.forExport=j;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(i,b,!1);var d;if(dn&&f.getBoundingClientRect){this.subPixelFix=i=function(){c5(f,{left:0,top:0});d=f.getBoundingClientRect();c5(f,{left:D(d.left)-d.left+"px",top:D(d.top)-d.top+"px"})},i(),cN(c0,"resize",i)}},getStyle:function(a){return this.style=cm({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},a)},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var a=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();cy(this.gradients||{});this.gradients=null;if(a){this.defs=a.destroy()}this.subPixelFix&&a5(c0,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(a){var b=new this.Element;b.init(this,a);return b},draw:function(){},getRadialAttr:function(a,b){return{cx:a[0]-a[2]/2+b.cx*a[2],cy:a[1]-a[2]/2+b.cy*a[2],r:b.r*a[2]}},buildText:function(a){for(var b=a.element,c=this,d=c.forExport,f=cj(a.textStr,"").toString(),j=f.indexOf("<")!==-1,l=b.childNodes,m,r,s,u=ab(b,"x"),L=a.styles,Z=a.textWidth,h=L&&L.lineHeight,i=L&&L.textShadow,k=L&&L.textOverflow==="ellipsis",n=l.length,ad=Z&&!a.added&&this.box,p=function(ae){return h?cR(h):c.fontMetrics(/(px|em)$/.test(ae&&ae.style.fontSize)?ae.style.fontSize:L&&L.fontSize||c.style.fontSize||12,ae).h},F=function(ae){return ae.replace(/&lt;/g,"<").replace(/&gt;/g,">")};n--;){b.removeChild(l[n])}!j&&!i&&!k&&!Z&&f.indexOf(" ")===-1?b.appendChild(cF.createTextNode(F(f))):(m=/<.*style="([^"]+)".*>/,r=/<.*href="(http[^"]+)".*>/,ad&&ad.appendChild(b),f=j?f.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[f],f=W(f,function(ae){return ae!==""}),ch(f,function(af,ag){var ah,ae=0,af=af.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");ah=af.split("|||");ch(ah,function(av){if(av!==""||ah.length===1){var ak={},ao=cF.createElementNS(O,"tspan"),am;m.test(av)&&(am=av.match(m)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),ab(ao,"style",am));r.test(av)&&!d&&(ab(ao,"onclick",'location.href="'+av.match(r)[1]+'"'),c5(ao,{cursor:"pointer"}));av=F(av.replace(/<(.|\n)*?>/g,"")||" ");if(av!==" "){ao.appendChild(cF.createTextNode(av));if(ae){ak.dx=0}else{if(ag&&u!==null){ak.x=u}}ab(ao,ak);b.appendChild(ao);!ae&&ag&&(!S&&d&&c5(ao,{display:"block"}),ab(ao,"dy",p(ao)));if(Z){for(var ak=av.replace(/([^\^])-/g,"$1- ").split(" "),an=ah.length>1||ag||ak.length>1&&L.whiteSpace!=="nowrap",ai,aq,ap=[],au=p(ao),at=1,aj=a.rotation,ar=av,al=ar.length;(an||k)&&(ak.length||ap.length);){a.rotation=0,ai=a.getBBox(!0),aq=ai.width,!S&&c.forExport&&(aq=c.measureSpanWidth(ao.firstChild.data,a.styles)),ai=aq>Z,s===void 0&&(s=ai),k&&s?(al/=2,ar===""||!ai&&al<0.5?ak=[]:(ar=av.substring(0,ar.length+(ai?-1:1)*D(al)),ak=[ar+(Z>3?"\u2026":"")],ao.removeChild(ao.firstChild))):!ai||ak.length===1?(ak=ap,ap=[],ak.length&&(at++,ao=cF.createElementNS(O,"tspan"),ab(ao,{dy:au,x:u}),am&&ab(ao,"style",am),b.appendChild(ao)),aq>Z&&(Z=aq)):(ao.removeChild(ao.firstChild),ap.unshift(ak.pop())),ak.length&&ao.appendChild(cF.createTextNode(ak.join(" ").replace(/- /g,"-")))}a.rotation=aj}ae++}}})}),s&&a.attr("title",a.textStr),ad&&ad.removeChild(b),i&&a.applyTextShadow&&a.applyTextShadow(i))},getContrast:function(a){a=ac(a).rgba;return a[0]+a[1]+a[2]>384?"#000000":"#FFFFFF"},button:function(l,n,r,s,F,a,c,d,h){var j=this.label(l,n,r,h,null,null,null,null,"button"),k=0,m,p,u,b,f,i,l={x1:0,y1:0,x2:0,y2:1},F=cH({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:l,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},F);u=F.style;delete F.style;a=cH(F,{stroke:"#68A",fill:{linearGradient:l,stops:[[0,"#FFF"],[1,"#ACF"]]}},a);b=a.style;delete a.style;c=cH(F,{stroke:"#68A",fill:{linearGradient:l,stops:[[0,"#9BD"],[1,"#CDF"]]}},c);f=c.style;delete c.style;d=cH(F,{style:{color:"#CCC"}},d);i=d.style;delete d.style;cN(j.element,B?"mouseover":"mouseenter",function(){k!==3&&j.attr(a).css(b)});cN(j.element,B?"mouseout":"mouseleave",function(){k!==3&&(m=[F,a,c][k],p=[u,b,f][k],j.attr(m).css(p))});j.setState=function(L){(j.state=k=L)?L===2?j.attr(c).css(f):L===3&&j.attr(d).css(i):j.attr(F).css(u)};return j.on("click",function(L){k!==3&&s.call(j,L)}).attr(F).css(cm({cursor:"default"},u))},crispLine:function(a,b){a[1]===a[4]&&(a[1]=a[4]=cB(a[1])-b%2/2);a[2]===a[5]&&(a[2]=a[5]=cB(a[2])+b%2/2);return a},path:function(a){var b={fill:"none"};P(a)?b.d=a:cC(a)&&cm(b,a);return this.createElement("path").attr(b)},circle:function(b,c,a){b=cC(b)?b:{x:b,y:c,r:a};c=this.createElement("circle");c.xSetter=c.ySetter=function(d,f,h){h.setAttribute("c"+f,d)};return c.attr(b)},arc:function(d,f,h,a,b,c){if(cC(d)){f=d.y,h=d.r,a=d.innerR,b=d.start,c=d.end,d=d.x}d=this.symbol("arc",d||0,f||0,h||0,h||0,{innerR:a||0,start:b||0,end:c||0});d.r=h;return d},rect:function(d,h,f,i,a,b){var a=cC(d)?d.r:a,c=this.createElement("rect"),d=cC(d)?d:d===cn?{}:{x:d,y:h,width:co(f,0),height:co(i,0)};if(b!==cn){c.strokeWidth=b,d=c.crisp(d)}if(a){d.r=a}c.rSetter=function(l,j,k){ab(k,{rx:l,ry:l})};return c.attr(d)},setSize:function(d,f,a){var b=this.alignedObjects,c=b.length;this.width=d;this.height=f;for(this.boxWrapper[cj(a,!0)?"animate":"attr"]({width:d,height:f});c--;){b[c].align()}},g:function(a){var b=this.createElement("g");return cl(a)?b.attr({"class":"highcharts-"+a}):b},image:function(d,f,h,a,b){var c={preserveAspectRatio:"none"};arguments.length>1&&cm(c,{x:f,y:h,width:a,height:b});c=this.createElement("image").attr(c);c.element.setAttributeNS?c.element.setAttributeNS("http://www.w3.org/1999/xlink","href",d):c.element.setAttribute("hc-svg-href",d);return c},symbol:function(n,a,c,d,h,i){var j=this,k,l=this.symbols[n],l=l&&l(cB(a),cB(c),d,h,i),m=/^url\((.*?)\)$/,b,f;if(l){k=this.path(l),cm(k,{symbolName:n,x:a,y:c,width:d,height:h}),i&&cm(k,i)}else{if(m.test(n)){f=function(p,r){p.element&&(p.attr({width:r[0],height:r[1]}),p.alignByTranslate||p.translate(cB((d-r[0])/2),cB((h-r[1])/2)))},b=n.match(m)[1],n=dq[b]||i&&i.width&&i.height&&[i.width,i.height],k=this.image(b).attr({x:a,y:c}),k.isImg=!0,n?f(k,n):(k.attr({width:0,height:0}),cU("img",{onload:function(){this.width===0&&(c5(this,{position:"absolute",top:"-999em"}),cF.body.appendChild(this));f(k,dq[b]=[this.width,this.height]);this.parentNode&&this.parentNode.removeChild(this);j.imgCount--;if(!j.imgCount&&ce[j.chartIndex].onload){ce[j.chartIndex].onload()}},src:b}),this.imgCount++)}}return k},symbols:{circle:function(d,f,a,b){var c=0.166*a;return[a7,d+a/2,f,"C",d+a+c,f,d+a+c,f+b,d+a/2,f+b,"C",d-c,f+b,d-c,f,d+a/2,f,"Z"]},square:function(c,d,a,b){return[a7,c,d,dd,c+a,d,c+a,d+b,c,d+b,"Z"]},triangle:function(c,d,a,b){return[a7,c+a/2,d,dd,c+a,d+b,c,d+b,"Z"]},"triangle-down":function(c,d,a,b){return[a7,c,d,dd,c+a,d,c+a/2,d+b,"Z"]},diamond:function(c,d,a,b){return[a7,c+a/2,d,dd,c+a,d+b/2,c+a/2,d+b,c,d+b/2,"Z"]},arc:function(a,c,d,h,i){var j=i.start,d=i.r||d||h,k=i.end-0.001,h=i.innerR,l=i.open,m=dA(j),b=dy(j),f=dA(k),k=dy(k),i=i.end-j<cI?0:1;return[a7,a+d*m,c+d*b,"A",d,d,0,i,1,a+d*f,c+d*k,l?a7:dd,a+h*f,c+h*k,"A",h,h,0,i,0,a+h*m,c+h*b,l?"":"Z"]},callout:function(b,d,f,h,i){var j=cJ(i&&i.r||0,f,h),k=j+6,a=i&&i.anchorX,i=i&&i.anchorY,c;c=["M",b+j,d,"L",b+f-j,d,"C",b+f,d,b+f,d,b+f,d+j,"L",b+f,d+h-j,"C",b+f,d+h,b+f,d+h,b+f-j,d+h,"L",b+j,d+h,"C",b,d+h,b,d+h,b,d+h-j,"L",b,d+j,"C",b,d,b,d,b+j,d];a&&a>f&&i>d+k&&i<d+h-k?c.splice(13,3,"L",b+f,i-6,b+f+6,i,b+f,i+6,b+f,d+h-j):a&&a<0&&i>d+k&&i<d+h-k?c.splice(33,3,"L",b,i+6,b-6,i,b,i-6,b,d+j):i&&i>h&&a>b+k&&a<b+f-k?c.splice(23,3,"L",a+6,d+h,a,d+h+6,a-6,d+h,b+j,d+h):i&&i<0&&a>b+k&&a<b+f-k&&c.splice(3,3,"L",a-6,d,a,d-6,a+6,d,f-j,d);return c}},clipRect:function(d,f,h,a){var b="highcharts-"+dh++,c=this.createElement("clipPath").attr({id:b}).add(this.defs),d=this.rect(d,f,h,a,0).add(c);d.id=b;d.clipPath=c;d.count=0;return d},text:function(d,f,h,a){var b=cM||!S&&this.forExport,c={};if(a&&(this.allowHTML||!this.forExport)){return this.html(d,f,h)}c.x=Math.round(f||0);if(h){c.y=Math.round(h)}if(d||d===0){c.text=d}d=this.createElement("text").attr(c);b&&d.css({position:"absolute"});if(!a){d.xSetter=function(p,i,j){var k=j.getElementsByTagName("tspan"),l,n=j.getAttribute(i),m;for(m=0;m<k.length;m++){l=k[m],l.getAttribute(i)===n&&l.setAttribute(i,p)}j.setAttribute(i,p)}}return d},fontMetrics:function(c,d){var a,b,c=c||this.style.fontSize;!c&&d&&c0.getComputedStyle&&(d=d.element||d,c=(a=c0.getComputedStyle(d,""))&&a.fontSize);c=/px/.test(c)?cR(c):/em/.test(c)?parseFloat(c)*12:12;a=c<24?c+3:cB(c*1.2);b=cB(a*0.8);return{h:a,b:b,f:c}},rotCorr:function(c,d,a){var b=c;d&&a&&(b=co(b*dA(d*cu),4));return{x:-c/3*dy(d*cu),y:b}},label:function(aj,j,m,p,ak,al,am,a,b){var c=this,d=c.g(b),f=c.text("",0,0,am).attr({zIndex:1}),h,i,k=0,r=3,u=0,l,Z,ah,ad,af=0,ai={},L,n,s,F,ae;s=function(){var ao,an;ao=f.element.style;i=(l===void 0||Z===void 0||d.styles.textAlign)&&cl(f.textStr)&&f.getBBox();d.width=(l||i.width||0)+2*r+u;d.height=(Z||i.height||0)+2*r;L=r+c.fontMetrics(ao&&ao.fontSize,f).b;if(n){if(!h){ao=af,an=(a?-L:0)+af,d.box=h=c.symbols[p]?c.symbol(p,ao,an,d.width,d.height,ai):c.rect(ao,an,d.width,d.height,0,ai["stroke-width"]),h.isImg||h.attr("fill","none"),h.add(d)}h.isImg||h.attr(cm({width:cB(d.width),height:cB(d.height)},ai));ai=null}};F=function(){var ap=d.styles,ap=ap&&ap.textAlign,an=u+r,ao;ao=a?0:L;if(cl(l)&&i&&(ap==="center"||ap==="right")){an+={center:0.5,right:1}[ap]*(l-i.width)}if(an!==f.x||ao!==f.y){f.attr("x",an),ao!==cn&&f.attr("y",ao)}f.x=an;f.y=ao};ae=function(ao,an){h?h.attr(ao,an):ai[ao]=an};d.onAdd=function(){f.add(d);d.attr({text:aj||aj===0?aj:"",x:j,y:m});h&&cl(ak)&&d.attr({anchorX:ak,anchorY:al})};d.widthSetter=function(an){l=an};d.heightSetter=function(an){Z=an};d.paddingSetter=function(an){if(cl(an)&&an!==r){r=d.padding=an,F()}};d.paddingLeftSetter=function(an){cl(an)&&an!==u&&(u=an,F())};d.alignSetter=function(an){an={left:0,center:0.5,right:1}[an];an!==k&&(k=an,i&&d.attr({x:ah}))};d.textSetter=function(an){an!==cn&&f.textSetter(an);s();F()};d["stroke-widthSetter"]=function(ao,an){ao&&(n=!0);af=ao%2/2;ae(an,ao)};d.strokeSetter=d.fillSetter=d.rSetter=function(ao,an){an==="fill"&&ao&&(n=!0);ae(an,ao)};d.anchorXSetter=function(ao,an){ak=ao;ae(an,cB(ao)-af-ah)};d.anchorYSetter=function(ao,an){al=ao;ae(an,ao-ad)};d.xSetter=function(an){d.x=an;k&&(an-=k*((l||i.width)+2*r));ah=cB(an);d.attr("translateX",ah)};d.ySetter=function(an){ad=d.y=cB(an);d.attr("translateY",ad)};var ag=d.css;return cm(d,{css:function(ao){if(ao){var an={},ao=cH(ao);ch(d.textProps,function(ap){ao[ap]!==cn&&(an[ap]=ao[ap],delete ao[ap])});f.css(an)}return ag.call(d,ao)},getBBox:function(){return{width:i.width+2*r,height:i.height+2*r,x:i.x-r,y:i.y-r}},shadow:function(an){h&&h.shadow(an);return d},destroy:function(){a5(d.element,"mouseenter");a5(d.element,"mouseleave");f&&(f=f.destroy());h&&(h=h.destroy());cL.prototype.destroy.call(d);d=c=s=F=ae=null}})}};dH=dr;cm(cL.prototype,{htmlCss:function(a){var b=this.element;if(b=a&&b.tagName==="SPAN"&&a.width){delete a.width,this.textWidth=b,this.updateTransform()}if(a&&a.textOverflow==="ellipsis"){a.whiteSpace="nowrap",a.overflow="hidden"}this.styles=cm(this.styles,a);c5(this.element,a);return this},htmlGetBBox:function(){var a=this.element;if(a.nodeName==="text"){a.style.position="absolute"}return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var m=this.renderer,p=this.element,a=this.translateX||0,c=this.translateY||0,d=this.x||0,h=this.y||0,i=this.textAlign||"left",j={left:0,center:0.5,right:1}[i],k=this.shadows,l=this.styles;c5(p,{marginLeft:a,marginTop:c});k&&ch(k,function(r){c5(r,{marginLeft:a+1,marginTop:c+1})});this.inverted&&ch(p.childNodes,function(r){m.invertChild(r,p)});if(p.tagName==="SPAN"){var k=this.rotation,n=cR(this.textWidth),b=l&&l.whiteSpace,f=[k,i,p.innerHTML,this.textWidth,this.textAlign].join(",");if(f!==this.cTT){l=m.fontMetrics(p.style.fontSize).b;cl(k)&&this.setSpanRotation(k,j,l);c5(p,{width:"",whiteSpace:b||"nowrap"});if(p.offsetWidth>n&&/[ \-]/.test(p.textContent||p.innerText)){c5(p,{width:n+"px",display:"block",whiteSpace:b||"normal"})}this.getSpanCorrection(p.offsetWidth,l,j,k,i)}c5(p,{left:d+(this.xCorr||0)+"px",top:h+(this.yCorr||0)+"px"});if(c6){l=p.offsetHeight}this.cTT=f}}else{this.alignOnAdd=!0}},setSpanRotation:function(d,f,a){var b={},c=B?"-ms-transform":c6?"-webkit-transform":dn?"MozTransform":y?"-o-transform":"";b[c]=b.transform="rotate("+d+"deg)";b[c+(dn?"Origin":"-origin")]=b.transformOrigin=f*100+"% "+a+"px";c5(this.element,b)},getSpanCorrection:function(b,c,a){this.xCorr=-b*a;this.yCorr=-c}});cm(dr.prototype,{html:function(f,i,b){var h=this.createElement("span"),j=h.element,a=h.renderer,c=a.isSVG,d=function(k,l){ch(["opacity","visibility"],function(m){df(k,m+"Setter",function(s,n,p,r){s.call(this,n,p,r);l[p]=n})})};h.textSetter=function(k){k!==j.innerHTML&&delete this.bBox;j.innerHTML=this.textStr=k;h.htmlUpdateTransform()};c&&d(h,h.element.style);h.xSetter=h.ySetter=h.alignSetter=h.rotationSetter=function(k,l){l==="align"&&(l="textAlign");h[l]=k;h.htmlUpdateTransform()};h.attr({text:f,x:cB(i),y:cB(b)}).css({position:"absolute",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});j.style.whiteSpace="nowrap";h.css=h.htmlCss;if(c){h.add=function(m){var n,k=a.box.parentNode,l=[];if(this.parentGroup=m){if(n=m.div,!n){for(;m;){l.push(m),m=m.parentGroup}ch(l.reverse(),function(s){var p,r=ab(s.element,"class");r&&(r={className:r});n=s.div=s.div||cU(x,r,{position:"absolute",left:(s.translateX||0)+"px",top:(s.translateY||0)+"px",opacity:s.opacity},n||k);p=n.style;cm(s,{translateXSetter:function(u,F){p.left=u+"px";s[F]=u;s.doTransform=!0},translateYSetter:function(u,F){p.top=u+"px";s[F]=u;s.doTransform=!0}});d(s,p)})}}else{n=k}n.appendChild(j);h.added=!0;h.alignOnAdd&&h.htmlUpdateTransform();return h}}return h}});var dB,q;if(!S&&!cM){q={init:function(d,f){var a=["<",f,' filled="f" stroked="f"'],b=["position: ","absolute",";"],c=f===x;(f==="shape"||c)&&b.push("left:0;top:0;width:1px;height:1px;");b.push("visibility: ",c?"hidden":"visible");a.push(' style="',b.join(""),'"/>');if(f){a=c||f==="span"||f==="img"?a.join(""):d.prepVML(a),this.element=cU(a)}this.renderer=d},add:function(d){var f=this.renderer,a=this.element,b=f.box,c=d&&d.inverted,b=d?d.element||d:b;if(d){this.parentGroup=d}c&&f.invertChild(a,b);b.appendChild(a);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd){this.onAdd()}return this},updateTransform:cL.prototype.htmlUpdateTransform,setSpanRotation:function(){var b=this.rotation,c=dA(b*cu),a=dy(b*cu);c5(this.element,{filter:b?["progid:DXImageTransform.Microsoft.Matrix(M11=",c,", M12=",-a,", M21=",a,", M22=",c,", sizingMethod='auto expand')"].join(""):"none"})},getSpanCorrection:function(b,d,f,h,i){var j=h?dA(h*cu):1,k=h?dy(h*cu):0,a=cj(this.elemHeight,this.element.offsetHeight),c;this.xCorr=j<0&&-b;this.yCorr=k<0&&-a;c=j*k<0;this.xCorr+=k*d*(c?1-f:f);this.yCorr-=j*d*(h?c?f:1-f:1);i&&i!=="left"&&(this.xCorr-=b*f*(j<0?-1:1),h&&(this.yCorr-=a*f*(k<0?-1:1)),c5(this.element,{textAlign:i}))},pathToVML:function(b){for(var c=b.length,a=[];c--;){if(cr(b[c])){a[c]=cB(b[c]*10)-5}else{if(b[c]==="Z"){a[c]="x"}else{if(a[c]=b[c],b.isArc&&(b[c]==="wa"||b[c]==="at")){a[c+5]===a[c+7]&&(a[c+7]+=b[c+7]>b[c+5]?1:-1),a[c+6]===a[c+8]&&(a[c+8]+=b[c+8]>b[c+6]?1:-1)}}}}return a.join(" ")||"x"},clip:function(b){var c=this,a;b?(a=b.members,dQ(a,c),a.push(c),c.destroyClip=function(){dQ(a,c)},b=b.getCSS(c)):(c.destroyClip&&c.destroyClip(),b={clip:cO?"inherit":"rect(auto)"});return c.css(b)},css:cL.prototype.htmlCss,safeRemoveChild:function(a){a.parentNode&&ci(a)},destroy:function(){this.destroyClip&&this.destroyClip();return cL.prototype.destroy.apply(this)},on:function(a,b){this.element["on"+a]=function(){var c=c0.event;c.target=c.srcElement;b(c)};return this},cutOffPath:function(b,c){var a,b=b.split(/[ ,]/);a=b.length;if(a===9||a===11){b[a-4]=b[a-2]=cR(b[a-2])-10*c}return b.join(" ")},shadow:function(l,n,p){var s=[],a,c=this.element,d=this.renderer,h,i=c.style,j,k=c.path,m,r,b,f;k&&typeof k.value!=="string"&&(k="x");r=k;if(l){b=cj(l.width,3);f=(l.opacity||0.15)/b;for(a=1;a<=3;a++){m=b*2+1-2*a;p&&(r=this.cutOffPath(k.value,m+0.5));j=['<shape isShadow="true" strokeweight="',m,'" filled="false" path="',r,'" coordsize="10 10" style="',c.style.cssText,'" />'];h=cU(d.prepVML(j),null,{left:cR(i.left)+cj(l.offsetX,1),top:cR(i.top)+cj(l.offsetY,1)});if(p){h.cutOff=m+1}j=['<stroke color="',l.color||"black",'" opacity="',f*a,'"/>'];cU(d.prepVML(j),null,null,h);n?n.element.appendChild(h):c.parentNode.insertBefore(h,c);s.push(h)}this.shadows=s}return this},updateShadows:c4,setAttr:function(a,b){cO?this.element[a]=b:this.element.setAttribute(a,b)},classSetter:function(a){this.element.className=a},dashstyleSetter:function(b,c,a){(a.getElementsByTagName("stroke")[0]||cU(this.renderer.prepVML(["<stroke/>"]),null,null,a))[c]=b||"solid";this[c]=b},dSetter:function(c,d,a){var b=this.shadows,c=c||[];this.d=c.join&&c.join(" ");a.path=c=this.pathToVML(c);if(b){for(a=b.length;a--;){b[a].path=b[a].cutOff?this.cutOffPath(c,b[a].cutOff):c}}this.setAttr(d,c)},fillSetter:function(c,d,a){var b=a.nodeName;if(b==="SPAN"){a.style.color=c}else{if(b!=="IMG"){a.filled=c!=="none",this.setAttr("fillcolor",this.renderer.color(c,a,d,this))}}},"fill-opacitySetter":function(b,c,a){cU(this.renderer.prepVML(["<",c.split("-")[0],' opacity="',b,'"/>']),null,null,a)},opacitySetter:c4,rotationSetter:function(b,c,a){a=a.style;this[c]=a[c]=b;a.left=-cB(dy(b*cu)+1)+"px";a.top=cB(dA(b*cu))+"px"},strokeSetter:function(b,c,a){this.setAttr("strokecolor",this.renderer.color(b,a,c,this))},"stroke-widthSetter":function(b,c,a){a.stroked=!!b;this[c]=b;cr(b)&&(b+="px");this.setAttr("strokeweight",b)},titleSetter:function(a,b){this.setAttr(b,a)},visibilitySetter:function(b,c,a){b==="inherit"&&(b="visible");this.shadows&&ch(this.shadows,function(d){d.style[c]=b});a.nodeName==="DIV"&&(b=b==="hidden"?"-999em":0,cO||(a.style[c]=b?"visible":"hidden"),c="top");a.style[c]=b},xSetter:function(b,c,a){this[c]=b;c==="x"?c="left":c==="y"&&(c="top");this.updateClipping?(this[c]=b,this.updateClipping()):a.style[c]=b},zIndexSetter:function(b,c,a){a.style[c]=b}},q["stroke-opacitySetter"]=q["fill-opacitySetter"],cE.VMLElement=q=bb(cL,q),q.prototype.ySetter=q.prototype.widthSetter=q.prototype.heightSetter=q.prototype.xSetter,q={Element:q,isIE8:cQ.indexOf("MSIE 8.0")>-1,init:function(d,f,h,a){var b;this.alignedObjects=[];a=this.createElement(x).css(cm(this.getStyle(a),{position:"relative"}));b=a.element;d.appendChild(a.element);this.isVML=!0;this.box=b;this.boxWrapper=a;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(f,h,!1);if(!cF.namespaces.hcv){cF.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{cF.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(c){cF.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(d,f,h,a){var b=this.createElement(),c=cC(d);return cm(b,{members:[],count:0,left:(c?d.x:d)+1,top:(c?d.y:f)+1,width:(c?d.width:h)-1,height:(c?d.height:a)-1,getCSS:function(i){var m=i.element,j=m.nodeName,i=i.inverted,k=this.top-(j==="shape"?m.offsetTop:0),l=this.left,m=l+this.width,n=k+this.height,k={clip:"rect("+cB(i?l:k)+"px,"+cB(i?n:m)+"px,"+cB(i?m:n)+"px,"+cB(i?k:l)+"px)"};!i&&cO&&j==="DIV"&&cm(k,{width:m+"px",height:n+"px"});return k},updateClipping:function(){ch(b.members,function(i){i.element&&i.css(b.getCSS(i))})}})},color:function(k,m,aj,ak){var al=this,a,b=/^rgba/,c,d,f="none";k&&k.linearGradient?d="gradient":k&&k.radialGradient&&(d="pattern");if(d){var h,i,j=k.linearGradient||k.radialGradient,l,n,s,F,r,Z="",k=k.stops,af,ad=[],u=function(){c=['<fill colors="'+ad.join(",")+'" opacity="',s,'" o:opacity2="',n,'" type="',d,'" ',Z,'focus="100%" method="any" />'];cU(al.prepVML(c),null,null,m)};l=k[0];af=k[k.length-1];l[0]>0&&k.unshift([0,l[1]]);af[0]<1&&k.push([1,af[1]]);ch(k,function(am,an){b.test(am[1])?(a=ac(am[1]),h=a.get("rgb"),i=a.get("a")):(h=am[1],i=1);ad.push(am[0]*100+"% "+h);an?(s=i,F=h):(n=i,r=h)});if(aj==="fill"){if(d==="gradient"){aj=j.x1||j[0]||0,k=j.y1||j[1]||0,l=j.x2||j[2]||0,j=j.y2||j[3]||0,Z='angle="'+(90-dj.atan((j-k)/(l-aj))*180/cI)+'"',u()}else{var f=j.r,ai=f*2,L=f*2,ah=j.cx,ag=j.cy,p=m.radialReference,ae,f=function(){p&&(ae=ak.getBBox(),ah+=(p[0]-ae.x)/ae.width-0.5,ag+=(p[1]-ae.y)/ae.height-0.5,ai*=p[2]/ae.width,L*=p[2]/ae.height);Z='src="'+c8.global.VMLRadialGradientURL+'" size="'+ai+","+L+'" origin="0.5,0.5" position="'+ah+","+ag+'" color2="'+r+'" ';u()};ak.added?f():ak.onAdd=f;f=F}}else{f=h}}else{if(b.test(k)&&m.tagName!=="IMG"){a=ac(k),ak[aj+"-opacitySetter"](a.get("a"),aj,m),f=a.get("rgb")}else{f=m.getElementsByTagName(aj);if(f.length){f[0].opacity=1,f[0].type="solid"}f=k}}return f},prepVML:function(a){var b=this.isIE8,a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=a.indexOf('style="')===-1?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:dr.prototype.html,path:function(a){var b={coordsize:"10 10"};P(a)?b.d=a:cC(a)&&cm(b,a);return this.createElement("shape").attr(b)},circle:function(c,d,a){var b=this.symbol("circle");if(cC(c)){a=c.r,d=c.y,c=c.x}b.isCircle=!0;b.r=a;return b.attr({x:c,y:d})},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement(x).attr(b)},image:function(d,f,h,a,b){var c=this.createElement("img").attr({src:d});arguments.length>1&&c.attr({x:f,y:h,width:a,height:b});return c},createElement:function(a){return a==="rect"?this.symbol(a):dr.prototype.createElement.call(this,a)},invertChild:function(d,f){var a=this,b=f.style,c=d.tagName==="IMG"&&d.style;c5(d,{flip:"x",left:cR(b.width)-(c?cR(c.top):1),top:cR(b.height)-(c?cR(c.left):1),rotation:-90});ch(d.childNodes,function(h){a.invertChild(h,d)})},symbols:{arc:function(a,c,d,h,i){var j=i.start,k=i.end,l=i.r||d||h,d=i.innerR,h=dA(j),m=dy(j),b=dA(k),f=dy(k);if(k-j===0){return["x"]}j=["wa",a-l,c-l,a+l,c+l,a+l*h,c+l*m,a+l*b,c+l*f];i.open&&!d&&j.push("e",a7,a,c);j.push("at",a-d,c-d,a+d,c+d,a+d*b,c+d*f,a+d*h,c+d*m,"x","e");j.isArc=!0;return j},circle:function(d,f,a,b,c){c&&(a=b=2*c.r);c&&c.isCircle&&(d-=a/2,f-=b/2);return["wa",d,f,d+a,f+b,d+a,f+b/2,d+a,f+b/2,"e"]},rect:function(d,f,a,b,c){return dr.prototype.symbols[!cl(c)||!c.r?"square":"callout"].call(0,d,f,a,b,c)}}},cE.VMLRenderer=dB=function(){this.init.apply(this,arguments)},dB.prototype=cH(dr.prototype,q),dH=dB}dr.prototype.measureSpanWidth=function(c,d){var a=cF.createElement("span"),b;b=cF.createTextNode(c);a.appendChild(b);c5(a,d);this.box.appendChild(a);b=a.offsetWidth;ci(a);return b};var dI;if(cM){cE.CanVGRenderer=q=function(){O="http://www.w3.org/1999/xhtml"},q.prototype.symbols={},dI=function(){function a(){var d=b.length,c;for(c=0;c<d;c++){b[c]()}b=[]}var b=[];return{push:function(h,c){if(b.length===0){var d=cF.getElementsByTagName("head")[0],f=cF.createElement("script");f.type="text/javascript";f.src=c;f.onload=a;d.appendChild(f)}b.push(h)}}}(),dH=q}dk.prototype={addLabel:function(){var a=this.axis,c=a.options,d=a.chart,h=a.categories,i=a.names,j=this.pos,k=c.labels,l=a.tickPositions,m=j===l[0],b=j===l[l.length-1],i=h?cj(h[j],i[j],j):j,h=this.label,l=l.info,f;a.isDatetimeAxis&&l&&(f=c.dateTimeLabelFormats[l.higherRanks[j]||l.unitName]);this.isFirst=m;this.isLast=b;c=a.labelFormatter.call({axis:a,chart:d,isFirst:m,isLast:b,dateTimeLabelFormat:f,value:a.isLog?a6(a.lin2log(i)):i});cl(h)?h&&h.attr({text:c}):(this.labelLength=(this.label=h=cl(c)&&k.enabled?d.renderer.text(c,0,0,k.useHTML).css(cH(k.style)).add(a.labelGroup):null)&&h.getBBox().width,this.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(l){var n=this.axis,p=l.x,s=n.chart.chartWidth,a=n.chart.spacing,c=cj(n.labelLeft,cJ(n.pos,a[3])),a=cj(n.labelRight,co(n.pos+n.len,s-a[1])),d=this.label,h=this.rotation,i={left:0,center:0.5,right:1}[n.labelAlign],j=d.getBBox().width,k=n.getSlotWidth(),m=k,r=1,b,f={};if(h){h<0&&p-i*j<c?b=cB(p/dA(h*cu)-c):h>0&&p+i*j>a&&(b=cB((s-p)/dA(h*cu)))}else{if(s=p+(1-i)*j,p-i*j<c?m=l.x+m*(1-i)-c:s>a&&(m=a-l.x+m*i,r=-1),m=cJ(k,m),m<k&&n.labelAlign==="center"&&(l.x+=r*(k-m-i*(k-cJ(j,m)))),j>m||n.autoRotation&&d.styles.width){b=m}}if(b){f.width=b;if(!n.options.labels.style.textOverflow){f.textOverflow="ellipsis"}d.css(f)}},getPosition:function(d,h,f,i){var a=this.axis,b=a.chart,c=i&&b.oldChartHeight||b.chartHeight;return{x:d?a.translate(h+f,null,null,i)+a.transB:a.left+a.offset+(a.opposite?(i&&b.oldChartWidth||b.chartWidth)-a.right-a.left:0),y:d?c-a.bottom+a.offset-(a.opposite?a.height:0):c-a.translate(h+f,null,null,i)-a.transB}},getLabelPosition:function(m,n,r,a,c,d,h,i){var j=this.axis,k=j.transA,l=j.reversed,p=j.staggerLines,b=j.tickRotCorr||{x:0,y:0},f=c.y;cl(f)||(f=j.side===0?r.rotation?-8:-r.getBBox().height:j.side===2?b.y+8:dA(r.rotation*cu)*(b.y-r.getBBox(!1,0).height/2));m=m+c.x+b.x-(d&&a?d*k*(l?-1:1):0);n=n+f-(d&&!a?d*k*(l?1:-1):0);p&&(r=h/(i||1)%p,j.opposite&&(r=p-r-1),n+=r*(j.labelOffset/p));return{x:m,y:cB(n)}},getMarkPath:function(d,f,h,a,b,c){return c.crispLine([a7,d,f,dd,d+(b?0:-h),f+(b?h:0)],a)},render:function(a,b,c){var d=this.axis,f=d.options,h=d.chart.renderer,i=d.horiz,j=this.type,k=this.label,l=this.pos,n=f.labels,s=this.gridLine,u=j?j+"Grid":"grid",L=j?j+"Tick":"tick",ad=f[u+"LineWidth"],ae=f[u+"LineColor"],ag=f[u+"LineDashStyle"],u=d.tickSize(L),L=f[L+"Color"],Z=this.mark,m=n.step,r=!0,p=d.tickmarkOffset,F=this.getPosition(i,l,p,b),af=F.x,F=F.y,ah=i&&af===d.pos+d.len||!i&&F===d.pos?-1:1,c=cj(c,1);this.isActive=!0;if(ad){l=d.getPlotLinePath(l+p,ad*ah,b,!0);if(s===cn){s={stroke:ae,"stroke-width":ad};if(ag){s.dashstyle=ag}if(!j){s.zIndex=1}if(b){s.opacity=0}this.gridLine=s=ad?h.path(l).attr(s).add(d.gridGroup):null}if(!b&&s&&l){s[this.isNew?"attr":"animate"]({d:l,opacity:c})}}if(u){d.opposite&&(u[0]=-u[0]),j=this.getMarkPath(af,F,u[0],u[1]*ah,i,h),Z?Z.animate({d:j,opacity:c}):this.mark=h.path(j).attr({stroke:L,"stroke-width":u[1],opacity:c}).add(d.axisGroup)}if(k&&cr(af)){k.xy=F=this.getLabelPosition(af,F,k,i,n,p,a,m),this.isFirst&&!this.isLast&&!cj(f.showFirstLabel,1)||this.isLast&&!this.isFirst&&!cj(f.showLastLabel,1)?r=!1:i&&!d.isRadial&&!n.step&&!n.rotation&&!b&&c!==0&&this.handleOverflow(F),m&&a%m&&(r=!1),r&&cr(F.y)?(F.opacity=c,k[this.isNew?"attr":"animate"](F)):(c9(k),k.attr("y",-9999)),this.isNew=!1}},destroy:function(){cy(this,this.axis)}};cE.PlotLineOrBand=function(a,b){this.axis=a;if(b){this.options=b,this.id=b.id}};cE.PlotLineOrBand.prototype={render:function(){var a=this,b=a.axis,c=b.horiz,d=a.options,f=d.label,i=a.label,k=d.width,m=d.to,n=d.from,s=cl(n)&&cl(m),u=d.value,F=d.dashStyle,Z=a.svgElem,ad=[],j,l=d.color,p=cj(d.zIndex,0),h=d.events,r={},L=b.chart.renderer,ad=b.log2lin;b.isLog&&(n=ad(n),m=ad(m),u=ad(u));if(k){if(ad=b.getPlotLinePath(u,k),r={stroke:l,"stroke-width":k},F){r.dashstyle=F}}else{if(s){ad=b.getPlotBandPath(n,m,d);if(l){r.fill=l}if(d.borderWidth){r.stroke=d.borderColor,r["stroke-width"]=d.borderWidth}}else{return}}r.zIndex=p;if(Z){if(ad){Z.show(),Z.animate({d:ad})}else{if(Z.hide(),i){a.label=i=i.destroy()}}}else{if(ad&&ad.length&&(a.svgElem=Z=L.path(ad).attr(r).add(),h)){for(j in d=function(ae){Z.on(ae,function(af){h[ae].apply(a,[af])})},h){d(j)}}}f&&cl(f.text)&&ad&&ad.length&&b.width>0&&b.height>0&&!ad.flat?(f=cH({align:c&&s&&"center",x:c?!s&&4:10,verticalAlign:!c&&s&&"middle",y:c?s?16:10:s?6:-4,rotation:c&&!s&&90},f),this.renderLabel(f,ad,s,p)):i&&i.hide();return a},renderLabel:function(d,f,h,a){var b=this.label,c=this.axis.chart.renderer;if(!b){b={align:d.textAlign||d.align,rotation:d.rotation},b.zIndex=a,this.label=b=c.text(d.text,0,0,d.useHTML).attr(b).css(d.style).add()}a=[f[1],f[4],h?f[6]:f[1]];f=[f[2],f[5],h?f[7]:f[2]];h=dL(a);c=dL(f);b.align(d,!1,{x:h,y:c,width:V(a)-h,height:V(f)-c});b.show()},destroy:function(){dQ(this.axis.plotLinesAndBands,this);delete this.axis;cy(this)}};var cX=cE.Axis=function(){this.init.apply(this,arguments)};cX.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#D8D8D8",labels:{enabled:!0,style:{color:"#606060",cursor:"default",fontSize:"11px"},x:0},lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return cE.numberFormat(this.total,-1)},style:cH(a8.line.dataLabels.style,{color:"#000000"})}},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(d,f){var h=f.isX;this.chart=d;this.horiz=d.inverted?!h:h;this.coll=(this.isXAxis=h)?"xAxis":"yAxis";this.opposite=f.opposite;this.side=f.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(f);var a=this.options,b=a.type;this.labelFormatter=a.labels.formatter||this.defaultLabelFormatter;this.userOptions=f;this.minPixelPadding=0;this.reversed=a.reversed;this.visible=a.visible!==!1;this.zoomEnabled=a.zoomEnabled!==!1;this.categories=a.categories||b==="category";this.names=this.names||[];this.isLog=b==="logarithmic";this.isDatetimeAxis=b==="datetime";this.isLinked=cl(a.linkedTo);this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=a.minRange||a.maxZoom;this.range=a.range;this.offset=a.offset||0;this.stacks={};this.oldStacks={};this.stacksTouched=0;this.min=this.max=null;this.crosshair=cj(a.crosshair,dJ(d.options.tooltip.crosshairs)[h?0:1],!1);var c,a=this.options.events;z(this,d.axes)===-1&&(h&&!this.isColorAxis?d.axes.splice(d.xAxis.length,0,this):d.axes.push(this),d[this.coll].push(this));this.series=this.series||[];if(d.inverted&&h&&this.reversed===cn){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(c in a){cN(this,c,a[c])}if(this.isLog){this.val2lin=this.log2lin,this.lin2val=this.lin2log}},setOptions:function(a){this.options=cH(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],cH(c8[this.coll],a))},defaultLabelFormatter:function(){var f=this.axis,i=this.value,b=f.categories,h=this.dateTimeLabelFormat,j=c8.lang.numericSymbols,a=j&&j.length,c,d=f.options.labels.format,f=f.isLog?i:f.tickInterval;if(d){c=dw(d,this)}else{if(b){c=i}else{if(h){c=cq(h,i)}else{if(a&&f>=1000){for(;a--&&c===cn;){b=Math.pow(1000,a+1),f>=b&&i*10%b===0&&j[a]!==null&&i!==0&&(c=cE.numberFormat(i/b,-1)+j[a])}}}}}c===cn&&(c=dg(i)>=10000?cE.numberFormat(i,-1):cE.numberFormat(i,-1,cn,""));return c},getSeriesExtremes:function(){var a=this,b=a.chart;a.hasVisibleSeries=!1;a.dataMin=a.dataMax=a.threshold=null;a.softThreshold=!a.isXAxis;a.buildStacks&&a.buildStacks();ch(a.series,function(h){if(h.visible||!b.options.chart.ignoreHiddenSeries){var c=h.options,d=c.threshold,f;a.hasVisibleSeries=!0;a.isLog&&d<=0&&(d=null);if(a.isXAxis){if(c=h.xData,c.length){h=dL(c),!cr(h)&&!(h instanceof di)&&(c=W(c,function(i){return cr(i)}),h=dL(c)),a.dataMin=cJ(cj(a.dataMin,c[0]),h),a.dataMax=co(cj(a.dataMax,c[0]),V(c))}}else{h.getExtremes();f=h.dataMax;h=h.dataMin;if(cl(h)&&cl(f)){a.dataMin=cJ(cj(a.dataMin,h),h),a.dataMax=co(cj(a.dataMax,f),f)}if(cl(d)){a.threshold=d}if(!c.softThreshold||a.isLog){a.softThreshold=!1}}}})},translate:function(a,c,d,h,i,j){var k=this.linkedParent||this,l=1,m=0,b=h?k.oldTransA:k.transA,h=h?k.oldMin:k.min,f=k.minPixelPadding,i=(k.isOrdinal||k.isBroken||k.isLog&&i)&&k.lin2val;if(!b){b=k.transA}if(d){l*=-1,m=k.len}k.reversed&&(l*=-1,m-=l*(k.sector||k.len));c?(a=a*l+m,a-=f,a=a/b+h,i&&(a=k.lin2val(a))):(i&&(a=k.val2lin(a)),j==="between"&&(j=0.5),a=l*(a-h)*b+m+l*f+(cr(j)?b*j*k.pointRange:0));return a},toPixels:function(a,b){return this.translate(a,!1,!this.horiz,null,!0)+(b?0:this.pos)},toValue:function(a,b){return this.translate(a-(b?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(m,n,r,a,c){var d=this.chart,h=this.left,i=this.top,j,k,l=r&&d.oldChartHeight||d.chartHeight,p=r&&d.oldChartWidth||d.chartWidth,b;j=this.transB;var f=function(s,u,F){if(s<u||s>F){a?s=cJ(co(u,s),F):b=!0}return s},c=cj(c,this.translate(m,null,null,r)),m=r=cB(c+j);j=k=cB(l-c-j);cr(c)?this.horiz?(j=i,k=l-this.bottom,m=r=f(m,h,h+this.width)):(m=h,r=p-this.right,j=k=f(j,i,i+this.height)):b=!0;return b&&!a?null:d.renderer.crispLine([a7,m,j,dd,r,k],n||1)},getLinearTickPositions:function(d,h,f){var i,a=a6(ba(h/d)*d),b=a6(D(f/d)*d),c=[];if(h===f&&cr(h)){return[h]}for(h=a;h<=b;){c.push(h);h=a6(h+d);if(h===i){break}i=h}return c},getMinorTickPositions:function(){var d=this.options,h=this.tickPositions,f=this.minorTickInterval,i=[],a,b=this.pointRangePadding||0;a=this.min-b;var b=this.max+b,c=b-a;if(c&&c/f<this.len/3){if(this.isLog){b=h.length;for(a=1;a<b;a++){i=i.concat(this.getLogTickPositions(f,h[a-1],h[a],!0))}}else{if(this.isDatetimeAxis&&d.minorTickInterval==="auto"){i=i.concat(this.getTimeTicks(this.normalizeTimeTickInterval(f),a,b,d.startOfWeek))}else{for(h=a+(h[0]-a)%f;h<=b;h+=f){i.push(h)}}}}i.length!==0&&this.trimTicks(i,d.startOnTick,d.endOnTick);return i},adjustForMinRange:function(){var a=this.options,c=this.min,d=this.max,h,i=this.dataMax-this.dataMin>=this.minRange,j,k,l,m,b,f;if(this.isXAxis&&this.minRange===cn&&!this.isLog){cl(a.min)||cl(a.max)?this.minRange=null:(ch(this.series,function(n){m=n.xData;for(k=b=n.xIncrement?1:m.length-1;k>0;k--){if(l=m[k]-m[k-1],j===cn||l<j){j=l}}}),this.minRange=cJ(j*5,this.dataMax-this.dataMin))}if(d-c<this.minRange){f=this.minRange;h=(f-d+c)/2;h=[c-h,cj(a.min,c-h)];if(i){h[2]=this.dataMin}c=V(h);d=[c+f,cj(a.max,c+f)];if(i){d[2]=this.dataMax}d=dL(d);d-c<f&&(h[0]=d-f,h[1]=cj(a.min,d-f),c=V(h))}this.min=c;this.max=d},getClosest:function(){var a;this.categories?a=1:ch(this.series,function(c){var b=c.closestPointRange;!c.noSharedTooltip&&cl(b)&&(a=cl(a)?cJ(a,b):b)});return a},setAxisTranslation:function(a){var c=this,d=c.max-c.min,h=c.axisPointRange||0,i,j=0,k=0,l=c.linkedParent,m=!!c.categories,b=c.transA,f=c.isXAxis;if(f||m||h){if(l?(j=l.minPointOffset,k=l.pointRangePadding):(i=c.getClosest(),ch(c.series,function(p){var n=m?1:f?cj(p.options.pointRange,i,0):c.axisPointRange||0,p=p.options.pointPlacement;h=co(h,n);c.single||(j=co(j,ct(p)?0:n/2),k=co(k,p==="on"?0:n))})),l=c.ordinalSlope&&i?c.ordinalSlope/i:1,c.minPointOffset=j*=l,c.pointRangePadding=k*=l,c.pointRange=cJ(h,d),f){c.closestPointRange=i}}if(a){c.oldTransA=b}c.translationSlope=c.transA=b=c.len/(d+k||1);c.transB=c.horiz?c.left:c.bottom;c.minPixelPadding=b*j},minFromRange:function(){return this.max-this.range},setTickInterval:function(a){var b=this,c=b.chart,d=b.options,f=b.isLog,j=b.log2lin,l=b.isDatetimeAxis,m=b.isXAxis,r=b.isLinked,s=d.maxPadding,u=d.minPadding,L=d.tickInterval,Z=d.tickPixelInterval,h=b.categories,i=b.threshold,k=b.softThreshold,n,ad,p,F;!l&&!h&&!r&&this.getTickAmount();p=cj(b.userMin,d.min);F=cj(b.userMax,d.max);r?(b.linkedParent=c[b.coll][d.linkedTo],c=b.linkedParent.getExtremes(),b.min=cj(c.min,c.dataMin),b.max=cj(c.max,c.dataMax),d.type!==b.linkedParent.options.type&&bc(11,1)):(!k&&cl(i)&&(b.dataMin>=i?(n=i,u=0):b.dataMax<=i&&(ad=i,s=0)),b.min=cj(p,n,b.dataMin),b.max=cj(F,ad,b.dataMax));if(f){!a&&cJ(b.min,cj(b.dataMin,b.min))<=0&&bc(10,1),b.min=a6(j(b.min),15),b.max=a6(j(b.max),15)}if(b.range&&cl(b.max)){b.userMin=b.min=p=co(b.min,b.minFromRange()),b.userMax=F=b.max,b.range=null}cY(b,"foundExtremes");b.beforePadding&&b.beforePadding();b.adjustForMinRange();if(!h&&!b.axisPointRange&&!b.usePercentage&&!r&&cl(b.min)&&cl(b.max)&&(j=b.max-b.min)){!cl(p)&&u&&(b.min-=j*u),!cl(F)&&s&&(b.max+=j*s)}if(cr(d.floor)){b.min=co(b.min,d.floor)}if(cr(d.ceiling)){b.max=cJ(b.max,d.ceiling)}if(k&&cl(b.dataMin)){if(i=i||0,!cl(p)&&b.min<i&&b.dataMin>=i){b.min=i}else{if(!cl(F)&&b.max>i&&b.dataMax<=i){b.max=i}}}b.tickInterval=b.min===b.max||b.min===void 0||b.max===void 0?1:r&&!L&&Z===b.linkedParent.options.tickPixelInterval?L=b.linkedParent.tickInterval:cj(L,this.tickAmount?(b.max-b.min)/co(this.tickAmount-1,1):void 0,h?1:(b.max-b.min)*Z/co(b.len,Z));m&&!a&&ch(b.series,function(ae){ae.processData(b.min!==b.oldMin||b.max!==b.oldMax)});b.setAxisTranslation(!0);b.beforeSetTickPositions&&b.beforeSetTickPositions();if(b.postProcessTickInterval){b.tickInterval=b.postProcessTickInterval(b.tickInterval)}if(b.pointRange&&!L){b.tickInterval=co(b.pointRange,b.tickInterval)}a=cj(d.minTickInterval,b.isDatetimeAxis&&b.closestPointRange);if(!L&&b.tickInterval<a){b.tickInterval=a}if(!l&&!f&&!L){b.tickInterval=c3(b.tickInterval,null,cK(b.tickInterval),cj(d.allowDecimals,!(b.tickInterval>0.5&&b.tickInterval<5&&b.max>1000&&b.max<9999)),!!this.tickAmount)}if(!this.tickAmount&&this.len){b.tickInterval=b.unsquish()}this.setTickPositions()},setTickPositions:function(){var d=this.options,h,f=d.tickPositions,i=d.tickPositioner,a=d.startOnTick,b=d.endOnTick,c;this.tickmarkOffset=this.categories&&d.tickmarkPlacement==="between"&&this.tickInterval===1?0.5:0;this.minorTickInterval=d.minorTickInterval==="auto"&&this.tickInterval?this.tickInterval/5:d.minorTickInterval;this.tickPositions=h=f&&f.slice();if(!h&&(h=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,d.units),this.min,this.max,d.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),h.length>this.len&&(h=[h[0],h.pop()]),this.tickPositions=h,i&&(i=i.apply(this,[this.min,this.max])))){this.tickPositions=h=i}if(!this.isLinked){this.trimTicks(h,a,b),this.min===this.max&&cl(this.min)&&!this.tickAmount&&(c=!0,this.min-=0.5,this.max+=0.5),this.single=c,!f&&!i&&this.adjustTickAmount()}},trimTicks:function(d,f,h){var a=d[0],b=d[d.length-1],c=this.minPointOffset||0;if(f){this.min=a}else{for(;this.min-c>d[0];){d.shift()}}if(h){this.max=b}else{for(;this.max+c<d[d.length-1];){d.pop()}}d.length===0&&cl(a)&&d.push((b+a)/2)},alignToOthers:function(){var b={},c,a=this.options;this.chart.options.chart.alignTicks!==!1&&a.alignTicks!==!1&&ch(this.chart[this.coll],function(d){var f=d.options,f=[d.horiz?f.left:f.top,f.width,f.height,f.pane].join(",");d.series.length&&(b[f]?c=!0:b[f]=1)});return c},getTickAmount:function(){var b=this.options,c=b.tickAmount,a=b.tickPixelInterval;!cl(b.tickInterval)&&this.len<a&&!this.isRadial&&!this.isLog&&b.startOnTick&&b.endOnTick&&(c=2);!c&&this.alignToOthers()&&(c=D(this.len/a)+1);if(c<4){this.finalTickAmt=c,c=5}this.tickAmount=c},adjustTickAmount:function(){var d=this.tickInterval,f=this.tickPositions,a=this.tickAmount,b=this.finalTickAmt,c=f&&f.length;if(c<a){for(;f.length<a;){f.push(a6(f[f.length-1]+d))}this.transA*=(c-1)/(a-1);this.max=f[f.length-1]}else{c>a&&(this.tickInterval*=2,this.setTickPositions())}if(cl(b)){for(d=a=f.length;d--;){(b===3&&d%2===1||b<=2&&d>0&&d<a-1)&&f.splice(d,1)}this.finalTickAmt=cn}},setScale:function(){var a,b;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();b=this.len!==this.oldAxisLength;ch(this.series,function(c){if(c.isDirtyData||c.isDirty||c.xAxis.isDirty){a=!0}});if(b||a||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()){if(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty){this.isDirty=b||this.min!==this.oldMin||this.max!==this.oldMax}}else{this.cleanStacks&&this.cleanStacks()}},setExtremes:function(d,h,f,i,a){var b=this,c=b.chart,f=cj(f,!0);ch(b.series,function(j){delete j.kdTree});a=cm(a,{min:d,max:h});cY(b,"setExtremes",a,function(){b.userMin=d;b.userMax=h;b.eventArgs=a;f&&c.redraw(i)})},zoom:function(d,f){var h=this.dataMin,a=this.dataMax,b=this.options,c=cJ(h,cj(b.min,h)),b=co(a,cj(b.max,a));this.allowZoomOutside||(cl(h)&&d<=c&&(d=c),cl(a)&&f>=b&&(f=b));this.displayBtn=d!==cn||f!==cn;this.setExtremes(d,f,!1,cn,{trigger:"zoom"});return !0},setAxisSize:function(){var d=this.chart,h=this.options,f=h.offsetLeft||0,i=this.horiz,a=cj(h.width,d.plotWidth-f+(h.offsetRight||0)),b=cj(h.height,d.plotHeight),c=cj(h.top,d.plotTop),h=cj(h.left,d.plotLeft+f),f=/%$/;f.test(b)&&(b=Math.round(parseFloat(b)/100*d.plotHeight));f.test(c)&&(c=Math.round(parseFloat(c)/100*d.plotHeight+d.plotTop));this.left=h;this.top=c;this.width=a;this.height=b;this.bottom=d.chartHeight-b-c;this.right=d.chartWidth-a-h;this.len=co(i?a:b,0);this.pos=i?h:c},getExtremes:function(){var a=this.isLog,b=this.lin2log;return{min:a?a6(b(this.min)):this.min,max:a?a6(b(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(c){var d=this.isLog,a=this.lin2log,b=d?a(this.min):this.min,d=d?a(this.max):this.max;c===null?c=b:b>c?c=b:d<c&&(c=d);return this.translate(c,0,1,0,1)},autoLabelAlign:function(a){a=(cj(a,0)-this.side*90+720)%360;return a>15&&a<165?"right":a>195&&a<345?"left":"center"},tickSize:function(c){var d=this.options,a=d[c+"Length"],b=cj(d[c+"Width"],c==="tick"&&this.isXAxis?1:0);if(b&&a){return d[c+"Position"]==="inside"&&(a=-a),[a,b]}},labelMetrics:function(){return this.chart.renderer.fontMetrics(this.options.labels.style.fontSize,this.ticks[0]&&this.ticks[0].label)},unsquish:function(){var n=this.options.labels,a=this.horiz,c=this.tickInterval,d=c,h=this.len/(((this.categories?1:0)+this.max-this.min)/c),i,j=n.rotation,k=this.labelMetrics(),l,m=Number.MAX_VALUE,b,f=function(p){p/=h||1;p=p>1?D(p):1;return p*c};a?(b=!n.staggerLines&&!n.step&&(cl(j)?[j]:h<cj(n.autoRotationLimit,80)&&n.autoRotation))&&ch(b,function(p){var r;if(p===j||p&&p>=-90&&p<=90){l=f(dg(k.h/dy(cu*p))),r=l+dg(p/360),r<m&&(m=r,i=p,d=l)}}):n.step||(d=f(k.h));this.autoRotation=b;this.labelRotation=cj(i,j);return d},getSlotWidth:function(){var d=this.chart,f=this.horiz,a=this.options.labels,b=Math.max(this.tickPositions.length-(this.categories?0:1),1),c=d.margin[3];return f&&(a.step||0)<2&&!a.rotation&&(this.staggerLines||1)*d.plotWidth/b||!f&&(c&&c-d.spacing[3]||d.chartWidth*0.33)},renderUnsquish:function(){var l=this.chart,n=l.renderer,p=this.tickPositions,s=this.ticks,a=this.options.labels,c=this.horiz,d=this.getSlotWidth(),h=co(1,cB(d-2*(a.padding||5))),i={},j=this.labelMetrics(),k=a.style.textOverflow,m,r=0,b,f;if(!ct(a.rotation)){i.rotation=a.rotation||0}if(this.autoRotation){ch(p,function(u){if((u=s[u])&&u.labelLength>r){r=u.labelLength}}),r>h&&r>j.h?i.rotation=this.labelRotation:this.labelRotation=0}else{if(d&&(m={width:h+"px"},!k)){m.textOverflow="clip";for(b=p.length;!c&&b--;){if(f=p[b],h=s[f].label){if(h.styles.textOverflow==="ellipsis"?h.css({textOverflow:"clip"}):s[f].labelLength>d&&h.css({width:d+"px"}),h.getBBox().height>this.len/p.length-(j.h-j.f)){h.specCss={textOverflow:"ellipsis"}}}}}}if(i.rotation&&(m={width:(r>l.chartHeight*0.5?l.chartHeight*0.33:l.chartHeight)+"px"},!k)){m.textOverflow="ellipsis"}if(this.labelAlign=a.align||this.autoLabelAlign(this.labelRotation)){i.align=this.labelAlign}ch(p,function(F){var u=(F=s[F])&&F.label;if(u){u.attr(i),m&&u.css(cH(m,u.specCss)),delete u.specCss,F.rotation=i.rotation}});this.tickRotCorr=n.rotCorr(j.b,this.labelRotation||0,this.side!==0)},hasData:function(){return this.hasVisibleSeries||cl(this.min)&&cl(this.max)&&!!this.tickPositions},getOffset:function(){var a=this,b=a.chart,c=b.renderer,d=a.options,f=a.tickPositions,h=a.ticks,i=a.horiz,j=a.side,n=b.inverted?[1,0,3,2][j]:j,p,s,F=0,L,Z=0,ae=d.title,af=d.labels,k=0,ag=a.opposite,l=b.axisOffset,b=b.clipOffset,r=[-1,1,1,-1][j],m,u=a.axisParent,ad=this.tickSize("tick");p=a.hasData();a.showAxis=s=p||cj(d.showEmpty,!0);a.staggerLines=a.horiz&&af.staggerLines;if(!a.axisGroup){a.gridGroup=c.g("grid").attr({zIndex:d.gridZIndex||1}).add(u),a.axisGroup=c.g("axis").attr({zIndex:d.zIndex||2}).add(u),a.labelGroup=c.g("axis-labels").attr({zIndex:af.zIndex||7}).addClass("highcharts-"+a.coll.toLowerCase()+"-labels").add(u)}if(p||a.isLinked){if(ch(f,function(ah){h[ah]?h[ah].addLabel():h[ah]=new dk(a,ah)}),a.renderUnsquish(),af.reserveSpace!==!1&&(j===0||j===2||{1:"left",3:"right"}[j]===a.labelAlign||a.labelAlign==="center")&&ch(f,function(ah){k=co(h[ah].getLabelSize(),k)}),a.staggerLines){k*=a.staggerLines,a.labelOffset=k*(a.opposite?-1:1)}}else{for(m in h){h[m].destroy(),delete h[m]}}if(ae&&ae.text&&ae.enabled!==!1){if(!a.axisTitle){(m=ae.textAlign)||(m=(i?{low:"left",middle:"center",high:"right"}:{low:ag?"right":"left",middle:"center",high:ag?"left":"right"})[ae.align]),a.axisTitle=c.text(ae.text,0,0,ae.useHTML).attr({zIndex:7,rotation:ae.rotation||0,align:m}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(ae.style).add(a.axisGroup),a.axisTitle.isNew=!0}if(s){F=a.axisTitle.getBBox()[i?"height":"width"],L=ae.offset,Z=cl(L)?0:cj(ae.margin,i?5:10)}a.axisTitle[s?"show":"hide"](!0)}a.offset=r*cj(d.offset,l[j]);a.tickRotCorr=a.tickRotCorr||{x:0,y:0};c=j===0?-a.labelMetrics().h:j===2?a.tickRotCorr.y:0;Z=Math.abs(k)+Z;k&&(Z-=c,Z+=r*(i?cj(af.y,a.tickRotCorr.y+r*8):af.x));a.axisTitleMargin=cj(L,Z);l[j]=co(l[j],a.axisTitleMargin+F+r*a.offset,Z,p&&f.length&&ad?ad[0]:0);d=d.offset?0:ba(d.lineWidth/2)*2;b[n]=co(b[n],d)},getLinePath:function(d){var f=this.chart,h=this.opposite,a=this.offset,b=this.horiz,c=this.left+(h?this.width:0)+a,a=f.chartHeight-this.bottom-(h?this.height:0)+a;h&&(d*=-1);return f.renderer.crispLine([a7,b?this.left:c,b?a:this.top,dd,b?f.chartWidth-this.right:c,b?a:f.chartHeight-this.bottom],d)},getTitlePosition:function(){var a=this.horiz,c=this.left,d=this.top,h=this.len,i=this.options.title,j=a?c:d,k=this.opposite,l=this.offset,m=i.x||0,b=i.y||0,f=this.chart.renderer.fontMetrics(i.style.fontSize).f,h={low:j+(a?0:h),middle:j+h/2,high:j+(a?h:0)}[i.align],c=(a?d+this.height:c)+(a?1:-1)*(k?-1:1)*this.axisTitleMargin+(this.side===2?f:0);return{x:a?h+m:c+(k?this.width:0)+l+m,y:a?c+b-(k?this.height:0)+l:h+b}},render:function(){var a=this,b=a.chart,c=b.renderer,d=a.options,f=a.isLog,h=a.lin2log,i=a.isLinked,j=a.tickPositions,n=a.axisTitle,p=a.ticks,s=a.minorTicks,F=a.alternateBands,L=d.stackLabels,Z=d.alternateGridColor,ad=a.tickmarkOffset,k=d.lineWidth,l,ae=b.hasRendered&&cr(a.oldMin),m=a.showAxis,u=cW(c.globalAnimation),r,af;a.labelEdge.length=0;a.overlap=!1;ch([p,s,F],function(ag){for(var ah in ag){ag[ah].isActive=!1}});if(a.hasData()||i){a.minorTickInterval&&!a.categories&&ch(a.getMinorTickPositions(),function(ag){s[ag]||(s[ag]=new dk(a,ag,"minor"));ae&&s[ag].isNew&&s[ag].render(null,!0);s[ag].render(null,!1,1)});if(j.length&&(ch(j,function(ah,ag){if(!i||ah>=a.min&&ah<=a.max){p[ah]||(p[ah]=new dk(a,ah)),ae&&p[ah].isNew&&p[ah].render(ag,!0,0.1),p[ah].render(ag)}}),ad&&(a.min===0||a.single))){p[-1]||(p[-1]=new dk(a,-1,null,!0)),p[-1].render(-1)}Z&&ch(j,function(ag,ah){af=j[ah+1]!==cn?j[ah+1]+ad:a.max-ad;if(ah%2===0&&ag<a.max&&af<=a.max+(b.polar?-ad:ad)){F[ag]||(F[ag]=new cE.PlotLineOrBand(a)),r=ag+ad,F[ag].options={from:f?h(r):r,to:f?h(af):af,color:Z},F[ag].render(),F[ag].isActive=!0}});if(!a._addedPlotLB){ch((d.plotLines||[]).concat(d.plotBands||[]),function(ag){a.addPlotBandOrLine(ag)}),a._addedPlotLB=!0}}ch([p,s,F],function(ak){var ag,ah,ai=[],aj=u.duration;for(ag in ak){if(!ak[ag].isActive){ak[ag].render(ag,!1,0),ak[ag].isActive=!1,ai.push(ag)}}cP(function(){for(ah=ai.length;ah--;){ak[ai[ah]]&&!ak[ai[ah]].isActive&&(ak[ai[ah]].destroy(),delete ak[ai[ah]])}},ak===F||!b.hasRendered||!aj?0:aj)});if(k){l=a.getLinePath(k),a.axisLine?a.axisLine.animate({d:l}):a.axisLine=c.path(l).attr({stroke:d.lineColor,"stroke-width":k,zIndex:7}).add(a.axisGroup),a.axisLine[m?"show":"hide"](!0)}if(n&&m){n[n.isNew?"attr":"animate"](a.getTitlePosition()),n.isNew=!1}L&&L.enabled&&a.renderStackTotals();a.isDirty=!1},redraw:function(){this.visible&&(this.render(),ch(this.plotLinesAndBands,function(a){a.render()}));ch(this.series,function(a){a.isDirty=!0})},destroy:function(d){var f=this,a=f.stacks,b,c=f.plotLinesAndBands;d||a5(f);for(b in a){cy(a[b]),a[b]=null}ch([f.ticks,f.minorTicks,f.alternateBands],function(h){cy(h)});for(d=c.length;d--;){c[d].destroy()}ch("stackTotalGroup,axisLine,axisTitle,axisGroup,gridGroup,labelGroup,cross".split(","),function(h){f[h]&&(f[h]=f[h].destroy())});this._addedPlotLB=this.chart._labelPanes=this.ordinalSlope=void 0},drawCrosshair:function(d,f){var h,a=this.crosshair,b,c;d||(d=this.cross&&this.cross.e);if(!this.crosshair||(cl(f)||!cj(a.snap,!0))===!1){this.hideCrosshair()}else{if(cj(a.snap,!0)?cl(f)&&(h=this.isXAxis?f.plotX:this.len-f.plotY):h=this.horiz?d.chartX-this.pos:this.len-d.chartY+this.pos,h=this.isRadial?this.getPlotLinePath(this.isXAxis?f.x:cj(f.stackY,f.y))||null:this.getPlotLinePath(null,null,null,null,h)||null,h===null){this.hideCrosshair()}else{b=this.categories&&!this.isRadial;c=cj(a.width,b?this.transA:1);if(this.cross){this.cross.attr({d:h,visibility:"visible","stroke-width":c})}else{b={"pointer-events":"none","stroke-width":c,stroke:a.color||(b?"rgba(155,200,255,0.2)":"#C0C0C0"),zIndex:cj(a.zIndex,2)};if(a.dashStyle){b.dashstyle=a.dashStyle}this.cross=this.chart.renderer.path(h).attr(b).add()}this.cross.e=d}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};cm(cX.prototype,{getPlotBandPath:function(c,d){var a=this.getPlotLinePath(d,null,null,!0),b=this.getPlotLinePath(c,null,null,!0);b&&a?(b.flat=b.toString()===a.toString(),b.push(a[4],a[5],a[1],a[2])):b=null;return b},addPlotBand:function(a){return this.addPlotBandOrLine(a,"plotBands")},addPlotLine:function(a){return this.addPlotBandOrLine(a,"plotLines")},addPlotBandOrLine:function(c,d){var a=(new cE.PlotLineOrBand(this,c)).render(),b=this.userOptions;a&&(d&&(b[d]=b[d]||[],b[d].push(c)),this.plotLinesAndBands.push(a));return a},removePlotBandOrLine:function(d){for(var f=this.plotLinesAndBands,a=this.options,b=this.userOptions,c=f.length;c--;){f[c].id===d&&f[c].destroy()}ch([a.plotLines||[],b.plotLines||[],a.plotBands||[],b.plotBands||[]],function(h){for(c=h.length;c--;){h[c].id===d&&dQ(h,h[c])}})}});cX.prototype.getTimeTicks=function(l,n,p,s){var a=[],c={},d=c8.global.useUTC,h,i=new di(n-dO(n)),j=l.unitRange,k=l.count;if(cl(n)){i[R](j>=c2.second?0:k*ba(i.getMilliseconds()/k));if(j>=c2.second){i[a2](j>=c2.minute?0:k*ba(i.getSeconds()/k))}if(j>=c2.minute){i[Q](j>=c2.hour?0:k*ba(i[G]()/k))}if(j>=c2.hour){i[dx](j>=c2.day?0:k*ba(i[aa]()/k))}if(j>=c2.day){i[dK](j>=c2.month?1:k*ba(i[t]()/k))}j>=c2.month&&(i[Y](j>=c2.year?0:k*ba(i[cp]()/k)),h=i[T]());j>=c2.year&&(h-=h%k,i[cw](h));if(j===c2.week){i[dK](i[t]()-i[I]()+cj(s,1))}n=1;if(dR||cD){i=i.getTime(),i=new di(i+dO(i))}h=i[T]();for(var s=i.getTime(),m=i[cp](),r=i[t](),b=!d||!!cD,f=(c2.day+(d?dO(i):i.getTimezoneOffset()*60000))%c2.day;s<p;){a.push(s),j===c2.year?s=du(h+n*k,0):j===c2.month?s=du(h,m+n*k):b&&(j===c2.day||j===c2.week)?s=du(h,m,r+n*k*(j===c2.day?1:7)):s+=j*k,n++}a.push(s);ch(W(a,function(u){return j<=c2.hour&&u%c2.day===f}),function(u){c[u]="day"})}a.info=cm(l,{higherRanks:c,totalRange:j*k});return a};cX.prototype.normalizeTimeTickInterval=function(d,h){var f=h||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],i=f[f.length-1],a=c2[i[0]],b=i[1],c;for(c=0;c<f.length;c++){if(i=f[c],a=c2[i[0]],b=i[1],f[c+1]&&d<=(a*b[b.length-1]+c2[f[c+1][0]])/2){break}}a===c2.year&&d<5*a&&(b=[1,2,5]);f=c3(d/a,b,i[0]==="year"?co(cK(d/a),1):1);return{unitRange:a,count:f,unitName:i[0]}};cX.prototype.getLogTickPositions=function(m,n,r,a){var c=this.options,d=this.len,h=this.lin2log,i=this.log2lin,j=[];if(!a){this._minorAutoInterval=null}if(m>=0.5){m=cB(m),j=this.getLinearTickPositions(m,n,r)}else{if(m>=0.08){for(var d=ba(n),k,l,p,b,f,c=m>0.3?[1,2,4]:m>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];d<r+1&&!f;d++){l=c.length;for(k=0;k<l&&!f;k++){p=i(h(d)*c[k]),p>n&&(!a||b<=r)&&b!==cn&&j.push(b),b>r&&(f=!0),b=p}}}else{if(n=h(n),r=h(r),m=c[a?"minorTickInterval":"tickInterval"],m=cj(m==="auto"?null:m,this._minorAutoInterval,(r-n)*(c.tickPixelInterval/(a?5:1))/((a?d/this.tickPositions.length:d)||1)),m=c3(m,null,cK(m)),j=H(this.getLinearTickPositions(m,n,r),i),!a){this._minorAutoInterval=m/5}}}if(!a){this.tickInterval=m}return j};cX.prototype.log2lin=function(a){return dj.log(a)/dj.LN10};cX.prototype.lin2log=function(a){return dj.pow(10,a)};var dM=cE.Tooltip=function(){this.init.apply(this,arguments)};dM.prototype={init:function(d,f){var a=f.borderWidth,b=f.style,c=cR(b.padding);this.chart=d;this.options=f;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=d.renderer.label("",0,0,f.shape||"callout",null,null,f.useHTML,null,"tooltip").attr({padding:c,fill:f.backgroundColor,"stroke-width":a,r:f.borderRadius,zIndex:8}).css(b).css({padding:0}).add().attr({y:-9000000000});cM||this.label.shadow(f.shadow);this.shared=f.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(f,i,b,h){var j=this,a=j.now,c=j.options.animation!==!1&&!j.isHidden&&(dg(f-a.x)>1||dg(i-a.y)>1),d=j.followPointer||j.len>1;cm(a,{x:c?(2*a.x+f)/3:f,y:c?(a.y+i)/2:i,anchorX:d?cn:c?(2*a.anchorX+b)/3:b,anchorY:d?cn:c?(a.anchorY+h)/2:h});j.label.attr(a);if(c){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){j&&j.move(f,i,b,h)},32)}},hide:function(a){var b=this;clearTimeout(this.hideTimer);a=cj(a,this.options.hideDelay,500);if(!this.isHidden){this.hideTimer=cP(function(){b.label[a?"fadeOut":"hide"]();b.isHidden=!0},a)}},getAnchor:function(a,c){var d,h=this.chart,i=h.inverted,j=h.plotTop,k=h.plotLeft,l=0,m=0,b,f,a=dJ(a);d=a[0].tooltipPos;this.followPointer&&c&&(c.chartX===cn&&(c=h.pointer.normalize(c)),d=[c.chartX-h.plotLeft,c.chartY-j]);d||(ch(a,function(n){b=n.series.yAxis;f=n.series.xAxis;l+=n.plotX+(!i&&f?f.left-k:0);m+=(n.plotLow?(n.plotLow+n.plotHigh)/2:n.plotY)+(!i&&b?b.top-j:0)}),l/=a.length,m/=a.length,d=[i?h.plotWidth-m:l,this.shared&&!i&&a.length>1&&c?c.chartY-j:i?h.plotHeight-l:m]);return H(d,cB)},getPosition:function(l,n,p){var s=this.chart,a=this.distance,c={},d=p.h||0,h,i=["y",s.chartHeight,n,p.plotY+s.plotTop,s.plotTop,s.plotTop+s.plotHeight],j=["x",s.chartWidth,l,p.plotX+s.plotLeft,s.plotLeft,s.plotLeft+s.plotWidth],k=!this.followPointer&&cj(p.ttBelow,!s.inverted===!!p.negative),m=function(u,F,L,Z,ad,ae){var af=L<Z-a,ah=Z+a+L<F,ag=Z-a-L;Z+=a;if(k&&ah){c[u]=Z}else{if(!k&&af){c[u]=ag}else{if(af){c[u]=cJ(ae-L,ag-d<0?ag:ag-d)}else{if(ah){c[u]=co(ad,Z+d+L>F?Z:Z+d)}else{return !1}}}}},r=function(ad,u,F,L){var Z;L<a||L>u-a?Z=!1:c[ad]=L<F/2?1:L>u-F/2?u-F-2:L-F/2;return Z},b=function(F){var u=i;i=j;j=u;h=F},f=function(){m.apply(0,i)!==!1?r.apply(0,j)===!1&&!h&&(b(!0),f()):h?c.x=c.y=0:(b(!0),f())};(s.inverted||this.len>1)&&b();f();return c},defaultFormatter:function(b){var c=this.points||dJ(this),a;a=[b.tooltipFooterHeaderFormatter(c[0])];a=a.concat(b.bodyFormatter(c));a.push(b.tooltipFooterHeaderFormatter(c[0],!0));return a.join("")},refresh:function(m,p){var a=this.chart,c=this.label,d=this.options,h,i,j,k={},l,n=[];l=d.formatter||this.defaultFormatter;var k=a.hoverPoints,b,f=this.shared;clearTimeout(this.hideTimer);this.followPointer=dJ(m)[0].series.tooltipOptions.followPointer;j=this.getAnchor(m,p);h=j[0];i=j[1];f&&(!m.series||!m.series.noSharedTooltip)?(a.hoverPoints=m,k&&ch(k,function(r){r.setState()}),ch(m,function(r){r.setState("hover");n.push(r.getLabelConfig())}),k={x:m[0].category,y:m[0].y},k.points=n,this.len=n.length,m=m[0]):k=m.getLabelConfig();l=l.call(k,this);k=m.series;this.distance=cj(k.tooltipOptions.distance,16);l===!1?this.hide():(this.isHidden&&(c9(c),c.attr("opacity",1).show()),c.attr({text:l}),b=d.borderColor||m.color||k.color||"#606060",c.attr({stroke:b}),this.updatePosition({plotX:h,plotY:i,negative:m.negative,ttBelow:m.ttBelow,h:j[2]||0}),this.isHidden=!1);cY(a,"tooltipRefresh",{text:l,x:h+a.plotLeft,y:i+a.plotTop,borderColor:b})},updatePosition:function(b){var c=this.chart,a=this.label,a=(this.options.positioner||this.getPosition).call(this,a.width,a.height,b);this.move(cB(a.x),cB(a.y||0),b.plotX+c.plotLeft,b.plotY+c.plotTop)},getXDateFormat:function(b,d,f){var h,d=d.dateTimeLabelFormats,i=f&&f.closestPointRange,j,k={millisecond:15,second:12,minute:9,hour:6,day:3},a,c="millisecond";if(i){a=cq("%m-%d %H:%M:%S.%L",b.x);for(j in c2){if(i===c2.week&&+cq("%w",b.x)===f.options.startOfWeek&&a.substr(6)==="00:00:00.000"){j="week";break}if(c2[j]>i){j=c;break}if(k[j]&&a.substr(k[j])!=="01-01 00:00:00.000".substr(k[j])){break}j!=="week"&&(c=j)}j&&(h=d[j])}else{h=d.day}return h||d.year},tooltipFooterHeaderFormatter:function(f,i){var b=i?"footer":"header",h=f.series,j=h.tooltipOptions,a=j.xDateFormat,c=h.xAxis,d=c&&c.options.type==="datetime"&&cr(f.key),b=j[b+"Format"];d&&!a&&(a=this.getXDateFormat(f,j,c));d&&a&&(b=b.replace("{point.key}","{point.key:"+a+"}"));return dw(b,{point:f,series:h})},bodyFormatter:function(a){return H(a,function(c){var b=c.series.tooltipOptions;return(b.pointFormatter||c.point.tooltipFormatter).call(c.point,b.pointFormat)})}};var dt;cx=cF&&cF.documentElement.ontouchstart!==cn;var dl=cE.Pointer=function(a,b){this.init(a,b)};dl.prototype={init:function(d,f){var h=f.chart,a=h.events,b=cM?"":h.zoomType,h=d.inverted,c;this.options=f;this.chart=d;this.zoomX=c=/x/.test(b);this.zoomY=b=/y/.test(b);this.zoomHor=c&&!h||b&&h;this.zoomVert=b&&!h||c&&h;this.hasZoom=c||b;this.runChartClick=a&&!!a.click;this.pinchDown=[];this.lastValidTouch={};if(cE.Tooltip&&f.tooltip.enabled){d.tooltip=new dM(d,f.tooltip),this.followTouchMove=cj(f.tooltip.followTouchMove,!0)}this.setDOMEvents()},normalize:function(c,d){var a,b,c=c||c0.event;if(!c.target){c.target=c.srcElement}b=c.touches?c.touches.length?c.touches.item(0):c.changedTouches[0]:c;if(!d){this.chartPosition=d=dz(this.chart.container)}b.pageX===cn?(a=co(c.x,c.clientX-d.left),b=c.y):(a=b.pageX-d.left,b=b.pageY-d.top);return cm(c,{chartX:cB(a),chartY:cB(b)})},getCoordinates:function(a){var b={xAxis:[],yAxis:[]};ch(this.chart.axes,function(c){b[c.isXAxis?"xAxis":"yAxis"].push({axis:c,value:c.toValue(a[c.horiz?"chartX":"chartY"])})});return b},runPointActions:function(m){var n=this.chart,r=n.series,a=n.tooltip,c=a?a.shared:!1,d=n.hoverPoint,h=n.hoverSeries,i,j=[Number.MAX_VALUE,Number.MAX_VALUE],k,l,p=[],b=[],f;if(!c&&!h){for(i=0;i<r.length;i++){if(r[i].directTouch||!r[i].options.stickyTracking){r=[]}}}h&&(c?h.noSharedTooltip:h.directTouch)&&d?b=[d]:(ch(r,function(s){k=s.noSharedTooltip&&c;l=!c&&s.directTouch;s.visible&&!k&&!l&&cj(s.options.enableMouseTracking,!0)&&(f=s.searchPoint(m,!k&&s.kdDimensions===1))&&f.series&&p.push(f)}),ch(p,function(s){s&&ch(["dist","distX"],function(u,F){if(cr(s[u])){var L=s[u]===j[F]&&s.series.group.zIndex>=b[F].series.group.zIndex;if(s[u]<j[F]||L){j[F]=s[u],b[F]=s}}})}));if(c){for(i=p.length;i--;){(p[i].clientX!==b[1].clientX||p[i].series.noSharedTooltip)&&p.splice(i,1)}}if(b[0]&&(b[0]!==this.prevKDPoint||a&&a.isHidden)){if(c&&!b[0].series.noSharedTooltip){p.length&&a&&a.refresh(p,m),ch(p,function(s){s.onMouseOver(m,s!==(h&&h.directTouch&&d||b[0]))}),this.prevKDPoint=b[1]}else{a&&a.refresh(b[0],m);if(!h||!h.directTouch){b[0].onMouseOver(m)}this.prevKDPoint=b[0]}}else{r=h&&h.tooltipOptions.followPointer,a&&r&&!a.isHidden&&(r=a.getAnchor([{}],m),a.updatePosition({plotX:r[0],plotY:r[1]}))}if(!this._onDocumentMouseMove){this._onDocumentMouseMove=function(s){if(ce[dt]){ce[dt].pointer.onDocumentMouseMove(s)}},cN(cF,"mousemove",this._onDocumentMouseMove)}ch(c?p:[cj(d,b[1])],function(s){ch(n.axes,function(u){(!s||s.series[u.coll]===u)&&u.drawCrosshair(m,s)})})},reset:function(f,i){var b=this.chart,h=b.hoverSeries,j=b.hoverPoint,a=b.hoverPoints,c=b.tooltip,d=c&&c.shared?a:j;f&&d&&ch(dJ(d),function(k){k.series.isCartesian&&k.plotX===void 0&&(f=!1)});if(f){c&&d&&(c.refresh(d),j&&(j.setState(j.state,!0),ch(b.axes,function(k){k.crosshair&&k.drawCrosshair(null,j)})))}else{if(j){j.onMouseOut()}a&&ch(a,function(k){k.setState()});if(h){h.onMouseOut()}c&&c.hide(i);if(this._onDocumentMouseMove){a5(cF,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null}ch(b.axes,function(k){k.hideCrosshair()});this.hoverX=this.prevKDPoint=b.hoverPoints=b.hoverPoint=null}},scaleGroups:function(c,d){var a=this.chart,b;ch(a.series,function(f){b=c||f.getPlotBox();f.xAxis&&f.xAxis.zoomEnabled&&(f.group.attr(b),f.markerGroup&&(f.markerGroup.attr(b),f.markerGroup.clip(d?a.clipRect:null)),f.dataLabelsGroup&&f.dataLabelsGroup.attr(b))});a.clipRect.attr(d||a.clipBox)},dragStart:function(a){var b=this.chart;b.mouseIsDown=a.type;b.cancelClick=!1;b.mouseDownX=this.mouseDownX=a.chartX;b.mouseDownY=this.mouseDownY=a.chartY},drag:function(k){var m=this.chart,p=m.options.chart,r=k.chartX,u=k.chartY,a=this.zoomHor,c=this.zoomVert,d=m.plotLeft,h=m.plotTop,i=m.plotWidth,j=m.plotHeight,l,n=this.selectionMarker,s=this.mouseDownX,b=this.mouseDownY,f=p.panKey&&k[p.panKey+"Key"];if(!n||!n.touch){if(r<d?r=d:r>d+i&&(r=d+i),u<h?u=h:u>h+j&&(u=h+j),this.hasDragged=Math.sqrt(Math.pow(s-r,2)+Math.pow(b-u,2)),this.hasDragged>10){l=m.isInsidePlot(s-d,b-h);if(m.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!f&&!n){this.selectionMarker=n=m.renderer.rect(d,h,a?1:i,c?1:j,0).attr({fill:p.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}n&&a&&(r-=s,n.attr({width:dg(r),x:(r>0?0:r)+s}));n&&c&&(r=u-b,n.attr({height:dg(r),y:(r>0?0:r)+b}));l&&!n&&p.panning&&m.pan(k,p.panning)}}},drop:function(a){var c=this,d=this.chart,h=this.hasPinched;if(this.selectionMarker){var i={originalEvent:a,xAxis:[],yAxis:[]},j=this.selectionMarker,k=j.attr?j.attr("x"):j.x,l=j.attr?j.attr("y"):j.y,m=j.attr?j.attr("width"):j.width,b=j.attr?j.attr("height"):j.height,f;if(this.hasDragged||h){ch(d.axes,function(n){if(n.zoomEnabled&&cl(n.min)&&(h||c[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var s=n.horiz,p=a.type==="touchend"?n.minPixelPadding:0,r=n.toValue((s?k:l)+p),s=n.toValue((s?k+m:l+b)-p);i[n.coll].push({axis:n,min:cJ(r,s),max:co(r,s)});f=!0}}),f&&cY(d,"selection",i,function(n){d.zoom(cm(n,h?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();h&&this.scaleGroups()}if(d){c5(d.container,{cursor:d._cursor}),d.cancelClick=this.hasDragged>10,d.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(a){a=this.normalize(a);a.preventDefault&&a.preventDefault();this.dragStart(a)},onDocumentMouseUp:function(a){ce[dt]&&ce[dt].pointer.drop(a)},onDocumentMouseMove:function(b){var c=this.chart,a=this.chartPosition,b=this.normalize(b,a);a&&!this.inClass(b.target,"highcharts-tracker")&&!c.isInsidePlot(b.chartX-c.plotLeft,b.chartY-c.plotTop)&&this.reset()},onContainerMouseLeave:function(a){var b=ce[dt];if(b&&(a.relatedTarget||a.toElement)){b.pointer.reset(),b.pointer.chartPosition=null}},onContainerMouseMove:function(a){var b=this.chart;if(!cl(dt)||!ce[dt]||!ce[dt].mouseIsDown){dt=b.index}a=this.normalize(a);a.returnValue=!1;b.mouseIsDown==="mousedown"&&this.drag(a);(this.inClass(a.target,"highcharts-tracker")||b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop))&&!b.openMenu&&this.runPointActions(a)},inClass:function(b,c){for(var a;b;){if(a=ab(b,"class")){if(a.indexOf(c)!==-1){return !0}if(a.indexOf("highcharts-container")!==-1){return !1}}b=b.parentNode}},onTrackerMouseOut:function(a){var b=this.chart.hoverSeries,a=a.relatedTarget||a.toElement;if(b&&a&&!b.options.stickyTracking&&!this.inClass(a,"highcharts-tooltip")&&!this.inClass(a,"highcharts-series-"+b.index)){b.onMouseOut()}},onContainerClick:function(d){var f=this.chart,a=f.hoverPoint,b=f.plotLeft,c=f.plotTop,d=this.normalize(d);f.cancelClick||(a&&this.inClass(d.target,"highcharts-tracker")?(cY(a.series,"click",cm(d,{point:a})),f.hoverPoint&&a.firePointEvent("click",d)):(cm(d,this.getCoordinates(d)),f.isInsidePlot(d.chartX-b,d.chartY-c)&&cY(f,"click",d)))},setDOMEvents:function(){var a=this,b=a.chart.container;b.onmousedown=function(c){a.onContainerMouseDown(c)};b.onmousemove=function(c){a.onContainerMouseMove(c)};b.onclick=function(c){a.onContainerClick(c)};cN(b,"mouseleave",a.onContainerMouseLeave);U===1&&cN(cF,"mouseup",a.onDocumentMouseUp);if(cx){b.ontouchstart=function(c){a.onContainerTouchStart(c)},b.ontouchmove=function(c){a.onContainerTouchMove(c)},U===1&&cN(cF,"touchend",a.onDocumentTouchEnd)}},destroy:function(){var a;a5(this.chart.container,"mouseleave",this.onContainerMouseLeave);U||(a5(cF,"mouseup",this.onDocumentMouseUp),a5(cF,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(a in this){this[a]=null}}};cm(cE.Pointer.prototype,{pinchTranslate:function(d,f,h,a,b,c){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,d,f,h,a,b,c);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,d,f,h,a,b,c)},pinchTranslateDirection:function(ai,a,b,c,d,f,h,i){var j=this.chart,k=ai?"x":"y",l=ai?"X":"Y",m="chart"+l,n=ai?"width":"height",p=j["plot"+(ai?"Left":"Top")],u,Z,ad=i||1,F=j.inverted,s=j.bounds[ai?"h":"v"],ag=a.length===1,af=a[0][m],L=b[0][m],ae=!ag&&a[1][m],r=!ag&&b[1][m],ah,b=function(){!ag&&dg(af-ae)>20&&(ad=i||dg(L-r)/dg(af-ae));Z=(p-L)/ad+af;u=j["plot"+(ai?"Width":"Height")]/ad};b();a=Z;a<s.min?(a=s.min,ah=!0):a+u>s.max&&(a=s.max-u,ah=!0);ah?(L-=0.8*(L-h[k][0]),ag||(r-=0.8*(r-h[k][1])),b()):h[k]=[L,r];F||(f[k]=Z-p,f[n]=u);f=F?1/ad:ad;d[n]=u;d[k]=a;c[F?ai?"scaleY":"scaleX":"scale"+l]=ad;c["translate"+l]=f*p+(L-f*af)},pinch:function(n){var a=this,c=a.chart,d=a.pinchDown,h=n.touches,i=h.length,j=a.lastValidTouch,k=a.hasZoom,l=a.selectionMarker,m={},b=i===1&&(a.inClass(n.target,"highcharts-tracker")&&c.runTrackerClick||a.runChartClick),f={};if(i>1){a.initiated=!0}k&&a.initiated&&!b&&n.preventDefault();H(h,function(p){return a.normalize(p)});if(n.type==="touchstart"){ch(h,function(p,r){d[r]={chartX:p.chartX,chartY:p.chartY}}),j.x=[d[0].chartX,d[1]&&d[1].chartX],j.y=[d[0].chartY,d[1]&&d[1].chartY],ch(c.axes,function(s){if(s.zoomEnabled){var u=c.bounds[s.horiz?"h":"v"],F=s.minPixelPadding,L=s.toPixels(cj(s.options.min,s.dataMin)),p=s.toPixels(cj(s.options.max,s.dataMax)),r=cJ(L,p),L=co(L,p);u.min=cJ(s.pos,r-F);u.max=co(s.pos+s.len,L+F)}}),a.res=!0}else{if(d.length){if(!l){a.selectionMarker=l=cm({destroy:c4,touch:!0},c.plotBox)}a.pinchTranslate(d,h,m,l,f,j);a.hasPinched=k;a.scaleGroups(m,f);if(!k&&a.followTouchMove&&i===1){this.runPointActions(a.normalize(n))}else{if(a.res){a.res=!1,this.reset(!1,0)}}}}},touch:function(c,d){var a=this.chart,b;dt=a.index;if(c.touches.length===1){if(c=this.normalize(c),a.isInsidePlot(c.chartX-a.plotLeft,c.chartY-a.plotTop)&&!a.openMenu){d&&this.runPointActions(c);if(c.type==="touchmove"){a=this.pinchDown,b=a[0]?Math.sqrt(Math.pow(a[0].chartX-c.chartX,2)+Math.pow(a[0].chartY-c.chartY,2))>=4:!1}cj(b,!0)&&this.pinch(c)}else{d&&this.reset()}}else{c.touches.length===2&&this.pinch(c)}},onContainerTouchStart:function(a){this.touch(a,!0)},onContainerTouchMove:function(a){this.touch(a)},onDocumentTouchEnd:function(a){ce[dt]&&ce[dt].pointer.drop(a)}});if(c0.PointerEvent||c0.MSPointerEvent){var dD={},cz=!!c0.PointerEvent,v=function(){var a,b=[];b.item=function(c){return this[c]};for(a in dD){dD.hasOwnProperty(a)&&b.push({pageX:dD[a].pageX,pageY:dD[a].pageY,target:dD[a].target})}return b},cT=function(c,d,a,b){if((c.pointerType==="touch"||c.pointerType===c.MSPOINTER_TYPE_TOUCH)&&ce[dt]){b(c),b=ce[dt].pointer,b[d]({type:a,target:c.currentTarget,preventDefault:c4,touches:v()})}};cm(dl.prototype,{onContainerPointerDown:function(a){cT(a,"onContainerTouchStart","touchstart",function(b){dD[b.pointerId]={pageX:b.pageX,pageY:b.pageY,target:b.currentTarget}})},onContainerPointerMove:function(a){cT(a,"onContainerTouchMove","touchmove",function(b){dD[b.pointerId]={pageX:b.pageX,pageY:b.pageY};if(!dD[b.pointerId].target){dD[b.pointerId].target=b.currentTarget}})},onDocumentPointerUp:function(a){cT(a,"onDocumentTouchEnd","touchend",function(b){delete dD[b.pointerId]})},batchMSEvents:function(a){a(this.chart.container,cz?"pointerdown":"MSPointerDown",this.onContainerPointerDown);a(this.chart.container,cz?"pointermove":"MSPointerMove",this.onContainerPointerMove);a(cF,cz?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});df(dl.prototype,"init",function(b,c,a){b.call(this,c,a);this.hasZoom&&c5(c.container,{"-ms-touch-action":"none","touch-action":"none"})});df(dl.prototype,"setDOMEvents",function(a){a.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(cN)});df(dl.prototype,"destroy",function(a){this.batchMSEvents(a5);a.call(this)})}var a0=cE.Legend=function(a,b){this.init(a,b)};a0.prototype={init:function(d,f){var a=this,b=f.itemStyle,c=f.itemMarginTop||0;this.options=f;if(f.enabled){a.itemStyle=b,a.itemHiddenStyle=cH(b,f.itemHiddenStyle),a.itemMarginTop=c,a.padding=b=cj(f.padding,8),a.initialItemX=b,a.initialItemY=b-5,a.maxItemWidth=0,a.chart=d,a.itemHeight=0,a.symbolWidth=cj(f.symbolWidth,16),a.pages=[],a.render(),cN(a.chart,"endResize",function(){a.positionCheckboxes()})}},colorizeItem:function(b,c){var f=this.options,h=b.legendItem,i=b.legendLine,j=b.legendSymbol,k=this.itemHiddenStyle.color,f=c?f.itemStyle.color:k,l=c?b.legendColor||b.color||"#CCC":k,k=b.options&&b.options.marker,a={fill:l},d;h&&h.css({fill:f,color:f});i&&i.attr({stroke:l});if(j){if(k&&j.isMarker){for(d in a.stroke=l,k=b.convertAttribs(k),k){h=k[d],h!==cn&&(a[d]=h)}}j.attr(a)}},positionItem:function(d){var f=this.options,h=f.symbolPadding,f=!f.rtl,a=d._legendItemPos,b=a[0],a=a[1],c=d.checkbox;(d=d.legendGroup)&&d.element&&d.translate(f?b:this.legendWidth-b-2*h-4,a);if(c){c.x=b,c.y=a}},destroyItem:function(a){var b=a.checkbox;ch(["legendItem","legendLine","legendSymbol","legendGroup"],function(c){a[c]&&(a[c]=a[c].destroy())});b&&ci(a.checkbox)},destroy:function(){var a=this.group,b=this.box;if(b){this.box=b.destroy()}if(a){this.group=a.destroy()}},positionCheckboxes:function(d){var f=this.group.alignAttr,a,b=this.clipHeight||this.legendHeight,c=this.titleHeight;if(f){a=f.translateY,ch(this.allItems,function(h){var i=h.checkbox,j;i&&(j=a+c+i.y+(d||0)+3,c5(i,{left:f.translateX+h.checkboxOffset+i.x-20+"px",top:j+"px",display:j>a-6&&j<a+b-6?"":"none"}))})}},renderTitle:function(){var b=this.padding,c=this.options.title,a=0;if(c.text){if(!this.title){this.title=this.chart.renderer.label(c.text,b-3,b-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(c.style).add(this.group)}b=this.title.getBBox();a=b.height;this.offsetWidth=b.width;this.contentGroup.attr({translateY:a})}this.titleHeight=a},setText:function(a){var b=this.options;a.legendItem.attr({text:b.labelFormat?dw(b.labelFormat,a):b.labelFormatter.call(a)})},renderItem:function(a){var b=this.chart,c=b.renderer,d=this.options,f=d.layout==="horizontal",i=this.symbolWidth,k=d.symbolPadding,m=this.itemStyle,n=this.itemHiddenStyle,s=this.padding,u=f?cj(d.itemDistance,20):0,F=!d.rtl,Z=d.width,ad=d.itemMarginBottom||0,j=this.itemMarginTop,l=this.initialItemX,p=a.legendItem,h=a.series&&a.series.drawLegendSymbol?a.series:a,r=h.options,r=this.createCheckboxForItem&&r&&r.showCheckbox,L=d.useHTML;if(!p){a.legendGroup=c.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);a.legendItem=p=c.text("",F?i+k:-k,this.baseline||0,L).css(cH(a.visible?m:n)).attr({align:F?"left":"right",zIndex:2}).add(a.legendGroup);if(!this.baseline){this.fontMetrics=c.fontMetrics(m.fontSize,p),this.baseline=this.fontMetrics.f+3+j,p.attr("y",this.baseline)}h.drawLegendSymbol(this,a);this.setItemEvents&&this.setItemEvents(a,p,L,m,n);r&&this.createCheckboxForItem(a)}this.colorizeItem(a,a.visible);this.setText(a);c=p.getBBox();i=a.checkboxOffset=d.itemWidth||a.legendItemWidth||i+k+c.width+u+(r?20:0);this.itemHeight=k=cB(a.legendItemHeight||c.height);if(f&&this.itemX-l+i>(Z||b.chartWidth-2*s-l-d.x)){this.itemX=l,this.itemY+=j+this.lastLineHeight+ad,this.lastLineHeight=0}this.maxItemWidth=co(this.maxItemWidth,i);this.lastItemY=j+this.itemY+ad;this.lastLineHeight=co(k,this.lastLineHeight);a._legendItemPos=[this.itemX,this.itemY];f?this.itemX+=i:(this.itemY+=j+k+ad,this.lastLineHeight=k);this.offsetWidth=Z||co((f?this.itemX-l-u:i)+s,this.offsetWidth)},getAllItems:function(){var a=[];ch(this.chart.series,function(c){var b=c.options;if(cj(b.showInLegend,!cl(b.linkedTo)?cn:!1,!0)){a=a.concat(c.legendItems||(b.legendType==="point"?c.data:c))}});return a},adjustMargins:function(d,f){var a=this.chart,b=this.options,c=b.align.charAt(0)+b.verticalAlign.charAt(0)+b.layout.charAt(0);b.floating||ch([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(h,i){h.test(c)&&!cl(d[i])&&(a[M[i]]=co(a[M[i]],a.legend[(i+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][i]*b[i%2?"x":"y"]+cj(b.margin,12)+f[i]))})},render:function(){var m=this,p=m.chart,a=p.renderer,c=m.group,d,h,i,j,k=m.box,l=m.options,n=m.padding,b=l.borderWidth,f=l.backgroundColor;m.itemX=m.initialItemX;m.itemY=m.initialItemY;m.offsetWidth=0;m.lastItemY=0;if(!c){m.group=c=a.g("legend").attr({zIndex:7}).add(),m.contentGroup=a.g().attr({zIndex:1}).add(c),m.scrollGroup=a.g().add(m.contentGroup)}m.renderTitle();d=m.getAllItems();cs(d,function(r,s){return(r.options&&r.options.legendIndex||0)-(s.options&&s.options.legendIndex||0)});l.reversed&&d.reverse();m.allItems=d;m.display=h=!!d.length;m.lastLineHeight=0;ch(d,function(r){m.renderItem(r)});i=(l.width||m.offsetWidth)+n;j=m.lastItemY+m.lastLineHeight+m.titleHeight;j=m.handleOverflow(j);j+=n;if(b||f){if(k){if(i>0&&j>0){k[k.isNew?"attr":"animate"](k.crisp({width:i,height:j})),k.isNew=!1}}else{m.box=k=a.rect(0,0,i,j,l.borderRadius,b||0).attr({stroke:l.borderColor,"stroke-width":b||0,fill:f||"none"}).add(c).shadow(l.shadow),k.isNew=!0}k[h?"show":"hide"]()}m.legendWidth=i;m.legendHeight=j;ch(d,function(r){m.positionItem(r)});h&&c.align(cm({width:i,height:j},l),!0,"spacingBox");p.isResizing||this.positionCheckboxes()},handleOverflow:function(a){var b=this,c=this.chart,h=c.renderer,j=this.options,k=j.y,k=c.spacingBox.height+(j.verticalAlign==="top"?-k:k)-this.padding,m=j.maxHeight,p,r=this.clipRect,s=j.navigation,F=cj(s.animation,!0),d=s.arrowSize||12,f=this.nav,i=this.pages,l=this.padding,n,u=this.allItems,L=function(Z){r.attr({height:Z});if(b.contentGroup.div){b.contentGroup.div.style.clip="rect("+l+"px,9999px,"+(l+Z)+"px,0)"}};j.layout==="horizontal"&&(k/=2);m&&(k=cJ(k,m));i.length=0;if(a>k&&s.enabled!==!1){this.clipHeight=p=co(k-20-this.titleHeight-l,0);this.currentPage=cj(this.currentPage,1);this.fullHeight=a;ch(u,function(af,ag){var Z=af._legendItemPos[1],ad=cB(af.legendItem.getBBox().height),ae=i.length;if(!ae||Z-i[ae-1]>p&&(n||Z)!==i[ae-1]){i.push(n||Z),ae++}ag===u.length-1&&Z+ad-i[ae-1]>p&&i.push(Z);Z!==n&&(n=Z)});if(!r){r=b.clipRect=h.clipRect(0,l,9999,0),b.contentGroup.clip(r)}L(p);if(!f){this.nav=f=h.g().attr({zIndex:1}).add(this.group),this.up=h.symbol("triangle",0,0,d,d).on("click",function(){b.scroll(-1,F)}).add(f),this.pager=h.text("",15,10).css(s.style).add(f),this.down=h.symbol("triangle-down",0,0,d,d).on("click",function(){b.scroll(1,F)}).add(f)}b.scroll(0);a=k}else{if(f){L(c.chartHeight),f.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return a},scroll:function(b,c){var f=this.pages,h=f.length,i=this.currentPage+b,j=this.clipHeight,k=this.options.navigation,l=k.activeColor,k=k.inactiveColor,a=this.pager,d=this.padding;i>h&&(i=h);if(i>0){c!==cn&&cf(c,this.chart),this.nav.attr({translateX:d,translateY:j+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:i===1?k:l}).css({cursor:i===1?"default":"pointer"}),a.attr({text:i+"/"+h}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===h?k:l}).css({cursor:i===h?"default":"pointer"}),f=-f[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:f}),this.currentPage=i,this.positionCheckboxes(f)}}};q=cE.LegendSymbolMixin={drawRectangle:function(b,c){var a=b.options.symbolHeight||b.fontMetrics.f;c.legendSymbol=this.chart.renderer.rect(0,b.baseline-a+1,b.symbolWidth,a,b.options.symbolRadius||0).attr({zIndex:3}).add(c.legendGroup)},drawLineMarker:function(d){var h=this.options,f=h.marker,i=d.symbolWidth,a=this.chart.renderer,b=this.legendGroup,d=d.baseline-cB(d.fontMetrics.b*0.3),c;if(h.lineWidth){c={"stroke-width":h.lineWidth};if(h.dashStyle){c.dashstyle=h.dashStyle}this.legendLine=a.path([a7,0,d,dd,i,d]).attr(c).add(b)}if(f&&f.enabled!==!1){h=f.radius,this.legendSymbol=f=a.symbol(this.symbol,i/2-h,d-h,2*h,2*h,f).add(b),f.isMarker=!0}}};(/Trident\/7\.0/.test(cQ)||dn)&&df(a0.prototype,"positionItem",function(c,d){var a=this,b=function(){d._legendItemPos&&c.call(a,d)};b();setTimeout(b)});var c1=cE.Chart=function(){this.getArgs.apply(this,arguments)};cE.chart=function(b,c,a){return new c1(b,c,a)};c1.prototype={callbacks:[],getArgs:function(){var a=[].slice.call(arguments);if(ct(a[0])||a[0].nodeName){this.renderTo=a.shift()}this.init(a[0],a[1])},init:function(d,h){var f,i=d.series;d.series=null;f=cH(c8,d);f.series=d.series=i;this.userOptions=d;i=f.chart;this.margin=this.splashArray("margin",i);this.spacing=this.splashArray("spacing",i);var a=i.events;this.bounds={h:{},v:{}};this.callback=h;this.isResizing=0;this.options=f;this.axes=[];this.series=[];this.hasCartesianSeries=i.showAxes;var b=this,c;b.index=ce.length;ce.push(b);U++;i.reflow!==!1&&cN(b,"load",function(){b.initReflow()});if(a){for(c in a){cN(b,c,a[c])}}b.xAxis=[];b.yAxis=[];b.animation=cM?!1:cj(i.animation,!0);b.pointCount=b.colorCounter=b.symbolCounter=0;b.firstRender()},initSeries:function(a){var b=this.options.chart;(b=cV[a.type||b.type||b.defaultSeriesType])||bc(17,!0);b=new b;b.init(this,a);return b},isInsidePlot:function(c,d,a){var b=a?d:c,c=a?c:d;return b>=0&&b<=this.plotWidth&&c>=0&&c<=this.plotHeight},redraw:function(l){var n=this.axes,p=this.series,s=this.pointer,a=this.legend,c=this.isDirtyLegend,d,h,i=this.hasCartesianSeries,j=this.isDirtyBox,k=p.length,m=k,r=this.renderer,b=r.isHidden(),f=[];cf(l,this);b&&this.cloneRenderTo();for(this.layOutTitles();m--;){if(l=p[m],l.options.stacking&&(d=!0,l.isDirty)){h=!0;break}}if(h){for(m=k;m--;){if(l=p[m],l.options.stacking){l.isDirty=!0}}}ch(p,function(u){u.isDirty&&u.options.legendType==="point"&&(u.updateTotals&&u.updateTotals(),c=!0);u.isDirtyData&&cY(u,"updatedData")});if(c&&a.options.enabled){a.render(),this.isDirtyLegend=!1}d&&this.getStacks();if(i&&!this.isResizing){this.maxTicks=null,ch(n,function(u){u.setScale()})}this.getMargins();i&&(ch(n,function(u){u.isDirty&&(j=!0)}),ch(n,function(F){var u=F.min+","+F.max;if(F.extKey!==u){F.extKey=u,f.push(function(){cY(F,"afterSetExtremes",cm(F.eventArgs,F.getExtremes()));delete F.eventArgs})}(j||d)&&F.redraw()}));j&&this.drawChartBox();ch(p,function(u){u.isDirty&&u.visible&&(!u.isCartesian||u.xAxis)&&u.redraw()});s&&s.reset(!0);r.draw();cY(this,"redraw");b&&this.cloneRenderTo(!0);ch(f,function(u){u.call()})},get:function(d){var f=this.axes,a=this.series,b,c;for(b=0;b<f.length;b++){if(f[b].options.id===d){return f[b]}}for(b=0;b<a.length;b++){if(a[b].options.id===d){return a[b]}}for(b=0;b<a.length;b++){c=a[b].points||[];for(f=0;f<c.length;f++){if(c[f].id===d){return c[f]}}}return null},getAxes:function(){var b=this,c=this.options,a=c.xAxis=dJ(c.xAxis||{}),c=c.yAxis=dJ(c.yAxis||{});ch(a,function(d,f){d.index=f;d.isX=!0});ch(c,function(d,f){d.index=f});a=a.concat(c);ch(a,function(d){new cX(b,d)})},getSelectedPoints:function(){var a=[];ch(this.series,function(b){a=a.concat(W(b.points||[],function(c){return c.selected}))});return a},getSelectedSeries:function(){return W(this.series,function(a){return a.selected})},setTitle:function(d,h,f){var c;var i=this,a=i.options,b;b=a.title=cH(a.title,d);c=a.subtitle=cH(a.subtitle,h),a=c;ch([["title",d,b],["subtitle",h,a]],function(m){var j=m[0],k=i[j],l=m[1],m=m[2];k&&l&&(i[j]=k=k.destroy());m&&m.text&&!k&&(i[j]=i.renderer.text(m.text,0,0,m.useHTML).attr({align:m.align,"class":"highcharts-"+j,zIndex:m.zIndex||4}).css(m.style).add())});i.layOutTitles(f)},layOutTitles:function(f){var i=0,b=this.title,h=this.subtitle,j=this.options,a=j.title,j=j.subtitle,c=this.renderer,d=this.spacingBox;if(b&&(b.css({width:(a.width||d.width+a.widthAdjust)+"px"}).align(cm({y:c.fontMetrics(a.style.fontSize,b).b-3},a),!1,d),!a.floating&&!a.verticalAlign)){i=b.getBBox().height}h&&(h.css({width:(j.width||d.width+j.widthAdjust)+"px"}).align(cm({y:i+(a.margin-13)+c.fontMetrics(j.style.fontSize,b).b},j),!1,d),!j.floating&&!j.verticalAlign&&(i=D(i+h.getBBox().height)));b=this.titleOffset!==i;this.titleOffset=i;if(!this.isDirtyBox&&b){this.isDirtyBox=b,this.hasRendered&&cj(f,!0)&&this.isDirtyBox&&this.redraw()}},getChartSize:function(){var b=this.options.chart,c=b.width,b=b.height,a=this.renderToClone||this.renderTo;if(!cl(c)){this.containerWidth=K(a,"width")}if(!cl(b)){this.containerHeight=K(a,"height")}this.chartWidth=co(0,c||this.containerWidth||600);this.chartHeight=co(0,cj(b,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(b){var c=this.renderToClone,a=this.container;b?c&&(this.renderTo.appendChild(a),ci(c),delete this.renderToClone):(a&&a.parentNode===this.renderTo&&this.renderTo.removeChild(a),this.renderToClone=c=this.renderTo.cloneNode(0),c5(c,{position:"absolute",top:"-9999px",display:"block"}),c.style.setProperty&&c.style.setProperty("display","block","important"),cF.body.appendChild(c),a&&c.appendChild(a))},getContainer:function(){var d,f=this.options,h=f.chart,a,b;d=this.renderTo;var c="highcharts-"+dh++;if(!d){this.renderTo=d=h.renderTo}if(ct(d)){this.renderTo=d=cF.getElementById(d)}d||bc(13,!0);a=cR(ab(d,"data-highcharts-chart"));cr(a)&&ce[a]&&ce[a].hasRendered&&ce[a].destroy();ab(d,"data-highcharts-chart",this.index);d.innerHTML="";!h.skipClone&&!d.offsetWidth&&this.cloneRenderTo();this.getChartSize();a=this.chartWidth;b=this.chartHeight;this.container=d=cU(x,{className:"highcharts-container"+(h.className?" "+h.className:""),id:c},cm({position:"relative",overflow:"hidden",width:a+"px",height:b+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},h.style),this.renderToClone||d);this._cursor=d.style.cursor;this.renderer=new (cE[h.renderer]||dH)(d,a,b,h.style,h.forExport,f.exporting&&f.exporting.allowHTML);cM&&this.renderer.create(this,d,a,b);this.renderer.chartIndex=this.index},getMargins:function(c){var d=this.spacing,a=this.margin,b=this.titleOffset;this.resetMargins();if(b&&!cl(a[0])){this.plotTop=co(this.plotTop,b+this.options.title.margin+d[0])}this.legend.display&&this.legend.adjustMargins(a,d);this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);c||this.getAxisMargins()},getAxisMargins:function(){var b=this,c=b.axisOffset=[0,0,0,0],a=b.margin;b.hasCartesianSeries&&ch(b.axes,function(d){d.visible&&d.getOffset()});ch(M,function(d,f){cl(a[f])||(b[d]+=c[f])});b.setChartSize()},reflow:function(d){var f=this,h=f.options.chart,a=f.renderTo,b=cl(h.width),c=h.width||K(a,"width"),h=h.height||K(a,"height"),a=d?d.target:c0;if(!b&&!f.isPrinting&&c&&h&&(a===c0||a===cF)){if(c!==f.containerWidth||h!==f.containerHeight){clearTimeout(f.reflowTimeout),f.reflowTimeout=cP(function(){f.container&&f.setSize(void 0,void 0,!1)},d?100:0)}f.containerWidth=c;f.containerHeight=h}},initReflow:function(){var a=this,b=function(c){a.reflow(c)};cN(c0,"resize",b);cN(a,"destroy",function(){a5(c0,"resize",b)})},setSize:function(d,f,a){var b=this,c=b.renderer;b.isResizing+=1;cf(a,b);b.oldChartHeight=b.chartHeight;b.oldChartWidth=b.chartWidth;if(d!==void 0){b.options.chart.width=d}if(f!==void 0){b.options.chart.height=f}b.getChartSize();d=c.globalAnimation;(d?dC:c5)(b.container,{width:b.chartWidth+"px",height:b.chartHeight+"px"},d);b.setChartSize(!0);c.setSize(b.chartWidth,b.chartHeight,a);b.maxTicks=null;ch(b.axes,function(h){h.isDirty=!0;h.setScale()});ch(b.series,function(h){h.isDirty=!0});b.isDirtyLegend=!0;b.isDirtyBox=!0;b.layOutTitles();b.getMargins();b.redraw(a);b.oldChartHeight=null;cY(b,"resize");cP(function(){b&&cY(b,"endResize",null,function(){b.isResizing-=1})},cW(d).duration)},setChartSize:function(n){var a=this.inverted,c=this.renderer,d=this.chartWidth,h=this.chartHeight,i=this.options.chart,j=this.spacing,k=this.clipOffset,l,m,b,f;this.plotLeft=l=cB(this.plotLeft);this.plotTop=m=cB(this.plotTop);this.plotWidth=b=co(0,cB(d-l-this.marginRight));this.plotHeight=f=co(0,cB(h-m-this.marginBottom));this.plotSizeX=a?f:b;this.plotSizeY=a?b:f;this.plotBorderWidth=i.plotBorderWidth||0;this.spacingBox=c.spacingBox={x:j[3],y:j[0],width:d-j[3]-j[1],height:h-j[0]-j[2]};this.plotBox=c.plotBox={x:l,y:m,width:b,height:f};d=2*ba(this.plotBorderWidth/2);a=D(co(d,k[3])/2);c=D(co(d,k[0])/2);this.clipBox={x:a,y:c,width:ba(this.plotSizeX-co(d,k[1])/2-a),height:co(0,ba(this.plotSizeY-co(d,k[2])/2-c))};n||ch(this.axes,function(p){p.setAxisSize();p.setAxisTranslation()})},resetMargins:function(){var a=this;ch(M,function(c,b){a[c]=cj(a.margin[b],a.spacing[b])});a.axisOffset=[0,0,0,0];a.clipOffset=[0,0,0,0]},drawChartBox:function(){var a=this.options.chart,b=this.renderer,c=this.chartWidth,d=this.chartHeight,f=this.chartBackground,h=this.plotBackground,i=this.plotBorder,k=this.plotBGImage,m=a.borderWidth||0,p=a.backgroundColor,s=a.plotBackgroundColor,F=a.plotBackgroundImage,L=a.plotBorderWidth||0,Z,ae=this.plotLeft,l=this.plotTop,n=this.plotWidth,j=this.plotHeight,ad=this.plotBox,u=this.clipRect,r=this.clipBox;Z=m+(a.shadow?8:0);if(m||p){if(f){f.animate(f.crisp({width:c-Z,height:d-Z}))}else{f={fill:p||"none"};if(m){f.stroke=a.borderColor,f["stroke-width"]=m}this.chartBackground=b.rect(Z/2,Z/2,c-Z,d-Z,a.borderRadius,m).attr(f).addClass("highcharts-background").add().shadow(a.shadow)}}if(s){h?h.animate(ad):this.plotBackground=b.rect(ae,l,n,j,0).attr({fill:s}).add().shadow(a.plotShadow)}if(F){k?k.animate(ad):this.plotBGImage=b.image(F,ae,l,n,j).add()}u?u.animate({width:r.width,height:r.height}):this.clipRect=b.clipRect(r);if(L){i?(i.strokeWidth=-L,i.animate(i.crisp({x:ae,y:l,width:n,height:j}))):this.plotBorder=b.rect(ae,l,n,j,0,-L).attr({stroke:a.plotBorderColor,"stroke-width":L,fill:"none",zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var d=this,f=d.options.chart,h,a=d.options.series,b,c;ch(["inverted","angular","polar"],function(i){h=cV[f.type||f.defaultSeriesType];c=d[i]||f[i]||h&&h.prototype[i];for(b=a&&a.length;!c&&b--;){(h=cV[a[b].type])&&h.prototype[i]&&(c=!0)}d[i]=c})},linkSeries:function(){var a=this,b=a.series;ch(b,function(c){c.linkedSeries.length=0});ch(b,function(d){var c=d.options.linkedTo;if(ct(c)&&(c=c===":previous"?a.series[d.index-1]:a.get(c))){c.linkedSeries.push(d),d.linkedParent=c,d.visible=cj(d.options.visible,c.options.visible,d.visible)}})},renderSeries:function(){ch(this.series,function(a){a.translate();a.render()})},renderLabels:function(){var a=this,b=a.options.labels;b.items&&ch(b.items,function(h){var c=cm(b.style,h.style),d=cR(c.left)+a.plotLeft,f=cR(c.top)+a.plotTop+12;delete c.left;delete c.top;a.renderer.text(h.html,d,f).attr({zIndex:2}).css(c).add()})},render:function(){var d=this.axes,h=this.renderer,f=this.options,i,a,b,c;this.setTitle();this.legend=new a0(this,f.legend);this.getStacks&&this.getStacks();this.getMargins(!0);this.setChartSize();i=this.plotWidth;a=this.plotHeight-=21;ch(d,function(j){j.setScale()});this.getAxisMargins();b=i/this.plotWidth>1.1;c=a/this.plotHeight>1.05;if(b||c){this.maxTicks=null,ch(d,function(j){(j.horiz&&b||!j.horiz&&c)&&j.setTickInterval(!0)}),this.getMargins()}this.drawChartBox();this.hasCartesianSeries&&ch(d,function(j){j.visible&&j.render()});if(!this.seriesGroup){this.seriesGroup=h.g("series-group").attr({zIndex:3}).add()}this.renderSeries();this.renderLabels();this.showCredits(f.credits);this.hasRendered=!0},showCredits:function(a){if(a.enabled&&!this.credits){this.credits=this.renderer.text(a.text,0,0).on("click",function(){if(a.href){c0.location.href=a.href}}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position)}},destroy:function(){var d=this,f=d.axes,h=d.series,a=d.container,b,c=a&&a.parentNode;cY(d,"destroy");ce[d.index]=cn;U--;d.renderTo.removeAttribute("data-highcharts-chart");a5(d);for(b=f.length;b--;){f[b]=f[b].destroy()}for(b=h.length;b--;){h[b]=h[b].destroy()}ch("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(j){var i=d[j];i&&i.destroy&&(d[j]=i.destroy())});if(a){a.innerHTML="",a5(a),c&&ci(a)}for(b in d){delete d[b]}},isReadyToRender:function(){var a=this;return !S&&c0==c0.top&&cF.readyState!=="complete"||cM&&!c0.canvg?(cM?dI.push(function(){a.firstRender()},a.options.global.canvasToolsURL):cF.attachEvent("onreadystatechange",function(){cF.detachEvent("onreadystatechange",a.firstRender);cF.readyState==="complete"&&a.firstRender()}),!1):!0},firstRender:function(){var a=this,b=a.options;if(a.isReadyToRender()){a.getContainer();cY(a,"init");a.resetMargins();a.setChartSize();a.propFromSeries();a.getAxes();ch(b.series||[],function(c){a.initSeries(c)});a.linkSeries();cY(a,"beforeRender");if(cE.Pointer){a.pointer=new dl(a,b)}a.render();a.renderer.draw();if(!a.renderer.imgCount&&a.onload){a.onload()}a.cloneRenderTo(!0)}},onload:function(){var a=this;ch([this.callback].concat(this.callbacks),function(b){b&&a.index!==void 0&&b.apply(a,[a])});cY(a,"load");this.onload=null},splashArray:function(b,c){var a=c[b],a=cC(a)?a:[a,a,a,a];return[cj(c[b+"Top"],a[0]),cj(c[b+"Right"],a[1]),cj(c[b+"Bottom"],a[2]),cj(c[b+"Left"],a[3])]}};var dm=cE.CenteredSeriesMixin={getCenter:function(){var f=this.options,i=this.chart,b=2*(f.slicedOffset||0),h=i.plotWidth-2*b,i=i.plotHeight-2*b,j=f.center,j=[cj(j[0],"50%"),cj(j[1],"50%"),f.size||"100%",f.innerSize||0],a=cJ(h,i),c,d;for(c=0;c<4;++c){d=j[c],f=c<2||c===2&&/%$/.test(d),j[c]=(/%$/.test(d)?[h,i,a,j[2]][c]*parseFloat(d)/100:parseFloat(d))+(f?b:0)}j[3]>j[2]&&(j[3]=j[2]);return j}},cb=function(){};cb.prototype={init:function(b,c,a){this.series=b;this.color=b.color;this.applyOptions(c,a);this.pointAttr={};if(b.options.colorByPoint&&(c=b.options.colors||b.chart.options.colors,this.color=this.color||c[b.colorCounter++],b.colorCounter===c.length)){b.colorCounter=0}b.chart.pointCount++;return this},applyOptions:function(c,d){var a=this.series,b=a.options.pointValKey||a.pointValKey,c=cb.prototype.optionsToObject.call(this,c);cm(this,c);this.options=this.options?cm(this.options,c):c;if(b){this.y=this[b]}this.isNull=this.x===null||!cr(this.y,!0);if(this.x===void 0&&a){this.x=d===void 0?a.autoIncrement(this):d}if(a.xAxis&&a.xAxis.names){a.xAxis.names[this.x]=this.name}return this},optionsToObject:function(f){var i={},b=this.series,h=b.options.keys,j=h||b.pointArrayMap||["y"],a=j.length,c=0,d=0;if(cr(f)||f===null){i[j[0]]=f}else{if(P(f)){if(!h&&f.length>a){b=typeof f[0];if(b==="string"){i.name=f[0]}else{if(b==="number"){i.x=f[0]}}c++}for(;d<a;){if(!h||f[c]!==void 0){i[j[d]]=f[c]}c++;d++}}else{if(typeof f==="object"){i=f;if(f.dataLabels){b._hasPointLabels=!0}if(f.marker){b._hasPointMarkers=!0}}}}return i},destroy:function(){var b=this.series.chart,c=b.hoverPoints,a;b.pointCount--;if(c&&(this.setState(),dQ(c,this),!c.length)){b.hoverPoints=null}if(this===b.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){a5(this),this.destroyElements()}this.legendItem&&b.legend.destroyItem(this);for(a in this){this[a]=null}},destroyElements:function(){for(var b=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],c,a=6;a--;){c=b[a],this[c]&&(this[c]=this[c].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(d){var f=this.series,h=f.tooltipOptions,a=cj(h.valueDecimals,""),b=h.valuePrefix||"",c=h.valueSuffix||"";ch(f.pointArrayMap||["y"],function(i){i="{point."+i;if(b||c){d=d.replace(i+"}",b+i+"}"+c)}d=d.replace(i+"}",i+":,."+a+"f}")});return dw(d,{point:this,series:this.series})},firePointEvent:function(d,f,a){var b=this,c=this.series.options;(c.point.events[d]||b.options&&b.options.events&&b.options.events[d])&&this.importEvents();d==="click"&&c.allowPointSelect&&(a=function(h){b.select&&b.select(null,h.ctrlKey||h.metaKey||h.shiftKey)});cY(this,d,f,a)},visible:!0};var c7=cE.Series=function(){};c7.prototype={isCartesian:!0,type:"line",pointClass:cb,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(d,h){var f=this,i,a,b=d.series,c=function(k,j){return cj(k.options.index,k._i)-cj(j.options.index,j._i)};f.chart=d;f.options=h=f.setOptions(h);f.linkedSeries=[];f.bindAxes();cm(f,{name:h.name,state:"",pointAttr:{},visible:h.visible!==!1,selected:h.selected===!0});if(cM){h.animation=!1}a=h.events;for(i in a){cN(f,i,a[i])}if(a&&a.click||h.point&&h.point.events&&h.point.events.click||h.allowPointSelect){d.runTrackerClick=!0}f.getColor();f.getSymbol();ch(f.parallelArrays,function(j){f[j+"Data"]=[]});f.setData(h.data,!1);if(f.isCartesian){d.hasCartesianSeries=!0}b.push(f);f._i=b.length-1;cs(b,c);this.yAxis&&cs(this.yAxis.series,c);ch(b,function(k,j){k.index=j;k.name=k.name||"Series "+(j+1)})},bindAxes:function(){var c=this,d=c.options,a=c.chart,b;ch(c.axisTypes||[],function(f){ch(a[f],function(h){b=h.options;if(d[f]===b.index||d[f]!==cn&&d[f]===b.id||d[f]===cn&&b.index===0){h.series.push(c),c[f]=h,h.isDirty=!0}});!c[f]&&c.optionalAxis!==f&&bc(18,!0)})},updateParallelArrays:function(d,f){var a=d.series,b=arguments,c=cr(f)?function(h){var i=h==="y"&&a.toYData?a.toYData(d):d[h];a[h+"Data"][f]=i}:function(h){Array.prototype[f].apply(a[h+"Data"],Array.prototype.slice.call(b,2))};ch(a.parallelArrays,c)},autoIncrement:function(d){var c;var h=this.options,f=this.xIncrement,i=h.pointIntervalUnit,a=this.xAxis,b,f=cj(f,h.pointStart,0);this.pointInterval=h=cj(this.pointInterval,h.pointInterval,1);if(a&&a.categories&&d.name){if(this.requireSorting=!1,c=(b=P(a.categories))?a.categories:a.names,a=c,d=z(d.name,a),d===-1){if(!b){f=a.length}}else{f=d}}i&&(d=new di(f),i==="day"?d=+d[dK](d[t]()+h):i==="month"?d=+d[Y](d[cp]()+h):i==="year"&&(d=+d[cw](d[T]()+h)),h=d-f);this.xIncrement=f+h;return f},setOptions:function(d){var f=this.chart,a=f.options.plotOptions,f=f.userOptions||{},b=f.plotOptions||{},c=a[this.type];this.userOptions=d;a=cH(c,a.series,d);this.tooltipOptions=cH(c8.tooltip,c8.plotOptions[this.type].tooltip,f.tooltip,b.series&&b.series.tooltip,b[this.type]&&b[this.type].tooltip,d.tooltip);c.marker===null&&delete a.marker;this.zoneAxis=a.zoneAxis;d=this.zones=(a.zones||[]).slice();if((a.negativeColor||a.negativeFillColor)&&!a.zones){d.push({value:a[this.zoneAxis+"Threshold"]||a.threshold||0,color:a.negativeColor,fillColor:a.negativeFillColor})}d.length&&cl(d[d.length-1].value)&&d.push({color:this.color,fillColor:this.fillColor});return a},getCyclic:function(d,f,h){var a=this.userOptions,b="_"+d+"Index",c=d+"Counter";f||(cl(a[b])?f=a[b]:(a[b]=f=this.chart[c]%h.length,this.chart[c]+=1),f=h[f]);this[d]=f},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||a8[this.type].color,this.chart.options.colors)},getSymbol:function(){var a=this.options.marker;this.getCyclic("symbol",a.symbol,this.chart.options.symbols);if(/^url/.test(this.symbol)){a.radius=0}},drawLegendSymbol:q.drawLineMarker,setData:function(k,m,p,r){var u=this,a=u.points,c=a&&a.length||0,d,h=u.options,i=u.chart,j=null,l=u.xAxis,n=h.turboThreshold,s=this.xData,b=this.yData,f=(d=u.pointArrayMap)&&d.length,k=k||[];d=k.length;m=cj(m,!0);if(r!==!1&&d&&c===d&&!u.cropped&&!u.hasGroupedData&&u.visible){ch(k,function(F,L){a[L].update&&F!==h.data[L]&&a[L].update(F,!1,null,!1)})}else{u.xIncrement=null;u.colorCounter=0;ch(this.parallelArrays,function(F){u[F+"Data"].length=0});if(n&&d>n){for(p=0;j===null&&p<d;){j=k[p],p++}if(cr(j)){j=cj(h.pointStart,0);f=cj(h.pointInterval,1);for(p=0;p<d;p++){s[p]=j,b[p]=k[p],j+=f}u.xIncrement=j}else{if(P(j)){if(f){for(p=0;p<d;p++){j=k[p],s[p]=j[0],b[p]=j.slice(1,f+1)}}else{for(p=0;p<d;p++){j=k[p],s[p]=j[0],b[p]=j[1]}}}else{bc(12)}}}else{for(p=0;p<d;p++){k[p]!==cn&&(j={series:u},u.pointClass.prototype.applyOptions.apply(j,[k[p]]),u.updateParallelArrays(j,p))}}ct(b[0])&&bc(14,!0);u.data=[];u.options.data=u.userOptions.data=k;for(p=c;p--;){a[p]&&a[p].destroy&&a[p].destroy()}if(l){l.minRange=l.userMinRange}u.isDirty=u.isDirtyData=i.isDirtyBox=!0;p=!1}h.legendType==="point"&&(this.processData(),this.generatePoints());m&&i.redraw(p)},processData:function(l){var n=this.xData,p=this.yData,s=n.length,a;a=0;var c,d,h=this.xAxis,i,j=this.options;i=j.cropThreshold;var k=this.getExtremesFromAll||j.getExtremesFromAll,m=this.isCartesian,j=h&&h.val2lin,r=h&&h.isLog,b,f;if(m&&!this.isDirty&&!h.isDirty&&!this.yAxis.isDirty&&!l){return !1}if(h){l=h.getExtremes(),b=l.min,f=l.max}if(m&&this.sorted&&!k&&(!i||s>i||this.forceCrop)){if(n[s-1]<b||n[0]>f){n=[],p=[]}else{if(n[0]<b||n[s-1]>f){a=this.cropData(this.xData,this.yData,b,f),n=a.xData,p=a.yData,a=a.start,c=!0}}}for(i=n.length||1;--i;){s=r?j(n[i])-j(n[i-1]):n[i]-n[i-1],s>0&&(d===cn||s<d)?d=s:s<0&&this.requireSorting&&bc(15)}this.cropped=c;this.cropStart=a;this.processedXData=n;this.processedYData=p;this.closestPointRange=d},cropData:function(b,d,f,h){var i=b.length,j=0,k=i,a=cj(this.cropShoulder,1),c;for(c=0;c<i;c++){if(b[c]>=f){j=co(0,c-a);break}}for(f=c;f<i;f++){if(b[f]>h){k=f+a;break}}return{xData:b.slice(j,k),yData:d.slice(j,k),start:j,end:k}},generatePoints:function(){var m=this.options.data,p=this.data,a,c=this.processedXData,d=this.processedYData,h=this.pointClass,i=c.length,j=this.cropStart||0,k,l=this.hasGroupedData,n,b=[],f;if(!p&&!l){p=[],p.length=m.length,p=this.data=p}for(f=0;f<i;f++){k=j+f,l?(b[f]=(new h).init(this,[c[f]].concat(dJ(d[f]))),b[f].dataGroup=this.groupMap[f]):(p[k]?n=p[k]:m[k]!==cn&&(p[k]=n=(new h).init(this,m[k],c[f])),b[f]=n),b[f].index=k}if(p&&(i!==(a=p.length)||l)){for(f=0;f<a;f++){if(f===j&&!l&&(f+=i),p[f]){p[f].destroyElements(),p[f].plotX=cn}}}this.data=p;this.points=b},getExtremes:function(n){var a=this.yAxis,c=this.processedXData,d,h=[],i=0;d=this.xAxis.getExtremes();var j=d.min,k=d.max,l,m,b,f,n=n||this.stackedYData||this.processedYData||[];d=n.length;for(f=0;f<d;f++){if(m=c[f],b=n[f],l=b!==null&&b!==cn&&(!a.isLog||b.length||b>0),m=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(c[f+1]||m)>=j&&(c[f-1]||m)<=k,l&&m){if(l=b.length){for(;l--;){b[l]!==null&&(h[i++]=b[l])}}else{h[i++]=b}}}this.dataMin=dL(h);this.dataMax=V(h)},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var a=this.options,b=a.stacking,c=this.xAxis,d=c.categories,f=this.yAxis,h=this.points,i=h.length,j=!!this.modifyValue,n=a.pointPlacement,p=n==="between"||cr(n),s=a.threshold,F=a.startFromThreshold?s:0,L,Z,af,k,l=Number.MAX_VALUE,a=0;a<i;a++){var ae=h[a],m=ae.x,u=ae.y;Z=ae.low;var r=b&&f.stacks[(this.negStacks&&u<(F?0:s)?"-":"")+this.stackKey],ad;if(f.isLog&&u!==null&&u<=0){ae.y=u=null,bc(10)}ae.plotX=L=a6(cJ(co(-100000,c.translate(m,0,0,0,1,n,this.type==="flags")),100000));if(b&&this.visible&&!ae.isNull&&r&&r[m]){k=this.getStackIndicator(k,m,this.index),ad=r[m],u=ad.points[k.key],Z=u[0],u=u[1],Z===F&&k.key===r[m].base&&(Z=cj(s,f.min)),f.isLog&&Z<=0&&(Z=null),ae.total=ae.stackTotal=ad.total,ae.percentage=ad.total&&ae.y/ad.total*100,ae.stackY=u,ad.setOffset(this.pointXOffset||0,this.barW||0)}ae.yBottom=cl(Z)?f.translate(Z,0,1,0,1):null;j&&(u=this.modifyValue(u,ae));ae.plotY=Z=typeof u==="number"&&u!==Infinity?cJ(co(-100000,f.translate(u,0,1,0,1)),100000):cn;ae.isInside=Z!==cn&&Z>=0&&Z<=f.len&&L>=0&&L<=c.len;ae.clientX=p?a6(c.translate(m,0,0,0,1)):L;ae.negative=ae.y<(s||0);ae.category=d&&d[ae.x]!==cn?d[ae.x]:ae.x;ae.isNull||(af!==void 0&&(l=cJ(l,dg(L-af))),af=L)}this.closestPointRangePx=l},getValidPoints:function(b,c){var a=this.chart;return W(b||this.points||[],function(d){return c&&!a.isInsidePlot(d.plotX,d.plotY,a.inverted)?!1:!d.isNull})},setClip:function(b){var c=this.chart,f=this.options,h=c.renderer,i=c.inverted,j=this.clipBox,k=j||c.clipBox,l=this.sharedClipKey||["_sharedClip",b&&b.duration,b&&b.easing,k.height,f.xAxis,f.yAxis].join(","),a=c[l],d=c[l+"m"];if(!a){if(b){k.width=0,c[l+"m"]=d=h.clipRect(-99,i?-c.plotLeft:-c.plotTop,99,i?c.chartWidth:c.chartHeight)}c[l]=a=h.clipRect(k);a.count={length:0}}b&&!a.count[this.index]&&(a.count[this.index]=!0,a.count.length+=1);if(f.clip!==!1){this.group.clip(b||j?a:c.clipRect),this.markerGroup.clip(d),this.sharedClipKey=l}b||(a.count[this.index]&&(delete a.count[this.index],a.count.length-=1),a.count.length===0&&l&&c[l]&&(j||(c[l]=c[l].destroy()),c[l+"m"]&&(c[l+"m"]=c[l+"m"].destroy())))},animate:function(c){var d=this.chart,a=this.options.animation,b;if(a&&!cC(a)){a=a8[this.type].animation}c?this.setClip(a):(b=this.sharedClipKey,(c=d[b])&&c.animate({width:d.plotSizeX},a),d[b+"m"]&&d[b+"m"].animate({width:d.plotSizeX+99},a),this.animate=null)},afterAnimate:function(){this.setClip();cY(this,"afterAnimate")},drawPoints:function(){var a,b=this.points,c=this.chart,d,j,k,l,n,r,s,u,L=this.options.marker,f=this.pointAttr[""],h,m,p,F=this.markerGroup,i=cj(L.enabled,this.xAxis.isRadial,this.closestPointRangePx>2*L.radius);if(L.enabled!==!1||this._hasPointMarkers){for(k=b.length;k--;){if(l=b[k],d=ba(l.plotX),j=l.plotY,u=l.graphic,h=l.marker||{},m=!!l.marker,a=i&&h.enabled===cn||h.enabled,p=l.isInside,a&&cr(j)&&l.y!==null){if(a=l.pointAttr[l.selected?"select":""]||f,n=a.r,r=cj(h.symbol,this.symbol),s=r.indexOf("url")===0,u){u[p?"show":"hide"](!0).attr(a).animate(cm({x:d-n,y:j-n},u.symbolName?{width:2*n,height:2*n}:{}))}else{if(p&&(n>0||s)){l.graphic=c.renderer.symbol(r,d-n,j-n,2*n,2*n,m?h:L).attr(a).add(F)}}}else{if(u){l.graphic=u.destroy()}}}}},convertAttribs:function(f,i,b,h){var j=this.pointAttrToOptions,a,c,d={},f=f||{},i=i||{},b=b||{},h=h||{};for(a in j){c=j[a],d[a]=cj(f[c],i[a],b[a],h[a])}return d},getAttribs:function(){var a=this,b=a.options,c=a8[a.type].marker?b.marker:b,d=c.states,f=d.hover,j,l=a.color,m=a.options.negativeColor,r={stroke:l,fill:l},s=a.points||[],u,L=[],Z,h=a.pointAttrToOptions;j=a.hasPointSpecificOptions;var i=c.lineColor,k=c.fillColor;u=b.turboThreshold;var n=a.zones,ad=a.zoneAxis||"y",p,F;b.marker?(f.radius=+f.radius||+c.radius+ +f.radiusPlus,f.lineWidth=f.lineWidth||c.lineWidth+f.lineWidthPlus):(f.color=f.color||ac(f.color||l).brighten(f.brightness).get(),f.negativeColor=f.negativeColor||ac(f.negativeColor||m).brighten(f.brightness).get());L[""]=a.convertAttribs(c,r);ch(["hover","select"],function(ae){L[ae]=a.convertAttribs(d[ae],L[""])});a.pointAttr=L;l=s.length;if(!u||l<u||j){for(;l--;){u=s[l];if((c=u.options&&u.options.marker||u.options)&&c.enabled===!1){c.radius=0}r=null;if(n.length){j=0;for(r=n[j];u[ad]>=r.value;){r=n[++j]}u.color=u.fillColor=r=cj(r.color,a.color)}j=b.colorByPoint||u.color;if(u.options){for(F in h){cl(c[h[F]])&&(j=!0)}}if(j){c=c||{};Z=[];d=c.states||{};j=d.hover=d.hover||{};if(!b.marker||u.negative&&!j.fillColor&&!f.fillColor){j[a.pointAttrToOptions.fill]=j.color||!u.options.color&&f[u.negative&&m?"negativeColor":"color"]||ac(u.color).brighten(j.brightness||f.brightness).get()}p={color:u.color};if(!k){p.fillColor=u.color}if(!i){p.lineColor=u.color}c.hasOwnProperty("color")&&!c.color&&delete c.color;if(r&&!f.fillColor){j.fillColor=r}Z[""]=a.convertAttribs(cm(p,c),L[""]);Z.hover=a.convertAttribs(d.hover,L.hover,Z[""]);Z.select=a.convertAttribs(d.select,L.select,Z[""])}else{Z=L}u.pointAttr=Z}}},destroy:function(){var f=this,i=f.chart,b=/AppleWebKit\/533/.test(cQ),h,j=f.data||[],a,c,d;cY(f,"destroy");a5(f);ch(f.axisTypes||[],function(k){if(d=f[k]){dQ(d.series,f),d.isDirty=d.forceRedraw=!0}});f.legendItem&&f.chart.legend.destroyItem(f);for(h=j.length;h--;){(a=j[h])&&a.destroy&&a.destroy()}f.points=null;clearTimeout(f.animationTimeout);for(c in f){f[c] instanceof cL&&!f[c].survive&&(h=b&&c==="group"?"hide":"destroy",f[c][h]())}if(i.hoverSeries===f){i.hoverSeries=null}dQ(i.series,f);for(c in f){delete f[c]}},getGraphPath:function(b,c,f){var h=this,i=h.options,j=i.step,k,l=[],a=[],d,b=b||h.points;(k=b.reversed)&&b.reverse();(j={right:1,center:2}[j]||j&&3)&&k&&(j=4-j);i.connectNulls&&!c&&!f&&(b=this.getValidPoints(b));ch(b,function(p,r){var s=p.plotX,m=p.plotY,n=b[r-1];if((p.leftCliff||n&&n.rightCliff)&&!f){d=!0}p.isNull&&!cl(c)&&r>0?d=!i.connectNulls:p.isNull&&!c?d=!0:(r===0||d?n=[a7,p.plotX,p.plotY]:h.getPointSpline?n=h.getPointSpline(b,p,r):j?(n=j===1?[dd,n.plotX,m]:j===2?[dd,(n.plotX+s)/2,n.plotY,dd,(n.plotX+s)/2,m]:[dd,s,n.plotY],n.push(dd,s,m)):n=[dd,s,m],a.push(p.x),j&&a.push(p.x),l.push.apply(l,n),d=!1)});l.xMap=a;return h.graphPath=l},drawGraph:function(){var d=this,f=this.options,h=[["graph",f.lineColor||this.color,f.dashStyle]],a=f.lineWidth,b=f.linecap!=="square",c=(this.gappedPath||this.getGraphPath).call(this);ch(this.zones,function(i,j){h.push(["zoneGraph"+j,i.color||d.color,i.dashStyle||f.dashStyle])});ch(h,function(k,l){var i=k[0],j=d[i];if(j){j.endX=c.xMap,j.animate({d:c})}else{if(a&&c.length){j={stroke:k[1],"stroke-width":a,fill:"none",zIndex:1},k[2]?j.dashstyle=k[2]:b&&(j["stroke-linecap"]=j["stroke-linejoin"]="round"),j=d[i]=d.chart.renderer.path(c).attr(j).add(d.group).shadow(l<2&&f.shadow)}}if(j){j.startX=c.xMap,j.isArea=c.isArea}})},applyZones:function(){var a=this,b=this.chart,c=b.renderer,d=this.zones,f,j,l=this.clips||[],m,r=this.graph,s=this.area,u=co(b.chartWidth,b.chartHeight),L=this[(this.zoneAxis||"y")+"Axis"],Z,h=L.reversed,i=b.inverted,k=L.horiz,n,ad,p,F=!1;if(d.length&&(r||s)&&L.min!==cn){r&&r.hide(),s&&s.hide(),Z=L.getExtremes(),ch(d,function(ae,af){f=h?k?b.plotWidth:0:k?0:L.toPixels(Z.min);f=cJ(co(cj(j,f),0),u);j=cJ(co(cB(L.toPixels(cj(ae.value,Z.max),!0)),0),u);F&&(f=j=L.toPixels(Z.max));n=Math.abs(f-j);ad=cJ(f,j);p=co(f,j);if(L.isXAxis){if(m={x:i?p:ad,y:0,width:n,height:u},!k){m.x=b.plotHeight-m.x}}else{if(m={x:0,y:i?p:ad,width:u,height:n},k){m.y=b.plotWidth-m.y}}b.inverted&&c.isVML&&(m=L.isXAxis?{x:0,y:h?ad:p,height:m.width,width:b.chartWidth}:{x:m.y-b.plotLeft-b.spacingBox.x,y:0,width:m.height,height:b.chartHeight});l[af]?l[af].animate(m):(l[af]=c.clipRect(m),r&&a["zoneGraph"+af].clip(l[af]),s&&a["zoneArea"+af].clip(l[af]));F=ae.value>Z.max}),this.clips=l}},invertGroups:function(){function b(){var d={width:c.yAxis.len,height:c.xAxis.len};ch(["group","markerGroup"],function(f){c[f]&&c[f].attr(d).invert()})}var c=this,a=c.chart;if(c.xAxis){cN(a,"resize",b),cN(c,"destroy",function(){a5(a,"resize",b)}),b(),c.invertGroups=b}},plotGroup:function(d,h,f,i,a){var b=this[d],c=!b;c&&(this[d]=b=this.chart.renderer.g(h).attr({zIndex:i||0.1}).add(a),b.addClass("highcharts-series-"+this.index));b.attr({visibility:f})[c?"attr":"animate"](this.getPlotBox());return b},getPlotBox:function(){var b=this.chart,c=this.xAxis,a=this.yAxis;if(b.inverted){c=a,a=this.xAxis}return{translateX:c?c.left:b.plotLeft,translateY:a?a.top:b.plotTop,scaleX:1,scaleY:1}},render:function(){var b=this,d=b.chart,f,h=b.options,i=!!b.animate&&d.renderer.isSVG&&cW(h.animation).duration,j=b.visible?"inherit":"hidden",k=h.zIndex,a=b.hasRendered,c=d.seriesGroup;f=b.plotGroup("group","series",j,k,c);b.markerGroup=b.plotGroup("markerGroup","markers",j,k,c);i&&b.animate(!0);b.getAttribs();f.inverted=b.isCartesian?d.inverted:!1;b.drawGraph&&(b.drawGraph(),b.applyZones());ch(b.points,function(l){l.redraw&&l.redraw()});b.drawDataLabels&&b.drawDataLabels();b.visible&&b.drawPoints();b.drawTracker&&b.options.enableMouseTracking!==!1&&b.drawTracker();d.inverted&&b.invertGroups();h.clip!==!1&&!b.sharedClipKey&&!a&&f.clip(d.clipRect);i&&b.animate();if(!a){b.animationTimeout=cP(function(){b.afterAnimate()},i)}b.isDirty=b.isDirtyData=!1;b.hasRendered=!0},redraw:function(){var d=this.chart,f=this.isDirty||this.isDirtyData,a=this.group,b=this.xAxis,c=this.yAxis;a&&(d.inverted&&a.attr({width:d.plotWidth,height:d.plotHeight}),a.animate({translateX:cj(b&&b.left,d.plotLeft),translateY:cj(c&&c.top,d.plotTop)}));this.translate();this.render();f&&delete this.kdTree},kdDimensions:1,kdAxisArray:["clientX","plotY"],searchPoint:function(d,f){var a=this.xAxis,b=this.yAxis,c=this.chart.inverted;return this.searchKDTree({clientX:c?a.len-d.chartY+a.pos:d.chartX-a.pos,plotY:c?b.len-d.chartX+b.pos:d.chartY-b.pos},f)},buildKDTree:function(){function b(f,i,j){var d,h;if(h=f&&f.length){return d=c.kdAxisArray[i%j],f.sort(function(k,l){return k[d]-l[d]}),h=Math.floor(h/2),{point:f[h],left:b(f.slice(0,h),i+1,j),right:b(f.slice(h+1),i+1,j)}}}var c=this,a=c.kdDimensions;delete c.kdTree;cP(function(){c.kdTree=b(c.getValidPoints(null,!c.directTouch),a,a)},c.options.kdNow?0:1)},searchKDTree:function(d,h){function f(n,p,r,s){var u=p.point,j=i.kdAxisArray[r%s],k,l,m=u;l=cl(n[a])&&cl(u[a])?Math.pow(n[a]-u[a],2):null;k=cl(n[b])&&cl(u[b])?Math.pow(n[b]-u[b],2):null;k=(l||0)+(k||0);u.dist=cl(k)?Math.sqrt(k):Number.MAX_VALUE;u.distX=cl(l)?Math.sqrt(l):Number.MAX_VALUE;j=n[j]-u[j];k=j<0?"left":"right";l=j<0?"right":"left";p[k]&&(k=f(n,p[k],r+1,s),m=k[c]<m[c]?k:u);p[l]&&Math.sqrt(j*j)<m[c]&&(n=f(n,p[l],r+1,s),m=n[c]<m[c]?n:m);return m}var i=this,a=this.kdAxisArray[0],b=this.kdAxisArray[1],c=h?"distX":"dist";this.kdTree||this.buildKDTree();if(this.kdTree){return f(d,this.kdTree,this.kdDimensions,this.kdDimensions)}}};de.prototype={destroy:function(){cy(this,this.axis)},render:function(b){var c=this.options,a=c.format,a=a?dw(a,this):c.formatter.call(this);this.label?this.label.attr({text:a,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(a,null,null,c.useHTML).css(c.style).attr({align:this.textAlign,rotation:c.rotation,visibility:"hidden"}).add(b)},setOffset:function(b,d){var f=this.axis,h=f.chart,i=h.inverted,j=f.reversed,j=this.isNegative&&!j||!this.isNegative&&j,k=f.translate(f.usePercentage?100:this.total,0,0,0,1),f=f.translate(0),f=dg(k-f),a=h.xAxis[0].translate(this.x)+b,c=h.plotHeight,j={x:i?j?k:k-f:a,y:i?c-a-d:j?c-k-f:c-k,width:i?f:d,height:i?d:f};if(i=this.label){i.align(this.alignOptions,null,j),j=i.alignAttr,i[this.options.crop===!1||h.isInsidePlot(j.x,j.y)?"show":"hide"](!0)}}};c1.prototype.getStacks=function(){var a=this;ch(a.yAxis,function(b){if(b.stacks&&b.hasVisibleSeries){b.oldStacks=b.stacks}});ch(a.series,function(b){if(b.options.stacking&&(b.visible===!0||a.options.chart.ignoreHiddenSeries===!1)){b.stackKey=b.type+cj(b.options.stack,"")}})};cX.prototype.buildStacks=function(){var d=this.series,f,a=cj(this.options.reversedStacks,!0),b=d.length,c;if(!this.isXAxis){this.usePercentage=!1;for(c=b;c--;){d[a?c:b-c-1].setStackedPoints()}for(c=b;c--;){f=d[a?c:b-c-1],f.setStackCliffs&&f.setStackCliffs()}if(this.usePercentage){for(c=0;c<b;c++){d[c].setPercentStacks()}}}};cX.prototype.renderStackTotals=function(){var d=this.chart,f=d.renderer,h=this.stacks,a,b,c=this.stackTotalGroup;if(!c){this.stackTotalGroup=c=f.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}c.translate(d.plotLeft,d.plotTop);for(a in h){for(b in d=h[a],d){d[b].render(c)}}};cX.prototype.resetStacks=function(){var b=this.stacks,c,a;if(!this.isXAxis){for(c in b){for(a in b[c]){b[c][a].touched<this.stacksTouched?(b[c][a].destroy(),delete b[c][a]):(b[c][a].total=null,b[c][a].cum=0)}}}};cX.prototype.cleanStacks=function(){var b,c,a;if(!this.isXAxis){if(this.oldStacks){b=this.stacks=this.oldStacks}for(c in b){for(a in b[c]){b[c][a].cum=b[c][a].total}}}};c7.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var a=this.processedXData,b=this.processedYData,c=[],d=b.length,f=this.options,h=f.threshold,i=f.startFromThreshold?h:0,l=f.stack,f=f.stacking,n=this.stackKey,r="-"+n,u=this.negStacks,F=this.yAxis,L=F.stacks,ad=F.oldStacks,j,k,m,ae,p,Z,s;F.stacksTouched+=1;for(p=0;p<d;p++){Z=a[p];s=b[p];j=this.getStackIndicator(j,Z,this.index);ae=j.key;m=(k=u&&s<(i?0:h))?r:n;L[m]||(L[m]={});if(!L[m][Z]){ad[m]&&ad[m][Z]?(L[m][Z]=ad[m][Z],L[m][Z].total=null):L[m][Z]=new de(F,F.options.stackLabels,k,Z,l)}m=L[m][Z];if(s!==null){m.points[ae]=m.points[this.index]=[cj(m.cum,i)];if(!cl(m.cum)){m.base=ae}m.touched=F.stacksTouched;j.index>0&&this.singleStacks===!1&&(m.points[ae][0]=m.points[this.index+","+Z+",0"][0])}f==="percent"?(k=k?n:r,u&&L[k]&&L[k][Z]?(k=L[k][Z],m.total=k.total=co(k.total,m.total)+dg(s)||0):m.total=a6(m.total+(dg(s)||0))):m.total=a6(m.total+(s||0));m.cum=cj(m.cum,i)+(s||0);if(s!==null){m.points[ae].push(m.cum),c[p]=m.cum}}if(f==="percent"){F.usePercentage=!0}this.stackedYData=c;F.oldStacks={}}};c7.prototype.setPercentStacks=function(){var d=this,f=d.stackKey,a=d.yAxis.stacks,b=d.processedXData,c;ch([f,"-"+f],function(l){var j;for(var k=b.length,h,i;k--;){if(h=b[k],c=d.getStackIndicator(c,h,d.index),j=(i=a[l]&&a[l][h])&&i.points[c.key],h=j){i=i.total?100/i.total:0,h[0]=a6(h[0]*i),h[1]=a6(h[1]*i),d.stackedYData[k]=h[1]}}})};c7.prototype.getStackIndicator=function(b,c,a){!cl(b)||b.x!==c?b={x:c,index:0}:b.index++;b.key=[a,c,b.index].join(",");return b};cm(c1.prototype,{addSeries:function(d,f,a){var b,c=this;d&&(f=cj(f,!0),cY(c,"addSeries",{options:d},function(){b=c.initSeries(d);c.isDirtyLegend=!0;c.linkSeries();f&&c.redraw(a)}));return b},addAxis:function(d,f,h,a){var b=f?"xAxis":"yAxis",c=this.options,d=cH(d,{index:this[b].length,isX:f});new cX(this,d);c[b]=dJ(c[b]||{});c[b].push(d);cj(h,!0)&&this.redraw(a)},showLoading:function(d){var f=this,h=f.options,a=f.loadingDiv,b=h.loading,c=function(){a&&c5(a,{left:f.plotLeft+"px",top:f.plotTop+"px",width:f.plotWidth+"px",height:f.plotHeight+"px"})};if(!a){f.loadingDiv=a=cU(x,{className:"highcharts-loading"},cm(b.style,{zIndex:10,display:"none"}),f.container),f.loadingSpan=cU("span",null,b.labelStyle,a),cN(f,"redraw",c)}f.loadingSpan.innerHTML=d||h.lang.loading;if(!f.loadingShown){c5(a,{opacity:0,display:""}),dC(a,{opacity:b.style.opacity},{duration:b.showDuration||0}),f.loadingShown=!0}c()},hideLoading:function(){var a=this.options,b=this.loadingDiv;b&&dC(b,{opacity:0},{duration:a.loading.hideDuration||100,complete:function(){c5(b,{display:"none"})}});this.loadingShown=!1}});cm(cb.prototype,{update:function(n,a,c,d){function h(){i.applyOptions(n);if(i.y===null&&k){i.graphic=k.destroy()}if(cC(n,!0)){i.redraw=function(){if(k&&k.element&&n&&n.marker&&n.marker.symbol){i.graphic=k.destroy()}if(n&&n.dataLabels&&i.dataLabel){i.dataLabel=i.dataLabel.destroy()}i.redraw=null}}l=i.index;j.updateParallelArrays(i,l);if(f&&i.name){f[i.x]=i.name}b.data[l]=cC(b.data[l],!0)?i.options:n;j.isDirty=j.isDirtyData=!0;if(!j.fixedBox&&j.hasCartesianSeries){m.isDirtyBox=!0}if(b.legendType==="point"){m.isDirtyLegend=!0}a&&m.redraw(c)}var i=this,j=i.series,k=i.graphic,l,m=j.chart,b=j.options,f=j.xAxis&&j.xAxis.names,a=cj(a,!0);d===!1?h():i.firePointEvent("update",{options:n},h)},remove:function(a,b){this.series.removePoint(z(this,this.series.data),a,b)}});cm(c7.prototype,{addPoint:function(m,p,a,c){var d=this.options,h=this.data,i=this.chart,j=this.xAxis&&this.xAxis.names,k=d.data,l,n=this.xData,b,f;cf(c,i);p=cj(p,!0);c={series:this};this.pointClass.prototype.applyOptions.apply(c,[m]);f=c.x;b=n.length;if(this.requireSorting&&f<n[b-1]){for(l=!0;b&&n[b-1]>f;){b--}}this.updateParallelArrays(c,"splice",b,0,0);this.updateParallelArrays(c,b);if(j&&c.name){j[f]=c.name}k.splice(b,0,m);l&&(this.data.splice(b,0,null),this.processData());d.legendType==="point"&&this.generatePoints();a&&(h[0]&&h[0].remove?h[0].remove(!1):(h.shift(),this.updateParallelArrays(c,"shift"),k.shift()));this.isDirtyData=this.isDirty=!0;p&&(this.getAttribs(),i.redraw())},removePoint:function(b,d,f){var h=this,i=h.data,j=i[b],k=h.points,a=h.chart,c=function(){k&&k.length===i.length&&k.splice(b,1);i.splice(b,1);h.options.data.splice(b,1);h.updateParallelArrays(j||{series:h},"splice",b,1);j&&j.destroy();h.isDirty=!0;h.isDirtyData=!0;d&&a.redraw()};cf(f,a);d=cj(d,!0);j?j.firePointEvent("remove",null,c):c()},remove:function(c,d){var a=this,b=a.chart;cY(a,"remove",null,function(){a.destroy();b.isDirtyLegend=b.isDirtyBox=!0;b.linkSeries();cj(c,!0)&&b.redraw(d)})},update:function(b,d){var f=this,h=this.chart,i=this.userOptions,j=this.type,k=cV[j].prototype,a=["group","markerGroup","dataLabelsGroup"],c;if(b.type&&b.type!==j||b.zIndex!==void 0){a.length=0}ch(a,function(l){a[l]=f[l];delete f[l]});b=cH(i,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},b);this.remove(!1);for(c in k){this[c]=cn}cm(this,cV[b.type||j].prototype);ch(a,function(l){f[l]=a[l]});this.init(h,b);h.linkSeries();cj(d,!0)&&h.redraw(!1)}});cm(cX.prototype,{update:function(b,c){var a=this.chart,b=a.options[this.coll][this.options.index]=cH(this.userOptions,b);this.destroy(!0);this.init(a,cm(b,{events:cn}));a.isDirtyBox=!0;cj(c,!0)&&a.redraw()},remove:function(d){for(var f=this.chart,a=this.coll,b=this.series,c=b.length;c--;){b[c]&&b[c].remove(!1)}dQ(f.axes,this);dQ(f[a],this);f.options[a].splice(this.options.index,1);ch(f[a],function(h,i){h.options.index=i});this.destroy();f.isDirtyBox=!0;cj(d,!0)&&f.redraw()},setTitle:function(a,b){this.update({title:a},b)},setCategories:function(a,b){this.update({categories:a},b)}});var dS=bb(c7);cV.line=dS;a8.area=cH(dN,{softThreshold:!1,threshold:0});var dF=bb(c7,{type:"area",singleStacks:!1,getStackPoints:function(){var m=[],n=[],r=this.xAxis,a=this.yAxis,c=a.stacks[this.stackKey],d={},h=this.points,i=this.index,j=a.series,k=j.length,l,p=cj(a.options.reversedStacks,!0)?1:-1,b,f;if(this.options.stacking){for(b=0;b<h.length;b++){d[h[b].x]=h[b]}for(f in c){c[f].total!==null&&n.push(f)}n.sort(function(s,u){return s-u});l=H(j,function(){return this.visible});ch(n,function(Z,s){var F=0,L,u;if(d[Z]&&!d[Z].isNull){m.push(d[Z]),ch([-1,1],function(ag){var ad=ag===1?"rightNull":"leftNull",af=0,ae=c[n[s+ag]];if(ae){for(b=i;b>=0&&b<k;){L=ae.points[b],L||(b===i?d[Z][ad]=!0:l[b]&&(u=c[Z].points[b])&&(af-=u[1]-u[0])),b+=p}}d[Z][ag===1?"rightCliff":"leftCliff"]=af})}else{for(b=i;b>=0&&b<k;){if(L=c[Z].points[b]){F=L[1];break}b+=p}F=a.toPixels(F,!0);m.push({isNull:!0,plotX:r.toPixels(Z,!0),plotY:F,yBottom:F})}})}return m},getGraphPath:function(k){var m=c7.prototype.getGraphPath,p=this.options,r=p.stacking,u=this.yAxis,a,c,d=[],h=[],i=this.index,j,l=u.stacks[this.stackKey],n=p.threshold,s=u.getThreshold(p.threshold),b,p=p.connectNulls||r==="percent",f=function(ag,F,ad){var ae=k[ag],ag=r&&l[ae.x].points[i],Z=ae[ad+"Null"]||0,ad=ae[ad+"Cliff"]||0,af,L,ae=!0;ad||Z?(af=(Z?ag[0]:ag[1])+ad,L=ag[0]+ad,ae=!!Z):!r&&k[F]&&k[F].isNull&&(af=L=n);af!==void 0&&(h.push({plotX:j,plotY:af===null?s:u.getThreshold(af),isNull:ae}),d.push({plotX:j,plotY:L===null?s:u.getThreshold(L)}))},k=k||this.points;r&&(k=this.getStackPoints());for(a=0;a<k.length;a++){if(c=k[a].isNull,j=cj(k[a].rectPlotX,k[a].plotX),b=cj(k[a].yBottom,s),!c||p){p||f(a,a-1,"left");if(!c||r||!p){h.push(k[a]),d.push({x:a,plotX:j,plotY:b})}p||f(a,a+1,"right")}}a=m.call(this,h,!0,!0);d.reversed=!0;c=m.call(this,d,!0,!0);c.length&&(c[0]=dd);c=a.concat(c);m=m.call(this,h,!1,p);c.xMap=a.xMap;this.areaPath=c;return m},drawGraph:function(){this.areaPath=[];c7.prototype.drawGraph.apply(this);var c=this,d=this.areaPath,a=this.options,b=[["area",this.color,a.fillColor]];ch(this.zones,function(f,h){b.push(["zoneArea"+h,f.color||c.color,f.fillColor||a.fillColor])});ch(b,function(h){var i=h[0],f=c[i];f?(f.endX=d.xMap,f.animate({d:d})):(f={fill:h[2]||h[1],zIndex:0},h[2]||(f["fill-opacity"]=cj(a.fillOpacity,0.75)),f=c[i]=c.chart.renderer.path(d).attr(f).add(c.group),f.isArea=!0);f.startX=d.xMap;f.shiftUnit=a.step?2:1})},drawLegendSymbol:q.drawRectangle});cV.area=dF;a8.spline=cH(dN);dS=bb(c7,{type:"spline",getPointSpline:function(a,c,d){var h=c.plotX,i=c.plotY,j=a[d-1],d=a[d+1],k,l,m,b;if(j&&!j.isNull&&d&&!d.isNull){a=j.plotY;m=d.plotX;var d=d.plotY,f=0;k=(1.5*h+j.plotX)/2.5;l=(1.5*i+a)/2.5;m=(1.5*h+m)/2.5;b=(1.5*i+d)/2.5;m!==k&&(f=(b-l)*(m-h)/(m-k)+i-b);l+=f;b+=f;l>a&&l>i?(l=co(a,i),b=2*i-l):l<a&&l<i&&(l=cJ(a,i),b=2*i-l);b>d&&b>i?(b=co(d,i),l=2*i-b):b<d&&b<i&&(b=cJ(d,i),l=2*i-b);c.rightContX=m;c.rightContY=b}c=["C",cj(j.rightContX,j.plotX),cj(j.rightContY,j.plotY),cj(k,h),cj(l,i),h,i];j.rightContX=j.rightContY=null;return c}});cV.spline=dS;a8.areaspline=cH(a8.area);dF=dF.prototype;dS=bb(dS,{type:"areaspline",getStackPoints:dF.getStackPoints,getGraphPath:dF.getGraphPath,setStackCliffs:dF.setStackCliffs,drawGraph:dF.drawGraph,drawLegendSymbol:q.drawRectangle});cV.areaspline=dS;a8.column=cH(dN,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0});dS=bb(c7,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){c7.prototype.init.apply(this,arguments);var a=this,b=a.chart;b.hasRendered&&ch(b.series,function(c){if(c.type===a.type){c.isDirty=!0}})},getColumnMetrics:function(){var a=this,c=a.options,d=a.xAxis,h=a.yAxis,i=d.reversed,j,k={},l=0;c.grouping===!1?l=1:ch(a.chart.series,function(s){var n=s.options,p=s.yAxis,r;if(s.type===a.type&&s.visible&&h.len===p.len&&h.pos===p.pos){n.stacking?(j=s.stackKey,k[j]===cn&&(k[j]=l++),r=k[j]):n.grouping!==!1&&(r=l++),s.columnIndex=r}});var m=cJ(dg(d.transA)*(d.ordinalSlope||c.pointRange||d.closestPointRange||d.tickInterval||1),d.len),b=m*c.groupPadding,f=(m-2*b)/l,c=cJ(c.maxPointWidth||d.len,cj(c.pointWidth,f*(1-2*c.pointPadding)));a.columnMetrics={width:c,offset:(f-c)/2+(b+((a.columnIndex||0)+(i?1:0))*f-m/2)*(i?-1:1)};return a.columnMetrics},crispCol:function(d,h,f,i){var a=this.chart,b=this.borderWidth,c=-(b%2?0.5:0),b=b%2?0.5:1;a.inverted&&a.renderer.isVML&&(b+=1);f=Math.round(d+f)+c;d=Math.round(d)+c;f-=d;i=Math.round(h+i)+b;c=dg(h)<=0.5&&i>0.5;h=Math.round(h)+b;i-=h;c&&i&&(h-=1,i+=1);return{x:d,y:h,width:f,height:i}},translate:function(){var a=this,c=a.chart,d=a.options,h=a.borderWidth=cj(d.borderWidth,a.closestPointRange*a.xAxis.transA<2?0:1),i=a.yAxis,j=a.translatedThreshold=i.getThreshold(d.threshold),k=cj(d.minPointLength,5),l=a.getColumnMetrics(),m=l.width,b=a.barW=co(m,1+2*h),f=a.pointXOffset=l.offset;c.inverted&&(j-=0.5);d.pointPadding&&(b=D(b));c7.prototype.translate.apply(a);ch(a.points,function(F){var L=cJ(cj(F.yBottom,j),90000),r=999+dg(L),r=cJ(co(-r,F.plotY),i.len+r),n=F.plotX+f,p=b,Z=cJ(r,L),s,u=co(r,L)-Z;dg(u)<k&&k&&(u=k,s=!i.reversed&&!F.negative||i.reversed&&F.negative,Z=dg(Z-j)>k?L-k:j-(s?k:0));F.barX=n;F.pointWidth=m;F.tooltipPos=c.inverted?[i.len+i.pos-c.plotLeft-r,a.xAxis.len-n-p/2,u]:[n+p/2,r+i.pos-c.plotTop,u];F.shapeType="rect";F.shapeArgs=a.crispCol(n,Z,p,u)})},getSymbol:c4,drawLegendSymbol:q.drawRectangle,drawGraph:c4,drawPoints:function(){var d=this,h=this.chart,f=d.options,i=h.renderer,a=f.animationLimit||250,b,c;ch(d.points,function(k){var l=k.graphic,j;if(cr(k.plotY)&&k.y!==null){b=k.shapeArgs,j=cl(d.borderWidth)?{"stroke-width":d.borderWidth}:{},c=k.pointAttr[k.selected?"select":""]||d.pointAttr[""],l?(c9(l),l.attr(j).attr(c)[h.pointCount<a?"animate":"attr"](cH(b))):k.graphic=i[k.shapeType](b).attr(j).attr(c).add(k.group||d.group).shadow(f.shadow,null,f.stacking&&!f.borderRadius)}else{if(l){k.graphic=l.destroy()}}})},animate:function(d){var f=this,h=this.yAxis,a=f.options,b=this.chart.inverted,c={};if(S){d?(c.scaleY=0.001,d=cJ(h.pos+h.len,co(h.pos,h.toPixels(a.threshold))),b?c.translateX=d-h.len:c.translateY=d,f.group.attr(c)):(c[b?"translateX":"translateY"]=h.pos,f.group.animate(c,cm(cW(f.options.animation),{step:function(j,i){f.group.attr({scaleY:co(0.001,i.pos)})}})),f.animate=null)}},remove:function(){var a=this,b=a.chart;b.hasRendered&&ch(b.series,function(c){if(c.type===a.type){c.isDirty=!0}});c7.prototype.remove.apply(a,arguments)}});cV.column=dS;a8.bar=cH(a8.column);dF=bb(dS,{type:"bar",inverted:!0});cV.bar=dF;a8.scatter=cH(dN,{lineWidth:0,marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});dF=bb(c7,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,kdDimensions:2,drawGraph:function(){this.options.lineWidth&&c7.prototype.drawGraph.call(this)}});cV.scatter=dF;a8.pie=cH(dN,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.y===null?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});dN={type:"pie",isCartesian:!1,pointClass:bb(cb,{init:function(){cb.prototype.init.apply(this,arguments);var a=this,b;a.name=cj(a.name,"Slice");b=function(c){a.slice(c.type==="select")};cN(a,"select",b);cN(a,"unselect",b);return a},setVisible:function(d,f){var h=this,a=h.series,b=a.chart,c=a.options.ignoreHiddenPoint,f=cj(f,c);if(d!==h.visible){h.visible=h.options.visible=d=d===cn?!h.visible:d;a.options.data[z(h,a.data)]=h.options;ch(["graphic","dataLabel","connector","shadowGroup"],function(i){if(h[i]){h[i][d?"show":"hide"](!0)}});h.legendItem&&b.legend.colorizeItem(h,d);!d&&h.state==="hover"&&h.setState("");if(c){a.isDirty=!0}f&&b.redraw()}},slice:function(c,d,a){var b=this.series;cf(a,b.chart);cj(d,!0);this.sliced=this.options.sliced=c=cl(c)?c:!this.sliced;b.options.data[z(this,b.data)]=this.options;c=c?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(c);this.shadowGroup&&this.shadowGroup.animate(c)},haloPath:function(b){var c=this.shapeArgs,a=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(a.plotLeft+c.x,a.plotTop+c.y,c.r+b,c.r+b,{innerR:this.shapeArgs.r,start:c.start,end:c.end})}}),requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},animate:function(c){var d=this,a=d.points,b=d.startAngleRad;if(!c){ch(a,function(f){var h=f.graphic,i=f.shapeArgs;h&&(h.attr({r:f.startR||d.center[3]/2,start:b,end:b}),h.animate({r:i.r,start:i.start,end:i.end},d.options.animation))}),d.animate=null}},updateTotals:function(){var d,f=0,h=this.points,a=h.length,b,c=this.options.ignoreHiddenPoint;for(d=0;d<a;d++){b=h[d];if(b.y<0){b.y=null}f+=c&&!b.visible?0:b.y}this.total=f;for(d=0;d<a;d++){b=h[d],b.percentage=f>0&&(b.visible||!c)?b.y/f*100:0,b.total=f}},generatePoints:function(){c7.prototype.generatePoints.call(this);this.updateTotals()},translate:function(l){this.generatePoints();var n=0,p=this.options,s=p.slicedOffset,a=s+p.borderWidth,c,d,h,i=p.startAngle||0,j=this.startAngleRad=cI/180*(i-90),i=(this.endAngleRad=cI/180*(cj(p.endAngle,i+360)-90))-j,k=this.points,m=p.dataLabels.distance,p=p.ignoreHiddenPoint,r,b=k.length,f;if(!l){this.center=l=this.getCenter()}this.getX=function(u,F){h=dj.asin(cJ((u-l[1])/(l[2]/2+m),1));return l[0]+(F?-1:1)*dA(h)*(l[2]/2+m)};for(r=0;r<b;r++){f=k[r];c=j+n*i;if(!p||f.visible){n+=f.percentage/100}d=j+n*i;f.shapeType="arc";f.shapeArgs={x:l[0],y:l[1],r:l[2]/2,innerR:l[3]/2,start:cB(c*1000)/1000,end:cB(d*1000)/1000};h=(d+c)/2;h>1.5*cI?h-=2*cI:h<-cI/2&&(h+=2*cI);f.slicedTranslation={translateX:cB(dA(h)*s),translateY:cB(dy(h)*s)};c=dA(h)*l[2]/2;d=dy(h)*l[2]/2;f.tooltipPos=[l[0]+c*0.7,l[1]+d*0.7];f.half=h<-cI/2||h>cI/2?1:0;f.angle=h;a=cJ(a,m/2);f.labelPos=[l[0]+c+dA(h)*m,l[1]+d+dy(h)*m,l[0]+c+dA(h)*a,l[1]+d+dy(h)*a,l[0]+c,l[1]+d,m<0?"center":f.half?"right":"left",h]}},drawGraph:null,drawPoints:function(){var b=this,d=b.chart.renderer,f,h,i=b.options.shadow,j,k,a,c;if(i&&!b.shadowGroup){b.shadowGroup=d.g("shadow").add(b.group)}ch(b.points,function(l){if(l.y!==null){h=l.graphic;a=l.shapeArgs;j=l.shadowGroup;k=l.pointAttr[l.selected?"select":""];if(!k.stroke){k.stroke=k.fill}if(i&&!j){j=l.shadowGroup=d.g("shadow").add(b.shadowGroup)}f=l.sliced?l.slicedTranslation:{translateX:0,translateY:0};j&&j.attr(f);if(h){h.setRadialReference(b.center).attr(k).animate(cm(a,f))}else{c={"stroke-linejoin":"round"};if(!l.visible){c.visibility="hidden"}l.graphic=h=d[l.shapeType](a).setRadialReference(b.center).attr(k).attr(c).attr(f).add(b.group).shadow(i,j)}}})},searchPoint:c4,sortByAngle:function(a,b){a.sort(function(d,c){return d.angle!==void 0&&(c.angle-d.angle)*b})},drawLegendSymbol:q.drawRectangle,getCenter:dm.getCenter,getSymbol:c4};dN=bb(c7,dN);cV.pie=dN;c7.prototype.drawDataLabels=function(){var n=this,a=n.options,c=a.cursor,d=a.dataLabels,h=n.points,i,j,k=n.hasRendered||0,l,m,b=cj(d.defer,!0),f=n.chart.renderer;if(d.enabled||n._hasPointLabels){n.dlProcessOptions&&n.dlProcessOptions(d),m=n.plotGroup("dataLabelsGroup","data-labels",b&&!k?"hidden":"visible",d.zIndex||6),b&&(m.attr({opacity:+k}),k||cN(n,"afterAnimate",function(){n.visible&&m.show(!0);m[a.animation?"animate":"attr"]({opacity:1},{duration:200})})),j=d,ch(h,function(F){var L,Z=F.dataLabel,ae,ad,u=F.connector,r=!0,s,p={};i=F.dlOptions||F.options&&F.options.dataLabels;L=cj(i&&i.enabled,j.enabled)&&F.y!==null;if(Z&&!L){F.dataLabel=Z.destroy()}else{if(L){d=cH(j,i);s=d.style;L=d.rotation;ae=F.getLabelConfig();l=d.format?dw(d.format,ae):d.formatter.call(ae,d);s.color=cj(d.color,s.color,n.color,"black");if(Z){if(cl(l)){Z.attr({text:l}),r=!1}else{if(F.dataLabel=Z=Z.destroy(),u){F.connector=u.destroy()}}}else{if(cl(l)){Z={fill:d.backgroundColor,stroke:d.borderColor,"stroke-width":d.borderWidth,r:d.borderRadius||0,rotation:L,padding:d.padding,zIndex:1};if(s.color==="contrast"){p.color=d.inside||d.distance<0||a.stacking?f.getContrast(F.color||n.color):"#000000"}if(c){p.cursor=c}for(ad in Z){Z[ad]===cn&&delete Z[ad]}Z=F.dataLabel=f[L?"text":"label"](l,0,-9999,d.shape,null,null,d.useHTML).attr(Z).css(cm(s,p)).add(m).shadow(d.shadow)}}Z&&n.alignDataLabel(F,Z,d,null,r)}}})}};c7.prototype.alignDataLabel=function(l,n,p,s,a){var c=this.chart,d=c.inverted,h=cj(l.plotX,-9999),i=cj(l.plotY,-9999),j=n.getBBox(),k=c.renderer.fontMetrics(p.style.fontSize).b,m=p.rotation,r=p.align,b=this.visible&&(l.series.forceDL||c.isInsidePlot(h,cB(i),d)||s&&c.isInsidePlot(h,d?s.x+1:s.y+s.height-1,d)),f=cj(p.overflow,"justify")==="justify";if(b){s=cm({x:d?c.plotWidth-i:h,y:cB(d?c.plotHeight-h:i),width:0,height:0},s),cm(p,{width:j.width,height:j.height}),m?(f=!1,d=c.renderer.rotCorr(k,m),d={x:s.x+p.x+s.width/2+d.x,y:s.y+p.y+{top:0,middle:0.5,bottom:1}[p.verticalAlign]*s.height},n[a?"attr":"animate"](d).attr({align:r}),h=(m+720)%360,h=h>180&&h<360,r==="left"?d.y-=h?j.height:0:r==="center"?(d.x-=j.width/2,d.y-=j.height/2):r==="right"&&(d.x-=j.width,d.y-=h?0:j.height)):(n.align(p,null,s),d=n.alignAttr),f?this.justifyDataLabel(n,p,d,j,s,a):cj(p.crop,!0)&&(b=c.isInsidePlot(d.x,d.y)&&c.isInsidePlot(d.x+j.width,d.y+j.height)),p.shape&&!m&&n.attr({anchorX:l.plotX,anchorY:l.plotY})}if(!b){c9(n),n.attr({y:-9999}),n.placed=!1}};c7.prototype.justifyDataLabel=function(n,a,c,d,h,i){var j=this.chart,k=a.align,l=a.verticalAlign,m,b,f=n.box?0:n.padding||0;m=c.x+f;if(m<0){k==="right"?a.align="left":a.x=-m,b=!0}m=c.x+d.width-f;if(m>j.plotWidth){k==="left"?a.align="right":a.x=j.plotWidth-m,b=!0}m=c.y+f;if(m<0){l==="bottom"?a.verticalAlign="top":a.y=-m,b=!0}m=c.y+d.height-f;if(m>j.plotHeight){l==="top"?a.verticalAlign="bottom":a.y=j.plotHeight-m,b=!0}if(b){n.placed=!i,n.align(a,null,h)}};if(cV.pie){cV.pie.prototype.drawDataLabels=function(){var b=this,d=b.data,h,j=b.chart,l=b.options.dataLabels,n=cj(l.connectorPadding,10),r=cj(l.connectorWidth,1),F=j.plotWidth,ad=j.plotHeight,ag,ah,al=cj(l.softConnector,!0),an=l.distance,ap=b.center,u=ap[2]/2,af=ap[1],ar=an>0,a,c,m,f=[[],[]],s,i,Z,at,aj,aq=[0,0,0,0],k=function(au,av){return av.y-au.y};if(b.visible&&(l.enabled||b._hasPointLabels)){c7.prototype.drawDataLabels.apply(b);ch(d,function(au){if(au.dataLabel&&au.visible){f[au.half].push(au),au.dataLabel._pos=null}});for(at=2;at--;){var ae=[],ai=[],p=f[at],am=p.length,L;if(am){b.sortByAngle(p,at-0.5);for(aj=d=0;!d&&p[aj];){d=p[aj]&&p[aj].dataLabel&&(p[aj].dataLabel.getBBox().height||21),aj++}if(an>0){c=cJ(af+u+an,j.plotHeight);for(aj=co(0,af-u-an);aj<=c;aj+=d){ae.push(aj)}c=ae.length;if(am>c){h=[].concat(p);h.sort(k);for(aj=am;aj--;){h[aj].rank=aj}for(aj=am;aj--;){p[aj].rank>=c&&p.splice(aj,1)}am=p.length}for(aj=0;aj<am;aj++){h=p[aj];m=h.labelPos;h=9999;var ao,ak;for(ak=0;ak<c;ak++){ao=dg(ae[ak]-m[1]),ao<h&&(h=ao,L=ak)}if(L<aj&&ae[aj]!==null){L=aj}else{for(c<am-aj+L&&ae[aj]!==null&&(L=c-am+aj);ae[L]===null;){L++}}ai.push({i:L,y:ae[L]});ae[L]=null}ai.sort(k)}for(aj=0;aj<am;aj++){h=p[aj];m=h.labelPos;a=h.dataLabel;Z=h.visible===!1?"hidden":"inherit";h=m[1];if(an>0){if(c=ai.pop(),L=c.i,i=c.y,h>i&&ae[L+1]!==null||h<i&&ae[L-1]!==null){i=cJ(co(0,h),j.plotHeight)}}else{i=h}s=l.justify?ap[0]+(at?-1:1)*(u+an):b.getX(i===af-u-an||i===af+u+an?h:i,at);a._attr={visibility:Z,align:m[6]};a._pos={x:s+l.x+({left:n,right:-n}[m[6]]||0),y:i+l.y-10};a.connX=s;a.connY=i;if(this.options.size===null){c=a.width,s-c<n?aq[3]=co(cB(c-s+n),aq[3]):s+c>F-n&&(aq[1]=co(cB(s+c-F+n),aq[1])),i-d/2<0?aq[0]=co(cB(-i+d/2),aq[0]):i+d/2>ad&&(aq[2]=co(cB(i+d/2-ad),aq[2]))}}}}if(V(aq)===0||this.verifyDataLabelOverflow(aq)){this.placeDataLabels(),ar&&r&&ch(this.points,function(au){ag=au.connector;m=au.labelPos;if((a=au.dataLabel)&&a._pos&&au.visible){Z=a._attr.visibility,s=a.connX,i=a.connY,ah=al?[a7,s+(m[6]==="left"?5:-5),i,"C",s,i,2*m[2]-m[4],2*m[3]-m[5],m[2],m[3],dd,m[4],m[5]]:[a7,s+(m[6]==="left"?5:-5),i,dd,m[2],m[3],dd,m[4],m[5]],ag?(ag.animate({d:ah}),ag.attr("visibility",Z)):au.connector=ag=b.chart.renderer.path(ah).attr({"stroke-width":r,stroke:l.connectorColor||au.color||"#606060",visibility:Z}).add(b.dataLabelsGroup)}else{if(ag){au.connector=ag.destroy()}}})}}},cV.pie.prototype.placeDataLabels=function(){ch(this.points,function(a){var b=a.dataLabel;if(b&&a.visible){(a=b._pos)?(b.attr(b._attr),b[b.moved?"animate":"attr"](a),b.moved=!0):b&&b.attr({y:-9999})}})},cV.pie.prototype.alignDataLabel=c4,cV.pie.prototype.verifyDataLabelOverflow=function(d){var h=this.center,f=this.options,i=f.center,a=f.minSize||80,b=a,c;i[0]!==null?b=co(h[2]-co(d[1],d[3]),a):(b=co(h[2]-d[1]-d[3],a),h[0]+=(d[3]-d[1])/2);i[1]!==null?b=co(cJ(b,h[2]-co(d[0],d[2])),a):(b=co(cJ(b,h[2]-d[0]-d[2]),a),h[1]+=(d[0]-d[2])/2);b<h[2]?(h[2]=b,h[3]=Math.min(/%$/.test(f.innerSize||0)?b*parseFloat(f.innerSize||0)/100:parseFloat(f.innerSize||0),b),this.translate(h),this.drawDataLabels&&this.drawDataLabels()):c=!0;return c}}if(cV.column){cV.column.prototype.alignDataLabel=function(b,c,f,h,i){var j=this.chart.inverted,k=b.series,l=b.dlBox||b.shapeArgs,a=cj(b.below,b.plotY>cj(this.translatedThreshold,k.yAxis.len)),d=cj(f.inside,!!this.options.stacking);if(l){h=cH(l);if(h.y<0){h.height+=h.y,h.y=0}l=h.y+h.height-k.yAxis.len;l>0&&(h.height-=l);j&&(h={x:k.yAxis.len-h.y-h.height,y:k.xAxis.len-h.x-h.width,width:h.height,height:h.width});if(!d){j?(h.x+=a?0:h.width,h.width=0):(h.y+=a?h.height:0,h.height=0)}}f.align=cj(f.align,!j||d?"center":a?"right":"left");f.verticalAlign=cj(f.verticalAlign,j||d?"middle":a?"top":"bottom");c7.prototype.alignDataLabel.call(this,b,c,f,h,i)}}(function(d){var f=d.Chart,a=d.each,b=d.pick,c=d.addEvent;f.prototype.callbacks.push(function(h){function i(){var j=[];a(h.series,function(l){var m=l.options.dataLabels,k=l.dataLabelCollections||["dataLabel"];(m.enabled||l._hasPointLabels)&&!m.allowOverlap&&l.visible&&a(k,function(n){a(l.points,function(p){if(p[n]){p[n].labelrank=b(p.labelrank,p.shapeArgs&&p.shapeArgs.height),j.push(p[n])}})})});h.hideOverlappingLabels(j)}i();c(h,"redraw",i)});f.prototype.hideOverlappingLabels=function(n){var p=n.length,r,s,u,h,i,j,k,l,m;for(s=0;s<p;s++){if(r=n[s]){r.oldOpacity=r.opacity,r.newOpacity=1}}n.sort(function(F,L){return(L.labelrank||0)-(F.labelrank||0)});for(s=0;s<p;s++){u=n[s];for(r=s+1;r<p;++r){if(h=n[r],u&&h&&u.placed&&h.placed&&u.newOpacity!==0&&h.newOpacity!==0&&(i=u.alignAttr,j=h.alignAttr,k=u.parentGroup,l=h.parentGroup,m=2*(u.box?0:u.padding),i=!(j.x+l.translateX>i.x+k.translateX+(u.width-m)||j.x+l.translateX+(h.width-m)<i.x+k.translateX||j.y+l.translateY>i.y+k.translateY+(u.height-m)||j.y+l.translateY+(h.height-m)<i.y+k.translateY))){(u.labelrank<h.labelrank?u:h).newOpacity=0}}}a(n,function(L){var Z,F;if(L){F=L.newOpacity;if(L.oldOpacity!==F&&L.placed){F?L.show(!0):Z=function(){L.hide()},L.alignAttr.opacity=F,L[L.isOld?"animate":"attr"](L.alignAttr,null,Z)}L.isOld=!0}})}})(cE);var ca=cE.TrackerMixin={drawTrackerPoint:function(){var d=this,f=d.chart,h=f.pointer,a=d.options.cursor,b=a&&{cursor:a},c=function(j){for(var k=j.target,i;k&&!i;){i=k.point,k=k.parentNode}if(i!==cn&&i!==f.hoverPoint){i.onMouseOver(j)}};ch(d.points,function(i){if(i.graphic){i.graphic.element.point=i}if(i.dataLabel){i.dataLabel.element.point=i}});if(!d._hasTracking){ch(d.trackerGroups,function(i){if(d[i]&&(d[i].addClass("highcharts-tracker").on("mouseover",c).on("mouseout",function(j){h.onTrackerMouseOut(j)}).css(b),cx)){d[i].on("touchstart",c)}}),d._hasTracking=!0}},drawTrackerGraph:function(){var m=this,n=m.options,r=n.trackByArea,a=[].concat(r?m.areaPath:m.graphPath),c=a.length,d=m.chart,h=d.pointer,i=d.renderer,j=d.options.tooltip.snap,k=m.tracker,l=n.cursor,p=l&&{cursor:l},b=function(){if(d.hoverSeries!==m){m.onMouseOver()}},f="rgba(192,192,192,"+(S?0.0001:0.002)+")";if(c&&!r){for(l=c+1;l--;){a[l]===a7&&a.splice(l+1,0,a[l+1]-j,a[l+2],dd),(l&&a[l]===a7||l===c)&&a.splice(l,0,dd,a[l-2]+j,a[l-1])}}k?k.attr({d:a}):(m.tracker=i.path(a).attr({"stroke-linejoin":"round",visibility:m.visible?"visible":"hidden",stroke:f,fill:r?f:"none","stroke-width":n.lineWidth+(r?0:2*j),zIndex:2}).add(m.group),ch([m.tracker,m.markerGroup],function(s){s.addClass("highcharts-tracker").on("mouseover",b).on("mouseout",function(u){h.onTrackerMouseOut(u)}).css(p);if(cx){s.on("touchstart",b)}}))}};if(cV.column){dS.prototype.drawTracker=ca.drawTrackerPoint}if(cV.pie){cV.pie.prototype.drawTracker=ca.drawTrackerPoint}if(cV.scatter){dF.prototype.drawTracker=ca.drawTrackerPoint}cm(a0.prototype,{setItemEvents:function(d,f,h,a,b){var c=this;(h?f:d.legendGroup).on("mouseover",function(){d.setState("hover");f.css(c.options.itemHoverStyle)}).on("mouseout",function(){f.css(d.visible?a:b);d.setState()}).on("click",function(j){var i=function(){d.setVisible&&d.setVisible()},j={browserEvent:j};d.firePointEvent?d.firePointEvent("legendItemClick",j,i):cY(d,"legendItemClick",j,i)})},createCheckboxForItem:function(a){a.checkbox=cU("input",{type:"checkbox",checked:a.selected,defaultChecked:a.selected},this.options.itemCheckboxStyle,this.chart.container);cN(a.checkbox,"click",function(b){cY(a.series||a,"checkboxClick",{checked:b.target.checked,item:a},function(){a.select()})})}});c8.legend.itemStyle.cursor="pointer";cm(c1.prototype,{showResetZoom:function(){var d=this,f=c8.lang,h=d.options.chart.resetZoomButton,a=h.theme,b=a.states,c=h.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=d.renderer.button(f.resetZoom,null,null,function(){d.zoomOut()},a,b&&b.hover).attr({align:h.position.align,title:f.resetZoomTitle}).add().align(h.position,!1,c)},zoomOut:function(){var a=this;cY(a,"selection",{resetSelection:!0},function(){a.zoom()})},zoom:function(d){var f,a=this.pointer,b=!1,c;!d||d.resetSelection?ch(this.axes,function(h){f=h.zoom()}):ch(d.xAxis.concat(d.yAxis),function(j){var h=j.axis,i=h.isXAxis;if(a[i?"zoomX":"zoomY"]||a[i?"pinchX":"pinchY"]){f=h.zoom(j.min,j.max),h.displayBtn&&(b=!0)}});c=this.resetZoomButton;if(b&&!c){this.showResetZoom()}else{if(!b&&cC(c)){this.resetZoomButton=c.destroy()}}f&&this.redraw(cj(this.options.chart.animation,d&&d.animation,this.pointCount<100))},pan:function(d,f){var a=this,b=a.hoverPoints,c;b&&ch(b,function(h){h.setState()});ch(f==="xy"?[1,0]:[1],function(n){var n=a[n?"xAxis":"yAxis"][0],i=n.horiz,j=d[i?"chartX":"chartY"],i=i?"mouseDownX":"mouseDownY",l=a[i],m=(n.pointRange||0)/2,h=n.getExtremes(),k=n.toValue(l-j,!0)+m,m=n.toValue(l+n.len-j,!0)-m,l=l>j;if(n.series.length&&(l||k>cJ(h.dataMin,h.min))&&(!l||m<co(h.dataMax,h.max))){n.setExtremes(k,m,!1,!1,{trigger:"pan"}),c=!0}a[i]=j});c&&a.redraw(!1);c5(a.container,{cursor:"move"})}});cm(cb.prototype,{select:function(d,f){var a=this,b=a.series,c=b.chart,d=cj(d,!a.selected);a.firePointEvent(d?"select":"unselect",{accumulate:f},function(){a.selected=a.options.selected=d;b.options.data[z(a,b.data)]=a.options;a.setState(d&&"select");f||ch(c.getSelectedPoints(),function(h){if(h.selected&&h!==a){h.selected=h.options.selected=!1,b.options.data[z(h,b.data)]=h.options,h.setState(""),h.firePointEvent("unselect")}})})},onMouseOver:function(d,f){var h=this.series,a=h.chart,b=a.tooltip,c=a.hoverPoint;if(a.hoverSeries!==h){h.onMouseOver()}if(c&&c!==this){c.onMouseOut()}if(this.series&&(this.firePointEvent("mouseOver"),b&&(!b.shared||h.noSharedTooltip)&&b.refresh(this,d),this.setState("hover"),!f)){a.hoverPoint=this}},onMouseOut:function(){var a=this.series.chart,b=a.hoverPoints;this.firePointEvent("mouseOut");if(!b||z(this,b)===-1){this.setState(),a.hoverPoint=null}},importEvents:function(){if(!this.hasImportedEvents){var a=cH(this.series.options.point,this.options).events,b;this.events=a;for(b in a){cN(this,b,a[b])}this.hasImportedEvents=!0}},setState:function(l,n){var p=ba(this.plotX),s=this.plotY,a=this.series,c=a.options.states,d=a8[a.type].marker&&a.options.marker,h=d&&!d.enabled,i=d&&d.states[l],j=i&&i.enabled===!1,k=a.stateMarkerGraphic,m=this.marker||{},r=a.chart,b=a.halo,f,l=l||"";f=this.pointAttr[l]||a.pointAttr[l];if(!(l===this.state&&!n||this.selected&&l!=="select"||c[l]&&c[l].enabled===!1||l&&(j||h&&i.enabled===!1)||l&&m.states&&m.states[l]&&m.states[l].enabled===!1)){if(this.graphic){d=d&&this.graphic.symbolName&&f.r,this.graphic.attr(cH(f,d?{x:p-d,y:s-d,width:2*d,height:2*d}:{})),k&&k.hide()}else{if(l&&i){if(d=i.radius,m=m.symbol||a.symbol,k&&k.currentSymbol!==m&&(k=k.destroy()),k){k[n?"animate":"attr"]({x:p-d,y:s-d})}else{if(m){a.stateMarkerGraphic=k=r.renderer.symbol(m,p-d,s-d,2*d,2*d).attr(f).add(a.markerGroup),k.currentSymbol=m}}}if(k){k[l&&r.isInsidePlot(p,s,r.inverted)?"show":"hide"](),k.element.point=this}}if((p=c[l]&&c[l].halo)&&p.size){if(!b){a.halo=b=r.renderer.path().add(r.seriesGroup)}b.attr(cm({fill:this.color||a.color,"fill-opacity":p.opacity,zIndex:-1},p.attributes))[n?"animate":"attr"]({d:this.haloPath(p.size)})}else{b&&b.attr({d:[]})}this.state=l}},haloPath:function(d){var f=this.series,h=f.chart,a=f.getPlotBox(),b=h.inverted,c=Math.floor(this.plotX);return h.renderer.symbols.circle(a.translateX+(b?f.yAxis.len-this.plotY:c)-d,a.translateY+(b?f.xAxis.len-c:this.plotY)-d,d*2,d*2)}});cm(c7.prototype,{onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(b&&b!==this){b.onMouseOut()}this.options.events.mouseOver&&cY(this,"mouseOver");this.setState("hover");a.hoverSeries=this},onMouseOut:function(){var c=this.options,d=this.chart,a=d.tooltip,b=d.hoverPoint;d.hoverSeries=null;if(b){b.onMouseOut()}this&&c.events.mouseOut&&cY(this,"mouseOut");a&&!c.stickyTracking&&(!a.shared||this.noSharedTooltip)&&a.hide();this.setState()},setState:function(d){var f=this.options,a=this.graph,b=f.states,c=f.lineWidth,f=0,d=d||"";if(this.state!==d&&(this.state=d,!(b[d]&&b[d].enabled===!1)&&(d&&(c=b[d].lineWidth||c+(b[d].lineWidthPlus||0)),a&&!a.dashstyle))){d={"stroke-width":c};for(a.attr(d);this["zoneGraph"+f];){this["zoneGraph"+f].attr(d),f+=1}}},setVisible:function(f,i){var b=this,h=b.chart,j=b.legendItem,a,c=h.options.chart.ignoreHiddenSeries,d=b.visible;a=(b.visible=f=b.userOptions.visible=f===cn?!d:f)?"show":"hide";ch(["group","dataLabelsGroup","markerGroup","tracker"],function(k){if(b[k]){b[k][a]()}});if(h.hoverSeries===b||(h.hoverPoint&&h.hoverPoint.series)===b){b.onMouseOut()}j&&h.legend.colorizeItem(b,f);b.isDirty=!0;b.options.stacking&&ch(h.series,function(k){if(k.options.stacking&&k.visible){k.isDirty=!0}});ch(b.linkedSeries,function(k){k.setVisible(f,!1)});if(c){h.isDirtyBox=!0}i!==!1&&h.redraw();cY(b,a)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===cn?!this.selected:a;if(this.checkbox){this.checkbox.checked=a}cY(this,a?"select":"unselect")},drawTracker:ca.drawTrackerGraph});df(c7.prototype,"init",function(a){var b;a.apply(this,Array.prototype.slice.call(arguments,1));(b=this.xAxis)&&b.options.ordinal&&cN(this,"updatedData",function(){delete b.ordinalIndex})});df(cX.prototype,"getTimeTicks",function(a,b,c,d,f,h,i,m){var n=0,p,s,u={},F,L,j,Z=[],k=-Number.MAX_VALUE,r=this.options.tickPixelInterval;if(!this.options.ordinal&&!this.options.breaks||!h||h.length<3||c===cn){return a.call(this,b,c,d,f)}L=h.length;for(p=0;p<L;p++){j=p&&h[p-1]>d;h[p]<c&&(n=p);if(p===L-1||h[p+1]-h[p]>i*5||j){if(h[p]>k){for(s=a.call(this,b,h[n],h[p],f);s.length&&s[0]<=k;){s.shift()}s.length&&(k=s[s.length-1]);Z=Z.concat(s)}n=p+1}if(j){break}}a=s.info;if(m&&a.unitRange<=c2.hour){p=Z.length-1;for(n=1;n<p;n++){cq("%d",Z[n])!==cq("%d",Z[n-1])&&(u[Z[n]]="day",F=!0)}F&&(u[Z[0]]="day");a.higherRanks=u}Z.info=a;if(m&&cl(r)){m=a=Z.length;p=[];var l;for(F=[];m--;){n=this.translate(Z[m]),l&&(F[m]=l-n),p[m]=l=n}F.sort();F=F[ba(F.length/2)];F<r*0.6&&(F=null);m=Z[a-1]>d?a-1:a;for(l=void 0;m--;){n=p[m],d=l-n,l&&d<r*0.8&&(F===null||d<F*0.8)?(u[Z[m]]&&!u[Z[m+1]]?(d=m+1,l=n):d=m,Z.splice(d,1)):l=n}}return Z});cm(cX.prototype,{beforeSetTickPositions:function(){var b,d=[],f=!1,h,i=this.getExtremes(),j=i.min,k=i.max,a,c=this.isXAxis&&!!this.options.breaks;if((i=this.options.ordinal)||c){ch(this.series,function(l,m){if(l.visible!==!1&&(l.takeOrdinalPosition!==!1||c)){if(d=d.concat(l.processedXData),b=d.length,d.sort(function(n,p){return n-p}),b){for(m=b-1;m--;){d[m]===d[m+1]&&d.splice(m,1)}}}});b=d.length;if(b>2){h=d[1]-d[0];for(a=b-1;a--&&!f;){d[a+1]-d[a]!==h&&(f=!0)}if(!this.options.keepOrdinalPadding&&(d[0]-j>h||k-d[d.length-1]>h)){f=!0}}f?(this.ordinalPositions=d,h=this.val2lin(co(j,d[0]),!0),a=co(this.val2lin(cJ(k,d[d.length-1]),!0),1),this.ordinalSlope=k=(k-j)/(a-h),this.ordinalOffset=j-h*k):this.ordinalPositions=this.ordinalSlope=this.ordinalOffset=cn}this.isOrdinal=i&&f;this.groupIntervalFactor=null},val2lin:function(d,f){var h=this.ordinalPositions,a;if(h){var b=h.length,c;for(a=b;a--;){if(h[a]===d){c=a;break}}for(a=b-1;a--;){if(d>h[a]||a===0){h=(d-h[a])/(h[a+1]-h[a]);c=a+h;break}}a=f?c:this.ordinalSlope*(c||0)+this.ordinalOffset}else{a=d}return a},lin2val:function(f,i){var b=this.ordinalPositions;if(b){var h=this.ordinalSlope,j=this.ordinalOffset,a=b.length-1,c,d;if(i){f<0?f=b[0]:f>a?f=b[a]:(a=ba(f),d=f-a)}else{for(;a--;){if(c=h*a+j,f>=c){h=h*(a+1)+j;d=(f-c)/(h-c);break}}}b=d!==cn&&b[a]!==cn?b[a]+(d?d*(b[a+1]-b[a]):0):f}else{b=f}return b},getExtendedPositions:function(){var d=this.chart,h=this.series[0].currentDataGrouping,f=this.ordinalIndex,i=h?h.count+h.unitName:"raw",a=this.getExtremes(),b,c;if(!f){f=this.ordinalIndex={}}if(!f[i]){b={series:[],getExtremes:function(){return{min:a.dataMin,max:a.dataMax}},options:{ordinal:!0},val2lin:cX.prototype.val2lin},ch(this.series,function(j){c={xAxis:b,xData:j.xData,chart:d,destroyGroupedData:c4};c.options={dataGrouping:h?{enabled:!0,forced:!0,approximation:"open",units:[[h.unitName,[h.count]]]}:{enabled:!1}};j.processData.apply(c);b.series.push(c)}),this.beforeSetTickPositions.apply(b),f[i]=b.ordinalPositions}return f[i]},getGroupIntervalFactor:function(d,f,h){var a,h=h.processedXData,b=h.length,c=[];a=this.groupIntervalFactor;if(!a){for(a=0;a<b-1;a++){c[a]=h[a+1]-h[a]}c.sort(function(i,j){return i-j});c=c[ba(b/2)];d=co(d,h[0]);f=cJ(f,h[b-1]);this.groupIntervalFactor=a=b*c/(f-d)}return a},postProcessTickInterval:function(a){var b=this.ordinalSlope;return b?this.options.breaks?this.closestPointRange:a/(b/this.closestPointRange):a}});df(c1.prototype,"pan",function(l,n){var p=this.xAxis[0],s=n.chartX,a=!1;if(p.options.ordinal&&p.series.length){var c=this.mouseDownX,d=p.getExtremes(),h=d.dataMax,i=d.min,j=d.max,k=this.hoverPoints,m=p.closestPointRange,c=(c-s)/(p.translationSlope*(p.ordinalSlope||m)),r={ordinalPositions:p.getExtendedPositions()},m=p.lin2val,b=p.val2lin,f;if(r.ordinalPositions){if(dg(c)>1){k&&ch(k,function(u){u.setState()}),c<0?(k=r,f=p.ordinalPositions?p:r):(k=p.ordinalPositions?p:r,f=r),r=f.ordinalPositions,h>r[r.length-1]&&r.push(h),this.fixedRange=j-i,c=p.toFixedRange(null,null,m.apply(k,[b.apply(k,[i,!0])+c,!0]),m.apply(f,[b.apply(f,[j,!0])+c,!0])),c.min>=cJ(d.dataMin,i)&&c.max<=co(h,j)&&p.setExtremes(c.min,c.max,!0,!1,{trigger:"pan"}),this.mouseDownX=s,c5(this.container,{cursor:"move"})}}else{a=!0}}else{a=!0}a&&l.apply(this,Array.prototype.slice.call(arguments,1))});c7.prototype.gappedPath=function(){var b=this.options.gapSize,c=this.points.slice(),a=c.length-1;if(b&&a>0){for(;a--;){c[a+1].x-c[a].x>this.closestPointRange*b&&c.splice(a+1,0,{isNull:!0})}}return this.getGraphPath(c)};(function(a){a(cE)})(function(b){function c(){return Array.prototype.slice.call(arguments,1)}function f(m){m.apply(this);this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,h(this.pointArrayMap,["y"]))}var h=b.pick,i=b.wrap,j=b.each,k=b.extend,l=b.fireEvent,a=b.Axis,d=b.Series;k(a.prototype,{isInBreak:function(r,s){var m=r.repeat||Infinity,n=r.from,p=r.to-r.from,m=s>=n?(s-n)%m:m-(n-s)%m;return r.inclusive?m<=p:m<p&&m!==0},isInAnyBreak:function(s,u){var F=this.options.breaks,m=F&&F.length,n,p,r;if(m){for(;m--;){this.isInBreak(F[m],s)&&(n=!0,p||(p=h(F[m].showPoints,this.isXAxis?!1:!0)))}r=n&&u?n&&!p:n}return r}});i(a.prototype,"setTickPositions",function(r){r.apply(this,Array.prototype.slice.call(arguments,1));if(this.options.breaks){var s=this.tickPositions,m=this.tickPositions.info,n=[],p;for(p=0;p<s.length;p++){this.isInAnyBreak(s[p])||n.push(s[p])}this.tickPositions=n;this.tickPositions.info=m}});i(a.prototype,"init",function(p,r,m){if(m.breaks&&m.breaks.length){m.ordinal=!1}p.call(this,r,m);if(this.options.breaks){var n=this;n.isBroken=!0;this.val2lin=function(s){var u=s,F,L;for(L=0;L<n.breakArray.length;L++){if(F=n.breakArray[L],F.to<=s){u-=F.len}else{if(F.from>=s){break}else{if(n.isInBreak(F,s)){u-=s-F.from;break}}}}return u};this.lin2val=function(s){var u,F;for(F=0;F<n.breakArray.length;F++){if(u=n.breakArray[F],u.from>=s){break}else{u.to<s?s+=u.len:n.isInBreak(u,s)&&(s+=u.len)}}return s};this.setExtremes=function(s,u,F,L,Z){for(;this.isInAnyBreak(s);){s-=this.closestPointRange}for(;this.isInAnyBreak(u);){u-=this.closestPointRange}a.prototype.setExtremes.call(this,s,u,F,L,Z)};this.setAxisTranslation=function(s){a.prototype.setAxisTranslation.call(this,s);var u=n.options.breaks,s=[],F=[],L=0,Z,ad,ae=n.userMin||n.min,af=n.userMax||n.max,ag,ah;for(ah in u){ad=u[ah],Z=ad.repeat||Infinity,n.isInBreak(ad,ae)&&(ae+=ad.to%Z-ae%Z),n.isInBreak(ad,af)&&(af-=af%Z-ad.from%Z)}for(ah in u){ad=u[ah];ag=ad.from;for(Z=ad.repeat||Infinity;ag-Z>ae;){ag-=Z}for(;ag<ae;){ag+=Z}for(;ag<af;ag+=Z){s.push({value:ag,move:"in"}),s.push({value:ag+(ad.to-ad.from),move:"out",size:ad.breakSize})}}s.sort(function(ai,aj){return ai.value===aj.value?(ai.move==="in"?0:1)-(aj.move==="in"?0:1):ai.value-aj.value});u=0;ag=ae;for(ah in s){ad=s[ah];u+=ad.move==="in"?1:-1;if(u===1&&ad.move==="in"){ag=ad.value}u===0&&(F.push({from:ag,to:ad.value,len:ad.value-ag-(ad.size||0)}),L+=ad.value-ag-(ad.size||0))}n.breakArray=F;l(n,"afterBreaks");n.transA*=(af-n.min)/(af-ae-L);n.min=ae;n.max=af}}});i(d.prototype,"generatePoints",function(u){u.apply(this,c(arguments));var F=this.xAxis,L=this.yAxis,m=this.points,n,p=m.length,r=this.options.connectNulls,s;if(F&&L&&(F.options.breaks||L.options.breaks)){for(;p--;){if(n=m[p],s=n.y===null&&r===!1,!s&&(F.isInAnyBreak(n.x,!0)||L.isInAnyBreak(n.y,!0))){m.splice(p,1),this.data[p]&&this.data[p].destroyElements()}}}});b.Series.prototype.drawBreaks=function(s,u){var F=this,m=F.points,n,p,r,L;j(u,function(Z){n=s.breakArray||[];p=s.isXAxis?s.min:h(F.options.threshold,s.min);j(m,function(ad){L=h(ad["stack"+Z.toUpperCase()],ad[Z]);j(n,function(ae){r=!1;if(p<ae.from&&L>ae.to||p>ae.from&&L<ae.from){r="pointBreak"}else{if(p<ae.from&&L>ae.from&&L<ae.to||p>ae.from&&L>ae.to&&L<ae.from){r="pointInBreak"}}r&&l(s,r,{point:ad,brk:ae})})})})};i(b.seriesTypes.column.prototype,"drawPoints",f);i(b.Series.prototype,"drawPoints",f)});var a3=c7.prototype,dE=a3.processData,dP=a3.generatePoints,cG=a3.destroy,cZ={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},cA={line:{},spline:{},area:{},areaspline:{},column:{approximation:"sum",groupPixelWidth:10},arearange:{approximation:"range"},areasplinerange:{approximation:"range"},columnrange:{approximation:"range",groupPixelWidth:10},candlestick:{approximation:"ohlc",groupPixelWidth:10},ohlc:{approximation:"ohlc",groupPixelWidth:5}},dp=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]],db={sum:function(b){var c=b.length,a;if(!c&&b.hasNulls){a=null}else{if(c){for(a=0;c--;){a+=b[c]}}}return a},average:function(a){var b=a.length,a=db.sum(a);cr(a)&&b&&(a/=b);return a},open:function(a){return a.length?a[0]:a.hasNulls?null:cn},high:function(a){return a.length?V(a):a.hasNulls?null:cn},low:function(a){return a.length?dL(a):a.hasNulls?null:cn},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:cn},ohlc:function(c,d,a,b){c=db.open(c);d=db.high(d);a=db.low(a);b=db.close(b);if(cr(c)||cr(d)||cr(a)||cr(b)){return[c,d,a,b]}},range:function(a,b){a=db.low(a);b=db.high(b);if(cr(a)||cr(b)){return[a,b]}}};a3.groupData=function(a,b,c,d){var f=this.data,h=this.options.data,i=[],j=[],n=[],p=a.length,s,u,F=!!b,L=[[],[],[],[]],d=typeof d==="function"?d:db[d],ad=this.pointArrayMap,Z=ad&&ad.length,k,l=0,m=0;for(k=0;k<=p;k++){if(a[k]>=c[0]){break}}for(;k<=p;k++){for(;c[l+1]!==void 0&&a[k]>=c[l+1]||k===p;){if(s=c[l],u=d.apply(0,L),u!==cn&&(i.push(s),j.push(u),n.push({start:m,length:L[0].length})),m=k,L[0]=[],L[1]=[],L[2]=[],L[3]=[],l+=1,k===p){break}}if(k===p){break}if(ad){s=this.cropStart+k;s=f&&f[s]||this.pointClass.prototype.applyOptions.apply({series:this},[h[s]]);var r;for(u=0;u<Z;u++){if(r=s[ad[u]],cr(r)){L[u].push(r)}else{if(r===null){L[u].hasNulls=!0}}}}else{if(s=F?b[k]:null,cr(s)){L[0].push(s)}else{if(s===null){L[0].hasNulls=!0}}}}return[i,j,n]};a3.processData=function(){var b=this.chart,c=this.options.dataGrouping,f=this.allowDG!==!1&&c&&cj(c.enabled,b.options._stock),h;this.forceCrop=f;this.groupPixelWidth=null;this.hasProcessed=!0;if(dE.apply(this,arguments)!==!1&&f){this.destroyGroupedData();var i=this.processedXData,j=this.processedYData,k=b.plotSizeX,b=this.xAxis,l=b.options.ordinal,a=this.groupPixelWidth=b.getGroupPixelWidth&&b.getGroupPixelWidth();if(a){h=!0;this.points=null;var d=b.getExtremes(),f=d.min,d=d.max,l=l&&b.getGroupIntervalFactor(f,d,this)||1,k=a*(d-f)/k*l,a=b.getTimeTicks(b.normalizeTimeTickInterval(k,c.units||dp),Math.min(f,i[0]),Math.max(d,i[i.length-1]),b.options.startOfWeek,i,this.closestPointRange),i=a3.groupData.apply(this,[i,j,a,c.approximation]),j=i[0],l=i[1];if(c.smoothed){c=j.length-1;for(j[c]=Math.min(j[c],d);c--&&c>0;){j[c]+=k/2}j[0]=Math.max(j[0],f)}this.currentDataGrouping=a.info;this.closestPointRange=a.info.totalRange;this.groupMap=i[2];if(cl(j[0])&&j[0]<b.dataMin){if(b.min===b.dataMin){b.min=j[0]}b.dataMin=j[0]}this.processedXData=j;this.processedYData=l}else{this.currentDataGrouping=this.groupMap=null}this.hasGroupedData=h}};a3.destroyGroupedData=function(){var a=this.groupedData;ch(a||[],function(c,b){c&&(a[b]=c.destroy?c.destroy():null)});this.groupedData=null};a3.generatePoints=function(){dP.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};df(dM.prototype,"tooltipFooterHeaderFormatter",function(b,d,f){var h=d.series,i=h.tooltipOptions,j=h.options.dataGrouping,k=i.xDateFormat,a,c=h.xAxis;return c&&c.options.type==="datetime"&&j&&cr(d.key)?(b=h.currentDataGrouping,j=j.dateTimeLabelFormats,b?(c=j[b.unitName],b.count===1?k=c[0]:(k=c[1],a=c[2])):!k&&j&&(k=this.getXDateFormat(d,i,c)),k=cq(k,d.key),a&&(k+=cq(a,d.key+b.totalRange-1)),dw(i[(f?"footer":"header")+"Format"],{point:cm(d.point,{key:k}),series:h})):b.call(this,d,f)});a3.destroy=function(){for(var a=this.groupedData||[],b=a.length;b--;){a[b]&&a[b].destroy()}cG.apply(this)};df(a3,"setOptions",function(d,f){var h=d.call(this,f),a=this.type,b=this.chart.options.plotOptions,c=a8[a].dataGrouping;if(cA[a]){c||(c=cH(cZ,cA[a])),h.dataGrouping=cH(c,b.series&&b.series.dataGrouping,b[a].dataGrouping,f.dataGrouping)}if(this.chart.options._stock){this.requireSorting=!0}return h});df(cX.prototype,"setScale",function(a){a.call(this);ch(this.series,function(b){b.hasProcessed=!1})});cX.prototype.getGroupPixelWidth=function(){var d=this.series,f=d.length,h,a=0,b=!1,c;for(h=f;h--;){(c=d[h].options.dataGrouping)&&(a=co(a,c.groupPixelWidth))}for(h=f;h--;){if((c=d[h].options.dataGrouping)&&d[h].hasProcessed){if(f=(d[h].processedXData||d[h].data).length,d[h].groupPixelWidth||f>this.chart.plotSizeX/a||f&&c.forced){b=!0}}}return b?a:0};cX.prototype.setDataGrouping=function(b,c){var a,c=cj(c,!0);b||(b={forced:!1,units:null});if(this instanceof cX){for(a=this.series.length;a--;){this.series[a].update({dataGrouping:b},!1)}}else{ch(this.chart.options.series,function(d){d.dataGrouping=b},!1)}c&&this.chart.redraw()};a8.ohlc=cH(a8.column,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});dN=bb(cV.column,{type:"ohlc",pointArrayMap:["open","high","low","close"],toYData:function(a){return[a.open,a.high,a.low,a.close]},pointValKey:"high",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},upColorProp:"stroke",getAttribs:function(){cV.column.prototype.getAttribs.apply(this,arguments);var c=this.options,d=c.states,c=c.upColor||this.color,a=cH(this.pointAttr),b=this.upColorProp;a[""][b]=c;a.hover[b]=d.hover.upColor||c;a.select[b]=d.select.upColor||c;ch(this.points,function(f){if(f.open<f.close&&!f.options.color){f.pointAttr=a}})},translate:function(){var a=this.yAxis;cV.column.prototype.translate.apply(this);ch(this.points,function(b){if(b.open!==null){b.plotOpen=a.translate(b.open,0,1,0,1)}if(b.close!==null){b.plotClose=a.translate(b.close,0,1,0,1)}})},drawPoints:function(){var b=this,c=b.chart,f,h,i,j,k,l,a,d;ch(b.points,function(m){if(m.plotY!==cn){a=m.graphic,f=m.pointAttr[m.selected?"selected":""]||b.pointAttr[""],j=f["stroke-width"]%2/2,d=cB(m.plotX)-j,k=cB(m.shapeArgs.width/2),l=["M",d,cB(m.yBottom),"L",d,cB(m.plotY)],m.open!==null&&(h=cB(m.plotOpen)+j,l.push("M",d,h,"L",d-k,h)),m.close!==null&&(i=cB(m.plotClose)+j,l.push("M",d,i,"L",d+k,i)),a?a.attr(f).animate({d:l}):m.graphic=c.renderer.path(l).attr(f).add(b.group)}})},animate:null});cV.ohlc=dN;a8.candlestick=cH(a8.column,{lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:a8.ohlc.tooltip,threshold:null,upColor:"white"});dN=bb(dN,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},upColorProp:"fill",getAttribs:function(){cV.ohlc.prototype.getAttribs.apply(this,arguments);var d=this.options,f=d.states,a=d.upLineColor||d.lineColor,b=f.hover.upLineColor||a,c=f.select.upLineColor||a;ch(this.points,function(h){if(h.open<h.close){if(h.lineColor){h.pointAttr=cH(h.pointAttr),a=h.lineColor}h.pointAttr[""].stroke=a;h.pointAttr.hover.stroke=b;h.pointAttr.select.stroke=c}})},drawPoints:function(){var l=this,n=l.chart,p,s=l.pointAttr[""],a,c,d,h,i,j,k,m,r,b,f;ch(l.points,function(u){r=u.graphic;if(u.plotY!==cn){p=u.pointAttr[u.selected?"selected":""]||s,k=p["stroke-width"]%2/2,m=cB(u.plotX)-k,a=u.plotOpen,c=u.plotClose,d=dj.min(a,c),h=dj.max(a,c),f=cB(u.shapeArgs.width/2),i=cB(d)!==cB(u.plotY),j=h!==u.yBottom,d=cB(d)+k,h=cB(h)+k,b=[],b.push("M",m-f,h,"L",m-f,d,"L",m+f,d,"L",m+f,h,"Z","M",m,d,"L",m,i?cB(u.plotY):d,"M",m,h,"L",m,j?cB(u.yBottom):h),r?r.attr(p).animate({d:b}):u.graphic=n.renderer.path(b).attr(p).add(l.group).shadow(l.options.shadow)}})}});cV.candlestick=dN;var N=dr.prototype.symbols;a8.flags=cH(a8.column,{fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:12,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30});cV.flags=bb(cV.column,{type:"flags",sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:c7.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){cV.column.prototype.translate.apply(this);var m=this.options,n=this.chart,r=this.points,a=r.length-1,c,d,h=m.onSeries;c=h&&n.get(h);var m=m.onKey||"y",h=c&&c.options.step,i=c&&c.points,j=i&&i.length,k=this.xAxis,l=k.getExtremes(),p,b,f;if(c&&c.visible&&j){c=c.currentDataGrouping;b=i[j-1].x+(c?c.totalRange:0);r.sort(function(s,u){return s.x-u.x});for(m="plot"+m[0].toUpperCase()+m.substr(1);j--&&r[a];){if(c=r[a],p=i[j],p.x<=c.x&&p[m]!==void 0){if(c.x<=b){c.plotY=p[m],p.x<c.x&&!h&&(f=i[j+1])&&f[m]!==cn&&(c.plotY+=(c.x-p.x)/(f.x-p.x)*(f[m]-p[m]))}a--;j++;if(a<0){break}}}}ch(r,function(u,F){var s;if(u.plotY===cn){u.x>=l.min&&u.x<=l.max?u.plotY=n.chartHeight-k.bottom-(k.opposite?k.height:0)+k.offset-n.plotTop:u.shapeArgs={}}if((d=r[F-1])&&d.plotX===u.plotX){if(d.stackIndex===cn){d.stackIndex=0}s=d.stackIndex+1}u.stackIndex=s})},drawPoints:function(){var i,l=this.pointAttr[""],n=this.points,r=this.chart,s=r.renderer,F,a,c=this.options,d=c.y,f,j,k,m,p,b,u=this.yAxis,h;for(j=n.length;j--;){if(k=n[j],i=k.plotX>this.xAxis.len,F=k.plotX,F>0&&(F-=cj(k.lineWidth,c.lineWidth)%2),m=k.stackIndex,f=k.options.shape||c.shape,a=k.plotY,a!==cn&&(a=k.plotY+d-(m!==cn&&m*c.stackDistance)),p=m?cn:k.plotX,b=m?cn:k.plotY,m=k.graphic,a!==cn&&F>=0&&!i){i=k.pointAttr[k.selected?"select":""]||l,h=cj(k.options.title,c.title,"A"),m?m.attr({text:h}).attr({x:F,y:a,r:i.r,anchorX:p,anchorY:b}):k.graphic=s.label(h,F,a,f,p,b,c.useHTML).css(cH(c.style,k.style)).attr(i).attr({align:f==="flag"?"left":"center",width:c.width,height:c.height}).add(this.markerGroup).shadow(c.shadow),k.tooltipPos=r.inverted?[u.len+u.pos-r.plotLeft-a,this.xAxis.len-F]:[F,a]}else{if(m){k.graphic=m.destroy()}}}},drawTracker:function(){var a=this.points;ca.drawTrackerPoint.apply(this);ch(a,function(c){var b=c.graphic;b&&cN(b.element,"mouseover",function(){if(c.stackIndex>0&&!c.raised){c._y=b.y,b.attr({y:c._y-8}),c.raised=!0}ch(a,function(d){if(d!==c&&d.raised&&d.graphic){d.graphic.attr({y:d._y}),d.raised=!1}})})})},animate:c4,buildKDTree:c4,setClip:c4});N.flag=function(d,f,a,b,c){return["M",c&&c.anchorX||d,c&&c.anchorY||f,"L",d,f+b,d,f,d+a,f,d+a,f+b,d,f+b,"Z"]};ch(["circle","square"],function(a){N[a+"pin"]=function(f,h,i,b,c){var d=c&&c.anchorX,c=c&&c.anchorY;a==="circle"&&b>i&&(f-=cB((b-i)/2),i=b);f=N[a](f,h,i,b);d&&c&&f.push("M",d,h>c?h:h+b,"L",d,c);return f}});dH===cE.VMLRenderer&&ch(["flag","circlepin","squarepin"],function(a){dB.prototype.symbols[a]=N[a]});var ck={height:a4?20:14,barBackgroundColor:"#bfc8d1",barBorderRadius:0,barBorderWidth:1,barBorderColor:"#bfc8d1",buttonArrowColor:"#666",buttonBackgroundColor:"#ebe7e8",buttonBorderColor:"#bbb",buttonBorderRadius:0,buttonBorderWidth:1,margin:10,minWidth:6,rifleColor:"#666",zIndex:3,step:0.2,trackBackgroundColor:"#eeeeee",trackBorderColor:"#eeeeee",trackBorderWidth:1,liveRedraw:S&&!a4};c8.scrollbar=cH(!0,ck,c8.scrollbar);cv.prototype={render:function(){var d=this.renderer,f=this.options,h=f.trackBorderWidth,a=f.barBorderWidth,b=this.size,c;this.group=c=d.g("highcharts-scrollbar").attr({zIndex:f.zIndex,translateY:-99999}).add();this.track=d.rect().attr({height:b,width:b,y:-h%2/2,x:-h%2/2,"stroke-width":h,fill:f.trackBackgroundColor,stroke:f.trackBorderColor,r:f.trackBorderRadius||0}).add(c);this.scrollbarGroup=d.g().add(c);this.scrollbar=d.rect().attr({height:b,width:b,y:-a%2/2,x:-a%2/2,"stroke-width":a,fill:f.barBackgroundColor,stroke:f.barBorderColor,r:f.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=d.path(this.swapXY([a7,-3,b/4,dd,-3,2*b/3,a7,0,b/4,dd,0,2*b/3,a7,3,b/4,dd,3,2*b/3],f.vertical)).attr({stroke:f.rifleColor,"stroke-width":1}).add(this.scrollbarGroup);this.drawScrollbarButton(0);this.drawScrollbarButton(1)},position:function(f,i,b,h){var j=this.options,a=j.vertical,c=0,d=this.rendered?"animate":"attr";this.x=f;this.y=i+j.trackBorderWidth;this.width=b;this.xOffset=this.height=h;this.yOffset=c;a?(this.width=this.yOffset=b=c=this.size,this.xOffset=i=0,this.barWidth=h-b*2,this.x=f+=this.options.margin):(this.height=this.xOffset=h=i=this.size,this.barWidth=b-h*2,this.y+=this.options.margin);this.group[d]({translateX:f,translateY:this.y});this.track[d]({width:b,height:h});this.scrollbarButtons[1].attr({translateX:a?0:b-i,translateY:a?h-c:0})},drawScrollbarButton:function(d){var f=this.renderer,h=this.scrollbarButtons,a=this.options,b=this.size,c;c=f.g().add(this.group);h.push(c);f.rect(-0.5,-0.5,b+1,b+1,a.buttonBorderRadius,a.buttonBorderWidth).attr({stroke:a.buttonBorderColor,"stroke-width":a.buttonBorderWidth,fill:a.buttonBackgroundColor}).add(c);f.path(this.swapXY(["M",b/2+(d?-1:1),b/2-3,"L",b/2+(d?-1:1),b/2+3,"L",b/2+(d?2:-2),b/2],a.vertical)).attr({fill:a.buttonArrowColor}).add(c)},swapXY:function(d,f){var a,b=d.length,c;if(f){for(a=0;a<b;a+=3){c=d[a+1],d[a+1]=d[a+2],d[a+2]=c}}return d},setRange:function(f,i){var b=this.options,h=b.vertical,j,a,c,d=this.rendered&&!this.hasDragged?"animate":"attr";if(cl(this.barWidth)){j=this.barWidth*Math.max(f,0),a=this.barWidth*Math.min(i,1),a=Math.max(a6(a-j),b.minWidth),j=Math.floor(j+this.xOffset+this.yOffset),c=a/2-0.5,this.from=f,this.to=i,h?(this.scrollbarGroup[d]({translateY:j}),this.scrollbar[d]({height:a}),this.scrollbarRifles[d]({translateY:c}),this.scrollbarTop=j,this.scrollbarLeft=0):(this.scrollbarGroup[d]({translateX:j}),this.scrollbar[d]({width:a}),this.scrollbarRifles[d]({translateX:c}),this.scrollbarLeft=j,this.scrollbarTop=0),a<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),b.showFull===!1&&(f<=0&&i>=1?this.group.hide():this.group.show()),this.rendered=!0}},initEvents:function(){var a=this;a.mouseMoveHandler=function(f){var b=a.chart.pointer.normalize(f),c=a.options.vertical?"chartY":"chartX",d=a.initPositions;if(a.grabbedCenter&&(!f.touches||f.touches[0][c]!==0)){b={chartX:(b.chartX-a.x-a.xOffset)/a.barWidth,chartY:(b.chartY-a.y-a.yOffset)/a.barWidth}[c],c=a[c],c=b-c,a.hasDragged=!0,a.updatePosition(d[0]+c,d[1]+c),a.hasDragged&&cY(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:f.type,DOMEvent:f})}};a.mouseUpHandler=function(b){a.hasDragged&&cY(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:b.type,DOMEvent:b});a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null};a.mouseDownHandler=function(b){b=a.chart.pointer.normalize(b);a.chartX=(b.chartX-a.x-a.xOffset)/a.barWidth;a.chartY=(b.chartY-a.y-a.yOffset)/a.barWidth;a.initPositions=[a.from,a.to];a.grabbedCenter=!0};a.buttonToMinClick=function(c){var b=a6(a.to-a.from)*a.options.step;a.updatePosition(a6(a.from-b),a6(a.to-b));cY(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})};a.buttonToMaxClick=function(c){var b=(a.to-a.from)*a.options.step;a.updatePosition(a.from+b,a.to+b);cY(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:c})};a.trackClick=function(f){var h=a.chart.pointer.normalize(f),b=a.to-a.from,c=a.y+a.scrollbarTop,d=a.x+a.scrollbarLeft;a.options.vertical&&h.chartY>c||!a.options.vertical&&h.chartX>d?a.updatePosition(a.from+b,a.to+b):a.updatePosition(a.from-b,a.to-b);cY(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:f})}},updatePosition:function(a,b){b>1&&(a=a6(1-a6(b-a)),b=1);a<0&&(b=a6(b-a),a=0);this.from=a;this.to=b},addEvents:function(){var d=this.options.inverted?[1,0]:[0,1],f=this.scrollbarButtons,h=this.scrollbarGroup.element,a=this.mouseDownHandler,b=this.mouseMoveHandler,c=this.mouseUpHandler,d=[[f[d[0]].element,"click",this.buttonToMinClick],[f[d[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[h,"mousedown",a],[cF,"mousemove",b],[cF,"mouseup",c]];cx&&d.push([h,"touchstart",a],[cF,"touchmove",b],[cF,"touchend",c]);ch(d,function(i){cN.apply(null,i)});this._events=d},removeEvents:function(){ch(this._events,function(a){a5.apply(null,a)});this._events=cn},destroy:function(){this.removeEvents();ch([this.track,this.scrollbarRifles,this.scrollbar,this.scrollbarGroup,this.group],function(a){a&&a.destroy&&a.destroy()});cy(this.scrollbarButtons)}};df(cX.prototype,"init",function(a){var b=this;a.apply(b,[].slice.call(arguments,1));if(b.options.scrollbar&&b.options.scrollbar.enabled){b.options.scrollbar.vertical=!b.horiz,b.options.startOnTick=b.options.endOnTick=!1,b.scrollbar=new cv(b.chart.renderer,b.options.scrollbar,b.chart),cN(b.scrollbar,"changed",function(f){var h=Math.min(cj(b.options.min,b.min),b.min,b.dataMin),c=Math.max(cj(b.options.max,b.max),b.max,b.dataMax)-h,d;b.horiz&&!b.reversed||!b.horiz&&b.reversed?(d=h+c*this.to,h+=c*this.from):(d=h+c*(1-this.from),h+=c*(1-this.to));b.setExtremes(h,d,!0,!1,f)})}});df(cX.prototype,"render",function(d){var f=Math.min(cj(this.options.min,this.min),this.min,this.dataMin),a=Math.max(cj(this.options.max,this.max),this.max,this.dataMax),b=this.scrollbar,c;d.apply(this,[].slice.call(arguments,1));b&&(this.horiz?b.position(this.left,this.top+this.height+this.offset+2+(this.opposite?0:this.axisTitleMargin),this.width,this.height):b.position(this.left+this.width+2+this.offset+(this.opposite?this.axisTitleMargin:0),this.top,this.width,this.height),isNaN(f)||isNaN(a)||!cl(this.min)||!cl(this.max)?b.setRange(0,0):(c=(this.min-f)/(a-f),f=(this.max-f)/(a-f),this.horiz&&!this.reversed||!this.horiz&&this.reversed?b.setRange(c,f):b.setRange(1-f,1-c)))});df(cX.prototype,"getOffset",function(b){var c=this.horiz?2:1,a=this.scrollbar;b.apply(this,[].slice.call(arguments,1));a&&(this.chart.axisOffset[c]+=a.size+a.options.margin)});df(cX.prototype,"destroy",function(a){if(this.scrollbar){this.scrollbar=this.scrollbar.destroy()}a.apply(this,[].slice.call(arguments,1))});cE.Scrollbar=cv;var dN=[].concat(dp),ds=function(a){var b=W(arguments,cr);if(b.length){return Math[a].apply(0,b)}};dN[4]=["day",[1,2,3,4]];dN[5]=["week",[1,2,3]];cm(c8,{navigator:{handles:{backgroundColor:"#ebe7e8",borderColor:"#b2b1b6"},height:40,margin:25,maskFill:"rgba(128,179,236,0.3)",maskInside:!0,outlineColor:"#b2b1b6",outlineWidth:1,series:{type:cV.areaspline===cn?"line":"areaspline",color:"#4572A7",compare:null,fillOpacity:0.05,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:dN},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",lineColor:null,lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1,threshold:null},xAxis:{tickWidth:0,lineWidth:0,gridLineColor:"#EEE",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#888"},x:3,y:-4},crosshair:!1},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:0.1,maxPadding:0.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickWidth:0}}});cc.prototype={drawHandle:function(d,h){var f=this.chart.renderer,i=this.elementsToDestroy,a=this.handles,b=this.navigatorOptions.handles,b={fill:b.backgroundColor,stroke:b.borderColor,"stroke-width":1},c;this.rendered||(a[h]=f.g("navigator-handle-"+["left","right"][h]).css({cursor:"ew-resize"}).attr({zIndex:10-h}).add(),c=f.rect(-4.5,0,9,16,0,1).attr(b).add(a[h]),i.push(c),c=f.path(["M",-1.5,4,"L",-1.5,12,"M",0.5,4,"L",0.5,12]).attr(b).add(a[h]),i.push(c));a[h][this.rendered&&!this.hasDragged?"animate":"attr"]({translateX:this.scrollerLeft+this.scrollbarHeight+parseInt(d,10),translateY:this.top+this.height/2-8})},render:function(a,b,c,d){var f=this.chart,h=f.renderer,i,m,n,p,s=this.navigatorGroup;p=this.scrollbarHeight;var s=this.xAxis,u=this.navigatorOptions,F=this.height,Z=this.top,j=this.navigatorEnabled,ad=u.outlineWidth,k=ad/2,r=this.outlineHeight,l=Z+k,L=this.rendered;if(cr(a)&&cr(b)&&(!this.hasDragged||cl(c))){this.navigatorLeft=i=cj(s.left,f.plotLeft+p);this.navigatorWidth=m=cj(s.len,f.plotWidth-2*p);this.scrollerLeft=n=i-p;this.scrollerWidth=p=p=m+2*p;c=cj(c,s.translate(a));d=cj(d,s.translate(b));if(!cr(c)||dg(c)===Infinity){c=0,d=p}if(!(s.translate(d,!0)-s.translate(c,!0)<f.xAxis[0].minRange)){this.zoomedMax=cJ(co(c,d,0),m);this.zoomedMin=cJ(co(this.fixedWidth?this.zoomedMax-this.fixedWidth:cJ(c,d),0),m);this.range=this.zoomedMax-this.zoomedMin;b=cB(this.zoomedMax);a=cB(this.zoomedMin);if(!L&&j){this.navigatorGroup=s=h.g("navigator").attr({zIndex:3}).add(),this.leftShade=h.rect().attr({fill:u.maskFill}).add(s),u.maskInside?this.leftShade.css({cursor:"ew-resize"}):this.rightShade=h.rect().attr({fill:u.maskFill}).add(s),this.outline=h.path().attr({"stroke-width":ad,stroke:u.outlineColor}).add(s)}h=L&&!this.hasDragged?"animate":"attr";if(j){this.leftShade[h](u.maskInside?{x:i+a,y:Z,width:b-a,height:F}:{x:i,y:Z,width:a,height:F});if(this.rightShade){this.rightShade[h]({x:i+b,y:Z,width:m-b,height:F})}this.outline[h]({d:[a7,n,l,dd,i+a-k,l,i+a-k,l+r,dd,i+b-k,l+r,dd,i+b-k,l,n+p,l].concat(u.maskInside?[a7,i+a+k,l,dd,i+b-k,l]:[])});this.drawHandle(a+k,0);this.drawHandle(b+k,1)}if(this.scrollbar){this.scrollbar.hasDragged=this.hasDragged,this.scrollbar.position(this.scrollerLeft,this.top+(j?this.height:-this.scrollbarHeight),this.scrollerWidth,this.scrollbarHeight),this.scrollbar.setRange(a/m,b/m)}this.rendered=!0}}},addEvents:function(){var d=this.chart,f=d.container,h=this.mouseDownHandler,a=this.mouseMoveHandler,b=this.mouseUpHandler,c;c=[[f,"mousedown",h],[f,"mousemove",a],[cF,"mouseup",b]];cx&&c.push([f,"touchstart",h],[f,"touchmove",a],[cF,"touchend",b]);ch(c,function(i){cN.apply(null,i)});this._events=c;this.series&&cN(this.series.xAxis,"foundExtremes",function(){d.scroller.modifyNavigatorAxisExtremes()});cN(d,"redraw",function(){var i=this.scroller,j=i&&i.baseSeries&&i.baseSeries.xAxis;j&&i.render(j.min,j.max)})},removeEvents:function(){ch(this._events,function(a){a5.apply(null,a)});this._events=cn;this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){this.navigatorEnabled&&this.baseSeries&&this.baseSeries.xAxis&&this.navigatorOptions.adaptToUpdatedData!==!1&&(a5(this.baseSeries,"updatedData",this.updatedDataHandler),a5(this.baseSeries.xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(){var n=this,a=n.chart,c,d,h=n.scrollbarHeight,i=n.navigatorOptions,j=n.height,k=n.top,l,m=n.baseSeries;n.mouseDownHandler=function(L){var L=a.pointer.normalize(L),Z=n.zoomedMin,ad=n.zoomedMax,ae=n.top,af=n.scrollerLeft,ag=n.scrollerWidth,ah=n.navigatorLeft,ai=n.navigatorWidth,aj=n.scrollbarPad||0,p=n.range,r=L.chartX,s=L.chartY,L=a.xAxis[0],u,F=a4?10:7;if(s>ae&&s<ae+j){if(dj.abs(r-Z-ah)<F){n.grabbedLeft=!0,n.otherHandlePos=ad,n.fixedExtreme=L.max,a.fixedRange=null}else{if(dj.abs(r-ad-ah)<F){n.grabbedRight=!0,n.otherHandlePos=Z,n.fixedExtreme=L.min,a.fixedRange=null}else{if(r>ah+Z-aj&&r<ah+ad+aj){n.grabbedCenter=r,n.fixedWidth=p,l=r-Z}else{if(r>af&&r<af+ag){ad=r-ah-p/2;if(ad<0){ad=0}else{if(ad+p>=ai){ad=ai-p,u=n.getUnionExtremes().dataMax}}if(ad!==Z){n.fixedWidth=p,Z=c.toFixedRange(ad,ad+p,null,u),L.setExtremes(Z.min,Z.max,!0,null,{trigger:"navigator"})}}}}}}};n.mouseMoveHandler=function(F){var L=n.scrollbarHeight,Z=n.navigatorLeft,ad=n.navigatorWidth,p=n.scrollerLeft,r=n.scrollerWidth,s=n.range,u;if(!F.touches||F.touches[0].pageX!==0){F=a.pointer.normalize(F);u=F.chartX;u<Z?u=Z:u>p+r-L&&(u=p+r-L);if(n.grabbedLeft){n.hasDragged=!0,n.render(0,0,u-Z,n.otherHandlePos)}else{if(n.grabbedRight){n.hasDragged=!0,n.render(0,0,n.otherHandlePos,u-Z)}else{if(n.grabbedCenter){n.hasDragged=!0,u<l?u=l:u>ad+l-s&&(u=ad+l-s),n.render(0,0,u-l,u-l+s)}}}if(n.hasDragged&&n.scrollbar&&n.scrollbar.options.liveRedraw){F.DOMType=F.type,setTimeout(function(){n.mouseUpHandler(F)},0)}}};n.mouseUpHandler=function(p){var r,s,u=p.DOMEvent||p;if(n.hasDragged||p.trigger==="scrollbar"){if(n.zoomedMin===n.otherHandlePos){r=n.fixedExtreme}else{if(n.zoomedMax===n.otherHandlePos){s=n.fixedExtreme}}if(n.zoomedMax===n.navigatorWidth){s=n.getUnionExtremes().dataMax}r=c.toFixedRange(n.zoomedMin,n.zoomedMax,r,s);cl(r.min)&&a.xAxis[0].setExtremes(r.min,r.max,!0,n.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:u})}if(p.DOMType!=="mousemove"){n.grabbedLeft=n.grabbedRight=n.grabbedCenter=n.fixedWidth=n.fixedExtreme=n.otherHandlePos=n.hasDragged=l=null}};var b=a.xAxis.length,f=a.yAxis.length;a.extraBottomMargin=n.outlineHeight+i.margin;n.navigatorEnabled?(n.xAxis=c=new cX(a,cH({breaks:m&&m.xAxis.options.breaks,ordinal:m&&m.xAxis.options.ordinal},i.xAxis,{id:"navigator-x-axis",isX:!0,type:"datetime",index:b,height:j,offset:0,offsetLeft:h,offsetRight:-h,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),n.yAxis=d=new cX(a,cH(i.yAxis,{id:"navigator-y-axis",alignTicks:!1,height:j,offset:0,index:f,zoomEnabled:!1})),m||i.series.data?n.addBaseSeries():a.series.length===0&&df(a,"redraw",function(p,r){if(a.series.length>0&&!n.series){n.setBaseSeries(),a.redraw=p}p.call(a,r)})):n.xAxis=c={translate:function(u,F){var L=a.xAxis[0],p=L.getExtremes(),r=a.plotWidth-2*h,s=ds("min",L.options.min,p.dataMin),L=ds("max",L.options.max,p.dataMax)-s;return F?u*L/r+s:r*(u-s)/L},toFixedRange:cX.prototype.toFixedRange};if(a.options.scrollbar.enabled){n.scrollbar=new cv(a.renderer,cH(a.options.scrollbar,{margin:n.navigatorEnabled?0:10}),a),cN(n.scrollbar,"changed",function(p){var r=n.navigatorWidth,s=r*this.to;r*=this.from;n.hasDragged=n.scrollbar.hasDragged;n.render(0,0,r,s);(a.options.scrollbar.liveRedraw||p.DOMType!=="mousemove")&&setTimeout(function(){n.mouseUpHandler(p)})})}n.addBaseSeriesEvents();df(a,"getMargins",function(s){var p=this.legend,r=p.options;s.apply(this,[].slice.call(arguments,1));n.top=k=n.navigatorOptions.top||this.chartHeight-n.height-n.scrollbarHeight-this.spacing[2]-(r.verticalAlign==="bottom"&&r.enabled&&!r.floating?p.legendHeight+cj(r.margin,10):0);if(c&&d){c.options.top=d.options.top=k,c.setAxisSize(),d.setAxisSize()}});n.addEvents()},getUnionExtremes:function(d){var f=this.chart.xAxis[0],h=this.xAxis,a=h.options,b=f.options,c;if(!d||f.dataMin!==null){c={dataMin:cj(a&&a.min,ds("min",b.min,f.dataMin,h.dataMin,h.min)),dataMax:cj(a&&a.max,ds("max",b.max,f.dataMax,h.dataMax,h.max))}}return c},setBaseSeries:function(a){var b=this.chart,a=a||b.options.navigator.baseSeries;this.series&&(this.removeBaseSeriesEvents(),this.series.remove());this.baseSeries=b.series[a]||typeof a==="string"&&b.get(a)||b.series[0];this.xAxis&&this.addBaseSeries()},addBaseSeries:function(){var c=this.baseSeries,d=c?c.options:{},c=d.data,a=this.navigatorOptions.series,b;b=a.data;this.hasNavigatorData=!!b;d=cH(d,a,{enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",name:"Navigator",showInLegend:!1,stacking:!1,isInternal:!0,visible:!0});d.data=b||c.slice(0);this.series=this.chart.initSeries(d);this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var a=this.baseSeries;if(a&&a.xAxis&&this.navigatorOptions.adaptToUpdatedData!==!1){cN(a,"updatedData",this.updatedDataHandler),cN(a.xAxis,"foundExtremes",this.modifyBaseAxisExtremes),a.userOptions.events=cm(a.userOptions.event,{updatedData:this.updatedDataHandler})}},modifyNavigatorAxisExtremes:function(){var a=this.xAxis,b;if(a.getExtremes&&(b=this.getUnionExtremes(!0))&&(b.dataMin!==a.min||b.dataMax!==a.max)){a.min=b.dataMin,a.max=b.dataMax}},modifyBaseAxisExtremes:function(){if(this.chart.scroller.baseSeries&&this.chart.scroller.baseSeries.xAxis){var b=this.chart.scroller,c=this.getExtremes(),f=c.dataMin,h=c.dataMax,c=c.max-c.min,i=b.stickToMin,j=b.stickToMax,k,l,a=b.series,d=!!this.setExtremes;if(!(this.eventArgs&&this.eventArgs.trigger==="rangeSelectorButton")&&(i&&(l=f,k=l+c),j&&(k=h,i||(l=co(k-c,a&&a.xData?a.xData[0]:-Number.MAX_VALUE))),d&&(i||j)&&cr(l))){this.min=this.userMin=l,this.max=this.userMax=k}b.stickToMin=b.stickToMax=null}},updatedDataHandler:function(){var b=this.chart.scroller,c=b.baseSeries,a=b.series;b.stickToMin=cr(c.xAxis.min)&&c.xAxis.min<=c.xData[0];b.stickToMax=Math.round(b.zoomedMax)>=Math.round(b.navigatorWidth);if(a&&!b.hasNavigatorData){a.options.pointStart=c.xData[0],a.setData(c.options.data,!1,null,!1)}},destroy:function(){this.removeEvents();ch([this.scrollbar,this.xAxis,this.yAxis,this.leftShade,this.rightShade,this.outline],function(a){a&&a.destroy&&a.destroy()});this.xAxis=this.yAxis=this.leftShade=this.rightShade=this.outline=null;ch([this.handles,this.elementsToDestroy],function(a){cy(a)})}};cE.Navigator=cc;df(cX.prototype,"zoom",function(f,i,b){var h=this.chart,j=h.options,a=j.chart.zoomType,c=j.navigator,j=j.rangeSelector,d;if(this.isXAxis&&(c&&c.enabled||j&&j.enabled)){if(a==="x"){h.resetZoomButton="blocked"}else{if(a==="y"){d=!1}else{if(a==="xy"){h=this.previousZoom,cl(i)?this.previousZoom=[this.min,this.max]:h&&(i=h[0],b=h[1],delete this.previousZoom)}}}}return d!==cn?d:f.call(this,i,b)});df(c1.prototype,"init",function(b,c,a){cN(this,"beforeRender",function(){var d=this.options;if(d.navigator.enabled||d.scrollbar.enabled){this.scroller=new cc(this)}});b.call(this,c,a)});df(c7.prototype,"addPoint",function(d,f,h,a,b){var c=this.options.turboThreshold;c&&this.xData.length>c&&cC(f,!0)&&this.chart.scroller&&bc(20,!0);d.call(this,f,h,a,b)});cm(c8,{rangeSelector:{buttonTheme:{width:28,height:18,fill:"#f7f7f7",padding:2,r:0,"stroke-width":0,style:{color:"#444",cursor:"pointer",fontWeight:"normal"},zIndex:7,states:{hover:{fill:"#e7e7e7"},select:{fill:"#e7f0f9",style:{color:"black",fontWeight:"bold"}}}},height:35,inputPosition:{align:"right"},labelStyle:{color:"#666"}}});c8.lang=cH(c8.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"});o.prototype={clickButton:function(a,b){var c=this,d=c.selected,f=c.chart,j=c.buttons,l=c.buttonOptions[a],m=f.xAxis[0],p=f.scroller&&f.scroller.getUnionExtremes()||m||{},r=p.dataMin,s=p.dataMax,F,L=m&&cB(cJ(m.max,cj(s,m.max))),h=l.type,i,p=l._range,k,n,u,Z=l.dataGrouping;if(!(r===null||s===null||a===c.selected)){f.fixedRange=p;if(Z){this.forcedDataGrouping=!0,cX.prototype.setDataGrouping.call(m||{chart:this.chart},Z,!1)}if(h==="month"||h==="year"){if(m){if(h={range:l,max:L,dataMin:r,dataMax:s},F=m.minFromRange.call(h),cr(h.newMax)){L=h.newMax}}else{p=l}}else{if(p){F=co(L-p,r),L=cJ(F+p,s)}else{if(h==="ytd"){if(m){if(s===cn){r=Number.MAX_VALUE,s=Number.MIN_VALUE,ch(f.series,function(ad){ad=ad.xData;r=cJ(ad[0],r);s=co(ad[ad.length-1],s)}),b=!1}L=new di(s);F=L.getFullYear();F=k=co(r||0,di.UTC(F,0,1));L=L.getTime();L=cJ(s||L,L)}else{cN(f,"beforeRender",function(){c.clickButton(a)});return}}else{h==="all"&&m&&(F=r,L=s)}}}j[d]&&j[d].setState(0);if(j[a]){j[a].setState(2),c.lastSelected=a}m?(m.setExtremes(F,L,cj(b,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:l}),c.setSelected(a)):(i=dJ(f.options.xAxis)[0],u=i.range,i.range=p,n=i.min,i.min=k,c.setSelected(a),cN(f,"load",function(){i.range=u;i.min=n}))}},setSelected:function(a){this.selected=this.options.selected=a},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(d){var f=this,h=d.options.rangeSelector,a=h.buttons||[].concat(f.defaultButtons),b=h.selected,c=f.blurInputs=function(){var j=f.minInput,i=f.maxInput;j&&j.blur&&cY(j,"blur");i&&i.blur&&cY(i,"blur")};f.chart=d;f.options=h;f.buttons=[];d.extraTopMargin=h.height;f.buttonOptions=a;cN(d.container,"mousedown",c);cN(d,"resize",c);ch(a,f.computeButtonRange);b!==cn&&a[b]&&this.clickButton(b,!1);cN(d,"load",function(){cN(d.xAxis[0],"setExtremes",function(i){this.max-this.min!==d.fixedRange&&i.trigger!=="rangeSelectorButton"&&i.trigger!=="updatedData"&&f.forcedDataGrouping&&this.setDataGrouping(!1,!1)});cN(d.xAxis[0],"afterSetExtremes",function(){f.updateButtonStates(!0)})})},updateButtonStates:function(b){var c=this,f=this.chart,h=f.xAxis[0],i=f.scroller&&f.scroller.getUnionExtremes()||h,j=i.dataMin,k=i.dataMax,l=c.selected,a=c.options.allButtonsEnabled,d=c.buttons;b&&f.fixedRange!==cB(h.max-h.min)&&(d[l]&&d[l].setState(0),c.setSelected(null));ch(c.buttonOptions,function(F,Z){var ad=cB(h.max-h.min),ae=F._range,af=F.type,m=F.count||1,n=ae>k-j,p=ae<h.minRange,r=F.type==="all"&&h.max-h.min>=k-j&&d[Z].state!==2,u=F.type==="ytd"&&cq("%Y",j)===cq("%Y",k),s=f.renderer.forExport&&Z===l,ae=ae===ad,L=!h.hasVisibleSeries;if((af==="month"||af==="year")&&ad>={month:28,year:365}[af]*86400000*m&&ad<={month:31,year:366}[af]*86400000*m){ae=!0}s||ae&&Z!==l&&Z===c.lastSelected?(c.setSelected(Z),d[Z].setState(2)):!a&&(n||p||r||u||L)?d[Z].setState(3):d[Z].state===3&&d[Z].setState(0)})},computeButtonRange:function(c){var d=c.type,a=c.count||1,b={millisecond:1,second:1000,minute:60000,hour:3600000,day:86400000,week:604800000};if(b[d]){c._range=b[d]*a}else{if(d==="month"||d==="year"){c._range={month:30,year:365}[d]*86400000*a}}},setInputValue:function(b,c){var a=this.chart.options.rangeSelector;if(cl(c)){this[b+"Input"].HCTime=c}this[b+"Input"].value=cq(a.inputEditDateFormat||"%Y-%m-%d",this[b+"Input"].HCTime);this[b+"DateBox"].attr({text:cq(a.inputDateFormat||"%b %e, %Y",this[b+"Input"].HCTime)})},showInput:function(b){var c=this.inputGroup,a=this[b+"DateBox"];c5(this[b+"Input"],{left:c.translateX+a.x+"px",top:c.translateY+"px",width:a.width-2+"px",height:a.height-2+"px",border:"2px solid silver"})},hideInput:function(a){c5(this[a+"Input"],{border:0,width:"1px",height:"1px"});this.setInputValue(a)},drawInput:function(n){function a(){var s=m.value,u=(j.inputDateParser||di.parse)(s),F=d.xAxis[0],p=F.dataMin,r=F.dataMax;if(u!==m.previousValue){m.previousValue=u,cr(u)||(u=s.split("-"),u=di.UTC(cR(u[0]),cR(u[1])-1,cR(u[2]))),cr(u)&&(c8.global.useUTC||(u+=(new di).getTimezoneOffset()*60000),l?u>c.maxInput.HCTime?u=cn:u<p&&(u=p):u<c.minInput.HCTime?u=cn:u>r&&(u=r),u!==cn&&d.xAxis[0].setExtremes(l?u:F.min,l?F.max:u,cn,cn,{trigger:"rangeSelectorInput"}))}}var c=this,d=c.chart,h=d.renderer.style,i=d.renderer,j=d.options.rangeSelector,k=c.div,l=n==="min",m,b,f=this.inputGroup;this[n+"Label"]=b=i.label(c8.lang[l?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).attr({padding:2}).css(cH(h,j.labelStyle)).add(f);f.offset+=b.width+5;this[n+"DateBox"]=i=i.label("",f.offset).attr({padding:2,width:j.inputBoxWidth||90,height:j.inputBoxHeight||17,stroke:j.inputBoxBorderColor||"silver","stroke-width":1}).css(cH({textAlign:"center",color:"#444"},h,j.inputStyle)).on("click",function(){c.showInput(n);c[n+"Input"].focus()}).add(f);f.offset+=i.width+(l?10:0);this[n+"Input"]=m=cU("input",{name:n,className:"highcharts-range-selector",type:"text"},cm({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,left:"-9em",top:d.plotTop+"px"},j.inputStyle),k);m.onfocus=function(){c.showInput(n)};m.onblur=function(){c.hideInput(n)};m.onchange=a;m.onkeypress=function(p){p.keyCode===13&&a()}},getPosition:function(){var a=this.chart,b=a.options.rangeSelector,a=cj((b.buttonPosition||{}).y,a.plotTop-a.axisOffset[0]-b.height);return{buttonTop:a,inputTop:a-10}},render:function(a,b){var c=this,d=c.chart,f=d.renderer,h=d.container,k=d.options,l=k.exporting&&k.exporting.enabled!==!1&&k.navigation&&k.navigation.buttonOptions,m=k.rangeSelector,r=c.buttons,k=c8.lang,s=c.div,s=c.inputGroup,u=m.buttonTheme,L=m.buttonPosition||{},Z=m.inputEnabled,i=u&&u.states,j=d.plotLeft,n,ad=this.getPosition(),p=c.group,F=c.rendered;if(!F&&(c.group=p=f.g("range-selector-buttons").add(),c.zoomText=f.text(k.rangeSelectorZoom,cj(L.x,j),15).css(m.labelStyle).add(p),n=cj(L.x,j)+c.zoomText.getBBox().width+5,ch(c.buttonOptions,function(af,ae){r[ae]=f.button(af.text,n,0,function(){c.clickButton(ae);c.isActive=!0},u,i&&i.hover,i&&i.select,i&&i.disabled).css({textAlign:"center"}).add(p);n+=r[ae].width+cj(m.buttonSpacing,5);c.selected===ae&&r[ae].setState(2)}),c.updateButtonStates(),Z!==!1)){c.div=s=cU("div",null,{position:"relative",height:0,zIndex:1}),h.parentNode.insertBefore(s,h),c.inputGroup=s=f.g("input-group").add(),s.offset=0,c.drawInput("min"),c.drawInput("max")}p[F?"animate":"attr"]({translateY:ad.buttonTop});Z!==!1&&(s.align(cm({y:ad.inputTop,width:s.offset,x:l&&ad.inputTop<(l.y||0)+l.height-d.spacing[0]?-40:0},m.inputPosition),!0,d.spacingBox),cl(Z)||(d=p.getBBox(),s[s.translateX<d.x+d.width+10?"hide":"show"]()),c.setInputValue("min",a),c.setInputValue("max",b));c.rendered=!0},destroy:function(){var d=this.minInput,f=this.maxInput,a=this.chart,b=this.blurInputs,c;a5(a.container,"mousedown",b);a5(a,"resize",b);cy(this.buttons);if(d){d.onfocus=d.onblur=d.onchange=null}if(f){f.onfocus=f.onblur=f.onchange=null}for(c in this){this[c]&&c!=="chart"&&(this[c].destroy?this[c].destroy():this[c].nodeType&&ci(this[c])),this[c]=null}}};cX.prototype.toFixedRange=function(d,f,a,b){var c=this.chart&&this.chart.fixedRange,d=cj(a,this.translate(d,!0)),f=cj(b,this.translate(f,!0)),a=c&&(f-d)/c;a>0.7&&a<1.3&&(b?d=f-c:f=d+c);cr(d)||(d=f=void 0);return{min:d,max:f}};cX.prototype.minFromRange=function(){var d=this.range,h={month:"Month",year:"FullYear"}[d.type],f,i=this.max,a,b,c=function(j,k){var l=new di(j);l["set"+h](l["get"+h]()+k);return l.getTime()-j};cr(d)?(f=this.max-d,b=d):f=i+c(i,-d.count);a=cj(this.dataMin,Number.MIN_VALUE);cr(f)||(f=a);if(f<=a){f=a,b===void 0&&(b=c(f,d.count)),this.newMax=cJ(f+b,this.dataMax)}cr(i)||(f=void 0);return f};df(c1.prototype,"init",function(b,c,a){cN(this,"init",function(){if(this.options.rangeSelector.enabled){this.rangeSelector=new o(this)}});b.call(this,c,a)});cE.RangeSelector=o;c1.prototype.callbacks.push(function(d){function f(){a=d.xAxis[0].getExtremes();cr(a.min)&&c.render(a.min,a.max)}function h(i){c.render(i.min,i.max)}var a,b=d.scroller,c=d.rangeSelector;b&&(a=d.xAxis[0].getExtremes(),b.render(a.min,a.max));c&&(cN(d.xAxis[0],"afterSetExtremes",h),cN(d,"resize",f),f());cN(d,"destroy",function(){c&&(a5(d,"resize",f),a5(d.xAxis[0],"afterSetExtremes",h))})});cE.StockChart=cE.stockChart=function(b,c,f){var h=ct(b)||b.nodeName,i=arguments[h?1:0],j=i.series,k,l=cj(i.navigator&&i.navigator.enabled,!0)?{startOnTick:!1,endOnTick:!1}:null,a={marker:{enabled:!1,radius:2}},d={shadow:!1,borderWidth:0};i.xAxis=H(dJ(i.xAxis||{}),function(m){return cH({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},m,{type:"datetime",categories:null},l)});i.yAxis=H(dJ(i.yAxis||{}),function(m){k=cj(m.opposite,!0);return cH({labels:{y:-2},opposite:k,showLastLabel:!1,title:{text:null}},m)});i.series=null;i=cH({chart:{panning:!0,pinchType:"x"},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null,style:{fontSize:"16px"}},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:a,spline:a,area:a,areaspline:a,arearange:a,areasplinerange:a,column:d,columnrange:d,candlestick:d,ohlc:d}},i,{_stock:!0,chart:{inverted:!1}});i.series=j;return h?new c1(b,i,f):new c1(i,c)};df(dl.prototype,"init",function(c,d,a){var b=a.chart.pinchType||"";c.call(this,d,a);this.pinchX=this.pinchHor=b.indexOf("x")!==-1;this.pinchY=this.pinchVert=b.indexOf("y")!==-1;this.hasZoom=this.hasZoom||this.pinchHor||this.pinchVert});df(cX.prototype,"autoLabelAlign",function(c){var d=this.chart,a=this.options,d=d._labelPanes=d._labelPanes||{},b=this.options.labels;if(this.chart.options._stock&&this.coll==="yAxis"&&(a=a.top+","+a.height,!d[a]&&b.enabled)){if(b.x===15){b.x=0}if(b.align===void 0){b.align="right"}d[a]=1;return"right"}return c.call(this,[].slice.call(arguments,1))});df(cX.prototype,"getPlotLinePath",function(a,b,c,d,f,h){var k=this,m=this.isLinked&&!this.series?this.linkedParent.series:this.series,n=k.chart,r=n.renderer,s=k.left,u=k.top,L,Z,i,j,l=[],F=[],p,ad;if(k.coll==="colorAxis"){return a.apply(this,[].slice.call(arguments,1))}F=k.isXAxis?cl(k.options.yAxis)?[n.yAxis[k.options.yAxis]]:H(m,function(ae){return ae.yAxis}):cl(k.options.xAxis)?[n.xAxis[k.options.xAxis]]:H(m,function(ae){return ae.xAxis});ch(k.isXAxis?n.yAxis:n.xAxis,function(af){if(cl(af.options.id)?af.options.id.indexOf("navigator")===-1:1){var ae=af.isXAxis?"yAxis":"xAxis",ae=cl(af.options[ae])?n[ae][af.options[ae]]:n[ae][0];k===ae&&F.push(af)}});p=F.length?[]:[k.isXAxis?n.yAxis[0]:n.xAxis[0]];ch(F,function(ae){z(ae,p)===-1&&p.push(ae)});ad=cj(h,k.translate(b,null,null,d));cr(ad)&&(k.horiz?ch(p,function(af){var ae;Z=af.pos;j=Z+af.len;L=i=cB(ad+k.transB);if(L<s||L>s+k.width){f?L=i=cJ(co(s,L),s+k.width):ae=!0}ae||l.push("M",L,Z,"L",i,j)}):ch(p,function(af){var ae;L=af.pos;i=L+af.len;Z=j=cB(u+k.height-ad);if(Z<u||Z>u+k.height){f?Z=j=cJ(co(u,Z),k.top+k.height):ae=!0}ae||l.push("M",L,Z,"L",i,j)}));return l.length>0?r.crispPolyLine(l,c||1):null});cX.prototype.getPlotBandPath=function(d,f){var h=this.getPlotLinePath(f,null,null,!0),a=this.getPlotLinePath(d,null,null,!0),b=[],c;if(a&&h&&a.toString()!==h.toString()){for(c=0;c<a.length;c+=6){b.push("M",a[c+1],a[c+2],"L",a[c+4],a[c+5],h[c+4],h[c+5],h[c+1],h[c+2])}}else{b=null}return b};dr.prototype.crispPolyLine=function(b,c){var a;for(a=0;a<b.length;a+=6){b[a+1]===b[a+4]&&(b[a+1]=b[a+4]=cB(b[a+1])-c%2/2),b[a+2]===b[a+5]&&(b[a+2]=b[a+5]=cB(b[a+2])+c%2/2)}return b};if(dH===cE.VMLRenderer){dB.prototype.crispPolyLine=dr.prototype.crispPolyLine}df(cX.prototype,"hideCrosshair",function(a,b){a.call(this,b);if(this.crossLabel){this.crossLabel=this.crossLabel.hide()}});df(cX.prototype,"drawCrosshair",function(h,k,m){var p,r;h.call(this,k,m);if(cl(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var h=this.chart,u=this.options.crosshair.label,a=this.horiz,c=this.opposite,d=this.left,f=this.top,i=this.crossLabel,j,l=u.format,n="",s=this.options.tickPosition==="inside",b=this.crosshair.snap!==!1;k||(k=this.cross&&this.cross.e);j=a?"center":c?this.labelAlign==="right"?"right":"left":this.labelAlign==="left"?"left":"center";if(!i){i=this.crossLabel=h.renderer.label(null,null,null,u.shape||"callout").attr({align:u.align||j,zIndex:12,fill:u.backgroundColor||this.series[0]&&this.series[0].color||"gray",padding:cj(u.padding,8),stroke:u.borderColor||"","stroke-width":u.borderWidth||0,r:cj(u.borderRadius,3)}).css(cm({color:"white",fontWeight:"normal",fontSize:"11px",textAlign:"center"},u.style)).add()}a?(j=b?m.plotX+d:k.chartX,f+=c?0:this.height):(j=c?this.width+d:0,f=b?m.plotY+f:k.chartY);!l&&!u.formatter&&(this.isDatetimeAxis&&(n="%b %d, %Y"),l="{value"+(n?":"+n:"")+"}");k=b?m[this.isXAxis?"x":"y"]:this.toValue(a?k.chartX:k.chartY);i.attr({text:l?dw(l,{value:k}):u.formatter.call(this,k),anchorX:a?j:this.opposite?0:h.chartWidth,anchorY:a?this.opposite?h.chartHeight:0:f,x:j,y:f,visibility:"visible"});k=i.getBBox();if(a){if(s&&!c||!s&&c){f=i.y-k.height}}else{f=i.y-k.height/2}a?(p=d-k.x,r=d+this.width-k.x):(p=this.labelAlign==="left"?d:0,r=this.labelAlign==="right"?d+this.width:h.chartWidth);i.translateX<p&&(j+=p-i.translateX);i.translateX+k.width>=r&&(j-=i.translateX+k.width-r);i.attr({x:j,y:f,visibility:"visible"})}});var C=a3.init,X=a3.processData,E=cb.prototype.tooltipFormatter;a3.init=function(){C.apply(this,arguments);this.setCompare(this.options.compare)};a3.setCompare=function(a){this.modifyValue=a==="value"||a==="percent"?function(d,b){var c=this.compareValue;if(d!==cn&&(d=a==="value"?d-c:d=100*(d/c)-100,b)){b.change=d}return d}:null;this.userOptions.compare=a;if(this.chart.hasRendered){this.isDirty=!0}};a3.processData=function(){var d,f=-1,h,a,b,c;X.apply(this,arguments);if(this.xAxis&&this.processedYData){h=this.processedXData;a=this.processedYData;b=a.length;this.pointArrayMap&&(f=z(this.pointValKey||"y",this.pointArrayMap));for(d=0;d<b-1;d++){if(c=f>-1?a[d][f]:a[d],cr(c)&&h[d+1]>=this.xAxis.min&&c!==0){this.compareValue=c;break}}}};df(a3,"getExtremes",function(a){var b;a.apply(this,[].slice.call(arguments,1));if(this.modifyValue){b=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)],this.dataMin=dL(b),this.dataMax=V(b)}});cX.prototype.setCompare=function(a,b){this.isXAxis||(ch(this.series,function(c){c.setCompare(a)}),cj(b,!0)&&this.chart.redraw())};cb.prototype.tooltipFormatter=function(a){a=a.replace("{point.change}",(this.change>0?"+":"")+cE.numberFormat(this.change,cj(this.series.tooltipOptions.changeDecimals,2)));return E.apply(this,[a])};df(c7.prototype,"render",function(a){if(this.chart.options._stock&&this.xAxis){!this.clipBox&&this.animate?(this.clipBox=cH(this.chart.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=this.yAxis.len):this.chart[this.sharedClipKey]&&(c9(this.chart[this.sharedClipKey]),this.chart[this.sharedClipKey].attr({width:this.xAxis.len,height:this.yAxis.len}))}a.call(this)});cm(cE,{Color:ac,Point:cb,Tick:dk,Renderer:dH,SVGElement:cL,SVGRenderer:dr,arrayMin:dL,arrayMax:V,charts:ce,correctFloat:a6,dateFormat:cq,error:bc,format:dw,pathAnim:void 0,getOptions:function(){return c8},hasBidiBug:cS,isTouchDevice:a4,setOptions:function(a){c8=cH(!0,c8,a);da();return c8},addEvent:cN,removeEvent:a5,createElement:cU,discardElement:ci,css:c5,each:ch,map:H,merge:cH,splat:dJ,stableSort:cs,extendClass:bb,pInt:cR,svg:S,canvas:cM,vml:!S&&!cM,product:"Highstock",version:"4.2.6"});return cE});(function(b){typeof module==="object"&&module.exports?module.exports=b:b(Highcharts)})(function(y){function t(a,b,c){this.init(a,b,c)}var G=y.arrayMin,M=y.arrayMax,O=y.each,ad=y.extend,i=y.isNumber,Q=y.merge,P=y.map,H=y.pick,F=y.pInt,W=y.correctFloat,B=y.getOptions().plotOptions,x=y.seriesTypes,U=y.extendClass,u=y.splat,ac=y.wrap,v=y.Axis,r=y.Tick,n=y.Point,S=y.Pointer,T=y.CenteredSeriesMixin,I=y.TrackerMixin,m=y.Series,p=Math,R=p.round,N=p.floor,A=p.max,V=y.Color,z=function(){};ad(t.prototype,{init:function(a,b,c){var d=this,f=d.defaultOptions;d.chart=b;d.options=a=Q(f,b.angular?{background:{}}:void 0,a);(a=a.background)&&O([].concat(u(a)).reverse(),function(j){var k=j.backgroundColor,h=c.userOptions,j=Q(d.defaultBackgroundOptions,j);if(k){j.backgroundColor=k}j.color=j.backgroundColor;c.options.plotBands.unshift(j);h.plotBands=h.plotBands||[];h.plotBands!==c.options.plotBands&&h.plotBands.unshift(j)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var D=v.prototype,r=r.prototype,X={getOffset:z,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:z,setCategories:z,setTitle:z},C={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(a){a=this.options=Q(this.defaultOptions,this.defaultRadialOptions,a);if(!a.plotBands){a.plotBands=[]}},getOffset:function(){D.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=T.getCenter.call(this.pane)},getLinePath:function(a,b){var c=this.center,b=H(b,c[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+c[0],this.top+c[1],b,b,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){D.setAxisTranslation.call(this);if(this.center){this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0}},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){D.setAxisSize.call(this);if(this.isRadial){this.center=this.pane.center=y.CenteredSeriesMixin.getCenter.call(this.pane);if(this.isCircular){this.sector=this.endAngleRad-this.startAngleRad}this.len=this.width=this.height=this.center[2]*H(this.sector,1)/2}},getPosition:function(a,b){return this.postTranslate(this.isCircular?this.translate(a):0,H(this.isCircular?b:this.translate(a),this.center[2]/2)-this.offset)},postTranslate:function(a,b){var c=this.chart,d=this.center,a=this.startAngleRad+a;return{x:c.plotLeft+d[0]+Math.cos(a)*b,y:c.plotTop+d[1]+Math.sin(a)*b}},getPlotBandPath:function(h,j,k){var l=this.center,a=this.startAngleRad,o=l[2]/2,c=[H(k.outerRadius,"100%"),k.innerRadius,H(k.thickness,10)],f=Math.min(this.offset,0),b=/%$/,q,d=this.isCircular;this.options.gridLineInterpolation==="polygon"?l=this.getPlotLinePath(h).concat(this.getPlotLinePath(j,!0)):(h=Math.max(h,this.min),j=Math.min(j,this.max),d||(c[0]=this.translate(h),c[1]=this.translate(j)),c=P(c,function(s){b.test(s)&&(s=F(s,10)*o/100);return s}),k.shape==="circle"||!d?(h=-Math.PI/2,j=Math.PI*1.5,q=!0):(h=a+this.translate(h),j=a+this.translate(j)),c[0]-=f,c[2]-=f,l=this.chart.renderer.symbols.arc(this.left+l[0],this.top+l[1],c[0],c[0],{start:Math.min(h,j),end:Math.max(h,j),innerR:H(c[1],c[0]-c[2]),open:q}));return l},getPlotLinePath:function(h,j){var k=this,l=k.center,b=k.chart,a=k.getPosition(h),d,f,c;k.isCircular?c=["M",l[0]+b.plotLeft,l[1]+b.plotTop,"L",a.x,a.y]:k.options.gridLineInterpolation==="circle"?(h=k.translate(h))&&(c=k.getLinePath(0,h)):(O(b.xAxis,function(o){o.pane===k.pane&&(d=o)}),c=[],h=k.translate(h),l=d.tickPositions,d.autoConnect&&(l=l.concat([l[0]])),j&&(l=[].concat(l).reverse()),O(l,function(o,q){f=d.getPosition(o,h);c.push(q?"L":"M",f.x,f.y)}));return c},getTitlePosition:function(){var a=this.center,b=this.chart,c=this.options.title;return{x:b.plotLeft+a[0]+(c.x||0),y:b.plotTop+a[1]-{high:0.5,middle:0.25,low:0}[c.align]*a[2]+(c.y||0)}}};ac(D,"init",function(h,j,k){var d;var l=j.angular,a=j.polar,o=k.isX,c=l&&o,f,b;b=j.options;var q=k.pane||0;if(l){if(ad(this,c?X:C),f=!o){this.defaultRadialOptions=this.defaultRadialGaugeOptions}}else{if(a){ad(this,C),this.defaultRadialOptions=(f=o)?this.defaultRadialXOptions:Q(this.defaultYAxisOptions,this.defaultRadialYOptions)}}if(l||a){j.inverted=!1,b.chart.zoomType=null}h.call(this,j,k);if(!c&&(l||a)){h=this.options;if(!j.panes){j.panes=[]}this.pane=(d=j.panes[q]=j.panes[q]||new t(u(b.pane)[q],j,this),j=d);b=j.options;this.startAngleRad=j=(b.startAngle-90)*Math.PI/180;this.endAngleRad=b=(H(b.endAngle,b.startAngle+360)-90)*Math.PI/180;this.offset=h.offset||0;if((this.isCircular=f)&&k.max===void 0&&b-j===2*Math.PI){this.autoConnect=!0}}});ac(D,"autoLabelAlign",function(a){if(!this.isRadial){return a.apply(this,[].slice.call(arguments,1))}});ac(r,"getPosition",function(a,c,b,d,h){var f=this.axis;return f.getPosition?f.getPosition(b):a.call(this,c,b,d,h)});ac(r,"getLabelPosition",function(c,f,h,l,s,o,b,j,E){var q=this.axis,d=o.y,k=20,a=o.align,K=(q.translate(this.pos)+q.startAngleRad+Math.PI/2)/Math.PI*180%360;q.isRadial?(c=q.getPosition(this.pos,q.center[2]/2+H(o.distance,-25)),o.rotation==="auto"?l.attr({rotation:K}):d===null&&(d=q.chart.renderer.fontMetrics(l.styles.fontSize).b-l.getBBox().height/2),a===null&&(q.isCircular?(this.label.getBBox().width>q.len*q.tickInterval/(q.max-q.min)&&(k=0),a=K>k&&K<180-k?"left":K>180+k&&K<360-k?"right":"center"):a="center",l.attr({align:a})),c.x+=o.x,c.y+=d):c=c.call(this,f,h,l,s,o,b,j,E);return c});ac(r,"getMarkPath",function(k,f,b,c,h,d,j){var a=this.axis;a.isRadial?(k=a.getPosition(this.pos,a.center[2]/2+c),f=["M",f,b,"L",k.x,k.y]):f=k.call(this,f,b,c,h,d,j);return f});B.arearange=Q(B.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});x.arearange=U(x.area,{type:"arearange",pointArrayMap:["low","high"],dataLabelCollections:["dataLabel","dataLabelUpper"],toYData:function(a){return[a.low,a.high]},pointValKey:"low",deferTranslatePolar:!0,highToXY:function(a){var b=this.chart,c=this.xAxis.postTranslate(a.rectPlotX,this.yAxis.len-a.plotHigh);a.plotHighX=c.x-b.plotLeft;a.plotHigh=c.y-b.plotTop},translate:function(){var a=this,b=a.yAxis;x.area.prototype.translate.apply(a);O(a.points,function(h){var c=h.low,f=h.high,d=h.plotY;f===null||c===null?h.isNull=!0:(h.plotLow=d,h.plotHigh=b.translate(f,0,1,0,1))});this.chart.polar&&O(this.points,function(c){a.highToXY(c)})},getGraphPath:function(){var h=this.points,j=[],k=[],l=h.length,b=m.prototype.getGraphPath,a,d,f;f=this.options;for(var c=f.step,l=h.length;l--;){a=h[l],!a.isNull&&(!h[l+1]||h[l+1].isNull)&&k.push({plotX:a.plotX,plotY:a.plotLow}),d={plotX:a.plotX,plotY:a.plotHigh,isNull:a.isNull},k.push(d),j.push(d),!a.isNull&&(!h[l-1]||h[l-1].isNull)&&k.push({plotX:a.plotX,plotY:a.plotLow})}h=b.call(this,h);if(c){c===!0&&(c="left"),f.step={left:"right",center:"center",right:"left"}[c]}j=b.call(this,j);k=b.call(this,k);f.step=c;f=[].concat(h,j);!this.chart.polar&&k[0]==="M"&&(k[0]="L");this.graphPath=f;this.areaPath=this.areaPath.concat(h,k);f.isArea=!0;f.xMap=h.xMap;this.areaPath.xMap=h.xMap;return f},drawDataLabels:function(){var c=this.data,j=c.length,k,l=[],s=m.prototype,o=this.options.dataLabels,b=o.align,f=o.verticalAlign,a=o.inside,q,d,h=this.chart.inverted;if(o.enabled||this._hasPointLabels){for(k=j;k--;){if(q=c[k]){d=a?q.plotHigh<q.plotLow:q.plotHigh>q.plotLow;q.y=q.high;q._plotY=q.plotY;q.plotY=q.plotHigh;l[k]=q.dataLabel;q.dataLabel=q.dataLabelUpper;q.below=d;if(h){if(!b){o.align=d?"right":"left"}}else{if(!f){o.verticalAlign=d?"top":"bottom"}}o.x=o.xHigh;o.y=o.yHigh}}s.drawDataLabels&&s.drawDataLabels.apply(this,arguments);for(k=j;k--;){if(q=c[k]){d=a?q.plotHigh<q.plotLow:q.plotHigh>q.plotLow;q.dataLabelUpper=q.dataLabel;q.dataLabel=l[k];q.y=q.low;q.plotY=q._plotY;q.below=!d;if(h){if(!b){o.align=d?"left":"right"}}else{if(!f){o.verticalAlign=d?"bottom":"top"}}o.x=o.xLow;o.y=o.yLow}}s.drawDataLabels&&s.drawDataLabels.apply(this,arguments)}o.align=b;o.verticalAlign=f},alignDataLabel:function(){x.column.prototype.alignDataLabel.apply(this,arguments)},setStackedPoints:z,getSymbol:z,drawPoints:z});B.areasplinerange=Q(B.arearange);x.areasplinerange=U(x.arearange,{type:"areasplinerange",getPointSpline:x.spline.prototype.getPointSpline});(function(){var a=x.column.prototype;B.columnrange=Q(B.column,B.arearange,{lineWidth:1,pointRange:null});x.columnrange=U(x.arearange,{type:"columnrange",translate:function(){var c=this,b=c.yAxis,d=c.xAxis,h=d.startAngleRad,f,k=c.chart,l=c.xAxis.isRadial,j;a.translate.apply(c);O(c.points,function(K){var s=K.shapeArgs,q=c.options.minPointLength,E,o;K.plotHigh=j=b.translate(K.high,0,1,0,1);K.plotLow=K.plotY;o=j;E=H(K.rectPlotY,K.plotY)-j;Math.abs(E)<q?(q-=E,E+=q,o-=q/2):E<0&&(E*=-1,o-=E);l?(f=K.barX+h,K.shapeType="path",K.shapeArgs={d:c.polarArc(o+E,o,f,f+K.pointWidth)}):(s.height=E,s.y=o,K.tooltipPos=k.inverted?[b.len+b.pos-k.plotLeft-o-E/2,d.len+d.pos-k.plotTop-s.x-s.width/2,E]:[d.left-k.plotLeft+s.x+s.width/2,b.pos-k.plotTop+o+E/2,E])})},directTouch:!0,trackerGroups:["group","dataLabelsGroup"],drawGraph:z,crispCol:a.crispCol,pointAttrToOptions:a.pointAttrToOptions,drawPoints:a.drawPoints,drawTracker:a.drawTracker,getColumnMetrics:a.getColumnMetrics,animate:function(){return a.animate.apply(this,arguments)},polarArc:function(){return a.polarArc.apply(this,arguments)}})})();B.gauge=Q(B.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});I={type:"gauge",pointClass:U(n,{setState:function(a){this.state=a}}),angular:!0,directTouch:!0,drawGraph:z,fixedBox:!0,forceDL:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var a=this.yAxis,b=this.options,c=a.center;this.generatePoints();O(this.points,function(h){var l=Q(b.dial,h.dial),j=F(H(l.radius,80))*c[2]/200,q=F(H(l.baseLength,70))*j/100,d=F(H(l.rearLength,10))*j/100,o=l.baseWidth||3,k=l.topWidth||1,s=b.overshoot,f=a.startAngleRad+a.translate(h.y,null,null,null,!0);i(s)?(s=s/180*Math.PI,f=Math.max(a.startAngleRad-s,Math.min(a.endAngleRad+s,f))):b.wrap===!1&&(f=Math.max(a.startAngleRad,Math.min(a.endAngleRad,f)));f=f*180/Math.PI;h.shapeType="path";h.shapeArgs={d:l.path||["M",-d,-o/2,"L",q,-o/2,j,-k/2,j,k/2,q,o/2,-d,o/2,"z"],translateX:c[0],translateY:c[1],rotation:f};h.plotX=c[0];h.plotY=c[1]})},drawPoints:function(){var a=this,c=a.yAxis.center,b=a.pivot,d=a.options,h=d.pivot,f=a.chart.renderer;O(a.points,function(l){var j=l.graphic,o=l.shapeArgs,q=o.d,k=Q(d.dial,l.dial);j?(j.animate(o),o.d=q):l.graphic=f[l.shapeType](o).attr({stroke:k.borderColor||"none","stroke-width":k.borderWidth||0,fill:k.backgroundColor||"black",rotation:o.rotation,zIndex:1}).add(a.group)});b?b.animate({translateX:c[0],translateY:c[1]}):a.pivot=f.circle(0,0,H(h.radius,5)).attr({"stroke-width":h.borderWidth||0,stroke:h.borderColor||"silver",fill:h.backgroundColor||"black",zIndex:2}).translate(c[0],c[1]).add(a.group)},animate:function(a){var b=this;if(!a){O(b.points,function(d){var c=d.graphic;c&&(c.attr({rotation:b.yAxis.startAngleRad*180/Math.PI}),c.animate({rotation:d.shapeArgs.rotation},b.options.animation))}),b.animate=null}},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);m.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(a,b){m.prototype.setData.call(this,a,!1);this.processData();this.generatePoints();H(b,!0)&&this.chart.redraw()},drawTracker:I&&I.drawTrackerPoint};x.gauge=U(x.line,I);B.boxplot=Q(B.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2});x.boxplot=U(x.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(a){return[a.low,a.q1,a.median,a.q3,a.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:z,translate:function(){var a=this.yAxis,b=this.pointArrayMap;x.column.prototype.translate.apply(this);O(this.points,function(c){O(b,function(d){c[d]!==null&&(c[d+"Plot"]=a.translate(c[d],0,1,0,1))})})},drawPoints:function(){var E=this,L=E.options,Z=E.chart.renderer,ab,ai,af,a,c,al,ah,b,h,am,d,aj,ak,j,s,f,Y,K,aa,ae,o,l,ag=E.doQuartiles!==!1,k,q=E.options.whiskerLength;O(E.points,function(an){h=an.graphic;o=an.shapeArgs;d={};j={};f={};l=an.color||E.color;if(an.plotY!==void 0){if(ab=an.pointAttr[an.selected?"selected":""],Y=o.width,K=N(o.x),aa=K+Y,ae=R(Y/2),ai=N(ag?an.q1Plot:an.lowPlot),af=N(ag?an.q3Plot:an.lowPlot),a=N(an.highPlot),c=N(an.lowPlot),d.stroke=an.stemColor||L.stemColor||l,d["stroke-width"]=H(an.stemWidth,L.stemWidth,L.lineWidth),d.dashstyle=an.stemDashStyle||L.stemDashStyle,j.stroke=an.whiskerColor||L.whiskerColor||l,j["stroke-width"]=H(an.whiskerWidth,L.whiskerWidth,L.lineWidth),f.stroke=an.medianColor||L.medianColor||l,f["stroke-width"]=H(an.medianWidth,L.medianWidth,L.lineWidth),ah=d["stroke-width"]%2/2,b=K+ae+ah,am=["M",b,af,"L",b,a,"M",b,ai,"L",b,c],ag&&(ah=ab["stroke-width"]%2/2,b=N(b)+ah,ai=N(ai)+ah,af=N(af)+ah,K+=ah,aa+=ah,aj=["M",K,af,"L",K,ai,"L",aa,ai,"L",aa,af,"L",K,af,"z"]),q&&(ah=j["stroke-width"]%2/2,a+=ah,c+=ah,k=/%$/.test(q)?ae*parseFloat(q)/100:q/2,ak=["M",b-k,a,"L",b+k,a,"M",b-k,c,"L",b+k,c]),ah=f["stroke-width"]%2/2,al=R(an.medianPlot)+ah,s=["M",K,al,"L",aa,al],h){an.stem.animate({d:am}),q&&an.whiskers.animate({d:ak}),ag&&an.box.animate({d:aj}),an.medianShape.animate({d:s})}else{an.graphic=h=Z.g().add(E.group);an.stem=Z.path(am).attr(d).add(h);if(q){an.whiskers=Z.path(ak).attr(j).add(h)}if(ag){an.box=Z.path(aj).attr(ab).add(h)}an.medianShape=Z.path(s).attr(f).add(h)}}})},setStackedPoints:z});B.errorbar=Q(B.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null});x.errorbar=U(x.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(a){return[a.low,a.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:x.arearange?x.arearange.prototype.drawDataLabels:z,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||x.column.prototype.getColumnMetrics.call(this)}});B.waterfall=Q(B.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",dataLabels:{inside:!0},states:{hover:{lineWidthPlus:0}}});x.waterfall=U(x.column,{type:"waterfall",upColorProp:"fill",pointValKey:"y",translate:function(){var c=this.options,d=this.yAxis,h,l,s,o,K,f,E,q,b,k=H(c.minPointLength,5),a=c.threshold,j=c.stacking;x.column.prototype.translate.apply(this);this.minPointLengthOffset=0;E=q=a;l=this.points;for(h=0,c=l.length;h<c;h++){s=l[h];f=this.processedYData[h];o=s.shapeArgs;b=(K=j&&d.stacks[(this.negStacks&&f<a?"-":"")+this.stackKey])?K[s.x].points[this.index+","+h]:[0,f];if(s.isSum){s.y=W(f)}else{if(s.isIntermediateSum){s.y=W(f-q)}}K=A(E,E+s.y)+b[0];o.y=d.translate(K,0,1);if(s.isSum){o.y=d.translate(b[1],0,1),o.height=Math.min(d.translate(b[0],0,1),d.len)-o.y+this.minPointLengthOffset}else{if(s.isIntermediateSum){o.y=d.translate(b[1],0,1),o.height=Math.min(d.translate(q,0,1),d.len)-o.y+this.minPointLengthOffset,q=b[1]}else{if(E!==0){o.height=f>0?d.translate(E,0,1)-o.y:d.translate(E,0,1)-d.translate(E-f,0,1)}E+=f}}o.height<0&&(o.y+=o.height,o.height*=-1);s.plotY=o.y=R(o.y)-this.borderWidth%2/2;o.height=A(R(o.height),0.001);s.yBottom=o.y+o.height;if(o.height<=k){o.height=k,this.minPointLengthOffset+=k}o.y-=this.minPointLengthOffset;o=s.plotY+(s.negative?o.height:0)-this.minPointLengthOffset;this.chart.inverted?s.tooltipPos[0]=d.len-o:s.tooltipPos[1]=o}},processData:function(h){var j=this.yData,k=this.options.data,l,a=j.length,o,c,f,b,q,d;c=o=f=b=this.options.threshold||0;for(d=0;d<a;d++){q=j[d],l=k&&k[d]?k[d]:{},q==="sum"||l.isSum?j[d]=W(c):q==="intermediateSum"||l.isIntermediateSum?j[d]=W(o):(c+=q,o+=q),f=Math.min(c,f),b=Math.max(c,b)}m.prototype.processData.call(this,h);this.dataMin=f;this.dataMax=b},toYData:function(a){return a.isSum?a.x===0?null:"sum":a.isIntermediateSum?a.x===0?null:"intermediateSum":a.y},getAttribs:function(){x.column.prototype.getAttribs.apply(this,arguments);var a=this,c=a.options,b=c.states,d=c.upColor||a.color,c=y.Color(d).brighten(c.states.hover.brightness).get(),h=Q(a.pointAttr),f=a.upColorProp;h[""][f]=d;h.hover[f]=b.hover.upColor||c;h.select[f]=b.select.upColor||d;O(a.points,function(j){if(!j.options.color){j.y>0?(j.pointAttr=h,j.color=d):j.pointAttr=a.pointAttr}})},getGraphPath:function(){var a=this.data,d=a.length,b=R(this.options.lineWidth+this.borderWidth)%2/2,c=[],h,f,j;for(j=1;j<d;j++){f=a[j].shapeArgs,h=a[j-1].shapeArgs,f=["M",h.x+h.width,h.y+b,"L",f.x,h.y+b],a[j-1].y<0&&(f[2]+=h.height,f[5]+=h.height),c=c.concat(f)}return c},getExtremes:z,drawGraph:m.prototype.drawGraph});B.polygon=Q(B.scatter,{marker:{enabled:!1,states:{hover:{enabled:!1}}},stickyTracking:!1,tooltip:{followPointer:!0,pointFormat:""},trackByArea:!0});x.polygon=U(x.scatter,{type:"polygon",getGraphPath:function(){for(var a=m.prototype.getGraphPath.call(this),b=a.length+1;b--;){(b===a.length||a[b]==="M"&&b>0)&&a.splice(b,0,"z")}return this.areaPath=a},drawGraph:function(){this.options.fillColor=this.color;x.area.prototype.drawGraph.call(this)},drawLegendSymbol:y.LegendSymbolMixin.drawRectangle,drawTracker:m.prototype.drawTracker,setStackedPoints:z});B.bubble=Q(B.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",softThreshold:!1,states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0,zoneAxis:"z"});I=U(n,{haloPath:function(){return n.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)},ttBelow:!1});x.bubble=U(x.scatter,{type:"bubble",pointClass:I,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,zoneAxis:"z",pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(a){var b=this.options.marker,c=H(b.fillOpacity,0.5),a=a||b.fillColor||this.color;c!==1&&(a=V(a).setOpacity(c).get("rgba"));return a},convertAttribs:function(){var a=m.prototype.convertAttribs.apply(this,arguments);a.fill=this.applyOpacity(a.fill);return a},getRadii:function(b,d,f,k){var q,l,a,h=this.zData,s=[],o=this.options,c=o.sizeBy!=="width",j=o.zThreshold,E=d-b;for(l=0,q=h.length;l<q;l++){a=h[l],o.sizeByAbsoluteValue&&a!==null&&(a=Math.abs(a-j),d=Math.max(d-j,Math.abs(b-j)),b=0),a===null?a=null:a<b?a=f/2-1:(a=E>0?(a-b)/E:0.5,c&&a>=0&&(a=Math.sqrt(a)),a=p.ceil(f+a*(k-f))/2),s.push(a)}this.radii=s},animate:function(a){var b=this.options.animation;if(!a){O(this.points,function(d){var c=d.graphic,d=d.shapeArgs;c&&d&&(c.attr("r",1),c.animate({r:d.r},b))}),this.animate=null}},translate:function(){var a,b=this.data,c,d,f=this.radii;x.scatter.prototype.translate.call(this);for(a=b.length;a--;){c=b[a],d=f?f[a]:0,i(d)&&d>=this.minPxSize/2?(c.shapeType="circle",c.shapeArgs={x:c.plotX,y:c.plotY,r:d},c.dlBox={x:c.plotX-d,y:c.plotY-d,width:2*d,height:2*d}):c.shapeArgs=c.plotY=c.dlBox=void 0}},drawLegendSymbol:function(a,b){var c=this.chart.renderer,d=c.fontMetrics(a.itemStyle.fontSize).f/2;b.legendSymbol=c.circle(d,a.baseline-d,d).attr({zIndex:3}).add(b.legendGroup);b.legendSymbol.isMarker=!0},drawPoints:x.column.prototype.drawPoints,alignDataLabel:x.column.prototype.alignDataLabel,buildKDTree:z,applyZones:z});v.prototype.beforePadding=function(){var l=this,o=this.len,E=this.chart,L=0,d=o,b=this.isXAxis,j=b?"xData":"yData",q=this.min,f={},c=p.min(E.plotWidth,E.plotHeight),k=Number.MAX_VALUE,h=-Number.MAX_VALUE,s=this.max-q,a=o/s,K=[];O(this.series,function(Z){var Y=Z.options;if(Z.bubblePadding&&(Z.visible||!E.options.chart.ignoreHiddenSeries)){if(l.allowZoomOutside=!0,K.push(Z),b){O(["minSize","maxSize"],function(aa){var ae=Y[aa],ab=/%$/.test(ae),ae=F(ae);f[aa]=ab?c*ae/100:ae}),Z.minPxSize=f.minSize,Z.maxPxSize=f.maxSize,Z=Z.zData,Z.length&&(k=H(Y.zMin,p.min(k,p.max(G(Z),Y.displayNegative===!1?Y.zThreshold:-Number.MAX_VALUE))),h=H(Y.zMax,p.max(h,M(Z))))}}});O(K,function(Z){var aa=Z[j],ab=aa.length,Y;b&&Z.getRadii(k,h,Z.minPxSize,Z.maxPxSize);if(s>0){for(;ab--;){i(aa[ab])&&l.dataMin<=aa[ab]&&aa[ab]<=l.dataMax&&(Y=Z.radii[ab],L=Math.min((aa[ab]-q)*a-Y,L),d=Math.max((aa[ab]-q)*a+Y,d))}}});K.length&&s>0&&!this.isLog&&(d-=o,a*=(o+L-d)/o,O([["min","userMin",L],["max","userMax",d]],function(Y){H(l.options[Y[0]],l[Y[1]])===void 0&&(l[Y[0]]+=Y[2]/a)}))};(function(){function a(h,j){var k=this.chart,l=this.options.animation,q=this.group,o=this.markerGroup,E=this.xAxis.center,s=k.plotLeft,f=k.plotTop;if(k.polar){if(k.renderer.isSVG){l===!0&&(l={}),j?(k={translateX:E[0]+s,translateY:E[1]+f,scaleX:0.001,scaleY:0.001},q.attr(k),o&&o.attr(k)):(k={translateX:s,translateY:f,scaleX:1,scaleY:1},q.animate(k,l),o&&o.animate(k,l),this.animate=null)}}else{h.call(this,j)}}var b=m.prototype,c=S.prototype,d;b.searchPointByAngle=function(h){var j=this.chart,f=this.xAxis.pane.center;return this.searchKDTree({clientX:180+Math.atan2(h.chartX-f[0]-j.plotLeft,h.chartY-f[1]-j.plotTop)*(-180/Math.PI)})};ac(b,"buildKDTree",function(f){if(this.chart.polar){this.kdByAngle?this.searchPoint=this.searchPointByAngle:this.kdDimensions=2}f.apply(this)});b.toXY=function(j){var k,f=this.chart,h=j.plotX;k=j.plotY;j.rectPlotX=h;j.rectPlotY=k;k=this.xAxis.postTranslate(j.plotX,this.yAxis.len-k);j.plotX=j.polarPlotX=k.x-f.plotLeft;j.plotY=j.polarPlotY=k.y-f.plotTop;this.kdByAngle?(f=(h/Math.PI*180+this.xAxis.pane.options.startAngle)%360,f<0&&(f+=360),j.clientX=f):j.clientX=j.plotX};x.spline&&ac(x.spline.prototype,"getPointSpline",function(h,j,k,l){var q,o,E,s,K,f,L;if(this.chart.polar){q=k.plotX;o=k.plotY;h=j[l-1];E=j[l+1];this.connectEnds&&(h||(h=j[j.length-2]),E||(E=j[1]));if(h&&E){s=h.plotX,K=h.plotY,j=E.plotX,f=E.plotY,s=(1.5*q+s)/2.5,K=(1.5*o+K)/2.5,E=(1.5*q+j)/2.5,L=(1.5*o+f)/2.5,j=Math.sqrt(Math.pow(s-q,2)+Math.pow(K-o,2)),f=Math.sqrt(Math.pow(E-q,2)+Math.pow(L-o,2)),s=Math.atan2(K-o,s-q),K=Math.atan2(L-o,E-q),L=Math.PI/2+(s+K)/2,Math.abs(s-L)>Math.PI/2&&(L-=Math.PI),s=q+Math.cos(L)*j,K=o+Math.sin(L)*j,E=q+Math.cos(Math.PI+L)*f,L=o+Math.sin(Math.PI+L)*f,k.rightContX=E,k.rightContY=L}l?(k=["C",h.rightContX||h.plotX,h.rightContY||h.plotY,s||q,K||o,q,o],h.rightContX=h.rightContY=null):k=["M",q,o]}else{k=h.call(this,j,k,l)}return k});ac(b,"translate",function(f){var h=this.chart;f.call(this);if(h.polar&&(this.kdByAngle=h.tooltip&&h.tooltip.shared,!this.preventPostTranslate)){f=this.points;for(h=f.length;h--;){this.toXY(f[h])}}});ac(b,"getGraphPath",function(k,l){var f=this,h,j;if(this.chart.polar){l=l||this.points;for(h=0;h<l.length;h++){if(!l[h].isNull){j=h;break}}if(this.options.connectEnds!==!1&&j!==void 0){this.connectEnds=!0,l.splice(l.length,0,l[j])}O(l,function(o){o.polarPlotY===void 0&&f.toXY(o)})}return k.apply(this,[].slice.call(arguments,1))});ac(b,"animate",a);if(x.column){d=x.column.prototype,d.polarArc=function(k,l,o,f){var j=this.xAxis.center,h=this.yAxis.len;return this.chart.renderer.symbols.arc(j[0],j[1],h-l,null,{start:o,end:f,innerR:h-H(k,h)})},ac(d,"animate",a),ac(d,"translate",function(k){var l=this.xAxis,o=l.startAngleRad,f,j,h;this.preventPostTranslate=!0;k.call(this);if(l.isRadial){f=this.points;for(h=f.length;h--;){j=f[h],k=j.barX+o,j.shapeType="path",j.shapeArgs={d:this.polarArc(j.yBottom,j.plotY,k,k+j.pointWidth)},this.toXY(j),j.tooltipPos=[j.plotX,j.plotY],j.ttBelow=j.plotY>l.center[1]}}}),ac(d,"alignDataLabel",function(l,o,f,k,j,h){if(this.chart.polar){l=o.rectPlotX/Math.PI*180;if(k.align===null){k.align=l>20&&l<160?"left":l>200&&l<340?"right":"center"}if(k.verticalAlign===null){k.verticalAlign=l<45||l>315?"bottom":l>135&&l<225?"top":"middle"}b.alignDataLabel.call(this,o,f,k,j,h)}else{l.call(this,o,f,k,j,h)}})}ac(c,"getCoordinates",function(j,k){var f=this.chart,h={xAxis:[],yAxis:[]};f.polar?O(f.axes,function(o){var l=o.isXAxis,q=o.center,s=k.chartX-q[0]-f.plotLeft,q=k.chartY-q[1]-f.plotTop;h[l?"xAxis":"yAxis"].push({axis:o,value:o.translate(l?Math.PI-Math.atan2(s,q):Math.sqrt(Math.pow(s,2)+Math.pow(q,2)),!0)})}):h=j.call(this,k);return h})})()});(function(b){typeof module==="object"&&module.exports?module.exports=b:b(Highcharts)})(function(d){var m=d.Axis,q=d.Chart,i=d.Color,y=d.Legend,s=d.LegendSymbolMixin,t=d.Series,z=d.Point,u=d.getOptions(),h=d.each,r=d.extend,v=d.extendClass,P=d.isNumber,j=d.merge,k=d.pick,o=d.seriesTypes,x=d.wrap,n=function(){},p=d.ColorAxis=function(){this.isColorAxis=!0;this.init.apply(this,arguments)};r(p.prototype,m.prototype);r(p.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:0.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(c,f){var a=c.options.legend.layout!=="vertical",b;b=j(this.defaultColorAxisOptions,{side:a?2:1,reversed:!a},f,{opposite:!a,showEmpty:!1,title:null,isColor:!0});m.prototype.init.call(this,c,b);f.dataClasses&&this.initDataClasses(f);this.initStops(f);this.horiz=a;this.zoomEnabled=!1},tweenColors:function(c,f,a){var b;!f.rgba.length||!c.rgba.length?c=f.input||"none":(c=c.rgba,f=f.rgba,b=f[3]!==1||c[3]!==1,c=(b?"rgba(":"rgb(")+Math.round(f[0]+(c[0]-f[0])*(1-a))+","+Math.round(f[1]+(c[1]-f[1])*(1-a))+","+Math.round(f[2]+(c[2]-f[2])*(1-a))+(b?","+(f[3]+(c[3]-f[3])*(1-a)):"")+")");return c},initDataClasses:function(f){var A=this,B=this.chart,b,a=0,l=this.options,c=f.dataClasses.length;this.dataClasses=b=[];this.legendItems=[];h(f.dataClasses,function(E,C){var D,E=j(E);b.push(E);if(!E.color){l.dataClassColor==="category"?(D=B.options.colors,E.color=D[a++],a===D.length&&(a=0)):E.color=A.tweenColors(i(l.minColor),i(l.maxColor),c<2?0.5:C/(c-1))}})},initStops:function(a){this.stops=a.stops||[[0,this.options.minColor],[1,this.options.maxColor]];h(this.stops,function(b){b.color=i(b[1])})},setOptions:function(a){m.prototype.setOptions.call(this,a);this.options.crosshair=this.options.marker;this.coll="colorAxis"},setAxisSize:function(){var f=this.legendSymbol,l=this.chart,a,c,b;if(f){this.left=a=f.attr("x"),this.top=c=f.attr("y"),this.width=b=f.attr("width"),this.height=f=f.attr("height"),this.right=l.chartWidth-a-b,this.bottom=l.chartHeight-c-f,this.len=this.horiz?b:f,this.pos=this.horiz?a:c}},toColor:function(c,l){var A,a=this.stops,C,f=this.dataClasses,b,B;if(f){for(B=f.length;B--;){if(b=f[B],C=b.from,a=b.to,(C===void 0||c>=C)&&(a===void 0||c<=a)){A=b.color;if(l){l.dataClass=B}break}}}else{this.isLog&&(c=this.val2lin(c));A=1-(this.max-c)/(this.max-this.min||1);for(B=a.length;B--;){if(A>a[B][0]){break}}C=a[B]||a[B+1];a=a[B+1]||C;A=1-(a[0]-A)/(a[0]-C[0]||1);A=this.tweenColors(C.color,a.color,A)}return A},getOffset:function(){var a=this.legendGroup,b=this.chart.axisOffset[this.side];if(a){this.axisParent=a;m.prototype.getOffset.call(this);if(!this.added){this.added=!0,this.labelLeft=0,this.labelRight=this.width}this.chart.axisOffset[this.side]=b}},setLegendColor:function(){var b,c=this.options,a=this.reversed;b=a?1:0;a=a?0:1;b=this.horiz?[b,0,a,0]:[0,a,0,b];this.legendColor={linearGradient:{x1:b[0],y1:b[1],x2:b[2],y2:b[3]},stops:c.stops||[[0,c.minColor],[1,c.maxColor]]}},drawLegendSymbol:function(c,f){var l=c.padding,C=c.options,B=this.horiz,A=k(C.symbolWidth,B?200:12),a=k(C.symbolHeight,B?12:200),b=k(C.labelPadding,B?16:30),C=k(C.itemDistance,10);this.setLegendColor();f.legendSymbol=this.chart.renderer.rect(0,c.baseline-11,A,a).attr({zIndex:1}).add(f.legendGroup);this.legendItemWidth=A+l+(B?C:b);this.legendItemHeight=a+l+(B?b:0)},setState:n,visible:!0,setVisible:n,getSeriesExtremes:function(){var a;if(this.series.length){a=this.series[0],this.dataMin=a.valueMin,this.dataMax=a.valueMax}},drawCrosshair:function(f,l){var A=l&&l.plotX,b=l&&l.plotY,a,B=this.pos,c=this.len;if(l){a=this.toPixels(l[l.series.colorKey]),a<B?a=B-2:a>B+c&&(a=B+c+2),l.plotX=a,l.plotY=this.len-a,m.prototype.drawCrosshair.call(this,f,l),l.plotX=A,l.plotY=b,this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.legendGroup)}},getPlotLinePath:function(f,l,a,c,b){return P(b)?this.horiz?["M",b-4,this.top-6,"L",b+4,this.top-6,b,this.top,"Z"]:["M",this.left,b,"L",this.left-6,b+6,this.left-6,b-6,"Z"]:m.prototype.getPlotLinePath.call(this,f,l,a,c)},update:function(c,f){var a=this.chart,b=a.legend;h(this.series,function(l){l.isDirtyData=!0});if(c.dataClasses&&b.allItems){h(b.allItems,function(l){l.isDataClass&&l.legendGroup.destroy()}),a.isDirtyLegend=!0}a.options[this.coll]=j(this.userOptions,c);m.prototype.update.call(this,c,f);this.legendItem&&(this.setLegendColor(),b.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var f=this,A=this.chart,B=this.legendItems,b=A.options.legend,a=b.valueDecimals,l=b.valueSuffix||"",c;B.length||h(this.dataClasses,function(C,G){var D=!0,E=C.from,F=C.to;c="";E===void 0?c="< ":F===void 0&&(c="> ");E!==void 0&&(c+=d.numberFormat(E,a)+l);E!==void 0&&F!==void 0&&(c+=" - ");F!==void 0&&(c+=d.numberFormat(F,a)+l);B.push(r({chart:A,name:c,options:{},drawLegendSymbol:s.drawRectangle,visible:!0,setState:n,isDataClass:!0,setVisible:function(){D=this.visible=!D;h(f.series,function(H){h(H.points,function(I){I.dataClass===G&&I.setVisible(D)})});A.legend.colorizeItem(this,D)}},C))});return B},name:""});h(["fill","stroke"],function(a){d.Fx.prototype[a+"Setter"]=function(){this.elem.attr(a,p.prototype.tweenColors(i(this.start),i(this.end),this.pos))}});x(q.prototype,"getAxes",function(a){var b=this.options.colorAxis;a.call(this);this.colorAxis=[];b&&new p(this,b)});x(y.prototype,"getAllItems",function(b){var c=[],a=this.chart.colorAxis[0];a&&(a.options.dataClasses?c=c.concat(a.getDataClassLegendSymbols()):c.push(a),h(a.series,function(f){f.options.showInLegend=!1}));return c.concat(b.call(this))});q={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:n,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var c=this,f=this.options.nullColor,a=this.colorAxis,b=this.colorKey;h(this.data,function(A){var l=A[b];if(l=A.options.color||(l===null?f:a&&l!==void 0?a.toColor(l,A):A.color||c.color)){A.color=l}})}};u.plotOptions.heatmap=j(u.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:0.2}}});o.heatmap=v(o.scatter,j(q,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,pointClass:v(z,{setVisible:function(b){var c=this,a=b?"show":"hide";h(["graphic","dataLabel"],function(f){if(c[f]){c[f][a]()}})}}),supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var a;o.scatter.prototype.init.apply(this,arguments);a=this.options;a.pointRange=k(a.pointRange,a.colsize||1);this.yAxis.axisPointRange=a.rowsize||1},translate:function(){var c=this.options,f=this.xAxis,a=this.yAxis,b=function(l,A,B){return Math.min(Math.max(A,l),B)};this.generatePoints();h(this.points,function(C){var B=(c.colsize||1)/2,D=(c.rowsize||1)/2,l=b(Math.round(f.len-f.translate(C.x-B,0,1,0,1)),-f.len,2*f.len),B=b(Math.round(f.len-f.translate(C.x+B,0,1,0,1)),-f.len,2*f.len),A=b(Math.round(a.translate(C.y-D,0,1,0,1)),-a.len,2*a.len),D=b(Math.round(a.translate(C.y+D,0,1,0,1)),-a.len,2*a.len);C.plotX=C.clientX=(l+B)/2;C.plotY=(A+D)/2;C.shapeType="rect";C.shapeArgs={x:Math.min(l,B),y:Math.min(A,D),width:Math.abs(B-l),height:Math.abs(D-A)}});this.translateColors();this.chart.hasRendered&&h(this.points,function(l){l.shapeArgs.fill=l.options.color||l.color})},drawPoints:o.column.prototype.drawPoints,animate:n,getBox:n,drawLegendSymbol:s.drawRectangle,alignDataLabel:o.column.prototype.alignDataLabel,getExtremes:function(){t.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;t.prototype.getExtremes.call(this)}}))});(function(){var b=0;Highcharts.wrap(Highcharts.SVGElement.prototype,"fillSetter",function(p,r,l,q){var a,m,o,n;if(r&&r.pattern&&l==="fill"){m="highcharts-pattern-"+b++;o=this.renderer.createElement("pattern").attr({id:m,patternUnits:"userSpaceOnUse",width:r.width,height:r.height}).add(this.renderer.defs);n=this.renderer.image(r.pattern,0,0,r.width,r.height).add(o);q.setAttribute(l,"url("+this.renderer.url+"#"+m+")")}else{return p.call(this,r,l,q)}});if(Highcharts.VMLElement){Highcharts.wrap(Highcharts.Renderer.prototype.Element.prototype,"fillSetter",function(i,a,h,j){if(a&&a.pattern&&h==="fill"){if(j.getElementsByTagName("fill").length){j.removeChild(j.getElementsByTagName("fill")[0])}if(a.color1&&a.color2){markup=["<hcv:",h,' color="',a.color1,'" color2="',a.color2,'" type="pattern" src="',a.pattern,'" />'].join("")}else{markup=this.renderer.prepVML(["<",h,' type="tile" src="',a.pattern,'" />'])}j.appendChild(document.createElement(markup));if(j.parentNode.nodeType===1){j.outerHTML=j.outerHTML}}else{return i.call(this,a,h,j)}})}})();(function(a){typeof module==="object"&&module.exports?module.exports=a:a(Highcharts)})(function(p){var k=p.getOptions().plotOptions,l=p.pInt,m=p.pick,o=p.each,n=p.isNumber,a;k.solidgauge=p.merge(k.gauge,{colorByPoint:!0});a={initDataClasses:function(d){var b=this,f=this.chart,h,c=0,i=this.options;this.dataClasses=h=[];o(d.dataClasses,function(t,u){var j,t=p.merge(t);h.push(t);if(!t.color){i.dataClassColor==="category"?(j=f.options.colors,t.color=j[c++],c===j.length&&(c=0)):t.color=b.tweenColors(p.Color(i.minColor),p.Color(i.maxColor),u/(d.dataClasses.length-1))}})},initStops:function(b){this.stops=b.stops||[[0,this.options.minColor],[1,this.options.maxColor]];o(this.stops,function(c){c.color=p.Color(c[1])})},toColor:function(d,i){var c,f=this.stops,s,h=this.dataClasses,j,b;if(h){for(b=h.length;b--;){if(j=h[b],s=j.from,f=j.to,(s===void 0||d>=s)&&(f===void 0||d<=f)){c=j.color;if(i){i.dataClass=b}break}}}else{this.isLog&&(d=this.val2lin(d));c=1-(this.max-d)/(this.max-this.min);for(b=f.length;b--;){if(c>f[b][0]){break}}s=f[b]||f[b+1];f=f[b+1]||s;c=1-(f[0]-c)/(f[0]-s[0]||1);c=this.tweenColors(s.color,f.color,c)}return c},tweenColors:function(d,c,b){var f;!c.rgba.length||!d.rgba.length?d=c.input||"none":(d=d.rgba,c=c.rgba,f=c[3]!==1||d[3]!==1,d=(f?"rgba(":"rgb(")+Math.round(c[0]+(d[0]-c[0])*(1-b))+","+Math.round(c[1]+(d[1]-c[1])*(1-b))+","+Math.round(c[2]+(d[2]-c[2])*(1-b))+(f?","+(c[3]+(d[3]-c[3])*(1-b)):"")+")");return d}};o(["fill","stroke"],function(b){p.Fx.prototype[b+"Setter"]=function(){this.elem.attr(b,a.tweenColors(p.Color(this.start),p.Color(this.end),this.pos))}});p.seriesTypes.solidgauge=p.extendClass(p.seriesTypes.gauge,{type:"solidgauge",pointAttrToOptions:{},bindAxes:function(){var b;p.seriesTypes.gauge.prototype.bindAxes.call(this);b=this.yAxis;p.extend(b,a);b.options.dataClasses&&b.initDataClasses(b.options);b.initStops(b.options)},drawPoints:function(){var d=this,j=d.yAxis,f=j.center,h=d.options,c=d.chart.renderer,i=h.overshoot,b=n(i)?i/180*Math.PI:0;p.each(d.points,function(D){var z=D.graphic,B=j.startAngleRad+j.translate(D.y,null,null,null,!0),C=l(m(D.options.radius,h.radius,100))*f[2]/200,F=l(m(D.options.innerRadius,h.innerRadius,60))*f[2]/200,G=j.toColor(D.y,D),A=Math.min(j.startAngleRad,j.endAngleRad),E=Math.max(j.startAngleRad,j.endAngleRad);G==="none"&&(G=D.color||d.color||"none");if(G!=="none"){D.color=G}B=Math.max(A-b,Math.min(E+b,B));h.wrap===!1&&(B=Math.max(A,Math.min(E,B)));A=Math.min(B,j.startAngleRad);B=Math.max(B,j.startAngleRad);B-A>2*Math.PI&&(B=A+2*Math.PI);D.shapeArgs=F={x:f[0],y:f[1],r:C,innerR:F,start:A,end:B,fill:G};D.startR=C;if(z){if(D=F.d,z.animate(F),D){F.d=D}}else{z={stroke:h.borderColor||"none","stroke-width":h.borderWidth||0,fill:G,"sweep-flag":0},h.linecap!=="square"&&(z["stroke-linecap"]=z["stroke-linejoin"]="round"),D.graphic=c.arc(F).attr(z).add(d.group)}})},animate:function(b){if(!b){this.startAngleRad=this.yAxis.startAngleRad,p.seriesTypes.pie.prototype.animate.call(this,b)}}})});
/*!
 DataTables 1.10.10
 2008-2015 SpryMedia Ltd - datatables.net/license
*/
(function(b){"function"===typeof define&&define.amd?define(["jquery"],function(a){return b(a,window,document)}):"object"===typeof exports?module.exports=function(d,a){d||(d=window);a||(a="undefined"!==typeof window?require("jquery"):require("jquery")(d));return b(a,d,d.document)}:b(jQuery,window,document)})(function(a7,cw,cF,a8){function ab(b){var c,d,a={};a7.each(b,function(f){if((c=f.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(c[1]+" ")){d=f.replace(c[0],c[2].toLowerCase()),a[d]=f,"o"===c[1]&&ab(b[f])}});b._hungarianMap=a}function cL(b,c,d){b._hungarianMap||ab(b);var a;a7.each(c,function(f){a=b._hungarianMap[f];if(a!==a8&&(d||c[a]===a8)){"o"===a.charAt(0)?(c[a]||(c[a]={}),a7.extend(!0,c[a],c[f]),cL(b[a],c[a],d)):c[a]=c[f]}})}function M(b){var c=ba.defaults.oLanguage,a=b.sZeroRecords;!b.sEmptyTable&&(a&&"No data available in table"===c.sEmptyTable)&&cy(b,b,"sZeroRecords","sEmptyTable");!b.sLoadingRecords&&(a&&"Loading..."===c.sLoadingRecords)&&cy(b,b,"sZeroRecords","sLoadingRecords");b.sInfoThousands&&(b.sThousands=b.sInfoThousands);(b=b.sDecimal)&&s(b)}function dh(b){cp(b,"ordering","bSort");cp(b,"orderMulti","bSortMulti");cp(b,"orderClasses","bSortClasses");cp(b,"orderCellsTop","bSortCellsTop");cp(b,"order","aaSorting");cp(b,"orderFixed","aaSortingFixed");cp(b,"paging","bPaginate");cp(b,"pagingType","sPaginationType");cp(b,"pageLength","iDisplayLength");cp(b,"searching","bFilter");"boolean"===typeof b.sScrollX&&(b.sScrollX=b.sScrollX?"100%":"");"boolean"===typeof b.scrollX&&(b.scrollX=b.scrollX?"100%":"");if(b=b.aoSearchCols){for(var c=0,a=b.length;c<a;c++){b[c]&&cL(ba.models.oSearch,b[c])}}}function dw(a){cp(a,"orderable","bSortable");cp(a,"orderData","aDataSort");cp(a,"orderSequence","asSorting");cp(a,"orderDataType","sortDataType");var b=a.aDataSort;b&&!a7.isArray(b)&&(a.aDataSort=[b])}function dG(b){if(!ba.__browser){var c={};ba.__browser=c;var d=a7("<div/>").css({position:"fixed",top:0,left:0,height:1,width:1,overflow:"hidden"}).append(a7("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(a7("<div/>").css({width:"100%",height:10}))).appendTo("body"),f=d.children(),a=f.children();c.barWidth=f[0].offsetWidth-f[0].clientWidth;c.bScrollOversize=100===a[0].offsetWidth&&100!==f[0].clientWidth;c.bScrollbarLeft=1!==Math.round(a.offset().left);c.bBounding=d[0].getBoundingClientRect().width?!0:!1;d.remove()}a7.extend(b.oBrowser,ba.__browser);b.oScroll.iBarWidth=ba.__browser.barWidth}function cu(c,i,b,d,f,j){var l,a=!1;b!==a8&&(l=b,a=!0);for(;d!==f;){c.hasOwnProperty(d)&&(l=a?i(l,c[d],d,c):c[d],a=!0,d+=j)}return l}function z(b,c){var d=ba.defaults.column,a=b.aoColumns.length,d=a7.extend({},ba.models.oColumn,d,{nTh:c?c:cF.createElement("th"),sTitle:d.sTitle?d.sTitle:c?c.innerHTML:"",aDataSort:d.aDataSort?d.aDataSort:[a],mData:d.mData?d.mData:a,idx:a});b.aoColumns.push(d);d=b.aoPreSearchCols;d[a]=a7.extend({},ba.models.oSearch,d[a]);Y(b,a,a7(c).data())}function Y(i,j,l){var j=i.aoColumns[j],n=i.oClasses,a=a7(j.nTh);if(!j.sWidthOrig){j.sWidthOrig=a.attr("width")||null;var b=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);b&&(j.sWidthOrig=b[1])}l!==a8&&null!==l&&(dw(l),cL(ba.defaults.column,l),l.mDataProp!==a8&&!l.mData&&(l.mData=l.mDataProp),l.sType&&(j._sManualType=l.sType),l.className&&!l.sClass&&(l.sClass=l.className),a7.extend(j,l),cy(j,l,"sWidth","sWidthOrig"),l.iDataSort!==a8&&(j.aDataSort=[l.iDataSort]),cy(j,l,"aDataSort"));var c=j.mData,f=cW(c),d=j.mRender?cW(j.mRender):null,l=function(o){return"string"===typeof o&&-1!==o.indexOf("@")};j._bAttrSrc=a7.isPlainObject(c)&&(l(c.sort)||l(c.type)||l(c.filter));j.fnGetData=function(q,L,u){var o=f(q,L,a8,u);return d&&L?d(o,L,q,u):o};j.fnSetData=function(q,u,o){return cZ(c)(q,u,o)};"number"!==typeof c&&(i._rowReadObject=!0);i.oFeatures.bSort||(j.bSortable=!1,a.addClass(n.sSortableNone));i=-1!==a7.inArray("asc",j.asSorting);l=-1!==a7.inArray("desc",j.asSorting);!j.bSortable||!i&&!l?(j.sSortingClass=n.sSortableNone,j.sSortingClassJUI=""):i&&!l?(j.sSortingClass=n.sSortableAsc,j.sSortingClassJUI=n.sSortJUIAscAllowed):!i&&l?(j.sSortingClass=n.sSortableDesc,j.sSortingClassJUI=n.sSortJUIDescAllowed):(j.sSortingClass=n.sSortable,j.sSortingClassJUI=n.sSortJUI)}function c4(b){if(!1!==b.oFeatures.bAutoWidth){var c=b.aoColumns;N(b);for(var d=0,a=c.length;d<a;d++){c[d].nTh.style.width=c[d].sWidth}}c=b.oScroll;(""!==c.sY||""!==c.sX)&&ac(b);cg(b,null,"column-sizing",[b])}function R(b,c){var a=U(b,"bVisible");return"number"===typeof a[c]?a[c]:null}function cA(b,c){var a=U(b,"bVisible"),a=a7.inArray(c,a);return -1!==a?a:null}function a4(a){return U(a,"bVisible").length}function U(b,c){var a=[];a7.map(b.aoColumns,function(f,d){f[c]&&a.push(d)});return a}function dq(c){var f=c.aoColumns,l=c.aoData,n=ba.ext.type.detect,o,q,u,d,a,L,i,j,b;o=0;for(q=f.length;o<q;o++){if(i=f[o],b=[],!i.sType&&i._sManualType){i.sType=i._sManualType}else{if(!i.sType){u=0;for(d=n.length;u<d;u++){a=0;for(L=l.length;a<L;a++){b[a]===a8&&(b[a]=cq(c,a,o,"type"));j=n[u](b[a],c);if(!j&&u!==n.length-1){break}if("html"===j){break}}if(j){i.sType=j;break}}i.sType||(i.sType="string")}}}}function cM(c,j,l,n){var o,q,u,b,a,f,d=c.aoColumns;if(j){for(o=j.length-1;0<=o;o--){f=j[o];var i=f.targets!==a8?f.targets:f.aTargets;a7.isArray(i)||(i=[i]);q=0;for(u=i.length;q<u;q++){if("number"===typeof i[q]&&0<=i[q]){for(;d.length<=i[q];){z(c)}n(i[q],f)}else{if("number"===typeof i[q]&&0>i[q]){n(d.length+i[q],f)}else{if("string"===typeof i[q]){b=0;for(a=d.length;b<a;b++){("_all"==i[q]||a7(d[b].nTh).hasClass(i[q]))&&n(b,f)}}}}}}}if(l){o=0;for(c=l.length;o<c;o++){n(o,l[o])}}}function cS(i,j,l,n){var a=i.aoData.length,b=a7.extend(!0,{},ba.models.oRow,{src:l?"dom":"data",idx:a});b._aData=j;i.aoData.push(b);for(var c=i.aoColumns,f=0,d=c.length;f<d;f++){c[f].sType=null}i.aiDisplayMaster.push(a);j=i.rowIdFn(j);j!==a8&&(i.aIds[j]=b);(l||!i.oFeatures.bDeferRender)&&a2(i,a,l,n);return a}function I(b,c){var a;c instanceof a7||(c=a7(c));return c.map(function(f,d){a=m(b,d);return cS(b,a.data,d,a.cells)})}function cq(i,j,l,n){var a=i.iDraw,b=i.aoColumns[l],c=i.aoData[j]._aData,f=b.sDefaultContent,d=b.fnGetData(c,n,{settings:i,row:j,col:l});if(d===a8){return i.iDrawError!=a&&null===f&&(cN(i,0,"Requested unknown parameter "+("function"==typeof b.mData?"{function}":"'"+b.mData+"'")+" for row "+j+", column "+l,4),i.iDrawError=a),f}if((d===c||null===d)&&null!==f){d=f}else{if("function"===typeof d){return d.call(c)}}return null===d&&"display"==n?"":d}function c1(b,c,d,a){b.aoColumns[d].fnSetData(b.aoData[c]._aData,a,{settings:b,row:c,col:d})}function c9(a){return a7.map(a.match(/(\\.|[^\.])+/g)||[""],function(b){return b.replace(/\\./g,".")})}function cW(b){if(a7.isPlainObject(b)){var c={};a7.each(b,function(f,d){d&&(c[f]=cW(d))});return function(l,d,f,i){var j=c[d]||c._;return j!==a8?j(l,d,f,i):l}}if(null===b){return function(d){return d}}if("function"===typeof b){return function(j,d,f,i){return b(j,d,f,i)}}if("string"===typeof b&&(-1!==b.indexOf(".")||-1!==b.indexOf("[")||-1!==b.indexOf("("))){var a=function(l,n,d){var f,j;if(""!==d){j=c9(d);for(var i=0,o=j.length;i<o;i++){d=j[i].match(r);f=j[i].match(c5);if(d){j[i]=j[i].replace(r,"");""!==j[i]&&(l=l[j[i]]);f=[];j.splice(0,i+1);j=j.join(".");if(a7.isArray(l)){i=0;for(o=l.length;i<o;i++){f.push(a(l[i],n,j))}}l=d[0].substring(1,d[0].length-1);l=""===l?f:f.join(l);break}else{if(f){j[i]=j[i].replace(c5,"");l=l[j[i]]();continue}}if(null===l||l[j[i]]===a8){return a8}l=l[j[i]]}}return l};return function(f,d){return a(f,d,b)}}return function(d){return d[b]}}function cZ(a){if(a7.isPlainObject(a)){return cZ(a._)}if(null===a){return function(){}}if("function"===typeof a){return function(c,d,f){a(c,"set",d,f)}}if("string"===typeof a&&(-1!==a.indexOf(".")||-1!==a.indexOf("[")||-1!==a.indexOf("("))){var b=function(d,o,f){var f=c9(f),i;i=f[f.length-1];for(var j,n,l=0,c=f.length-1;l<c;l++){j=f[l].match(r);n=f[l].match(c5);if(j){f[l]=f[l].replace(r,"");d[f[l]]=[];i=f.slice();i.splice(0,l+1);j=i.join(".");if(a7.isArray(o)){n=0;for(c=o.length;n<c;n++){i={},b(i,o[n],j),d[f[l]].push(i)}}else{d[f[l]]=o}return}n&&(f[l]=f[l].replace(c5,""),d=d[f[l]](o));if(null===d[f[l]]||d[f[l]]===a8){d[f[l]]={}}d=d[f[l]]}if(i.match(c5)){d[i.replace(c5,"")](o)}else{d[i.replace(r,"")]=o}};return function(d,c){return b(d,c,a)}}return function(c,d){c[a]=d}}function dr(a){return cv(a.aoData,"_aData")}function dk(a){a.aoData.length=0;a.aiDisplayMaster.length=0;a.aiDisplay.length=0;a.aIds={}}function a0(b,d,c){for(var f=-1,i=0,a=b.length;i<a;i++){b[i]==d?f=i:b[i]>d&&b[i]--}-1!=f&&c===a8&&b.splice(f,1)}function de(c,i,b,d){var f=c.aoData[i],j,l=function(o,n){for(;o.childNodes.length;){o.removeChild(o.firstChild)}o.innerHTML=cq(c,i,n,"display")};if("dom"===b||(!b||"auto"===b)&&"dom"===f.src){f._aData=m(c,f,d,d===a8?a8:f._aData).data}else{var a=f.anCells;if(a){if(d!==a8){l(a[d],d)}else{b=0;for(j=a.length;b<j;b++){l(a[b],b)}}}}f._aSortData=null;f._aFilterData=null;l=c.aoColumns;if(d!==a8){l[d].sType=null}else{b=0;for(j=l.length;b<j;b++){l[b].sType=null}dD(c,f)}}function m(d,f,n,o){var q=[],u=f.firstChild,L,a,P=0,j,i=d.aoColumns,l=d._rowReadObject,o=o!==a8?o:l?{}:[],b=function(ad,ae){if("string"===typeof ad){var S=ad.indexOf("@");-1!==S&&(S=ad.substring(S+1),cZ(ad)(o,ae.getAttribute(S)))}},c=function(S){if(n===a8||n===P){a=i[P],j=a7.trim(S.innerHTML),a&&a._bAttrSrc?(cZ(a.mData._)(o,j),b(a.mData.sort,S),b(a.mData.type,S),b(a.mData.filter,S)):l?(a._setter||(a._setter=cZ(a.mData)),a._setter(o,j)):o[P]=j}P++};if(u){for(;u;){L=u.nodeName.toUpperCase();if("TD"==L||"TH"==L){c(u),q.push(u)}u=u.nextSibling}}else{q=f.anCells;u=0;for(L=q.length;u<L;u++){c(q[u])}}if(f=f.firstChild?f:f.nTr){(f=f.getAttribute("id"))&&cZ(d.rowId)(o,f)}return{data:o,cells:q}}function a2(b,d,j,l){var n=b.aoData[d],o=n._aData,q=[],c,a,u,f,i;if(null===n.nTr){c=j||cF.createElement("tr");n.nTr=c;n.anCells=q;c._DT_RowIndex=d;dD(b,n);f=0;for(i=b.aoColumns.length;f<i;f++){u=b.aoColumns[f];a=j?l[f]:cF.createElement(u.sCellType);a._DT_CellIndex={row:d,column:f};q.push(a);if(!j||u.mRender||u.mData!==f){a.innerHTML=cq(b,d,f,"display")}u.sClass&&(a.className+=" "+u.sClass);u.bVisible&&!j?c.appendChild(a):!u.bVisible&&j&&a.parentNode.removeChild(a);u.fnCreatedCell&&u.fnCreatedCell.call(b.oInstance,a,cq(b,d,f),o,d,f)}cg(b,"aoRowCreatedCallback",null,[c,o,d])}n.nTr.setAttribute("role","row")}function dD(b,c){var d=c.nTr,f=c._aData;if(d){var a=b.rowIdFn(f);a&&(d.id=a);f.DT_RowClass&&(a=f.DT_RowClass.split(" "),c.__rowc=c.__rowc?dJ(c.__rowc.concat(a)):a,a7(d).removeClass(c.__rowc.join(" ")).addClass(f.DT_RowClass));f.DT_RowAttr&&a7(d).attr(f.DT_RowAttr);f.DT_RowData&&a7(d).data(f.DT_RowData)}}function H(i){var j,l,n,o,q,a=i.nTHead,c=i.nTFoot,b=0===a7("th, td",a).length,f=i.oClasses,d=i.aoColumns;b&&(o=a7("<tr/>").appendTo(a));j=0;for(l=d.length;j<l;j++){q=d[j],n=a7(q.nTh).addClass(q.sClass),b&&n.appendTo(o),i.oFeatures.bSort&&(n.addClass(q.sSortingClass),!1!==q.bSortable&&(n.attr("tabindex",i.iTabIndex).attr("aria-controls",i.sTableId),co(i,q.nTh,j))),q.sTitle!=n[0].innerHTML&&n.html(q.sTitle),cG(i,"header")(i,n,q,f)}b&&dv(i.aoHeader,a);a7(a).find(">tr").attr("role","row");a7(a).find(">tr>th, >tr>td").addClass(f.sHeaderTH);a7(c).find(">tr>th, >tr>td").addClass(f.sFooterTH);if(null!==c){i=i.aoFooter[0];j=0;for(l=i.length;j<l;j++){q=d[j],q.nTf=i[j].cell,q.sClass&&a7(q.nTf).addClass(q.sClass)}}}function dF(i,j,l){var n,o,a,b=[],d=[],c=i.aoColumns.length,f;if(j){l===a8&&(l=!1);n=0;for(o=j.length;n<o;n++){b[n]=j[n].slice();b[n].nTr=j[n].nTr;for(a=c-1;0<=a;a--){!i.aoColumns[a].bVisible&&!l&&b[n].splice(a,1)}d.push([])}n=0;for(o=b.length;n<o;n++){if(i=b[n].nTr){for(;a=i.firstChild;){i.removeChild(a)}}a=0;for(j=b[n].length;a<j;a++){if(f=c=1,d[n][a]===a8){i.appendChild(b[n][a].cell);for(d[n][a]=1;b[n+c]!==a8&&b[n][a].cell==b[n+c][a].cell;){d[n+c][a]=1,c++}for(;b[n][a+f]!==a8&&b[n][a].cell==b[n][a+f].cell;){for(l=0;l<c;l++){d[n+l][a+f]=1}f++}a7(b[n][a].cell).attr("rowspan",c).attr("colspan",f)}}}}}function cU(d){var l=cg(d,"aoPreDrawCallback","preDraw",[d]);if(-1!==a7.inArray(!1,l)){cs(d,!1)}else{var l=[],n=0,o=d.asStripeClasses,q=o.length,u=d.oLanguage,L=d.iInitDisplayStart,c="ssp"==ck(d),a=d.aiDisplay;d.bDrawing=!0;L!==a8&&-1!==L&&(d._iDisplayStart=c?L:L>=d.fnRecordsDisplay()?0:L,d.iInitDisplayStart=-1);var L=d._iDisplayStart,i=d.fnDisplayEnd();if(d.bDeferLoading){d.bDeferLoading=!1,d.iDraw++,cs(d,!1)}else{if(c){if(!d.bDestroying&&!Z(d)){return}}else{d.iDraw++}}if(0!==a.length){u=c?d.aoData.length:i;for(c=c?0:L;c<u;c++){var f=a[c],j=d.aoData[f];null===j.nTr&&a2(d,f);f=j.nTr;if(0!==q){var b=o[n%q];j._sRowStripe!=b&&(a7(f).removeClass(j._sRowStripe).addClass(b),j._sRowStripe=b)}cg(d,"aoRowCallback",null,[f,j._aData,n,c]);l.push(f);n++}}else{n=u.sZeroRecords,1==d.iDraw&&"ajax"==ck(d)?n=u.sLoadingRecords:u.sEmptyTable&&0===d.fnRecordsTotal()&&(n=u.sEmptyTable),l[0]=a7("<tr/>",{"class":q?o[0]:""}).append(a7("<td />",{valign:"top",colSpan:a4(d),"class":d.oClasses.sRowEmpty}).html(n))[0]}cg(d,"aoHeaderCallback","header",[a7(d.nTHead).children("tr")[0],dr(d),L,i,a]);cg(d,"aoFooterCallback","footer",[a7(d.nTFoot).children("tr")[0],dr(d),L,i,a]);o=a7(d.nTBody);o.children().detach();o.append(a7(l));cg(d,"aoDrawCallback","draw",[d]);d.bSorted=!1;d.bFiltered=!1;d.bDrawing=!1}}function c3(b,c){var d=b.oFeatures,a=d.bFilter;d.bSort&&K(b);a?ct(b,b.oPreviousSearch):b.aiDisplay=b.aiDisplayMaster.slice();!0!==c&&(b._iDisplayStart=0);b._drawHold=c;cU(b);b._drawHold=!1}function dn(d){var l=d.oClasses,n=a7(d.nTable),n=a7("<div/>").insertBefore(n),o=d.oFeatures,q=a7("<div/>",{id:d.sTableId+"_wrapper","class":l.sWrapper+(d.nTFoot?"":" "+l.sNoFooter)});d.nHolding=n[0];d.nTableWrapper=q[0];d.nTableReinsertBefore=d.nTable.nextSibling;for(var u=d.sDom.split(""),L,c,a,i,f,j,b=0;b<u.length;b++){L=null;c=u[b];if("<"==c){a=a7("<div/>")[0];i=u[b+1];if("'"==i||'"'==i){f="";for(j=2;u[b+j]!=i;){f+=u[b+j],j++}"H"==f?f=l.sJUIHeader:"F"==f&&(f=l.sJUIFooter);-1!=f.indexOf(".")?(i=f.split("."),a.id=i[0].substr(1,i[0].length-1),a.className=i[1]):"#"==f.charAt(0)?a.id=f.substr(1,f.length-1):a.className=f;b+=j}q.append(a);q=a7(a)}else{if(">"==c){q=q.parent()}else{if("l"==c&&o.bPaginate&&o.bLengthChange){L=a1(d)}else{if("f"==c&&o.bFilter){L=k(d)}else{if("r"==c&&o.bProcessing){L=c8(d)}else{if("t"==c){L=dp(d)}else{if("i"==c&&o.bInfo){L=dC(d)}else{if("p"==c&&o.bPaginate){L=cm(d)}else{if(0!==ba.ext.feature.length){a=ba.ext.feature;j=0;for(i=a.length;j<i;j++){if(c==a[j].cFeature){L=a[j].fnInit(d);break}}}}}}}}}}}L&&(a=d.aanFeatures,a[c]||(a[c]=[]),a[c].push(L),q.append(L))}n.replaceWith(q);d.nHolding=null}function dv(d,l){var n=a7(l).children("tr"),o,q,u,L,c,a,i,f,j,b;d.splice(0,d.length);u=0;for(a=n.length;u<a;u++){d.push([])}u=0;for(a=n.length;u<a;u++){o=n[u];for(q=o.firstChild;q;){if("TD"==q.nodeName.toUpperCase()||"TH"==q.nodeName.toUpperCase()){f=1*q.getAttribute("colspan");j=1*q.getAttribute("rowspan");f=!f||0===f||1===f?1:f;j=!j||0===j||1===j?1:j;L=0;for(c=d[u];c[L];){L++}i=L;b=1===f?!0:!1;for(c=0;c<f;c++){for(L=0;L<j;L++){d[u+L][i+c]={cell:q,unique:b},d[u+L].nTr=o}}}q=q.nextSibling}}}function c7(b,f,c){var d=[];c||(c=b.aoHeader,f&&(c=[],dv(c,f)));for(var f=0,i=c.length;f<i;f++){for(var j=0,a=c[f].length;j<a;j++){if(c[f][j].unique&&(!d[j]||!b.bSortCellsTop)){d[j]=c[f][j].cell}}}return d}function dm(i,j,l){cg(i,"aoServerParams","serverParams",[j]);if(j&&a7.isArray(j)){var n={},o=/(.*?)\[\]$/;a7.each(j,function(q,u){var L=u.name.match(o);L?(L=L[0],n[L]||(n[L]=[]),n[L].push(u.value)):n[u.name]=u.value});j=n}var a,b=i.ajax,d=i.oInstance,c=function(q){cg(i,null,"xhr",[i,q,i.jqXHR]);l(q)};if(a7.isPlainObject(b)&&b.data){a=b.data;var f=a7.isFunction(a)?a(j,i):a,j=a7.isFunction(a)&&f?f:a7.extend(!0,j,f);delete b.data}f={data:j,success:function(u){var q=u.error||u.sError;q&&cN(i,0,q);i.json=u;c(u)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(u,L){var q=cg(i,null,"xhr",[i,null,i.jqXHR]);-1===a7.inArray(!0,q)&&("parsererror"==L?cN(i,0,"Invalid JSON response",1):4===u.readyState&&cN(i,0,"Ajax error",7));cs(i,!1)}};i.oAjaxData=j;cg(i,null,"preXhr",[i,j]);i.fnServerData?i.fnServerData.call(d,i.sAjaxSource,a7.map(j,function(q,u){return{name:u,value:q}}),c,i):i.sAjaxSource||"string"===typeof b?i.jqXHR=a7.ajax(a7.extend(f,{url:b||i.sAjaxSource})):a7.isFunction(b)?i.jqXHR=b.call(d,j,c,i):(i.jqXHR=a7.ajax(a7.extend(f,b)),b.data=a)}function Z(a){return a.bAjaxDataGet?(a.iDraw++,cs(a,!0),dm(a,cD(a),function(b){cT(a,b)}),!1):!0}function cD(b){var c=b.aoColumns,f=c.length,i=b.oFeatures,n=b.oPreviousSearch,o=b.aoPreSearchCols,q,L=[],u,j,d,l=c6(b);q=b._iDisplayStart;u=!1!==i.bPaginate?b._iDisplayLength:-1;var a=function(ad,S){L.push({name:ad,value:S})};a("sEcho",b.iDraw);a("iColumns",f);a("sColumns",cv(c,"sName").join(","));a("iDisplayStart",q);a("iDisplayLength",u);var P={draw:b.iDraw,columns:[],order:[],start:q,length:u,search:{value:n.sSearch,regex:n.bRegex}};for(q=0;q<f;q++){j=c[q],d=o[q],u="function"==typeof j.mData?"function":j.mData,P.columns.push({data:u,name:j.sName,searchable:j.bSearchable,orderable:j.bSortable,search:{value:d.sSearch,regex:d.bRegex}}),a("mDataProp_"+q,u),i.bFilter&&(a("sSearch_"+q,d.sSearch),a("bRegex_"+q,d.bRegex),a("bSearchable_"+q,j.bSearchable)),i.bSort&&a("bSortable_"+q,j.bSortable)}i.bFilter&&(a("sSearch",n.sSearch),a("bRegex",n.bRegex));i.bSort&&(a7.each(l,function(ad,S){P.order.push({column:S.col,dir:S.dir});a("iSortCol_"+ad,S.col);a("sSortDir_"+ad,S.dir)}),a("iSortingCols",l.length));c=ba.ext.legacy.ajax;return null===c?b.sAjaxSource?L:P:c?L:P}function cT(b,d){var c=dB(b,d),f=d.sEcho!==a8?d.sEcho:d.draw,i=d.iTotalRecords!==a8?d.iTotalRecords:d.recordsTotal,a=d.iTotalDisplayRecords!==a8?d.iTotalDisplayRecords:d.recordsFiltered;if(f){if(1*f<b.iDraw){return}b.iDraw=1*f}dk(b);b._iRecordsTotal=parseInt(i,10);b._iRecordsDisplay=parseInt(a,10);f=0;for(i=c.length;f<i;f++){cS(b,c[f])}b.aiDisplay=b.aiDisplayMaster.slice();b.bAjaxDataGet=!1;cU(b);b._bInitComplete||cl(b,d);b.bAjaxDataGet=!0;cs(b,!1)}function dB(b,c){var a=a7.isPlainObject(b.ajax)&&b.ajax.dataSrc!==a8?b.ajax.dataSrc:b.sAjaxDataProp;return"data"===a?c.aaData||c[a]:""!==a?cW(a)(c):c}function k(i){var j=i.oClasses,l=i.sTableId,n=i.oLanguage,a=i.oPreviousSearch,b=i.aanFeatures,c='<input type="search" class="'+j.sFilterInput+'"/>',f=n.sSearch,f=f.match(/_INPUT_/)?f.replace("_INPUT_",c):f+c,j=a7("<div/>",{id:!b.f?l+"_filter":null,"class":j.sFilter}).append(a7("<label/>").append(f)),b=function(){var o=!this.value?"":this.value;o!=a.sSearch&&(ct(i,{sSearch:o,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),i._iDisplayStart=0,cU(i))},c=null!==i.searchDelay?i.searchDelay:"ssp"===ck(i)?400:0,d=a7("input",j).val(a.sSearch).attr("placeholder",n.sSearchPlaceholder).bind("keyup.DT search.DT input.DT paste.DT cut.DT",c?cB(b,c):b).bind("keypress.DT",function(o){if(13==o.keyCode){return !1}}).attr("aria-controls",l);a7(i.nTable).on("search.dt.DT",function(u,o){if(i===o){try{d[0]!==cF.activeElement&&d.val(a.sSearch)}catch(q){}}});return j[0]}function ct(b,d,c){var f=b.oPreviousSearch,i=b.aoPreSearchCols,a=function(j){f.sSearch=j.sSearch;f.bRegex=j.bRegex;f.bSmart=j.bSmart;f.bCaseInsensitive=j.bCaseInsensitive};dq(b);if("ssp"!=ck(b)){ch(b,d.sSearch,c,d.bEscapeRegex!==a8?!d.bEscapeRegex:d.bRegex,d.bSmart,d.bCaseInsensitive);a(d);for(d=0;d<i.length;d++){V(b,i[d].sSearch,d,i[d].bEscapeRegex!==a8?!i[d].bEscapeRegex:i[d].bRegex,i[d].bSmart,i[d].bCaseInsensitive)}D(b)}else{a(d)}b.bFiltered=!0;cg(b,null,"search",[b])}function D(i){for(var j=ba.ext.search,l=i.aiDisplay,n,o,a=0,b=j.length;a<b;a++){for(var d=[],c=0,f=l.length;c<f;c++){o=l[c],n=i.aoData[o],j[a](i,n._aFilterData,o,n._aData,c)&&d.push(o)}l.length=0;a7.merge(l,d)}}function V(b,f,c,d,i,j){if(""!==f){for(var a=b.aiDisplay,d=cV(f,d,i,j),i=a.length-1;0<=i;i--){f=b.aoData[a[i]]._aFilterData[c],d.test(f)||a.splice(i,1)}}}function ch(b,f,c,d,i,j){var d=cV(f,d,i,j),i=b.oPreviousSearch.sSearch,j=b.aiDisplayMaster,a;0!==ba.ext.search.length&&(c=!0);a=dg(b);if(0>=f.length){b.aiDisplay=j.slice()}else{if(a||c||i.length>f.length||0!==f.indexOf(i)||b.bSorted){b.aiDisplay=j.slice()}f=b.aiDisplay;for(c=f.length-1;0<=c;c--){d.test(b.aoData[f[c]]._sFilterRow)||f.splice(c,1)}}}function cV(b,c,d,a){b=c?b:cR(b);d&&(b="^(?=.*?"+a7.map(b.match(/"[^"]+"|[^ ]+/g)||[""],function(f){if('"'===f.charAt(0)){var i=f.match(/^"(.*)"$/),f=i?i[1]:f}return f.replace('"',"")}).join(")(?=.*?")+").*$");return RegExp(b,a?"i":"")}function cR(a){return a.replace(dl,"\\$1")}function dg(c){var i=c.aoColumns,j,l,n,o,q,d,b,a,f=ba.ext.type.search;j=!1;l=0;for(o=c.aoData.length;l<o;l++){if(a=c.aoData[l],!a._aFilterData){d=[];n=0;for(q=i.length;n<q;n++){j=i[n],j.bSearchable?(b=cq(c,l,n,"filter"),f[j.sType]&&(b=f[j.sType](b)),null===b&&(b=""),"string"!==typeof b&&b.toString&&(b=b.toString())):b="",b.indexOf&&-1!==b.indexOf("&")&&(cc.innerHTML=b,b=dA?cc.textContent:cc.innerText),b.replace&&(b=b.replace(/[\r\n]/g,"")),d.push(b)}a._aFilterData=d;a._sFilterRow=d.join("  ");j=!0}}return j}function dy(a){return{search:a.sSearch,smart:a.bSmart,regex:a.bRegex,caseInsensitive:a.bCaseInsensitive}}function dI(a){return{sSearch:a.search,bSmart:a.smart,bRegex:a.regex,bCaseInsensitive:a.caseInsensitive}}function dC(b){var c=b.sTableId,d=b.aanFeatures.i,a=a7("<div/>",{"class":b.oClasses.sInfo,id:!d?c+"_info":null});d||(b.aoDrawCallback.push({fn:cz,sName:"information"}),a.attr("role","status").attr("aria-live","polite"),a7(b.nTable).attr("aria-describedby",c+"_info"));return a[0]}function cz(c){var i=c.aanFeatures.i;if(0!==i.length){var b=c.oLanguage,d=c._iDisplayStart+1,f=c.fnDisplayEnd(),j=c.fnRecordsTotal(),l=c.fnRecordsDisplay(),a=l?b.sInfo:b.sInfoEmpty;l!==j&&(a+=" "+b.sInfoFiltered);a+=b.sInfoPostFix;a=cP(c,a);b=b.fnInfoCallback;null!==b&&(a=b.call(c.oInstance,c,d,f,j,l,a));a7(i).html(a)}}function cP(b,f){var c=b.fnFormatNumber,d=b._iDisplayStart+1,i=b._iDisplayLength,j=b.fnRecordsDisplay(),a=-1===i;return f.replace(/_START_/g,c.call(b,d)).replace(/_END_/g,c.call(b,b.fnDisplayEnd())).replace(/_MAX_/g,c.call(b,b.fnRecordsTotal())).replace(/_TOTAL_/g,c.call(b,j)).replace(/_PAGE_/g,c.call(b,a?1:Math.ceil(d/i))).replace(/_PAGES_/g,c.call(b,a?1:Math.ceil(j/i)))}function cK(b){var f,c,d=b.iInitDisplayStart,i=b.aoColumns,j;c=b.oFeatures;var a=b.bDeferLoading;if(b.bInitialised){dn(b);H(b);dF(b,b.aoHeader);dF(b,b.aoFooter);cs(b,!0);c.bAutoWidth&&N(b);f=0;for(c=i.length;f<c;f++){j=i[f],j.sWidth&&(j.nTh.style.width=ci(j.sWidth))}cg(b,null,"preInit",[b]);c3(b);i=ck(b);if("ssp"!=i||a){"ajax"==i?dm(b,[],function(l){var n=dB(b,l);for(f=0;f<n.length;f++){cS(b,n[f])}b.iInitDisplayStart=d;c3(b);cs(b,!1);cl(b,l)},b):(cs(b,!1),cl(b))}}else{setTimeout(function(){cK(b)},200)}}function cl(a,b){a._bInitComplete=!0;(b||a.oInit.aaData)&&c4(a);cg(a,null,"plugin-init",[a,b]);cg(a,"aoInitComplete","init",[a,b])}function y(b,c){var a=parseInt(c,10);b._iDisplayLength=a;W(b);cg(b,null,"length",[b,a])}function a1(i){for(var j=i.oClasses,l=i.sTableId,n=i.aLengthMenu,a=a7.isArray(n[0]),b=a?n[0]:n,n=a?n[1]:n,a=a7("<select/>",{name:l+"_length","aria-controls":l,"class":j.sLengthSelect}),c=0,f=b.length;c<f;c++){a[0][c]=new Option(n[c],b[c])}var d=a7("<div><label/></div>").addClass(j.sLength);i.aanFeatures.l||(d[0].id=l+"_length");d.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML));a7("select",d).val(i._iDisplayLength).bind("change.DT",function(){y(i,a7(this).val());cU(i)});a7(i.nTable).bind("length.dt.DT",function(u,o,q){i===o&&a7("select",d).val(q)});return d[0]}function cm(b){var d=b.sPaginationType,c=ba.ext.pager[d],f="function"===typeof c,i=function(j){cU(j)},d=a7("<div/>").addClass(b.oClasses.sPaging+d)[0],a=b.aanFeatures;f||c.fnInit(b,d,i);a.p||(d.id=b.sTableId+"_paginate",b.aoDrawCallback.push({fn:function(l){if(f){var o=l._iDisplayStart,q=l._iDisplayLength,j=l.fnRecordsDisplay(),n=-1===q,o=n?0:Math.ceil(o/q),q=n?1:Math.ceil(j/q),j=c(o,q),u,n=0;for(u=a.p.length;n<u;n++){cG(l,"pageButton")(l,a.p[n],n,j,o,q)}}else{c.fnUpdate(l,i)}},sName:"pagination"}));return d}function E(b,d,c){var f=b._iDisplayStart,i=b._iDisplayLength,a=b.fnRecordsDisplay();0===a||-1===i?f=0:"number"===typeof d?(f=d*i,f>a&&(f=0)):"first"==d?f=0:"previous"==d?(f=0<=i?f-i:0,0>f&&(f=0)):"next"==d?f+i<a&&(f+=i):"last"==d?f=Math.floor((a-1)/i)*i:cN(b,0,"Unknown paging action: "+d,5);d=b._iDisplayStart!==f;b._iDisplayStart=f;d&&(cg(b,null,"page",[b]),c&&cU(b));return d}function c8(a){return a7("<div/>",{id:!a.aanFeatures.r?a.sTableId+"_processing":null,"class":a.oClasses.sProcessing}).html(a.oLanguage.sProcessing).insertBefore(a.nTable)[0]}function cs(a,b){a.oFeatures.bProcessing&&a7(a.aanFeatures.r).css("display",b?"block":"none");cg(a,null,"processing",[a,b])}function dp(d){var f=a7(d.nTable);f.attr("role","grid");var l=d.oScroll;if(""===l.sX&&""===l.sY){return d.nTable}var n=l.sX,o=l.sY,q=d.oClasses,u=f.children("caption"),a=u.length?u[0]._captionSide:null,L=a7(f[0].cloneNode(!1)),j=a7(f[0].cloneNode(!1)),i=f.children("tfoot");i.length||(i=null);L=a7("<div/>",{"class":q.sScrollWrapper}).append(a7("<div/>",{"class":q.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?!n?null:ci(n):"100%"}).append(a7("<div/>",{"class":q.sScrollHeadInner}).css({"box-sizing":"content-box",width:l.sXInner||"100%"}).append(L.removeAttr("id").css("margin-left",0).append("top"===a?u:null).append(f.children("thead"))))).append(a7("<div/>",{"class":q.sScrollBody}).css({position:"relative",overflow:"auto",width:!n?null:ci(n)}).append(f));i&&L.append(a7("<div/>",{"class":q.sScrollFoot}).css({overflow:"hidden",border:0,width:n?!n?null:ci(n):"100%"}).append(a7("<div/>",{"class":q.sScrollFootInner}).append(j.removeAttr("id").css("margin-left",0).append("bottom"===a?u:null).append(f.children("tfoot")))));var f=L.children(),c=f[0],q=f[1],b=i?f[2]:null;if(n){a7(q).on("scroll.DT",function(){var P=this.scrollLeft;c.scrollLeft=P;i&&(b.scrollLeft=P)})}a7(q).css(o&&l.bCollapse?"max-height":"height",o);d.nScrollHead=c;d.nScrollBody=q;d.nScrollFoot=b;d.aoDrawCallback.push({fn:ac,sName:"scrolling"});return L[0]}function ac(ak){var al=ak.oScroll,am=al.sX,l=al.sXInner,u=al.sY,al=al.iBarWidth,ap=a7(ak.nScrollHead),aq=ap[0].style,a=ap.children("div"),ar=a[0].style,f=a.children("table"),a=ak.nScrollBody,b=a7(a),n=a.style,ae=a7(ak.nScrollFoot).children("div"),c=ae.children("table"),d=a7(ak.nTHead),i=a7(ak.nTable),ad=i[0],af=ad.style,L=ak.nTFoot?a7(ak.nTFoot):null,ai=ak.oBrowser,q=ai.bScrollOversize,S,an,ao,ag,ah=[],aj=[],j=[],o,P=function(at){at=at.style;at.paddingTop="0";at.paddingBottom="0";at.borderTopWidth="0";at.borderBottomWidth="0";at.height=0};an=a.scrollHeight>a.clientHeight;if(ak.scrollBarVis!==an&&ak.scrollBarVis!==a8){ak.scrollBarVis=an,c4(ak)}else{ak.scrollBarVis=an;i.children("thead, tfoot").remove();ag=d.clone().prependTo(i);d=d.find("tr");an=ag.find("tr");ag.find("th, td").removeAttr("tabindex");L&&(ao=L.clone().prependTo(i),S=L.find("tr"),ao=ao.find("tr"));am||(n.width="100%",ap[0].style.width="100%");a7.each(c7(ak,ag),function(at,au){o=R(ak,at);au.style.width=ak.aoColumns[o].sWidth});L&&cJ(function(at){at.style.width=""},ao);ap=i.outerWidth();if(""===am){af.width="100%";if(q&&(i.find("tbody").height()>a.offsetHeight||"scroll"==b.css("overflow-y"))){af.width=ci(i.outerWidth()-al)}ap=i.outerWidth()}else{""!==l&&(af.width=ci(l),ap=i.outerWidth())}cJ(P,an);cJ(function(at){j.push(at.innerHTML);ah.push(ci(a7(at).css("width")))},an);cJ(function(au,at){au.style.width=ah[at]},d);a7(an).height(0);L&&(cJ(P,ao),cJ(function(at){aj.push(ci(a7(at).css("width")))},ao),cJ(function(au,at){au.style.width=aj[at]},S),a7(ao).height(0));cJ(function(au,at){au.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+j[at]+"</div>";au.style.width=ah[at]},an);L&&cJ(function(au,at){au.innerHTML="";au.style.width=aj[at]},ao);if(i.outerWidth()<ap){S=a.scrollHeight>a.offsetHeight||"scroll"==b.css("overflow-y")?ap+al:ap;if(q&&(a.scrollHeight>a.offsetHeight||"scroll"==b.css("overflow-y"))){af.width=ci(S-al)}(""===am||""!==l)&&cN(ak,1,"Possible column misalignment",6)}else{S="100%"}n.width=ci(S);aq.width=ci(S);L&&(ak.nScrollFoot.style.width=ci(S));!u&&q&&(n.height=ci(ad.offsetHeight+al));am=i.outerWidth();f[0].style.width=ci(am);ar.width=ci(am);l=i.height()>a.clientHeight||"scroll"==b.css("overflow-y");u="padding"+(ai.bScrollbarLeft?"Left":"Right");ar[u]=l?al+"px":"0px";L&&(c[0].style.width=ci(am),ae[0].style.width=ci(am),ae[0].style[u]=l?al+"px":"0px");b.scroll();if((ak.bSorted||ak.bFiltered)&&!ak._drawHold){a.scrollTop=0}}}function cJ(c,i,b){for(var d=0,f=0,j=i.length,l,a;f<j;){l=i[f].firstChild;for(a=b?b[f].firstChild:null;l;){1===l.nodeType&&(b?c(l,a,d):c(l,d),d++),l=l.nextSibling,a=b?a.nextSibling:null}f++}}function N(L){var P=L.nTable,S=L.aoColumns,ae=L.oScroll,b=ae.sY,c=ae.sX,d=ae.sXInner,j=S.length,f=U(L,"bVisible"),a=a7("th",L.nTHead),o=P.getAttribute("width"),n=P.parentNode,q=!1,u,ad,i=L.oBrowser,ae=i.bScrollOversize;(u=P.style.width)&&-1!==u.indexOf("%")&&(o=u);for(u=0;u<f.length;u++){ad=S[f[u]],null!==ad.sWidth&&(ad.sWidth=Q(ad.sWidthOrig,n),q=!0)}if(ae||!q&&!c&&!b&&j==a4(L)&&j==a.length){for(u=0;u<j;u++){f=R(L,u),null!==f&&(S[f].sWidth=ci(a.eq(u).width()))}}else{j=a7(P).clone().css("visibility","hidden").removeAttr("id");j.find("tbody tr").remove();var l=a7("<tr/>").appendTo(j.find("tbody"));j.find("thead, tfoot").remove();j.append(a7(L.nTHead).clone()).append(a7(L.nTFoot).clone());j.find("tfoot th, tfoot td").css("width","");a=c7(L,j.find("thead")[0]);for(u=0;u<f.length;u++){ad=S[f[u]],a[u].style.width=null!==ad.sWidthOrig&&""!==ad.sWidthOrig?ci(ad.sWidthOrig):"",ad.sWidthOrig&&c&&a7(a[u]).append(a7("<div/>").css({width:ad.sWidthOrig,margin:0,padding:0,border:0,height:1}))}if(L.aoData.length){for(u=0;u<f.length;u++){q=f[u],ad=S[q],a7(A(L,q)).clone(!1).append(ad.sContentPadding).appendTo(l)}}ad=a7("<div/>").css(c||b?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(j).appendTo(n);c&&d?j.width(d):c?(j.css("width","auto"),j.removeAttr("width"),j.width()<n.clientWidth&&o&&j.width(n.clientWidth)):b?j.width(n.clientWidth):o&&j.width(o);for(u=b=0;u<f.length;u++){n=a7(a[u]),d=n.outerWidth()-n.width(),n=i.bBounding?Math.ceil(a[u].getBoundingClientRect().width):n.outerWidth(),b+=n,S[f[u]].sWidth=ci(n-d)}P.style.width=ci(b);ad.remove()}o&&(P.style.width=ci(o));if((o||c)&&!L._reszEvt){P=function(){a7(cw).bind("resize.DT-"+L.sInstance,cB(function(){c4(L)}))},ae?setTimeout(P,1000):P(),L._reszEvt=!0}}function cB(b,c){var d=c!==a8?c:200,f,a;return function(){var l=this,i=+new Date,j=arguments;f&&i<f+d?(clearTimeout(a),a=setTimeout(function(){f=a8;b.apply(l,j)},d)):(f=i,b.apply(l,j))}}function Q(b,c){if(!b){return 0}var d=a7("<div/>").css("width",ci(b)).appendTo(c||cF.body),a=d[0].offsetWidth;d.remove();return a}function A(b,c){var d=O(b,c);if(0>d){return null}var a=b.aoData[d];return !a.nTr?a7("<td/>").html(cq(b,d,c,"display"))[0]:a.anCells[c]}function O(b,f){for(var c,d=-1,i=-1,j=0,a=b.aoData.length;j<a;j++){c=cq(b,j,f,"display")+"",c=c.replace(cn,""),c=c.replace(/&nbsp;/g," "),c.length>d&&(d=c.length,i=j)}return i}function ci(a){return null===a?"0px":"number"==typeof a?0>a?"0px":a+"px":a.match(/\d$/)?a+"px":a}function c6(i){var j,l,n=[],o=i.aoColumns,a,b,d,c;j=i.aaSortingFixed;l=a7.isPlainObject(j);var f=[];a=function(q){q.length&&!a7.isArray(q[0])?f.push(q):a7.merge(f,q)};a7.isArray(j)&&a(j);l&&j.pre&&a(j.pre);a(i.aaSorting);l&&j.post&&a(j.post);for(i=0;i<f.length;i++){c=f[i][0];a=o[c].aDataSort;j=0;for(l=a.length;j<l;j++){b=a[j],d=o[b].sType||"string",f[i]._idx===a8&&(f[i]._idx=a7.inArray(f[i][1],o[b].asSorting)),n.push({src:c,col:b,dir:f[i][1],index:f[i]._idx,type:d,formatter:ba.ext.type.order[d+"-pre"]})}}return n}function K(f){var i,j,l=[],n=ba.ext.type.order,o=f.aoData,a=0,d,c=f.aiDisplayMaster,b;dq(f);b=c6(f);i=0;for(j=b.length;i<j;i++){d=b[i],d.formatter&&a++,ds(f,d.col)}if("ssp"!=ck(f)&&0!==b.length){i=0;for(j=c.length;i<j;i++){l[c[i]]=i}a===b.length?c.sort(function(ad,ae){var af,ag,q,L,u=b.length,P=o[ad]._aSortData,S=o[ae]._aSortData;for(q=0;q<u;q++){if(L=b[q],af=P[L.col],ag=S[L.col],af=af<ag?-1:af>ag?1:0,0!==af){return"asc"===L.dir?af:-af}}af=l[ad];ag=l[ae];return af<ag?-1:af>ag?1:0}):c.sort(function(ad,ae){var af,ag,u,q,L=b.length,P=o[ad]._aSortData,S=o[ae]._aSortData;for(u=0;u<L;u++){if(q=b[u],af=P[q.col],ag=S[q.col],q=n[q.type+"-"+q.dir]||n["string-"+q.dir],af=q(af,ag),0!==af){return af}}af=l[ad];ag=l[ae];return af<ag?-1:af>ag?1:0})}f.bSorted=!0}function a3(i){for(var j,l,n=i.aoColumns,a=c6(i),i=i.oLanguage.oAria,b=0,c=n.length;b<c;b++){l=n[b];var f=l.asSorting;j=l.sTitle.replace(/<.*?>/g,"");var d=l.nTh;d.removeAttribute("aria-sort");l.bSortable&&(0<a.length&&a[0].col==b?(d.setAttribute("aria-sort","asc"==a[0].dir?"ascending":"descending"),l=f[a[0].index+1]||f[0]):l=f[0],j+="asc"===l?i.sSortAscending:i.sSortDescending);d.setAttribute("aria-label",j)}}function cX(b,f,c,d){var i=b.aaSorting,j=b.aoColumns[f].asSorting,a=function(l,n){var o=l._idx;o===a8&&(o=a7.inArray(l[1],j));return o+1<j.length?o+1:n?null:0};"number"===typeof i[0]&&(i=b.aaSorting=[i]);c&&b.oFeatures.bSortMulti?(c=a7.inArray(f,cv(i,"0")),-1!==c?(f=a(i[c],!0),null===f&&1===i.length&&(f=0),null===f?i.splice(c,1):(i[c][1]=j[f],i[c]._idx=f)):(i.push([f,j[0],0]),i[i.length-1]._idx=0)):i.length&&i[0][0]==f?(f=a(i[0]),i.length=1,i[0][1]=j[f],i[0]._idx=f):(i.length=0,i.push([f,j[0]]),i[0]._idx=0);c3(b);"function"==typeof d&&d(b)}function co(b,c,d,f){var a=b.aoColumns[d];ca(c,{},function(i){!1!==a.bSortable&&(b.oFeatures.bProcessing?(cs(b,!0),setTimeout(function(){cX(b,d,i.shiftKey,f);"ssp"!==ck(b)&&cs(b,!1)},0)):cX(b,d,i.shiftKey,f))})}function T(b){var f=b.aLastSort,c=b.oClasses.sSortColumn,d=c6(b),i=b.oFeatures,j,a;if(i.bSort&&i.bSortClasses){i=0;for(j=f.length;i<j;i++){a=f[i].src,a7(cv(b.aoData,"anCells",a)).removeClass(c+(2>i?i+1:3))}i=0;for(j=d.length;i<j;i++){a=d[i].src,a7(cv(b.aoData,"anCells",a)).addClass(c+(2>i?i+1:3))}}b.aLastSort=d}function ds(i,j){var l=i.aoColumns[j],n=ba.ext.order[l.sSortDataType],a;n&&(a=n.call(i.oInstance,i,j,cA(i,j)));for(var b,c=ba.ext.type.order[l.sType+"-pre"],f=0,d=i.aoData.length;f<d;f++){if(l=i.aoData[f],l._aSortData||(l._aSortData=[]),!l._aSortData[j]||n){b=n?a[f]:cq(i,f,j,"sort"),l._aSortData[j]=c?c(b):b}}}function B(a){if(a.oFeatures.bStateSave&&!a.bDestroying){var b={time:+new Date,start:a._iDisplayStart,length:a._iDisplayLength,order:a7.extend(!0,[],a.aaSorting),search:dy(a.oPreviousSearch),columns:a7.map(a.aoColumns,function(c,d){return{visible:c.bVisible,search:dy(a.aoPreSearchCols[d])}})};cg(a,"aoStateSaveParams","stateSaveParams",[a,b]);a.oSavedState=b;a.fnStateSaveCallback.call(a.oInstance,a,b)}}function p(b){var d,c,f=b.aoColumns;if(b.oFeatures.bStateSave){var i=b.fnStateLoadCallback.call(b.oInstance,b);if(i&&i.time&&(d=cg(b,"aoStateLoadParams","stateLoadParams",[b,i]),-1===a7.inArray(!1,d)&&(d=b.iStateDuration,!(0<d&&i.time<+new Date-1000*d)&&f.length===i.columns.length))){b.oLoadedState=a7.extend(!0,{},i);i.start!==a8&&(b._iDisplayStart=i.start,b.iInitDisplayStart=i.start);i.length!==a8&&(b._iDisplayLength=i.length);i.order!==a8&&(b.aaSorting=[],a7.each(i.order,function(l,j){b.aaSorting.push(j[0]>=f.length?[0,j[1]]:j)}));i.search!==a8&&a7.extend(b.oPreviousSearch,dI(i.search));d=0;for(c=i.columns.length;d<c;d++){var a=i.columns[d];a.visible!==a8&&(f[d].bVisible=a.visible);a.search!==a8&&a7.extend(b.aoPreSearchCols[d],dI(a.search))}cg(b,"aoStateLoaded","stateLoaded",[b,i])}}}function df(a){var b=ba.settings,a=a7.inArray(a,cv(b,"nTable"));return -1!==a?b[a]:null}function cN(b,c,d,a){d="DataTables warning: "+(b?"table id="+b.sTableId+" - ":"")+d;a&&(d+=". For more information about this error, please see http://datatables.net/tn/"+a);if(c){cw.console&&console.log&&console.log(d)}else{if(c=ba.ext,c=c.sErrMode||c.errMode,b&&cg(b,null,"error",[b,a,d]),"alert"==c){alert(d)}else{if("throw"==c){throw Error(d)}"function"==typeof c&&c(b,a,d)}}}function cy(b,c,d,a){a7.isArray(d)?a7.each(d,function(f,i){a7.isArray(i)?cy(b,c,i[0],i[1]):cy(b,c,i)}):(a===a8&&(a=d),c[d]!==a8&&(b[a]=c[d]))}function db(b,c,d){var f,a;for(a in c){c.hasOwnProperty(a)&&(f=c[a],a7.isPlainObject(f)?(a7.isPlainObject(b[a])||(b[a]={}),a7.extend(!0,b[a],f)):b[a]=d&&"data"!==a&&"aaData"!==a&&a7.isArray(f)?f.slice():f)}return b}function ca(b,c,a){a7(b).bind("click.DT",c,function(d){b.blur();a(d)}).bind("keypress.DT",c,function(d){13===d.which&&(d.preventDefault(),a(d))}).bind("selectstart.DT",function(){return !1})}function h(b,c,d,a){d&&b[c].push({fn:d,sName:a})}function cg(b,c,d,f){var a=[];c&&(a=a7.map(b[c].slice().reverse(),function(i){return i.fn.apply(b.oInstance,f)}));null!==d&&(c=a7.Event(d+".dt"),a7(b.nTable).trigger(c,f),a.push(c.result));return a}function W(b){var c=b._iDisplayStart,d=b.fnDisplayEnd(),a=b._iDisplayLength;c>=d&&(c=d-a);c-=c%a;if(-1===a||0>c){c=0}b._iDisplayStart=c}function cG(b,c){var d=b.renderer,a=ba.ext.renderer[c];return a7.isPlainObject(d)&&d[c]?a[d[c]]||a._:"string"===typeof d?a[d]||a._:a._}function ck(a){return a.oFeatures.bServerSide?"ssp":a.ajax||a.sAjaxSource?"ajax":"dom"}function dx(b,c){var d=[],d=du.numbers_length,a=Math.floor(d/2);c<=d?d=aa(0,c):b<=a?(d=aa(0,d-2),d.push("ellipsis"),d.push(c-1)):(b>=c-1-a?d=aa(c-(d-2),c):(d=aa(b-a+2,b+a-1),d.push("ellipsis"),d.push(c-1)),d.splice(0,0,"ellipsis"),d.splice(0,0,0));d.DT_el="span";return d}function s(a){a7.each({num:function(b){return dH(b,a)},"num-fmt":function(b){return dH(b,a,v)},"html-num":function(b){return dH(b,a,cx)},"html-num-fmt":function(b){return dH(b,a,cx,v)}},function(c,b){ce.type.order[c+a+"-pre"]=b;c.match(/^html\-/)&&(ce.type.search[c+a]=ce.type.search.html)})}function dE(a){return function(){var b=[df(this[ba.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return ba.ext.internal[a].apply(this,b)}}var ba,ce,cf,bc,cd,di={},cr=/[\r\n]/g,cx=/<.*?>/g,dd=/^[\w\+\-]/,cH=/[\w\+\-]$/,dl=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),v=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,cQ=function(a){return !a||!0===a||"-"===a?!0:!1},cI=function(a){var b=parseInt(a,10);return !isNaN(b)&&isFinite(a)?b:null},cY=function(a,b){di[b]||(di[b]=RegExp(cR(b),"g"));return"string"===typeof a&&"."!==b?a.replace(/\./g,"").replace(di[b],"."):a},dz=function(b,c,d){var a="string"===typeof b;if(cQ(b)){return !0}c&&a&&(b=cY(b,c));d&&a&&(b=b.replace(v,""));return !isNaN(parseFloat(b))&&isFinite(b)},C=function(b,c,a){return cQ(b)?!0:!(cQ(b)||"string"===typeof b)?null:dz(b.replace(cx,""),c,a)?!0:null},cv=function(b,d,c){var f=[],i=0,a=b.length;if(c!==a8){for(;i<a;i++){b[i]&&b[i][d]&&f.push(b[i][d][c])}}else{for(;i<a;i++){b[i]&&f.push(b[i][d])}}return f},c0=function(b,f,c,d){var i=[],j=0,a=f.length;if(d!==a8){for(;j<a;j++){b[f[j]][c]&&i.push(b[f[j]][c][d])}}else{for(;j<a;j++){i.push(b[f[j]][c])}}return i},aa=function(b,c){var d=[],f;c===a8?(c=0,f=b):(f=c,c=b);for(var a=c;a<f;a++){d.push(a)}return d},X=function(b){for(var c=[],d=0,a=b.length;d<a;d++){b[d]&&c.push(b[d])}return c},dJ=function(b){var f=[],c,d,i=b.length,j,a=0;d=0;b:for(;d<i;d++){c=b[d];for(j=0;j<a;j++){if(f[j]===c){continue b}}f.push(c);a++}return f},cp=function(b,c,a){b[c]!==a8&&(b[a]=b[c])},r=/\[.*?\]$/,c5=/\(\)$/,cc=a7("<div>")[0],dA=cc.textContent!==a8,cn=/<.*?>/g;ba=function(b){this.$=function(i,j){return this.api(!0).$(i,j)};this._=function(i,j){return this.api(!0).rows(i,j).data()};this.api=function(i){return i?new cf(df(this[ce.iApiIndex])):new cf(this)};this.fnAddData=function(l,n){var i=this.api(!0),j=a7.isArray(l)&&(a7.isArray(l[0])||a7.isPlainObject(l[0]))?i.rows.add(l):i.row.add(l);(n===a8||n)&&i.draw();return j.flatten().toArray()};this.fnAdjustColumnSizing=function(l){var n=this.api(!0).columns.adjust(),i=n.settings()[0],j=i.oScroll;l===a8||l?n.draw(!1):(""!==j.sX||""!==j.sY)&&ac(i)};this.fnClearTable=function(i){var j=this.api(!0).clear();(i===a8||i)&&j.draw()};this.fnClose=function(i){this.api(!0).row(i).child.hide()};this.fnDeleteRow=function(l,n,o){var q=this.api(!0),l=q.rows(l),i=l.settings()[0],j=i.aoData[l[0][0]];l.remove();n&&n.call(this,i,j);(o===a8||o)&&q.draw();return j};this.fnDestroy=function(i){this.api(!0).destroy(i)};this.fnDraw=function(i){this.api(!0).draw(i)};this.fnFilter=function(l,n,o,q,i,j){i=this.api(!0);null===n||n===a8?i.search(l,o,q,j):i.column(n).search(l,o,q,j);i.draw()};this.fnGetData=function(l,n){var i=this.api(!0);if(l!==a8){var j=l.nodeName?l.nodeName.toLowerCase():"";return n!==a8||"td"==j||"th"==j?i.cell(l,n).data():i.row(l).data()||null}return i.data().toArray()};this.fnGetNodes=function(i){var j=this.api(!0);return i!==a8?j.row(i).node():j.rows().nodes().flatten().toArray()};this.fnGetPosition=function(j){var l=this.api(!0),i=j.nodeName.toUpperCase();return"TR"==i?l.row(j).index():"TD"==i||"TH"==i?(j=l.cell(j).index(),[j.row,j.columnVisible,j.column]):null};this.fnIsOpen=function(i){return this.api(!0).row(i).child.isShown()};this.fnOpen=function(j,l,i){return this.api(!0).row(j).child(l,i).show().child()[0]};this.fnPageChange=function(j,l){var i=this.api(!0).page(j);(l===a8||l)&&i.draw(!1)};this.fnSetColumnVis=function(j,l,i){j=this.api(!0).column(j).visible(l);(i===a8||i)&&j.columns.adjust().draw()};this.fnSettings=function(){return df(this[ce.iApiIndex])};this.fnSort=function(i){this.api(!0).order(i).draw()};this.fnSortListener=function(j,l,i){this.api(!0).order.listener(j,l,i)};this.fnUpdate=function(l,n,o,q,i){var j=this.api(!0);o===a8||null===o?j.row(n).data(l):j.cell(n,o).data(l);(i===a8||i)&&j.columns.adjust();(q===a8||q)&&j.draw();return 0};this.fnVersionCheck=ce.fnVersionCheck;var c=this,d=b===a8,f=this.length;d&&(b={});this.oApi=this.internal=ce.internal;for(var a in ba.ext.internal){a&&(this[a]=dE(a))}this.each(function(){var af={},af=1<f?db(af,b,!0):b,ag=0,j,i=this.getAttribute("id"),o=!1,l=ba.defaults,L=a7(this);if("table"!=this.nodeName.toLowerCase()){cN(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}else{dh(l);dw(l.column);cL(l,l,!0);cL(l.column,l.column,!0);cL(l,a7.extend(af,L.data()));var ad=ba.settings,ag=0;for(j=ad.length;ag<j;ag++){var u=ad[ag];if(u.nTable==this||u.nTHead.parentNode==this||u.nTFoot&&u.nTFoot.parentNode==this){ag=af.bRetrieve!==a8?af.bRetrieve:l.bRetrieve;if(d||ag){return u.oInstance}if(af.bDestroy!==a8?af.bDestroy:l.bDestroy){u.oInstance.fnDestroy();break}else{cN(u,0,"Cannot reinitialise DataTable",3);return}}if(u.sTableId==this.id){ad.splice(ag,1);break}}if(null===i||""===i){this.id=i="DataTables_Table_"+ba.ext._unique++}var n=a7.extend(!0,{},ba.models.oSettings,{sDestroyWidth:L[0].style.width,sInstance:i,sTableId:i});n.nTable=this;n.oApi=c.internal;n.oInit=af;ad.push(n);n.oInstance=1===c.length?c:L.dataTable();dh(af);af.oLanguage&&M(af.oLanguage);af.aLengthMenu&&!af.iDisplayLength&&(af.iDisplayLength=a7.isArray(af.aLengthMenu[0])?af.aLengthMenu[0][0]:af.aLengthMenu[0]);af=db(a7.extend(!0,{},l),af);cy(n.oFeatures,af,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" "));cy(n,af,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"],["bJQueryUI","bJUI"]]);cy(n.oScroll,af,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]);cy(n.oLanguage,af,"fnInfoCallback");h(n,"aoDrawCallback",af.fnDrawCallback,"user");h(n,"aoServerParams",af.fnServerParams,"user");h(n,"aoStateSaveParams",af.fnStateSaveParams,"user");h(n,"aoStateLoadParams",af.fnStateLoadParams,"user");h(n,"aoStateLoaded",af.fnStateLoaded,"user");h(n,"aoRowCallback",af.fnRowCallback,"user");h(n,"aoRowCreatedCallback",af.fnCreatedRow,"user");h(n,"aoHeaderCallback",af.fnHeaderCallback,"user");h(n,"aoFooterCallback",af.fnFooterCallback,"user");h(n,"aoInitComplete",af.fnInitComplete,"user");h(n,"aoPreDrawCallback",af.fnPreDrawCallback,"user");n.rowIdFn=cW(af.rowId);dG(n);i=n.oClasses;af.bJQueryUI?(a7.extend(i,ba.ext.oJUIClasses,af.oClasses),af.sDom===l.sDom&&"lfrtip"===l.sDom&&(n.sDom='<"H"lfr>t<"F"ip>'),n.renderer)?a7.isPlainObject(n.renderer)&&!n.renderer.header&&(n.renderer.header="jqueryui"):n.renderer="jqueryui":a7.extend(i,ba.ext.classes,af.oClasses);L.addClass(i.sTable);n.iInitDisplayStart===a8&&(n.iInitDisplayStart=af.iDisplayStart,n._iDisplayStart=af.iDisplayStart);null!==af.iDeferLoading&&(n.bDeferLoading=!0,ag=a7.isArray(af.iDeferLoading),n._iRecordsDisplay=ag?af.iDeferLoading[0]:af.iDeferLoading,n._iRecordsTotal=ag?af.iDeferLoading[1]:af.iDeferLoading);var P=n.oLanguage;a7.extend(!0,P,af.oLanguage);""!==P.sUrl&&(a7.ajax({dataType:"json",url:P.sUrl,success:function(ah){M(ah);cL(l.oLanguage,ah);a7.extend(true,P,ah);cK(n)},error:function(){cK(n)}}),o=!0);null===af.asStripeClasses&&(n.asStripeClasses=[i.sStripeOdd,i.sStripeEven]);var ag=n.asStripeClasses,S=L.children("tbody").find("tr").eq(0);-1!==a7.inArray(!0,a7.map(ag,function(ah){return S.hasClass(ah)}))&&(a7("tbody tr",this).removeClass(ag.join(" ")),n.asDestroyStripes=ag.slice());ad=[];ag=this.getElementsByTagName("thead");0!==ag.length&&(dv(n.aoHeader,ag[0]),ad=c7(n));if(null===af.aoColumns){u=[];ag=0;for(j=ad.length;ag<j;ag++){u.push(null)}}else{u=af.aoColumns}ag=0;for(j=u.length;ag<j;ag++){z(n,ad?ad[ag]:null)}cM(n,af.aoColumnDefs,u,function(ah,ai){Y(n,ah,ai)});if(S.length){var q=function(ah,ai){return ah.getAttribute("data-"+ai)!==null?ai:null};a7(S[0]).children("th, td").each(function(ah,ai){var aj=n.aoColumns[ah];if(aj.mData===ah){var ak=q(ai,"sort")||q(ai,"order"),al=q(ai,"filter")||q(ai,"search");if(ak!==null||al!==null){aj.mData={_:ah+".display",sort:ak!==null?ah+".@data-"+ak:a8,type:ak!==null?ah+".@data-"+ak:a8,filter:al!==null?ah+".@data-"+al:a8};Y(n,ah)}}})}var ae=n.oFeatures;af.bStateSave&&(ae.bStateSave=!0,p(n,af),h(n,"aoDrawCallback",B,"state_save"));if(af.aaSorting===a8){ad=n.aaSorting;ag=0;for(j=ad.length;ag<j;ag++){ad[ag][1]=n.aoColumns[ag].asSorting[0]}}T(n);ae.bSort&&h(n,"aoDrawCallback",function(){if(n.bSorted){var ah=c6(n),ai={};a7.each(ah,function(ak,aj){ai[aj.src]=aj.dir});cg(n,null,"order",[n,ah,ai]);a3(n)}});h(n,"aoDrawCallback",function(){(n.bSorted||ck(n)==="ssp"||ae.bDeferRender)&&T(n)},"sc");ag=L.children("caption").each(function(){this._captionSide=L.css("caption-side")});j=L.children("thead");0===j.length&&(j=a7("<thead/>").appendTo(this));n.nTHead=j[0];j=L.children("tbody");0===j.length&&(j=a7("<tbody/>").appendTo(this));n.nTBody=j[0];j=L.children("tfoot");if(0===j.length&&0<ag.length&&(""!==n.oScroll.sX||""!==n.oScroll.sY)){j=a7("<tfoot/>").appendTo(this)}0===j.length||0===j.children().length?L.addClass(i.sNoFooter):0<j.length&&(n.nTFoot=j[0],dv(n.aoFooter,n.nTFoot));if(af.aaData){for(ag=0;ag<af.aaData.length;ag++){cS(n,af.aaData[ag])}}else{(n.bDeferLoading||"dom"==ck(n))&&I(n,a7(n.nTBody).children("tr"))}n.aiDisplay=n.aiDisplayMaster.slice();n.bInitialised=!0;!1===o&&cK(n)}});c=null;return this};var G=[],cj=Array.prototype,a6=function(b){var c,d,f=ba.settings,a=a7.map(f,function(i){return i.nTable});if(b){if(b.nTable&&b.oApi){return[b]}if(b.nodeName&&"table"===b.nodeName.toLowerCase()){return c=a7.inArray(b,a),-1!==c?[f[c]]:null}if(b&&"function"===typeof b.settings){return b.settings().toArray()}"string"===typeof b?d=a7(b):b instanceof a7&&(d=b)}else{return[]}if(d){return d.map(function(){c=a7.inArray(this,a);return -1!==c?f[c]:null}).toArray()}};cf=function(b,d){if(!(this instanceof cf)){return new cf(b,d)}var c=[],f=function(j){(j=a6(j))&&(c=c.concat(j))};if(a7.isArray(b)){for(var i=0,a=b.length;i<a;i++){f(b[i])}}else{f(b)}this.context=dJ(c);d&&a7.merge(this,d);this.selector={rows:null,cols:null,opts:null};cf.extend(this,this,G)};ba.Api=cf;a7.extend(cf.prototype,{any:function(){return 0!==this.count()},concat:cj.concat,context:[],count:function(){return this.flatten().length},each:function(b){for(var c=0,a=this.length;c<a;c++){b.call(this,this[c],c,this)}return this},eq:function(a){var b=this.context;return b.length>a?new cf(b[a],this[a]):null},filter:function(b){var c=[];if(cj.filter){c=cj.filter.call(this,b,this)}else{for(var d=0,a=this.length;d<a;d++){b.call(this,this[d],d,this)&&c.push(this[d])}}return new cf(this.context,c)},flatten:function(){var a=[];return new cf(this.context,a.concat.apply(a,this.toArray()))},join:cj.join,indexOf:cj.indexOf||function(b,c){for(var d=c||0,a=this.length;d<a;d++){if(this[d]===b){return d}}return -1},iterator:function(o,q,L,S){var a=[],b,c,d,i,u,j=this.context,l,P,f=this.selector;"string"===typeof o&&(S=L,L=q,q=o,o=!1);c=0;for(d=j.length;c<d;c++){var n=new cf(j[c]);if("table"===q){b=L.call(n,j[c],c),b!==a8&&a.push(b)}else{if("columns"===q||"rows"===q){b=L.call(n,j[c],this[c],c),b!==a8&&a.push(b)}else{if("column"===q||"column-rows"===q||"row"===q||"cell"===q){P=this[c];"column-rows"===q&&(l=cO(j[c],f.opts));i=0;for(u=P.length;i<u;i++){b=P[i],b="cell"===q?L.call(n,j[c],b.row,b.column,c,i):L.call(n,j[c],b,c,i,l),b!==a8&&a.push(b)}}}}}return a.length||S?(o=new cf(j,o?a.concat.apply([],a):a),q=o.selector,q.rows=f.rows,q.cols=f.cols,q.opts=f.opts,o):this},lastIndexOf:cj.lastIndexOf||function(a,b){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(b){var c=[];if(cj.map){c=cj.map.call(this,b,this)}else{for(var d=0,a=this.length;d<a;d++){c.push(b.call(this,this[d],d))}}return new cf(this.context,c)},pluck:function(a){return this.map(function(b){return b[a]})},pop:cj.pop,push:cj.push,reduce:cj.reduce||function(a,b){return cu(this,a,b,0,this.length,1)},reduceRight:cj.reduceRight||function(a,b){return cu(this,a,b,this.length-1,-1,-1)},reverse:cj.reverse,selector:null,shift:cj.shift,sort:cj.sort,splice:cj.splice,toArray:function(){return cj.slice.call(this)},to$:function(){return a7(this)},toJQuery:function(){return a7(this)},unique:function(){return new cf(this.context,dJ(this))},unshift:cj.unshift});cf.extend=function(b,f,c){if(c.length&&f&&(f instanceof cf||f.__dt_wrapper)){var d,i,j,a=function(l,n,o){return function(){var q=n.apply(l,arguments);cf.extend(q,q,o.methodExt);return q}};d=0;for(i=c.length;d<i;d++){j=c[d],f[j.name]="function"===typeof j.val?a(b,j.val,j):a7.isPlainObject(j.val)?{}:j.val,f[j.name].__dt_wrapper=!0,cf.extend(b,f[j.name],j.propExt)}}};cf.register=bc=function(f,i){if(a7.isArray(f)){for(var j=0,l=f.length;j<l;j++){cf.register(f[j],i)}}else{for(var n=f.split("."),o=G,a,c,j=0,l=n.length;j<l;j++){a=(c=-1!==n[j].indexOf("()"))?n[j].replace("()",""):n[j];var b;f:{b=0;for(var d=o.length;b<d;b++){if(o[b].name===a){b=o[b];break f}}b=null}b||(b={name:a,val:{},methodExt:[],propExt:[]},o.push(b));j===l-1?b.val=i:o=c?b.methodExt:b.propExt}}};cf.registerPlural=cd=function(b,c,a){cf.register(b,a);cf.register(c,function(){var d=a.apply(this,arguments);return d===this?this:d instanceof cf?d.length?a7.isArray(d[0])?new cf(d.context,d[0]):d[0]:a8:d})};bc("tables()",function(b){var c;if(b){c=cf;var d=this.context;if("number"===typeof b){b=[d[b]]}else{var a=a7.map(d,function(f){return f.nTable}),b=a7(a).filter(b).map(function(){var f=a7.inArray(this,a);return d[f]}).toArray()}c=new c(b)}else{c=this}return c});bc("table()",function(a){var a=this.tables(a),b=a.context;return b.length?new cf(b[0]):a});cd("tables().nodes()","table().node()",function(){return this.iterator("table",function(a){return a.nTable},1)});cd("tables().body()","table().body()",function(){return this.iterator("table",function(a){return a.nTBody},1)});cd("tables().header()","table().header()",function(){return this.iterator("table",function(a){return a.nTHead},1)});cd("tables().footer()","table().footer()",function(){return this.iterator("table",function(a){return a.nTFoot},1)});cd("tables().containers()","table().container()",function(){return this.iterator("table",function(a){return a.nTableWrapper},1)});bc("draw()",function(a){return this.iterator("table",function(b){"page"===a?cU(b):("string"===typeof a&&(a="full-hold"===a?!1:!0),c3(b,!1===a))})});bc("page()",function(a){return a===a8?this.page.info().page:this.iterator("table",function(b){E(b,a)})});bc("page.info()",function(){if(0===this.context.length){return a8}var b=this.context[0],c=b._iDisplayStart,d=b.oFeatures.bPaginate?b._iDisplayLength:-1,f=b.fnRecordsDisplay(),a=-1===d;return{page:a?0:Math.floor(c/d),pages:a?1:Math.ceil(f/d),start:c,end:b.fnDisplayEnd(),length:d,recordsTotal:b.fnRecordsTotal(),recordsDisplay:f,serverSide:"ssp"===ck(b)}});bc("page.len()",function(a){return a===a8?0!==this.context.length?this.context[0]._iDisplayLength:a8:this.iterator("table",function(b){y(b,a)})});var dj=function(b,c,d){if(d){var f=new cf(b);f.one("draw",function(){d(f.ajax.json())})}if("ssp"==ck(b)){c3(b,c)}else{cs(b,!0);var a=b.jqXHR;a&&4!==a.readyState&&a.abort();dm(b,[],function(i){dk(b);for(var i=dB(b,i),j=0,l=i.length;j<l;j++){cS(b,i[j])}c3(b,c);cs(b,!1)})}};bc("ajax.json()",function(){var a=this.context;if(0<a.length){return a[0].json}});bc("ajax.params()",function(){var a=this.context;if(0<a.length){return a[0].oAjaxData}});bc("ajax.reload()",function(a,b){return this.iterator("table",function(c){dj(c,!1===b,a)})});bc("ajax.url()",function(a){var b=this.context;if(a===a8){if(0===b.length){return a8}b=b[0];return b.ajax?a7.isPlainObject(b.ajax)?b.ajax.url:b.ajax:b.sAjaxSource}return this.iterator("table",function(c){a7.isPlainObject(c.ajax)?c.ajax.url=a:c.ajax=a})});bc("ajax.url().load()",function(a,b){return this.iterator("table",function(c){dj(c,!1===b,a)})});var dt=function(c,d,j,l,n){var o=[],q,a,u,i,b,f;u=typeof d;if(!d||"string"===u||"function"===u||d.length===a8){d=[d]}u=0;for(i=d.length;u<i;u++){a=d[u]&&d[u].split?d[u].split(","):[d[u]];b=0;for(f=a.length;b<f;b++){(q=j("string"===typeof a[b]?a7.trim(a[b]):a[b]))&&q.length&&(o=o.concat(q))}}c=ce.selector[c];if(c.length){u=0;for(i=c.length;u<i;u++){o=c[u](l,n,o)}}return dJ(o)},da=function(a){a||(a={});a.filter&&a.search===a8&&(a.search=a.filter);return a7.extend({search:"none",order:"current",page:"all"},a)},cE=function(b){for(var c=0,a=b.length;c<a;c++){if(0<b[c].length){return b[0]=b[c],b[0].length=1,b.length=1,b.context=[b.context[c]],b}}b.length=0;return b},cO=function(c,i){var b,d,f,j=[],l=c.aiDisplay;b=c.aiDisplayMaster;var a=i.search;d=i.order;f=i.page;if("ssp"==ck(c)){return"removed"===a?[]:aa(0,b.length)}if("current"==f){b=c._iDisplayStart;for(d=c.fnDisplayEnd();b<d;b++){j.push(l[b])}}else{if("current"==d||"applied"==d){j="none"==a?b.slice():"applied"==a?l.slice():a7.map(b,function(n){return -1===a7.inArray(n,l)?n:null})}else{if("index"==d||"original"==d){b=0;for(d=c.aoData.length;b<d;b++){"none"==a?j.push(b):(f=a7.inArray(b,l),(-1===f&&"removed"==a||0<=f&&"applied"==a)&&j.push(b))}}}}return j};bc("rows()",function(b,c){b===a8?b="":a7.isPlainObject(b)&&(c=b,b="");var c=da(c),a=this.iterator("table",function(d){var f=c;return dt("row",b,function(j){var l=cI(j);if(l!==null&&!f){return[l]}var i=cO(d,f);if(l!==null&&a7.inArray(l,i)!==-1){return[l]}if(!j){return i}if(typeof j==="function"){return a7.map(i,function(n){var o=d.aoData[n];return j(n,o._aData,o.nTr)?n:null})}l=X(c0(d.aoData,i,"nTr"));if(j.nodeName&&a7.inArray(j,l)!==-1){return[j._DT_RowIndex]}if(typeof j==="string"&&j.charAt(0)==="#"){i=d.aIds[j.replace(/^#/,"")];if(i!==a8){return[i.idx]}}return a7(l).filter(j).map(function(){return this._DT_RowIndex}).toArray()},d,f)},1);a.selector.rows=b;a.selector.opts=c;return a});bc("rows().nodes()",function(){return this.iterator("row",function(a,b){return a.aoData[b].nTr||a8},1)});bc("rows().data()",function(){return this.iterator(!0,"rows",function(a,b){return c0(a.aoData,b,"_aData")},1)});cd("rows().cache()","row().cache()",function(a){return this.iterator("row",function(c,d){var b=c.aoData[d];return"search"===a?b._aFilterData:b._aSortData},1)});cd("rows().invalidate()","row().invalidate()",function(a){return this.iterator("row",function(c,b){de(c,b,a)})});cd("rows().indexes()","row().index()",function(){return this.iterator("row",function(a,b){return b},1)});cd("rows().ids()","row().id()",function(b){for(var d=[],a=this.context,c=0,f=a.length;c<f;c++){for(var i=0,j=this[c].length;i<j;i++){var l=a[c].rowIdFn(a[c].aoData[this[c][i]]._aData);d.push((!0===b?"#":"")+l)}}return new cf(a,d)});cd("rows().remove()","row().remove()",function(){var a=this;this.iterator("row",function(i,j,l){var n=i.aoData,o=n[j],q,b,c,f,d;n.splice(j,1);q=0;for(b=n.length;q<b;q++){if(c=n[q],d=c.anCells,null!==c.nTr&&(c.nTr._DT_RowIndex=q),null!==d){c=0;for(f=d.length;c<f;c++){d[c]._DT_CellIndex.row=q}}}a0(i.aiDisplayMaster,j);a0(i.aiDisplay,j);a0(a[l],j,!1);W(i);j=i.rowIdFn(o._aData);j!==a8&&delete i.aIds[j]});this.iterator("table",function(c){for(var d=0,b=c.aoData.length;d<b;d++){c.aoData[d].idx=d}});return this});bc("rows.add()",function(b){var c=this.iterator("table",function(l){var d,f,i,j=[];f=0;for(i=b.length;f<i;f++){d=b[f],d.nodeName&&"TR"===d.nodeName.toUpperCase()?j.push(I(l,d)[0]):j.push(cS(l,d))}return j},1),a=this.rows(-1);a.pop();a7.merge(a,c);return a});bc("row()",function(a,b){return cE(this.rows(a,b))});bc("row().data()",function(a){var b=this.context;if(a===a8){return b.length&&this.length?b[0].aoData[this[0]]._aData:a8}b[0].aoData[this[0]]._aData=a;de(b[0],this[0],"data");return this});bc("row().node()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]].nTr||null:null});bc("row.add()",function(a){a instanceof a7&&a.length&&(a=a[0]);var b=this.iterator("table",function(c){return a.nodeName&&"TR"===a.nodeName.toUpperCase()?I(c,a)[0]:cS(c,a)});return this.row(b[0])});var a5=function(b,c){var a=b.context;if(a.length&&(a=a[0].aoData[c!==a8?c:b[0]])&&a._details){a._details.remove(),a._detailsShow=a8,a._details=a8}},c2=function(b,f){var c=b.context;if(c.length&&b.length){var d=c[0].aoData[b[0]];if(d._details){(d._detailsShow=f)?d._details.insertAfter(d.nTr):d._details.detach();var i=c[0],j=new cf(i),a=i.aoData;j.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<cv(a,"_details").length&&(j.on("draw.dt.DT_details",function(l,n){i===n&&j.rows({page:"current"}).eq(0).each(function(o){o=a[o];o._detailsShow&&o._details.insertAfter(o.nTr)})}),j.on("column-visibility.dt.DT_details",function(n,o){if(i===o){for(var L,l=a4(o),q=0,u=a.length;q<u;q++){L=a[q],L._details&&L._details.children("td[colspan]").attr("colspan",l)}}}),j.on("destroy.dt.DT_details",function(l,n){if(i===n){for(var o=0,q=a.length;o<q;o++){a[o]._details&&a5(j,o)}}}))}}};bc("row().child()",function(b,d){var c=this.context;if(b===a8){return c.length&&this.length?c[0].aoData[this[0]]._details:a8}if(!0===b){this.child.show()}else{if(!1===b){a5(this)}else{if(c.length&&this.length){var f=c[0],c=c[0].aoData[this[0]],i=[],a=function(l,n){if(a7.isArray(l)||l instanceof a7){for(var o=0,j=l.length;o<j;o++){a(l[o],n)}}else{l.nodeName&&"tr"===l.nodeName.toLowerCase()?i.push(l):(o=a7("<tr><td/></tr>").addClass(n),a7("td",o).addClass(n).html(l)[0].colSpan=a4(f),i.push(o[0]))}};a(b,d);c._details&&c._details.remove();c._details=a7(i);c._detailsShow&&c._details.insertAfter(c.nTr)}}}return this});bc(["row().child.show()","row().child().show()"],function(){c2(this,!0);return this});bc(["row().child.hide()","row().child().hide()"],function(){c2(this,!1);return this});bc(["row().child.remove()","row().child().remove()"],function(){a5(this);return this});bc("row().child.isShown()",function(){var a=this.context;return a.length&&this.length?a[0].aoData[this[0]]._detailsShow||!1:!1});var t=/^(.+):(name|visIdx|visible)$/,cb=function(b,d,c,f,i){for(var c=[],f=0,a=i.length;f<a;f++){c.push(cq(b,i[f],d))}return c};bc("columns()",function(b,c){b===a8?b="":a7.isPlainObject(b)&&(c=b,b="");var c=da(c),a=this.iterator("table",function(d){var f=b,i=c,j=d.aoColumns,n=cv(j,"sName"),l=cv(j,"nTh");return dt("column",f,function(o){var u=cI(o);if(o===""){return aa(j.length)}if(u!==null){return[u>=0?u:j.length+u]}if(typeof o==="function"){var q=cO(d,i);return a7.map(j,function(ad,S){return o(S,cb(d,S,0,0,q),l[S])?S:null})}var P=typeof o==="string"?o.match(t):"";if(P){switch(P[2]){case"visIdx":case"visible":u=parseInt(P[1],10);if(u<0){var L=a7.map(j,function(S,ad){return S.bVisible?ad:null});return[L[L.length+u]]}return[R(d,u)];case"name":return a7.map(n,function(S,ad){return S===P[1]?ad:null})}}else{return a7(l).filter(o).map(function(){return a7.inArray(this,l)}).toArray()}},d,i)},1);a.selector.cols=b;a.selector.opts=c;return a});cd("columns().header()","column().header()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTh},1)});cd("columns().footer()","column().footer()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].nTf},1)});cd("columns().data()","column().data()",function(){return this.iterator("column-rows",cb,1)});cd("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(a,b){return a.aoColumns[b].mData},1)});cd("columns().cache()","column().cache()",function(a){return this.iterator("column-rows",function(c,d,f,i,b){return c0(c.aoData,b,"search"===a?"_aFilterData":"_aSortData",d)},1)});cd("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(b,c,d,f,a){return c0(b.aoData,a,"anCells",c)},1)});cd("columns().visible()","column().visible()",function(a,b){return this.iterator("column",function(f,i){if(a===a8){return f.aoColumns[i].bVisible}var j=f.aoColumns,l=j[i],n=f.aoData,q,o,d;if(a!==a8&&l.bVisible!==a){if(a){var c=a7.inArray(!0,cv(j,"bVisible"),i+1);q=0;for(o=n.length;q<o;q++){d=n[q].nTr,j=n[q].anCells,d&&d.insertBefore(j[i],j[c]||null)}}else{a7(cv(f.aoData,"anCells",i)).detach()}l.bVisible=a;dF(f,f.aoHeader);dF(f,f.aoFooter);if(b===a8||b){c4(f),(f.oScroll.sX||f.oScroll.sY)&&ac(f)}cg(f,null,"column-visibility",[f,i,a,b]);B(f)}})});cd("columns().indexes()","column().index()",function(a){return this.iterator("column",function(c,b){return"visible"===a?cA(c,b):b},1)});bc("columns.adjust()",function(){return this.iterator("table",function(a){c4(a)},1)});bc("column.index()",function(b,c){if(0!==this.context.length){var a=this.context[0];if("fromVisible"===b||"toData"===b){return R(a,c)}if("fromData"===b||"toVisible"===b){return cA(a,c)}}});bc("column()",function(a,b){return cE(this.columns(a,b))});bc("cells()",function(c,i,j){a7.isPlainObject(c)&&(c.row===a8?(j=c,c=null):(j=i,i=null));a7.isPlainObject(i)&&(j=i,i=null);if(null===i||i===a8){return this.iterator("table",function(af){var ag=c,ah=da(j),ai=af.aoData,aj=cO(af,ah),al=X(c0(ai,aj,"anCells")),ak=a7([].concat.apply([],al)),am,an=af.aoColumns.length,u,L,ad,P,S,ae;return dt("cell",ag,function(ao){var ap=typeof ao==="function";if(ao===null||ao===a8||ap){u=[];L=0;for(ad=aj.length;L<ad;L++){am=aj[L];for(P=0;P<an;P++){S={row:am,column:P};if(ap){ae=ai[am];ao(S,cq(af,am,P),ae.anCells?ae.anCells[P]:null)&&u.push(S)}else{u.push(S)}}}return u}return a7.isPlainObject(ao)?[ao]:ak.filter(ao).map(function(aq,ar){return{row:ar._DT_CellIndex.row,column:ar._DT_CellIndex.column}}).toArray()},af,ah)})}var l=this.columns(i,j),n=this.rows(c,j),o,q,b,a,f,d=this.iterator("table",function(L,u){o=[];q=0;for(b=n[u].length;q<b;q++){a=0;for(f=l[u].length;a<f;a++){o.push({row:n[u][q],column:l[u][a]})}}return o},1);a7.extend(d.selector,{cols:i,rows:c,opts:j});return d});cd("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(b,c,a){return(b=b.aoData[c].anCells)?b[a]:a8},1)});bc("cells().data()",function(){return this.iterator("cell",function(b,c,a){return cq(b,c,a)},1)});cd("cells().cache()","cell().cache()",function(a){a="search"===a?"_aFilterData":"_aSortData";return this.iterator("cell",function(c,d,b){return c.aoData[d][a][b]},1)});cd("cells().render()","cell().render()",function(a){return this.iterator("cell",function(c,d,b){return cq(c,d,b,a)},1)});cd("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(b,c,a){return{row:c,column:a,columnVisible:cA(b,a)}},1)});cd("cells().invalidate()","cell().invalidate()",function(a){return this.iterator("cell",function(c,d,b){de(c,d,a,b)})});bc("cell()",function(b,c,a){return cE(this.cells(b,c,a))});bc("cell().data()",function(b){var c=this.context,a=this[0];if(b===a8){return c.length&&a.length?cq(c[0],a[0].row,a[0].column):a8}c1(c[0],a[0].row,a[0].column,b);de(c[0],a[0].row,"data",a[0].column);return this});bc("order()",function(b,c){var a=this.context;if(b===a8){return 0!==a.length?a[0].aaSorting:a8}"number"===typeof b?b=[[b,c]]:a7.isArray(b[0])||(b=Array.prototype.slice.call(arguments));return this.iterator("table",function(d){d.aaSorting=b.slice()})});bc("order.listener()",function(b,c,a){return this.iterator("table",function(d){co(d,b,c,a)})});bc("order.fixed()",function(a){if(!a){var b=this.context,b=b.length?b[0].aaSortingFixed:a8;return a7.isArray(b)?{pre:b}:b}return this.iterator("table",function(c){c.aaSortingFixed=a7.extend(!0,{},a)})});bc(["columns().order()","column().order()"],function(a){var b=this;return this.iterator("table",function(d,f){var c=[];a7.each(b[f],function(j,i){c.push([i,a])});d.aaSorting=c})});bc("search()",function(b,c,d,f){var a=this.context;return b===a8?0!==a.length?a[0].oPreviousSearch.sSearch:a8:this.iterator("table",function(i){i.oFeatures.bFilter&&ct(i,a7.extend({},i.oPreviousSearch,{sSearch:b+"",bRegex:null===c?!1:c,bSmart:null===d?!0:d,bCaseInsensitive:null===f?!0:f}),1)})});cd("columns().search()","column().search()",function(b,c,d,a){return this.iterator("column",function(f,i){var j=f.aoPreSearchCols;if(b===a8){return j[i].sSearch}f.oFeatures.bFilter&&(a7.extend(j[i],{sSearch:b+"",bRegex:null===c?!1:c,bSmart:null===d?!0:d,bCaseInsensitive:null===a?!0:a}),ct(f,f.oPreviousSearch,1))})});bc("state()",function(){return this.context.length?this.context[0].oSavedState:null});bc("state.clear()",function(){return this.iterator("table",function(a){a.fnStateSaveCallback.call(a.oInstance,a,{})})});bc("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null});bc("state.save()",function(){return this.iterator("table",function(a){B(a)})});ba.versionCheck=ba.fnVersionCheck=function(b){for(var d=ba.version.split("."),b=b.split("."),c,f,i=0,a=b.length;i<a;i++){if(c=parseInt(d[i],10)||0,f=parseInt(b[i],10)||0,c!==f){return c>f}}return !0};ba.isDataTable=ba.fnIsDataTable=function(b){var c=a7(b).get(0),a=!1;a7.each(ba.settings,function(j,d){var f=d.nScrollHead?a7("table",d.nScrollHead)[0]:null,i=d.nScrollFoot?a7("table",d.nScrollFoot)[0]:null;if(d.nTable===c||f===c||i===c){a=!0}});return a};ba.tables=ba.fnTables=function(b){var c=!1;a7.isPlainObject(b)&&(c=b.api,b=b.visible);var a=a7.map(ba.settings,function(d){if(!b||b&&a7(d.nTable).is(":visible")){return d.nTable}});return c?new cf(a):a};ba.util={throttle:cB,escapeRegex:cR};ba.camelToHungarian=cL;bc("$()",function(b,c){var a=this.rows(c).nodes(),a=a7(a);return a7([].concat(a.filter(b).toArray(),a.find(b).toArray()))});a7.each(["on","one","off"],function(a,b){bc(b+"()",function(){var c=Array.prototype.slice.call(arguments);c[0].match(/\.dt\b/)||(c[0]+=".dt");var d=a7(this.tables().nodes());d[b].apply(d,c);return this})});bc("clear()",function(){return this.iterator("table",function(a){dk(a)})});bc("settings()",function(){return new cf(this.context,this.context)});bc("init()",function(){var a=this.context;return a.length?a[0].oInit:null});bc("data()",function(){return this.iterator("table",function(a){return cv(a.aoData,"_aData")}).flatten()});bc("destroy()",function(a){a=a||!1;return this.iterator("table",function(c){var d=c.nTableWrapper.parentNode,f=c.oClasses,j=c.nTable,l=c.nTBody,n=c.nTHead,q=c.nTFoot,o=a7(j),l=a7(l),u=a7(c.nTableWrapper),b=a7.map(c.aoData,function(L){return L.nTr}),i;c.bDestroying=!0;cg(c,"aoDestroyCallback","destroy",[c]);a||(new cf(c)).columns().visible(!0);u.unbind(".DT").find(":not(tbody *)").unbind(".DT");a7(cw).unbind(".DT-"+c.sInstance);j!=n.parentNode&&(o.children("thead").detach(),o.append(n));q&&j!=q.parentNode&&(o.children("tfoot").detach(),o.append(q));c.aaSorting=[];c.aaSortingFixed=[];T(c);a7(b).removeClass(c.asStripeClasses.join(" "));a7("th, td",n).removeClass(f.sSortable+" "+f.sSortableAsc+" "+f.sSortableDesc+" "+f.sSortableNone);c.bJUI&&(a7("th span."+f.sSortIcon+", td span."+f.sSortIcon,n).detach(),a7("th, td",n).each(function(){var L=a7("div."+f.sSortJUIWrapper,this);a7(this).append(L.contents());L.detach()}));l.children().detach();l.append(b);n=a?"remove":"detach";o[n]();u[n]();!a&&d&&(d.insertBefore(j,c.nTableReinsertBefore),o.css("width",c.sDestroyWidth).removeClass(f.sTable),(i=c.asDestroyStripes.length)&&l.children().each(function(L){a7(this).addClass(c.asDestroyStripes[L%i])}));d=a7.inArray(c,ba.settings);-1!==d&&ba.settings.splice(d,1)})});a7.each(["column","row","cell"],function(a,b){bc(b+"s().every()",function(c){var d=this.selector.opts,f=this;return this.iterator(b,function(o,i,j,l,n){c.call(f[b](i,"cell"===b?j:d,"cell"===b?d:a8),i,j,l,n)})})});bc("i18n()",function(b,c,d){var a=this.context[0],b=cW(b)(a.oLanguage);b===a8&&(b=c);d!==a8&&a7.isPlainObject(b)&&(b=b[d]!==a8?b[d]:b._);return b.replace("%d",d)});ba.version="1.10.10";ba.settings=[];ba.models={};ba.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};ba.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1};ba.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};ba.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(a){try{return JSON.parse((-1===a.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+a.sInstance+"_"+location.pathname))}catch(b){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(b,c){try{(-1===b.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+b.sInstance+"_"+location.pathname,JSON.stringify(c))}catch(a){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:a7.extend({},ba.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"};ab(ba.defaults);ba.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};ab(ba.defaults.column);ba.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:a8,oAjaxData:a8,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ck(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ck(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var b=this._iDisplayLength,d=this._iDisplayStart,c=d+b,f=this.aiDisplay.length,i=this.oFeatures,a=i.bPaginate;return i.bServerSide?!1===a||-1===b?d+f:Math.min(d+b,this._iRecordsDisplay):!a||c>f||-1===b?f:c},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null};ba.ext=ce={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:ba.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:ba.version};a7.extend(ce,{afnFiltering:ce.search,aTypes:ce.type.detect,ofnSearch:ce.type.search,oSort:ce.type.order,afnSortData:ce.order,aoFeatures:ce.feature,oApi:ce.internal,oStdClasses:ce.classes,oPagination:ce.pager});a7.extend(ba.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var bb="",bb="",cC=bb+"ui-state-default",F=bb+"css_right ui-icon ui-icon-",x=bb+"fg-toolbar ui-toolbar ui-widget-header ui-helper-clearfix";a7.extend(ba.ext.oJUIClasses,ba.ext.classes,{sPageButton:"fg-button ui-button "+cC,sPageButtonActive:"ui-state-disabled",sPageButtonDisabled:"ui-state-disabled",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:cC+" sorting_asc",sSortDesc:cC+" sorting_desc",sSortable:cC+" sorting",sSortableAsc:cC+" sorting_asc_disabled",sSortableDesc:cC+" sorting_desc_disabled",sSortableNone:cC+" sorting_disabled",sSortJUIAsc:F+"triangle-1-n",sSortJUIDesc:F+"triangle-1-s",sSortJUI:F+"carat-2-n-s",sSortJUIAscAllowed:F+"carat-1-n",sSortJUIDescAllowed:F+"carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead "+cC,sScrollFoot:"dataTables_scrollFoot "+cC,sHeaderTH:cC,sFooterTH:cC,sJUIHeader:x+" ui-corner-tl ui-corner-tr",sJUIFooter:x+" ui-corner-bl ui-corner-br"});var du=ba.ext.pager;a7.extend(du,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(a,b){return[dx(a,b)]},simple_numbers:function(a,b){return["previous",dx(a,b),"next"]},full_numbers:function(a,b){return["first","previous",dx(a,b),"next","last"]},_numbers:dx,numbers_length:7});a7.extend(!0,ba.ext.renderer,{pageButton:{_:function(o,q,L,S,a,b){var c=o.oClasses,i=o.oLanguage.oPaginate,d=o.oLanguage.oAria.paginate||{},j,l,n=0,P=function(af,aj){var ai,ae,ah,ag,ad=function(ak){E(o,ak.data.action,true)};ai=0;for(ae=aj.length;ai<ae;ai++){ag=aj[ai];if(a7.isArray(ag)){ah=a7("<"+(ag.DT_el||"div")+"/>").appendTo(af);P(ah,ag)}else{j=null;l="";switch(ag){case"ellipsis":af.append('<span class="ellipsis">&#x2026;</span>');break;case"first":j=i.sFirst;l=ag+(a>0?"":" "+c.sPageButtonDisabled);break;case"previous":j=i.sPrevious;l=ag+(a>0?"":" "+c.sPageButtonDisabled);break;case"next":j=i.sNext;l=ag+(a<b-1?"":" "+c.sPageButtonDisabled);break;case"last":j=i.sLast;l=ag+(a<b-1?"":" "+c.sPageButtonDisabled);break;default:j=ag+1;l=a===ag?c.sPageButtonActive:""}if(j!==null){ah=a7("<a>",{"class":c.sPageButton+" "+l,"aria-controls":o.sTableId,"aria-label":d[ag],"data-dt-idx":n,tabindex:o.iTabIndex,id:L===0&&typeof ag==="string"?o.sTableId+"_"+ag:null}).html(j).appendTo(af);ca(ah,{action:ag},ad);n++}}}},f;try{f=a7(q).find(cF.activeElement).data("dt-idx")}catch(u){}P(a7(q).empty(),S);f&&a7(q).find("[data-dt-idx="+f+"]").focus()}}});a7.extend(ba.ext.type.detect,[function(b,c){var a=c.oLanguage.sDecimal;return dz(b,a)?"num"+a:null},function(a){if(a&&!(a instanceof Date)&&(!dd.test(a)||!cH.test(a))){return null}var b=Date.parse(a);return null!==b&&!isNaN(b)||cQ(a)?"date":null},function(b,c){var a=c.oLanguage.sDecimal;return dz(b,a,!0)?"num-fmt"+a:null},function(b,c){var a=c.oLanguage.sDecimal;return C(b,a)?"html-num"+a:null},function(b,c){var a=c.oLanguage.sDecimal;return C(b,a,!0)?"html-num-fmt"+a:null},function(a){return cQ(a)||"string"===typeof a&&-1!==a.indexOf("<")?"html":null}]);a7.extend(ba.ext.type.search,{html:function(a){return cQ(a)?a:"string"===typeof a?a.replace(cr," ").replace(cx,""):""},string:function(a){return cQ(a)?a:"string"===typeof a?a.replace(cr," "):a}});var dH=function(b,c,d,a){if(0!==b&&(!b||"-"===b)){return -Infinity}c&&(b=cY(b,c));b.replace&&(d&&(b=b.replace(d,"")),a&&(b=b.replace(a,"")));return 1*b};a7.extend(ce.type.order,{"date-pre":function(a){return Date.parse(a)||0},"html-pre":function(a){return cQ(a)?"":a.replace?a.replace(/<.*?>/g,"").toLowerCase():a+""},"string-pre":function(a){return cQ(a)?"":"string"===typeof a?a.toLowerCase():!a.toString?"":a.toString()},"string-asc":function(a,b){return a<b?-1:a>b?1:0},"string-desc":function(a,b){return a<b?1:a>b?-1:0}});s("");a7.extend(!0,ba.ext.renderer,{header:{_:function(b,c,d,a){a7(b.nTable).on("order.dt.DT",function(f,i,j,l){if(b===i){f=d.idx;c.removeClass(d.sSortingClass+" "+a.sSortAsc+" "+a.sSortDesc).addClass(l[f]=="asc"?a.sSortAsc:l[f]=="desc"?a.sSortDesc:d.sSortingClass)}})},jqueryui:function(b,c,d,a){a7("<div/>").addClass(a.sSortJUIWrapper).append(c.contents()).append(a7("<span/>").addClass(a.sSortIcon+" "+d.sSortingClassJUI)).appendTo(c);a7(b.nTable).on("order.dt.DT",function(f,i,j,l){if(b===i){f=d.idx;c.removeClass(a.sSortAsc+" "+a.sSortDesc).addClass(l[f]=="asc"?a.sSortAsc:l[f]=="desc"?a.sSortDesc:d.sSortingClass);c.find("span."+a.sSortIcon).removeClass(a.sSortJUIAsc+" "+a.sSortJUIDesc+" "+a.sSortJUI+" "+a.sSortJUIAscAllowed+" "+a.sSortJUIDescAllowed).addClass(l[f]=="asc"?a.sSortJUIAsc:l[f]=="desc"?a.sSortJUIDesc:d.sSortingClassJUI)}})}}});ba.render={number:function(b,c,d,f,a){return{display:function(i){if("number"!==typeof i&&"string"!==typeof i){return i}var j=0>i?"-":"",l=parseFloat(i);if(isNaN(l)){return i}i=Math.abs(l);l=parseInt(i,10);i=d?c+(i-l).toFixed(d).substring(2):"";return j+(f||"")+l.toString().replace(/\B(?=(\d{3})+(?!\d))/g,b)+i+(a||"")}}},text:function(){return{display:function(a){return"string"===typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):a}}}};a7.extend(ba.ext.internal,{_fnExternApiFunc:dE,_fnBuildAjax:dm,_fnAjaxUpdate:Z,_fnAjaxParameters:cD,_fnAjaxUpdateDraw:cT,_fnAjaxDataSrc:dB,_fnAddColumn:z,_fnColumnOptions:Y,_fnAdjustColumnSizing:c4,_fnVisibleToColumnIndex:R,_fnColumnIndexToVisible:cA,_fnVisbleColumns:a4,_fnGetColumns:U,_fnColumnTypes:dq,_fnApplyColumnDefs:cM,_fnHungarianMap:ab,_fnCamelToHungarian:cL,_fnLanguageCompat:M,_fnBrowserDetect:dG,_fnAddData:cS,_fnAddTr:I,_fnNodeToDataIndex:function(a,b){return b._DT_RowIndex!==a8?b._DT_RowIndex:null},_fnNodeToColumnIndex:function(b,c,a){return a7.inArray(a,b.aoData[c].anCells)},_fnGetCellData:cq,_fnSetCellData:c1,_fnSplitObjNotation:c9,_fnGetObjectDataFn:cW,_fnSetObjectDataFn:cZ,_fnGetDataMaster:dr,_fnClearTable:dk,_fnDeleteIndex:a0,_fnInvalidate:de,_fnGetRowElements:m,_fnCreateTr:a2,_fnBuildHead:H,_fnDrawHead:dF,_fnDraw:cU,_fnReDraw:c3,_fnAddOptionsHtml:dn,_fnDetectHeader:dv,_fnGetUniqueThs:c7,_fnFeatureHtmlFilter:k,_fnFilterComplete:ct,_fnFilterCustom:D,_fnFilterColumn:V,_fnFilter:ch,_fnFilterCreateSearch:cV,_fnEscapeRegex:cR,_fnFilterData:dg,_fnFeatureHtmlInfo:dC,_fnUpdateInfo:cz,_fnInfoMacros:cP,_fnInitialise:cK,_fnInitComplete:cl,_fnLengthChange:y,_fnFeatureHtmlLength:a1,_fnFeatureHtmlPaginate:cm,_fnPageChange:E,_fnFeatureHtmlProcessing:c8,_fnProcessingDisplay:cs,_fnFeatureHtmlTable:dp,_fnScrollDraw:ac,_fnApplyToChildren:cJ,_fnCalculateColumnWidths:N,_fnThrottle:cB,_fnConvertToWidth:Q,_fnGetWidestNode:A,_fnGetMaxLenString:O,_fnStringToCss:ci,_fnSortFlatten:c6,_fnSort:K,_fnSortAria:a3,_fnSortListener:cX,_fnSortAttachListener:co,_fnSortingClasses:T,_fnSortData:ds,_fnSaveState:B,_fnLoadState:p,_fnSettingsFromNode:df,_fnLog:cN,_fnMap:cy,_fnBindAction:ca,_fnCallbackReg:h,_fnCallbackFire:cg,_fnLengthOverflow:W,_fnRenderer:cG,_fnDataSource:ck,_fnRowAttributes:dD,_fnCalculateEnd:function(){}});a7.fn.dataTable=ba;ba.$=a7;a7.fn.dataTableSettings=ba.settings;a7.fn.dataTableExt=ba.ext;a7.fn.DataTable=function(a){return a7(this).dataTable(a).api()};a7.each(ba,function(a,b){a7.fn.DataTable[a]=b});return a7.fn.dataTable});
/*!
 SearchHighlight for DataTables v1.0.1
 2014 SpryMedia Ltd - datatables.net/license
*/
(function(j,i,b){function h(a,c){a.unhighlight();c.rows({filter:"applied"}).data().length&&a.highlight(b.trim(c.search()).split(/\s+/))}b(i).on("init.dt.dth",function(d,c){if("dt"===d.namespace){var a=new b.fn.dataTable.Api(c),f=b(a.table().body());if(b(a.table().node()).hasClass("searchHighlight")||c.oInit.searchHighlight||b.fn.dataTable.defaults.searchHighlight){a.on("draw.dt.dth column-visibility.dt.dth column-reorder.dt.dth",function(){h(f,a)}).on("destroy",function(){a.off("draw.dt.dth column-visibility.dt.dth column-reorder.dt.dth")}),a.search()&&h(f,a)}}})})(window,document,jQuery);jQuery.fn.dataTableExt.oApi.fnSetFilteringDelay=function(h,d){var f=this;if(d===undefined){d=250}this.each(function(i){$.fn.dataTableExt.iApiIndex=i;var b=this,l=null,a=null,c=$("input",f.fnSettings().aanFeatures.f);c.unbind("keyup search input").bind("keyup search input",function(){var j=b;if(a===null||a!=c.val()){window.clearTimeout(l);a=c.val();l=window.setTimeout(function(){$.fn.dataTableExt.iApiIndex=i;f.fnFilter(c.val())},d)}});return this});return this};jQuery.extend({highlight:function(t,i,n,o){if(t.nodeType===3){var q=t.data.match(i);if(q){var s=document.createElement(n||"span");s.className=o||"highlight";var m=t.splitText(q.index);m.splitText(q[0].length);var p=m.cloneNode(true);s.appendChild(p);m.parentNode.replaceChild(s,m);return 1}}else{if((t.nodeType===1&&t.childNodes)&&!/(script|style)/i.test(t.tagName)&&!(t.tagName===n.toUpperCase()&&t.className===o)){for(var r=0;r<t.childNodes.length;r++){r+=jQuery.highlight(t.childNodes[r],i,n,o)}}}return 0}});jQuery.fn.unhighlight=function(d){var c={className:"highlight",element:"span"};jQuery.extend(c,d);return this.find(c.element+"."+c.className).each(function(){var a=this.parentNode;a.replaceChild(this.firstChild,this);a.normalize()}).end()};jQuery.fn.highlight=function(k,i){var m={className:"highlight",element:"span",caseSensitive:false,wordsOnly:false};jQuery.extend(m,i);if(k.constructor===String){k=[k]}k=jQuery.grep(k,function(a,b){return a!=""});k=jQuery.map(k,function(a,b){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")});if(k.length==0){return this}var j=m.caseSensitive?"":"i";var l="("+k.join("|")+")";if(m.wordsOnly){l="\\b"+l+"\\b"}var n=new RegExp(l,j);return this.each(function(){jQuery.highlight(this,n,m.element,m.className)})};"use strict";!function(d,c){"object"==typeof exports&&"object"==typeof module?module.exports=c():"function"==typeof define&&define.amd?define(c):"object"==typeof exports?exports.vis=c():d.vis=c()}(this,function(){return function(d){function h(b){if(f[b]){return f[b].exports}var a=f[b]={exports:{},id:b,loaded:!1};return d[b].call(a.exports,a,a.exports,h),a.loaded=!0,a.exports}var f={};return h.m=d,h.c=f,h.p="",h(0)}([function(d,h,f){h.util=f(1),h.DOMutil=f(7),h.DataSet=f(8),h.DataView=f(10),h.Queue=f(9),h.Graph3d=f(11),h.graph3d={Camera:f(15),Filter:f(16),Point2d:f(12),Point3d:f(14),Slider:f(17),StepNumber:f(18)},h.Timeline=f(19),h.Graph2d=f(49),h.timeline={DateUtil:f(29),DataStep:f(52),Range:f(27),stack:f(33),TimeStep:f(36),components:{items:{Item:f(35),BackgroundItem:f(40),BoxItem:f(38),PointItem:f(39),RangeItem:f(34)},Component:f(21),CurrentTime:f(20),CustomTime:f(44),DataAxis:f(51),GraphGroup:f(53),Group:f(32),BackgroundGroup:f(37),ItemSet:f(31),Legend:f(57),LineGraph:f(50),TimeAxis:f(41)}},h.Network=f(59),h.network={Images:f(112),dotparser:f(110),gephiParser:f(111),allOptions:f(108)},h.network.convertDot=function(a){return h.network.dotparser.DOTToGraph(a)},h.network.convertGephi=function(a,b){return h.network.gephiParser.parseGephi(a,b)},h.Graph=function(){throw new Error("Graph is renamed to Network. Please create a graph as new vis.Network(...)")},h.moment=f(2),h.hammer=f(23),h.Hammer=f(23)},function(i,n,k){var m=k(2),l=k(6);n.isNumber=function(a){return a instanceof Number||"number"==typeof a},n.recursiveDOMDelete=function(a){if(a){for(;a.hasChildNodes()===!0;){n.recursiveDOMDelete(a.firstChild),a.removeChild(a.firstChild)}}},n.giveRange=function(b,a,c,f){if(a==b){return 0.5}var d=1/(a-b);return Math.max(0,(f-b)*d)},n.isString=function(a){return a instanceof String||"string"==typeof a},n.isDate=function(a){if(a instanceof Date){return !0}if(n.isString(a)){var b=p.exec(a);if(b){return !0}if(!isNaN(Date.parse(a))){return !0}}return !1},n.randomUUID=function(){return l.v4()},n.assignAllKeys=function(b,a){for(var c in b){b.hasOwnProperty(c)&&"object"!=typeof b[c]&&(b[c]=a)}},n.fillIfDefined=function(b,c){var a=void 0===arguments[2]?!1:arguments[2];for(var d in b){void 0!==c[d]&&("object"!=typeof c[d]?void 0!==c[d]&&null!==c[d]||void 0===b[d]||a!==!0?b[d]=c[d]:delete b[d]:"object"==typeof b[d]&&n.fillIfDefined(b[d],c[d],a))}},n.protoExtend=function(b,a){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f){b[d]=f[d]}}return b},n.extend=function(b,a){for(var c=1;c<arguments.length;c++){var f=arguments[c];for(var d in f){f.hasOwnProperty(d)&&(b[d]=f[d])}}return b},n.selectiveExtend=function(b,h,d){if(!Array.isArray(b)){throw new Error("Array with property names expected as first argument")}for(var f=2;f<arguments.length;f++){for(var c=arguments[f],a=0;a<b.length;a++){var j=b[a];c.hasOwnProperty(j)&&(h[j]=c[j])}}return h},n.selectiveDeepExtend=function(b,c,f){var a=void 0===arguments[3]?!1:arguments[3];if(Array.isArray(f)){throw new TypeError("Arrays are not supported by deepExtend")}for(var j=2;j<arguments.length;j++){for(var h=arguments[j],d=0;d<b.length;d++){var r=b[d];if(h.hasOwnProperty(r)){if(f[r]&&f[r].constructor===Object){void 0===c[r]&&(c[r]={}),c[r].constructor===Object?n.deepExtend(c[r],f[r],!1,a):null===f[r]&&void 0!==c[r]&&a===!0?delete c[r]:c[r]=f[r]}else{if(Array.isArray(f[r])){throw new TypeError("Arrays are not supported by deepExtend")}c[r]=f[r]}}}}return c},n.selectiveNotDeepExtend=function(b,c,f){var d=void 0===arguments[3]?!1:arguments[3];if(Array.isArray(f)){throw new TypeError("Arrays are not supported by deepExtend")}for(var a in f){if(f.hasOwnProperty(a)&&-1==b.indexOf(a)){if(f[a]&&f[a].constructor===Object){void 0===c[a]&&(c[a]={}),c[a].constructor===Object?n.deepExtend(c[a],f[a]):null===f[a]&&void 0!==c[a]&&d===!0?delete c[a]:c[a]=f[a]}else{if(Array.isArray(f[a])){throw new TypeError("Arrays are not supported by deepExtend")}c[a]=f[a]}}}return c},n.deepExtend=function(b,c,f,d){for(var a in c){if(c.hasOwnProperty(a)||f===!0){if(c[a]&&c[a].constructor===Object){void 0===b[a]&&(b[a]={}),b[a].constructor===Object?n.deepExtend(b[a],c[a],f):null===c[a]&&void 0!==b[a]&&d===!0?delete b[a]:b[a]=c[a]}else{if(Array.isArray(c[a])){b[a]=[];for(var h=0;h<c[a].length;h++){b[a].push(c[a][h])}}else{b[a]=c[a]}}}}return b},n.equalArray=function(b,a){if(b.length!=a.length){return !1}for(var c=0,d=b.length;d>c;c++){if(b[c]!=a[c]){return !1}}return !0},n.convert=function(b,c){var d;if(void 0===b){return void 0}if(null===b){return null}if(!c){return b}if("string"!=typeof c&&!(c instanceof String)){throw new Error("Type must be a string")}switch(c){case"boolean":case"Boolean":return Boolean(b);case"number":case"Number":return Number(b.valueOf());case"string":case"String":return String(b);case"Date":if(n.isNumber(b)){return new Date(b)}if(b instanceof Date){return new Date(b.valueOf())}if(m.isMoment(b)){return new Date(b.valueOf())}if(n.isString(b)){return d=p.exec(b),d?new Date(Number(d[1])):m(b).toDate()}throw new Error("Cannot convert object of type "+n.getType(b)+" to type Date");case"Moment":if(n.isNumber(b)){return m(b)}if(b instanceof Date){return m(b.valueOf())}if(m.isMoment(b)){return m(b)}if(n.isString(b)){return d=p.exec(b),m(d?Number(d[1]):b)}throw new Error("Cannot convert object of type "+n.getType(b)+" to type Date");case"ISODate":if(n.isNumber(b)){return new Date(b)}if(b instanceof Date){return b.toISOString()}if(m.isMoment(b)){return b.toDate().toISOString()}if(n.isString(b)){return d=p.exec(b),d?new Date(Number(d[1])).toISOString():new Date(b).toISOString()}throw new Error("Cannot convert object of type "+n.getType(b)+" to type ISODate");case"ASPDate":if(n.isNumber(b)){return"/Date("+b+")/"}if(b instanceof Date){return"/Date("+b.valueOf()+")/"}if(n.isString(b)){d=p.exec(b);var a;return a=d?new Date(Number(d[1])).valueOf():new Date(b).valueOf(),"/Date("+a+")/"}throw new Error("Cannot convert object of type "+n.getType(b)+" to type ASPDate");default:throw new Error('Unknown type "'+c+'"')}};var p=/^\/?Date\((\-?\d+)/i;n.getType=function(b){var a=typeof b;return"object"==a?null===b?"null":b instanceof Boolean?"Boolean":b instanceof Number?"Number":b instanceof String?"String":Array.isArray(b)?"Array":b instanceof Date?"Date":"Object":"number"==a?"Number":"boolean"==a?"Boolean":"string"==a?"String":void 0===a?"undefined":a},n.copyAndExtendArray=function(b,a){for(var c=[],d=0;d<b.length;d++){c.push(b[d])}return c.push(a),c},n.copyArray=function(b){for(var a=[],c=0;c<b.length;c++){a.push(b[c])}return a},n.getAbsoluteLeft=function(a){return a.getBoundingClientRect().left},n.getAbsoluteTop=function(a){return a.getBoundingClientRect().top},n.addClassName=function(b,a){var c=b.className.split(" ");-1==c.indexOf(a)&&(c.push(a),b.className=c.join(" "))},n.removeClassName=function(b,a){var c=b.className.split(" "),d=c.indexOf(a);-1!=d&&(c.splice(d,1),b.className=c.join(" "))},n.forEach=function(b,a){var c,d;if(Array.isArray(b)){for(c=0,d=b.length;d>c;c++){a(b[c],c,b)}}else{for(c in b){b.hasOwnProperty(c)&&a(b[c],c,b)}}},n.toArray=function(b){var a=[];for(var c in b){b.hasOwnProperty(c)&&a.push(b[c])}return a},n.updateProperty=function(b,a,c){return b[a]!==c?(b[a]=c,!0):!1},n.addEventListener=function(b,a,c,d){b.addEventListener?(void 0===d&&(d=!1),"mousewheel"===a&&navigator.userAgent.indexOf("Firefox")>=0&&(a="DOMMouseScroll"),b.addEventListener(a,c,d)):b.attachEvent("on"+a,c)},n.removeEventListener=function(b,a,c,d){b.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===a&&navigator.userAgent.indexOf("Firefox")>=0&&(a="DOMMouseScroll"),b.removeEventListener(a,c,d)):b.detachEvent("on"+a,c)},n.preventDefault=function(a){a||(a=window.event),a.preventDefault?a.preventDefault():a.returnValue=!1},n.getTarget=function(b){b||(b=window.event);var a;return b.target?a=b.target:b.srcElement&&(a=b.srcElement),void 0!=a.nodeType&&3==a.nodeType&&(a=a.parentNode),a},n.hasParent=function(b,a){for(var c=b;c;){if(c===a){return !0}c=c.parentNode}return !1},n.option={},n.option.asBoolean=function(b,a){return"function"==typeof b&&(b=b()),null!=b?0!=b:a||null},n.option.asNumber=function(b,a){return"function"==typeof b&&(b=b()),null!=b?Number(b)||a||null:a||null},n.option.asString=function(b,a){return"function"==typeof b&&(b=b()),null!=b?String(b):a||null},n.option.asSize=function(a,b){return"function"==typeof a&&(a=a()),n.isString(a)?a:n.isNumber(a)?a+"px":b||null},n.option.asElement=function(b,a){return"function"==typeof b&&(b=b()),b||a||null},n.hexToRGB=function(b){var a=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;b=b.replace(a,function(h,f,j,d){return f+f+j+j+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null},n.overrideOpacity=function(b,c){if(-1!=b.indexOf("rgba")){return b}if(-1!=b.indexOf("rgb")){var a=b.substr(b.indexOf("(")+1).replace(")","").split(",");return"rgba("+a[0]+","+a[1]+","+a[2]+","+c+")"}var a=n.hexToRGB(b);return null==a?b:"rgba("+a.r+","+a.g+","+a.b+","+c+")"},n.RGBToHex=function(b,a,c){return"#"+((1<<24)+(b<<16)+(a<<8)+c).toString(16).slice(1)},n.parseColor=function(b){var c;if(n.isString(b)===!0){if(n.isValidRGB(b)===!0){var f=b.substr(4).substr(0,b.length-5).split(",").map(function(q){return parseInt(q)});b=n.RGBToHex(f[0],f[1],f[2])}if(n.isValidHex(b)===!0){var a=n.hexToHSV(b),j={h:a.h,s:0.8*a.s,v:Math.min(1,1.02*a.v)},h={h:a.h,s:Math.min(1,1.25*a.s),v:0.8*a.v},d=n.HSVToHex(h.h,h.s,h.v),r=n.HSVToHex(j.h,j.s,j.v);c={background:b,border:d,highlight:{background:r,border:d},hover:{background:r,border:d}}}else{c={background:b,border:b,highlight:{background:b,border:b},hover:{background:b,border:b}}}}else{c={},c.background=b.background||void 0,c.border=b.border||void 0,n.isString(b.highlight)?c.highlight={border:b.highlight,background:b.highlight}:(c.highlight={},c.highlight.background=b.highlight&&b.highlight.background||void 0,c.highlight.border=b.highlight&&b.highlight.border||void 0),n.isString(b.hover)?c.hover={border:b.hover,background:b.hover}:(c.hover={},c.hover.background=b.hover&&b.hover.background||void 0,c.hover.border=b.hover&&b.hover.border||void 0)}return c},n.RGBToHSV=function(j,t,b){j/=255,t/=255,b/=255;var d=Math.min(j,Math.min(t,b)),c=Math.max(j,Math.max(t,b));if(d==c){return{h:0,s:0,v:d}}var h=j==d?t-b:b==d?j-t:b-j,f=j==d?3:b==d?1:5,r=60*(f-h/(c-d))/360,a=(c-d)/c,s=c;return{h:r,s:a,v:s}};var o={split:function(b){var a={};return b.split(";").forEach(function(c){if(""!=c.trim()){var d=c.split(":"),h=d[0].trim(),f=d[1].trim();a[h]=f}}),a},join:function(a){return Object.keys(a).map(function(b){return b+": "+a[b]}).join("; ")}};n.addCssText=function(b,c){var f=o.split(b.style.cssText),d=o.split(c),a=n.extend(f,d);b.style.cssText=o.join(a)},n.removeCssText=function(b,a){var c=o.split(b.style.cssText),f=o.split(a);for(var d in f){f.hasOwnProperty(d)&&delete c[d]}b.style.cssText=o.join(c)},n.HSVToRGB=function(d,s,C){var f,c,b,h=Math.floor(6*d),j=6*d-h,t=C*(1-s),r=C*(1-j*s),a=C*(1-(1-j)*s);switch(h%6){case 0:f=C,c=a,b=t;break;case 1:f=r,c=C,b=t;break;case 2:f=t,c=C,b=a;break;case 3:f=t,c=r,b=C;break;case 4:f=a,c=t,b=C;break;case 5:f=C,c=t,b=r}return{r:Math.floor(255*f),g:Math.floor(255*c),b:Math.floor(255*b)}},n.HSVToHex=function(b,c,a){var d=n.HSVToRGB(b,c,a);return n.RGBToHex(d.r,d.g,d.b)},n.hexToHSV=function(a){var b=n.hexToRGB(a);return n.RGBToHSV(b.r,b.g,b.b)},n.isValidHex=function(b){var a=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(b);return a},n.isValidRGB=function(b){b=b.replace(" ","");var a=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(b);return a},n.isValidRGBA=function(b){b=b.replace(" ","");var a=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(b);return a},n.selectiveBridgeObject=function(b,c){if("object"==typeof c){for(var a=Object.create(c),d=0;d<b.length;d++){c.hasOwnProperty(b[d])&&"object"==typeof c[b[d]]&&(a[b[d]]=n.bridgeObject(c[b[d]]))}return a}return null},n.bridgeObject=function(b){if("object"==typeof b){var c=Object.create(b);for(var a in b){b.hasOwnProperty(a)&&"object"==typeof b[a]&&(c[a]=n.bridgeObject(b[a]))}return c}return null},n.mergeOptions=function(b,a,c){void 0===arguments[3]?!1:arguments[3];if(null===a[c]){b[c]=void 0,delete b[c]}else{if(void 0!==a[c]){if("boolean"==typeof a[c]){b[c].enabled=a[c]}else{void 0===a[c].enabled&&(b[c].enabled=!0);for(var d in a[c]){a[c].hasOwnProperty(d)&&(b[c][d]=a[c][d])}}}}},n.binarySearchCustom=function(c,t,E,j){for(var f=10000,a=0,r=0,h=c.length-1;h>=r&&f>a;){var u=Math.floor((r+h)/2),s=c[u],b=void 0===j?s[E]:s[E][j],d=t(b);if(0==d){return u}-1==d?r=u+1:h=u-1,a++}return -1},n.binarySearchValue=function(c,t,E,j){for(var f,a,r,h,u=10000,s=0,b=0,d=c.length-1;d>=b&&u>s;){if(h=Math.floor(0.5*(d+b)),f=c[Math.max(0,h-1)][E],a=c[h][E],r=c[Math.min(c.length-1,h+1)][E],a==t){return h}if(t>f&&a>t){return"before"==j?Math.max(0,h-1):h}if(t>a&&r>t){return"before"==j?h:Math.min(c.length-1,h+1)}t>a?b=h+1:d=h-1,s++}return -1},n.easingFunctions={linear:function(a){return a},easeInQuad:function(a){return a*a},easeOutQuad:function(a){return a*(2-a)},easeInOutQuad:function(a){return 0.5>a?2*a*a:-1+(4-2*a)*a},easeInCubic:function(a){return a*a*a},easeOutCubic:function(a){return --a*a*a+1},easeInOutCubic:function(a){return 0.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},easeInQuart:function(a){return a*a*a*a},easeOutQuart:function(a){return 1- --a*a*a*a},easeInOutQuart:function(a){return 0.5>a?8*a*a*a*a:1-8*--a*a*a*a},easeInQuint:function(a){return a*a*a*a*a},easeOutQuint:function(a){return 1+ --a*a*a*a*a},easeInOutQuint:function(a){return 0.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}}},function(d,h,f){d.exports="undefined"!=typeof window&&window.moment||f(3)},function(d,h,f){(function(a){!function(b,c){a.exports=c()}(this,function(){function a6(){return ey.apply(null,arguments)}function dt(t){ey=t}function gN(t){return"[object Array]"===Object.prototype.toString.call(t)}function gH(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function fw(ab,aa){var ac,t=[];for(ac=0;ac<ab.length;++ac){t.push(aa(ab[ac],ac))}return t}function fu(aa,t){return Object.prototype.hasOwnProperty.call(aa,t)}function V(aa,t){for(var ab in t){fu(t,ab)&&(aa[ab]=t[ab])}return fu(t,"toString")&&(aa.toString=t.toString),fu(t,"valueOf")&&(aa.valueOf=t.valueOf),aa}function co(ab,aa,ac,t){return hr(ab,aa,ac,t,!0).utc()}function a0(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function gz(t){return null==t._pf&&(t._pf=a0()),t._pf}function fG(aa){if(null==aa._isValid){var t=gz(aa);aa._isValid=!isNaN(aa._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated,aa._strict&&(aa._isValid=aa._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return aa._isValid}function ai(aa){var t=co(NaN);return null!=aa?V(gz(t),aa):gz(t).userInvalidated=!0,t}function gQ(ac,ab){var ad,aa,t;if("undefined"!=typeof ab._isAMomentObject&&(ac._isAMomentObject=ab._isAMomentObject),"undefined"!=typeof ab._i&&(ac._i=ab._i),"undefined"!=typeof ab._f&&(ac._f=ab._f),"undefined"!=typeof ab._l&&(ac._l=ab._l),"undefined"!=typeof ab._strict&&(ac._strict=ab._strict),"undefined"!=typeof ab._tzm&&(ac._tzm=ab._tzm),"undefined"!=typeof ab._isUTC&&(ac._isUTC=ab._isUTC),"undefined"!=typeof ab._offset&&(ac._offset=ab._offset),"undefined"!=typeof ab._pf&&(ac._pf=gz(ab)),"undefined"!=typeof ab._locale&&(ac._locale=ab._locale),fA.length>0){for(ad in fA){aa=fA[ad],t=ab[aa],"undefined"!=typeof t&&(ac[aa]=t)}}return ac}function bo(t){gQ(this,t),this._d=new Date(+t._d),g0===!1&&(g0=!0,a6.updateOffset(this),g0=!1)}function gC(t){return t instanceof bo||null!=t&&null!=t._isAMomentObject}function fL(aa){var t=+aa,ab=0;return 0!==t&&isFinite(t)&&(ab=t>=0?Math.floor(t):Math.ceil(t)),ab}function ce(ad,aa,af){var t,ag=Math.min(ad.length,aa.length),ac=Math.abs(ad.length-aa.length),ab=0;for(t=0;ag>t;t++){(af&&ad[t]!==aa[t]||!af&&fL(ad[t])!==fL(aa[t]))&&ab++}return ab+ac}function fV(){}function ae(t){return t?t.toLowerCase().replace("_","-"):t}function fO(ad){for(var ab,af,aa,t,ac=0;ac<ad.length;){for(t=ae(ad[ac]).split("-"),ab=t.length,af=ae(ad[ac+1]),af=af?af.split("-"):null;ab>0;){if(aa=Q(t.slice(0,ab).join("-"))){return aa}if(af&&af.length>=ab&&ce(t,af,!0)>=ab-1){break}ab--}ac++}return null}function Q(aa){var ab=null;if(!v[aa]&&"undefined"!=typeof a&&a&&a.exports){try{ab=i._abbr,!function(){var ac=new Error('Cannot find module "./locale"');throw ac.code="MODULE_NOT_FOUND",ac}(),fR(ab)}catch(t){}}return v[aa]}function fR(aa,t){var ab;return aa&&(ab="undefined"==typeof t?el(aa):gu(aa,t),ab&&(i=ab)),i._abbr}function gu(aa,t){return null!==t?(t.abbr=aa,v[aa]||(v[aa]=new fV),v[aa].set(t),fR(aa),v[aa]):(delete v[aa],null)}function el(aa){var t;if(aa&&aa._locale&&aa._locale._abbr&&(aa=aa._locale._abbr),!aa){return i}if(!gN(aa)){if(t=Q(aa)){return t}aa=[aa]}return fO(aa)}function es(aa,t){var ab=aa.toLowerCase();gy[ab]=gy[ab+"s"]=gy[t]=aa}function H(t){return"string"==typeof t?gy[t]||gy[t.toLowerCase()]:void 0}function e9(ab){var aa,ac,t={};for(ac in ab){fu(ab,ac)&&(aa=H(ac),aa&&(t[aa]=ab[ac]))}return t}function F(t,aa){return function(ab){return null!=ab?(e7(this,t,ab),a6.updateOffset(this,aa),this):L(this,t)}}function L(aa,t){return aa._d["get"+(aa._isUTC?"UTC":"")+t]()}function e7(aa,t,ab){return aa._d["set"+(aa._isUTC?"UTC":"")+t](ab)}function eT(aa,t){var ab;if("object"==typeof aa){for(ab in aa){this.set(ab,aa[ab])}}else{if(aa=H(aa),"function"==typeof this[aa]){return this[aa](t)}}return this}function fM(ac,ab,ad){for(var aa=""+Math.abs(ac),t=ac>=0;aa.length<ab;){aa="0"+aa}return(t?ad?"+":"":"-")+aa}function em(ac,ab,ad,aa){var t=aa;"string"==typeof aa&&(t=function(){return this[aa]()}),ac&&(gM[ac]=t),ab&&(gM[ab[0]]=function(){return fM(t.apply(this,arguments),ab[1],ab[2])}),ad&&(gM[ad]=function(){return this.localeData().ordinal(t.apply(this,arguments),ac)})}function fZ(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function B(ab){var aa,ac,t=ab.match(ew);for(aa=0,ac=t.length;ac>aa;aa++){gM[t[aa]]?t[aa]=gM[t[aa]]:t[aa]=fZ(t[aa])}return function(ad){var af="";for(aa=0;ac>aa;aa++){af+=t[aa] instanceof Function?t[aa].call(ad,ab):t[aa]}return af}}function eh(aa,t){return aa.isValid()?(t=E(t,aa.localeData()),gn[t]||(gn[t]=B(t)),gn[t](aa)):aa.localeData().invalidDate()}function E(ab,aa){function ac(ad){return aa.longDateFormat(ad)||ad}var t=5;for(hg.lastIndex=0;t>=0&&hg.test(ab);){ab=ab.replace(hg,ac),hg.lastIndex=0,t-=1}return ab}function eY(aa,t,ab){fQ[aa]="function"==typeof t?t:function(ac){return ac&&ab?ab:t}}function fv(aa,t){return fu(fQ,aa)?fQ[aa](t._strict,t._locale):new RegExp(dz(aa))}function dz(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(ad,ac,af,ab,aa){return ac||af||ab||aa}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function fF(ab,aa){var ac,t=aa;for("string"==typeof ab&&(ab=[ab]),"number"==typeof aa&&(t=function(ad,af){af[aa]=fL(ad)}),ac=0;ac<ab.length;ac++){fh[ab[ac]]=t}}function fm(aa,t){fF(aa,function(ad,af,ac,ab){ac._w=ac._w||{},t(ad,ac._w,ac,ab)})}function fi(aa,t,ab){null!=t&&fu(fh,aa)&&fh[aa](t,ab._a,ab,aa)}function fD(aa,t){return new Date(Date.UTC(aa,t+1,0)).getUTCDate()}function fb(t){return this._months[t.month()]}function ff(t){return this._monthsShort[t.month()]}function fs(ad,ab,af){var aa,t,ac;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),aa=0;12>aa;aa++){if(t=co([2000,aa]),af&&!this._longMonthsParse[aa]&&(this._longMonthsParse[aa]=new RegExp("^"+this.months(t,"").replace(".","")+"$","i"),this._shortMonthsParse[aa]=new RegExp("^"+this.monthsShort(t,"").replace(".","")+"$","i")),af||this._monthsParse[aa]||(ac="^"+this.months(t,"")+"|^"+this.monthsShort(t,""),this._monthsParse[aa]=new RegExp(ac.replace(".",""),"i")),af&&"MMMM"===ab&&this._longMonthsParse[aa].test(ad)){return aa}if(af&&"MMM"===ab&&this._shortMonthsParse[aa].test(ad)){return aa}if(!af&&this._monthsParse[aa].test(ad)){return aa}}}function fk(aa,t){var ab;return"string"==typeof t&&(t=aa.localeData().monthsParse(t),"number"!=typeof t)?aa:(ab=Math.min(aa.date(),fD(aa.year(),t)),aa._d["set"+(aa._isUTC?"UTC":"")+"Month"](t,ab),aa)}function fp(t){return null!=t?(fk(this,t),a6.updateOffset(this,!0),this):L(this,"Month")}function ef(){return fD(this.year(),this.month())}function fT(aa){var t,ab=aa._a;return ab&&-2===gz(aa).overflow&&(t=ab[du]<0||ab[du]>11?du:ab[fU]<1||ab[fU]>fD(ab[hm],ab[du])?fU:ab[g3]<0||ab[g3]>24||24===ab[g3]&&(0!==ab[hx]||0!==ab[s]||0!==ab[gd])?g3:ab[hx]<0||ab[hx]>59?hx:ab[s]<0||ab[s]>59?s:ab[gd]<0||ab[gd]>999?gd:-1,gz(aa)._overflowDayOfYear&&(hm>t||t>fU)&&(t=fU),gz(aa).overflow=t),aa}function eX(t){a6.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function bt(ab,aa){var ac=!0,t=ab+"\n"+(new Error).stack;return V(function(){return ac&&(eX(t),ac=!1),aa.apply(this,arguments)},aa)}function f1(aa,t){fC[aa]||(eX(t),fC[aa]=!0)}function fl(ac){var ab,ad,aa=ac._i,t=gc.exec(aa);if(t){for(gz(ac).iso=!0,ab=0,ad=gB.length;ad>ab;ab++){if(gB[ab][1].exec(aa)){ac._f=gB[ab][0]+(t[6]||" ");break}}for(ab=0,ad=dn.length;ad>ab;ab++){if(dn[ab][1].exec(aa)){ac._f+=dn[ab][0];break}}aa.match(be)&&(ac._f+="Z"),gA(ac)}else{ac._isValid=!1}}function hq(t){var aa=hC.exec(t._i);return null!==aa?void (t._d=new Date(+aa[1])):(fl(t),void (t._isValid===!1&&(delete t._isValid,a6.createFromInputFallback(t))))}function gE(ac,t,ad,ah,ag,ab,aa){var af=new Date(ac,t,ad,ah,ag,ab,aa);return 1970>ac&&af.setFullYear(ac),af}function er(aa){var t=new Date(Date.UTC.apply(null,arguments));return 1970>aa&&t.setUTCFullYear(aa),t}function ha(t){return gq(t)?366:365}function gq(t){return t%4===0&&t%100!==0||t%400===0}function x(){return gq(this.year())}function gi(ad,ab,af){var aa,t=af-ab,ac=af-ad.day();return ac>t&&(ac-=7),t-7>ac&&(ac+=7),aa=de(ad).add(ac,"d"),{week:Math.ceil(aa.dayOfYear()/7),year:aa.year()}}function ee(t){return gi(t,this._week.dow,this._week.doy).week}function Z(){return this._week.dow}function o(){return this._week.doy}function fS(aa){var t=this.localeData().week(this);return null==aa?t:this.add(7*(aa-t),"d")}function gh(aa){var t=gi(this,1,4).week;return null==aa?t:this.add(7*(aa-t),"d")}function gJ(ac,t,ad,ah,ag){var ab,aa,af=er(ac,0,1).getUTCDay();return af=0===af?7:af,ad=null!=ad?ad:ag,ab=ag-af+(af>ah?7:0)-(ag>af?7:0),aa=7*(t-1)+(ad-ag)+ab+1,{year:aa>0?ac:ac-1,dayOfYear:aa>0?aa:ha(ac-1)+aa}}function dy(aa){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return null==aa?t:this.add(aa-t,"d")}function hG(aa,t,ab){return null!=aa?aa:null!=t?t:ab}function ft(aa){var t=new Date;return aa._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function ci(ad){var ab,af,aa,t,ac=[];if(!ad._d){for(aa=ft(ad),ad._w&&null==ad._a[fU]&&null==ad._a[du]&&fo(ad),ad._dayOfYear&&(t=hG(ad._a[hm],aa[hm]),ad._dayOfYear>ha(t)&&(gz(ad)._overflowDayOfYear=!0),af=er(t,0,ad._dayOfYear),ad._a[du]=af.getUTCMonth(),ad._a[fU]=af.getUTCDate()),ab=0;3>ab&&null==ad._a[ab];++ab){ad._a[ab]=ac[ab]=aa[ab]}for(;7>ab;ab++){ad._a[ab]=ac[ab]=null==ad._a[ab]?2===ab?1:0:ad._a[ab]}24===ad._a[g3]&&0===ad._a[hx]&&0===ad._a[s]&&0===ad._a[gd]&&(ad._nextDay=!0,ad._a[g3]=0),ad._d=(ad._useUTC?er:gE).apply(null,ac),null!=ad._tzm&&ad._d.setUTCMinutes(ad._d.getUTCMinutes()-ad._tzm),ad._nextDay&&(ad._a[g3]=24)}}function fo(ac){var t,ad,ah,ag,ab,aa,af;t=ac._w,null!=t.GG||null!=t.W||null!=t.E?(ab=1,aa=4,ad=hG(t.GG,ac._a[hm],gi(de(),1,4).year),ah=hG(t.W,1),ag=hG(t.E,1)):(ab=ac._locale._week.dow,aa=ac._locale._week.doy,ad=hG(t.gg,ac._a[hm],gi(de(),ab,aa).year),ah=hG(t.w,1),null!=t.d?(ag=t.d,ab>ag&&++ah):ag=null!=t.e?t.e+ab:ab),af=gJ(ad,ah,ag,aa,ab),ac._a[hm]=af.year,ac._dayOfYear=af.dayOfYear}function gA(aj){if(aj._f===a6.ISO_8601){return void fl(aj)}aj._a=[],gz(aj).empty=!0;var ac,af,ad,ah,ag,t=""+aj._i,ab=t.length,aa=0;for(ad=E(aj._f,aj._locale).match(ew)||[],ac=0;ac<ad.length;ac++){ah=ad[ac],af=(t.match(fv(ah,aj))||[])[0],af&&(ag=t.substr(0,t.indexOf(af)),ag.length>0&&gz(aj).unusedInput.push(ag),t=t.slice(t.indexOf(af)+af.length),aa+=af.length),gM[ah]?(af?gz(aj).empty=!1:gz(aj).unusedTokens.push(ah),fi(ah,af,aj)):aj._strict&&!af&&gz(aj).unusedTokens.push(ah)}gz(aj).charsLeftOver=ab-aa,t.length>0&&gz(aj).unusedInput.push(t),gz(aj).bigHour===!0&&aj._a[g3]<=12&&aj._a[g3]>0&&(gz(aj).bigHour=void 0),aj._a[g3]=he(aj._locale,aj._a[g3],aj._meridiem),ci(aj),fT(aj)}function he(ab,aa,ac){var t;return null==ac?aa:null!=ab.meridiemHour?ab.meridiemHour(aa,ac):null!=ab.isPM?(t=ab.isPM(ac),t&&12>aa&&(aa+=12),t||12!==aa||(aa=0),aa):aa}function eU(ad){var ab,af,aa,t,ac;if(0===ad._f.length){return gz(ad).invalidFormat=!0,void (ad._d=new Date(NaN))}for(t=0;t<ad._f.length;t++){ac=0,ab=gQ({},ad),null!=ad._useUTC&&(ab._useUTC=ad._useUTC),ab._f=ad._f[t],gA(ab),fG(ab)&&(ac+=gz(ab).charsLeftOver,ac+=10*gz(ab).unusedTokens.length,gz(ab).score=ac,(null==aa||aa>ac)&&(aa=ac,af=ab))}V(ad,af||ab)}function gY(aa){if(!aa._d){var t=e9(aa._i);aa._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],ci(aa)}}function gx(ab){var t,ac=ab._i,aa=ab._f;return ab._locale=ab._locale||el(ab._l),null===ac||void 0===aa&&""===ac?ai({nullInput:!0}):("string"==typeof ac&&(ab._i=ac=ab._locale.preparse(ac)),gC(ac)?new bo(fT(ac)):(gN(aa)?eU(ab):aa?gA(ab):gH(ac)?ab._d=ac:f7(ab),t=new bo(fT(ab)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function f7(t){var aa=t._i;void 0===aa?t._d=new Date:gH(aa)?t._d=new Date(+aa):"string"==typeof aa?hq(t):gN(aa)?(t._a=fw(aa.slice(0),function(ab){return parseInt(ab,10)}),ci(t)):"object"==typeof aa?gY(t):"number"==typeof aa?t._d=new Date(aa):a6.createFromInputFallback(t)}function hr(ad,ab,af,aa,t){var ac={};return"boolean"==typeof af&&(aa=af,af=void 0),ac._isAMomentObject=!0,ac._useUTC=ac._isUTC=t,ac._l=af,ac._i=ad,ac._f=ab,ac._strict=aa,gx(ac)}function de(ab,aa,ac,t){return hr(ab,aa,ac,t,!1)}function gk(ab,aa){var ac,t;if(1===aa.length&&gN(aa[0])&&(aa=aa[0]),!aa.length){return de()}for(ac=aa[0],t=1;t<aa.length;++t){aa[t][ab](ac)&&(ac=aa[t])}return ac}function hN(){var t=[].slice.call(arguments,0);return gk("isBefore",t)}function R(){var t=[].slice.call(arguments,0);return gk("isAfter",t)}function hi(ah){var al=e9(ah),aa=al.year||0,ad=al.quarter||0,ac=al.month||0,ag=al.week||0,af=al.day||0,aj=al.hour||0,t=al.minute||0,ak=al.second||0,ab=al.millisecond||0;this._milliseconds=+ab+1000*ak+60000*t+3600000*aj,this._days=+af+7*ag,this._months=+ac+3*ad+12*aa,this._data={},this._locale=el(),this._bubble()}function eV(t){return t instanceof hi}function hf(aa,t){em(aa,0,0,function(){var ab=this.utcOffset(),ac="+";return 0>ab&&(ab=-ab,ac="-"),ac+fM(~~(ab/60),2)+t+fM(~~ab%60,2)})}function G(ac){var ab=(ac||"").match(be)||[],ad=ab[ab.length-1]||[],aa=(ad+"").match(g8)||["-",0,0],t=+(60*aa[1])+fL(aa[2]);return"+"===aa[0]?t:-t}function gO(ab,ac){var t,aa;return ac._isUTC?(t=ac.clone(),aa=(gC(ab)||gH(ab)?+ab:+de(ab))-+t,t._d.setTime(+t._d+aa),a6.updateOffset(t,!1),t):de(ab).local()}function fd(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function fy(ab,ac){var aa,t=this._offset||0;return null!=ab?("string"==typeof ab&&(ab=G(ab)),Math.abs(ab)<16&&(ab=60*ab),!this._isUTC&&ac&&(aa=fd(this)),this._offset=ab,this._isUTC=!0,null!=aa&&this.add(aa,"m"),t!==ab&&(!ac||this._changeInProgress?e6(this,et(ab-t,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a6.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?t:fd(this)}function gK(aa,t){return null!=aa?("string"!=typeof aa&&(aa=-aa),this.utcOffset(aa,t),this):-this.utcOffset()}function g4(t){return this.utcOffset(0,t)}function hM(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(fd(this),"m")),this}function p(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(G(this._i)),this}function hs(t){return t=t?de(t).utcOffset():0,(this.utcOffset()-t)%60===0}function f9(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function an(){if(this._a){var t=this._isUTC?co(this._a):de(this._a);return this.isValid()&&ce(this._a,t.toArray())>0}return !1}function M(){return !this._isUTC}function a5(){return this._isUTC}function e8(){return this._isUTC&&0===this._offset}function et(ac,aa){var ad,t,ag,ab=ac,af=null;return eV(ac)?ab={ms:ac._milliseconds,d:ac._days,M:ac._months}:"number"==typeof ac?(ab={},aa?ab[aa]=ac:ab.milliseconds=ac):(af=ep.exec(ac))?(ad="-"===af[1]?-1:1,ab={y:0,d:fL(af[fU])*ad,h:fL(af[g3])*ad,m:fL(af[hx])*ad,s:fL(af[s])*ad,ms:fL(af[gd])*ad}):(af=gT.exec(ac))?(ad="-"===af[1]?-1:1,ab={y:gZ(af[2],ad),M:gZ(af[3],ad),d:gZ(af[4],ad),h:gZ(af[5],ad),m:gZ(af[6],ad),s:gZ(af[7],ad),w:gZ(af[8],ad)}):null==ab?ab={}:"object"==typeof ab&&("from" in ab||"to" in ab)&&(ag=gP(de(ab.from),de(ab.to)),ab={},ab.ms=ag.milliseconds,ab.M=ag.months),t=new hi(ab),eV(ac)&&fu(ac,"_locale")&&(t._locale=ac._locale),t}function gZ(aa,t){var ab=aa&&parseFloat(aa.replace(",","."));return(isNaN(ab)?0:ab)*t}function gm(aa,t){var ab={milliseconds:0,months:0};return ab.months=t.month()-aa.month()+12*(t.year()-aa.year()),aa.clone().add(ab.months,"M").isAfter(t)&&--ab.months,ab.milliseconds=+t-+aa.clone().add(ab.months,"M"),ab}function gP(aa,t){var ab;return t=gO(t,aa),aa.isBefore(t)?ab=gm(aa,t):(ab=gm(t,aa),ab.milliseconds=-ab.milliseconds,ab.months=-ab.months),ab}function hI(aa,t){return function(af,ac){var ab,ad;return null===ac||isNaN(+ac)||(f1(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),ad=af,af=ac,ac=ad),af="string"==typeof af?+af:af,ab=et(af,ac),e6(this,ab,aa),this}}function e6(ac,ad,t,ag){var ab=ad._milliseconds,aa=ad._days,af=ad._months;ag=null==ag?!0:ag,ab&&ac._d.setTime(+ac._d+ab*t),aa&&e7(ac,"Date",L(ac,"Date")+aa*t),af&&fk(ac,L(ac,"Month")+af*t),ag&&a6.updateOffset(ac,aa||af)}function fB(ac){var ab=ac||de(),ad=gO(ab,this).startOf("day"),aa=this.diff(ad,"days",!0),t=-6>aa?"sameElse":-1>aa?"lastWeek":0>aa?"lastDay":1>aa?"sameDay":2>aa?"nextDay":7>aa?"nextWeek":"sameElse";return this.format(this.localeData().calendar(t,this,de(ab)))}function eZ(){return new bo(this)}function l(aa,t){var ab;return t=H("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(aa=gC(aa)?aa:de(aa),+this>+aa):(ab=gC(aa)?+aa:+de(aa),ab<+this.clone().startOf(t))}function P(aa,t){var ab;return t=H("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(aa=gC(aa)?aa:de(aa),+aa>+this):(ab=gC(aa)?+aa:+de(aa),+this.clone().endOf(t)<ab)}function A(aa,t,ab){return this.isAfter(aa,ab)&&this.isBefore(t,ab)}function gR(aa,t){var ab;return t=H(t||"millisecond"),"millisecond"===t?(aa=gC(aa)?aa:de(aa),+this===+aa):(ab=+de(aa),+this.clone().startOf(t)<=ab&&ab<=+this.clone().endOf(t))}function hk(t){return 0>t?Math.ceil(t):Math.floor(t)}function dv(ad,aa,af){var t,ag,ac=gO(ad,this),ab=60000*(ac.utcOffset()-this.utcOffset());return aa=H(aa),"year"===aa||"month"===aa||"quarter"===aa?(ag=fW(this,ac),"quarter"===aa?ag/=3:"year"===aa&&(ag/=12)):(t=this-ac,ag="second"===aa?t/1000:"minute"===aa?t/60000:"hour"===aa?t/3600000:"day"===aa?(t-ab)/86400000:"week"===aa?(t-ab)/604800000:t),af?ag:hk(ag)}function fW(ad,ab){var af,aa,t=12*(ab.year()-ad.year())+(ab.month()-ad.month()),ac=ad.clone().add(t,"months");return 0>ab-ac?(af=ad.clone().add(t-1,"months"),aa=(ab-ac)/(ac-af)):(af=ad.clone().add(t+1,"months"),aa=(ab-ac)/(af-ac)),-(t+aa)}function ge(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eu(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():eh(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):eh(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function hR(t){var aa=eh(this,t||a6.defaultFormat);return this.localeData().postformat(aa)}function dx(aa,t){return this.isValid()?et({to:this,from:aa}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function f2(t){return this.from(de(),t)}function hA(aa,t){return this.isValid()?et({from:this,to:aa}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function a7(t){return this.to(de(),t)}function hu(aa){var t;return void 0===aa?this._locale._abbr:(t=el(aa),null!=t&&(this._locale=t),this)}function g5(){return this._locale}function at(t){switch(t=H(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ed(t){return t=H(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function hO(){return +this._d-60000*(this._offset||0)}function gU(){return Math.floor(+this/1000)}function g6(){return this._offset?new Date(+this):this._d}function gr(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function ho(){return fG(this)}function fE(){return V({},gz(this))}function n(){return gz(this).overflow}function a1(aa,t){em(0,[aa,aa.length],0,t)}function f0(aa,t,ab){return gi(de([aa,11,31+t-ab]),t,ab).week}function hF(aa){var t=gi(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==aa?t:this.add(aa-t,"y")}function hb(aa){var t=gi(this,1,4).year;return null==aa?t:this.add(aa-t,"y")}function b(){return f0(this.year(),1,4)}function D(){var t=this.localeData()._week;return f0(this.year(),t.dow,t.doy)}function gV(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function q(aa,t){if("string"==typeof aa){if(isNaN(aa)){if(aa=t.weekdaysParse(aa),"number"!=typeof aa){return null}}else{aa=parseInt(aa,10)}}return aa}function gp(t){return this._weekdays[t.day()]}function eo(t){return this._weekdaysShort[t.day()]}function g9(t){return this._weekdaysMin[t.day()]}function hP(ab){var aa,ac,t;for(this._weekdaysParse||(this._weekdaysParse=[]),aa=0;7>aa;aa++){if(this._weekdaysParse[aa]||(ac=de([2000,1]).day(aa),t="^"+this.weekdays(ac,"")+"|^"+this.weekdaysShort(ac,"")+"|^"+this.weekdaysMin(ac,""),this._weekdaysParse[aa]=new RegExp(t.replace(".",""),"i")),this._weekdaysParse[aa].test(ab)){return aa}}}function gw(aa){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=aa?(aa=q(aa,this.localeData()),this.add(aa-t,"d")):t}function hD(aa){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==aa?t:this.add(aa-t,"d")}function bi(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function fj(aa,t){em(aa,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function fJ(aa,t){return t._meridiemParse}function ez(t){return"p"===(t+"").toLowerCase().charAt(0)}function u(aa,t,ab){return aa>11?ab?"pm":"PM":ab?"am":"AM"}function fg(t){em(0,[t,3],0,"millisecond")}function ej(){return this._isUTC?"UTC":""}function ec(){return this._isUTC?"Coordinated Universal Time":""}function gD(t){return de(1000*t)}function f5(){return de.apply(null,arguments).parseZone()}function X(ab,aa,ac){var t=this._calendar[ab];return"function"==typeof t?t.call(aa,ac):t}function hw(aa){var t=this._longDateFormat[aa];return !t&&this._longDateFormat[aa.toUpperCase()]&&(t=this._longDateFormat[aa.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(ab){return ab.slice(1)}),this._longDateFormat[aa]=t),t}function I(){return this._invalidDate}function fI(t){return this._ordinal.replace("%d",t)}function fa(t){return t}function hh(ac,ab,ad,aa){var t=this._relativeTime[ad];return"function"==typeof t?t(ac,ab,ad,aa):t.replace(/%d/i,ac)}function ao(aa,t){var ab=this._relativeTime[aa>0?"future":"past"];return"function"==typeof ab?ab(t):ab.replace(/%s/i,t)}function K(aa){var t,ab;for(ab in aa){t=aa[ab],"function"==typeof t?this[ab]=t:this["_"+ab]=t}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function gX(ad,ab,af,aa){var t=el(),ac=co().set(aa,ab);return t[af](ac,ad)}function hp(ad,aa,af,t,ag){if("number"==typeof ad&&(aa=ad,ad=void 0),ad=ad||"",null!=aa){return gX(ad,aa,af,ag)}var ac,ab=[];for(ac=0;t>ac;ac++){ab[ac]=gX(ad,ac,af,ag)}return ab}function ea(aa,t){return hp(aa,t,"months",12,"month")}function f4(aa,t){return hp(aa,t,"monthsShort",12,"month")}function gj(aa,t){return hp(aa,t,"weekdays",7,"day")}function O(aa,t){return hp(aa,t,"weekdaysShort",7,"day")}function c(aa,t){return hp(aa,t,"weekdaysMin",7,"day")}function gI(){var t=this._data;return this._milliseconds=C(this._milliseconds),this._days=C(this._days),this._months=C(this._months),t.milliseconds=C(t.milliseconds),t.seconds=C(t.seconds),t.minutes=C(t.minutes),t.hours=C(t.hours),t.months=C(t.months),t.years=C(t.years),this}function f6(ac,ab,ad,aa){var t=et(ab,ad);return ac._milliseconds+=aa*t._milliseconds,ac._days+=aa*t._days,ac._months+=aa*t._months,ac._bubble()}function gt(aa,t){return f6(this,aa,t,1)}function cn(aa,t){return f6(this,aa,t,-1)}function hy(){var ac,t,ad,ah=this._milliseconds,ag=this._days,ab=this._months,aa=this._data,af=0;return aa.milliseconds=ah%1000,ac=hk(ah/1000),aa.seconds=ac%60,t=hk(ac/60),aa.minutes=t%60,ad=hk(t/60),aa.hours=ad%24,ag+=hk(ad/24),af=hk(hd(ag)),ag-=hk(a2(af)),ab+=hk(ag/30),ag%=30,af+=hk(ab/12),ab%=12,aa.days=ag,aa.months=ab,aa.years=af,this}function hd(t){return 400*t/146097}function a2(t){return 146097*t/400}function ex(ab){var aa,ac,t=this._milliseconds;if(ab=H(ab),"month"===ab||"year"===ab){return aa=this._days+t/86400000,ac=this._months+12*hd(aa),"month"===ab?ac:ac/12}switch(aa=this._days+Math.round(a2(this._months/12)),ab){case"week":return aa/7+t/604800000;case"day":return aa+t/86400000;case"hour":return 24*aa+t/3600000;case"minute":return 1440*aa+t/60000;case"second":return 86400*aa+t/1000;case"millisecond":return Math.floor(86400000*aa)+t;default:throw new Error("Unknown unit "+ab)}}function hQ(){return this._milliseconds+86400000*this._days+this._months%12*2592000000+31536000000*fL(this._months/12)}function g2(t){return function(){return this.as(t)}}function hc(t){return t=H(t),this[t+"s"]()}function gG(t){return function(){return this._data[t]}}function ht(){return hk(this.days()/7)}function fK(ac,ab,ad,aa,t){return t.relativeTime(ab||1,!!ad,ac,aa)}function hj(ah,al,aa){var ad=et(ah).abs(),ac=ga(ad.as("s")),ag=ga(ad.as("m")),af=ga(ad.as("h")),aj=ga(ad.as("d")),t=ga(ad.as("M")),ak=ga(ad.as("y")),ab=ac<eb.s&&["s",ac]||1===ag&&["m"]||ag<eb.m&&["mm",ag]||1===af&&["h"]||af<eb.h&&["hh",af]||1===aj&&["d"]||aj<eb.d&&["dd",aj]||1===t&&["M"]||t<eb.M&&["MM",t]||1===ak&&["y"]||["yy",ak];return ab[2]=al,ab[3]=+ah>0,ab[4]=aa,fK.apply(null,ab)}function a3(aa,t){return void 0===eb[aa]?!1:void 0===t?eb[aa]:(eb[aa]=t,!0)}function f8(aa){var t=this.localeData(),ab=hj(this,!aa,t);return aa&&(ab=t.pastFuture(+this,ab)),t.postformat(ab)}function hJ(){var ad=U(this.years()),aa=U(this.months()),af=U(this.days()),t=U(this.hours()),ag=U(this.minutes()),ac=U(this.seconds()+this.milliseconds()/1000),ab=this.asSeconds();return ab?(0>ab?"-":"")+"P"+(ad?ad+"Y":"")+(aa?aa+"M":"")+(af?af+"D":"")+(t||ag||ac?"T":"")+(t?t+"H":"")+(ag?ag+"M":"")+(ac?ac+"S":""):"P0D"}var ey,i,fA=a6.momentProperties=[],g0=!1,v={},gy={},ew=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,hg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,gn={},gM={},hH=/\d/,di=/\d\d/,fn=/\d{3}/,fY=/\d{4}/,T=/[+-]?\d{6}/,y=/\d\d?/,N=/\d{1,3}/,eq=/\d{1,4}/,eg=/[+-]?\d{1,6}/,gL=/\d+/,gb=/[+-]?\d+/,be=/Z|[+-]\d\d:?\d\d/gi,hz=/[+-]?\d+(\.\d{1,3})?/,fH=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,fQ={},fh={},hm=0,du=1,fU=2,g3=3,hx=4,s=5,gd=6;em("M",["MM",2],"Mo",function(){return this.month()+1}),em("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),em("MMMM",0,0,function(t){return this.localeData().months(this,t)}),es("month","M"),eY("M",y),eY("MM",y,di),eY("MMM",fH),eY("MMMM",fH),fF(["M","MM"],function(aa,t){t[du]=fL(aa)-1}),fF(["MMM","MMMM"],function(ac,ab,ad,aa){var t=ad._locale.monthsParse(ac,aa,ad._strict);null!=t?ab[du]=t:gz(ad).invalidMonth=ac});var W="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),k="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fC={};a6.suppressDeprecationWarnings=!1;var gc=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gB=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],dn=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hC=/^\/?Date\((\-?\d+)/i;a6.createFromInputFallback=bt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),em(0,["YY",2],0,function(){return this.year()%100}),em(0,["YYYY",4],0,"year"),em(0,["YYYYY",5],0,"year"),em(0,["YYYYYY",6,!0],0,"year"),es("year","y"),eY("Y",gb),eY("YY",y,di),eY("YYYY",eq,fY),eY("YYYYY",eg,T),eY("YYYYYY",eg,T),fF(["YYYY","YYYYY","YYYYYY"],hm),fF("YY",function(t,aa){aa[hm]=a6.parseTwoDigitYear(t)}),a6.parseTwoDigitYear=function(t){return fL(t)+(fL(t)>68?1900:2000)};var fq=F("FullYear",!1);em("w",["ww",2],"wo","week"),em("W",["WW",2],"Wo","isoWeek"),es("week","w"),es("isoWeek","W"),eY("w",y),eY("ww",y,di),eY("W",y),eY("WW",y,di),fm(["w","ww","W","WW"],function(ab,aa,ac,t){aa[t.substr(0,1)]=fL(ab)});var a4={dow:0,doy:6};em("DDD",["DDDD",3],"DDDo","dayOfYear"),es("dayOfYear","DDD"),eY("DDD",N),eY("DDDD",fn),fF(["DDD","DDDD"],function(aa,t,ab){ab._dayOfYear=fL(aa)}),a6.ISO_8601=function(){};var fc=bt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=de.apply(null,arguments);return this>t?this:t}),go=bt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=de.apply(null,arguments);return t>this?this:t});hf("Z",":"),hf("ZZ",""),eY("Z",be),eY("ZZ",be),fF(["Z","ZZ"],function(aa,t,ab){ab._useUTC=!0,ab._tzm=G(aa)});var g8=/([\+\-]|\d\d)/gi;a6.updateOffset=function(){};var ep=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,gT=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;et.fn=hi.prototype;var hB=hI(1,"add"),fX=hI(-1,"subtract");a6.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var hn=bt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});em(0,["gg",2],0,function(){return this.weekYear()%100}),em(0,["GG",2],0,function(){return this.isoWeekYear()%100}),a1("gggg","weekYear"),a1("ggggg","weekYear"),a1("GGGG","isoWeekYear"),a1("GGGGG","isoWeekYear"),es("weekYear","gg"),es("isoWeekYear","GG"),eY("G",gb),eY("g",gb),eY("GG",y,di),eY("gg",y,di),eY("GGGG",eq,fY),eY("gggg",eq,fY),eY("GGGGG",eg,T),eY("ggggg",eg,T),fm(["gggg","ggggg","GGGG","GGGGG"],function(ab,aa,ac,t){aa[t.substr(0,2)]=fL(ab)}),fm(["gg","GG"],function(ab,ac,aa,t){ac[t]=a6.parseTwoDigitYear(ab)}),em("Q",0,0,"quarter"),es("quarter","Q"),eY("Q",hH),fF("Q",function(aa,t){t[du]=3*(fL(aa)-1)}),em("D",["DD",2],"Do","date"),es("date","D"),eY("D",y),eY("DD",y,di),eY("Do",function(aa,t){return aa?t._ordinalParse:t._ordinalParseLenient}),fF(["D","DD"],fU),fF("Do",function(aa,t){t[fU]=fL(aa.match(y)[0],10)});var a8=F("Date",!0);em("d",0,"do","day"),em("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),em("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),em("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),em("e",0,0,"weekday"),em("E",0,0,"isoWeekday"),es("day","d"),es("weekday","e"),es("isoWeekday","E"),eY("d",y),eY("e",y),eY("E",y),eY("dd",fH),eY("ddd",fH),eY("dddd",fH),fm(["dd","ddd","dddd"],function(ab,aa,ac){var t=ac._locale.weekdaysParse(ab);null!=t?aa.d=t:gz(ac).invalidWeekday=ab}),fm(["d","e","E"],function(ab,aa,ac,t){aa[t]=fL(ab)});var gg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),hL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ev="Su_Mo_Tu_We_Th_Fr_Sa".split("_");em("H",["HH",2],0,"hour"),em("h",["hh",2],0,function(){return this.hours()%12||12}),fj("a",!0),fj("A",!1),es("hour","h"),eY("a",fJ),eY("A",fJ),eY("H",y),eY("h",y),eY("HH",y,di),eY("hh",y,di),fF(["H","HH"],g3),fF(["a","A"],function(aa,t,ab){ab._isPm=ab._locale.isPM(aa),ab._meridiem=aa}),fF(["h","hh"],function(aa,t,ab){t[g3]=fL(aa),gz(ab).bigHour=!0});var m=/[ap]\.?m?\.?/i,ei=F("Hours",!0);em("m",["mm",2],0,"minute"),es("minute","m"),eY("m",y),eY("mm",y,di),fF(["m","mm"],hx);var g7=F("Minutes",!1);em("s",["ss",2],0,"second"),es("second","s"),eY("s",y),eY("ss",y,di),fF(["s","ss"],s);var z=F("Seconds",!1);em("S",0,0,function(){return ~~(this.millisecond()/100)}),em(0,["SS",2],0,function(){return ~~(this.millisecond()/10)}),fg("SSS"),fg("SSSS"),es("millisecond","ms"),eY("S",N,hH),eY("SS",N,di),eY("SSS",N,fn),eY("SSSS",gL),fF(["S","SS","SSS","SSSS"],function(aa,t){t[gd]=fL(1000*("0."+aa))});var gF=F("Milliseconds",!1);em("z",0,0,"zoneAbbr"),em("zz",0,0,"zoneName");var e5=bo.prototype;e5.add=hB,e5.calendar=fB,e5.clone=eZ,e5.diff=dv,e5.endOf=ed,e5.format=hR,e5.from=dx,e5.fromNow=f2,e5.to=hA,e5.toNow=a7,e5.get=eT,e5.invalidAt=n,e5.isAfter=l,e5.isBefore=P,e5.isBetween=A,e5.isSame=gR,e5.isValid=ho,e5.lang=hn,e5.locale=hu,e5.localeData=g5,e5.max=go,e5.min=fc,e5.parsingFlags=fE,e5.set=eT,e5.startOf=at,e5.subtract=fX,e5.toArray=gr,e5.toDate=g6,e5.toISOString=eu,e5.toJSON=eu,e5.toString=ge,e5.unix=gU,e5.valueOf=hO,e5.year=fq,e5.isLeapYear=x,e5.weekYear=hF,e5.isoWeekYear=hb,e5.quarter=e5.quarters=gV,e5.month=fp,e5.daysInMonth=ef,e5.week=e5.weeks=fS,e5.isoWeek=e5.isoWeeks=gh,e5.weeksInYear=D,e5.isoWeeksInYear=b,e5.date=a8,e5.day=e5.days=gw,e5.weekday=hD,e5.isoWeekday=bi,e5.dayOfYear=dy,e5.hour=e5.hours=ei,e5.minute=e5.minutes=g7,e5.second=e5.seconds=z,e5.millisecond=e5.milliseconds=gF,e5.utcOffset=fy,e5.utc=g4,e5.local=hM,e5.parseZone=p,e5.hasAlignedHourOffset=hs,e5.isDST=f9,e5.isDSTShifted=an,e5.isLocal=M,e5.isUtcOffset=a5,e5.isUtc=e8,e5.isUTC=e8,e5.zoneAbbr=ej,e5.zoneName=ec,e5.dates=bt("dates accessor is deprecated. Use date instead.",a8),e5.months=bt("months accessor is deprecated. Use month instead",fp),e5.years=bt("years accessor is deprecated. Use year instead",fq),e5.zone=bt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",gK);var fr=e5,gs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},gW={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},hK="Invalid date",dw="%d",hl=/\d{1,2}/,f3={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Y=fV.prototype;Y._calendar=gs,Y.calendar=X,Y._longDateFormat=gW,Y.longDateFormat=hw,Y._invalidDate=hK,Y.invalidDate=I,Y._ordinal=dw,Y.ordinal=fI,Y._ordinalParse=hl,Y.preparse=fa,Y.postformat=fa,Y._relativeTime=f3,Y.relativeTime=hh,Y.pastFuture=ao,Y.set=K,Y.months=fb,Y._months=W,Y.monthsShort=ff,Y._monthsShort=k,Y.monthsParse=fs,Y.week=ee,Y._week=a4,Y.firstDayOfYear=o,Y.firstDayOfWeek=Z,Y.weekdays=gp,Y._weekdays=gg,Y.weekdaysMin=g9,Y._weekdaysMin=ev,Y.weekdaysShort=eo,Y._weekdaysShort=hL,Y.weekdaysParse=hP,Y.isPM=ez,Y._meridiemParse=m,Y.meridiem=u,fR("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(aa){var t=aa%10,ab=1===fL(aa%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return aa+ab}}),a6.lang=bt("moment.lang is deprecated. Use moment.locale instead.",fR),a6.langData=bt("moment.langData is deprecated. Use moment.localeData instead.",el);var C=Math.abs,S=g2("ms"),eW=g2("s"),ek=g2("m"),gS=g2("h"),gf=g2("d"),gv=g2("w"),hE=g2("M"),en=g2("y"),fN=gG("milliseconds"),fe=gG("seconds"),ct=gG("minutes"),fP=gG("hours"),g1=gG("days"),hv=gG("months"),r=gG("years"),ga=Math.round,eb={s:45,m:45,h:22,d:26,M:11},U=Math.abs,j=hi.prototype;j.abs=gI,j.add=gt,j.subtract=cn,j.as=ex,j.asMilliseconds=S,j.asSeconds=eW,j.asMinutes=ek,j.asHours=gS,j.asDays=gf,j.asWeeks=gv,j.asMonths=hE,j.asYears=en,j.valueOf=hQ,j._bubble=hy,j.get=hc,j.milliseconds=fN,j.seconds=fe,j.minutes=ct,j.hours=fP,j.days=g1,j.weeks=ht,j.months=hv,j.years=r,j.humanize=f8,j.toISOString=hJ,j.toString=hJ,j.toJSON=hJ,j.locale=hu,j.localeData=g5,j.toIsoString=bt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hJ),j.lang=hn,em("X",0,0,"unix"),em("x",0,0,"valueOf"),eY("x",gb),eY("X",hz),fF("X",function(aa,t,ab){ab._d=new Date(1000*parseFloat(aa,10))}),fF("x",function(aa,t,ab){ab._d=new Date(fL(aa))}),a6.version="2.10.3",dt(de),a6.fn=fr,a6.min=hN,a6.max=R,a6.utc=co,a6.unix=gD,a6.months=ea,a6.isDate=gH,a6.locale=fR,a6.invalid=ai,a6.duration=et,a6.isMoment=gC,a6.weekdays=gj,a6.parseZone=f5,a6.localeData=el,a6.isDuration=eV,a6.monthsShort=f4,a6.weekdaysMin=c,a6.defineLocale=gu,a6.weekdaysShort=O,a6.normalizeUnits=H,a6.relativeTimeThreshold=a3;var fz=a6;return fz})}).call(h,f(4)(d))},function(d,h,f){d.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(f,j,h){function i(a){throw new Error("Cannot find module '"+a+"'.")}i.keys=function(){return[]},i.resolve=i,f.exports=i,i.id=5},function(d,h,f){(function(l){function r(t,q,x){var k=q&&x||0,j=0;for(q=q||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(z){16>j&&(q[k+j++]=N[z])});16>j;){q[k+j++]=0}return q}function O(q,k){var t=k||0,j=u;return j[q[t++]]+j[q[t++]]+j[q[t++]]+j[q[t++]]+"-"+j[q[t++]]+j[q[t++]]+"-"+j[q[t++]]+j[q[t++]]+"-"+j[q[t++]]+j[q[t++]]+"-"+j[q[t++]]+j[q[t++]]+j[q[t++]]+j[q[t++]]+j[q[t++]]+j[q[t++]]}function y(t,C,F){var j=C&&F||0,q=C||[];t=t||{};var D=void 0!==t.clockseq?t.clockseq:v,z=void 0!==t.msecs?t.msecs:(new Date).getTime(),E=void 0!==t.nsecs?t.nsecs:o+1,B=z-P+(E-o)/10000;if(0>B&&void 0===t.clockseq&&(D=D+1&16383),(0>B||z>P)&&void 0===t.nsecs&&(E=0),E>=10000){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}P=z,o=E,v=D,z+=12219292800000;var G=(10000*(268435455&z)+E)%4294967296;q[j++]=G>>>24&255,q[j++]=G>>>16&255,q[j++]=G>>>8&255,q[j++]=255&G;var x=z/4294967296*10000&268435455;q[j++]=x>>>8&255,q[j++]=255&x,q[j++]=x>>>24&15|16,q[j++]=x>>>16&255,q[j++]=D>>>8|128,q[j++]=255&D;for(var A=t.node||n,k=0;6>k;k++){q[j+k]=A[k]}return C?C:O(q)}function s(q,j,t){var z=j&&t||0;"string"==typeof q&&(j="binary"==q?new Array(16):null,q=null),q=q||{};var k=q.random||(q.rng||m)();if(k[6]=15&k[6]|64,k[8]=63&k[8]|128,j){for(var x=0;16>x;x++){j[z+x]=k[x]}}return j||O(k)}var m,a="undefined"!=typeof window?window:"undefined"!=typeof l?l:null;if(a&&a.crypto&&crypto.getRandomValues){var p=new Uint8Array(16);m=function(){return crypto.getRandomValues(p),p}}if(!m){var c=new Array(16);m=function(){for(var k,j=0;16>j;j++){0===(3&j)&&(k=4294967296*Math.random()),c[j]=k>>>((3&j)<<3)&255}return c}}for(var u=[],N={},b=0;256>b;b++){u[b]=(b+256).toString(16).substr(1),N[u[b]]=b}var i=m(),n=[1|i[0],i[1],i[2],i[3],i[4],i[5]],v=16383&(i[6]<<8|i[7]),P=0,o=0,Q=s;Q.v1=y,Q.v4=s,Q.parse=r,Q.unparse=O,d.exports=Q}).call(h,function(){return this}())},function(d,h,f){h.prepareElements=function(b){for(var a in b){b.hasOwnProperty(a)&&(b[a].redundant=b[a].used,b[a].used=[])}},h.cleanupElements=function(b){for(var a in b){if(b.hasOwnProperty(a)&&b[a].redundant){for(var c=0;c<b[a].redundant.length;c++){b[a].redundant[c].parentNode.removeChild(b[a].redundant[c])}b[a].redundant=[]}}},h.getSVGElement=function(c,b,i){var a;return b.hasOwnProperty(c)?b[c].redundant.length>0?(a=b[c].redundant[0],b[c].redundant.shift()):(a=document.createElementNS("http://www.w3.org/2000/svg",c),i.appendChild(a)):(a=document.createElementNS("http://www.w3.org/2000/svg",c),b[c]={used:[],redundant:[]},i.appendChild(a)),b[c].used.push(a),a},h.getDOMElement=function(i,c,l,b){var a;return c.hasOwnProperty(i)?c[i].redundant.length>0?(a=c[i].redundant[0],c[i].redundant.shift()):(a=document.createElement(i),void 0!==b?l.insertBefore(a,b):l.appendChild(a)):(a=document.createElement(i),c[i]={used:[],redundant:[]},void 0!==b?l.insertBefore(a,b):l.appendChild(a)),c[i].used.push(a),a},h.drawPoint=function(i,o,r,n,b,a){var s;if("circle"==r.options.drawPoints.style?(s=h.getSVGElement("circle",n,b),s.setAttributeNS(null,"cx",i),s.setAttributeNS(null,"cy",o),s.setAttributeNS(null,"r",0.5*r.options.drawPoints.size)):(s=h.getSVGElement("rect",n,b),s.setAttributeNS(null,"x",i-0.5*r.options.drawPoints.size),s.setAttributeNS(null,"y",o-0.5*r.options.drawPoints.size),s.setAttributeNS(null,"width",r.options.drawPoints.size),s.setAttributeNS(null,"height",r.options.drawPoints.size)),void 0!==r.options.drawPoints.styles&&s.setAttributeNS(null,"style",r.group.options.drawPoints.styles),s.setAttributeNS(null,"class",r.className+" vis-point"),a){var c=h.getSVGElement("text",n,b);a.xOffset&&(i+=a.xOffset),a.yOffset&&(o+=a.yOffset),a.content&&(c.textContent=a.content),a.className&&c.setAttributeNS(null,"class",a.className+" vis-label"),c.setAttributeNS(null,"x",i),c.setAttributeNS(null,"y",o)}return s},h.drawBar=function(t,i,o,n,s,r,a,c){if(0!=n){0>n&&(n*=-1,i-=n);var b=h.getSVGElement("rect",r,a);b.setAttributeNS(null,"x",t-0.5*o),b.setAttributeNS(null,"y",i),b.setAttributeNS(null,"width",o),b.setAttributeNS(null,"height",n),b.setAttributeNS(null,"class",s),c&&b.setAttributeNS(null,"style",c)}}},function(i,m,j){function l(c,b){if(c&&!Array.isArray(c)&&(b=c,c=null),this._options=b||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type){for(var d in this._options.type){if(this._options.type.hasOwnProperty(d)){var a=this._options.type[d];"Date"==a||"ISODate"==a||"ASPDate"==a?this._type[d]="Date":this._type[d]=a}}}if(this._options.convert){throw new Error('Option "convert" is deprecated. Use "type" instead.')}this._subscribers={},c&&this.add(c),this.setOptions(b)}var k=j(1),n=j(9);l.prototype.setOptions=function(a){a&&void 0!==a.queue&&(a.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=n.extend(this,{replace:["add","update","remove"]})),"object"==typeof a.queue&&this._queue.setOptions(a.queue)))},l.prototype.on=function(b,a){var c=this._subscribers[b];c||(c=[],this._subscribers[b]=c),c.push({callback:a})},l.prototype.subscribe=function(){throw new Error("DataSet.subscribe is deprecated. Use DataSet.on instead.")},l.prototype.off=function(b,a){var c=this._subscribers[b];c&&(this._subscribers[b]=c.filter(function(d){return d.callback!=a}))},l.prototype.unsubscribe=function(){throw new Error("DataSet.unsubscribe is deprecated. Use DataSet.off instead.")},l.prototype._trigger=function(c,a,d){if("*"==c){throw new Error("Cannot trigger event *")}var h=[];c in this._subscribers&&(h=h.concat(this._subscribers[c])),"*" in this._subscribers&&(h=h.concat(this._subscribers["*"]));for(var f=0;f<h.length;f++){var b=h[f];b.callback&&b.callback(c,a,d||null)}},l.prototype.add=function(c,o){var f,h=[],d=this;if(Array.isArray(c)){for(var b=0,a=c.length;a>b;b++){f=d._addItem(c[b]),h.push(f)}}else{if(!(c instanceof Object)){throw new Error("Unknown dataType")}f=d._addItem(c),h.push(f)}return h.length&&this._trigger("add",{items:h},o),h},l.prototype.update=function(r,a){var c=[],f=[],d=[],o=this,h=o._fieldId,s=function(p){var q=p[h];o._data[q]?(q=o._updateItem(p),f.push(q),d.push(p)):(q=o._addItem(p),c.push(q))};if(Array.isArray(r)){for(var b=0,t=r.length;t>b;b++){s(r[b])}}else{if(!(r instanceof Object)){throw new Error("Unknown dataType")}s(r)}return c.length&&this._trigger("add",{items:c},a),f.length&&this._trigger("update",{items:f,data:d},a),c.concat(f)},l.prototype.get=function(v){var c,s,h,t=this,p=k.getType(arguments[0]);"String"==p||"Number"==p?(c=arguments[0],h=arguments[1]):"Array"==p?(s=arguments[0],h=arguments[1]):h=arguments[0];var N;if(h&&h.returnType){var r=["Array","Object"];N=-1==r.indexOf(h.returnType)?"Array":h.returnType}else{N="Array"}var a,u,L,O,o=h&&h.type||this._options.type,d=h&&h.filter,b=[];if(void 0!=c){a=t._getItem(c,o),d&&!d(a)&&(a=null)}else{if(void 0!=s){for(L=0,O=s.length;O>L;L++){a=t._getItem(s[L],o),(!d||d(a))&&b.push(a)}}else{for(u in this._data){this._data.hasOwnProperty(u)&&(a=t._getItem(u,o),(!d||d(a))&&b.push(a))}}}if(h&&h.order&&void 0==c&&this._sort(b,h.order),h&&h.fields){var M=h.fields;if(void 0!=c){a=this._filterFields(a,M)}else{for(L=0,O=b.length;O>L;L++){b[L]=this._filterFields(b[L],M)}}}if("Object"==N){var f={};for(L=0;L<b.length;L++){f[b[L].id]=b[L]}return f}return void 0!=c?a:b},l.prototype.getIds=function(o){var t,a,f,d,c,h=this._data,r=o&&o.filter,B=o&&o.order,s=o&&o.type||this._options.type,b=[];if(r){if(B){c=[];for(f in h){h.hasOwnProperty(f)&&(d=this._getItem(f,s),r(d)&&c.push(d))}for(this._sort(c,B),t=0,a=c.length;a>t;t++){b[t]=c[t][this._fieldId]}}else{for(f in h){h.hasOwnProperty(f)&&(d=this._getItem(f,s),r(d)&&b.push(d[this._fieldId]))}}}else{if(B){c=[];for(f in h){h.hasOwnProperty(f)&&c.push(h[f])}for(this._sort(c,B),t=0,a=c.length;a>t;t++){b[t]=c[t][this._fieldId]}}else{for(f in h){h.hasOwnProperty(f)&&(d=h[f],b.push(d[this._fieldId]))}}}return b},l.prototype.getDataSet=function(){return this},l.prototype.forEach=function(r,a){var c,f,d=a&&a.filter,o=a&&a.type||this._options.type,h=this._data;if(a&&a.order){for(var s=this.get(a),b=0,t=s.length;t>b;b++){c=s[b],f=c[this._fieldId],r(c,f)}}else{for(f in h){h.hasOwnProperty(f)&&(c=this._getItem(f,o),(!d||d(c))&&r(c,f))}}},l.prototype.map=function(b,o){var d,h=o&&o.filter,c=o&&o.type||this._options.type,a=[],r=this._data;for(var f in r){r.hasOwnProperty(f)&&(d=this._getItem(f,c),(!h||h(d))&&a.push(b(d,f)))}return o&&o.order&&this._sort(a,o.order),a},l.prototype._filterFields=function(c,b){if(!c){return c}var d={};if(Array.isArray(b)){for(var a in c){c.hasOwnProperty(a)&&-1!=b.indexOf(a)&&(d[a]=c[a])}}else{for(var a in c){c.hasOwnProperty(a)&&b.hasOwnProperty(a)&&(d[b[a]]=c[a])}}return d},l.prototype._sort=function(b,a){if(k.isString(a)){var c=a;b.sort(function(f,d){var o=f[c],h=d[c];return o>h?1:h>o?-1:0})}else{if("function"!=typeof a){throw new TypeError("Order must be a function or a string")}b.sort(a)}},l.prototype.remove=function(c,a){var d,h,f,b=[];if(Array.isArray(c)){for(d=0,h=c.length;h>d;d++){f=this._remove(c[d]),null!=f&&b.push(f)}}else{f=this._remove(c),null!=f&&b.push(f)}return b.length&&this._trigger("remove",{items:b},a),b},l.prototype._remove=function(b){if(k.isNumber(b)||k.isString(b)){if(this._data[b]){return delete this._data[b],this.length--,b}}else{if(b instanceof Object){var a=b[this._fieldId];if(a&&this._data[a]){return delete this._data[a],this.length--,a}}}return null},l.prototype.clear=function(b){var a=Object.keys(this._data);return this._data={},this.length=0,this._trigger("remove",{items:a},b),a},l.prototype.max=function(c){var o=this._data,f=null,h=null;for(var d in o){if(o.hasOwnProperty(d)){var b=o[d],a=b[c];null!=a&&(!f||a>h)&&(f=b,h=a)}}return f},l.prototype.min=function(c){var o=this._data,f=null,h=null;for(var d in o){if(o.hasOwnProperty(d)){var b=o[d],a=b[c];null!=a&&(!f||h>a)&&(f=b,h=a)}}return f},l.prototype.distinct=function(r){var a,c=this._data,f=[],o=this._options.type&&this._options.type[r]||null,h=0;for(var s in c){if(c.hasOwnProperty(s)){var b=c[s],t=b[r],d=!1;for(a=0;h>a;a++){if(f[a]==t){d=!0;break}}d||void 0===t||(f[h]=t,h++)}}if(o){for(a=0;a<f.length;a++){f[a]=k.convert(f[a],o)}}return f},l.prototype._addItem=function(c){var a=c[this._fieldId];if(void 0!=a){if(this._data[a]){throw new Error("Cannot add item: item with id "+a+" already exists")}}else{a=k.randomUUID(),c[this._fieldId]=a}var d={};for(var f in c){if(c.hasOwnProperty(f)){var b=this._type[f];d[f]=k.convert(c[f],b)}}return this._data[a]=d,this.length++,a},l.prototype._getItem=function(c,h){var d,f,b=this._data[c];if(!b){return null}var a={};if(h){for(d in b){b.hasOwnProperty(d)&&(f=b[d],a[d]=k.convert(f,h[d]))}}else{for(d in b){b.hasOwnProperty(d)&&(f=b[d],a[d]=f)}}return a},l.prototype._updateItem=function(c){var a=c[this._fieldId];if(void 0==a){throw new Error("Cannot update item: item has no id (item: "+JSON.stringify(c)+")")}var d=this._data[a];if(!d){throw new Error("Cannot update item: no item with id "+a+" found")}for(var f in c){if(c.hasOwnProperty(f)){var b=this._type[f];d[f]=k.convert(c[f],b)}}return a},i.exports=l},function(f,j,h){function i(a){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(a)}i.prototype.setOptions=function(a){a&&"undefined"!=typeof a.delay&&(this.delay=a.delay),a&&"undefined"!=typeof a.max&&(this.max=a.max),this._flushIfNeeded()},i.extend=function(n,b){var o=new i(b);if(void 0!==n.flush){throw new Error("Target object already has a property flush")}n.flush=function(){o.flush()};var a=[{name:"flush",original:void 0}];if(b&&b.replace){for(var d=0;d<b.replace.length;d++){var c=b.replace[d];a.push({name:c,original:n[c]}),o.replace(n,c)}}return o._extended={object:n,methods:a},o},i.prototype.destroy=function(){if(this.flush(),this._extended){for(var c=this._extended.object,b=this._extended.methods,d=0;d<b.length;d++){var a=b[d];a.original?c[a.name]=a.original:delete c[a.name]}this._extended=null}},i.prototype.replace=function(c,b){var d=this,a=c[b];if(!a){throw new Error("Method "+b+" undefined")}c[b]=function(){for(var m=[],k=0;k<arguments.length;k++){m[k]=arguments[k]}d.queue({args:m,fn:a,context:this})}},i.prototype.queue=function(a){"function"==typeof a?this._queue.push({fn:a}):this._queue.push(a),this._flushIfNeeded()},i.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var a=this;this._timeout=setTimeout(function(){a.flush()},this.delay)}},i.prototype.flush=function(){for(;this._queue.length>0;){var a=this._queue.shift();a.fn.apply(a.context||a.fn,a.args||[])}},f.exports=i},function(i,m,j){function l(b,a){this._data=null,this._ids={},this.length=0,this._options=a||{},this._fieldId="id",this._subscribers={};var c=this;this.listener=function(){c._onEvent.apply(c,arguments)},this.setData(b)}var k=j(1),n=j(8);l.prototype.setData=function(c){var b,d,a;if(this._data){this._data.off&&this._data.off("*",this.listener),b=[];for(var f in this._ids){this._ids.hasOwnProperty(f)&&b.push(f)}this._ids={},this.length=0,this._trigger("remove",{items:b})}if(this._data=c,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",b=this._data.getIds({filter:this._options&&this._options.filter}),d=0,a=b.length;a>d;d++){f=b[d],this._ids[f]=!0}this.length=b.length,this._trigger("add",{items:b}),this._data.on&&this._data.on("*",this.listener)}},l.prototype.refresh=function(){for(var c,a=this._data.getIds({filter:this._options&&this._options.filter}),d={},h=[],f=[],b=0;b<a.length;b++){c=a[b],d[c]=!0,this._ids[c]||(h.push(c),this._ids[c]=!0,this.length++)}for(c in this._ids){this._ids.hasOwnProperty(c)&&(d[c]||(f.push(c),delete this._ids[c],this.length--))}h.length&&this._trigger("add",{items:h}),f.length&&this._trigger("remove",{items:f})},l.prototype.get=function(b){var h,c,f,r=this,o=k.getType(arguments[0]);"String"==o||"Number"==o||"Array"==o?(h=arguments[0],c=arguments[1],f=arguments[2]):(c=arguments[0],f=arguments[1]);var d=k.extend({},this._options,c);this._options.filter&&c&&c.filter&&(d.filter=function(p){return r._options.filter(p)&&c.filter(p)});var a=[];return void 0!=h&&a.push(h),a.push(d),a.push(f),this._data&&this._data.get.apply(this._data,a)},l.prototype.getIds=function(c){var b;if(this._data){var d,a=this._options.filter;d=c&&c.filter?a?function(f){return a(f)&&c.filter(f)}:c.filter:a,b=this._data.getIds({filter:d,order:c&&c.order})}else{b=[]}return b},l.prototype.getDataSet=function(){for(var a=this;a instanceof l;){a=a._data}return a||null},l.prototype._onEvent=function(b,E,c){var r,o,a,s,h=E&&E.items,F=this._data,u=[],f=[],d=[],t=[];if(h&&F){switch(b){case"add":for(r=0,o=h.length;o>r;r++){a=h[r],s=this.get(a),s&&(this._ids[a]=!0,f.push(a))}break;case"update":for(r=0,o=h.length;o>r;r++){a=h[r],s=this.get(a),s?this._ids[a]?(d.push(a),u.push(E.data[r])):(this._ids[a]=!0,f.push(a)):this._ids[a]&&(delete this._ids[a],t.push(a))}break;case"remove":for(r=0,o=h.length;o>r;r++){a=h[r],this._ids[a]&&(delete this._ids[a],t.push(a))}}this.length+=f.length-t.length,f.length&&this._trigger("add",{items:f},c),d.length&&this._trigger("update",{items:d,data:u},c),t.length&&this._trigger("remove",{items:t},c)}},l.prototype.on=n.prototype.on,l.prototype.off=n.prototype.off,l.prototype._trigger=n.prototype._trigger,l.prototype.subscribe=l.prototype.on,l.prototype.unsubscribe=l.prototype.off,i.exports=l},function(t,f,n){function i(q,k,b){if(!(this instanceof i)){throw new SyntaxError("Constructor must be called with the new operator")}this.containerElement=q,this.width="400px",this.height="400px",this.margin=10,this.defaultXCenter="55%",this.defaultYCenter="50%",this.xLabel="x",this.yLabel="y",this.zLabel="z";var j=function(v){return v};this.xValueLabel=j,this.yValueLabel=j,this.zValueLabel=j,this.filterLabel="time",this.legendLabel="value",this.style=i.STYLE.DOT,this.showPerspective=!0,this.showGrid=!0,this.keepAspectRatio=!0,this.showShadow=!1,this.showGrayBottom=!1,this.showTooltip=!1,this.verticalRatio=0.5,this.animationInterval=1000,this.animationPreload=!1,this.camera=new a,this.eye=new p(0,0,-1),this.dataTable=null,this.dataPoints=null,this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.colFilter=void 0,this.xMin=0,this.xStep=void 0,this.xMax=1,this.yMin=0,this.yStep=void 0,this.yMax=1,this.zMin=0,this.zStep=void 0,this.zMax=1,this.valueMin=0,this.valueMax=1,this.xBarWidth=1,this.yBarWidth=1,this.colorAxis="#4D4D4D",this.colorGrid="#D3D3D3",this.colorDot="#7DC1FF",this.colorDotBorder="#3267D2",this.create(),this.setOptions(b),k&&this.setData(k)}function d(b){return"clientX" in b?b.clientX:b.targetTouches[0]&&b.targetTouches[0].clientX||0}function s(b){return"clientY" in b?b.clientY:b.targetTouches[0]&&b.targetTouches[0].clientY||0}var o=n(13),I=n(8),m=n(10),c=n(1),p=n(14),u=n(12),a=n(15),l=n(16),h=n(17),r=n(18);o(i.prototype),i.prototype._setScale=function(){this.scale=new p(1/(this.xMax-this.xMin),1/(this.yMax-this.yMin),1/(this.zMax-this.zMin)),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,this.scale.value=1/(this.valueMax-this.valueMin);var k=(this.xMax+this.xMin)/2*this.scale.x,j=(this.yMax+this.yMin)/2*this.scale.y,b=(this.zMax+this.zMin)/2*this.scale.z;this.camera.setArmLocation(k,j,b)},i.prototype._convert3Dto2D=function(b){var j=this._convertPointToTranslation(b);return this._convertTranslationToScreen(j)},i.prototype._convertPointToTranslation=function(j){var A=j.x*this.scale.x,D=j.y*this.scale.y,G=j.z*this.scale.z,F=this.camera.getCameraLocation().x,b=this.camera.getCameraLocation().y,v=this.camera.getCameraLocation().z,x=Math.sin(this.camera.getCameraRotation().x),C=Math.cos(this.camera.getCameraRotation().x),z=Math.sin(this.camera.getCameraRotation().y),k=Math.cos(this.camera.getCameraRotation().y),y=Math.sin(this.camera.getCameraRotation().z),H=Math.cos(this.camera.getCameraRotation().z),B=k*(y*(D-b)+H*(A-F))-z*(G-v),E=x*(k*(G-v)+z*(y*(D-b)+H*(A-F)))+C*(H*(D-b)-y*(A-F)),q=C*(k*(G-v)+z*(y*(D-b)+H*(A-F)))-x*(H*(D-b)-y*(A-F));return new p(B,E,q)},i.prototype._convertTranslationToScreen=function(z){var b,k,v=this.eye.x,q=this.eye.y,y=this.eye.z,x=z.x,A=z.y,j=z.z;return this.showPerspective?(b=(x-v)*(y/j),k=(A-q)*(y/j)):(b=x*-(y/this.camera.getArmLength()),k=A*-(y/this.camera.getArmLength())),new u(this.xcenter+b*this.frame.canvas.clientWidth,this.ycenter-k*this.frame.canvas.clientWidth)},i.prototype._setBackgroundColor=function(q){var k="white",b="gray",j=1;if("string"==typeof q){k=q,b="none",j=0}else{if("object"==typeof q){void 0!==q.fill&&(k=q.fill),void 0!==q.stroke&&(b=q.stroke),void 0!==q.strokeWidth&&(j=q.strokeWidth)}else{if(void 0!==q){throw"Unsupported type of backgroundColor"}}}this.frame.style.backgroundColor=k,this.frame.style.borderColor=b,this.frame.style.borderWidth=j+"px",this.frame.style.borderStyle="solid"},i.STYLE={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},i.prototype._getStyleNumber=function(b){switch(b){case"dot":return i.STYLE.DOT;case"dot-line":return i.STYLE.DOTLINE;case"dot-color":return i.STYLE.DOTCOLOR;case"dot-size":return i.STYLE.DOTSIZE;case"line":return i.STYLE.LINE;case"grid":return i.STYLE.GRID;case"surface":return i.STYLE.SURFACE;case"bar":return i.STYLE.BAR;case"bar-color":return i.STYLE.BARCOLOR;case"bar-size":return i.STYLE.BARSIZE}return -1},i.prototype._determineColumnIndexes=function(b,j){if(this.style===i.STYLE.DOT||this.style===i.STYLE.DOTLINE||this.style===i.STYLE.LINE||this.style===i.STYLE.GRID||this.style===i.STYLE.SURFACE||this.style===i.STYLE.BAR){this.colX=0,this.colY=1,this.colZ=2,this.colValue=void 0,b.getNumberOfColumns()>3&&(this.colFilter=3)}else{if(this.style!==i.STYLE.DOTCOLOR&&this.style!==i.STYLE.DOTSIZE&&this.style!==i.STYLE.BARCOLOR&&this.style!==i.STYLE.BARSIZE){throw'Unknown style "'+this.style+'"'}this.colX=0,this.colY=1,this.colZ=2,this.colValue=3,b.getNumberOfColumns()>4&&(this.colFilter=4)}},i.prototype.getNumberOfRows=function(b){return b.length},i.prototype.getNumberOfColumns=function(k){var j=0;for(var b in k[0]){k[0].hasOwnProperty(b)&&j++}return j},i.prototype.getDistinctValues=function(q,k){for(var b=[],j=0;j<q.length;j++){-1==b.indexOf(q[j][k])&&b.push(q[j][k])}return b},i.prototype.getColumnRange=function(q,k){for(var b={min:q[0][k],max:q[0][k]},j=0;j<q.length;j++){b.min>q[j][k]&&(b.min=q[j][k]),b.max<q[j][k]&&(b.max=q[j][k])}return b},i.prototype._dataInitialize=function(x,C){var j=this;if(this.dataSet&&this.dataSet.off("*",this._onChange),void 0!==x){Array.isArray(x)&&(x=new I(x));var q;if(!(x instanceof I||x instanceof m)){throw new Error("Array, DataSet, or DataView expected")}if(q=x.get(),0!=q.length){this.dataSet=x,this.dataTable=q,this._onChange=function(){j.setData(j.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z",this.colValue="style",this.colFilter="filter",q[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new l(x,this.colFilter,this),this.dataFilter.setOnLoadCallback(function(){j.redraw()}));var v=this.style==i.STYLE.BAR||this.style==i.STYLE.BARCOLOR||this.style==i.STYLE.BARSIZE;if(v){if(void 0!==this.defaultXBarWidth){this.xBarWidth=this.defaultXBarWidth}else{var B=this.getDistinctValues(q,this.colX);this.xBarWidth=B[1]-B[0]||1}if(void 0!==this.defaultYBarWidth){this.yBarWidth=this.defaultYBarWidth}else{var A=this.getDistinctValues(q,this.colY);this.yBarWidth=A[1]-A[0]||1}}var k=this.getColumnRange(q,this.colX);v&&(k.min-=this.xBarWidth/2,k.max+=this.xBarWidth/2),this.xMin=void 0!==this.defaultXMin?this.defaultXMin:k.min,this.xMax=void 0!==this.defaultXMax?this.defaultXMax:k.max,this.xMax<=this.xMin&&(this.xMax=this.xMin+1),this.xStep=void 0!==this.defaultXStep?this.defaultXStep:(this.xMax-this.xMin)/5;var y=this.getColumnRange(q,this.colY);v&&(y.min-=this.yBarWidth/2,y.max+=this.yBarWidth/2),this.yMin=void 0!==this.defaultYMin?this.defaultYMin:y.min,this.yMax=void 0!==this.defaultYMax?this.defaultYMax:y.max,this.yMax<=this.yMin&&(this.yMax=this.yMin+1),this.yStep=void 0!==this.defaultYStep?this.defaultYStep:(this.yMax-this.yMin)/5;var z=this.getColumnRange(q,this.colZ);if(this.zMin=void 0!==this.defaultZMin?this.defaultZMin:z.min,this.zMax=void 0!==this.defaultZMax?this.defaultZMax:z.max,this.zMax<=this.zMin&&(this.zMax=this.zMin+1),this.zStep=void 0!==this.defaultZStep?this.defaultZStep:(this.zMax-this.zMin)/5,void 0!==this.colValue){var b=this.getColumnRange(q,this.colValue);this.valueMin=void 0!==this.defaultValueMin?this.defaultValueMin:b.min,this.valueMax=void 0!==this.defaultValueMax?this.defaultValueMax:b.max,this.valueMax<=this.valueMin&&(this.valueMax=this.valueMin+1)}this._setScale()}}},i.prototype._getDataPoints=function(k){var B,E,G,j,q,y,D=[];if(this.style===i.STYLE.GRID||this.style===i.STYLE.SURFACE){var A=[],v=[];for(G=0;G<this.getNumberOfRows(k);G++){B=k[G][this.colX]||0,E=k[G][this.colY]||0,-1===A.indexOf(B)&&A.push(B),-1===v.indexOf(E)&&v.push(E)}var z=function(H,K){return H-K};A.sort(z),v.sort(z);var b=[];for(G=0;G<k.length;G++){B=k[G][this.colX]||0,E=k[G][this.colY]||0,j=k[G][this.colZ]||0;var C=A.indexOf(B),F=v.indexOf(E);void 0===b[C]&&(b[C]=[]);var x=new p;x.x=B,x.y=E,x.z=j,q={},q.point=x,q.trans=void 0,q.screen=void 0,q.bottom=new p(B,E,this.zMin),b[C][F]=q,D.push(q)}for(B=0;B<b.length;B++){for(E=0;E<b[B].length;E++){b[B][E]&&(b[B][E].pointRight=B<b.length-1?b[B+1][E]:void 0,b[B][E].pointTop=E<b[B].length-1?b[B][E+1]:void 0,b[B][E].pointCross=B<b.length-1&&E<b[B].length-1?b[B+1][E+1]:void 0)}}}else{for(G=0;G<k.length;G++){y=new p,y.x=k[G][this.colX]||0,y.y=k[G][this.colY]||0,y.z=k[G][this.colZ]||0,void 0!==this.colValue&&(y.value=k[G][this.colValue]||0),q={},q.point=y,q.bottom=new p(y.x,y.y,this.zMin),q.trans=void 0,q.screen=void 0,D.push(q)}}return D},i.prototype.create=function(){for(;this.containerElement.hasChildNodes();){this.containerElement.removeChild(this.containerElement.firstChild)}this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var x=document.createElement("DIV");x.style.color="red",x.style.fontWeight="bold",x.style.padding="10px",x.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(x),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var q=this,j=function(y){q._onMouseDown(y)},k=function(y){q._onTouchStart(y)},b=function(y){q._onWheel(y)},v=function(y){q._onTooltip(y)};c.addEventListener(this.frame.canvas,"keydown",onkeydown),c.addEventListener(this.frame.canvas,"mousedown",j),c.addEventListener(this.frame.canvas,"touchstart",k),c.addEventListener(this.frame.canvas,"mousewheel",b),c.addEventListener(this.frame.canvas,"mousemove",v),this.containerElement.appendChild(this.frame)},i.prototype.setSize=function(b,j){this.frame.style.width=b,this.frame.style.height=j,this._resizeCanvas()},i.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},i.prototype.animationStart=function(){if(!this.frame.filter||!this.frame.filter.slider){throw"No animation available"}this.frame.filter.slider.play()},i.prototype.animationStop=function(){this.frame.filter&&this.frame.filter.slider&&this.frame.filter.slider.stop()},i.prototype._resizeCenter=function(){"%"===this.defaultXCenter.charAt(this.defaultXCenter.length-1)?this.xcenter=parseFloat(this.defaultXCenter)/100*this.frame.canvas.clientWidth:this.xcenter=parseFloat(this.defaultXCenter),"%"===this.defaultYCenter.charAt(this.defaultYCenter.length-1)?this.ycenter=parseFloat(this.defaultYCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):this.ycenter=parseFloat(this.defaultYCenter)},i.prototype.setCameraPosition=function(b){void 0!==b&&(void 0!==b.horizontal&&void 0!==b.vertical&&this.camera.setArmRotation(b.horizontal,b.vertical),void 0!==b.distance&&this.camera.setArmLength(b.distance),this.redraw())},i.prototype.getCameraPosition=function(){var b=this.camera.getArmRotation();return b.distance=this.camera.getArmLength(),b},i.prototype._readData=function(b){this._dataInitialize(b,this.style),this.dataFilter?this.dataPoints=this.dataFilter._getDataPoints():this.dataPoints=this._getDataPoints(this.dataTable),this._redrawFilter()},i.prototype.setData=function(b){this._readData(b),this.redraw(),this.animationAutoStart&&this.dataFilter&&this.animationStart()},i.prototype.setOptions=function(k){var j=void 0;if(this.animationStop(),void 0!==k){if(void 0!==k.width&&(this.width=k.width),void 0!==k.height&&(this.height=k.height),void 0!==k.xCenter&&(this.defaultXCenter=k.xCenter),void 0!==k.yCenter&&(this.defaultYCenter=k.yCenter),void 0!==k.filterLabel&&(this.filterLabel=k.filterLabel),void 0!==k.legendLabel&&(this.legendLabel=k.legendLabel),void 0!==k.xLabel&&(this.xLabel=k.xLabel),void 0!==k.yLabel&&(this.yLabel=k.yLabel),void 0!==k.zLabel&&(this.zLabel=k.zLabel),void 0!==k.xValueLabel&&(this.xValueLabel=k.xValueLabel),void 0!==k.yValueLabel&&(this.yValueLabel=k.yValueLabel),void 0!==k.zValueLabel&&(this.zValueLabel=k.zValueLabel),void 0!==k.style){var b=this._getStyleNumber(k.style);-1!==b&&(this.style=b)}void 0!==k.showGrid&&(this.showGrid=k.showGrid),void 0!==k.showPerspective&&(this.showPerspective=k.showPerspective),void 0!==k.showShadow&&(this.showShadow=k.showShadow),void 0!==k.tooltip&&(this.showTooltip=k.tooltip),void 0!==k.showAnimationControls&&(this.showAnimationControls=k.showAnimationControls),void 0!==k.keepAspectRatio&&(this.keepAspectRatio=k.keepAspectRatio),void 0!==k.verticalRatio&&(this.verticalRatio=k.verticalRatio),void 0!==k.animationInterval&&(this.animationInterval=k.animationInterval),void 0!==k.animationPreload&&(this.animationPreload=k.animationPreload),void 0!==k.animationAutoStart&&(this.animationAutoStart=k.animationAutoStart),void 0!==k.xBarWidth&&(this.defaultXBarWidth=k.xBarWidth),void 0!==k.yBarWidth&&(this.defaultYBarWidth=k.yBarWidth),void 0!==k.xMin&&(this.defaultXMin=k.xMin),void 0!==k.xStep&&(this.defaultXStep=k.xStep),void 0!==k.xMax&&(this.defaultXMax=k.xMax),void 0!==k.yMin&&(this.defaultYMin=k.yMin),void 0!==k.yStep&&(this.defaultYStep=k.yStep),void 0!==k.yMax&&(this.defaultYMax=k.yMax),void 0!==k.zMin&&(this.defaultZMin=k.zMin),void 0!==k.zStep&&(this.defaultZStep=k.zStep),void 0!==k.zMax&&(this.defaultZMax=k.zMax),void 0!==k.valueMin&&(this.defaultValueMin=k.valueMin),void 0!==k.valueMax&&(this.defaultValueMax=k.valueMax),void 0!==k.cameraPosition&&(j=k.cameraPosition),void 0!==j?(this.camera.setArmRotation(j.horizontal,j.vertical),this.camera.setArmLength(j.distance)):(this.camera.setArmRotation(1,0.5),this.camera.setArmLength(1.7))}this._setBackgroundColor(k&&k.backgroundColor),this.setSize(this.width,this.height),this.dataTable&&this.setData(this.dataTable),this.animationAutoStart&&this.dataFilter&&this.animationStart()},i.prototype.redraw=function(){if(void 0===this.dataPoints){throw"Error: graph data not initialized"}this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this.style===i.STYLE.GRID||this.style===i.STYLE.SURFACE?this._redrawDataGrid():this.style===i.STYLE.LINE?this._redrawDataLine():this.style===i.STYLE.BAR||this.style===i.STYLE.BARCOLOR||this.style===i.STYLE.BARSIZE?this._redrawDataBar():this._redrawDataDot(),this._redrawInfo(),this._redrawLegend()},i.prototype._redrawClear=function(){var b=this.frame.canvas,j=b.getContext("2d");j.clearRect(0,0,b.width,b.height)},i.prototype._redrawLegend=function(){var G;if(this.style===i.STYLE.DOTCOLOR||this.style===i.STYLE.DOTSIZE){var v,A,C=0.02*this.frame.clientWidth;this.style===i.STYLE.DOTSIZE?(v=C/2,A=C/2+2*C):(v=20,A=20);var F=Math.max(0.25*this.frame.clientHeight,100),E=this.margin,b=this.frame.clientWidth-this.margin,z=b-A,q=E+F}var B=this.frame.canvas,H=B.getContext("2d");if(H.lineWidth=1,H.font="14px arial",this.style===i.STYLE.DOTCOLOR){var k=0,D=F;for(G=k;D>G;G++){var x=(G-k)/(D-k),aa=240*x,y=this._hsv2rgb(aa,1,1);H.strokeStyle=y,H.beginPath(),H.moveTo(z,E+G),H.lineTo(b,E+G),H.stroke()}H.strokeStyle=this.colorAxis,H.strokeRect(z,E,A,F)}if(this.style===i.STYLE.DOTSIZE&&(H.strokeStyle=this.colorAxis,H.fillStyle=this.colorDot,H.beginPath(),H.moveTo(z,E),H.lineTo(b,E),H.lineTo(b-A+v,q),H.lineTo(z,q),H.closePath(),H.fill(),H.stroke()),this.style===i.STYLE.DOTCOLOR||this.style===i.STYLE.DOTSIZE){var ac=5,j=new r(this.valueMin,this.valueMax,(this.valueMax-this.valueMin)/5,!0);for(j.start(),j.getCurrent()<this.valueMin&&j.next();!j.end();){G=q-(j.getCurrent()-this.valueMin)/(this.valueMax-this.valueMin)*F,H.beginPath(),H.moveTo(z-ac,G),H.lineTo(z,G),H.stroke(),H.textAlign="right",H.textBaseline="middle",H.fillStyle=this.colorAxis,H.fillText(j.getCurrent(),z-2*ac,G),j.next()}H.textAlign="right",H.textBaseline="top";var ab=this.legendLabel;H.fillText(ab,b,q+this.margin)}},i.prototype._redrawFilter=function(){if(this.frame.filter.innerHTML="",this.dataFilter){var q={visible:this.showAnimationControls},k=new h(this.frame.filter,q);this.frame.filter.slider=k,this.frame.filter.style.padding="10px",k.setValues(this.dataFilter.values),k.setPlayInterval(this.animationInterval);var b=this,j=function(){var v=k.getIndex();b.dataFilter.selectValue(v),b.dataPoints=b.dataFilter._getDataPoints(),b.redraw()};k.setOnChangeCallback(j)}else{this.frame.filter.slider=void 0}},i.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},i.prototype._redrawInfo=function(){if(this.dataFilter){var q=this.frame.canvas,k=q.getContext("2d");k.font="14px arial",k.lineStyle="gray",k.fillStyle="gray",k.textAlign="left",k.textBaseline="top";var b=this.margin,j=this.margin;k.fillText(this.dataFilter.getLabel()+": "+this.dataFilter.getSelectedValue(),b,j)}},i.prototype._redrawAxis=function(){var D,b,v,z,y,C,B,ah,q,ak,E,aj,A,j=this.frame.canvas,F=j.getContext("2d");F.font=24/this.camera.getArmLength()+"px arial";var k=0.025/this.scale.x,M=0.025/this.scale.y,ai=5/this.camera.getArmLength(),G=this.camera.getArmRotation().horizontal;for(F.lineWidth=1,z=void 0===this.defaultXStep,v=new r(this.xMin,this.xMax,this.xStep,z),v.start(),v.getCurrent()<this.xMin&&v.next();!v.end();){var ag=v.getCurrent();this.showGrid?(D=this._convert3Dto2D(new p(ag,this.yMin,this.zMin)),b=this._convert3Dto2D(new p(ag,this.yMax,this.zMin)),F.strokeStyle=this.colorGrid,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke()):(D=this._convert3Dto2D(new p(ag,this.yMin,this.zMin)),b=this._convert3Dto2D(new p(ag,this.yMin+k,this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke(),D=this._convert3Dto2D(new p(ag,this.yMax,this.zMin)),b=this._convert3Dto2D(new p(ag,this.yMax-k,this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke()),B=Math.cos(G)>0?this.yMin:this.yMax,y=this._convert3Dto2D(new p(ag,B,this.zMin)),Math.cos(2*G)>0?(F.textAlign="center",F.textBaseline="top",y.y+=ai):Math.sin(2*G)<0?(F.textAlign="right",F.textBaseline="middle"):(F.textAlign="left",F.textBaseline="middle"),F.fillStyle=this.colorAxis,F.fillText("  "+this.xValueLabel(v.getCurrent())+"  ",y.x,y.y),v.next()}for(F.lineWidth=1,z=void 0===this.defaultYStep,v=new r(this.yMin,this.yMax,this.yStep,z),v.start(),v.getCurrent()<this.yMin&&v.next();!v.end();){this.showGrid?(D=this._convert3Dto2D(new p(this.xMin,v.getCurrent(),this.zMin)),b=this._convert3Dto2D(new p(this.xMax,v.getCurrent(),this.zMin)),F.strokeStyle=this.colorGrid,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke()):(D=this._convert3Dto2D(new p(this.xMin,v.getCurrent(),this.zMin)),b=this._convert3Dto2D(new p(this.xMin+M,v.getCurrent(),this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke(),D=this._convert3Dto2D(new p(this.xMax,v.getCurrent(),this.zMin)),b=this._convert3Dto2D(new p(this.xMax-M,v.getCurrent(),this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke()),C=Math.sin(G)>0?this.xMin:this.xMax,y=this._convert3Dto2D(new p(C,v.getCurrent(),this.zMin)),Math.cos(2*G)<0?(F.textAlign="center",F.textBaseline="top",y.y+=ai):Math.sin(2*G)>0?(F.textAlign="right",F.textBaseline="middle"):(F.textAlign="left",F.textBaseline="middle"),F.fillStyle=this.colorAxis,F.fillText("  "+this.yValueLabel(v.getCurrent())+"  ",y.x,y.y),v.next()}for(F.lineWidth=1,z=void 0===this.defaultZStep,v=new r(this.zMin,this.zMax,this.zStep,z),v.start(),v.getCurrent()<this.zMin&&v.next(),C=Math.cos(G)>0?this.xMin:this.xMax,B=Math.sin(G)<0?this.yMin:this.yMax;!v.end();){D=this._convert3Dto2D(new p(C,B,v.getCurrent())),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(D.x-ai,D.y),F.stroke(),F.textAlign="right",F.textBaseline="middle",F.fillStyle=this.colorAxis,F.fillText(this.zValueLabel(v.getCurrent())+" ",D.x-5,D.y),v.next()}F.lineWidth=1,D=this._convert3Dto2D(new p(C,B,this.zMin)),b=this._convert3Dto2D(new p(C,B,this.zMax)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke(),F.lineWidth=1,aj=this._convert3Dto2D(new p(this.xMin,this.yMin,this.zMin)),A=this._convert3Dto2D(new p(this.xMax,this.yMin,this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(aj.x,aj.y),F.lineTo(A.x,A.y),F.stroke(),aj=this._convert3Dto2D(new p(this.xMin,this.yMax,this.zMin)),A=this._convert3Dto2D(new p(this.xMax,this.yMax,this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(aj.x,aj.y),F.lineTo(A.x,A.y),F.stroke(),F.lineWidth=1,D=this._convert3Dto2D(new p(this.xMin,this.yMin,this.zMin)),b=this._convert3Dto2D(new p(this.xMin,this.yMax,this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke(),D=this._convert3Dto2D(new p(this.xMax,this.yMin,this.zMin)),b=this._convert3Dto2D(new p(this.xMax,this.yMax,this.zMin)),F.strokeStyle=this.colorAxis,F.beginPath(),F.moveTo(D.x,D.y),F.lineTo(b.x,b.y),F.stroke();var H=this.xLabel;H.length>0&&(E=0.1/this.scale.y,C=(this.xMin+this.xMax)/2,B=Math.cos(G)>0?this.yMin-E:this.yMax+E,y=this._convert3Dto2D(new p(C,B,this.zMin)),Math.cos(2*G)>0?(F.textAlign="center",F.textBaseline="top"):Math.sin(2*G)<0?(F.textAlign="right",F.textBaseline="middle"):(F.textAlign="left",F.textBaseline="middle"),F.fillStyle=this.colorAxis,F.fillText(H,y.x,y.y));var x=this.yLabel;x.length>0&&(ak=0.1/this.scale.x,C=Math.sin(G)>0?this.xMin-ak:this.xMax+ak,B=(this.yMin+this.yMax)/2,y=this._convert3Dto2D(new p(C,B,this.zMin)),Math.cos(2*G)<0?(F.textAlign="center",F.textBaseline="top"):Math.sin(2*G)>0?(F.textAlign="right",F.textBaseline="middle"):(F.textAlign="left",F.textBaseline="middle"),F.fillStyle=this.colorAxis,F.fillText(x,y.x,y.y));var af=this.zLabel;af.length>0&&(q=30,C=Math.cos(G)>0?this.xMin:this.xMax,B=Math.sin(G)<0?this.yMin:this.yMax,ah=(this.zMin+this.zMax)/2,y=this._convert3Dto2D(new p(C,B,ah)),F.textAlign="right",F.textBaseline="middle",F.fillStyle=this.colorAxis,F.fillText(af,y.x-q,y.y))},i.prototype._hsv2rgb=function(z,b,k){var v,q,y,x,A,j;switch(x=k*b,A=Math.floor(z/60),j=x*(1-Math.abs(z/60%2-1)),A){case 0:v=x,q=j,y=0;break;case 1:v=j,q=x,y=0;break;case 2:v=0,q=x,y=j;break;case 3:v=0,q=j,y=x;break;case 4:v=j,q=0,y=x;break;case 5:v=x,q=0,y=j;break;default:v=0,q=0,y=0}return"RGB("+parseInt(255*v)+","+parseInt(255*q)+","+parseInt(255*y)+")"},i.prototype._redrawDataGrid=function(){var D,b,v,z,C,B,ah,q,ak,E,aj,A,j,y=this.frame.canvas,F=y.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(C=0;C<this.dataPoints.length;C++){var k=this._convertPointToTranslation(this.dataPoints[C].point),M=this._convertTranslationToScreen(k);this.dataPoints[C].trans=k,this.dataPoints[C].screen=M;var ai=this._convertPointToTranslation(this.dataPoints[C].bottom);this.dataPoints[C].dist=this.showPerspective?ai.length():-ai.z}var G=function(K,L){return L.dist-K.dist};if(this.dataPoints.sort(G),this.style===i.STYLE.SURFACE){for(C=0;C<this.dataPoints.length;C++){if(D=this.dataPoints[C],b=this.dataPoints[C].pointRight,v=this.dataPoints[C].pointTop,z=this.dataPoints[C].pointCross,void 0!==D&&void 0!==b&&void 0!==v&&void 0!==z){if(this.showGrayBottom||this.showShadow){var ag=p.subtract(z.trans,D.trans),H=p.subtract(v.trans,b.trans),x=p.crossProduct(ag,H),af=x.length();B=x.z>0}else{B=!0}B?(j=(D.point.z+b.point.z+v.point.z+z.point.z)/4,E=240*(1-(j-this.zMin)*this.scale.z/this.verticalRatio),aj=1,this.showShadow?(A=Math.min(1+x.x/af/2,1),ah=this._hsv2rgb(E,aj,A),q=ah):(A=1,ah=this._hsv2rgb(E,aj,A),q=this.colorAxis)):(ah="gray",q=this.colorAxis),ak=0.5,F.lineWidth=ak,F.fillStyle=ah,F.strokeStyle=q,F.beginPath(),F.moveTo(D.screen.x,D.screen.y),F.lineTo(b.screen.x,b.screen.y),F.lineTo(z.screen.x,z.screen.y),F.lineTo(v.screen.x,v.screen.y),F.closePath(),F.fill(),F.stroke()}}}else{for(C=0;C<this.dataPoints.length;C++){D=this.dataPoints[C],b=this.dataPoints[C].pointRight,v=this.dataPoints[C].pointTop,void 0!==D&&(ak=this.showPerspective?2/-D.trans.z:2*-(this.eye.z/this.camera.getArmLength())),void 0!==D&&void 0!==b&&(j=(D.point.z+b.point.z)/2,E=240*(1-(j-this.zMin)*this.scale.z/this.verticalRatio),F.lineWidth=ak,F.strokeStyle=this._hsv2rgb(E,1,1),F.beginPath(),F.moveTo(D.screen.x,D.screen.y),F.lineTo(b.screen.x,b.screen.y),F.stroke()),void 0!==D&&void 0!==v&&(j=(D.point.z+v.point.z)/2,E=240*(1-(j-this.zMin)*this.scale.z/this.verticalRatio),F.lineWidth=ak,F.strokeStyle=this._hsv2rgb(E,1,1),F.beginPath(),F.moveTo(D.screen.x,D.screen.y),F.lineTo(v.screen.x,v.screen.y),F.stroke())}}}},i.prototype._redrawDataDot=function(){var k,z=this.frame.canvas,C=z.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(k=0;k<this.dataPoints.length;k++){var F=this._convertPointToTranslation(this.dataPoints[k].point),j=this._convertTranslationToScreen(F);this.dataPoints[k].trans=F,this.dataPoints[k].screen=j;var b=this._convertPointToTranslation(this.dataPoints[k].bottom);this.dataPoints[k].dist=this.showPerspective?b.length():-b.z}var v=function(H,K){return K.dist-H.dist};this.dataPoints.sort(v);var B=0.02*this.frame.clientWidth;for(k=0;k<this.dataPoints.length;k++){var y=this.dataPoints[k];if(this.style===i.STYLE.DOTLINE){var D=this._convert3Dto2D(y.bottom);C.lineWidth=1,C.strokeStyle=this.colorGrid,C.beginPath(),C.moveTo(D.x,D.y),C.lineTo(y.screen.x,y.screen.y),C.stroke()}var q;q=this.style===i.STYLE.DOTSIZE?B/2+2*B*(y.point.value-this.valueMin)/(this.valueMax-this.valueMin):B;var x;x=this.showPerspective?q/-y.trans.z:q*-(this.eye.z/this.camera.getArmLength()),0>x&&(x=0);var G,A,E;this.style===i.STYLE.DOTCOLOR?(G=240*(1-(y.point.value-this.valueMin)*this.scale.value),A=this._hsv2rgb(G,1,1),E=this._hsv2rgb(G,1,0.8)):this.style===i.STYLE.DOTSIZE?(A=this.colorDot,E=this.colorDotBorder):(G=240*(1-(y.point.z-this.zMin)*this.scale.z/this.verticalRatio),A=this._hsv2rgb(G,1,1),E=this._hsv2rgb(G,1,0.8)),C.lineWidth=1,C.strokeStyle=E,C.fillStyle=A,C.beginPath(),C.arc(y.screen.x,y.screen.y,x,0,2*Math.PI,!0),C.fill(),C.stroke()}}},i.prototype._redrawDataBar=function(){var F,k,y,B,E=this.frame.canvas,D=E.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(F=0;F<this.dataPoints.length;F++){var ah=this._convertPointToTranslation(this.dataPoints[F].point),x=this._convertTranslationToScreen(ah);this.dataPoints[F].trans=ah,this.dataPoints[F].screen=x;var j=this._convertPointToTranslation(this.dataPoints[F].bottom);this.dataPoints[F].dist=this.showPerspective?j.length():-j.z}var G=function(K,L){return L.dist-K.dist};this.dataPoints.sort(G);var b=this.xBarWidth/2,C=this.yBarWidth/2;for(F=0;F<this.dataPoints.length;F++){var q,A,H,v=this.dataPoints[F];this.style===i.STYLE.BARCOLOR?(q=240*(1-(v.point.value-this.valueMin)*this.scale.value),A=this._hsv2rgb(q,1,1),H=this._hsv2rgb(q,1,0.8)):this.style===i.STYLE.BARSIZE?(A=this.colorDot,H=this.colorDotBorder):(q=240*(1-(v.point.z-this.zMin)*this.scale.z/this.verticalRatio),A=this._hsv2rgb(q,1,1),H=this._hsv2rgb(q,1,0.8)),this.style===i.STYLE.BARSIZE&&(b=this.xBarWidth/2*((v.point.value-this.valueMin)/(this.valueMax-this.valueMin)*0.8+0.2),C=this.yBarWidth/2*((v.point.value-this.valueMin)/(this.valueMax-this.valueMin)*0.8+0.2));var af=this,ai=v.point,ad=[{point:new p(ai.x-b,ai.y-C,ai.z)},{point:new p(ai.x+b,ai.y-C,ai.z)},{point:new p(ai.x+b,ai.y+C,ai.z)},{point:new p(ai.x-b,ai.y+C,ai.z)}],ag=[{point:new p(ai.x-b,ai.y-C,this.zMin)},{point:new p(ai.x+b,ai.y-C,this.zMin)},{point:new p(ai.x+b,ai.y+C,this.zMin)},{point:new p(ai.x-b,ai.y+C,this.zMin)}];ad.forEach(function(K){K.screen=af._convert3Dto2D(K.point)}),ag.forEach(function(K){K.screen=af._convert3Dto2D(K.point)});var ae=[{corners:ad,center:p.avg(ag[0].point,ag[2].point)},{corners:[ad[0],ad[1],ag[1],ag[0]],center:p.avg(ag[1].point,ag[0].point)},{corners:[ad[1],ad[2],ag[2],ag[1]],center:p.avg(ag[2].point,ag[1].point)},{corners:[ad[2],ad[3],ag[3],ag[2]],center:p.avg(ag[3].point,ag[2].point)},{corners:[ad[3],ad[0],ag[0],ag[3]],center:p.avg(ag[0].point,ag[3].point)}];for(v.surfaces=ae,k=0;k<ae.length;k++){y=ae[k];var z=this._convertPointToTranslation(y.center);y.dist=this.showPerspective?z.length():-z.z}for(ae.sort(function(M,L){var K=L.dist-M.dist;return K?K:M.corners===ad?1:L.corners===ad?-1:0}),D.lineWidth=1,D.strokeStyle=H,D.fillStyle=A,k=2;k<ae.length;k++){y=ae[k],B=y.corners,D.beginPath(),D.moveTo(B[3].screen.x,B[3].screen.y),D.lineTo(B[0].screen.x,B[0].screen.y),D.lineTo(B[1].screen.x,B[1].screen.y),D.lineTo(B[2].screen.x,B[2].screen.y),D.lineTo(B[3].screen.x,B[3].screen.y),D.fill(),D.stroke()}}}},i.prototype._redrawDataLine=function(){var x,q,j=this.frame.canvas,k=j.getContext("2d");if(!(void 0===this.dataPoints||this.dataPoints.length<=0)){for(q=0;q<this.dataPoints.length;q++){var b=this._convertPointToTranslation(this.dataPoints[q].point),v=this._convertTranslationToScreen(b);this.dataPoints[q].trans=b,this.dataPoints[q].screen=v}for(this.dataPoints.length>0&&(x=this.dataPoints[0],k.lineWidth=1,k.strokeStyle="blue",k.beginPath(),k.moveTo(x.screen.x,x.screen.y)),q=1;q<this.dataPoints.length;q++){x=this.dataPoints[q],k.lineTo(x.screen.x,x.screen.y)}this.dataPoints.length>0&&k.stroke()}},i.prototype._onMouseDown=function(b){if(b=b||window.event,this.leftButtonDown&&this._onMouseUp(b),this.leftButtonDown=b.which?1===b.which:1===b.button,this.leftButtonDown||this.touchDown){this.startMouseX=d(b),this.startMouseY=s(b),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var j=this;this.onmousemove=function(k){j._onMouseMove(k)},this.onmouseup=function(k){j._onMouseUp(k)},c.addEventListener(document,"mousemove",j.onmousemove),c.addEventListener(document,"mouseup",j.onmouseup),c.preventDefault(b)}},i.prototype._onMouseMove=function(b){b=b||window.event;var k=parseFloat(d(b))-this.startMouseX,q=parseFloat(s(b))-this.startMouseY,j=this.startArmRotation.horizontal+k/200,v=this.startArmRotation.vertical+q/200,x=4,z=Math.sin(x/360*2*Math.PI);Math.abs(Math.sin(j))<z&&(j=Math.round(j/Math.PI)*Math.PI-0.001),Math.abs(Math.cos(j))<z&&(j=(Math.round(j/Math.PI-0.5)+0.5)*Math.PI-0.001),Math.abs(Math.sin(v))<z&&(v=Math.round(v/Math.PI)*Math.PI),Math.abs(Math.cos(v))<z&&(v=(Math.round(v/Math.PI-0.5)+0.5)*Math.PI),this.camera.setArmRotation(j,v),this.redraw();var y=this.getCameraPosition();this.emit("cameraPositionChange",y),c.preventDefault(b)},i.prototype._onMouseUp=function(b){this.frame.style.cursor="auto",this.leftButtonDown=!1,c.removeEventListener(document,"mousemove",this.onmousemove),c.removeEventListener(document,"mouseup",this.onmouseup),c.preventDefault(b)},i.prototype._onTooltip=function(k){var y=300,v=this.frame.getBoundingClientRect(),q=d(k)-v.left,b=s(k)-v.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown){return void this._hideTooltip()}if(this.tooltip&&this.tooltip.dataPoint){var x=this._dataPointFromXY(q,b);x!==this.tooltip.dataPoint&&(x?this._showTooltip(x):this._hideTooltip())}else{var j=this;this.tooltipTimeout=setTimeout(function(){j.tooltipTimeout=null;var z=j._dataPointFromXY(q,b);z&&j._showTooltip(z)},y)}}},i.prototype._onTouchStart=function(b){this.touchDown=!0;var j=this;this.ontouchmove=function(k){j._onTouchMove(k)},this.ontouchend=function(k){j._onTouchEnd(k)},c.addEventListener(document,"touchmove",j.ontouchmove),c.addEventListener(document,"touchend",j.ontouchend),this._onMouseDown(b)},i.prototype._onTouchMove=function(b){this._onMouseMove(b)},i.prototype._onTouchEnd=function(b){this.touchDown=!1,c.removeEventListener(document,"touchmove",this.ontouchmove),c.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(b)},i.prototype._onWheel=function(v){v||(v=window.event);var q=0;if(v.wheelDelta?q=v.wheelDelta/120:v.detail&&(q=-v.detail/3),q){var b=this.camera.getArmLength(),k=b*(1-q/10);this.camera.setArmLength(k),this.redraw(),this._hideTooltip()}var j=this.getCameraPosition();this.emit("cameraPositionChange",j),c.preventDefault(v)},i.prototype._insideTriangle=function(z,b){function k(B){return B>0?1:0>B?-1:0}var v=b[0],q=b[1],y=b[2],x=k((q.x-v.x)*(z.y-v.y)-(q.y-v.y)*(z.x-v.x)),A=k((y.x-q.x)*(z.y-q.y)-(y.y-q.y)*(z.x-q.x)),j=k((v.x-y.x)*(z.y-y.y)-(v.y-y.y)*(z.x-y.x));return !(0!=x&&0!=A&&x!=A||0!=A&&0!=j&&A!=j||0!=x&&0!=j&&x!=j)},i.prototype._dataPointFromXY=function(H,v){var A,D=100,G=null,F=null,b=null,z=new u(H,v);if(this.style===i.STYLE.BAR||this.style===i.STYLE.BARCOLOR||this.style===i.STYLE.BARSIZE){for(A=this.dataPoints.length-1;A>=0;A--){G=this.dataPoints[A];var q=G.surfaces;if(q){for(var B=q.length-1;B>=0;B--){var k=q[B],E=k.corners,x=[E[0].screen,E[1].screen,E[2].screen],C=[E[2].screen,E[3].screen,E[0].screen];if(this._insideTriangle(z,x)||this._insideTriangle(z,C)){return G}}}}}else{for(A=0;A<this.dataPoints.length;A++){G=this.dataPoints[A];var Z=G.screen;if(Z){var y=Math.abs(H-Z.x),aa=Math.abs(v-Z.y),j=Math.sqrt(y*y+aa*aa);(null===b||b>j)&&D>j&&(b=j,F=G)}}}return F},i.prototype._showTooltip=function(y){var B,j,q;this.tooltip?(B=this.tooltip.dom.content,j=this.tooltip.dom.line,q=this.tooltip.dom.dot):(B=document.createElement("div"),B.style.position="absolute",B.style.padding="10px",B.style.border="1px solid #4d4d4d",B.style.color="#1a1a1a",B.style.background="rgba(255,255,255,0.7)",B.style.borderRadius="2px",B.style.boxShadow="5px 5px 10px rgba(128,128,128,0.5)",j=document.createElement("div"),j.style.position="absolute",j.style.height="40px",j.style.width="0",j.style.borderLeft="1px solid #4d4d4d",q=document.createElement("div"),q.style.position="absolute",q.style.height="0",q.style.width="0",q.style.border="5px solid #4d4d4d",q.style.borderRadius="5px",this.tooltip={dataPoint:null,dom:{content:B,line:j,dot:q}}),this._hideTooltip(),this.tooltip.dataPoint=y,"function"==typeof this.showTooltip?B.innerHTML=this.showTooltip(y.point):B.innerHTML="<table><tr><td>x:</td><td>"+y.point.x+"</td></tr><tr><td>y:</td><td>"+y.point.y+"</td></tr><tr><td>z:</td><td>"+y.point.z+"</td></tr></table>",B.style.left="0",B.style.top="0",this.frame.appendChild(B),this.frame.appendChild(j),this.frame.appendChild(q);var k=B.offsetWidth,v=B.offsetHeight,x=j.offsetHeight,z=q.offsetWidth,b=q.offsetHeight,A=y.screen.x-k/2;A=Math.min(Math.max(A,10),this.frame.clientWidth-10-k),j.style.left=y.screen.x+"px",j.style.top=y.screen.y-x+"px",B.style.left=A+"px",B.style.top=y.screen.y-x-v+"px",q.style.left=y.screen.x-z/2+"px",q.style.top=y.screen.y-b/2+"px"},i.prototype._hideTooltip=function(){if(this.tooltip){this.tooltip.dataPoint=null;for(var b in this.tooltip.dom){if(this.tooltip.dom.hasOwnProperty(b)){var j=this.tooltip.dom[b];j&&j.parentNode&&j.parentNode.removeChild(j)}}}},t.exports=i},function(f,j,h){function i(b,a){this.x=void 0!==b?b:0,this.y=void 0!==a?a:0}f.exports=i},function(h,l,i){function k(a){return a?j(a):void 0}function j(b){for(var a in k.prototype){b[a]=k.prototype[a]}return b}h.exports=k,k.prototype.on=k.prototype.addEventListener=function(b,a){return this._callbacks=this._callbacks||{},(this._callbacks[b]=this._callbacks[b]||[]).push(a),this},k.prototype.once=function(c,b){function d(){a.off(c,d),b.apply(this,arguments)}var a=this;return this._callbacks=this._callbacks||{},d.fn=b,this.on(c,d),this},k.prototype.off=k.prototype.removeListener=k.prototype.removeAllListeners=k.prototype.removeEventListener=function(d,c){if(this._callbacks=this._callbacks||{},0==arguments.length){return this._callbacks={},this}var f=this._callbacks[d];if(!f){return this}if(1==arguments.length){return delete this._callbacks[d],this}for(var b,a=0;a<f.length;a++){if(b=f[a],b===c||b.fn===c){f.splice(a,1);break}}return this},k.prototype.emit=function(d){this._callbacks=this._callbacks||{};var c=[].slice.call(arguments,1),f=this._callbacks[d];if(f){f=f.slice(0);for(var b=0,a=f.length;a>b;++b){f[b].apply(this,c)}}return this},k.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks[a]||[]},k.prototype.hasListeners=function(a){return !!this.listeners(a).length}},function(f,j,h){function i(b,a,c){this.x=void 0!==b?b:0,this.y=void 0!==a?a:0,this.z=void 0!==c?c:0}i.subtract=function(b,a){var c=new i;return c.x=b.x-a.x,c.y=b.y-a.y,c.z=b.z-a.z,c},i.add=function(b,a){var c=new i;return c.x=b.x+a.x,c.y=b.y+a.y,c.z=b.z+a.z,c},i.avg=function(b,a){return new i((b.x+a.x)/2,(b.y+a.y)/2,(b.z+a.z)/2)},i.crossProduct=function(b,a){var c=new i;return c.x=b.y*a.z-b.z*a.y,c.y=b.z*a.x-b.x*a.z,c.z=b.x*a.y-b.y*a.x,c},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},f.exports=i},function(h,l,i){function k(){this.armLocation=new j,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraLocation=new j,this.cameraRotation=new j(0.5*Math.PI,0,0),this.calculateCameraOrientation()}var j=i(14);k.prototype.setArmLocation=function(b,a,c){this.armLocation.x=b,this.armLocation.y=a,this.armLocation.z=c,this.calculateCameraOrientation()},k.prototype.setArmRotation=function(b,a){void 0!==b&&(this.armRotation.horizontal=b),void 0!==a&&(this.armRotation.vertical=a,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>0.5*Math.PI&&(this.armRotation.vertical=0.5*Math.PI)),(void 0!==b||void 0!==a)&&this.calculateCameraOrientation()},k.prototype.getArmRotation=function(){var a={};return a.horizontal=this.armRotation.horizontal,a.vertical=this.armRotation.vertical,a},k.prototype.setArmLength=function(a){void 0!==a&&(this.armLength=a,this.armLength<0.71&&(this.armLength=0.71),this.armLength>5&&(this.armLength=5),this.calculateCameraOrientation())},k.prototype.getArmLength=function(){return this.armLength},k.prototype.getCameraLocation=function(){return this.cameraLocation},k.prototype.getCameraRotation=function(){return this.cameraRotation},k.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal},h.exports=k},function(h,l,i){function k(b,a,c){this.data=b,this.column=a,this.graph=c,this.index=void 0,this.value=void 0,this.values=c.getDistinctValues(b.get(),this.column),this.values.sort(function(f,d){return f>d?1:d>f?-1:0}),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,c.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}var j=i(10);k.prototype.isLoaded=function(){return this.loaded},k.prototype.getLoadedProgress=function(){for(var b=this.values.length,a=0;this.dataPoints[a];){a++}return Math.round(a/b*100)},k.prototype.getLabel=function(){return this.graph.filterLabel},k.prototype.getColumn=function(){return this.column},k.prototype.getSelectedValue=function(){return void 0===this.index?void 0:this.values[this.index]},k.prototype.getValues=function(){return this.values},k.prototype.getValue=function(a){if(a>=this.values.length){throw"Error: index out of range"}return this.values[a]},k.prototype._getDataPoints=function(c){if(void 0===c&&(c=this.index),void 0===c){return[]}var b;if(this.dataPoints[c]){b=this.dataPoints[c]}else{var d={};d.column=this.column,d.value=this.values[c];var a=new j(this.data,{filter:function(f){return f[d.column]==d.value}}).get();b=this.graph._getDataPoints(a),this.dataPoints[c]=b}return b},k.prototype.setOnLoadCallback=function(a){this.onLoadCallback=a},k.prototype.selectValue=function(a){if(a>=this.values.length){throw"Error: index out of range"}this.index=a,this.value=this.values[a]},k.prototype.loadInBackground=function(c){void 0===c&&(c=0);var b=this.graph.frame;if(c<this.values.length){this._getDataPoints(c);void 0===b.progress&&(b.progress=document.createElement("DIV"),b.progress.style.position="absolute",b.progress.style.color="gray",b.appendChild(b.progress));var d=this.getLoadedProgress();b.progress.innerHTML="Loading animation... "+d+"%",b.progress.style.bottom="60px",b.progress.style.left="10px";var a=this;setTimeout(function(){a.loadInBackground(c+1)},10),this.loaded=!1}else{this.loaded=!0,void 0!==b.progress&&(b.removeChild(b.progress),b.progress=void 0),this.onLoadCallback&&this.onLoadCallback()}},h.exports=k},function(h,l,i){function k(b,a){if(void 0===b){throw"Error: No container element defined"}if(this.container=b,this.visible=a&&void 0!=a.visible?a.visible:!0,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var c=this;this.frame.slide.onmousedown=function(d){c._onMouseDown(d)},this.frame.prev.onclick=function(d){c.prev(d)},this.frame.play.onclick=function(d){c.togglePlay(d)},this.frame.next.onclick=function(d){c.next(d)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1000,this.playLoop=!0}var j=i(1);k.prototype.prev=function(){var a=this.getIndex();a>0&&(a--,this.setIndex(a))},k.prototype.next=function(){var a=this.getIndex();a<this.values.length-1&&(a++,this.setIndex(a))},k.prototype.playNext=function(){var d=new Date,b=this.getIndex();b<this.values.length-1?(b++,this.setIndex(b)):this.playLoop&&(b=0,this.setIndex(b));var f=new Date,a=f-d,n=Math.max(this.playInterval-a,0),c=this;this.playTimeout=setTimeout(function(){c.playNext()},n)},k.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},k.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},k.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},k.prototype.setOnChangeCallback=function(a){this.onChangeCallback=a},k.prototype.setPlayInterval=function(a){this.playInterval=a},k.prototype.getPlayInterval=function(a){return this.playInterval},k.prototype.setPlayLoop=function(a){this.playLoop=a},k.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},k.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var a=this.indexToLeft(this.index);this.frame.slide.style.left=a+"px"}},k.prototype.setValues=function(a){this.values=a,this.values.length>0?this.setIndex(0):this.index=void 0},k.prototype.setIndex=function(a){if(!(a<this.values.length)){throw"Error: index out of range"}this.index=a,this.redraw(),this.onChange()},k.prototype.getIndex=function(){return this.index},k.prototype.get=function(){return this.values[this.index]},k.prototype._onMouseDown=function(b){var a=b.which?1===b.which:1===b.button;if(a){this.startClientX=b.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var c=this;this.onmousemove=function(d){c._onMouseMove(d)},this.onmouseup=function(d){c._onMouseUp(d)},j.addEventListener(document,"mousemove",this.onmousemove),j.addEventListener(document,"mouseup",this.onmouseup),j.preventDefault(b)}},k.prototype.leftToIndex=function(c){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,d=c-3,a=Math.round(d/b*(this.values.length-1));return 0>a&&(a=0),a>this.values.length-1&&(a=this.values.length-1),a},k.prototype.indexToLeft=function(c){var b=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,d=c/(this.values.length-1)*b,a=d+3;return a},k.prototype._onMouseMove=function(c){var b=c.clientX-this.startClientX,d=this.startSlideX+b,a=this.leftToIndex(d);this.setIndex(a),j.preventDefault()},k.prototype._onMouseUp=function(a){this.frame.style.cursor="auto",j.removeEventListener(document,"mousemove",this.onmousemove),j.removeEventListener(document,"mouseup",this.onmouseup),j.preventDefault()},h.exports=k},function(f,j,h){function i(c,b,d,a){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(c,b,d,a)}i.prototype.setRange=function(c,b,d,a){this._start=c?c:0,this._end=b?b:0,this.setStep(d,a)},i.prototype.setStep=function(b,a){void 0===b||0>=b||(void 0!==a&&(this.prettyStep=a),this.prettyStep===!0?this._step=i.calculatePrettyStep(b):this._step=b)},i.calculatePrettyStep=function(n){var c=function(k){return Math.log(k)/Math.LN10},o=Math.pow(10,Math.round(c(n))),b=2*Math.pow(10,Math.round(c(n/2))),a=5*Math.pow(10,Math.round(c(n/5))),d=o;return Math.abs(b-n)<=Math.abs(d-n)&&(d=b),Math.abs(a-n)<=Math.abs(d-n)&&(d=a),0>=d&&(d=1),d},i.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},i.prototype.getStep=function(){return this._step},i.prototype.start=function(){this._current=this._start-this._start%this._step},i.prototype.next=function(){this._current+=this._step},i.prototype.end=function(){return this._current>this._end},f.exports=i},function(v,l,p){function d(q,y,x,k){if(!(this instanceof d)){throw new SyntaxError("Constructor must be called with the new operator")}if(!(Array.isArray(x)||x instanceof t||x instanceof i)&&x instanceof Object){var j=k;k=x,x=j}var b=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},width:null,height:null,maxHeight:null,minHeight:null},this.options=u.deepExtend({},this.defaultOptions),this._create(q),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return b.timeAxis.step.scale},getStep:function(){return b.timeAxis.step.step},toScreen:b._toScreen.bind(b),toGlobalScreen:b._toGlobalScreen.bind(b),toTime:b._toTime.bind(b),toGlobalTime:b._toGlobalTime.bind(b)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new r(this.body),this.components.push(this.currentTime),this.itemSet=new c(this.body),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.on("tap",function(z){b.emit("click",b.getEventProperties(z))}),this.on("doubletap",function(z){b.emit("doubleClick",b.getEventProperties(z))}),this.dom.root.oncontextmenu=function(z){b.emit("contextmenu",b.getEventProperties(z))},this.configurator=new f(this,q,n),k&&this.setOptions(k),x&&this.setGroups(x),y?this.setItems(y):this._redraw()}var u=(p(13),p(23),p(1)),t=p(8),i=p(10),a=p(27),o=p(30),h=p(41),r=p(20),M=p(44),c=p(31),f=p(45),m=p(47)["default"],s=p(47).printStyle,N=p(48).allOptions,n=p(48).configureOptions;d.prototype=new o,d.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},d.prototype.setOptions=function(q){var k=m.validate(q,N);if(k===!0&&console.log("%cErrors have been found in the supplied options object.",s),o.prototype.setOptions.call(this,q),"type" in q&&q.type!==this.options.type){this.options.type=q.type;var b=this.itemsData;if(b){var j=this.getSelection();this.setItems(null),this.setItems(b),this.setSelection(j)}}},d.prototype.setItems=function(q){var k,x=null==this.itemsData;if(k=q?q instanceof t||q instanceof i?q:new t(q,{type:{start:"Date",end:"Date"}}):null,this.itemsData=k,this.itemSet&&this.itemSet.setItems(k),x){if(void 0!=this.options.start||void 0!=this.options.end){if(void 0==this.options.start||void 0==this.options.end){var j=this.getItemRange()}var b=void 0!=this.options.start?this.options.start:j.min,y=void 0!=this.options.end?this.options.end:j.max;this.setWindow(b,y,{animation:!1})}else{this.fit({animation:!1})}}},d.prototype.setGroups=function(b){var j;j=b?b instanceof t||b instanceof i?b:new t(b):null,this.groupsData=j,this.itemSet.setGroups(j)},d.prototype.setData=function(b){b&&b.groups&&this.setGroups(b.groups),b&&b.items&&this.setItems(b.items)},d.prototype.setSelection=function(b,j){this.itemSet&&this.itemSet.setSelection(b),j&&j.focus&&this.focus(b,j)},d.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},d.prototype.focus=function(A,b){if(this.itemsData&&void 0!=A){var k=Array.isArray(A)?A:[A],y=this.itemsData.getDataSet().get(k,{type:{start:"Date",end:"Date"}}),q=null,x=null;if(y.forEach(function(D){var E=D.start.valueOf(),C="end" in D?D.end.valueOf():D.start.valueOf();(null===q||q>E)&&(q=E),(null===x||C>x)&&(x=C)}),null!==q&&null!==x){var z=(q+x)/2,B=Math.max(this.range.end-this.range.start,1.1*(x-q)),j=b&&void 0!==b.animation?b.animation:!0;this.range.setRange(z-B/2,z+B/2,j)}}},d.prototype.fit=function(k){var j=k&&void 0!==k.animation?k.animation:!0,b=this.getItemRange();this.range.setRange(b.min,b.max,j)},d.prototype.getItemRange=function(){var x=this,D=this.getDataRange(),j=D.min,z=D.max,q=null,C=null;if(null!=j&&null!=z){var A,b,B,k,y;!function(){var E=function(G){return u.convert(G.data.start,"Date").valueOf()},F=function(H){var G=void 0!=H.data.end?H.data.end:H.data.start;return u.convert(G,"Date").valueOf()};A=z-j,0>=A&&(A=10),b=A/x.props.center.width,u.forEach(x.itemSet.items,function(L){L.show();var I=E(L),G=F(L),K=new Date(I-(L.getWidthLeft()+10)*b),H=new Date(G+(L.getWidthRight()+10)*b);j>K&&(j=K,q=L),H>z&&(z=H,C=L)}.bind(x)),q&&C&&(B=q.getWidthLeft()+10,k=C.getWidthRight()+10,y=x.props.center.width-B-k,y>0&&(j=E(q)-B*A/y,z=F(C)+k*A/y))}()}return{min:null!=j?new Date(j):null,max:null!=z?new Date(z):null}},d.prototype.getDataRange=function(){var k=null,j=null,b=this.itemsData&&this.itemsData.getDataSet();return b&&b.forEach(function(y){var q=u.convert(y.start,"Date").valueOf(),x=u.convert(void 0!=y.end?y.end:y.start,"Date").valueOf();(null===k||k>q)&&(k=q),(null===j||x>j)&&(j=q)}),{min:null!=k?new Date(k):null,max:null!=j?new Date(j):null}},d.prototype.getEventProperties=function(j){var A=j.center?j.center.x:j.clientX,D=j.center?j.center.y:j.clientY,G=A-u.getAbsoluteLeft(this.dom.centerContainer),b=D-u.getAbsoluteTop(this.dom.centerContainer),q=this.itemSet.itemFromTarget(j),x=this.itemSet.groupFromTarget(j),C=M.customTimeFromTarget(j),z=this.itemSet.options.snap||null,E=this.body.util.getScale(),y=this.body.util.getStep(),H=this._toTime(G),B=z?z(H,E,y):H,F=u.getTarget(j),k=null;return null!=q?k="item":null!=C?k="custom-time":u.hasParent(F,this.timeAxis.dom.foreground)?k="axis":this.timeAxis2&&u.hasParent(F,this.timeAxis2.dom.foreground)?k="axis":u.hasParent(F,this.itemSet.dom.labelSet)?k="group-label":u.hasParent(F,this.currentTime.bar)?k="current-time":u.hasParent(F,this.dom.center)&&(k="background"),{event:j,item:q?q.id:null,group:x?x.groupId:null,what:k,pageX:j.srcEvent?j.srcEvent.pageX:j.pageX,pageY:j.srcEvent?j.srcEvent.pageY:j.pageY,x:G,y:b,time:H,snappedTime:B}},v.exports=d},function(q,n,r){function m(b,c){this.body=b,this.defaultOptions={showCurrentTime:!0,locales:a,locale:"en"},this.options=i.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(c)}var i=r(1),p=r(21),o=r(2),a=r(22);m.prototype=new p,m.prototype._create=function(){var b=document.createElement("div");b.className="vis-current-time",b.style.position="absolute",b.style.top="0px",b.style.height="100%",this.bar=b},m.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},m.prototype.setOptions=function(b){b&&i.selectiveExtend(["showCurrentTime","locale","locales"],this.options,b)},m.prototype.redraw=function(){if(this.options.showCurrentTime){var b=this.body.dom.backgroundVertical;this.bar.parentNode!=b&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),b.appendChild(this.bar),this.start());var h=new Date((new Date).valueOf()+this.offset),c=this.body.util.toScreen(h),f=this.options.locales[this.options.locale];f||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),f=this.options.locales.en);var d=f.current+" "+f.time+": "+o(h).format("dddd, MMMM Do YYYY, H:mm:ss");d=d.charAt(0).toUpperCase()+d.substring(1),this.bar.style.left=c+"px",this.bar.title=d}else{this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop()}return !1},m.prototype.start=function(){function b(){c.stop();var d=c.body.range.conversion(c.body.domProps.center.width).scale,f=1/d/10;30>f&&(f=30),f>1000&&(f=1000),c.redraw(),c.currentTimeTimer=setTimeout(b,f)}var c=this;b()},m.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},m.prototype.setCurrentTime=function(b){var d=i.convert(b,"Date").valueOf(),c=(new Date).valueOf();this.offset=d-c,this.redraw()},m.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},q.exports=m},function(f,j,h){function i(b,a){this.options=null,this.props=null}i.prototype.setOptions=function(a){a&&util.extend(this.options,a)},i.prototype.redraw=function(){return !1},i.prototype.destroy=function(){},i.prototype._isResized=function(){var a=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,a},f.exports=i},function(d,h,f){h.en={current:"current",time:"time"},h.en_EN=h.en,h.en_US=h.en,h.nl={current:"huidige",time:"tijd"},h.nl_NL=h.nl,h.nl_BE=h.nl},function(h,l,i){if("undefined"!=typeof window){var k=i(24),j=window.Hammer||i(25);h.exports=k(j,{preventDefault:"mouse"})}else{h.exports=function(){throw Error("hammer.js is only available in a browser, not in node.js.")}}},function(i,m,j){var l,k,n;!function(a){k=[],l=a,n="function"==typeof l?l.apply(m,k):l,!(void 0!==n&&(i.exports=n))}(function(){var b=null;return function a(A,f){function d(p){return p.match(/[^ ]+/g)}function o(u){if("hammer.input"!==u.type){if(u.srcEvent._handled||(u.srcEvent._handled={}),u.srcEvent._handled[u.type]){return}u.srcEvent._handled[u.type]=!0}var q=!1;u.stopPropagation=function(){q=!0},u.firstTarget=b;for(var p=b;p&&!q;){var v=p.hammer&&p.hammer._handlers[u.type];if(v){for(var t=0;t<v.length&&!q;t++){v[t](u)}}p=p.parentNode}}var h=f||{preventDefault:!1};if(A.Manager){var r=A,z=function(t,p){var q=Object.create(h);return p&&r.extend(q,p),a(new r(t,q),q)};return r.extend(z,r),z.Manager=function(t,p){var q=Object.create(h);return p&&r.extend(q,p),a(new r.Manager(t,q),q)},z}var s=Object.create(A),c=A.element;return c.hammer=s,A.on("hammer.input",function(p){(h.preventDefault===!0||h.preventDefault===p.pointerType)&&p.preventDefault(),p.isFirst&&(b=p.target)}),s._handlers={},s.on=function(p,q){return d(p).forEach(function(u){var t=s._handlers[u];t||(s._handlers[u]=t=[],A.on(u,o)),t.push(q)}),s},s.off=function(p,q){return d(p).forEach(function(u){var t=s._handlers[u];t&&(t=q?t.filter(function(v){return v!==q}):[],t.length>0?s._handlers[u]=t:(A.off(u,o),delete s._handlers[u]))}),s},s.emit=function(p,q){b=q.target,A.emit(p,q)},s.destroy=function(){delete A.element.hammer,s._handlers={},A.destroy()},s}})},function(f,j,h){var i;!function(co,cv,ct,cI){function cb(t,o,aa){return setTimeout(bY(t,aa),o)}function bX(t,o,aa){return Array.isArray(t)?(cj(t,aa[o],aa),!0):!1}function cj(aa,t,ab){var o;if(aa){if(aa.forEach){aa.forEach(t,ab)}else{if(aa.length!==cI){for(o=0;o<aa.length;){t.call(ab,aa[o],o,aa),o++}}else{for(o in aa){aa.hasOwnProperty(o)&&t.call(ab,aa[o],o,aa)}}}}}function cw(ab,aa,ac){for(var t=Object.keys(aa),o=0;o<t.length;){(!ac||ac&&ab[t[o]]===cI)&&(ab[t[o]]=aa[t[o]]),o++}return ab}function bV(t,o){return cw(t,o,!0)}function cp(ab,aa,ac){var t,o=aa.prototype;t=ab.prototype=Object.create(o),t.constructor=ab,t._super=o,ac&&cw(t,ac)}function bY(t,o){return function(){return t.apply(o,arguments)}}function cm(t,o){return typeof t==Y?t.apply(o?o[0]||cI:cI,o):t}function cx(t,o){return t===cI?o:t}function b9(t,o,aa){cj(cH(o),function(ab){t.addEventListener(ab,aa,!1)})}function Q(t,o,aa){cj(cH(o),function(ab){t.removeEventListener(ab,aa,!1)})}function bU(t,o){for(;t;){if(t==o){return !0}t=t.parentNode}return !1}function N(t,o){return t.indexOf(o)>-1}function cH(o){return o.trim().split(/\s+/g)}function P(aa,t,ab){if(aa.indexOf&&!ab){return aa.indexOf(t)}for(var o=0;o<aa.length;){if(ab&&aa[o][ab]==t||!ab&&aa[o]===t){return o}o++}return -1}function ch(o){return Array.prototype.slice.call(o,0)}function u(ac,t,ad){for(var o=[],af=[],ab=0;ab<ac.length;){var aa=t?ac[ab][t]:ac[ab];P(af,aa)<0&&o.push(ac[ab]),af[ab]=aa,ab++}return ad&&(o=t?o.sort(function(ag,ah){return ag[t]>ah[t]}):o.sort()),o}function A(ac,aa){for(var ad,t,o=aa[0].toUpperCase()+aa.slice(1),ab=0;ab<at.length;){if(ad=at[ab],t=ad?ad+o:aa,t in ac){return t}ab++}return cI}function bx(){return ba++}function H(t){var o=t.ownerDocument;return o.defaultView||o.parentWindow}function bu(t,o){var aa=this;this.manager=t,this.callback=o,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(ab){cm(t.options.enable,[t])&&aa.handler(ab)},this.init()}function bT(t){var o,aa=t.options.inputClass;return new (o=aa?aa:b8?M:ci?K:bv?cB:cD)(t,F)}function F(ac,t,ad){var o=ad.pointers.length,af=ad.changedPointers.length,ab=t&cF&&o-af===0,aa=t&(cg|cr)&&o-af===0;ad.isFirst=!!ab,ad.isFinal=!!aa,ab&&(ac.session={}),ad.eventType=t,B(ac,ad),ac.emit("hammer.input",ad),ac.recognize(ad),ac.session.prevInput=ad}function B(ah,t){var ab=ah.session,ad=t.pointers,ac=ad.length;ab.firstInput||(ab.firstInput=T(t)),ac>1&&!ab.firstMultiple?ab.firstMultiple=T(t):1===ac&&(ab.firstMultiple=!1);var ag=ab.firstInput,af=ab.firstMultiple,ai=af?af.center:ag.center,aa=t.center=bq(ad);t.timeStamp=bo(),t.deltaTime=t.timeStamp-ag.timeStamp,t.angle=k(ai,aa),t.distance=D(ai,aa),n(ab,t),t.offsetDirection=br(t.deltaX,t.deltaY),t.scale=af?m(af.pointers,ad):1,t.rotation=af?cf(af.pointers,ad):0,x(ab,t);var o=ah.element;bU(t.srcEvent.target,o)&&(o=t.srcEvent.target),t.target=o}function n(ac,aa){var ad=aa.center,t=ac.offsetDelta||{},o=ac.prevDelta||{},ab=ac.prevInput||{};(aa.eventType===cF||ab.eventType===cg)&&(o=ac.prevDelta={x:ab.deltaX||0,y:ab.deltaY||0},t=ac.offsetDelta={x:ad.x,y:ad.y}),aa.deltaX=o.x+(ad.x-t.x),aa.deltaY=o.y+(ad.y-t.y)}function x(ag,aj){var t,ad,ac,aa,af=ag.lastInterval||aj,o=aj.timeStamp-af.timeStamp;if(aj.eventType!=cr&&(o>az||af.velocity===cI)){var ai=af.deltaX-aj.deltaX,ab=af.deltaY-aj.deltaY,ah=s(o,ai,ab);ad=ah.x,ac=ah.y,t=bc(ah.x)>bc(ah.y)?ah.x:ah.y,aa=br(ai,ab),ag.lastInterval=aj}else{t=af.velocity,ad=af.velocityX,ac=af.velocityY,aa=af.direction}aj.velocity=t,aj.velocityX=ad,aj.velocityY=ac,aj.direction=aa}function T(t){for(var o=[],aa=0;aa<t.pointers.length;){o[aa]={clientX:bk(t.pointers[aa].clientX),clientY:bk(t.pointers[aa].clientY)},aa++}return{timeStamp:bo(),pointers:o,center:bq(o),deltaX:t.deltaX,deltaY:t.deltaY}}function bq(ab){var aa=ab.length;if(1===aa){return{x:bk(ab[0].clientX),y:bk(ab[0].clientY)}}for(var ac=0,t=0,o=0;aa>o;){ac+=ab[o].clientX,t+=ab[o].clientY,o++}return{x:bk(ac/aa),y:bk(t/aa)}}function s(t,o,aa){return{x:o/t||0,y:aa/t||0}}function br(t,o){return t===o?cA:bc(t)>=bc(o)?t>0?bb:y:o>0?W:bz}function D(ab,aa,ac){ac||(ac=bl);var t=aa[ac[0]]-ab[ac[0]],o=aa[ac[1]]-ab[ac[1]];return Math.sqrt(t*t+o*o)}function k(ab,aa,ac){ac||(ac=bl);var t=aa[ac[0]]-ab[ac[0]],o=aa[ac[1]]-ab[ac[1]];return 180*Math.atan2(o,t)/Math.PI}function cf(t,o){return k(o[1],o[0],bh)-k(t[1],t[0],bh)}function m(t,o){return D(o[0],o[1],bh)/D(t[0],t[1],bh)}function cD(){this.evEl=ay,this.evWin=S,this.allow=!0,this.pressed=!1,bu.apply(this,arguments)}function M(){this.evEl=b,this.evWin=bp,bu.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function l(){this.evTarget=bg,this.evWin=cy,this.started=!1,bu.apply(this,arguments)}function I(aa,t){var ab=ch(aa.touches),o=ch(aa.changedTouches);return t&(cg|cr)&&(ab=u(ab.concat(o),"identifier",!0)),[ab,o]}function K(){this.evTarget=L,this.targetIds={},bu.apply(this,arguments)}function cq(ah,t){var ab=ch(ah.touches),ad=this.targetIds;if(t&(cF|bj)&&1===ab.length){return ad[ab[0].identifier]=!0,[ab,ab]}var ac,ag,af=ch(ah.changedTouches),o=[],aa=this.target;if(ag=ab.filter(function(ai){return bU(ai.target,aa)}),t===cF){for(ac=0;ac<ag.length;){ad[ag[ac].identifier]=!0,ac++}}for(ac=0;ac<af.length;){ad[af[ac].identifier]&&o.push(af[ac]),t&(cg|cr)&&delete ad[af[ac].identifier],ac++}return o.length?[u(ag.concat(o),"identifier",!0),o]:void 0}function cB(){bu.apply(this,arguments);var o=bY(this.handler,this);this.touch=new K(this.manager,o),this.mouse=new cD(this.manager,o)}function cE(t,o){this.manager=t,this.set(o)}function r(t){if(N(t,ae)){return ae}var o=N(t,ca),aa=N(t,bf);return o&&aa?ca+" "+bf:o||aa?o?ca:bf:N(t,p)?p:cc}function q(o){this.id=bx(),this.manager=null,this.options=bV(o||{},this.defaults),this.options.enable=cx(this.options.enable,!0),this.state=z,this.simultaneous={},this.requireFail=[]}function C(o){return o&ax?"cancel":o&bW?"end":o&ce?"move":o&bd?"start":""}function Z(o){return o==bz?"down":o==W?"up":o==bb?"left":o==y?"right":""}function G(t,o){var aa=o.manager;return aa?aa.get(t):t}function bZ(){q.apply(this,arguments)}function X(){bZ.apply(this,arguments),this.pX=null,this.pY=null}function cz(){bZ.apply(this,arguments)}function cC(){q.apply(this,arguments),this._timer=null,this._input=null}function be(){bZ.apply(this,arguments)}function R(){bZ.apply(this,arguments)}function bt(){q.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function cG(t,o){return o=o||{},o.recognizers=cx(o.recognizers,cG.defaults.preset),new bn(t,o)}function bn(t,o){o=o||{},this.options=bV(o,cG.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=bT(this),this.touchAction=new cE(this,this.options.touchAction),V(this,!0),cj(o.recognizers,function(ab){var aa=this.add(new ab[0](ab[1]));ab[2]&&aa.recognizeWith(ab[2]),ab[3]&&aa.requireFailure(ab[3])},this)}function V(t,o){var aa=t.element;cj(t.options.cssProps,function(ac,ab){aa.style[A(aa.style,ab)]=o?ac:""})}function cs(t,o){var aa=cv.createEvent("Event");aa.initEvent(t,!0,!0),aa.gesture=o,o.target.dispatchEvent(aa)}var at=["","webkit","moz","MS","ms","o"],bi=cv.createElement("div"),Y="function",bk=Math.round,bc=Math.abs,bo=Date.now,ba=1,a=/mobile|tablet|ip(ad|hone|od)|android/i,bv="ontouchstart" in co,b8=A(co,"PointerEvent")!==cI,ci=bv&&a.test(navigator.userAgent),d="touch",O="pen",E="mouse",U="kinect",az=25,cF=1,bj=2,cg=4,cr=8,cA=1,bb=2,y=4,W=8,bz=16,bm=bb|y,bs=W|bz,c=bm|bs,bl=["x","y"],bh=["clientX","clientY"];bu.prototype={handler:function(){},init:function(){this.evEl&&b9(this.element,this.evEl,this.domHandler),this.evTarget&&b9(this.target,this.evTarget,this.domHandler),this.evWin&&b9(H(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Q(this.element,this.evEl,this.domHandler),this.evTarget&&Q(this.target,this.evTarget,this.domHandler),this.evWin&&Q(H(this.element),this.evWin,this.domHandler)}};var cd={mousedown:cF,mousemove:bj,mouseup:cg},ay="mousedown",S="mousemove mouseup";cp(cD,bu,{handler:function(t){var o=cd[t.type];o&cF&&0===t.button&&(this.pressed=!0),o&bj&&1!==t.which&&(o=cg),this.pressed&&this.allow&&(o&cg&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[t],changedPointers:[t],pointerType:E,srcEvent:t}))}});var v={pointerdown:cF,pointermove:bj,pointerup:cg,pointercancel:cr,pointerout:cr},cl={2:d,3:O,4:E,5:U},b="pointerdown",bp="pointermove pointerup pointercancel";co.MSPointerEvent&&(b="MSPointerDown",bp="MSPointerMove MSPointerUp MSPointerCancel"),cp(M,bu,{handler:function(ab){var o=this.store,ac=!1,ag=ab.type.toLowerCase().replace("ms",""),af=v[ag],aa=cl[ab.pointerType]||ab.pointerType,t=aa==d,ad=P(o,ab.pointerId,"pointerId");af&cF&&(0===ab.button||t)?0>ad&&(o.push(ab),ad=o.length-1):af&(cg|cr)&&(ac=!0),0>ad||(o[ad]=ab,this.callback(this.manager,af,{pointers:o,changedPointers:[ab],pointerType:aa,srcEvent:ab}),ac&&o.splice(ad,1))}});var av={touchstart:cF,touchmove:bj,touchend:cg,touchcancel:cr},bg="touchstart",cy="touchstart touchmove touchend touchcancel";cp(l,bu,{handler:function(t){var o=av[t.type];if(o===cF&&(this.started=!0),this.started){var aa=I.call(this,t,o);o&(cg|cr)&&aa[0].length-aa[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:aa[0],changedPointers:aa[1],pointerType:d,srcEvent:t})}}});var a0={touchstart:cF,touchmove:bj,touchend:cg,touchcancel:cr},L="touchstart touchmove touchend touchcancel";cp(K,bu,{handler:function(t){var o=a0[t.type],aa=cq.call(this,t,o);aa&&this.callback(this.manager,o,{pointers:aa[0],changedPointers:aa[1],pointerType:d,srcEvent:t})}}),cp(cB,bu,{handler:function(ab,aa,ac){var t=ac.pointerType==d,o=ac.pointerType==E;if(t){this.mouse.allow=!1}else{if(o&&!this.mouse.allow){return}}aa&(cg|cr)&&(this.mouse.allow=!0),this.callback(ab,aa,ac)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var by=A(bi.style,"touchAction"),bw=by!==cI,cn="compute",cc="auto",p="manipulation",ae="none",ca="pan-x",bf="pan-y";cE.prototype={set:function(o){o==cn&&(o=this.compute()),bw&&(this.manager.element.style[by]=o),this.actions=o.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var o=[];return cj(this.manager.recognizers,function(t){cm(t.options.enable,[t])&&(o=o.concat(t.getTouchAction()))}),r(o.join(" "))},preventDefaults:function(ac){if(!bw){var t=ac.srcEvent,ad=ac.offsetDirection;if(this.manager.session.prevented){return void t.preventDefault()}var o=this.actions,af=N(o,ae),ab=N(o,bf),aa=N(o,ca);return af||ab&&ad&bm||aa&&ad&bs?this.preventSrc(t):void 0}},preventSrc:function(o){this.manager.session.prevented=!0,o.preventDefault()}};var z=1,bd=2,ce=4,bW=8,cu=bW,ax=16,ck=32;q.prototype={defaults:{},set:function(o){return cw(this.options,o),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(bX(t,"recognizeWith",this)){return this}var o=this.simultaneous;return t=G(t,this),o[t.id]||(o[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(o){return bX(o,"dropRecognizeWith",this)?this:(o=G(o,this),delete this.simultaneous[o.id],this)},requireFailure:function(t){if(bX(t,"requireFailure",this)){return this}var o=this.requireFail;return t=G(t,this),-1===P(o,t)&&(o.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(bX(t,"dropRequireFailure",this)){return this}t=G(t,this);var o=P(this.requireFail,t);return o>-1&&this.requireFail.splice(o,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(o){return !!this.simultaneous[o.id]},emit:function(aa){function t(ac){ab.manager.emit(ab.options.event+(ac?C(o):""),aa)}var ab=this,o=this.state;bW>o&&t(!0),t(),o>=bW&&t(!0)},tryEmit:function(o){return this.canEmit()?this.emit(o):void (this.state=ck)},canEmit:function(){for(var o=0;o<this.requireFail.length;){if(!(this.requireFail[o].state&(ck|z))){return !1}o++}return !0},recognize:function(t){var o=cw({},t);return cm(this.options.enable,[this,o])?(this.state&(cu|ax|ck)&&(this.state=z),this.state=this.process(o),void (this.state&(bd|ce|bW|ax)&&this.tryEmit(o))):(this.reset(),void (this.state=ck))},process:function(o){},getTouchAction:function(){},reset:function(){}},cp(bZ,q,{defaults:{pointers:1},attrTest:function(t){var o=this.options.pointers;return 0===o||t.pointers.length===o},process:function(ab){var aa=this.state,ac=ab.eventType,t=aa&(bd|ce),o=this.attrTest(ab);return t&&(ac&cr||!o)?aa|ax:t||o?ac&cg?aa|bW:aa&bd?aa|ce:bd:ck}}),cp(X,bZ,{defaults:{event:"pan",threshold:10,pointers:1,direction:c},getTouchAction:function(){var t=this.options.direction,o=[];return t&bm&&o.push(bf),t&bs&&o.push(ca),o},directionTest:function(ac){var t=this.options,ad=!0,o=ac.distance,af=ac.direction,ab=ac.deltaX,aa=ac.deltaY;return af&t.direction||(t.direction&bm?(af=0===ab?cA:0>ab?bb:y,ad=ab!=this.pX,o=Math.abs(ac.deltaX)):(af=0===aa?cA:0>aa?W:bz,ad=aa!=this.pY,o=Math.abs(ac.deltaY))),ac.direction=af,ad&&o>t.threshold&&af&t.direction},attrTest:function(o){return bZ.prototype.attrTest.call(this,o)&&(this.state&bd||!(this.state&bd)&&this.directionTest(o))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var o=Z(t.direction);o&&this.manager.emit(this.options.event+o,t),this._super.emit.call(this,t)}}),cp(cz,bZ,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(o){return this._super.attrTest.call(this,o)&&(Math.abs(o.scale-1)>this.options.threshold||this.state&bd)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var o=t.scale<1?"in":"out";this.manager.emit(this.options.event+o,t)}}}),cp(cC,q,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[cc]},process:function(ab){var aa=this.options,ac=ab.pointers.length===aa.pointers,t=ab.distance<aa.threshold,o=ab.deltaTime>aa.time;if(this._input=ab,!t||!ac||ab.eventType&(cg|cr)&&!o){this.reset()}else{if(ab.eventType&cF){this.reset(),this._timer=cb(function(){this.state=cu,this.tryEmit()},aa.time,this)}else{if(ab.eventType&cg){return cu}}}return ck},reset:function(){clearTimeout(this._timer)},emit:function(o){this.state===cu&&(o&&o.eventType&cg?this.manager.emit(this.options.event+"up",o):(this._input.timeStamp=bo(),this.manager.emit(this.options.event,this._input)))}}),cp(be,bZ,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ae]},attrTest:function(o){return this._super.attrTest.call(this,o)&&(Math.abs(o.rotation)>this.options.threshold||this.state&bd)}}),cp(R,bZ,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:bm|bs,pointers:1},getTouchAction:function(){return X.prototype.getTouchAction.call(this)},attrTest:function(t){var o,aa=this.options.direction;return aa&(bm|bs)?o=t.velocity:aa&bm?o=t.velocityX:aa&bs&&(o=t.velocityY),this._super.attrTest.call(this,t)&&aa&t.direction&&t.distance>this.options.threshold&&bc(o)>this.options.velocity&&t.eventType&cg},emit:function(t){var o=Z(t.direction);o&&this.manager.emit(this.options.event+o,t),this.manager.emit(this.options.event,t)}}),cp(bt,q,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[p]},process:function(ab){var o=this.options,ac=ab.pointers.length===o.pointers,ag=ab.distance<o.threshold,af=ab.deltaTime<o.time;if(this.reset(),ab.eventType&cF&&0===this.count){return this.failTimeout()}if(ag&&af&&ac){if(ab.eventType!=cg){return this.failTimeout()}var aa=this.pTime?ab.timeStamp-this.pTime<o.interval:!0,t=!this.pCenter||D(this.pCenter,ab.center)<o.posThreshold;this.pTime=ab.timeStamp,this.pCenter=ab.center,t&&aa?this.count+=1:this.count=1,this._input=ab;var ad=this.count%o.taps;if(0===ad){return this.hasRequireFailures()?(this._timer=cb(function(){this.state=cu,this.tryEmit()},o.interval,this),bd):cu}}return ck},failTimeout:function(){return this._timer=cb(function(){this.state=ck},this.options.interval,this),ck},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==cu&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),cG.VERSION="2.0.4",cG.defaults={domEvents:!1,touchAction:cn,enable:!0,inputTarget:null,inputClass:null,preset:[[be,{enable:!1}],[cz,{enable:!1},["rotate"]],[R,{direction:bm}],[X,{direction:bm},["swipe"]],[bt],[bt,{event:"doubletap",taps:2},["tap"]],[cC]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var aw=1,au=2;bn.prototype={set:function(o){return cw(this.options,o),o.touchAction&&this.touchAction.update(),o.inputTarget&&(this.input.destroy(),this.input.target=o.inputTarget,this.input.init()),this},stop:function(o){this.session.stopped=o?au:aw},recognize:function(ac){var aa=this.session;if(!aa.stopped){this.touchAction.preventDefaults(ac);var ad,t=this.recognizers,o=aa.curRecognizer;(!o||o&&o.state&cu)&&(o=aa.curRecognizer=null);for(var ab=0;ab<t.length;){ad=t[ab],aa.stopped===au||o&&ad!=o&&!ad.canRecognizeWith(o)?ad.reset():ad.recognize(ac),!o&&ad.state&(bd|ce|bW)&&(o=aa.curRecognizer=ad),ab++}}},get:function(t){if(t instanceof q){return t}for(var o=this.recognizers,aa=0;aa<o.length;aa++){if(o[aa].options.event==t){return o[aa]}}return null},add:function(t){if(bX(t,"add",this)){return this}var o=this.get(t.options.event);return o&&this.remove(o),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(bX(t,"remove",this)){return this}var o=this.recognizers;return t=this.get(t),o.splice(P(o,t),1),this.touchAction.update(),this},on:function(t,o){var aa=this.handlers;return cj(cH(t),function(ab){aa[ab]=aa[ab]||[],aa[ab].push(o)}),this},off:function(t,o){var aa=this.handlers;return cj(cH(t),function(ab){o?aa[ab].splice(P(aa[ab],o),1):delete aa[ab]}),this},emit:function(aa,t){this.options.domEvents&&cs(aa,t);var ab=this.handlers[aa]&&this.handlers[aa].slice();if(ab&&ab.length){t.type=aa,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<ab.length;){ab[o](t),o++}}},destroy:function(){this.element&&V(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},cw(cG,{INPUT_START:cF,INPUT_MOVE:bj,INPUT_END:cg,INPUT_CANCEL:cr,STATE_POSSIBLE:z,STATE_BEGAN:bd,STATE_CHANGED:ce,STATE_ENDED:bW,STATE_RECOGNIZED:cu,STATE_CANCELLED:ax,STATE_FAILED:ck,DIRECTION_NONE:cA,DIRECTION_LEFT:bb,DIRECTION_RIGHT:y,DIRECTION_UP:W,DIRECTION_DOWN:bz,DIRECTION_HORIZONTAL:bm,DIRECTION_VERTICAL:bs,DIRECTION_ALL:c,Manager:bn,Input:bu,TouchAction:cE,TouchInput:K,MouseInput:cD,PointerEventInput:M,TouchMouseInput:cB,SingleTouchInput:l,Recognizer:q,AttrRecognizer:bZ,Tap:bt,Pan:X,Swipe:R,Pinch:cz,Rotate:be,Press:cC,on:b9,off:Q,each:cj,merge:bV,extend:cw,inherit:cp,bindFn:bY,prefixed:A}),"function"==Y&&h(26)?(i=function(){return cG}.call(j,h,j,f),!(i!==cI&&(f.exports=i))):"undefined"!=typeof f&&f.exports?f.exports=cG:co[ct]=cG}(window,document,"Hammer")},function(d,h,f){(function(a){d.exports=a}).call(h,{})},function(a,i,o){function s(f,c){var b=d().hours(0).minutes(0).seconds(0).milliseconds(0);this.start=b.clone().add(-3,"days").valueOf(),this.end=b.clone().add(4,"days").valueOf(),this.body=f,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={start:null,end:null,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:315360000000000},this.options=t.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.setOptions(c)}function r(b){if("horizontal"!=b&&"vertical"!=b){throw new TypeError('Unknown direction "'+b+'". Choose "horizontal" or "vertical".')}}function v(b,c){return{x:b.x-t.getAbsoluteLeft(c),y:b.y-t.getAbsoluteTop(c)}}var t=o(1),d=(o(28),o(2)),n=o(21),h=o(29);s.prototype=new n,s.prototype.setOptions=function(b){if(b){var c=["direction","min","max","zoomMin","zoomMax","moveable","zoomable","activate","hiddenDates"];t.selectiveExtend(c,this.options,b),("start" in b||"end" in b)&&this.setRange(b.start,b.end)}},s.prototype.setRange=function(l,j,u,R){R!==!0&&(R=!1);var Q=void 0!=l?t.convert(l,"Date").valueOf():null,U=void 0!=j?t.convert(j,"Date").valueOf():null;if(this._cancelAnimation(),u){var b=this,q=this.start,y=this.end,p="object"==typeof u&&"duration" in u?u.duration:500,f="object"==typeof u&&"easingFunction" in u?u.easingFunction:"easeInOutQuad",T=t.easingFunctions[f];if(!T){throw new Error("Unknown easing function "+JSON.stringify(f)+". Choose from: "+Object.keys(t.easingFunctions).join(", "))}var k=(new Date).valueOf(),P=!1,S=function c(){if(!b.props.touch.dragging){var D=(new Date).valueOf(),A=D-k,z=T(A/p),B=A>p,C=B||null===Q?Q:q+(Q-q)*z,x=B||null===U?U:y+(U-y)*z;m=b._applyRange(C,x),h.updateHiddenDates(b.body,b.options.hiddenDates),P=P||m,m&&b.body.emitter.emit("rangechange",{start:new Date(b.start),end:new Date(b.end),byUser:R}),B?P&&b.body.emitter.emit("rangechanged",{start:new Date(b.start),end:new Date(b.end),byUser:R}):b.animationTimer=setTimeout(c,20)}};return S()}var m=this._applyRange(Q,U);if(h.updateHiddenDates(this.body,this.options.hiddenDates),m){var V={start:new Date(this.start),end:new Date(this.end),byUser:R};this.body.emitter.emit("rangechange",V),this.body.emitter.emit("rangechanged",V)}},s.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},s.prototype._applyRange=function(b,k){var m,c=null!=b?t.convert(b,"Date").valueOf():this.start,q=null!=k?t.convert(k,"Date").valueOf():this.end,u=null!=this.options.max?t.convert(this.options.max,"Date").valueOf():null,f=null!=this.options.min?t.convert(this.options.min,"Date").valueOf():null;if(isNaN(c)||null===c){throw new Error('Invalid start "'+b+'"')}if(isNaN(q)||null===q){throw new Error('Invalid end "'+k+'"')}if(c>q&&(q=c),null!==f&&f>c&&(m=f-c,c+=m,q+=m,null!=u&&q>u&&(q=u)),null!==u&&q>u&&(m=q-u,c-=m,q-=m,null!=f&&f>c&&(c=f)),null!==this.options.zoomMin){var l=parseFloat(this.options.zoomMin);0>l&&(l=0),l>q-c&&(this.end-this.start===l&&c>this.start&&q<this.end?(c=this.start,q=this.end):(m=l-(q-c),c-=m/2,q+=m/2))}if(null!==this.options.zoomMax){var j=parseFloat(this.options.zoomMax);0>j&&(j=0),q-c>j&&(this.end-this.start===j&&c<this.start&&q>this.end?(c=this.start,q=this.end):(m=q-c-j,c+=m/2,q-=m/2))}var p=this.start!=c||this.end!=q;return c>=this.start&&c<=this.end||q>=this.start&&q<=this.end||this.start>=c&&this.start<=q||this.end>=c&&this.end<=q||this.body.emitter.emit("checkRangedItems"),this.start=c,this.end=q,p},s.prototype.getRange=function(){return{start:this.start,end:this.end}},s.prototype.conversion=function(b,c){return s.conversion(this.start,this.end,b,c)},s.conversion=function(f,c,b,j){return void 0===j&&(j=0),0!=b&&c-f!=0?{offset:f,scale:b/(c-f-j)}:{offset:0,scale:1}},s.prototype._onDragStart=function(b){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},s.prototype._onDrag=function(b){if(this.options.moveable&&this.props.touch.allowDragging){var m=this.options.direction;r(m);var q="horizontal"==m?b.deltaX:b.deltaY;q-=this.deltaDifference;var k=this.props.touch.end-this.props.touch.start,F=h.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);k-=F;var l="horizontal"==m?this.body.domProps.center.width:this.body.domProps.center.height,f=-q/l*k,p=this.props.touch.start+f,u=this.props.touch.end+f,c=h.snapAwayFromHidden(this.body.hiddenDates,p,this.previousDelta-q,!0),j=h.snapAwayFromHidden(this.body.hiddenDates,u,this.previousDelta-q,!0);if(c!=p||j!=u){return this.deltaDifference+=q,this.props.touch.start=c,this.props.touch.end=j,void this._onDrag(b)}this.previousDelta=q,this._applyRange(p,u),this.body.emitter.emit("rangechange",{start:new Date(this.start),end:new Date(this.end),byUser:!0})}},s.prototype._onDragEnd=function(b){this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0}))},s.prototype._onMouseWheel=function(k){if(this.options.zoomable&&this.options.moveable){var f=0;if(k.wheelDelta?f=k.wheelDelta/120:k.detail&&(f=-k.detail/3),f){var b;b=0>f?1-f/5:1/(1+f/5);var j=v({x:k.clientX,y:k.clientY},this.body.dom.center),c=this._pointerToDate(j);this.zoom(b,c,f)}k.preventDefault()}},s.prototype._onTouch=function(b){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0},s.prototype._onPinch=function(b){if(this.options.zoomable&&this.options.moveable){this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=v(b.center,this.body.dom.center));var j=1/(b.scale+this.scaleOffset),m=this._pointerToDate(this.props.touch.center),u=h.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),q=h.getHiddenDurationBefore(this.body.hiddenDates,this,m),k=u-q,f=m-q+(this.props.touch.start-(m-q))*j,l=m+k+(this.props.touch.end-(m+k))*j;this.startToFront=0>=1-j,this.endToFront=0>=j-1;var p=h.snapAwayFromHidden(this.body.hiddenDates,f,1-j,!0),c=h.snapAwayFromHidden(this.body.hiddenDates,l,j-1,!0);(p!=f||c!=l)&&(this.props.touch.start=p,this.props.touch.end=c,this.scaleOffset=1-b.scale,f=p,l=c),this.setRange(f,l,!1,!0),this.startToFront=!1,this.endToFront=!0}},s.prototype._pointerToDate=function(f){var c,b=this.options.direction;if(r(b),"horizontal"==b){return this.body.util.toTime(f.x).valueOf()}var j=this.body.domProps.center.height;return c=this.conversion(j),f.y/c.scale+c.offset},s.prototype.zoom=function(b,f,l){null==f&&(f=(this.start+this.end)/2);var q=h.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),p=h.getHiddenDurationBefore(this.body.hiddenDates,this,f),u=q-p,k=f-p+(this.start-(f-p))*b,c=f+u+(this.end-(f+u))*b;this.startToFront=l>0?!1:!0,this.endToFront=-l>0?!1:!0;var j=h.snapAwayFromHidden(this.body.hiddenDates,k,l,!0),m=h.snapAwayFromHidden(this.body.hiddenDates,c,-l,!0);(j!=k||m!=c)&&(k=j,c=m),this.setRange(k,c,!1,!0),this.startToFront=!1,this.endToFront=!0},s.prototype.move=function(f){var c=this.end-this.start,b=this.start+c*f,j=this.end+c*f;this.start=b,this.end=j},s.prototype.moveTo=function(k){var f=(this.start+this.end)/2,b=f-k,j=this.start-b,c=this.end-b;this.setRange(j,c)},a.exports=s},function(h,l,i){i(23);l.onTouch=function(b,a){a.inputHandler=function(c){c.isFirst&&!k&&(a(c),k=!0,setTimeout(function(){k=!1},0))},b.on("hammer.input",a.inputHandler)};var k=!1;l.onRelease=function(b,a){return a.inputHandler=function(c){c.isFinal&&!j&&(a(c),j=!0,setTimeout(function(){j=!1},0))},b.on("hammer.input",a.inputHandler)};var j=!1;l.offTouch=function(b,a){b.off("hammer.input",a.inputHandler)},l.offRelease=l.offTouch},function(f,j,h){var i=h(2);j.convertHiddenOptions=function(c,b){if(c.hiddenDates=[],b&&1==Array.isArray(b)){for(var d=0;d<b.length;d++){if(void 0===b[d].repeat){var a={};a.start=i(b[d].start).toDate().valueOf(),a.end=i(b[d].end).toDate().valueOf(),c.hiddenDates.push(a)}}c.hiddenDates.sort(function(m,k){return m.start-k.start})}},j.updateHiddenDates=function(y,s){if(s&&void 0!==y.domProps.centerContainer.width){j.convertHiddenOptions(y,s);for(var v=i(y.range.start),m=i(y.range.end),d=y.range.end-y.range.start,a=d/y.domProps.centerContainer.width,r=0;r<s.length;r++){if(void 0!==s[r].repeat){var l=i(s[r].start),t=i(s[r].end);if("Invalid Date"==l._d){throw new Error("Supplied start date is not valid: "+s[r].start)}if("Invalid Date"==t._d){throw new Error("Supplied end date is not valid: "+s[r].end)}var O=t-l;if(O>=4*a){var c=0,N=m.clone();switch(s[r].repeat){case"daily":l.day()!=t.day()&&(c=1),l.dayOfYear(v.dayOfYear()),l.year(v.year()),l.subtract(7,"days"),t.dayOfYear(v.dayOfYear()),t.year(v.year()),t.subtract(7-c,"days"),N.add(1,"weeks");break;case"weekly":var n=t.diff(l,"days"),u=l.day();l.date(v.date()),l.month(v.month()),l.year(v.year()),t=l.clone(),l.day(u),t.day(u),t.add(n,"days"),l.subtract(1,"weeks"),t.subtract(1,"weeks"),N.add(1,"weeks");break;case"monthly":l.month()!=t.month()&&(c=1),l.month(v.month()),l.year(v.year()),l.subtract(1,"months"),t.month(v.month()),t.year(v.year()),t.subtract(1,"months"),t.add(c,"months"),N.add(1,"months");break;case"yearly":l.year()!=t.year()&&(c=1),l.year(v.year()),l.subtract(1,"years"),t.year(v.year()),t.subtract(1,"years"),t.add(c,"years"),N.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",s[r].repeat)}for(;N>l;){switch(y.hiddenDates.push({start:l.valueOf(),end:t.valueOf()}),s[r].repeat){case"daily":l.add(1,"days"),t.add(1,"days");break;case"weekly":l.add(1,"weeks"),t.add(1,"weeks");break;case"monthly":l.add(1,"months"),t.add(1,"months");break;case"yearly":l.add(1,"y"),t.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",s[r].repeat)}}y.hiddenDates.push({start:l.valueOf(),end:t.valueOf()})}}}j.removeDuplicates(y);var P=j.isHidden(y.range.start,y.hiddenDates),p=j.isHidden(y.range.end,y.hiddenDates),Q=y.range.start,b=y.range.end;1==P.hidden&&(Q=1==y.range.startToFront?P.startDate-1:P.endDate+1),1==p.hidden&&(b=1==y.range.endToFront?p.startDate-1:p.endDate+1),(1==P.hidden||1==p.hidden)&&y.range._applyRange(Q,b)}},j.removeDuplicates=function(d){for(var c=d.hiddenDates,m=[],b=0;b<c.length;b++){for(var a=0;a<c.length;a++){b!=a&&1!=c[a].remove&&1!=c[b].remove&&(c[a].start>=c[b].start&&c[a].end<=c[b].end?c[a].remove=!0:c[a].start>=c[b].start&&c[a].start<=c[b].end?(c[b].end=c[a].end,c[a].remove=!0):c[a].end>=c[b].start&&c[a].end<=c[b].end&&(c[b].start=c[a].start,c[a].remove=!0))}}for(var b=0;b<c.length;b++){c[b].remove!==!0&&m.push(c[b])}d.hiddenDates=m,d.hiddenDates.sort(function(l,k){return l.start-k.start})},j.printDates=function(b){for(var a=0;a<b.length;a++){console.log(a,new Date(b[a].start),new Date(b[a].end),b[a].start,b[a].end,b[a].remove)}},j.stepOverHiddenDates=function(a,d){for(var r=!1,s=a.current.valueOf(),v=0;v<a.hiddenDates.length;v++){var t=a.hiddenDates[v].start,b=a.hiddenDates[v].end;if(s>=t&&b>s){r=!0;break}}if(1==r&&s<a._end.valueOf()&&s!=d){var n=i(d),c=i(b);n.year()!=c.year()?a.switchedYear=!0:n.month()!=c.month()?a.switchedMonth=!0:n.dayOfYear()!=c.dayOfYear()&&(a.switchedDay=!0),a.current=c.toDate()}},j.toScreen=function(n,o,b){if(0==n.body.hiddenDates.length){var a=n.range.conversion(b);return(o.valueOf()-a.offset)*a.scale}var d=j.isHidden(o,n.body.hiddenDates);1==d.hidden&&(o=d.startDate);var c=j.getHiddenDurationBetween(n.body.hiddenDates,n.range.start,n.range.end);o=j.correctTimeForHidden(n.body.hiddenDates,n.range,o);var a=n.range.conversion(b,c);return(o.valueOf()-a.offset)*a.scale},j.toTime=function(t,d,o){if(0==t.body.hiddenDates.length){var n=t.range.conversion(o);return new Date(d/n.scale+n.offset)}var s=j.getHiddenDurationBetween(t.body.hiddenDates,t.range.start,t.range.end),r=t.range.end-t.range.start-s,a=r*d/o,c=j.getAccumulatedHiddenDuration(t.body.hiddenDates,t.range,a),b=new Date(c+a+t.range.start);return b},j.getHiddenDurationBetween=function(n,b,o){for(var a=0,q=0;q<n.length;q++){var d=n[q].start,c=n[q].end;d>=b&&o>c&&(a+=c-d)}return a},j.correctTimeForHidden=function(b,c,a){return a=i(a).toDate().valueOf(),a-=j.getHiddenDurationBefore(b,c,a)},j.getHiddenDurationBefore=function(d,a,n){var q=0;n=i(n).toDate().valueOf();for(var c=0;c<d.length;c++){var b=d[c].start,p=d[c].end;b>=a.start&&p<a.end&&n>=p&&(q+=p-b)}return q},j.getAccumulatedHiddenDuration=function(t,b,d){for(var o=0,n=0,s=b.start,r=0;r<t.length;r++){var a=t[r].start,c=t[r].end;if(a>=b.start&&c<b.end){if(n+=a-s,s=c,n>=d){break}o+=c-a}}return o},j.snapAwayFromHidden=function(d,m,b,a){var c=j.isHidden(m,d);return 1==c.hidden?0>b?1==a?c.startDate-(c.endDate-m)-1:c.startDate-1:1==a?c.endDate+(m-c.startDate)+1:c.endDate+1:m},j.isHidden=function(d,c){for(var m=0;m<c.length;m++){var b=c[m].start,a=c[m].end;if(d>=b&&a>d){return{hidden:!0,startDate:b,endDate:a}}}return{hidden:!1,startDate:b,endDate:a}}},function(s,d,i){function o(){}var n=i(13),r=i(23),t=i(28),A=i(1),h=(i(8),i(10),i(27),i(31),i(41)),a=i(42),l=i(29),u=i(44);n(o.prototype),o.prototype._create=function(j){function f(k){c.isActive()&&c.emit("mousewheel",k)}this.dom={},this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.on("rangechange",this.redraw.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("pan",this._onDrag.bind(this));var c=this;this.on("change",function(k){k&&1==k.queue?c._redrawTimer||(c._redrawTimer=setTimeout(function(){c._redrawTimer=null,c._redraw()},0)):c._redraw()}),this.hammer=new r(this.dom.root),this.hammer.get("pinch").set({enable:!0}),this.listeners={};var b=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];if(b.forEach(function(k){var m=function(p){c.isActive()&&c.emit(k,p)};c.hammer.on(k,m),c.listeners[k]=m}),t.onTouch(this.hammer,function(k){c.emit("touch",k)}.bind(this)),t.onRelease(this.hammer,function(k){c.emit("release",k)}.bind(this)),this.dom.root.addEventListener("mousewheel",f),this.dom.root.addEventListener("DOMMouseScroll",f),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.customTimes=[],this.touch={},this.redrawCount=0,!j){throw new Error("No container provided")}j.appendChild(this.dom.root)},o.prototype.setOptions=function(k){if(k){var f=["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates"];if(A.selectiveExtend(f,this.options,k),"orientation" in k&&("string"==typeof k.orientation?this.options.orientation={item:k.orientation,axis:k.orientation}:"object"==typeof k.orientation&&("item" in k.orientation&&(this.options.orientation.item=k.orientation.item),"axis" in k.orientation&&(this.options.orientation.axis=k.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var c=this.timeAxis2=new h(this.body);c.setOptions=function(m){var p=m?A.extend({},m):{};p.orientation="top",h.prototype.setOptions.call(c,p)},this.components.push(c)}}else{if(this.timeAxis2){var b=this.components.indexOf(this.timeAxis2);-1!==b&&this.components.splice(b,1),this.timeAxis2.destroy(),this.timeAxis2=null}}if("hiddenDates" in this.options&&l.convertHiddenOptions(this.body,this.options.hiddenDates),"clickToUse" in k&&(k.clickToUse?this.activator||(this.activator=new a(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime" in k){throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])")}this._initAutoResize()}if(this.components.forEach(function(m){return m.setOptions(k)}),this.configurator){this.configurator.setOptions(k.configure);var j=A.deepExtend({},this.options);this.components.forEach(function(m){A.deepExtend(j,m.options)}),this.configurator.setModuleOptions({global:j})}this._redraw()},o.prototype.isActive=function(){return !this.activator||this.activator.active},o.prototype.destroy=function(){this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator);for(var b in this.listeners){this.listeners.hasOwnProperty(b)&&delete this.listeners[b]}this.listeners=null,this.hammer=null,this.components.forEach(function(c){return c.destroy()}),this.body=null},o.prototype.setCustomTime=function(f,c){var b=this.customTimes.filter(function(j){return c===j.options.id});if(0===b.length){throw new Error("No custom time bar found with id "+JSON.stringify(c))}b.length>0&&b[0].setCustomTime(f)},o.prototype.getCustomTime=function(b){var c=this.customTimes.filter(function(f){return f.options.id===b});if(0===c.length){throw new Error("No custom time bar found with id "+JSON.stringify(b))}return c[0].getCustomTime()},o.prototype.addCustomTime=function(k,f){var c=void 0!==k?A.convert(k,"Date").valueOf():new Date,b=this.customTimes.some(function(m){return m.options.id===f});if(b){throw new Error("A custom time with id "+JSON.stringify(f)+" already exists")}var j=new u(this.body,{time:c,id:f});return this.customTimes.push(j),this.components.push(j),this.redraw(),f},o.prototype.removeCustomTime=function(b){var c=this.customTimes.filter(function(f){return f.options.id===b});if(0===c.length){throw new Error("No custom time bar found with id "+JSON.stringify(b))}c.forEach(function(f){this.customTimes.splice(this.customTimes.indexOf(f),1),this.components.splice(this.components.indexOf(f),1),f.destroy()}.bind(this))},o.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},o.prototype.fit=function(m){var c=this.getDataRange();if(null!==c.start||null!==c.end){var b=c.max-c.min,k=new Date(c.min.valueOf()-0.01*b),f=new Date(c.max.valueOf()+0.01*b),j=m&&void 0!==m.animation?m.animation:!0;this.range.setRange(k,f,j)}},o.prototype.getDataRange=function(){var j=this.getItemRange(),f=j.min,c=j.max;if(null!=f&&null!=c){var b=c.valueOf()-f.valueOf();0>=b&&(b=86400000),f=new Date(f.valueOf()-0.01*b),c=new Date(c.valueOf()+0.01*b)}return{start:null,end:null}},o.prototype.setWindow=function(k,f,c){var b;if(1==arguments.length){var j=arguments[0];b=void 0!==j.animation?j.animation:!0,this.range.setRange(j.start,j.end,b)}else{b=c&&void 0!==c.animation?c.animation:!0,this.range.setRange(k,f,b)}},o.prototype.moveTo=function(m,j){var f=this.range.end-this.range.start,b=A.convert(m,"Date").valueOf(),p=b-f/2,k=b+f/2,c=j&&void 0!==j.animation?j.animation:!0;this.range.setRange(p,k,c)},o.prototype.getWindow=function(){var b=this.range.getRange();return{start:new Date(b.start),end:new Date(b.end)}},o.prototype.redraw=function(){this._redraw()},o.prototype._redraw=function(){var p=!1,z=this.options,b=this.props,j=this.dom;if(j){l.updateHiddenDates(this.body,this.options.hiddenDates),"top"==z.orientation?(A.addClassName(j.root,"vis-top"),A.removeClassName(j.root,"vis-bottom")):(A.removeClassName(j.root,"vis-top"),A.addClassName(j.root,"vis-bottom")),j.root.style.maxHeight=A.option.asSize(z.maxHeight,""),j.root.style.minHeight=A.option.asSize(z.minHeight,""),j.root.style.width=A.option.asSize(z.width,""),b.border.left=(j.centerContainer.offsetWidth-j.centerContainer.clientWidth)/2,b.border.right=b.border.left,b.border.top=(j.centerContainer.offsetHeight-j.centerContainer.clientHeight)/2,b.border.bottom=b.border.top;var f=j.root.offsetHeight-j.root.clientHeight,m=j.root.offsetWidth-j.root.clientWidth;0===j.centerContainer.clientHeight&&(b.border.left=b.border.top,b.border.right=b.border.left),0===j.root.clientHeight&&(m=f),b.center.height=j.center.offsetHeight,b.left.height=j.left.offsetHeight,b.right.height=j.right.offsetHeight,b.top.height=j.top.clientHeight||-b.border.top,b.bottom.height=j.bottom.clientHeight||-b.border.bottom;var v=Math.max(b.left.height,b.center.height,b.right.height),O=b.top.height+v+b.bottom.height+f+b.border.top+b.border.bottom;j.root.style.height=A.option.asSize(z.height,O+"px"),b.root.height=j.root.offsetHeight,b.background.height=b.root.height-f;var y=b.root.height-b.top.height-b.bottom.height-f;b.centerContainer.height=y,b.leftContainer.height=y,b.rightContainer.height=b.leftContainer.height,b.root.width=j.root.offsetWidth,b.background.width=b.root.width-m,b.left.width=j.leftContainer.clientWidth||-b.border.left,b.leftContainer.width=b.left.width,b.right.width=j.rightContainer.clientWidth||-b.border.right,b.rightContainer.width=b.right.width;var q=b.root.width-b.left.width-b.right.width-m;b.center.width=q,b.centerContainer.width=q,b.top.width=q,b.bottom.width=q,j.background.style.height=b.background.height+"px",j.backgroundVertical.style.height=b.background.height+"px",j.backgroundHorizontal.style.height=b.centerContainer.height+"px",j.centerContainer.style.height=b.centerContainer.height+"px",j.leftContainer.style.height=b.leftContainer.height+"px",j.rightContainer.style.height=b.rightContainer.height+"px",j.background.style.width=b.background.width+"px",j.backgroundVertical.style.width=b.centerContainer.width+"px",j.backgroundHorizontal.style.width=b.background.width+"px",j.centerContainer.style.width=b.center.width+"px",j.top.style.width=b.top.width+"px",j.bottom.style.width=b.bottom.width+"px",j.background.style.left="0",j.background.style.top="0",j.backgroundVertical.style.left=b.left.width+b.border.left+"px",j.backgroundVertical.style.top="0",j.backgroundHorizontal.style.left="0",j.backgroundHorizontal.style.top=b.top.height+"px",j.centerContainer.style.left=b.left.width+"px",j.centerContainer.style.top=b.top.height+"px",j.leftContainer.style.left="0",j.leftContainer.style.top=b.top.height+"px",j.rightContainer.style.left=b.left.width+b.center.width+"px",j.rightContainer.style.top=b.top.height+"px",j.top.style.left=b.left.width+"px",j.top.style.top="0",j.bottom.style.left=b.left.width+"px",j.bottom.style.top=b.top.height+b.centerContainer.height+"px",this._updateScrollTop();var x=this.props.scrollTop;"top"!=z.orientation.item&&(x+=Math.max(this.props.centerContainer.height-this.props.center.height-this.props.border.top-this.props.border.bottom,0)),j.center.style.left="0",j.center.style.top=x+"px",j.left.style.left="0",j.left.style.top=x+"px",j.right.style.left="0",j.right.style.top=x+"px";var k=0==this.props.scrollTop?"hidden":"",N=this.props.scrollTop==this.props.scrollTopMin?"hidden":"";if(j.shadowTop.style.visibility=k,j.shadowBottom.style.visibility=N,j.shadowTopLeft.style.visibility=k,j.shadowBottomLeft.style.visibility=N,j.shadowTopRight.style.visibility=k,j.shadowBottomRight.style.visibility=N,this.components.forEach(function(B){p=B.redraw()||p}),p){var c=3;this.redrawCount<c?(this.redrawCount++,this._redraw()):console.log("WARNING: infinite loop in redraw?"),this.redrawCount=0}}},o.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},o.prototype.setCurrentTime=function(b){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}this.currentTime.setCurrentTime(b)},o.prototype.getCurrentTime=function(){if(!this.currentTime){throw new Error("Option showCurrentTime must be true")}return this.currentTime.getCurrentTime()},o.prototype._toTime=function(b){return l.toTime(this,b,this.props.center.width)},o.prototype._toGlobalTime=function(b){return l.toTime(this,b,this.props.root.width)},o.prototype._toScreen=function(b){return l.toScreen(this,b,this.props.center.width)},o.prototype._toGlobalScreen=function(b){return l.toScreen(this,b,this.props.root.width)},o.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},o.prototype._startAutoResize=function(){var b=this;this._stopAutoResize(),this._onResize=function(){return 1!=b.options.autoResize?void b._stopAutoResize():void (b.dom.root&&(b.dom.root.offsetWidth!=b.props.lastWidth||b.dom.root.offsetHeight!=b.props.lastHeight)&&(b.props.lastWidth=b.dom.root.offsetWidth,b.props.lastHeight=b.dom.root.offsetHeight,b.emit("change")))},A.addEventListener(window,"resize",this._onResize),this.watchTimer=setInterval(this._onResize,1000)},o.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),A.removeEventListener(window,"resize",this._onResize),this._onResize=null},o.prototype._onTouch=function(b){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},o.prototype._onPinch=function(b){this.touch.allowDragging=!1},o.prototype._onDrag=function(j){if(this.touch.allowDragging){var f=j.deltaY,c=this._getScrollTop(),b=this._setScrollTop(this.touch.initialScrollTop+f);b!=c&&(this._redraw(),this.emit("verticalDrag"))}},o.prototype._setScrollTop=function(b){return this.props.scrollTop=b,this._updateScrollTop(),this.props.scrollTop},o.prototype._updateScrollTop=function(){var b=Math.min(this.props.centerContainer.height-this.props.center.height,0);return b!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=b-this.props.scrollTopMin),this.props.scrollTopMin=b),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<b&&(this.props.scrollTop=b),this.props.scrollTop},o.prototype._getScrollTop=function(){return this.props.scrollTop},s.exports=o},function(v,l,p){function d(k,j){this.body=k,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,groupOrder:null,selectable:!0,multiselect:!1,editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1},snap:o.snap,onAdd:function(x,q){q(x)},onUpdate:function(x,q){q(x)},onMove:function(x,q){q(x)},onRemove:function(x,q){q(x)},onMoving:function(x,q){q(x)},margin:{item:{horizontal:10,vertical:10},axis:20}},this.options=t.extend({},this.defaultOptions),this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:k.util.toScreen,toTime:k.util.toTime},this.dom={},this.props={},this.hammer=null;var b=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(y,x,q){b._onAdd(x.items)},update:function(y,x,q){b._onUpdate(x.items)},remove:function(y,x,q){b._onRemove(x.items)}},this.groupListeners={add:function(y,x,q){b._onAddGroups(x.items)},update:function(y,x,q){b._onUpdateGroups(x.items)},remove:function(y,x,q){b._onRemoveGroups(x.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.stackDirty=!0,this.touchParams={},this._create(),this.setOptions(j)}var u=p(23),t=p(1),i=p(8),a=p(10),o=p(36),h=p(21),r=p(32),M=p(37),c=p(38),f=p(39),m=p(34),s=p(40),N="__ungrouped__",n="__background__";d.prototype=new h,d.types={background:s,box:c,range:m,point:f},d.prototype._create=function(){var y=document.createElement("div");y.className="vis-itemset",y["timeline-itemset"]=this,this.dom.frame=y;var k=document.createElement("div");k.className="vis-background",y.appendChild(k),this.dom.background=k;var j=document.createElement("div");j.className="vis-foreground",y.appendChild(j),this.dom.foreground=j;var b=document.createElement("div");b.className="vis-axis",this.dom.axis=b;var x=document.createElement("div");x.className="vis-labelset",this.dom.labelSet=x,this._updateUngrouped();var q=new M(n,null,this);q.show(),this.groups[n]=q,this.hammer=new u(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(z){z.isFirst&&this._onTouch(z)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.show()},d.prototype.setOptions=function(k){if(k){var j=["type","align","order","stack","selectable","multiselect","groupOrder","dataAttributes","template","hide","snap"];t.selectiveExtend(j,this.options,k),"orientation" in k&&("string"==typeof k.orientation?this.options.orientation.item="top"===k.orientation?"top":"bottom":"object"==typeof k.orientation&&"item" in k.orientation&&(this.options.orientation.item=k.orientation.item)),"margin" in k&&("number"==typeof k.margin?(this.options.margin.axis=k.margin,this.options.margin.item.horizontal=k.margin,this.options.margin.item.vertical=k.margin):"object"==typeof k.margin&&(t.selectiveExtend(["axis"],this.options.margin,k.margin),"item" in k.margin&&("number"==typeof k.margin.item?(this.options.margin.item.horizontal=k.margin.item,this.options.margin.item.vertical=k.margin.item):"object"==typeof k.margin.item&&t.selectiveExtend(["horizontal","vertical"],this.options.margin.item,k.margin.item)))),"editable" in k&&("boolean"==typeof k.editable?(this.options.editable.updateTime=k.editable,this.options.editable.updateGroup=k.editable,this.options.editable.add=k.editable,this.options.editable.remove=k.editable):"object"==typeof k.editable&&t.selectiveExtend(["updateTime","updateGroup","add","remove"],this.options.editable,k.editable));var b=function(q){var x=k[q];if(x){if(!(x instanceof Function)){throw new Error("option "+q+" must be a function "+q+"(item, callback)")}this.options[q]=x}}.bind(this);["onAdd","onUpdate","onRemove","onMove","onMoving"].forEach(b),this.markDirty()}},d.prototype.markDirty=function(b){this.groupIds=[],this.stackDirty=!0,b&&b.refreshItems&&t.forEach(this.items,function(j){j.dirty=!0,j.displayed&&j.redraw()})},d.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},d.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},d.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||this.body.dom.left.appendChild(this.dom.labelSet)},d.prototype.setSelection=function(x){var q,b,k,j;for(void 0==x&&(x=[]),Array.isArray(x)||(x=[x]),q=0,b=this.selection.length;b>q;q++){k=this.selection[q],j=this.items[k],j&&j.unselect()}for(this.selection=[],q=0,b=x.length;b>q;q++){k=x[q],j=this.items[k],j&&(this.selection.push(k),j.select())}},d.prototype.getSelection=function(){return this.selection.concat([])},d.prototype.getVisibleItems=function(){var A=this.body.range.getRange(),b=this.body.util.toScreen(A.start),k=this.body.util.toScreen(A.end),y=[];for(var q in this.groups){if(this.groups.hasOwnProperty(q)){for(var x=this.groups[q],z=x.visibleItems,B=0;B<z.length;B++){var j=z[B];j.left<k&&j.left+j.width>b&&y.push(j.id)}}}return y},d.prototype._deselect=function(q){for(var k=this.selection,b=0,j=k.length;j>b;b++){if(k[b]==q){k.splice(b,1);break}}},d.prototype.redraw=function(){var b=this.options.margin,z=this.body.range,C=t.option.asSize,G=this.options,F=G.orientation.item,I=!1,q=this.dom.frame,B=G.editable.updateTime||G.editable.updateGroup;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,q.className="vis-itemset"+(B?" vis-editable":""),I=this._orderGroups()||I;var y=z.end-z.start,D=y!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth;D&&(this.stackDirty=!0),this.lastVisibleInterval=y,this.props.lastWidth=this.props.width;var j=this.stackDirty,x=this._firstGroup(),H={item:b.item,axis:b.axis},A={item:b.item,axis:b.item.vertical/2},E=0,k=b.axis+b.item.vertical;return this.groups[n].redraw(z,A,j),t.forEach(this.groups,function(O){var K=O==x?H:A,L=O.redraw(z,K,j);I=L||I,E+=O.height}),E=Math.max(E,k),this.stackDirty=!1,q.style.height=C(E),this.props.width=q.offsetWidth,this.props.height=E,this.dom.axis.style.top=C("top"==F?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.dom.axis.style.left="0",I=this._isResized()||I},d.prototype._firstGroup=function(){var k="top"==this.options.orientation.item?0:this.groupIds.length-1,j=this.groupIds[k],b=this.groups[j]||this.groups[N];return b||null},d.prototype._updateUngrouped=function(){var z,q,k=this.groups[N];this.groups[n];if(this.groupsData){if(k){k.hide(),delete this.groups[N];for(q in this.items){if(this.items.hasOwnProperty(q)){z=this.items[q],z.parent&&z.parent.remove(z);var j=this._getGroupId(z.data),b=this.groups[j];b&&b.add(z)||z.hide()}}}}else{if(!k){var y=null,x=null;k=new r(y,x,this),this.groups[N]=k;for(q in this.items){this.items.hasOwnProperty(q)&&(z=this.items[q],k.add(z))}k.show()}}},d.prototype.getLabelSet=function(){return this.dom.labelSet},d.prototype.setItems=function(x){var q,b=this,k=this.itemsData;if(x){if(!(x instanceof i||x instanceof a)){throw new TypeError("Data must be an instance of DataSet or DataView")}this.itemsData=x}else{this.itemsData=null}if(k&&(t.forEach(this.itemListeners,function(z,y){k.off(y,z)}),q=k.getIds(),this._onRemove(q)),this.itemsData){var j=this.id;t.forEach(this.itemListeners,function(z,y){b.itemsData.on(y,z,j)}),q=this.itemsData.getIds(),this._onAdd(q),this._updateUngrouped()}},d.prototype.getItems=function(){return this.itemsData},d.prototype.setGroups=function(q){var k,b=this;if(this.groupsData&&(t.forEach(this.groupListeners,function(y,x){b.groupsData.off(x,y)}),k=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(k)),q){if(!(q instanceof i||q instanceof a)){throw new TypeError("Data must be an instance of DataSet or DataView")}this.groupsData=q}else{this.groupsData=null}if(this.groupsData){var j=this.id;t.forEach(this.groupListeners,function(y,x){b.groupsData.on(x,y,j)}),k=this.groupsData.getIds(),this._onAddGroups(k)}this._updateUngrouped(),this._order(),this.body.emitter.emit("change",{queue:!0})},d.prototype.getGroups=function(){return this.groupsData},d.prototype.removeItem=function(k){var j=this.itemsData.get(k),b=this.itemsData.getDataSet();j&&this.options.onRemove(j,function(q){q&&b.remove(k)})},d.prototype._getType=function(b){return b.type||this.options.type||(b.end?"range":"box")},d.prototype._getGroupId=function(b){var j=this._getType(b);return"background"==j&&void 0==b.group?n:this.groupsData?b.group:N},d.prototype._onUpdate=function(b){var j=this;b.forEach(function(x){var y,A=j.itemsData.get(x,j.itemOptions),q=j.items[x],k=j._getType(A),z=d.types[k];if(q&&(z&&q instanceof z?j._updateItem(q,A):(y=q.selected,j._removeItem(q),q=null)),!q){if(!z){throw"rangeoverflow"==k?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+k+'"')}q=new z(A,j.conversion,j.options),q.id=x,j._addItem(q),y&&(this.selection.push(x),q.select())}}.bind(this)),this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0})},d.prototype._onAdd=d.prototype._onUpdate,d.prototype._onRemove=function(k){var j=0,b=this;k.forEach(function(x){var q=b.items[x];q&&(j++,b._removeItem(q))}),j&&(this._order(),this.stackDirty=!0,this.body.emitter.emit("change",{queue:!0}))},d.prototype._order=function(){t.forEach(this.groups,function(b){b.order()})},d.prototype._onUpdateGroups=function(b){this._onAddGroups(b)},d.prototype._onAddGroups=function(b){var j=this;b.forEach(function(x){var y=j.groupsData.get(x),k=j.groups[x];if(k){k.setData(y)}else{if(x==N||x==n){throw new Error("Illegal group id. "+x+" is a reserved id.")}var z=Object.create(j.options);t.extend(z,{height:null}),k=new r(x,y,j),j.groups[x]=k;for(var q in j.items){if(j.items.hasOwnProperty(q)){var A=j.items[q];A.data.group==x&&k.add(A)}}k.order(),k.show()}}),this.body.emitter.emit("change",{queue:!0})},d.prototype._onRemoveGroups=function(b){var j=this.groups;b.forEach(function(k){var q=j[k];q&&(q.hide(),delete j[k])}),this.markDirty(),this.body.emitter.emit("change",{queue:!0})},d.prototype._orderGroups=function(){if(this.groupsData){var k=this.groupsData.getIds({order:this.options.groupOrder}),j=!t.equalArray(k,this.groupIds);if(j){var b=this.groups;k.forEach(function(q){b[q].hide()}),k.forEach(function(q){b[q].show()}),this.groupIds=k}return j}return !1},d.prototype._addItem=function(k){this.items[k.id]=k;var j=this._getGroupId(k.data),b=this.groups[j];b&&b.add(k)},d.prototype._updateItem=function(z,q){var k=z.data.group,j=z.data.subgroup;if(z.setData(q),k!=z.data.group||j!=z.data.subgroup){var b=this.groups[k];b&&b.remove(z);var y=this._getGroupId(z.data),x=this.groups[y];x&&x.add(z)}},d.prototype._removeItem=function(b){b.hide(),delete this.items[b.id];var j=this.selection.indexOf(b.id);-1!=j&&this.selection.splice(j,1),b.parent&&b.parent.remove(b)},d.prototype._constructByEndArray=function(k){for(var j=[],b=0;b<k.length;b++){k[b] instanceof m&&j.push(k[b])}return j},d.prototype._onTouch=function(b){this.touchParams.item=this.itemFromTarget(b),this.touchParams.dragLeftItem=b.target.dragLeftItem||!1,this.touchParams.dragRightItem=b.target.dragRightItem||!1,this.touchParams.itemProps=null},d.prototype._onDragStart=function(y){if(this.options.editable.updateTime||this.options.editable.updateGroup){var q,j=this.touchParams.item||null,k=this;if(j&&j.selected){var b=this.touchParams.dragLeftItem,x=this.touchParams.dragRightItem;b?(q={item:b,initialX:y.center.x,dragLeft:!0,data:t.extend({},j.data)},this.touchParams.itemProps=[q]):x?(q={item:x,initialX:y.center.x,dragRight:!0,data:t.extend({},j.data)},this.touchParams.itemProps=[q]):this.touchParams.itemProps=this.getSelection().map(function(B){var z=k.items[B],A={item:z,initialX:y.center.x,data:t.extend({},z.data)};return A}),y.stopPropagation()}else{this.options.editable.add&&(y.srcEvent.ctrlKey||y.srcEvent.metaKey)&&this._onDragStartAddItem(y)}}},d.prototype._onDragStartAddItem=function(b){var y=this.options.snap||null,A=t.getAbsoluteLeft(this.dom.frame),F=b.center.x-A-10,E=this.body.util.toTime(F),C=this.body.util.getScale(),k=this.body.util.getStep(),z=y?y(E,C,k):z,x=z,B={type:"range",start:z,end:x,content:"new item"},j=t.randomUUID();B[this.itemsData._fieldId]=j;var q=this.groupFromTarget(b);q&&(B.group=q.groupId);var G=new m(B,this.conversion,this.options);G.id=j,G.data=B,this._addItem(G);var D={item:G,dragRight:!0,initialX:b.center.x,data:t.extend({},B)};this.touchParams.itemProps=[D],b.stopPropagation()},d.prototype._onDrag=function(y){if(this.touchParams.itemProps){y.stopPropagation();var q=this,j=this.options.snap||null,k=this.body.dom.root.offsetLeft+this.body.domProps.left.width,b=this.body.util.getScale(),x=this.body.util.getStep();this.touchParams.itemProps.forEach(function(F){var z=q.body.util.toTime(y.center.x-k),H=q.body.util.toTime(F.initialX-k),A=z-H,D=t.extend({},F.item.data);if(q.options.editable.updateTime){if(F.dragLeft){if(void 0!=D.start){var G=t.convert(F.data.start,"Date"),C=new Date(G.valueOf()+A);D.start=j?j(C,b,x):C}}else{if(F.dragRight){if(void 0!=D.end){var I=t.convert(F.data.end,"Date"),B=new Date(I.valueOf()+A);D.end=j?j(B,b,x):B}}else{if(void 0!=D.start){var G=t.convert(F.data.start,"Date").valueOf(),C=new Date(G+A);if(void 0!=D.end){var I=t.convert(F.data.end,"Date"),E=I.valueOf()-G.valueOf();D.start=j?j(C,b,x):C,D.end=new Date(D.start.valueOf()+E)}else{D.start=j?j(C,b,x):C}}}}}if(q.options.editable.updateGroup&&!F.dragLeft&&!F.dragRight&&void 0!=D.group){var K=q.groupFromTarget(y);K&&(D.group=K.groupId)}q.options.onMoving(D,function(L){L&&F.item.setData(L)})}),this.stackDirty=!0,this.body.emitter.emit("change")}},d.prototype._moveToGroup=function(q,k){var b=this.groups[k];if(b&&b.groupId!=q.data.group){var j=q.parent;j.remove(q),j.order(),b.add(q),b.order(),q.data.group=b.groupId}},d.prototype._onDragEnd=function(x){if(this.touchParams.itemProps){x.stopPropagation();var q=[],b=this,k=this.itemsData.getDataSet(),j=this.touchParams.itemProps;this.touchParams.itemProps=null,j.forEach(function(z){var B=z.item.id,y=null!=b.itemsData.get(B,b.itemOptions);if(y){var A=t.extend({},z.item.data);b.options.onMove(A,function(C){C?(C[k._fieldId]=B,q.push(C)):(z.item.setData(z.data),b.stackDirty=!0,b.body.emitter.emit("change"))})}else{b.options.onAdd(z.item.data,function(C){b._removeItem(z.item),C&&b.itemsData.getDataSet().add(C),b.stackDirty=!0,b.body.emitter.emit("change")})}}),q.length&&k.update(q)}},d.prototype._onSelectItem=function(z){if(this.options.selectable){var q=z.srcEvent&&(z.srcEvent.ctrlKey||z.srcEvent.metaKey),k=z.srcEvent&&z.srcEvent.shiftKey;if(q||k){return void this._onMultiSelectItem(z)}var j=this.getSelection(),b=this.itemFromTarget(z),y=b?[b.id]:[];this.setSelection(y);var x=this.getSelection();(x.length>0||j.length>0)&&this.body.emitter.emit("select",{items:x,event:z})}},d.prototype._onAddItem=function(j){if(this.options.selectable&&this.options.editable.add){var z=this,C=this.options.snap||null,F=this.itemFromTarget(j);if(j.stopPropagation(),F){var E=z.itemsData.get(F.id);this.options.onUpdate(E,function(G){G&&z.itemsData.getDataSet().update(G)})}else{var B=t.getAbsoluteLeft(this.dom.frame),q=j.center.x-B,A=this.body.util.toTime(q),y=this.body.util.getScale(),D=this.body.util.getStep(),k={start:C?C(A,y,D):A,content:"new item"};if("range"===this.options.type){var x=this.body.util.toTime(q+this.props.width/5);k.end=C?C(x,y,D):x}k[this.itemsData._fieldId]=t.randomUUID();var b=this.groupFromTarget(j);b&&(k.group=b.groupId),this.options.onAdd(k,function(G){G&&z.itemsData.getDataSet().add(G)})}}},d.prototype._onMultiSelectItem=function(y){if(this.options.selectable){var C=this.itemFromTarget(y);if(C){var j=this.options.multiselect?this.getSelection():[],x=y.srcEvent&&y.srcEvent.shiftKey||!1;if(x&&this.options.multiselect){j.push(C.id);var q=d._getItemRange(this.itemsData.get(j,this.itemOptions));j=[];for(var A in this.items){if(this.items.hasOwnProperty(A)){var z=this.items[A],b=z.data.start,B=void 0!==z.data.end?z.data.end:b;b>=q.min&&B<=q.max&&!(z instanceof s)&&j.push(z.id)}}}else{var k=j.indexOf(C.id);-1==k?j.push(C.id):j.splice(k,1)}this.setSelection(j),this.body.emitter.emit("select",{items:this.getSelection(),event:y})}}},d._getItemRange=function(k){var j=null,b=null;return k.forEach(function(q){(null==b||q.start<b)&&(b=q.start),void 0!=q.end?(null==j||q.end>j)&&(j=q.end):(null==j||q.start>j)&&(j=q.start)}),{min:b,max:j}},d.prototype.itemFromTarget=function(b){for(var j=b.target;j;){if(j.hasOwnProperty("timeline-item")){return j["timeline-item"]}j=j.parentNode}return null},d.prototype.groupFromTarget=function(q){for(var j=q.center?q.center.y:q.clientY,y=0;y<this.groupIds.length;y++){var b=this.groupIds[y],x=this.groups[b],k=x.dom.foreground,z=t.getAbsoluteTop(k);if(j>z&&j<z+k.offsetHeight){return x}if("top"===this.options.orientation.item){if(y===this.groupIds.length-1&&j>z){return x}}else{if(0===y&&j<z+k.offset){return x}}}return null},d.itemSetFromTarget=function(b){for(var j=b.target;j;){if(j.hasOwnProperty("timeline-itemset")){return j["timeline-itemset"]}j=j.parentNode}return null},v.exports=d},function(i,m,j){function l(c,b,d){this.groupId=c,this.subgroups={},this.subgroupIndex=0,this.subgroupOrderer=b&&b.subgroupOrder,this.itemSet=d,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var a=this;this.itemSet.body.emitter.on("checkRangedItems",function(){a.checkRangedItems=!0}),this._create(),this.setData(b)}var k=j(1),n=j(33);j(34);l.prototype._create=function(){var b=document.createElement("div");b.className="vis-label",this.dom.label=b;var a=document.createElement("div");a.className="vis-inner",b.appendChild(a),this.dom.inner=a;var c=document.createElement("div");c.className="vis-group",c["timeline-group"]=this,this.dom.foreground=c,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.innerHTML="?",this.dom.background.appendChild(this.dom.marker)},l.prototype.setData=function(b){var a=b&&b.content;a instanceof Element?this.dom.inner.appendChild(a):void 0!==a&&null!==a?this.dom.inner.innerHTML=a:this.dom.inner.innerHTML=this.groupId||"",this.dom.label.title=b&&b.title||"",this.dom.inner.firstChild?k.removeClassName(this.dom.inner,"vis-hidden"):k.addClassName(this.dom.inner,"vis-hidden");var c=b&&b.className||null;c!=this.className&&(this.className&&(k.removeClassName(this.dom.label,this.className),k.removeClassName(this.dom.foreground,this.className),k.removeClassName(this.dom.background,this.className),k.removeClassName(this.dom.axis,this.className)),k.addClassName(this.dom.label,c),k.addClassName(this.dom.foreground,c),k.addClassName(this.dom.background,c),k.addClassName(this.dom.axis,c),this.className=c),this.style&&(k.removeCssText(this.dom.label,"vis-"+this.style),this.style=null),b&&b.style&&(k.addCssText(this.dom.label,"vis-"+b.style),this.style=b.style)},l.prototype.getLabelWidth=function(){return this.props.label.width},l.prototype.redraw=function(a,u,b){var h=!1,p=this.dom.marker.clientHeight;if(p!=this.lastMarkerHeight&&(this.lastMarkerHeight=p,k.forEach(this.items,function(q){q.dirty=!0,q.displayed&&q.redraw()}),b=!0),"function"==typeof this.itemSet.options.order){if(b){var d=this,E=!1;k.forEach(this.items,function(q){q.displayed||(q.redraw(),d.visibleItems.push(q)),q.repositionX(E)});var t=this.orderedItems.byStart.slice().sort(function(s,q){return d.itemSet.options.order(s.data,q.data)});n.stack(t,u,!0)}this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a)}else{this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,a),this.itemSet.options.stack?n.stack(this.visibleItems,u,b):n.nostack(this.visibleItems,u,this.subgroups)}var f=this._calculateHeight(u),c=this.dom.foreground;this.top=c.offsetTop,this.left=c.offsetLeft,this.width=c.offsetWidth,h=k.updateProperty(this,"height",f)||h,h=k.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||h,h=k.updateProperty(this.props.label,"height",this.dom.inner.clientHeight)||h,this.dom.background.style.height=f+"px",this.dom.foreground.style.height=f+"px",this.dom.label.style.height=f+"px";for(var r=0,o=this.visibleItems.length;o>r;r++){var D=this.visibleItems[r];D.repositionY(u)}return h},l.prototype._calculateHeight=function(b){var h,c=this.visibleItems;this.resetSubgroups();var f=this;if(c.length>0){var a=c[0].top,o=c[0].top+c[0].height;if(k.forEach(c,function(p){a=Math.min(a,p.top),o=Math.max(o,p.top+p.height),void 0!==p.data.subgroup&&(f.subgroups[p.data.subgroup].height=Math.max(f.subgroups[p.data.subgroup].height,p.height),f.subgroups[p.data.subgroup].visible=!0)}),a>b.axis){var d=a-b.axis;o-=d,k.forEach(c,function(p){p.top-=d})}h=o+b.item.vertical/2}else{h=0}return h=Math.max(h,this.props.label.height)},l.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},l.prototype.hide=function(){var c=this.dom.label;c.parentNode&&c.parentNode.removeChild(c);var b=this.dom.foreground;b.parentNode&&b.parentNode.removeChild(b);var d=this.dom.background;d.parentNode&&d.parentNode.removeChild(d);var a=this.dom.axis;a.parentNode&&a.parentNode.removeChild(a)},l.prototype.add=function(b){if(this.items[b.id]=b,b.setParent(this),void 0!==b.data.subgroup&&(void 0===this.subgroups[b.data.subgroup]&&(this.subgroups[b.data.subgroup]={height:0,visible:!1,index:this.subgroupIndex,items:[]},this.subgroupIndex++),this.subgroups[b.data.subgroup].items.push(b)),this.orderSubgroups(),-1==this.visibleItems.indexOf(b)){var a=this.itemSet.body.range;this._checkIfVisible(b,this.visibleItems,a)}},l.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var b=[];if("string"==typeof this.subgroupOrderer){for(var a in this.subgroups){b.push({subgroup:a,sortField:this.subgroups[a].items[0].data[this.subgroupOrderer]})}b.sort(function(f,d){return f.sortField-d.sortField})}else{if("function"==typeof this.subgroupOrderer){for(var a in this.subgroups){b.push(this.subgroups[a].items[0].data)}b.sort(this.subgroupOrderer)}}if(b.length>0){for(var c=0;c<b.length;c++){this.subgroups[b[c].subgroup].index=c}}}},l.prototype.resetSubgroups=function(){for(var a in this.subgroups){this.subgroups.hasOwnProperty(a)&&(this.subgroups[a].visible=!1)}},l.prototype.remove=function(b){delete this.items[b.id],b.setParent(null);var a=this.visibleItems.indexOf(b);-1!=a&&this.visibleItems.splice(a,1)},l.prototype.removeFromDataSet=function(a){this.itemSet.removeItem(a.id)},l.prototype.order=function(){for(var c=k.toArray(this.items),b=[],d=[],a=0;a<c.length;a++){void 0!==c[a].data.end&&d.push(c[a]),b.push(c[a])}this.orderedItems={byStart:b,byEnd:d},n.orderByStart(this.orderedItems.byStart),n.orderByEnd(this.orderedItems.byEnd)},l.prototype._updateVisibleItems=function(b,u,c){var o,a,r=[],f={},E=(c.end-c.start)/4,t=c.start-E,h=c.end+E,d=function(q){return t>q?-1:h>=q?0:1};if(u.length>0){for(a=0;a<u.length;a++){this._checkIfVisibleWithReference(u[a],r,f,c)}}var s=k.binarySearchCustom(b.byStart,d,"data","start");if(this._traceVisible(s,b.byStart,r,f,function(q){return q.data.start<t||q.data.start>h}),1==this.checkRangedItems){for(this.checkRangedItems=!1,a=0;a<b.byEnd.length;a++){this._checkIfVisibleWithReference(b.byEnd[a],r,f,c)}}else{var p=k.binarySearchCustom(b.byEnd,d,"data","end");this._traceVisible(p,b.byEnd,r,f,function(q){return q.data.end<t||q.data.end>h})}for(a=0;a<r.length;a++){o=r[a],o.displayed||o.show(),o.repositionX()}return r},l.prototype._traceVisible=function(c,o,f,h,d){var b,a;if(-1!=c){for(a=c;a>=0&&(b=o[a],!d(b));a--){void 0===h[b.id]&&(h[b.id]=!0,f.push(b))}for(a=c+1;a<o.length&&(b=o[a],!d(b));a++){void 0===h[b.id]&&(h[b.id]=!0,f.push(b))}}},l.prototype._checkIfVisible=function(b,a,c){b.isVisible(c)?(b.displayed||b.show(),b.repositionX(),a.push(b)):b.displayed&&b.hide()},l.prototype._checkIfVisibleWithReference=function(c,b,d,a){c.isVisible(a)?void 0===d[c.id]&&(d[c.id]=!0,b.push(c)):c.displayed&&c.hide()},i.exports=l},function(f,j,h){var i=0.001;j.orderByStart=function(a){a.sort(function(c,b){return c.data.start-b.data.start})},j.orderByEnd=function(a){a.sort(function(d,c){var m="end" in d.data?d.data.end:d.data.start,b="end" in c.data?c.data.end:c.data.start;return m-b})},j.stack=function(r,b,l){var d,o;if(l){for(d=0,o=r.length;o>d;d++){r[d].top=null}}for(d=0,o=r.length;o>d;d++){var n=r[d];if(n.stack&&null===n.top){n.top=b.axis;do{for(var s=null,a=0,t=r.length;t>a;a++){var c=r[a];if(null!==c.top&&c!==n&&c.stack&&j.collision(n,c,b.item)){s=c;break}}null!=s&&(n.top=s.top+s.height+b.item.vertical)}while(s)}}},j.nostack=function(n,b,o){var a,q,d;for(a=0,q=n.length;q>a;a++){if(void 0!==n[a].data.subgroup){d=b.axis;for(var c in o){o.hasOwnProperty(c)&&1==o[c].visible&&o[c].index<o[n[a].data.subgroup].index&&(d+=o[c].height+b.item.vertical)}n[a].top=d}else{n[a].top=b.axis}}},j.collision=function(b,a,c){return b.left-c.horizontal+i<a.left+a.width&&b.left+b.width+c.horizontal-i>a.left&&b.top-c.vertical+i<a.top+a.height&&b.top+b.height+c.vertical-i>a.top}},function(h,l,i){function k(b,a,c){if(this.props={content:{width:0}},this.overflow=!1,b){if(void 0==b.start){throw new Error('Property "start" missing in item '+b.id)}if(void 0==b.end){throw new Error('Property "end" missing in item '+b.id)}}j.call(this,b,a,c)}var j=(i(23),i(35));k.prototype=new j(null,null,null),k.prototype.baseClassName="vis-item vis-range",k.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start},k.prototype.redraw=function(){var b=this.dom;if(b||(this.dom={},b=this.dom,b.box=document.createElement("div"),b.frame=document.createElement("div"),b.frame.className="vis-item-overflow",b.box.appendChild(b.frame),b.content=document.createElement("div"),b.content.className="vis-item-content",b.frame.appendChild(b.content),b.box["timeline-item"]=this,this.dirty=!0),!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!b.box.parentNode){var a=this.parent.dom.foreground;if(!a){throw new Error("Cannot redraw item: parent has no foreground container element")}a.appendChild(b.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");b.box.className=this.baseClassName+c,this.overflow="hidden"!==window.getComputedStyle(b.frame).overflow,this.dom.content.style.maxWidth="none",this.props.content.width=this.dom.content.offsetWidth,this.height=this.dom.box.offsetHeight,this.dom.content.style.maxWidth="",this.dirty=!1}this._repaintDeleteButton(b.box),this._repaintDragLeft(),this._repaintDragRight()},k.prototype.show=function(){this.displayed||this.redraw()},k.prototype.hide=function(){if(this.displayed){var a=this.dom.box;a.parentNode&&a.parentNode.removeChild(a),this.displayed=!1}},k.prototype.repositionX=function(d){var a,f,o=this.parent.width,n=this.conversion.toScreen(this.data.start),c=this.conversion.toScreen(this.data.end);(void 0===d||d===!0)&&(-o>n&&(n=-o),c>2*o&&(c=2*o));var b=Math.max(c-n,1);switch(this.overflow?(this.left=n,this.width=b+this.props.content.width,f=this.props.content.width):(this.left=n,this.width=b,f=Math.min(c-n,this.props.content.width)),this.dom.box.style.left=this.left+"px",this.dom.box.style.width=b+"px",this.options.align){case"left":this.dom.content.style.left="0";break;case"right":this.dom.content.style.left=Math.max(b-f,0)+"px";break;case"center":this.dom.content.style.left=Math.max((b-f)/2,0)+"px";break;default:a=this.overflow?c>0?Math.max(-n,0):-f:0>n?-n:0,this.dom.content.style.left=a+"px"}},k.prototype.repositionY=function(){var b=this.options.orientation.item,a=this.dom.box;"top"==b?a.style.top=this.top+"px":a.style.top=this.parent.height-this.top-this.height+"px"},k.prototype._repaintDragLeft=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragLeft){var a=document.createElement("div");a.className="vis-drag-left",a.dragLeftItem=this,this.dom.box.appendChild(a),this.dom.dragLeft=a}else{!this.selected&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)}},k.prototype._repaintDragRight=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragRight){var a=document.createElement("div");a.className="vis-drag-right",a.dragRightItem=this,this.dom.box.appendChild(a),this.dom.dragRight=a}else{!this.selected&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)}},h.exports=k},function(i,m,j){function l(b,a,c){this.id=null,this.parent=null,this.data=b,this.dom=null,this.conversion=a||{},this.options=c||{},this.selected=!1,this.displayed=!1,this.dirty=!0,this.top=null,this.left=null,this.width=null,this.height=null}var k=j(23),n=j(1);l.prototype.stack=!0,l.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setData=function(b){var a=void 0!=b.group&&this.data.group!=b.group;a&&this.parent.itemSet._moveToGroup(this,b.group),this.data=b,this.dirty=!0,this.displayed&&this.redraw()},l.prototype.setParent=function(a){this.displayed?(this.hide(),this.parent=a,this.parent&&this.show()):this.parent=a},l.prototype.isVisible=function(a){return !1},l.prototype.show=function(){return !1},l.prototype.hide=function(){return !1},l.prototype.redraw=function(){},l.prototype.repositionX=function(){},l.prototype.repositionY=function(){},l.prototype._repaintDeleteButton=function(b){if(this.selected&&this.options.editable.remove&&!this.dom.deleteButton){var a=this,c=document.createElement("div");c.className="vis-delete",c.title="Delete this item",new k(c).on("tap",function(d){d.stopPropagation(),a.parent.removeFromDataSet(a)}),b.appendChild(c),this.dom.deleteButton=c}else{!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)}},l.prototype._updateContents=function(c){var b;if(this.options.template){var d=this.parent.itemSet.itemsData.get(this.id);b=this.options.template(d)}else{b=this.data.content}var a=this._contentToString(this.content)!==this._contentToString(b);if(a){if(b instanceof Element){c.innerHTML="",c.appendChild(b)}else{if(void 0!=b){c.innerHTML=b}else{if("background"!=this.data.type||void 0!==this.data.content){throw new Error('Property "content" missing in item '+this.id)}}}this.content=b}},l.prototype._updateTitle=function(a){null!=this.data.title?a.title=this.data.title||"":a.removeAttribute("vis-title")},l.prototype._updateDataAttributes=function(c){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var b=[];if(Array.isArray(this.options.dataAttributes)){b=this.options.dataAttributes}else{if("all"!=this.options.dataAttributes){return}b=Object.keys(this.data)}for(var d=0;d<b.length;d++){var a=b[d],f=this.data[a];null!=f?c.setAttribute("data-"+a,f):c.removeAttribute("data-"+a)}}},l.prototype._updateStyle=function(a){this.style&&(n.removeCssText(a,this.style),this.style=null),this.data.style&&(n.addCssText(a,this.data.style),this.style=this.data.style)},l.prototype._contentToString=function(a){return"string"==typeof a?a:a&&"outerHTML" in a?a.outerHTML:a},l.prototype.getWidthLeft=function(){return 0},l.prototype.getWidthRight=function(){return 0},i.exports=l},function(i,n,k){function m(b,a,c,d){this.current=new Date,this._start=new Date,this._end=new Date,this.autoScale=!0,this.scale="day",this.step=1,this.setRange(b,a,c),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=d,void 0===d&&(this.hiddenDates=[]),this.format=m.FORMAT}var l=k(2),p=k(29),o=k(1);m.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},m.prototype.setFormat=function(b){var a=o.deepExtend({},m.FORMAT);this.format=o.deepExtend(a,b)},m.prototype.setRange=function(b,a,c){if(!(b instanceof Date&&a instanceof Date)){throw"No legal start or end date in method setRange"}this._start=void 0!=b?new Date(b.valueOf()):new Date,this._end=void 0!=a?new Date(a.valueOf()):new Date,this.autoScale&&this.setMinimumStep(c)},m.prototype.first=function(){this.current=new Date(this._start.valueOf()),this.roundToMinor()},m.prototype.roundToMinor=function(){switch(this.scale){case"year":this.current.setFullYear(this.step*Math.floor(this.current.getFullYear()/this.step)),this.current.setMonth(0);case"month":this.current.setDate(1);case"day":case"weekday":this.current.setHours(0);case"hour":this.current.setMinutes(0);case"minute":this.current.setSeconds(0);case"second":this.current.setMilliseconds(0)}if(1!=this.step){switch(this.scale){case"millisecond":this.current.setMilliseconds(this.current.getMilliseconds()-this.current.getMilliseconds()%this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()-this.current.getSeconds()%this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()-this.current.getMinutes()%this.step);break;case"hour":this.current.setHours(this.current.getHours()-this.current.getHours()%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()-1-(this.current.getDate()-1)%this.step+1);break;case"month":this.current.setMonth(this.current.getMonth()-this.current.getMonth()%this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()-this.current.getFullYear()%this.step)}}},m.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},m.prototype.next=function(){var b=this.current.valueOf();if(this.current.getMonth()<6){switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current=new Date(this.current.valueOf()+1000*this.step);break;case"minute":this.current=new Date(this.current.valueOf()+1000*this.step*60);break;case"hour":this.current=new Date(this.current.valueOf()+1000*this.step*60*60);var a=this.current.getHours();this.current.setHours(a-a%this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}}else{switch(this.scale){case"millisecond":this.current=new Date(this.current.valueOf()+this.step);break;case"second":this.current.setSeconds(this.current.getSeconds()+this.step);break;case"minute":this.current.setMinutes(this.current.getMinutes()+this.step);break;case"hour":this.current.setHours(this.current.getHours()+this.step);break;case"weekday":case"day":this.current.setDate(this.current.getDate()+this.step);break;case"month":this.current.setMonth(this.current.getMonth()+this.step);break;case"year":this.current.setFullYear(this.current.getFullYear()+this.step)}}if(1!=this.step){switch(this.scale){case"millisecond":this.current.getMilliseconds()<this.step&&this.current.setMilliseconds(0);break;case"second":this.current.getSeconds()<this.step&&this.current.setSeconds(0);break;case"minute":this.current.getMinutes()<this.step&&this.current.setMinutes(0);break;case"hour":this.current.getHours()<this.step&&this.current.setHours(0);break;case"weekday":case"day":this.current.getDate()<this.step+1&&this.current.setDate(1);break;case"month":this.current.getMonth()<this.step&&this.current.setMonth(0);break;case"year":}}this.current.valueOf()==b&&(this.current=new Date(this._end.valueOf())),p.stepOverHiddenDates(this,b)},m.prototype.getCurrent=function(){return this.current},m.prototype.setScale=function(a){a&&"string"==typeof a.scale&&(this.scale=a.scale,this.step=a.step>0?a.step:1,this.autoScale=!1)},m.prototype.setAutoScale=function(a){this.autoScale=a},m.prototype.setMinimumStep=function(b){if(void 0!=b){var h=31104000000,c=2592000000,f=86400000,a=3600000,r=60000,j=1000,d=1;1000*h>b&&(this.scale="year",this.step=1000),500*h>b&&(this.scale="year",this.step=500),100*h>b&&(this.scale="year",this.step=100),50*h>b&&(this.scale="year",this.step=50),10*h>b&&(this.scale="year",this.step=10),5*h>b&&(this.scale="year",this.step=5),h>b&&(this.scale="year",this.step=1),3*c>b&&(this.scale="month",this.step=3),c>b&&(this.scale="month",this.step=1),5*f>b&&(this.scale="day",this.step=5),2*f>b&&(this.scale="day",this.step=2),f>b&&(this.scale="day",this.step=1),f/2>b&&(this.scale="weekday",this.step=1),4*a>b&&(this.scale="hour",this.step=4),a>b&&(this.scale="hour",this.step=1),15*r>b&&(this.scale="minute",this.step=15),10*r>b&&(this.scale="minute",this.step=10),5*r>b&&(this.scale="minute",this.step=5),r>b&&(this.scale="minute",this.step=1),15*j>b&&(this.scale="second",this.step=15),10*j>b&&(this.scale="second",this.step=10),5*j>b&&(this.scale="second",this.step=5),j>b&&(this.scale="second",this.step=1),200*d>b&&(this.scale="millisecond",this.step=200),100*d>b&&(this.scale="millisecond",this.step=100),50*d>b&&(this.scale="millisecond",this.step=50),10*d>b&&(this.scale="millisecond",this.step=10),5*d>b&&(this.scale="millisecond",this.step=5),d>b&&(this.scale="millisecond",this.step=1)}},m.snap=function(b,h,c){var f=new Date(b.valueOf());if("year"==h){var d=f.getFullYear()+Math.round(f.getMonth()/12);f.setFullYear(Math.round(d/c)*c),f.setMonth(0),f.setDate(0),f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)}else{if("month"==h){f.getDate()>15?(f.setDate(1),f.setMonth(f.getMonth()+1)):f.setDate(1),f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)}else{if("day"==h){switch(c){case 5:case 2:f.setHours(24*Math.round(f.getHours()/24));break;default:f.setHours(12*Math.round(f.getHours()/12))}f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)}else{if("weekday"==h){switch(c){case 5:case 2:f.setHours(12*Math.round(f.getHours()/12));break;default:f.setHours(6*Math.round(f.getHours()/6))}f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0)}else{if("hour"==h){switch(c){case 4:f.setMinutes(60*Math.round(f.getMinutes()/60));break;default:f.setMinutes(30*Math.round(f.getMinutes()/30))}f.setSeconds(0),f.setMilliseconds(0)}else{if("minute"==h){switch(c){case 15:case 10:f.setMinutes(5*Math.round(f.getMinutes()/5)),f.setSeconds(0);break;case 5:f.setSeconds(60*Math.round(f.getSeconds()/60));break;default:f.setSeconds(30*Math.round(f.getSeconds()/30))}f.setMilliseconds(0)}else{if("second"==h){switch(c){case 15:case 10:f.setSeconds(5*Math.round(f.getSeconds()/5)),f.setMilliseconds(0);break;case 5:f.setMilliseconds(1000*Math.round(f.getMilliseconds()/1000));break;default:f.setMilliseconds(500*Math.round(f.getMilliseconds()/500))}}else{if("millisecond"==h){var a=c>5?c/2:1;f.setMilliseconds(Math.round(f.getMilliseconds()/a)*a)}}}}}}}}return f},m.prototype.isMajor=function(){if(1==this.switchedYear){switch(this.switchedYear=!1,this.scale){case"year":case"month":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return !0;default:return !1}}else{if(1==this.switchedMonth){switch(this.switchedMonth=!1,this.scale){case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return !0;default:return !1}}else{if(1==this.switchedDay){switch(this.switchedDay=!1,this.scale){case"millisecond":case"second":case"minute":case"hour":return !0;default:return !1}}}}switch(this.scale){case"millisecond":return 0==this.current.getMilliseconds();case"second":return 0==this.current.getSeconds();case"minute":return 0==this.current.getHours()&&0==this.current.getMinutes();case"hour":return 0==this.current.getHours();case"weekday":case"day":return 1==this.current.getDate();case"month":return 0==this.current.getMonth();case"year":return !1;default:return !1}},m.prototype.getLabelMinor=function(b){void 0==b&&(b=this.current);var a=this.format.minorLabels[this.scale];return a&&a.length>0?l(b).format(a):""},m.prototype.getLabelMajor=function(b){void 0==b&&(b=this.current);var a=this.format.majorLabels[this.scale];return a&&a.length>0?l(b).format(a):""},m.prototype.getClassName=function(){function c(q){return q/b%2==0?" vis-even":" vis-odd"}function D(q){return q.isSame(new Date,"day")?" vis-today":q.isSame(l().add(1,"day"),"day")?" vis-tomorrow":q.isSame(l().add(-1,"day"),"day")?" vis-yesterday":""}function d(q){return q.isSame(new Date,"week")?" vis-current-week":""}function j(q){return q.isSame(new Date,"month")?" vis-current-month":""}function a(q){return q.isSame(new Date,"year")?" vis-current-year":""}var r=l(this.current),s=r.locale?r.locale("en"):r.lang("en"),b=this.step;switch(this.scale){case"millisecond":return c(s.milliseconds()).trim();case"second":return c(s.seconds()).trim();case"minute":return c(s.minutes()).trim();case"hour":var u=s.hours();return 4==this.step&&(u=u+"-h"+(u+4)),"vis-h"+u+D(s)+c(s.hours());case"weekday":return"vis-"+s.format("dddd").toLowerCase()+D(s)+d(s)+c(s.date());case"day":var h=s.date(),f=s.format("MMMM").toLowerCase();return"vis-day"+h+" vis-"+f+j(s)+c(h-1);case"month":return"vis-"+s.format("MMMM").toLowerCase()+j(s)+c(s.month());case"year":var t=s.year();return"vis-year"+t+a(s)+c(t);default:return""}},i.exports=m},function(h,l,i){function k(b,a,c){j.call(this,b,a,c),this.width=0,this.height=0,this.top=0,this.left=0}var j=(i(1),i(32));k.prototype=Object.create(j.prototype),k.prototype.redraw=function(d,a,f){var o=!1;this.visibleItems=this._updateVisibleItems(this.orderedItems,this.visibleItems,d),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var n=0,c=this.visibleItems.length;c>n;n++){var b=this.visibleItems[n];b.repositionY(a)}return o},k.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},h.exports=k},function(h,l,i){function k(b,a,c){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},b&&void 0==b.start){throw new Error('Property "start" missing in item '+b)}j.call(this,b,a,c)}var j=i(35);i(1);k.prototype=new j(null,null,null),k.prototype.isVisible=function(b){var a=(b.end-b.start)/4;return this.data.start>b.start-a&&this.data.start<b.end+a},k.prototype.redraw=function(){var d=this.dom;if(d||(this.dom={},d=this.dom,d.box=document.createElement("DIV"),d.content=document.createElement("DIV"),d.content.className="vis-item-content",d.box.appendChild(d.content),d.line=document.createElement("DIV"),d.line.className="vis-line",d.dot=document.createElement("DIV"),d.dot.className="vis-dot",d.box["timeline-item"]=this,this.dirty=!0),!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!d.box.parentNode){var c=this.parent.dom.foreground;if(!c){throw new Error("Cannot redraw item: parent has no foreground container element")}c.appendChild(d.box)}if(!d.line.parentNode){var f=this.parent.dom.background;if(!f){throw new Error("Cannot redraw item: parent has no background container element")}f.appendChild(d.line)}if(!d.dot.parentNode){var b=this.parent.dom.axis;if(!f){throw new Error("Cannot redraw item: parent has no axis container element")}b.appendChild(d.dot)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.box),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var a=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");d.box.className="vis-item vis-box"+a,d.line.className="vis-item vis-line"+a,d.dot.className="vis-item vis-dot"+a,this.props.dot.height=d.dot.offsetHeight,this.props.dot.width=d.dot.offsetWidth,this.props.line.width=d.line.offsetWidth,this.width=d.box.offsetWidth,this.height=d.box.offsetHeight,this.dirty=!1}this._repaintDeleteButton(d.box)},k.prototype.show=function(){this.displayed||this.redraw()},k.prototype.hide=function(){if(this.displayed){var a=this.dom;a.box.parentNode&&a.box.parentNode.removeChild(a.box),a.line.parentNode&&a.line.parentNode.removeChild(a.line),a.dot.parentNode&&a.dot.parentNode.removeChild(a.dot),this.displayed=!1}},k.prototype.repositionX=function(){var b=this.conversion.toScreen(this.data.start),a=this.options.align;"right"==a?this.left=b-this.width:"left"==a?this.left=b:this.left=b-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=b-this.props.line.width/2+"px",this.dom.dot.style.left=b-this.props.dot.width/2+"px"},k.prototype.repositionY=function(){var d=this.options.orientation.item,b=this.dom.box,f=this.dom.line,a=this.dom.dot;if("top"==d){b.style.top=(this.top||0)+"px",f.style.top="0",f.style.height=this.parent.top+this.top+1+"px",f.style.bottom=""}else{var n=this.parent.itemSet.props.height,c=n-this.parent.top-this.parent.height+this.top;b.style.top=(this.parent.height-this.top-this.height||0)+"px",f.style.top=n-c+"px",f.style.bottom="0"}a.style.top=-this.props.dot.height/2+"px"},k.prototype.getWidthLeft=function(){return this.width/2},k.prototype.getWidthRight=function(){return this.width/2},h.exports=k},function(h,l,i){function k(b,a,c){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0}},b&&void 0==b.start){throw new Error('Property "start" missing in item '+b)}j.call(this,b,a,c)}var j=i(35);k.prototype=new j(null,null,null),k.prototype.isVisible=function(b){var a=(b.end-b.start)/4;return this.data.start>b.start-a&&this.data.start<b.end+a},k.prototype.redraw=function(){var b=this.dom;if(b||(this.dom={},b=this.dom,b.point=document.createElement("div"),b.content=document.createElement("div"),b.content.className="vis-item-content",b.point.appendChild(b.content),b.dot=document.createElement("div"),b.point.appendChild(b.dot),b.point["timeline-item"]=this,this.dirty=!0),!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!b.point.parentNode){var a=this.parent.dom.foreground;if(!a){throw new Error("Cannot redraw item: parent has no foreground container element")}a.appendChild(b.point)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.point),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");b.point.className="vis-item vis-point"+c,b.dot.className="vis-item vis-dot"+c,this.props.dot.width=b.dot.offsetWidth,this.props.dot.height=b.dot.offsetHeight,this.props.content.height=b.content.offsetHeight,b.content.style.marginLeft=2*this.props.dot.width+"px",b.dot.style.top=(this.height-this.props.dot.height)/2+"px",b.dot.style.left=this.props.dot.width/2+"px",this.width=b.point.offsetWidth,this.height=b.point.offsetHeight,this.dirty=!1}this._repaintDeleteButton(b.point)},k.prototype.show=function(){this.displayed||this.redraw()},k.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},k.prototype.repositionX=function(){var a=this.conversion.toScreen(this.data.start);this.left=a-this.props.dot.width,this.dom.point.style.left=this.left+"px"},k.prototype.repositionY=function(){var b=this.options.orientation.item,a=this.dom.point;"top"==b?a.style.top=this.top+"px":a.style.top=this.parent.height-this.top-this.height+"px"},k.prototype.getWidthLeft=function(){return this.props.dot.width},k.prototype.getWidthRight=function(){return this.width-this.props.dot.width},h.exports=k},function(i,n,k){function m(b,a,c){if(this.props={content:{width:0}},this.overflow=!1,b){if(void 0==b.start){throw new Error('Property "start" missing in item '+b.id)}if(void 0==b.end){throw new Error('Property "end" missing in item '+b.id)}}l.call(this,b,a,c)}var l=(k(23),k(35)),p=k(37),o=k(34);m.prototype=new l(null,null,null),m.prototype.baseClassName="vis-item vis-background",m.prototype.stack=!1,m.prototype.isVisible=function(a){return this.data.start<a.end&&this.data.end>a.start},m.prototype.redraw=function(){var b=this.dom;if(b||(this.dom={},b=this.dom,b.box=document.createElement("div"),b.frame=document.createElement("div"),b.frame.className="vis-item-overflow",b.box.appendChild(b.frame),b.content=document.createElement("div"),b.content.className="vis-item-content",b.frame.appendChild(b.content),this.dirty=!0),!this.parent){throw new Error("Cannot redraw item: no parent attached")}if(!b.box.parentNode){var a=this.parent.dom.background;if(!a){throw new Error("Cannot redraw item: parent has no background container element")}a.appendChild(b.box)}if(this.displayed=!0,this.dirty){this._updateContents(this.dom.content),this._updateTitle(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box);var c=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"");b.box.className=this.baseClassName+c,this.overflow="hidden"!==window.getComputedStyle(b.content).overflow,this.props.content.width=this.dom.content.offsetWidth,this.height=0,this.dirty=!1}},m.prototype.show=o.prototype.show,m.prototype.hide=o.prototype.hide,m.prototype.repositionX=o.prototype.repositionX,m.prototype.repositionY=function(f){var r="top"===this.options.orientation.item;this.dom.content.style.top=r?"":"0",this.dom.content.style.bottom=r?"0":"";var A;if(void 0!==this.data.subgroup){var c=this.data.subgroup,b=this.parent.subgroups,d=b[c].index;if(1==r){A=this.parent.subgroups[c].height+f.item.vertical,A+=0==d?f.axis-0.5*f.item.vertical:0;var h=this.parent.top;for(var t in b){b.hasOwnProperty(t)&&1==b[t].visible&&b[t].index<d&&(h+=b[t].height+f.item.vertical)}h+=0!=d?f.axis-0.5*f.item.vertical:0,this.dom.box.style.top=h+"px",this.dom.box.style.bottom=""}else{var h=this.parent.top,j=0;for(var t in b){if(b.hasOwnProperty(t)&&1==b[t].visible){var a=b[t].height+f.item.vertical;j+=a,b[t].index>d&&(h+=a)}}A=this.parent.subgroups[c].height+f.item.vertical,this.dom.box.style.top=this.parent.height-j+h+"px",this.dom.box.style.bottom=""}}else{this.parent instanceof p?(A=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.top=r?"0":"",this.dom.box.style.bottom=r?"":"0"):(A=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="")}this.dom.box.style.height=A+"px"},i.exports=m},function(h,n,q){function s(b,c){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,format:t.FORMAT,timeAxis:null},this.options=r.extend({},this.defaultOptions),this.body=b,this._create(),this.setOptions(c)}var r=q(1),a=q(21),t=q(36),i=q(29),o=q(2);s.prototype=new a,s.prototype.setOptions=function(b){b&&(r.selectiveExtend(["showMinorLabels","showMajorLabels","hiddenDates","timeAxis"],this.options,b),r.selectiveDeepExtend(["format"],this.options,b),"orientation" in b&&("string"==typeof b.orientation?this.options.orientation.axis=b.orientation:"object"==typeof b.orientation&&"axis" in b.orientation&&(this.options.orientation.axis=b.orientation.axis)),"locale" in b&&("function"==typeof o.locale?o.locale(b.locale):o.lang(b.locale)))},s.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},s.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},s.prototype.redraw=function(){var d=this.props,j=this.dom.foreground,l=this.dom.background,p="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,m=j.parentNode!==p;this._calculateCharSize();var b=this.options.showMinorLabels&&"none"!==this.options.orientation.axis,c=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;d.minorLabelHeight=b?d.minorCharHeight:0,d.majorLabelHeight=c?d.majorCharHeight:0,d.height=d.minorLabelHeight+d.majorLabelHeight,d.width=j.offsetWidth,d.minorLineHeight=this.body.domProps.root.height-d.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),d.minorLineWidth=1,d.majorLineHeight=d.minorLineHeight+d.majorLabelHeight,d.majorLineWidth=1;var f=j.nextSibling,k=l.nextSibling;return j.parentNode&&j.parentNode.removeChild(j),l.parentNode&&l.parentNode.removeChild(l),j.style.height=this.props.height+"px",this._repaintLabels(),f?p.insertBefore(j,f):p.appendChild(j),k?this.body.dom.backgroundVertical.insertBefore(l,k):this.body.dom.backgroundVertical.appendChild(l),this._isResized()||m},s.prototype._repaintLabels=function(){var l=this.options.orientation.axis,k=r.convert(this.body.range.start,"Number"),v=r.convert(this.body.range.end,"Number"),Q=this.body.util.toTime(7*(this.props.minorCharWidth||10)).valueOf(),j=Q-i.getHiddenDurationBefore(this.body.hiddenDates,this.body.range,Q);j-=this.body.util.toTime(0).valueOf();var u=new t(new Date(k),new Date(v),j,this.body.hiddenDates);this.options.format&&u.setFormat(this.options.format),this.options.timeAxis&&u.setScale(this.options.timeAxis),this.step=u;var f=this.dom;f.redundant.lines=f.lines,f.redundant.majorTexts=f.majorTexts,f.redundant.minorTexts=f.minorTexts,f.lines=[],f.majorTexts=[],f.minorTexts=[];var y,P,d,S,m=0,O=0,R=0,p=void 0,U=0;for(u.first();u.hasNext()&&1000>U;){U++,y=u.getCurrent(),P=u.isMajor(),S=u.getClassName(),O=m,m=this.body.util.toScreen(y),R=m-O,d&&(d.style.width=R+"px"),this.options.showMinorLabels&&this._repaintMinorText(m,u.getLabelMinor(),l,S),P&&this.options.showMajorLabels?(m>0&&(void 0==p&&(p=m),this._repaintMajorText(m,u.getLabelMajor(),l,S)),d=this._repaintMajorLine(m,l,S)):d=this._repaintMinorLine(m,l,S),u.next()}if(this.options.showMajorLabels){var c=this.body.util.toTime(0),T=u.getLabelMajor(c),b=T.length*(this.props.majorCharWidth||10)+10;(void 0==p||p>b)&&this._repaintMajorText(0,T,l,S)}r.forEach(this.dom.redundant,function(z){for(;z.length;){var x=z.pop();x&&x.parentNode&&x.parentNode.removeChild(x)}})},s.prototype._repaintMinorText=function(f,j,b,d){var c=this.dom.redundant.minorTexts.shift();if(!c){var k=document.createTextNode("");c=document.createElement("div"),c.appendChild(k),this.dom.foreground.appendChild(c)}this.dom.minorTexts.push(c),c.childNodes[0].nodeValue=j,c.style.top="top"==b?this.props.majorLabelHeight+"px":"0",c.style.left=f+"px",c.className="vis-text vis-minor "+d},s.prototype._repaintMajorText=function(f,j,b,d){var c=this.dom.redundant.majorTexts.shift();if(!c){var k=document.createTextNode(j);c=document.createElement("div"),c.appendChild(k),this.dom.foreground.appendChild(c)}this.dom.majorTexts.push(c),c.childNodes[0].nodeValue=j,c.className="vis-text vis-major "+d,c.style.top="top"==b?"0":this.props.minorLabelHeight+"px",c.style.left=f+"px"},s.prototype._repaintMinorLine=function(d,j,b){var f=this.dom.redundant.lines.shift();f||(f=document.createElement("div"),this.dom.background.appendChild(f)),this.dom.lines.push(f);var c=this.props;return"top"==j?f.style.top=c.majorLabelHeight+"px":f.style.top=this.body.domProps.top.height+"px",f.style.height=c.minorLineHeight+"px",f.style.left=d-c.minorLineWidth/2+"px",f.className="vis-grid vis-vertical vis-minor "+b,f},s.prototype._repaintMajorLine=function(d,j,b){var f=this.dom.redundant.lines.shift();f||(f=document.createElement("div"),this.dom.background.appendChild(f)),this.dom.lines.push(f);var c=this.props;return"top"==j?f.style.top="0":f.style.top=this.body.domProps.top.height+"px",f.style.left=d-c.majorLineWidth/2+"px",f.style.height=c.majorLineHeight+"px",f.className="vis-grid vis-vertical vis-major "+b,f},s.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth},h.exports=s},function(h,n,q){function s(c){this.active=!1,this.dom={container:c},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=i(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var d=this,b=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];b.forEach(function(f){d.hammer.on(f,function(j){j.stopPropagation()})}),document&&document.body&&(this.onClick=function(f){r(f.target,c)||d.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=a(),this.escListener=this.deactivate.bind(this)}function r(b,c){for(;b;){if(b===c){return !0}b=b.parentNode}return !1}var a=q(43),t=q(13),i=q(23),o=q(1);t(s.prototype),s.current=null,s.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},s.prototype.activate=function(){s.current&&s.current.deactivate(),s.current=this,this.active=!0,this.dom.overlay.style.display="none",o.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},s.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",o.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},s.prototype._onTapOverlay=function(b){this.activate(),b.stopPropagation()},h.exports=s},function(i,m,j){var l,k,n;!function(b,a){k=[],l=a,n="function"==typeof l?l.apply(m,k):l,!(void 0!==n&&(i.exports=n))}(this,function(){function a(s){var b,d=s&&s.preventDefault||!1,h=s&&s.container||window,f={},r={keydown:{},keyup:{}},o={};for(b=97;122>=b;b++){o[String.fromCharCode(b)]={code:65+(b-97),shift:!1}}for(b=65;90>=b;b++){o[String.fromCharCode(b)]={code:b,shift:!0}}for(b=0;9>=b;b++){o[""+b]={code:48+b,shift:!1}}for(b=1;12>=b;b++){o["F"+b]={code:111+b,shift:!1}}for(b=0;9>=b;b++){o["num"+b]={code:96+b,shift:!1}}o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o["delete"]={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var t=function(p){z(p,"keydown")},c=function(p){z(p,"keyup")},z=function(u,q){if(void 0!==r[q][u.keyCode]){for(var v=r[q][u.keyCode],p=0;p<v.length;p++){void 0===v[p].shift?v[p].fn(u):1==v[p].shift&&1==u.shiftKey?v[p].fn(u):0==v[p].shift&&0==u.shiftKey&&v[p].fn(u)}1==d&&u.preventDefault()}};return f.bind=function(q,p,u){if(void 0===u&&(u="keydown"),void 0===o[q]){throw new Error("unsupported key: "+q)}void 0===r[u][o[q].code]&&(r[u][o[q].code]=[]),r[u][o[q].code].push({fn:p,shift:o[q].shift})},f.bindAll=function(q,p){void 0===p&&(p="keydown");for(var u in o){o.hasOwnProperty(u)&&f.bind(u,q,p)}},f.getKey=function(q){for(var p in o){if(o.hasOwnProperty(p)){if(1==q.shiftKey&&1==o[p].shift&&q.keyCode==o[p].code){return p}if(0==q.shiftKey&&0==o[p].shift&&q.keyCode==o[p].code){return p}if(q.keyCode==o[p].code&&"shift"==p){return p}}}return"unknown key, currently not supported"},f.unbind=function(x,p,q){if(void 0===q&&(q="keydown"),void 0===o[x]){throw new Error("unsupported key: "+x)}if(void 0!==p){var y=[],v=r[q][o[x].code];if(void 0!==v){for(var u=0;u<v.length;u++){(v[u].fn!=p||v[u].shift!=o[x].shift)&&y.push(r[q][o[x].code][u])}}r[q][o[x].code]=y}else{r[q][o[x].code]=[]}},f.reset=function(){r={keydown:{},keyup:{}}},f.destroy=function(){r={keydown:{},keyup:{}},h.removeEventListener("keydown",t,!0),h.removeEventListener("keyup",c,!0)},h.addEventListener("keydown",t,!0),h.addEventListener("keyup",c,!0),f}return a})},function(h,n,q){function s(b,c){this.body=b,this.defaultOptions={locales:o,locale:"en",id:void 0},this.options=a.extend({},this.defaultOptions),c&&c.time?this.customTime=c.time:this.customTime=new Date,this.eventParams={},this.setOptions(c),this._create()}var r=q(23),a=q(1),t=q(21),i=q(2),o=q(22);s.prototype=new t,s.prototype.setOptions=function(b){b&&a.selectiveExtend(["locale","locales","id"],this.options,b)},s.prototype._create=function(){var b=document.createElement("div");b["custom-time"]=this,b.className="vis-custom-time "+(this.options.id||""),b.style.position="absolute",b.style.top="0px",b.style.height="100%",this.bar=b;var c=document.createElement("div");c.style.position="relative",c.style.top="0px",c.style.left="-10px",c.style.height="100%",c.style.width="20px",b.appendChild(c),this.hammer=new r(c),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this))},s.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},s.prototype.redraw=function(){var c=this.body.dom.backgroundVertical;this.bar.parentNode!=c&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),c.appendChild(this.bar));var f=this.body.util.toScreen(this.customTime),b=this.options.locales[this.options.locale];b||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline.html#Localization"),this.warned=!0),b=this.options.locales.en);var d=b.time+": "+i(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss");return d=d.charAt(0).toUpperCase()+d.substring(1),this.bar.style.left=f+"px",this.bar.title=d,!1},s.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},s.prototype.setCustomTime=function(b){this.customTime=a.convert(b,"Date"),this.redraw()},s.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},s.prototype._onDragStart=function(b){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,b.stopPropagation()},s.prototype._onDrag=function(c){if(this.eventParams.dragging){var d=this.body.util.toScreen(this.eventParams.customTime)+c.deltaX,b=this.body.util.toTime(d);this.setCustomTime(b),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf())}),c.stopPropagation()}},s.prototype._onDragEnd=function(b){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf())}),b.stopPropagation())},s.customTimeFromTarget=function(b){for(var c=b.target;c;){if(c.hasOwnProperty("custom-time")){return c["custom-time"]}c=c.parentNode}return null},h.exports=s},function(a,i,o){function s(b){return b&&b.__esModule?b:{"default":b}}function r(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(i,"__esModule",{value:!0});var v=function(){function b(c,k){for(var j=0;j<k.length;j++){var f=k[j];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,f,j){return f&&b(c.prototype,f),j&&b(c,j),c}}(),t=o(46),d=s(t),n=o(1),h=function(){function b(k,j,f){var c=void 0===arguments[3]?1:arguments[3];r(this,b),this.parent=k,this.changedOptions=[],this.container=j,this.allowCreation=!1,this.options={},this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},n.extend(this.options,this.defaultOptions),this.configureOptions=f,this.moduleOptions={},this.domElements=[],this.colorPicker=new d["default"](c),this.wrapper=void 0}return v(b,[{key:"setOptions",value:function(f){if(void 0!==f){var c=!0;"string"==typeof f?this.options.filter=f:f instanceof Array?this.options.filter=f.join():"object"==typeof f?(void 0!==f.container&&(this.options.container=f.container),void 0!==f.filter&&(this.options.filter=f.filter),void 0!==f.showButton&&(this.options.showButton=f.showButton),void 0!==f.enabled&&(c=f.enabled)):"boolean"==typeof f?(this.options.filter=!0,c=f):"function"==typeof f&&(this.options.filter=f,c=!0),this.options.filter===!1&&(c=!1),this.options.enabled=c}this._clean()}},{key:"setModuleOptions",value:function(c){this.moduleOptions=c,this.options.enabled===!0&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var j=this;this._clean(),this.changedOptions=[];var k=this.options.filter,l=0,f=!1;for(var c in this.configureOptions){this.configureOptions.hasOwnProperty(c)&&(this.allowCreation=!1,f=!1,"function"==typeof k?(f=k(c,[]),f=f||this._handleObject(this.configureOptions[c],[c],!0)):(k===!0||-1!==k.indexOf(c))&&(f=!0),f!==!1&&(this.allowCreation=!0,l>0&&this._makeItem([]),this._makeHeader(c),this._handleObject(this.configureOptions[c],[c])),l++)}this.options.showButton===!0&&!function(){var m=document.createElement("div");m.className="vis-network-configuration button",m.innerHTML="generate options",m.onclick=function(){j._printOptions()},m.onmouseover=function(){m.className="vis-network-configuration button hover"},m.onmouseout=function(){m.className="vis-network-configuration button"},j.optionsContainer=document.createElement("div"),j.optionsContainer.className="vis-network-configuration vis-option-container",j.domElements.push(j.optionsContainer),j.domElements.push(m)}(),this._push(),this.colorPicker.insertTo(this.container)}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-network-configuration-wrapper",this.container.appendChild(this.wrapper);for(var c=0;c<this.domElements.length;c++){this.wrapper.appendChild(this.domElements[c])}}},{key:"_clean",value:function(){for(var c=0;c<this.domElements.length;c++){this.wrapper.removeChild(this.domElements[c])}void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[]}},{key:"_getValue",value:function(c){for(var j=this.moduleOptions,f=0;f<c.length;f++){if(void 0===j[c[f]]){j=void 0;break}j=j[c[f]]}return j}},{key:"_makeItem",value:function(j){for(var k=this,l=arguments.length,f=Array(l>1?l-1:0),c=1;l>c;c++){f[c-1]=arguments[c]}this.allowCreation===!0&&!function(){var m=document.createElement("div");m.className="vis-network-configuration item s"+j.length,f.forEach(function(p){m.appendChild(p)}),k.domElements.push(m)}()}},{key:"_makeHeader",value:function(f){var c=document.createElement("div");c.className="vis-network-configuration header",c.innerHTML=f,this._makeItem([],c)}},{key:"_makeLabel",value:function(c,k){var j=void 0===arguments[2]?!1:arguments[2],f=document.createElement("div");return f.className="vis-network-configuration label s"+k.length,j===!0?f.innerHTML="<i><b>"+c+":</b></i>":f.innerHTML=c+":",f}},{key:"_makeDropdown",value:function(f,k,p){var u=document.createElement("select");u.className="vis-network-configuration select";var q=0;void 0!==k&&-1!==f.indexOf(k)&&(q=f.indexOf(k));for(var c=0;c<f.length;c++){var l=document.createElement("option");l.value=f[c],c===q&&(l.selected="selected"),l.innerHTML=f[c],u.appendChild(l)}var j=this;u.onchange=function(){j._update(this.value,p)};var m=this._makeLabel(p[p.length-1],p);this._makeItem(p,m,u)}},{key:"_makeRange",value:function(H,f,k){var p=H[0],m=H[1],u=H[2],q=H[3],I=document.createElement("input");I.type="range",I.className="vis-network-configuration range",I.min=m,I.max=u,I.step=q,void 0!==f?(0>f&&m>2*f?I.min=2*f:m>0.1*f&&(I.min=f/10),2*f>u&&1!==u&&(I.max=2*f),I.value=f):I.value=p;var j=document.createElement("input");j.className="vis-network-configuration rangeinput",j.value=I.value;var c=this;I.onchange=function(){j.value=this.value,c._update(Number(this.value),k)},I.oninput=function(){j.value=this.value};var l=this._makeLabel(k[k.length-1],k);this._makeItem(k,l,I,j)}},{key:"_makeCheckbox",value:function(j,f,l){var c=document.createElement("input");c.type="checkbox",c.className="vis-network-configuration checkbox",c.checked=j,void 0!==f&&(c.checked=f,f!==j&&("object"==typeof j?f!==j.enabled&&this.changedOptions.push({path:l,value:f}):this.changedOptions.push({path:l,value:f})));var m=this;c.onchange=function(){m._update(this.checked,l)};var k=this._makeLabel(l[l.length-1],l);this._makeItem(l,k,c)}},{key:"_makeTextInput",value:function(j,f,l){var c=document.createElement("input");c.type="text",c.className="vis-network-configuration text",c.value=f,f!==j&&this.changedOptions.push({path:l,value:f});var m=this;c.onchange=function(){m._update(this.value,l)};var k=this._makeLabel(l[l.length-1],l);this._makeItem(l,k,c)}},{key:"_makeColorField",value:function(k,p,m){var l=this,f=k[1],j=document.createElement("div");p=void 0===p?f:p,"none"!==p?(j.className="vis-network-configuration colorBlock",j.style.backgroundColor=p):j.className="vis-network-configuration colorBlock none",p=void 0===p?f:p,j.onclick=function(){l._showColorPicker(p,j,m)};var c=this._makeLabel(m[m.length-1],m);this._makeItem(m,c,j)}},{key:"_showColorPicker",value:function(j,m,k){var f=this,q=m.getBoundingClientRect(),c=document.body.getBoundingClientRect(),p=q.left+q.width+5,l=q.top-c.top+0.5*q.height;this.colorPicker.show(p,l),this.colorPicker.setColor(j),this.colorPicker.setCallback(function(u){var x="rgba("+u.r+","+u.g+","+u.b+","+u.a+")";m.style.backgroundColor=x,f._update(x,k)})}},{key:"_handleObject",value:function(L){var f=void 0===arguments[1]?[]:arguments[1],k=void 0===arguments[2]?!1:arguments[2],q=!1,p=this.options.filter,u=!1;for(var l in L){if(L.hasOwnProperty(l)){q=!0;var N=L[l],c=n.copyAndExtendArray(f,l);if("function"==typeof p&&(q=p(l,f),q===!1&&!(N instanceof Array)&&"string"!=typeof N&&"boolean"!=typeof N&&N instanceof Object&&(this.allowCreation=!1,q=this._handleObject(N,c,!0),this.allowCreation=k===!1)),q!==!1){u=!0;var m=this._getValue(c);if(N instanceof Array){this._handleArray(N,m,c)}else{if("string"==typeof N){this._makeTextInput(N,m,c)}else{if("boolean"==typeof N){this._makeCheckbox(N,m,c)}else{if(N instanceof Object){var M=!0;if(-1!==f.indexOf("physics")&&this.moduleOptions.physics.solver!==l&&(M=!1),M===!0){if(void 0!==N.enabled){var O=n.copyAndExtendArray(c,"enabled"),K=this._getValue(O);if(K===!0){var j=this._makeLabel(l,c,!0);this._makeItem(c,j),u=this._handleObject(N,c)||u}else{this._makeCheckbox(N,K,c)}}else{var j=this._makeLabel(l,c,!0);this._makeItem(c,j),u=this._handleObject(N,c)||u}}}else{console.error("dont know how to handle",N,l,c)}}}}}}}return u}},{key:"_handleArray",value:function(c,j,f){"string"==typeof c[0]&&"color"===c[0]?(this._makeColorField(c,j,f),c[1]!==j&&this.changedOptions.push({path:f,value:j})):"string"==typeof c[0]?(this._makeDropdown(c,j,f),c[0]!==j&&this.changedOptions.push({path:f,value:j})):"number"==typeof c[0]&&(this._makeRange(c,j,f),c[0]!==j&&this.changedOptions.push({path:f,value:Number(j)}))}},{key:"_update",value:function(c,j){var f=this._constructOptions(c,j);this.parent.setOptions(f)}},{key:"_constructOptions",value:function(j,k){var l=void 0===arguments[2]?{}:arguments[2],f=l;j="true"===j?!0:j,j="false"===j?!1:j;for(var c=0;c<k.length;c++){"global"!==k[c]&&(void 0===f[k[c]]&&(f[k[c]]={}),c!==k.length-1?f=f[k[c]]:f[k[c]]=j)}return l}},{key:"_printOptions",value:function(){for(var f={},c=0;c<this.changedOptions.length;c++){this._constructOptions(this.changedOptions[c].value,this.changedOptions[c].path,f)}this.optionsContainer.innerHTML="<pre>var options = "+JSON.stringify(f,null,2)+"</pre>"}}]),b}();i["default"]=h,a.exports=i["default"]},function(h,n,q){function s(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function b(j,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(j,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),a=q(23),t=q(28),i=q(1),o=function(){function b(){var c=void 0===arguments[0]?1:arguments[0];s(this,b),this.pixelRatio=c,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*0.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this._create()}return r(b,[{key:"insertTo",value:function(c){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=c,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setCallback",value:function(c){if("function"!=typeof c){throw new Error("Function attempted to set as colorPicker callback is not a function.")}this.updateCallback=c}},{key:"_isColorString",value:function(d){var c={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};return"string"==typeof d?c[d]:void 0}},{key:"setColor",value:function(k){var c=void 0===arguments[1]?!0:arguments[1];if("none"!==k){var j=void 0,m=this._isColorString(k);if(void 0!==m&&(k=m),i.isString(k)===!0){if(i.isValidRGB(k)===!0){var l=k.substr(4).substr(0,k.length-5).split(",");j={r:l[0],g:l[1],b:l[2],a:1}}else{if(i.isValidRGBA(k)===!0){var l=k.substr(5).substr(0,k.length-6).split(",");j={r:l[0],g:l[1],b:l[2],a:l[3]}}else{if(i.isValidHex(k)===!0){var f=i.hexToRGB(k);j={r:f.r,g:f.g,b:f.b,a:1}}}}}else{if(k instanceof Object&&void 0!==k.r&&void 0!==k.g&&void 0!==k.b){var d=void 0!==k.a?k.a:"1.0";j={r:k.r,g:k.g,b:k.b,a:d}}}if(void 0===j){throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(k))}this._setColor(j,c)}}},{key:"show",value:function(d,c){this.applied=!1,this.frame.style.display="block",this.frame.style.top=c+"px",this.frame.style.left=d+"px",this._generateHueCircle()}},{key:"_hide",value:function(){var c=void 0===arguments[0]?!0:arguments[0];c===!0&&(this.previousColor=i.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none"}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(k){var c=void 0===arguments[1]?!0:arguments[1];c===!0&&(this.initialColor=i.extend({},k)),this.color=k;var j=i.RGBToHSV(k.r,k.g,k.b),m=2*Math.PI,l=this.r*j.s,f=this.centerCoordinates.x+l*Math.sin(m*j.h),d=this.centerCoordinates.y+l*Math.cos(m*j.h);this.colorPickerSelector.style.left=f-0.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=d-0.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(k)}},{key:"_setOpacity",value:function(c){this.color.a=c/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(f){var d=i.RGBToHSV(this.color.r,this.color.g,this.color.b);d.v=f/100;var c=i.HSVToRGB(d.h,d.s,d.v);c.a=this.color.a,this.color=c,this._updatePicker()}},{key:"_updatePicker",value:function(){var k=void 0===arguments[0]?this.color:arguments[0],j=i.RGBToHSV(k.r,k.g,k.b),f=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1)),f.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var d=this.colorPickerCanvas.clientWidth,c=this.colorPickerCanvas.clientHeight;f.clearRect(0,0,d,c),f.putImageData(this.hueCircle,0,0),f.fillStyle="rgba(0,0,0,"+(1-j.v)+")",f.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),f.fill(),this.brightnessRange.value=100*j.v,this.opacityRange.value=100*k.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var f=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var d=document.createElement("DIV");d.style.color="red",d.style.fontWeight="bold",d.style.padding="10px",d.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(d)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input"),this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100",this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input"),this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100",this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var c=this;this.opacityRange.onchange=function(){c._setOpacity(this.value)},this.opacityRange.oninput=function(){c._setOpacity(this.value)},this.brightnessRange.onchange=function(){c._setBrightness(this.value)},this.brightnessRange.oninput=function(){c._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var c=this;this.drag={},this.pinch={},this.hammer=new a(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),t.onTouch(this.hammer,function(d){c._moveSelector(d)}),this.hammer.on("tap",function(d){c._moveSelector(d)}),this.hammer.on("panstart",function(d){c._moveSelector(d)}),this.hammer.on("panmove",function(d){c._moveSelector(d)}),this.hammer.on("panend",function(d){c._moveSelector(d)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var H=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(H.webkitBackingStorePixelRatio||H.mozBackingStorePixelRatio||H.msBackingStorePixelRatio||H.oBackingStorePixelRatio||H.backingStorePixelRatio||1)),H.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var j=this.colorPickerCanvas.clientWidth,l=this.colorPickerCanvas.clientHeight;H.clearRect(0,0,j,l);var u=void 0,p=void 0,G=void 0,f=void 0;this.centerCoordinates={x:0.5*j,y:0.5*l},this.r=0.49*j;var k=2*Math.PI/360,d=1/360,m=1/this.r,c=void 0;for(G=0;360>G;G++){for(f=0;f<this.r;f++){u=this.centerCoordinates.x+f*Math.sin(k*G),p=this.centerCoordinates.y+f*Math.cos(k*G),c=i.HSVToRGB(G*d,f*m,1),H.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",H.fillRect(u-0.5,p-0.5,2,2)}}H.strokeStyle="rgba(0,0,0,1)",H.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),H.stroke(),this.hueCircle=H.getImageData(0,0,j,l)}this.generated=!0}},{key:"_moveSelector",value:function(p){var R=this.colorPickerDiv.getBoundingClientRect(),d=p.center.x-R.left,v=p.center.y-R.top,m=0.5*this.colorPickerDiv.clientHeight,l=0.5*this.colorPickerDiv.clientWidth,f=d-l,c=v-m,Q=Math.atan2(f,c),j=0.98*Math.min(Math.sqrt(f*f+c*c),l),u=Math.cos(Q)*j+m,P=Math.sin(Q)*j+l;this.colorPickerSelector.style.top=u-0.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=P-0.5*this.colorPickerSelector.clientWidth+"px";var N=Q/(2*Math.PI);N=0>N?N+1:N;var S=j/this.r,k=i.RGBToHSV(this.color.r,this.color.g,this.color.b);k.h=N,k.s=S;var O=i.HSVToRGB(k.h,k.s,k.v);O.a=this.color.a,this.color=O,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),b}();n["default"]=o,h.exports=n["default"]},function(a,i,o){function s(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function b(c,k){for(var j=0;j<k.length;j++){var f=k[j];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,f,j){return f&&b(c.prototype,f),j&&b(c,j),c}}(),v=o(1),t=!1,d=void 0,n="background: #FFeeee; color: #dd0000",h=function(){function b(){s(this,b)}return r(b,null,[{key:"validate",value:function(f,k,j){t=!1,d=k;var c=k;return void 0!==j&&(c=k[j]),b.parse(f,c,[]),t}},{key:"parse",value:function(f,k,j){for(var c in f){f.hasOwnProperty(c)&&b.check(c,f,k,j)}}},{key:"check",value:function(f,k,j,c){void 0===j[f]&&void 0===j.__any__?b.getSuggestion(f,j,c):void 0===j[f]&&void 0!==j.__any__?"object"===b.getType(k[f])&&b.checkFields(f,k,j,"__any__",j.__any__.__type__,c):void 0!==j[f].__type__?b.checkFields(f,k,j,f,j[f].__type__,c):b.checkFields(f,k,j,f,j[f],c)}},{key:"checkFields",value:function(f,j,q,p,m,c){var l=b.getType(j[f]),k=m[l];void 0!==k?"array"===b.getType(k)&&-1===k.indexOf(j[f])?(console.log('%cInvalid option detected in "'+f+'". Allowed values are:'+b.print(k)+' not "'+j[f]+'". '+b.printLocation(c,f),n),t=!0):"object"===l&&(c=v.copyAndExtendArray(c,f),b.parse(j[f],q[p],c)):void 0===m.any&&(console.log('%cInvalid type received for "'+f+'". Expected: '+b.print(Object.keys(m))+". Received ["+l+'] "'+j[f]+'"'+b.printLocation(c,f),n),t=!0)}},{key:"getType",value:function(f){var c=typeof f;return"object"===c?null===f?"null":f instanceof Boolean?"boolean":f instanceof Number?"number":f instanceof String?"string":Array.isArray(f)?"array":f instanceof Date?"date":void 0!==f.nodeType?"dom":f._isAMomentObject===!0?"moment":"object":"number"===c?"number":"boolean"===c?"boolean":"string"===c?"string":void 0===c?"undefined":c}},{key:"getSuggestion",value:function(f,l,p){var m=b.findInOptions(f,l,p,!1),j=b.findInOptions(f,d,[],!0),c=8,k=4;void 0!==m.indexMatch?console.log('%cUnknown option detected: "'+f+'" in '+b.printLocation(m.path,f,"")+'Perhaps it was incomplete? Did you mean: "'+m.indexMatch+'"?\n\n',n):j.distance<=k&&m.distance>j.distance?console.log('%cUnknown option detected: "'+f+'" in '+b.printLocation(m.path,f,"")+"Perhaps it was misplaced? Matching option found at: "+b.printLocation(j.path,j.closestMatch,""),n):m.distance<=c?console.log('%cUnknown option detected: "'+f+'". Did you mean "'+m.closestMatch+'"?'+b.printLocation(m.path,f),n):console.log('%cUnknown option detected: "'+f+'". Did you mean one of these: '+b.print(Object.keys(l))+b.printLocation(p,f),n),t=!0}},{key:"findInOptions",value:function(j,l,q){var p=void 0===arguments[3]?!1:arguments[3],I=1000000000,H="",k=[],f=j.toLowerCase(),m=void 0;for(var G in l){var c=void 0;if(void 0!==l[G].__type__&&p===!0){var u=b.findInOptions(j,l[G],v.copyAndExtendArray(q,G));I>u.distance&&(H=u.closestMatch,k=u.path,I=u.distance,m=u.indexMatch)}else{-1!==G.toLowerCase().indexOf(f)&&(m=G),c=b.levenshteinDistance(j,G),I>c&&(H=G,k=v.copyArray(q),I=c)}}return{closestMatch:H,path:k,distance:I,indexMatch:m}}},{key:"printLocation",value:function(j,f){for(var l=void 0===arguments[2]?"Problem value found at: \n":arguments[2],c="\n\n"+l+"options = {\n",m=0;m<j.length;m++){for(var k=0;m+1>k;k++){c+="  "}c+=j[m]+": {\n"}for(var k=0;k<j.length+1;k++){c+="  "}c+=f+"\n";for(var m=0;m<j.length+1;m++){for(var k=0;k<j.length-m;k++){c+="  "}c+="}\n"}return c+"\n\n"}},{key:"print",value:function(c){return JSON.stringify(c).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(j,k){if(0===j.length){return k.length}if(0===k.length){return j.length}var l,f=[];for(l=0;l<=k.length;l++){f[l]=[l]}var c;for(c=0;c<=j.length;c++){f[0][c]=c}for(l=1;l<=k.length;l++){for(c=1;c<=j.length;c++){k.charAt(l-1)==j.charAt(c-1)?f[l][c]=f[l-1][c-1]:f[l][c]=Math.min(f[l-1][c-1]+1,Math.min(f[l][c-1]+1,f[l-1][c]+1))}}return f[k.length][j.length]}}]),b}();i["default"]=h,i.printStyle=n},function(h,a,i){Object.defineProperty(a,"__esModule",{value:!0});var o="string",n="boolean",d="number",t="array",s="date",c="object",C="dom",l="moment",r={configure:{enabled:{"boolean":n},filter:{"boolean":n,"function":"function"},container:{dom:C},__type__:{object:c,"boolean":n,"function":"function"}},align:{string:o},autoResize:{"boolean":n},clickToUse:{"boolean":n},dataAttributes:{string:o,array:t},editable:{add:{"boolean":n,undefined:"undefined"},remove:{"boolean":n,undefined:"undefined"},updateGroup:{"boolean":n,undefined:"undefined"},updateTime:{"boolean":n,undefined:"undefined"},__type__:{"boolean":n,object:c}},end:{number:d,date:s,string:o,moment:l},format:{minorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:c}},majorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:c}},__type__:{object:c}},groupOrder:{string:o,"function":"function"},height:{string:o,number:d},hiddenDates:{object:c,array:t},locale:{string:o},locales:{__any__:{object:c},__type__:{object:c}},margin:{axis:{number:d},item:{horizontal:{number:d,undefined:"undefined"},vertical:{number:d,undefined:"undefined"},__type__:{object:c,number:d}},__type__:{object:c,number:d}},max:{date:s,number:d,string:o,moment:l},maxHeight:{number:d,string:o},min:{date:s,number:d,string:o,moment:l},minHeight:{number:d,string:o},moveable:{"boolean":n},multiselect:{"boolean":n},onAdd:{"function":"function"},onUpdate:{"function":"function"},onMove:{"function":"function"},onMoving:{"function":"function"},onRemove:{"function":"function"},order:{"function":"function"},orientation:{axis:{string:o,undefined:"undefined"},item:{string:o,undefined:"undefined"},__type__:{string:o,object:c}},selectable:{"boolean":n},showCurrentTime:{"boolean":n},showMajorLabels:{"boolean":n},showMinorLabels:{"boolean":n},stack:{"boolean":n},snap:{"function":"function","null":"null"},start:{date:s,number:d,string:o,moment:l},template:{"function":"function"},timeAxis:{scale:{string:o,undefined:"undefined"},step:{number:d,undefined:"undefined"},__type__:{object:c}},type:{string:o},width:{string:o,number:d},zoomable:{"boolean":n},zoomMax:{number:d},zoomMin:{number:d},__type__:{object:c}},u={global:{align:["center","left","right"],autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",min:"",minHeight:"",moveable:!1,multiselect:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,start:"",type:["box","point","range","background"],width:"100%",zoomable:!0,zoomMax:[315360000000000,10,315360000000000,1],zoomMin:[10,10,315360000000000,1]}};a.allOptions=r,a.configureOptions=u},function(v,l,p){function d(y,k,j,b){if(!(Array.isArray(j)||j instanceof t)&&j instanceof Object){var q=b;b=j,j=q}var x=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},width:null,height:null,maxHeight:null,minHeight:null},this.options=u.deepExtend({},this.defaultOptions),this._create(y),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:x._toScreen.bind(x),toGlobalScreen:x._toGlobalScreen.bind(x),toTime:x._toTime.bind(x),toGlobalTime:x._toGlobalTime.bind(x)}},this.range=new a(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new h(this.body),this.components.push(this.timeAxis),this.currentTime=new r(this.body),this.components.push(this.currentTime),this.linegraph=new c(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(z){x.emit("click",x.getEventProperties(z))}),this.on("doubletap",function(z){x.emit("doubleClick",x.getEventProperties(z))}),this.dom.root.oncontextmenu=function(z){x.emit("contextmenu",x.getEventProperties(z))},this.configurator=new f(this,y,n),b&&this.setOptions(b),j&&this.setGroups(j),k?this.setItems(k):this._redraw()}var u=(p(13),p(23),p(1)),t=p(8),i=p(10),a=p(27),o=p(30),h=p(41),r=p(20),M=p(44),c=p(50),f=p(45),m=p(47)["default"],s=p(47).printStyle,N=p(58).allOptions,n=p(58).configureOptions;d.prototype=new o,d.prototype.setOptions=function(b){var j=m.validate(b,N);j===!0&&console.log("%cErrors have been found in the supplied options object.",s),o.prototype.setOptions.call(this,b)},d.prototype.setItems=function(x){var q,b=null==this.itemsData;if(q=x?x instanceof t||x instanceof i?x:new t(x,{type:{start:"Date",end:"Date"}}):null,this.itemsData=q,this.linegraph&&this.linegraph.setItems(q),b){if(void 0!=this.options.start||void 0!=this.options.end){var k=void 0!=this.options.start?this.options.start:null,j=void 0!=this.options.end?this.options.end:null;this.setWindow(k,j,{animation:!1})}else{this.fit({animation:!1})}}},d.prototype.setGroups=function(b){var j;j=b?b instanceof t||b instanceof i?b:new t(b):null,this.groupsData=j,this.linegraph.setGroups(j)},d.prototype.getLegend=function(k,j,b){return void 0===j&&(j=15),void 0===b&&(b=15),void 0!==this.linegraph.groups[k]?this.linegraph.groups[k].getLegend(j,b):"cannot find group:"+k},d.prototype.isGroupVisible=function(b){return void 0!==this.linegraph.groups[b]?this.linegraph.groups[b].visible&&(void 0===this.linegraph.options.groups.visibility[b]||1==this.linegraph.options.groups.visibility[b]):!1},d.prototype.getDataRange=function(){var y=null,k=null;for(var j in this.linegraph.groups){if(this.linegraph.groups.hasOwnProperty(j)&&1==this.linegraph.groups[j].visible){for(var b=0;b<this.linegraph.groups[j].itemsData.length;b++){var x=this.linegraph.groups[j].itemsData[b],q=u.convert(x.x,"Date").valueOf();y=null==y?q:y>q?q:y,k=null==k?q:q>k?q:k}}}return{min:null!=y?new Date(y):null,max:null!=k?new Date(k):null}},d.prototype.getEventProperties=function(q){var B=q.center?q.center.x:q.clientX,D=q.center?q.center.y:q.clientY,b=B-u.getAbsoluteLeft(this.dom.centerContainer),k=D-u.getAbsoluteTop(this.dom.centerContainer),A=this._toTime(b),x=M.customTimeFromTarget(q),C=u.getTarget(q),z=null;u.hasParent(C,this.timeAxis.dom.foreground)?z="axis":this.timeAxis2&&u.hasParent(C,this.timeAxis2.dom.foreground)?z="axis":u.hasParent(C,this.linegraph.yAxisLeft.dom.frame)?z="data-axis":u.hasParent(C,this.linegraph.yAxisRight.dom.frame)?z="data-axis":u.hasParent(C,this.linegraph.legendLeft.dom.frame)?z="legend":u.hasParent(C,this.linegraph.legendRight.dom.frame)?z="legend":null!=x?z="custom-time":u.hasParent(C,this.currentTime.bar)?z="current-time":u.hasParent(C,this.dom.center)&&(z="background");var E=[],y=this.linegraph.yAxisLeft,j=this.linegraph.yAxisRight;return y.hidden||E.push(y.screenToValue(k)),j.hidden||E.push(j.screenToValue(k)),{event:q,what:z,pageX:q.srcEvent?q.srcEvent.pageX:q.pageX,pageY:q.srcEvent?q.srcEvent.pageY:q.pageY,x:b,y:k,time:A,value:E}},v.exports=d},function(c,u,d){function o(j,f){this.id=n.randomUUID(),this.body=j,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:0.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(k){return k},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(k){return k},title:{text:void 0,style:void 0}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},groups:{visibility:{}}},this.options=n.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1;var b=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(q,m,k){b._onAdd(m.items)},update:function(q,m,k){b._onUpdate(m.items)},remove:function(q,m,k){b._onRemove(m.items)}},this.groupListeners={add:function(q,m,k){b._onAddGroups(m.items)},update:function(q,m,k){b._onUpdateGroups(m.items)},remove:function(q,m,k){b._onRemoveGroups(m.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(f),this.groupsUsingDefaultStyles=[0],this.COUNTER=0,this.body.emitter.on("rangechanged",function(){b.lastStart=b.body.range.start,b.svg.style.left=n.option.asSize(-b.props.width),b.redraw.call(b,!0)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.body.emitter.emit("change")}var n=d(1),a=d(7),t=d(8),i=d(10),E=d(21),s=d(51),l=d(53),h=d(57),r=d(56),p=(d(54),"__ungrouped__");o.prototype=new E,o.prototype._create=function(){var b=document.createElement("div");b.className="vis-line-graph",this.dom.frame=b,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",b.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new s(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new s(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new h(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new h(this.body,this.options.legend,"right",this.options.groups),this.show()},o.prototype.setOptions=function(b){if(b){var f=["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"];void 0===b.graphHeight&&void 0!==b.height&&void 0!==this.body.domProps.centerContainer.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==b.graphHeight&&parseInt((b.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),n.selectiveDeepExtend(f,this.options,b),n.mergeOptions(this.options,b,"interpolation"),n.mergeOptions(this.options,b,"drawPoints"),n.mergeOptions(this.options,b,"shaded"),n.mergeOptions(this.options,b,"legend"),b.interpolation&&"object"==typeof b.interpolation&&b.interpolation.parametrization&&("uniform"==b.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==b.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=0.5)),this.yAxisLeft&&void 0!==b.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==b.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(p)&&this.groups[p].setOptions(b)}this.dom.frame&&this.redraw(!0)},o.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},o.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},o.prototype.setItems=function(m){var j,f=this,b=this.itemsData;if(m){if(!(m instanceof t||m instanceof i)){throw new TypeError("Data must be an instance of DataSet or DataView")}this.itemsData=m}else{this.itemsData=null}if(b&&(n.forEach(this.itemListeners,function(q,v){b.off(v,q)}),j=b.getIds(),this._onRemove(j)),this.itemsData){var k=this.id;n.forEach(this.itemListeners,function(q,v){f.itemsData.on(v,q,k)}),j=this.itemsData.getIds(),this._onAdd(j)}this._updateUngrouped(),this.redraw(!0)},o.prototype.setGroups=function(k){var j,b=this;if(this.groupsData&&(n.forEach(this.groupListeners,function(q,m){b.groupsData.off(m,q)}),j=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(j)),k){if(!(k instanceof t||k instanceof i)){throw new TypeError("Data must be an instance of DataSet or DataView")}this.groupsData=k}else{this.groupsData=null}if(this.groupsData){var f=this.id;n.forEach(this.groupListeners,function(q,m){b.groupsData.on(m,q,f)}),j=this.groupsData.getIds(),this._onAddGroups(j)}this._onUpdate()},o.prototype._onUpdate=function(b){this._updateUngrouped(),this._updateAllGroupData(),this.redraw(!0)},o.prototype._onAdd=function(b){this._onUpdate(b)},o.prototype._onRemove=function(b){this._onUpdate(b)},o.prototype._onUpdateGroups=function(j){for(var f=0;f<j.length;f++){var b=this.groupsData.get(j[f]);this._updateGroup(b,j[f])}this.redraw(!0)},o.prototype._onAddGroups=function(b){this._onUpdateGroups(b)},o.prototype._onRemoveGroups=function(b){for(var f=0;f<b.length;f++){this.groups.hasOwnProperty(b[f])&&("right"==this.groups[b[f]].options.yAxisOrientation?(this.yAxisRight.removeGroup(b[f]),this.legendRight.removeGroup(b[f]),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(b[f]),this.legendLeft.removeGroup(b[f]),this.legendLeft.redraw()),delete this.groups[b[f]])}this._updateUngrouped(),this.redraw(!0)},o.prototype._updateGroup=function(b,f){this.groups.hasOwnProperty(f)?(this.groups[f].update(b),"right"==this.groups[f].options.yAxisOrientation?(this.yAxisRight.updateGroup(f,this.groups[f]),this.legendRight.updateGroup(f,this.groups[f])):(this.yAxisLeft.updateGroup(f,this.groups[f]),this.legendLeft.updateGroup(f,this.groups[f]))):(this.groups[f]=new l(b,f,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[f].options.yAxisOrientation?(this.yAxisRight.addGroup(f,this.groups[f]),this.legendRight.addGroup(f,this.groups[f])):(this.yAxisLeft.addGroup(f,this.groups[f]),this.legendLeft.addGroup(f,this.groups[f]))),this.legendLeft.redraw(),this.legendRight.redraw()},o.prototype._updateAllGroupData=function(){if(null!=this.itemsData){var k,j={};for(k in this.groups){this.groups.hasOwnProperty(k)&&(j[k]=[])}for(var b in this.itemsData._data){if(this.itemsData._data.hasOwnProperty(b)){var f=this.itemsData._data[b];if(void 0===j[f.group]){throw new Error("Cannot find referenced group. Possible reason: items added before groups? Groups need to be added before items, as items refer to groups.")}f.x=n.convert(f.x,"Date"),j[f.group].push(f)}}for(k in this.groups){this.groups.hasOwnProperty(k)&&this.groups[k].setItems(j[k])}}},o.prototype._updateUngrouped=function(){if(this.itemsData&&null!=this.itemsData){var k=0;for(var j in this.itemsData._data){if(this.itemsData._data.hasOwnProperty(j)){var b=this.itemsData._data[j];void 0!=b&&(b.hasOwnProperty("group")?void 0===b.group&&(b.group=p):b.group=p,k=b.group==p?k+1:k)}}if(0==k){delete this.groups[p],this.legendLeft.removeGroup(p),this.legendRight.removeGroup(p),this.yAxisLeft.removeGroup(p),this.yAxisRight.removeGroup(p)}else{var f={id:p,content:this.options.defaultGroup};this._updateGroup(f,p)}}else{delete this.groups[p],this.legendLeft.removeGroup(p),this.legendRight.removeGroup(p),this.yAxisLeft.removeGroup(p),this.yAxisRight.removeGroup(p)}this.legendLeft.redraw(),this.legendRight.redraw()},o.prototype.redraw=function(b){var k=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,void 0===this.lastWidth&&this.props.width&&(b=!0),k=this._isResized()||k;var q=this.body.range.end-this.body.range.start,j=q!=this.lastVisibleInterval;if(this.lastVisibleInterval=q,1==k&&(this.svg.style.width=n.option.asSize(3*this.props.width),this.svg.style.left=n.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==k||1==j||1==this.abortedGraphUpdate||1==b){k=this._updateGraph()||k}else{if(0!=this.lastStart){var m=this.body.range.start-this.lastStart,f=this.body.range.end-this.body.range.start;if(0!=this.props.width){var x=this.props.width/f,v=m*x;this.svg.style.left=-this.props.width-v+"px"}}}return this.legendLeft.redraw(),this.legendRight.redraw(),k},o.prototype._updateGraph=function(){if(a.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var b,q,x={},B={},z={},m=!1,j=[];for(var v in this.groups){this.groups.hasOwnProperty(v)&&(b=this.groups[v],1!=b.visible||void 0!==this.options.groups.visibility[v]&&1!=this.options.groups.visibility[v]||j.push(v))}if(j.length>0){var k=this.body.util.toGlobalTime(-this.body.domProps.root.width),y=this.body.util.toGlobalTime(2*this.body.domProps.root.width),f={};for(this._getRelevantData(j,f,k,y),this._applySampling(j,f),q=0;q<j.length;q++){x[j[q]]=this._convertXcoordinates(f[j[q]])}this._getYRanges(j,x,z),m=this._updateYAxis(j,z);var A=5;if(1==m&&this.COUNTER<A){return a.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,this.COUNTER++,this.body.emitter.emit("change"),!0}for(this.COUNTER>A&&console.log("WARNING: there may be an infinite loop in the _updateGraph emitter cycle."),this.COUNTER=0,this.abortedGraphUpdate=!1,q=0;q<j.length;q++){b=this.groups[j[q]],B[j[q]]=this._convertYcoordinates(f[j[q]],b)}for(q=0;q<j.length;q++){b=this.groups[j[q]],"bar"!=b.options.style&&b.draw(B[j[q]],b,this.framework)}r.draw(j,B,this.framework)}}return a.cleanupElements(this.svgElements),!1},o.prototype._getRelevantData=function(m,y,x,f){var k,j,q,z;if(m.length>0){for(j=0;j<m.length;j++){k=this.groups[m[j]],y[m[j]]=[];var v=y[m[j]];if(1==k.options.sort){var b=Math.max(0,n.binarySearchValue(k.itemsData,x,"x","before"));for(q=b;q<k.itemsData.length;q++){if(z=k.itemsData[q],void 0!==z){if(z.x>f){v.push(z);break}v.push(z)}}}else{for(q=0;q<k.itemsData.length;q++){z=k.itemsData[q],void 0!==z&&z.x>x&&z.x<f&&v.push(z)}}}}},o.prototype._applySampling=function(k,v){var z;if(k.length>0){for(var b=0;b<k.length;b++){if(z=this.groups[k[b]],1==z.options.sampling){var y=v[k[b]];if(y.length>0){var f=1,j=y.length,m=this.body.util.toGlobalScreen(y[y.length-1].x)-this.body.util.toGlobalScreen(y[0].x),x=j/m;f=Math.min(Math.ceil(0.2*j),Math.max(1,Math.round(x)));for(var q=[],A=0;j>A;A+=f){q.push(y[A])}v[k[b]]=q}}}}},o.prototype._getYRanges=function(v,y,b){var j,f,m,k,x=[],q=[];if(v.length>0){for(m=0;m<v.length;m++){j=y[v[m]],k=this.groups[v[m]].options,j.length>0&&(f=this.groups[v[m]],k.stack===!0&&"bar"===k.style?"left"===k.yAxisOrientation?x=x.concat(f.getData(j)):q=q.concat(f.getData(j)):b[v[m]]=f.getYRange(j,v[m]))}r.getStackedYRange(x,b,v,"__barStackLeft","left"),r.getStackedYRange(q,b,v,"__barStackRight","right")}},o.prototype._updateYAxis=function(f,v){var y,B,A=!1,b=!1,D=!1,k=1000000000,x=1000000000,q=-1000000000,z=-1000000000;if(f.length>0){for(var j=0;j<f.length;j++){var m=this.groups[f[j]];m&&"right"!=m.options.yAxisOrientation?(b=!0,k=0,q=0):m&&m.options.yAxisOrientation&&(D=!0,x=0,z=0)}for(var j=0;j<f.length;j++){v.hasOwnProperty(f[j])&&v[f[j]].ignore!==!0&&(y=v[f[j]].min,B=v[f[j]].max,"right"!=v[f[j]].yAxisOrientation?(b=!0,k=k>y?y:k,q=B>q?B:q):(D=!0,x=x>y?y:x,z=B>z?B:z))}1==b&&this.yAxisLeft.setRange(k,q),1==D&&this.yAxisRight.setRange(x,z)}A=this._toggleAxisVisiblity(b,this.yAxisLeft)||A,A=this._toggleAxisVisiblity(D,this.yAxisRight)||A,1==D&&1==b?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!b,0==this.yAxisRight.master?(1==D?this.yAxisLeft.lineOffset=this.yAxisRight.width:this.yAxisLeft.lineOffset=0,A=this.yAxisLeft.redraw()||A,this.yAxisRight.stepPixels=this.yAxisLeft.stepPixels,this.yAxisRight.zeroCrossing=this.yAxisLeft.zeroCrossing,this.yAxisRight.amountOfSteps=this.yAxisLeft.amountOfSteps,A=this.yAxisRight.redraw()||A):A=this.yAxisRight.redraw()||A;for(var C=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"],j=0;j<C.length;j++){-1!=f.indexOf(C[j])&&f.splice(f.indexOf(C[j]),1)}return A},o.prototype._toggleAxisVisiblity=function(j,f){var b=!1;return 0==j?f.dom.frame.parentNode&&0==f.hidden&&(f.hide(),b=!0):f.dom.frame.parentNode||1!=f.hidden||(f.show(),b=!0),b},o.prototype._convertXcoordinates=function(q){for(var j,f,b=[],k=this.body.util.toScreen,m=0;m<q.length;m++){j=k(q[m].x)+this.props.width,f=q[m].y,b.push({x:j,y:f})}return b},o.prototype._convertYcoordinates=function(m,y){var x,f,b=[],k=this.body.util.toScreen,j=this.yAxisLeft,q=Number(this.svg.style.height.replace("px",""));"right"==y.options.yAxisOrientation&&(j=this.yAxisRight);for(var z=0;z<m.length;z++){var v=m[z].label?m[z].label:null;x=k(m[z].x)+this.props.width,f=Math.round(j.convertValue(m[z].y)),b.push({x:x,y:f,label:v})}return y.setZeroPosition(Math.min(q,j.convertValue(0))),b},c.exports=o},function(q,n,r){function m(b,f,c,d){this.id=i.randomUUID(),this.body=b,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!0,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(j){return j},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(j){return j},title:{text:void 0,style:void 0}}},this.linegraphOptions=d,this.linegraphSVG=c,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.range={start:0,end:0},this.options=i.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(f),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.offsetHeight,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create();var h=this;this.body.emitter.on("verticalDrag",function(){h.dom.lineContainer.style.top=h.body.domProps.scrollTop+"px"})}var i=r(1),p=r(7),o=r(21),a=r(52);m.prototype=new o,m.prototype.addGroup=function(b,c){this.groups.hasOwnProperty(b)||(this.groups[b]=c),this.amountOfGroups+=1},m.prototype.updateGroup=function(b,c){this.groups[b]=c},m.prototype.removeGroup=function(b){this.groups.hasOwnProperty(b)&&(delete this.groups[b],this.amountOfGroups-=1)},m.prototype.setOptions=function(b){if(b){var d=!1;this.options.orientation!=b.orientation&&void 0!==b.orientation&&(d=!0);var c=["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"];i.selectiveExtend(c,this.options,b),this.minWidth=Number((""+this.options.width).replace("px","")),d===!0&&this.dom.frame&&(this.hide(),this.show())}},m.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},m.prototype._redrawGroupIcons=function(){p.prepareElements(this.svgElements);var j,d=this.options.iconWidth,k=15,c=4,l=c+0.5*k;j="left"===this.options.orientation?c:this.width-d-c;var f=Object.keys(this.groups);f.sort(function(s,t){return t>s?-1:1});for(var b=0;b<f.length;b++){var h=f[b];this.groups[h].visible!==!0||void 0!==this.linegraphOptions.visibility[h]&&this.linegraphOptions.visibility[h]!==!0||(this.groups[h].drawIcon(j,l,this.svgElements,this.svg,d,k),l+=k+c)}p.cleanupElements(this.svgElements),this.iconsRemoved=!1},m.prototype._cleanupIcons=function(){this.iconsRemoved===!1&&(p.prepareElements(this.svgElements),p.cleanupElements(this.svgElements),this.iconsRemoved=!0)},m.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},m.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},m.prototype.setRange=function(b,c){this.master===!1&&this.options.alignZeros===!0&&-1!=this.zeroCrossing&&b>0&&(b=0),this.range.start=b,this.range.end=c},m.prototype.redraw=function(){var h=!1,c=0;this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px";for(var j in this.groups){this.groups.hasOwnProperty(j)&&(this.groups[j].visible!==!0||void 0!==this.linegraphOptions.visibility[j]&&this.linegraphOptions.visibility[j]!==!0||c++)}if(0===this.amountOfGroups||0===c){this.hide()}else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=this.options.visible===!0?Number((""+this.options.width).replace("px","")):0;var l=this.props,k=this.dom.frame;k.className="vis-data-axis",this._calculateCharSize();var f=this.options.orientation,d=this.options.showMinorLabels,b=this.options.showMajorLabels;l.minorLabelHeight=d?l.minorCharHeight:0,l.majorLabelHeight=b?l.majorCharHeight:0,l.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,l.minorLineHeight=1,l.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,l.majorLineHeight=1,"left"===f?(k.style.top="0",k.style.left="0",k.style.bottom="",k.style.width=this.width+"px",k.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(k.style.top="",k.style.bottom="0",k.style.left="0",k.style.width=this.width+"px",k.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),h=this._redrawLabels(),h=this._isResized()||h,this.options.icons===!0?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(f)}return h},m.prototype._redrawLabels=function(){var G=!1;p.prepareElements(this.DOMelements.lines),p.prepareElements(this.DOMelements.labels);var h,u=this.options.orientation;if(this.master===!1){var d,H,t,l;-1!==this.zeroCrossing&&this.options.alignZeros===!0?this.range.end>0?(d=this.range.end/this.zeroCrossing,H=this.range.end-this.amountOfSteps*d,t=this.range.end):(d=-1*this.range.start/(this.amountOfSteps-this.zeroCrossing),H=this.range.start,t=this.range.start+d*this.amountOfSteps):(H=this.range.start,t=this.range.end),l=this.stepPixels}else{l=this.props.majorCharHeight,H=this.range.start,t=this.range.end}if(this.step=h=new a(H,t,l,this.dom.frame.offsetHeight,this.options[this.options.orientation].range,this.options[this.options.orientation].format,this.master===!1&&this.options.alignZeros),this.master===!0){this.stepPixels=this.dom.frame.offsetHeight/h.marginRange*h.step,this.amountOfSteps=Math.ceil(this.dom.frame.offsetHeight/this.stepPixels)}else{if(this.options.alignZeros===!0&&-1!==this.zeroCrossing){var f=(h.current-this.zeroCrossing*h.step)/h.step;this.step.shift(f)}}this.valueAtBottom=h.marginEnd,this.maxLabelSize=0;for(var F=0,b=0,c=!1;b<this.amountOfSteps;){F=Math.round(b*this.stepPixels),c=h.isMajor(),b>0&&b!==this.amountOfSteps&&((this.options.showMinorLabels&&c===!1||this.master===!1&&this.options.showMinorLabels===!0)&&this._redrawLabel(F-2,h.getCurrent(),u,"vis-y-axis vis-minor",this.props.minorCharHeight),c&&this.options.showMajorLabels&&this.master===!0||this.options.showMinorLabels===!1&&this.master===!1&&c===!0?(F>=0&&this._redrawLabel(F-2,h.getCurrent(),u,"vis-y-axis vis-major",this.props.majorCharHeight),this._redrawLine(F,u,"vis-grid vis-horizontal vis-major",this.options.majorLinesOffset,this.props.majorLineWidth)):this._redrawLine(F,u,"vis-grid vis-horizontal vis-minor",this.options.minorLinesOffset,this.props.minorLineWidth)),this.master===!0&&0===h.current&&(this.zeroCrossing=b),h.next(),b+=1}this.master===!0&&0===h.current&&(this.zeroCrossing=b),this.conversionFactor=this.stepPixels/h.step;var j=0;void 0!==this.options[u].title&&void 0!==this.options[u].title.text&&(j=this.props.titleCharHeight);var k=this.options.icons===!0?Math.max(this.options.iconWidth,j)+this.options.labelOffsetX+15:j+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-k&&this.options.visible===!0?(this.width=this.maxLabelSize+k,this.options.width=this.width+"px",p.cleanupElements(this.DOMelements.lines),p.cleanupElements(this.DOMelements.labels),this.redraw(),G=!0):this.maxLabelSize<this.width-k&&this.options.visible===!0&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+k),this.options.width=this.width+"px",p.cleanupElements(this.DOMelements.lines),p.cleanupElements(this.DOMelements.labels),this.redraw(),G=!0):(p.cleanupElements(this.DOMelements.lines),p.cleanupElements(this.DOMelements.labels),G=!1),G},m.prototype.convertValue=function(b){var d=this.valueAtBottom-b,c=d*this.conversionFactor;return c},m.prototype.screenToValue=function(b){return this.valueAtBottom-b/this.conversionFactor},m.prototype._redrawLabel=function(j,f,k,d,c){var h=p.getDOMElement("div",this.DOMelements.labels,this.dom.frame);h.className=d,h.innerHTML=f,"left"===k?(h.style.left="-"+this.options.labelOffsetX+"px",h.style.textAlign="right"):(h.style.right="-"+this.options.labelOffsetX+"px",h.style.textAlign="left"),h.style.top=j-0.5*c+this.options.labelOffsetY+"px",f+="";var b=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<f.length*b&&(this.maxLabelSize=f.length*b)},m.prototype._redrawLine=function(b,h,c,f,d){if(this.master===!0){var j=p.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);j.className=c,j.innerHTML="","left"===h?j.style.left=this.width-f+"px":j.style.right=this.width-f+"px",j.style.width=d+"px",j.style.top=b+"px"}},m.prototype._redrawTitle=function(b){if(p.prepareElements(this.DOMelements.title),void 0!==this.options[b].title&&void 0!==this.options[b].title.text){var c=p.getDOMElement("div",this.DOMelements.title,this.dom.frame);c.className="vis-y-axis vis-title vis-"+b,c.innerHTML=this.options[b].title.text,void 0!==this.options[b].title.style&&i.addCssText(c,this.options[b].title.style),"left"===b?c.style.left=this.props.titleCharHeight+"px":c.style.right=this.props.titleCharHeight+"px",c.style.width=this.height+"px"}p.cleanupElements(this.DOMelements.title)},m.prototype._calculateCharSize=function(){if(!("minorCharHeight" in this.props)){var b=document.createTextNode("0"),h=document.createElement("div");h.className="vis-y-axis vis-minor vis-measure",h.appendChild(b),this.dom.frame.appendChild(h),this.props.minorCharHeight=h.clientHeight,this.props.minorCharWidth=h.clientWidth,this.dom.frame.removeChild(h)}if(!("majorCharHeight" in this.props)){var c=document.createTextNode("0"),f=document.createElement("div");f.className="vis-y-axis vis-major vis-measure",f.appendChild(c),this.dom.frame.appendChild(f),this.props.majorCharHeight=f.clientHeight,this.props.majorCharWidth=f.clientWidth,this.dom.frame.removeChild(f)}if(!("titleCharHeight" in this.props)){var d=document.createTextNode("0"),j=document.createElement("div");j.className="vis-y-axis vis-title vis-measure",j.appendChild(d),this.dom.frame.appendChild(j),this.props.titleCharHeight=j.clientHeight,this.props.titleCharWidth=j.clientWidth,this.dom.frame.removeChild(j)}},q.exports=m},function(f,j,h){function i(n,b,o,a,q,d,c){this.current=0,this.autoScale=!0,this.stepIndex=0,this.step=1,this.scale=1,this.formattingFunction=d,this.marginStart,this.marginEnd,this.deadSpace=0,this.majorSteps=[1,2,5,10],this.minorSteps=[0.25,0.5,1,2],this.alignZeros=c,this.setRange(n,b,o,a,q)}i.prototype.setRange=function(d,c,m,b,a){this._start=void 0===a.min?d:a.min,this._end=void 0===a.max?c:a.max,this._start===this._end&&(this._start=void 0===a.min?this._start-0.75:this._start,this._end=void 0===a.max?this._end+1:this._end),this.autoScale===!0&&this.setMinimumStep(m,b),this.setFirst(a)},i.prototype.setMinimumStep=function(c,E){var d=this._end-this._start,r=1.2*d,o=c*(r/E),b=Math.round(Math.log(r)/Math.LN10),s=-1,t=Math.pow(10,b),a=0;0>b&&(a=b);for(var D=!1,n=a;Math.abs(n)<=Math.abs(b);n++){t=Math.pow(10,n);for(var l=0;l<this.minorSteps.length;l++){var u=t*this.minorSteps[l];if(u>=o){D=!0,s=l;break}}if(D===!0){break}}this.stepIndex=s,this.scale=t,this.step=t*this.minorSteps[s]},i.prototype.setFirst=function(b){void 0===b&&(b={});var a=void 0===b.min?this._start-2*this.scale*this.minorSteps[this.stepIndex]:b.min,c=void 0===b.max?this._end+this.scale*this.minorSteps[this.stepIndex]:b.max;this.marginEnd=void 0===b.max?this.roundToMinor(c):b.max,this.marginStart=void 0===b.min?this.roundToMinor(a):b.min,this.alignZeros===!0&&(this.marginEnd-this.marginStart)%this.step!=0&&(this.marginEnd+=this.marginEnd%this.step),this.deadSpace=this.roundToMinor(c)-c+this.roundToMinor(a)-a,this.marginRange=this.marginEnd-this.marginStart,this.current=this.marginEnd},i.prototype.roundToMinor=function(b){var a=b-b%(this.scale*this.minorSteps[this.stepIndex]);return b%(this.scale*this.minorSteps[this.stepIndex])>0.5*this.scale*this.minorSteps[this.stepIndex]?a+this.scale*this.minorSteps[this.stepIndex]:a},i.prototype.hasNext=function(){return this.current>=this.marginStart},i.prototype.next=function(){var a=this.current;this.current-=this.step,this.current===a&&(this.current=this._end)},i.prototype.previous=function(){this.current+=this.step,this.marginEnd+=this.step,this.marginRange=this.marginEnd-this.marginStart},i.prototype.getCurrent=function(){var b=Math.abs(this.current)<this.step/2?0:this.current,a=b.toPrecision(5);return"function"==typeof this.formattingFunction&&(a=this.formattingFunction(b)),"number"==typeof a?""+a:"string"==typeof a?a:b.toPrecision(5)},i.prototype.isMajor=function(){return this.current%(this.scale*this.majorSteps[this.stepIndex])===0},i.prototype.shift=function(b){if(0>b){for(var a=0;-b>a;a++){this.previous()}}else{if(b>0){for(var a=0;b>a;a++){this.next()}}}},f.exports=i},function(h,n,q){function s(c,f,b,d){this.id=f;var j=["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation"];this.options=r.selectiveBridgeObject(j,b),this.usingDefaultStyle=void 0===c.className,this.groupsUsingDefaultStyles=d,this.zeroPosition=0,this.update(c),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===c.visible?!0:c.visible}var r=q(1),a=q(7),t=q(54),i=q(56),o=q(55);s.prototype.setItems=function(b){null!=b?(this.itemsData=b,1==this.options.sort&&this.itemsData.sort(function(d,c){return d.x-c.x})):this.itemsData=[]},s.prototype.setZeroPosition=function(b){this.zeroPosition=b},s.prototype.setOptions=function(b){if(void 0!==b){var c=["sampling","style","sort","yAxisOrientation","barChart"];r.selectiveDeepExtend(c,this.options,b),r.mergeOptions(this.options,b,"interpolation"),r.mergeOptions(this.options,b,"drawPoints"),r.mergeOptions(this.options,b,"shaded"),b.interpolation&&"object"==typeof b.interpolation&&b.interpolation.parametrization&&("uniform"==b.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==b.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=0.5))}"line"==this.options.style?this.type=new t(this.id,this.options):"bar"==this.options.style?this.type=new i(this.id,this.options):"points"==this.options.style&&(this.type=new o(this.id,this.options))},s.prototype.update=function(b){this.group=b,this.content=b.content||"graph",this.className=b.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===b.visible?!0:b.visible,this.style=b.style,this.setOptions(b.options)},s.prototype.drawIcon=function(p,c,k,u,m,d){var K,j,b=0.5*d,l=a.getSVGElement("rect",k,u);if(l.setAttributeNS(null,"x",p),l.setAttributeNS(null,"y",c-b),l.setAttributeNS(null,"width",m),l.setAttributeNS(null,"height",2*b),l.setAttributeNS(null,"class","vis-outline"),"line"==this.options.style){K=a.getSVGElement("path",k,u),K.setAttributeNS(null,"class",this.className),void 0!==this.style&&K.setAttributeNS(null,"style",this.style),K.setAttributeNS(null,"d","M"+p+","+c+" L"+(p+m)+","+c),1==this.options.shaded.enabled&&(j=a.getSVGElement("path",k,u),"top"==this.options.shaded.orientation?j.setAttributeNS(null,"d","M"+p+", "+(c-b)+"L"+p+","+c+" L"+(p+m)+","+c+" L"+(p+m)+","+(c-b)):j.setAttributeNS(null,"d","M"+p+","+c+" L"+p+","+(c+b)+" L"+(p+m)+","+(c+b)+"L"+(p+m)+","+c),j.setAttributeNS(null,"class",this.className+" vis-icon-fill")),1==this.options.drawPoints.enabled&&a.drawPoint(p+0.5*m,c,this,k,u)}else{var I=Math.round(0.3*m),M=Math.round(0.4*d),L=Math.round(0.75*d),f=Math.round((m-2*I)/3);a.drawBar(p+0.5*I+f,c+b-M-1,I,M,this.className+" vis-bar",k,u,this.style),a.drawBar(p+1.5*I+f+2,c+b-L-1,I,L,this.className+" vis-bar",k,u,this.style)}},s.prototype.getLegend=function(c,d){var b=document.createElementNS("http://www.w3.org/2000/svg","svg");return this.drawIcon(0,0.5*d,[],b,c,d),{icon:b,label:this.content,orientation:this.options.yAxisOrientation}},s.prototype.getYRange=function(b){return this.type.getYRange(b)},s.prototype.getData=function(b){return this.type.getData(b)},s.prototype.draw=function(c,d,b){this.type.draw(c,d,b)},h.exports=s},function(i,m,j){function l(b,a){this.groupId=b,this.options=a}var k=j(7),n=j(55);l.prototype.getData=function(b){for(var a=[],c=0;c<b.length;c++){a.push({x:b[c].x,y:b[c].y,groupId:this.groupId})}return a},l.prototype.getYRange=function(c){for(var b=c[0].y,d=c[0].y,a=0;a<c.length;a++){b=b>c[a].y?c[a].y:b,d=d<c[a].y?c[a].y:d}return{min:b,max:d,yAxisOrientation:this.options.yAxisOrientation}},l.getStackedYRange=function(c,h,d,f,b){if(c.length>0){c.sort(function(o,p){return o.x===p.x?o.groupId<p.groupId?-1:1:o.x-p.x});var a={};l._getDataIntersections(a,c),h[f]=l._getStackedYRange(a,c),h[f].yAxisOrientation=b,d.push(f)}},l._getStackedYRange=function(c,o){for(var f,h=o[0].y,d=o[0].y,b=0;b<o.length;b++){f=o[b].x,void 0===c[f]?(h=h>o[b].y?o[b].y:h,d=d<o[b].y?o[b].y:d):o[b].y<0?c[f].accumulatedNegative+=o[b].y:c[f].accumulatedPositive+=o[b].y}for(var a in c){c.hasOwnProperty(a)&&(h=h>c[a].accumulatedNegative?c[a].accumulatedNegative:h,h=h>c[a].accumulatedPositive?c[a].accumulatedPositive:h,d=d<c[a].accumulatedNegative?c[a].accumulatedNegative:d,d=d<c[a].accumulatedPositive?c[a].accumulatedPositive:d)}return{min:h,max:d}},l._getDataIntersections=function(c,b){for(var d,a=0;a<b.length;a++){a+1<b.length&&(d=Math.abs(b[a+1].x-b[a].x)),a>0&&(d=Math.min(d,Math.abs(b[a-1].x-b[a].x))),0===d&&(void 0===c[b[a].x]&&(c[b[a].x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),c[b[a].x].amount+=1)}},l.prototype.draw=function(t,f,a){if(null!=t&&t.length>0){var h,b,r=Number(a.svg.style.height.replace("px",""));if(h=k.getSVGElement("path",a.svgElements,a.svg),h.setAttributeNS(null,"class",f.className),void 0!==f.style&&h.setAttributeNS(null,"style",f.style),b=1==f.options.interpolation.enabled?l._catmullRom(t,f):l._linear(t),1==f.options.shaded.enabled){var d,c=k.getSVGElement("path",a.svgElements,a.svg);d="top"==f.options.shaded.orientation?"M"+t[0].x+",0 "+b+"L"+t[t.length-1].x+",0":"M"+t[0].x+","+r+" "+b+"L"+t[t.length-1].x+","+r,c.setAttributeNS(null,"class",f.className+" vis-fill"),void 0!==f.options.shaded.style&&c.setAttributeNS(null,"style",f.options.shaded.style),c.setAttributeNS(null,"d",d)}h.setAttributeNS(null,"d","M"+b),1==f.options.drawPoints.enabled&&n.draw(t,f,a)}},l._catmullRomUniform=function(o){for(var t,a,f,d,c,h,r=Math.round(o[0].x)+","+Math.round(o[0].y)+" ",B=1/6,s=o.length,b=0;s-1>b;b++){t=0==b?o[0]:o[b-1],a=o[b],f=o[b+1],d=s>b+2?o[b+2]:f,c={x:(-t.x+6*a.x+f.x)*B,y:(-t.y+6*a.y+f.y)*B},h={x:(a.x+6*f.x-d.x)*B,y:(a.y+6*f.y-d.y)*B},r+="C"+c.x+","+c.y+" "+h.x+","+h.y+" "+f.x+","+f.y+" "}return r},l._catmullRom=function(ab,h){var s=h.options.interpolation.alpha;if(0==s||void 0===s){return this._catmullRomUniform(ab)}for(var M,y,aa,Z,b,r,f,u,ac,d,Y,o,x,ae,p,ad,c,af,a,v=Math.round(ab[0].x)+","+Math.round(ab[0].y)+" ",t=ab.length,ag=0;t-1>ag;ag++){M=0==ag?ab[0]:ab[ag-1],y=ab[ag],aa=ab[ag+1],Z=t>ag+2?ab[ag+2]:aa,f=Math.sqrt(Math.pow(M.x-y.x,2)+Math.pow(M.y-y.y,2)),u=Math.sqrt(Math.pow(y.x-aa.x,2)+Math.pow(y.y-aa.y,2)),ac=Math.sqrt(Math.pow(aa.x-Z.x,2)+Math.pow(aa.y-Z.y,2)),ae=Math.pow(ac,s),ad=Math.pow(ac,2*s),p=Math.pow(u,s),c=Math.pow(u,2*s),a=Math.pow(f,s),af=Math.pow(f,2*s),d=2*af+3*a*p+c,Y=2*ad+3*ae*p+c,o=3*a*(a+p),o>0&&(o=1/o),x=3*ae*(ae+p),x>0&&(x=1/x),b={x:(-c*M.x+d*y.x+af*aa.x)*o,y:(-c*M.y+d*y.y+af*aa.y)*o},r={x:(ad*y.x+Y*aa.x-c*Z.x)*x,y:(ad*y.y+Y*aa.y-c*Z.y)*x},0==b.x&&0==b.y&&(b=y),0==r.x&&0==r.y&&(r=aa),v+="C"+b.x+","+b.y+" "+r.x+","+r.y+" "+aa.x+","+aa.y+" "}return v},l._linear=function(b){for(var a="",c=0;c<b.length;c++){a+=0==c?b[c].x+","+b[c].y:" "+b[c].x+","+b[c].y}return a},i.exports=l},function(h,l,i){function k(b,a){this.groupId=b,this.options=a}var j=i(7);k.prototype.getYRange=function(c){for(var b=c[0].y,d=c[0].y,a=0;a<c.length;a++){b=b>c[a].y?c[a].y:b,d=d<c[a].y?c[a].y:d}return{min:b,max:d,yAxisOrientation:this.options.yAxisOrientation}},k.prototype.draw=function(c,b,d,a){k.draw(c,b,d,a)},k.draw=function(d,b,f,a){void 0===a&&(a=0);for(var c=0;c<d.length;c++){j.drawPoint(d[c].x+a,d[c].y,b,f.svgElements,f.svg,d[c].label)}},h.exports=k},function(i,m,j){function l(b,a){this.groupId=b,this.options=a}var k=j(7),n=j(55);l.prototype.getYRange=function(c){for(var b=c[0].y,d=c[0].y,a=0;a<c.length;a++){b=b>c[a].y?c[a].y:b,d=d<c[a].y?c[a].y:d}return{min:b,max:d,yAxisOrientation:this.options.yAxisOrientation}},l.prototype.getData=function(b){for(var a=[],c=0;c<b.length;c++){a.push({x:b[c].x,y:b[c].y,groupId:this.groupId})}return a},l.draw=function(y,h,c){var t,L,M,d,f,I,b=[],r={},u=0;for(f=0;f<y.length;f++){if(d=c.groups[y[f]],"bar"===d.options.style&&d.visible===!0&&(void 0===c.options.groups.visibility[y[f]]||c.options.groups.visibility[y[f]]===!0)){for(I=0;I<h[y[f]].length;I++){b.push({x:h[y[f]][I].x,y:h[y[f]][I].y,groupId:y[f],label:h[y[f]][I].label}),u+=1}}}if(0!==u){for(b.sort(function(q,o){return q.x===o.x?q.groupId<o.groupId?-1:1:q.x-o.x}),l._getDataIntersections(r,b),f=0;f<b.length;f++){d=c.groups[b[f].groupId];var p=0.1*d.options.barChart.width;L=b[f].x;var K=0;if(void 0===r[L]){f+1<b.length&&(t=Math.abs(b[f+1].x-L)),f>0&&(t=Math.min(t,Math.abs(b[f-1].x-L))),M=l._getSafeDrawData(t,d,p)}else{var v=f+(r[L].amount-r[L].resolved),a=f-(r[L].resolved+1);v<b.length&&(t=Math.abs(b[v].x-L)),a>0&&(t=Math.min(t,Math.abs(b[a].x-L))),M=l._getSafeDrawData(t,d,p),r[L].resolved+=1,d.options.stack===!0?b[f].y<d.zeroPosition?(K=r[L].accumulatedNegative,r[L].accumulatedNegative+=d.zeroPosition-b[f].y):(K=r[L].accumulatedPositive,r[L].accumulatedPositive+=d.zeroPosition-b[f].y):d.options.barChart.sideBySide===!0&&(M.width=M.width/r[L].amount,M.offset+=r[L].resolved*M.width-0.5*M.width*(r[L].amount+1),"left"===d.options.barChart.align?M.offset-=0.5*M.width:"right"===d.options.barChart.align&&(M.offset+=0.5*M.width))}k.drawBar(b[f].x+M.offset,b[f].y-K,M.width,d.zeroPosition-b[f].y,d.className+" vis-bar",c.svgElements,c.svg,d.style),d.options.drawPoints.enabled===!0&&n.draw([b[f]],d,c,M.offset)}}},l._getDataIntersections=function(c,b){for(var d,a=0;a<b.length;a++){a+1<b.length&&(d=Math.abs(b[a+1].x-b[a].x)),a>0&&(d=Math.min(d,Math.abs(b[a-1].x-b[a].x))),0===d&&(void 0===c[b[a].x]&&(c[b[a].x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),c[b[a].x].amount+=1)}},l._getSafeDrawData=function(c,b,d){var a,f;return c<b.options.barChart.width&&c>0?(a=d>c?d:c,f=0,"left"===b.options.barChart.align?f-=0.5*c:"right"===b.options.barChart.align&&(f+=0.5*c)):(a=b.options.barChart.width,f=0,"left"===b.options.barChart.align?f-=0.5*b.options.barChart.width:"right"===b.options.barChart.align&&(f+=0.5*b.options.barChart.width)),{width:a,offset:f}},l.getStackedYRange=function(c,h,d,f,b){if(c.length>0){c.sort(function(o,p){return o.x===p.x?o.groupId<p.groupId?-1:1:o.x-p.x});var a={};l._getDataIntersections(a,c),h[f]=l._getStackedYRange(a,c),h[f].yAxisOrientation=b,d.push(f)}},l._getStackedYRange=function(c,o){for(var f,h=o[0].y,d=o[0].y,b=0;b<o.length;b++){f=o[b].x,void 0===c[f]?(h=h>o[b].y?o[b].y:h,d=d<o[b].y?o[b].y:d):o[b].y<0?c[f].accumulatedNegative+=o[b].y:c[f].accumulatedPositive+=o[b].y}for(var a in c){c.hasOwnProperty(a)&&(h=h>c[a].accumulatedNegative?c[a].accumulatedNegative:h,h=h>c[a].accumulatedPositive?c[a].accumulatedPositive:h,d=d<c[a].accumulatedNegative?c[a].accumulatedNegative:d,d=d<c[a].accumulatedPositive?c[a].accumulatedPositive:d)}return{min:h,max:d}},i.exports=l},function(i,n,k){function m(b,a,c,d){this.body=b,this.defaultOptions={enabled:!0,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-left"}},this.side=c,this.options=l.extend({},this.defaultOptions),this.linegraphOptions=d,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.setOptions(a)}var l=k(1),p=k(7),o=k(21);m.prototype=new o,m.prototype.clear=function(){this.groups={},this.amountOfGroups=0},m.prototype.addGroup=function(b,a){this.groups.hasOwnProperty(b)||(this.groups[b]=a),this.amountOfGroups+=1},m.prototype.updateGroup=function(b,a){this.groups[b]=a},m.prototype.removeGroup=function(a){this.groups.hasOwnProperty(a)&&(delete this.groups[a],this.amountOfGroups-=1)},m.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},m.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},m.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},m.prototype.setOptions=function(b){var a=["enabled","orientation","icons","left","right"];l.selectiveDeepExtend(a,this.options,b)},m.prototype.redraw=function(){var b=0,h=Object.keys(this.groups);h.sort(function(j,q){return q>j?-1:1});for(var c=0;c<h.length;c++){var f=h[c];1!=this.groups[f].visible||void 0!==this.linegraphOptions.visibility[f]&&1!=this.linegraphOptions.visibility[f]||b++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==b){this.hide()}else{if(this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position){this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""}else{var d=this.body.domProps.center.height-this.body.domProps.centerContainer.height;this.dom.frame.style.bottom=4+d+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""}0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());for(var a="",c=0;c<h.length;c++){var f=h[c];1!=this.groups[f].visible||void 0!==this.linegraphOptions.visibility[f]&&1!=this.linegraphOptions.visibility[f]||(a+=this.groups[f].content+"<br />")}this.dom.textArea.innerHTML=a,this.dom.textArea.style.lineHeight=0.75*this.options.iconSize+this.options.iconSpacing+"px"}},m.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var h=Object.keys(this.groups);h.sort(function(q,s){return s>q?-1:1}),p.prepareElements(this.svgElements);var t=window.getComputedStyle(this.dom.frame).paddingTop,b=Number(t.replace("px","")),d=b,c=this.options.iconSize,f=0.75*this.options.iconSize,j=b+0.5*f+3;this.svg.style.width=c+5+b+"px";for(var a=0;a<h.length;a++){var r=h[a];1!=this.groups[r].visible||void 0!==this.linegraphOptions.visibility[r]&&1!=this.linegraphOptions.visibility[r]||(this.groups[r].drawIcon(d,j,this.svgElements,this.svg,c,f),j+=f+this.options.iconSpacing)}p.cleanupElements(this.svgElements)}},i.exports=m},function(c,u,d){Object.defineProperty(u,"__esModule",{value:!0});var o="string",n="boolean",a="number",t="array",i="date",E="object",s="dom",l="moment",h="any",r={configure:{enabled:{"boolean":n},filter:{"boolean":n,"function":"function"},container:{dom:s},__type__:{object:E,"boolean":n,"function":"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:o},sort:{"boolean":n},sampling:{"boolean":n},stack:{"boolean":n},graphHeight:{string:o,number:a},shaded:{enabled:{"boolean":n},orientation:{string:["bottom","top"]},__type__:{"boolean":n,object:E}},style:{string:["line","bar","points"]},barChart:{width:{number:a},sideBySide:{"boolean":n},align:{string:["left","center","right"]},__type__:{object:E}},interpolation:{enabled:{"boolean":n},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:a},__type__:{object:E,"boolean":n}},drawPoints:{enabled:{"boolean":n},size:{number:a},style:{string:["square","circle"]},__type__:{object:E,"boolean":n}},dataAxis:{showMinorLabels:{"boolean":n},showMajorLabels:{"boolean":n},icons:{"boolean":n},width:{string:o,number:a},visible:{"boolean":n},alignZeros:{"boolean":n},left:{range:{min:{number:a},max:{number:a},__type__:{object:E}},format:{"function":"function"},title:{text:{string:o,number:a},style:{string:o},__type__:{object:E}},__type__:{object:E}},right:{range:{min:{number:a},max:{number:a},__type__:{object:E}},format:{"function":"function"},title:{text:{string:o,number:a},style:{string:o},__type__:{object:E}},__type__:{object:E}},__type__:{object:E}},legend:{enabled:{"boolean":n},icons:{"boolean":n},left:{visible:{"boolean":n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:E}},right:{visible:{"boolean":n},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:E}},__type__:{object:E,"boolean":n}},groups:{visibility:{any:h},__type__:{object:E}},autoResize:{"boolean":n},clickToUse:{"boolean":n},end:{number:a,date:i,string:o,moment:l},format:{minorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:E}},majorLabels:{millisecond:{string:o,undefined:"undefined"},second:{string:o,undefined:"undefined"},minute:{string:o,undefined:"undefined"},hour:{string:o,undefined:"undefined"},weekday:{string:o,undefined:"undefined"},day:{string:o,undefined:"undefined"},month:{string:o,undefined:"undefined"},year:{string:o,undefined:"undefined"},__type__:{object:E}},__type__:{object:E}},height:{string:o,number:a},hiddenDates:{object:E,array:t},locale:{string:o},locales:{__any__:{object:E},__type__:{object:E}},max:{date:i,number:a,string:o,moment:l},maxHeight:{number:a,string:o},min:{date:i,number:a,string:o,moment:l},minHeight:{number:a,string:o},moveable:{"boolean":n},multiselect:{"boolean":n},orientation:{string:o},showCurrentTime:{"boolean":n},showMajorLabels:{"boolean":n},showMinorLabels:{"boolean":n},start:{date:i,number:a,string:o,moment:l},timeAxis:{scale:{string:o,undefined:"undefined"},step:{number:a,undefined:"undefined"},__type__:{object:E}},width:{string:o,number:a},zoomable:{"boolean":n},zoomMax:{number:a},zoomMin:{number:a},__type__:{object:E}},p={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["top","bottom"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomMax:[315360000000000,10,315360000000000,1],zoomMin:[10,10,315360000000000,1]}};u.allOptions=r,u.configureOptions=p},function(A,c,l){function u(q){return q&&q.__esModule?q:{"default":q}}function t(q,K,G){var H=this;if(!(this instanceof t)){throw new SyntaxError("Constructor must be called with the new operator")}this.options={},this.defaultOptions={locale:"en",locales:n,clickToUse:!1},N.extend(this.options,this.defaultOptions),this.body={container:q,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new C(function(){return H.body.emitter.emit("_requestRedraw")}),this.groups=new x["default"],this.canvas=new L["default"](this.body),this.selectionHandler=new k["default"](this.body,this.canvas),this.interactionHandler=new I["default"](this.body,this.canvas,this.selectionHandler),this.view=new E["default"](this.body,this.canvas),this.renderer=new D["default"](this.body,this.canvas),this.physics=new ab["default"](this.body),this.layoutEngine=new R["default"](this.body),this.clustering=new d["default"](this.body),this.manipulation=new P["default"](this.body,this.canvas,this.selectionHandler),this.nodesHandler=new j["default"](this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new p["default"](this.body,this.images,this.groups),this.canvas._create(),this.configurator=new F["default"](this,this.body.container,m.configureOptions,this.canvas.pixelRatio),this.setOptions(G),this.setData(K)}var y=l(60),x=u(y),T=l(61),j=u(T),ac=l(81),p=u(ac),B=l(88),ab=u(B),v=l(97),d=u(v),s=l(99),D=u(s),i=l(100),L=u(i),aa=l(101),E=u(aa),S=l(102),I=u(S),o=l(105),k=u(o),r=l(106),R=u(r),ad=l(107),P=u(ad),a=l(45),F=u(a),z=l(47),f=u(z),m=l(108);l(109);var M=l(13),N=(l(23),l(1)),h=(l(8),l(10),l(110)),O=l(111),C=l(112),b=l(42),n=l(113);M(t.prototype),t.prototype.setOptions=function(q){var Q=this;if(void 0!==q){var G=f["default"].validate(q,m.allOptions);G===!0&&console.log("%cErrors have been found in the supplied options object.",z.printStyle);var K=["locale","locales","clickToUse"];if(N.selectiveDeepExtend(K,this.options,q),q=this.layoutEngine.setOptions(q.layout,q),this.canvas.setOptions(q),this.groups.setOptions(q.groups),this.nodesHandler.setOptions(q.nodes),this.edgesHandler.setOptions(q.edges),this.physics.setOptions(q.physics),this.manipulation.setOptions(q.manipulation,q,this.options),this.interactionHandler.setOptions(q.interaction),this.renderer.setOptions(q.interaction),this.selectionHandler.setOptions(q.interaction),void 0!==q.groups&&this.body.emitter.emit("refreshNodes"),this.configurator.setOptions(q.configure),this.configurator.options.enabled===!0){var H={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};N.deepExtend(H.nodes,this.nodesHandler.options),N.deepExtend(H.edges,this.edgesHandler.options),N.deepExtend(H.layout,this.layoutEngine.options),N.deepExtend(H.interaction,this.selectionHandler.options),N.deepExtend(H.interaction,this.renderer.options),N.deepExtend(H.interaction,this.interactionHandler.options),N.deepExtend(H.manipulation,this.manipulation.options),N.deepExtend(H.physics,this.physics.options),N.deepExtend(H.global,this.canvas.options),N.deepExtend(H.global,this.options),this.configurator.setModuleOptions(H)}void 0!==q.clickToUse?q.clickToUse===!0?void 0===this.activator&&(this.activator=new b(this.canvas.frame),this.activator.on("change",function(){Q.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},t.prototype._updateVisibleIndices=function(){var q=this.body.nodes,K=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var G in q){q.hasOwnProperty(G)&&q[G].options.hidden===!1&&this.body.nodeIndices.push(G)}for(var H in K){K.hasOwnProperty(H)&&K[H].options.hidden===!1&&this.body.edgeIndices.push(H)}},t.prototype.bindEventListeners=function(){var q=this;this.body.emitter.on("_dataChanged",function(){q._updateVisibleIndices(),q.physics.updatePhysicsData(),q.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){q._updateValueRange(q.body.nodes),q._updateValueRange(q.body.edges),q.body.emitter.emit("startSimulation")})},t.prototype.setData=function(q){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),q&&q.dot&&(q.nodes||q.edges)){throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.')}if(this.setOptions(q&&q.options),q&&q.dot){console.log("The dot property has been depricated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var H=h.DOTToGraph(q.dot);return void this.setData(H)}if(q&&q.gephi){console.log("The gephi property has been depricated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var G=O.parseGephi(q.gephi);return void this.setData(G)}this.nodesHandler.setData(q&&q.nodes,!0),this.edgesHandler.setData(q&&q.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("initPhysics")},t.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var G in this.body.nodes){delete this.body.nodes[G]}for(var q in this.body.edges){delete this.body.edges[q]}N.recursiveDOMDelete(this.body.container)},t.prototype._updateValueRange=function(q){var Q,G=void 0,K=void 0,H=0;for(Q in q){if(q.hasOwnProperty(Q)){var U=q[Q].getValue();void 0!==U&&(G=void 0===G?U:Math.min(U,G),K=void 0===K?U:Math.max(U,K),H+=U)}}if(void 0!==G&&void 0!==K){for(Q in q){q.hasOwnProperty(Q)&&q[Q].setValueRange(G,K,H)}}},t.prototype.isActive=function(){return !this.activator||this.activator.active},t.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},t.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},t.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas(this.canvas,arguments)},t.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},t.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},t.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},t.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},t.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},t.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},t.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},t.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},t.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},t.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},t.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},t.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},t.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},t.prototype.editNodeMode=function(){return console.log("Depricated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},t.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},t.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},t.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},t.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},t.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},t.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},t.prototype.getConnectedNodes=function(q){return void 0!==this.body.nodes[q]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},t.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},t.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},t.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},t.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},t.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},t.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},t.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},t.prototype.getNodeAt=function(){var q=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==q&&void 0!==q.id?q.id:q},t.prototype.getEdgeAt=function(){var q=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==q&&void 0!==q.id?q.id:q},t.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},t.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},t.prototype.unselectAll=function(){return this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments)},t.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},t.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},t.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},t.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},t.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},t.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},t.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},A.exports=t},function(i,n,k){function m(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function a(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),p=k(1),o=function(){function a(){m(this,a),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},p.extend(this.options,this.defaultOptions)}return l(a,[{key:"setOptions",value:function(c){var b=["useDefaultGroups"];if(void 0!==c){for(var d in c){if(c.hasOwnProperty(d)&&-1===b.indexOf(d)){var f=c[d];this.add(d,f)}}}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(c){var b=this.groups[c];if(void 0===b){if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var d=this.groupIndex%this.groupsArray.length;this.groupIndex++,b={},b.color=this.groups[this.groupsArray[d]],this.groups[c]=b}else{var d=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,b={},b.color=this.defaultGroups[d],this.groups[c]=b}}return b}},{key:"add",value:function(c,b){return this.groups[c]=b,this.groupsArray.push(c),b}}]),a}();n["default"]=o,i.exports=n["default"]},function(c,u,d){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,f){if(!(b instanceof f)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(u,"__esModule",{value:!0});var a=function(){function b(k,j){for(var m=0;m<j.length;m++){var f=j[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(k,f.key,f)}}return function(j,k,f){return k&&b(j.prototype,k),f&&b(j,f),j}}(),t=d(62),i=o(t),E=d(63),s=o(E),l=d(1),h=d(8),r=d(10),p=function(){function b(f,q,m,k){var j=this;n(this,b),this.body=f,this.images=q,this.groups=m,this.layoutEngine=k,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(v,x){j.add(x.items)},update:function(v,x){j.update(x.items,x.data)},remove:function(v,x){j.remove(x.items)}},this.options={},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"horizontal"},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,level:void 0,mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(y,x,A,v){if(x===y){return 0.5}var z=1/(x-y);return Math.max(0,(v-y)*z)}},shadow:{enabled:!1,size:10,x:5,y:5},shape:"ellipse",size:25,title:void 0,value:void 0,x:void 0,y:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return a(b,[{key:"bindEventListeners",value:function(){var f=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete f.body.functions.createNode,delete f.nodesListeners.add,delete f.nodesListeners.update,delete f.nodesListeners.remove,delete f.nodesListeners})}},{key:"setOptions",value:function(j){if(void 0!==j){if(i["default"].parseOptions(this.options,j),void 0!==j.shape){for(var f in this.body.nodes){this.body.nodes.hasOwnProperty(f)&&this.body.nodes[f].updateShape()}}if(void 0!==j.font){s["default"].parseOptions(this.options.font,j);for(var f in this.body.nodes){this.body.nodes.hasOwnProperty(f)&&(this.body.nodes[f].updateLabelModule(),this.body.nodes[f]._reset())}}if(void 0!==j.size){for(var f in this.body.nodes){this.body.nodes.hasOwnProperty(f)&&this.body.nodes[f]._reset()}}(void 0!==j.hidden||void 0!==j.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(k){var j=this,m=void 0===arguments[1]?!1:arguments[1],f=this.body.data.nodes;if(k instanceof h||k instanceof r){this.body.data.nodes=k}else{if(Array.isArray(k)){this.body.data.nodes=new h,this.body.data.nodes.add(k)}else{if(k){throw new TypeError("Array or DataSet expected")}this.body.data.nodes=new h}}f&&l.forEach(this.nodesListeners,function(q,v){f.off(v,q)}),this.body.nodes={},this.body.data.nodes&&!function(){var q=j;l.forEach(j.nodesListeners,function(x,y){q.body.data.nodes.on(y,x)});var v=j.body.data.nodes.getIds();j.add(v,!0)}(),m===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(v){for(var q=void 0===arguments[1]?!1:arguments[1],x=void 0,j=[],m=0;m<v.length;m++){x=v[m];var k=this.body.data.nodes.get(x),f=this.create(k);j.push(f),this.body.nodes[x]=f}this.layoutEngine.positionInitially(j),q===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(k,j){for(var x=this.body.nodes,q=!1,m=0;m<k.length;m++){var f=k[m],v=x[f],y=j[m];void 0!==v?q=v.setOptions(y):(q=!0,v=this.create(y),x[f]=v)}q===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(k){for(var j=this.body.nodes,m=0;m<k.length;m++){var f=k[m];delete j[f]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(j){var f=void 0===arguments[1]?i["default"]:arguments[1];return new f(j,this.body,this.images,this.groups,this.options)}},{key:"refresh",value:function(){var k=this.body.nodes;for(var j in k){var m=void 0;k.hasOwnProperty(j)&&(m=k[j]);var f=this.body.data.nodes._data[j];void 0!==m&&void 0!==f&&(m.setOptions({fixed:!1}),m.setOptions(f))}}},{key:"getPositions",value:function(m){var j={};if(void 0!==m){if(Array.isArray(m)===!0){for(var q=0;q<m.length;q++){if(void 0!==this.body.nodes[m[q]]){var f=this.body.nodes[m[q]];j[m[q]]={x:Math.round(f.x),y:Math.round(f.y)}}}}else{if(void 0!==this.body.nodes[m]){var f=this.body.nodes[m];j[m]={x:Math.round(f.x),y:Math.round(f.y)}}}}else{for(var k in this.body.nodes){if(this.body.nodes.hasOwnProperty(k)){var f=this.body.nodes[k];j[k]={x:Math.round(f.x),y:Math.round(f.y)}}}}return j}},{key:"storePositions",value:function(){var k=[],j=this.body.data.nodes.getDataSet();for(var m in j._data){if(j._data.hasOwnProperty(m)){var f=this.body.nodes[m];(j._data[m].x!=Math.round(f.x)||j._data[m].y!=Math.round(f.y))&&k.push({id:m,x:Math.round(f.x),y:Math.round(f.y)})}}j.update(k)}},{key:"getBoundingBox",value:function(f){return void 0!==this.body.nodes[f]?this.body.nodes[f].shape.boundingBox:void 0}},{key:"getConnectedNodes",value:function(q){var f=[];if(void 0!==this.body.nodes[q]){for(var v=this.body.nodes[q],m={},k=0;k<v.edges.length;k++){var j=v.edges[k];j.toId==q?void 0===m[j.fromId]&&(f.push(j.fromId),m[j.fromId]=!0):j.fromId==q&&void 0===m[j.toId]&&(f.push(j.toId),m[j.toId]=!0)}}return f}},{key:"getConnectedEdges",value:function(k){var j=[];if(void 0!==this.body.nodes[k]){for(var m=this.body.nodes[k],f=0;f<m.edges.length;f++){j.push(m.edges[f].id)}}else{console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",k)}return j}}]),b}();u["default"]=p,c.exports=u["default"]},function(I,n,t){function z(j){return j&&j.__esModule?j:{"default":j}}function y(q,j){if(!(q instanceof j)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var D=function(){function j(H,G){for(var q=0;q<G.length;q++){var F=G[q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value" in F&&(F.writable=!0),Object.defineProperty(H,F.key,F)}}return function(G,q,F){return q&&j(G.prototype,q),F&&j(G,F),G}}(),C=t(63),b=z(C),r=t(64),k=z(r),v=t(66),N=z(v),h=t(68),B=z(h),o=t(69),x=z(o),O=t(70),p=z(O),S=t(72),d=z(S),P=t(73),ac=z(P),R=t(74),u=z(R),s=t(75),E=z(s),f=t(76),ae=z(f),c=t(77),i=z(c),ad=t(78),L=z(ad),l=t(79),A=z(l),T=t(80),ab=z(T),m=t(47),a=(z(m),t(1)),M=function(){function j(G,q,F,K,H){y(this,j),this.options=a.bridgeObject(H),this.body=q,this.edges=[],this.id=void 0,this.imagelist=F,this.grouplist=K,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new b["default"](this.body,this.options),this.setOptions(G)}return D(j,[{key:"attachEdge",value:function(q){-1===this.edges.indexOf(q)&&this.edges.push(q)}},{key:"detachEdge",value:function(q){var F=this.edges.indexOf(q);-1!=F&&this.edges.splice(F,1)}},{key:"togglePhysics",value:function(q){this.options.physics=q}},{key:"setOptions",value:function(F){if(F){if(void 0!==F.id&&(this.id=F.id),void 0===this.id){throw"Node must have an id"}if(void 0!==F.x&&(this.x=parseInt(F.x),this.predefinedPosition=!0),void 0!==F.y&&(this.y=parseInt(F.y),this.predefinedPosition=!0),void 0!==F.size&&(this.baseSize=F.size),void 0!==F.value&&(F.value=parseFloat(F.value)),"number"==typeof F.group||"string"==typeof F.group&&""!=F.group){var q=this.grouplist.get(F.group);a.deepExtend(this.options,q),this.options.color=a.parseColor(this.options.color)}if(j.parseOptions(this.options,F,!0),void 0!==this.options.image&&""!=this.options.image){if(!this.imagelist){throw"No imagelist provided"}this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id)}return this.updateShape(),this.updateLabelModule(),this._reset(),void 0!==F.hidden||void 0!==F.physics?!0:!1}}},{key:"updateLabelModule",value:function(){(void 0===this.options.label||null===this.options.label)&&(this.options.label=""),this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(){switch(this.options.shape){case"box":this.shape=new k["default"](this.options,this.body,this.labelModule);break;case"circle":this.shape=new N["default"](this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new B["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"database":this.shape=new x["default"](this.options,this.body,this.labelModule);break;case"diamond":this.shape=new p["default"](this.options,this.body,this.labelModule);break;case"dot":this.shape=new d["default"](this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new ac["default"](this.options,this.body,this.labelModule);break;case"icon":this.shape=new u["default"](this.options,this.body,this.labelModule);break;case"image":this.shape=new E["default"](this.options,this.body,this.labelModule,this.imageObj);break;case"square":this.shape=new ae["default"](this.options,this.body,this.labelModule);break;case"star":this.shape=new i["default"](this.options,this.body,this.labelModule);break;case"text":this.shape=new L["default"](this.options,this.body,this.labelModule);break;case"triangle":this.shape=new A["default"](this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new ab["default"](this.options,this.body,this.labelModule);break;default:this.shape=new ac["default"](this.options,this.body,this.labelModule)}this._reset()}},{key:"select",value:function(){this.selected=!0,this._reset()}},{key:"unselect",value:function(){this.selected=!1,this._reset()}},{key:"_reset",value:function(){this.shape.width=void 0,this.shape.height=void 0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(q,F){return this.shape.distanceToBorder(q,F)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(Q,H,q){if(void 0!==this.options.value){var G=this.options.scaling.customScalingFunction(Q,H,q,this.options.value),F=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var K=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+G*K}this.options.size=this.options.scaling.min+G*F}else{this.options.size=this.baseSize,this.options.font.size=this.baseFontSize}}},{key:"draw",value:function(q){this.shape.draw(q,this.x,this.y,this.selected,this.hover)}},{key:"updateBoundingBox",value:function(){this.shape.updateBoundingBox(this.x,this.y)}},{key:"resize",value:function(q){this.shape.resize(q)}},{key:"isOverlappingWith",value:function(q){return this.shape.left<q.right&&this.shape.left+this.shape.width>q.left&&this.shape.top<q.bottom&&this.shape.top+this.shape.height>q.top}},{key:"isBoundingBoxOverlappingWith",value:function(q){return this.shape.boundingBox.left<q.right&&this.shape.boundingBox.right>q.left&&this.shape.boundingBox.top<q.bottom&&this.shape.boundingBox.bottom>q.top}}],[{key:"parseOptions",value:function(K,H){var q=void 0===arguments[2]?!1:arguments[2],G=["color","font","fixed","shadow"];if(a.selectiveNotDeepExtend(G,K,H,q),a.mergeOptions(K,H,"shadow"),void 0!==H.color&&null!==H.color){var F=a.parseColor(H.color);a.fillIfDefined(K.color,F)}else{q===!0&&null===H.color&&(K.color=void 0,delete K.color)}void 0!==H.fixed&&null!==H.fixed&&("boolean"==typeof H.fixed?(K.fixed.x=H.fixed,K.fixed.y=H.fixed):(void 0!==H.fixed.x&&"boolean"==typeof H.fixed.x&&(K.fixed.x=H.fixed.x),void 0!==H.fixed.y&&"boolean"==typeof H.fixed.y&&(K.fixed.y=H.fixed.y))),void 0!==H.font&&b["default"].parseOptions(K.font,H),void 0!==H.scaling&&a.mergeOptions(K.scaling,H.scaling,"label")}}]),j}();n["default"]=M,I.exports=n["default"]},function(q,n,r){function m(h,k){if(Array.isArray(h)){return h}if(Symbol.iterator in Object(h)){var s=[],c=!0,b=!1,d=void 0;try{for(var f,j=h[Symbol.iterator]();!(c=(f=j.next()).done)&&(s.push(f.value),!k||s.length!==k);c=!0){}}catch(l){b=!0,d=l}finally{try{!c&&j["return"]&&j["return"]()}finally{if(b){throw d}}}return s}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function b(h,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),o=r(1),a=function(){function b(d,c){i(this,b),this.body=d,this.pointToSelf=!1,this.baseSize=void 0,this.setOptions(c),this.size={top:0,left:0,width:0,height:0,yLine:0}}return p(b,[{key:"setOptions",value:function(d){var c=void 0===arguments[1]?!1:arguments[1];this.options=d,void 0!==d.label&&(this.labelDirty=!0),void 0!==d.font&&(b.parseOptions(this.options.font,d,c),"string"==typeof d.font?this.baseSize=this.options.font.size:"object"==typeof d.font&&void 0!==d.font.size&&(this.baseSize=d.font.size))}},{key:"draw",value:function(k,h,c,f){var d=void 0===arguments[4]?"middle":arguments[4];if(void 0!==this.options.label){var j=this.options.font.size*this.body.view.scale;this.options.label&&j<this.options.scaling.label.drawThreshold-1||(this.calculateLabelSize(k,f,h,c,d),this._drawBackground(k),this._drawText(k,f,h,c,d))}}},{key:"_drawBackground",value:function(d){if(void 0!==this.options.font.background&&"none"!==this.options.font.background){d.fillStyle=this.options.font.background;var c=2;switch(this.options.font.align){case"middle":d.fillRect(0.5*-this.size.width,0.5*-this.size.height,this.size.width,this.size.height);break;case"top":d.fillRect(0.5*-this.size.width,-(this.size.height+c),this.size.width,this.size.height);break;case"bottom":d.fillRect(0.5*-this.size.width,c,this.size.width,this.size.height);break;default:d.fillRect(this.size.left,this.size.top-0.5*c,this.size.width,this.size.height)}}}},{key:"_drawText",value:function(K,f,l,L){var u=void 0===arguments[4]?"middle":arguments[4],j=this.options.font.size,N=j*this.body.view.scale;N>=this.options.scaling.label.maxVisible&&(j=Number(this.options.scaling.label.maxVisible)/this.body.view.scale);var k=this.size.yLine,c=this._getColor(N),s=m(c,2),M=s[0],O=s[1],d=this._setAlignment(K,l,k,u),h=m(d,2);l=h[0],k=h[1],K.font=(f?"bold ":"")+j+"px "+this.options.font.face,K.fillStyle=M,K.textAlign="center",this.options.font.strokeWidth>0&&(K.lineWidth=this.options.font.strokeWidth,K.strokeStyle=O,K.lineJoin="round");for(var t=0;t<this.lineCount;t++){this.options.font.strokeWidth>0&&K.strokeText(this.lines[t],l,k),K.fillText(this.lines[t],l,k),k+=j}}},{key:"_setAlignment",value:function(j,h,c,f){if("horizontal"!==this.options.font.align&&this.pointToSelf===!1){h=0,c=0;var d=2;"top"===this.options.font.align?(j.textBaseline="alphabetic",c-=2*d):"bottom"===this.options.font.align?(j.textBaseline="hanging",c+=2*d):j.textBaseline="middle"}else{j.textBaseline=f}return[h,c]}},{key:"_getColor",value:function(h){var f=this.options.font.color||"#000000",c=this.options.font.strokeColor||"#ffffff";if(h<=this.options.scaling.label.drawThreshold){var d=Math.max(0,Math.min(1,1-(this.options.scaling.label.drawThreshold-h)));f=o.overrideOpacity(f,d),c=o.overrideOpacity(c,d)}return[f,c]}},{key:"getTextSize",value:function(f){var d=void 0===arguments[1]?!1:arguments[1],c={width:this._processLabel(f,d),height:this.options.font.size*this.lineCount,lineCount:this.lineCount};return c}},{key:"calculateLabelSize",value:function(j,h){var c=void 0===arguments[2]?0:arguments[2],f=void 0===arguments[3]?0:arguments[3],d=void 0===arguments[4]?"middle":arguments[4];this.labelDirty===!0&&(this.size.width=this._processLabel(j,h)),this.size.height=this.options.font.size*this.lineCount,this.size.left=c-0.5*this.size.width,this.size.top=f-0.5*this.size.height,this.size.yLine=f+0.5*(1-this.lineCount)*this.options.font.size,"hanging"===d&&(this.size.top+=0.5*this.options.font.size,this.size.top+=4,this.size.yLine+=4),this.labelDirty=!1}},{key:"_processLabel",value:function(k,f){var d=0,c=[""],l=0;if(void 0!==this.options.label){c=String(this.options.label).split("\n"),l=c.length,k.font=(f?"bold ":"")+this.options.font.size+"px "+this.options.font.face,d=k.measureText(c[0]).width;for(var j=1;l>j;j++){var h=k.measureText(c[j]).width;d=h>d?h:d}}return this.lines=c,this.lineCount=l,d}}],[{key:"parseOptions",value:function(h,f){var c=void 0===arguments[2]?!1:arguments[2];if("string"==typeof f.font){var d=f.font.split(" ");h.size=d[0].replace("px",""),h.face=d[1],h.color=d[2]}else{"object"==typeof f.font&&o.fillIfDefined(h,f.font,c)}h.size=Number(h.size)}}]),b}();n["default"]=a,q.exports=n["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f,m){if(void 0===this.width){var j=5,k=this.labelModule.getTextSize(f,m);this.width=k.width+2*j,this.height=k.height+2*j,this.radius=0.5*this.width}}},{key:"draw",value:function(v,u,j,q,m){this.resize(v,q),this.left=u-this.width/2,this.top=j-this.height/2;var p=this.options.borderWidth,f=this.options.borderWidthSelected||2*this.options.borderWidth;v.strokeStyle=q?this.options.color.highlight.border:m?this.options.color.hover.border:this.options.color.border,v.lineWidth=q?f:p,v.lineWidth/=this.body.view.scale,v.lineWidth=Math.min(this.width,v.lineWidth),v.fillStyle=q?this.options.color.highlight.background:m?this.options.color.hover.background:this.options.color.background;var k=6;v.roundRect(this.left,this.top,this.width,this.height,k),this.enableShadow(v),v.fill(),this.disableShadow(v),v.stroke(),this.updateBoundingBox(u,j),this.labelModule.draw(v,u,j,q)}},{key:"updateBoundingBox",value:function(j,f){this.left=j-0.5*this.width,this.top=f-0.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(j,q){this.resize(j);var k=this.width/2,p=this.height/2,f=Math.sin(q)*k,m=Math.cos(q)*p;return k*p/Math.sqrt(f*f+m*m)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=d,this.labelModule=b,this.setOptions(c),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return k(a,[{key:"setOptions",value:function(b){this.options=b}},{key:"_distanceToBorder",value:function(c){var b=1;return Math.min(Math.abs(this.width/2/Math.cos(c)),Math.abs(this.height/2/Math.sin(c)))+b}},{key:"enableShadow",value:function(b){this.options.shadow.enabled===!0&&(b.shadowColor="rgba(0,0,0,0.5)",b.shadowBlur=this.options.shadow.size,b.shadowOffsetX=this.options.shadow.x,b.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(b){this.options.shadow.enabled===!0&&(b.shadowColor="rgba(0,0,0,0)",b.shadowBlur=0,b.shadowOffsetX=0,b.shadowOffsetY=0)}}]),a}();m["default"]=n,i.exports=m["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(67),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f,m){if(void 0===this.width){var k=5,j=this.labelModule.getTextSize(f,m),p=Math.max(j.width,j.height)+2*k;this.options.size=p/2,this.width=p,this.height=p,this.radius=0.5*this.width}}},{key:"draw",value:function(f,m,k,j,p){this.resize(f,j),this.left=m-this.width/2,this.top=k-this.height/2,this._drawRawCircle(f,m,k,j,p,this.options.size),this.boundingBox.top=k-this.options.size,this.boundingBox.left=m-this.options.size,this.boundingBox.right=m+this.options.size,this.boundingBox.bottom=k+this.options.size,this.updateBoundingBox(m,k),this.labelModule.draw(f,m,k,j)}},{key:"updateBoundingBox",value:function(j,f){this.boundingBox.top=f-this.options.size,this.boundingBox.left=j-this.options.size,this.boundingBox.right=j+this.options.size,this.boundingBox.bottom=f+this.options.size}},{key:"distanceToBorder",value:function(j,q){this.resize(j);var k=this.width/2,p=this.height/2,f=Math.sin(q)*k,m=Math.cos(q)*p;return k*p/Math.sqrt(f*f+m*m)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k),this.labelOffset=0,this.imageLoaded=!1}return s(c,b),r(c,[{key:"_resizeImage",value:function(){var f=!1;if(this.imageObj.width&&this.imageObj.height?this.imageLoaded===!1&&(this.imageLoaded=!0,f=!0):this.imageLoaded=!1,!this.width||!this.height||f===!0){var m,j,k;this.imageObj.width&&this.imageObj.height&&(m=0,j=0),this.imageObj.width>this.imageObj.height?(k=this.imageObj.width/this.imageObj.height,m=2*this.options.size*k||this.imageObj.width,j=2*this.options.size||this.imageObj.height):(k=this.imageObj.width&&this.imageObj.height?this.imageObj.height/this.imageObj.width:1,m=2*this.options.size||this.imageObj.width,j=2*this.options.size*k||this.imageObj.height),this.width=m,this.height=j,this.radius=0.5*this.width}}},{key:"_drawRawCircle",value:function(v,u,j,q,m,p){var f=this.options.borderWidth,k=this.options.borderWidthSelected||2*this.options.borderWidth;v.strokeStyle=q?this.options.color.highlight.border:m?this.options.color.hover.border:this.options.color.border,v.lineWidth=q?k:f,v.lineWidth*=this.networkScaleInv,v.lineWidth=Math.min(this.width,v.lineWidth),v.fillStyle=q?this.options.color.highlight.background:m?this.options.color.hover.background:this.options.color.background,v.circle(u,j,p),this.enableShadow(v),v.fill(),this.disableShadow(v),v.stroke()}},{key:"_drawImageAtPosition",value:function(f){0!=this.imageObj.width&&(f.globalAlpha=1,this.enableShadow(f),f.drawImage(this.imageObj,this.left,this.top,this.width,this.height),this.disableShadow(f))}},{key:"_drawImageLabel",value:function(j,f,k,u){var p,q=0;if(void 0!==this.height){q=0.5*this.height;var m=this.labelModule.getTextSize(j);m.lineCount>=1&&(q+=m.height/2)}p=k+q,this.options.label&&(this.labelOffset=q),this.labelModule.draw(j,f,p,u,"hanging")}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(67),a=o(h),l=function(b){function c(f,j,k,m){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k),this.imageObj=m,this._swapToImageResizeWhenImageLoaded=!0}return s(c,b),r(c,[{key:"resize",value:function(){if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){if(!this.width){var f=2*this.options.size;this.width=f,this.height=f,this._swapToImageResizeWhenImageLoaded=!0,this.radius=0.5*this.width}}else{this._swapToImageResizeWhenImageLoaded&&(this.width=void 0,this.height=void 0,this._swapToImageResizeWhenImageLoaded=!1),this._resizeImage()}}},{key:"draw",value:function(j,q,k,p,f){this.resize(),this.left=q-this.width/2,this.top=k-this.height/2;var m=Math.min(0.5*this.height,0.5*this.width);this._drawRawCircle(j,q,k,p,f,m),j.save(),j.circle(q,k,m),j.stroke(),j.clip(),this._drawImageAtPosition(j),j.restore(),this._drawImageLabel(j,q,k,p),this.updateBoundingBox(q,k)}},{key:"updateBoundingBox",value:function(j,f){this.boundingBox.top=f-this.options.size,this.boundingBox.left=j-this.options.size,this.boundingBox.right=j+this.options.size,this.boundingBox.bottom=f+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(j,f){return this.resize(j),this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f,m){if(void 0===this.width){var k=5,j=this.labelModule.getTextSize(f,m),p=j.width+2*k;this.width=p,this.height=p,this.radius=0.5*this.width}}},{key:"draw",value:function(j,f,k,u,p){this.resize(j,u),this.left=f-this.width/2,this.top=k-this.height/2;var q=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth;j.strokeStyle=u?this.options.color.highlight.border:p?this.options.color.hover.border:this.options.color.border,j.lineWidth=this.selected?m:q,j.lineWidth*=this.networkScaleInv,j.lineWidth=Math.min(this.width,j.lineWidth),j.fillStyle=u?this.options.color.highlight.background:p?this.options.color.hover.background:this.options.color.background,j.database(f-this.width/2,k-0.5*this.height,this.width,this.height),this.enableShadow(j),j.fill(),this.disableShadow(j),j.stroke(),this.updateBoundingBox(f,k),this.labelModule.draw(j,f,k,u)}},{key:"updateBoundingBox",value:function(j,f){this.left=j-0.5*this.width,this.top=f-0.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(j,q){this.resize(j);var k=this.width/2,p=this.height/2,f=Math.sin(q)*k,m=Math.cos(q)*p;return k*p/Math.sqrt(f*f+m*m)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(71),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f){this._resizeShape()}},{key:"draw",value:function(f,m,k,j,p){this._drawShape(f,"diamond",4,m,k,j,p)}},{key:"distanceToBorder",value:function(j,f){return this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"_resizeShape",value:function(){if(void 0===this.width){var f=2*this.options.size;this.width=f,this.height=f,this.radius=0.5*this.width}}},{key:"_drawShape",value:function(x,j,m,u,q,v,p){this._resizeShape(),this.left=u-this.width/2,this.top=q-this.height/2;var H=this.options.borderWidth,k=this.options.borderWidthSelected||2*this.options.borderWidth;if(x.strokeStyle=v?this.options.color.highlight.border:p?this.options.color.hover.border:this.options.color.border,x.lineWidth=v?k:H,x.lineWidth/=this.body.view.scale,x.lineWidth=Math.min(this.width,x.lineWidth),x.fillStyle=v?this.options.color.highlight.background:p?this.options.color.hover.background:this.options.color.background,x[j](u,q,this.options.size),this.enableShadow(x),x.fill(),this.disableShadow(x),x.stroke(),void 0!==this.options.label){var f=q+0.5*this.height+3;this.labelModule.draw(x,u,f,v,"hanging")}this.updateBoundingBox(u,q)}},{key:"updateBoundingBox",value:function(j,f){this.boundingBox.top=f-this.options.size,this.boundingBox.left=j-this.options.size,this.boundingBox.right=j+this.options.size,this.boundingBox.bottom=f+this.options.size,void 0!==this.options.label&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+3))}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(71),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f){this._resizeShape()}},{key:"draw",value:function(f,m,k,j,p){this._drawShape(f,"circle",2,m,k,j,p)}},{key:"distanceToBorder",value:function(j,f){return this.options.size+this.options.borderWidth}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f,k){if(void 0===this.width){var j=this.labelModule.getTextSize(f,k);this.width=1.5*j.width,this.height=2*j.height,this.width<this.height&&(this.width=this.height),this.radius=0.5*this.width}}},{key:"draw",value:function(j,f,k,u,p){this.resize(j,u),this.left=f-0.5*this.width,this.top=k-0.5*this.height;var q=this.options.borderWidth,m=this.options.borderWidthSelected||2*this.options.borderWidth;j.strokeStyle=u?this.options.color.highlight.border:p?this.options.color.hover.border:this.options.color.border,j.lineWidth=u?m:q,j.lineWidth/=this.body.view.scale,j.lineWidth=Math.min(this.width,j.lineWidth),j.fillStyle=u?this.options.color.highlight.background:p?this.options.color.hover.background:this.options.color.background,j.ellipse(this.left,this.top,this.width,this.height),this.enableShadow(j),j.fill(),this.disableShadow(j),j.stroke(),this.updateBoundingBox(f,k),this.labelModule.draw(j,f,k,u)}},{key:"updateBoundingBox",value:function(j,f){this.left=j-0.5*this.width,this.top=f-0.5*this.height,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"distanceToBorder",value:function(j,q){this.resize(j);var k=0.5*this.width,p=0.5*this.height,f=Math.sin(q)*k,m=Math.cos(q)*p;return k*p/Math.sqrt(f*f+m*m)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f){if(void 0===this.width){var k=5,j={width:Number(this.options.icon.size),height:Number(this.options.icon.size)};this.width=j.width+2*k,this.height=j.height+2*k,this.radius=0.5*this.width}}},{key:"draw",value:function(j,q,k,p,f){if(this.resize(j),this.options.icon.size=this.options.icon.size||50,this.left=q-0.5*this.width,this.top=k-0.5*this.height,this._icon(j,q,k,p),void 0!==this.options.label){var m=5;this.labelModule.draw(j,q,k+0.5*this.height+m,p)}this.updateBoundingBox(q,k)}},{key:"updateBoundingBox",value:function(f,k){if(this.boundingBox.top=k-0.5*this.options.icon.size,this.boundingBox.left=f-0.5*this.options.icon.size,this.boundingBox.right=f+0.5*this.options.icon.size,this.boundingBox.bottom=k+0.5*this.options.icon.size,void 0!==this.options.label){var j=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+j)}}},{key:"_icon",value:function(f,m,k,j){var p=Number(this.options.icon.size);void 0!==this.options.icon.code?(f.font=(j?"bold ":"")+p+"px "+this.options.icon.face,f.fillStyle=this.options.icon.color||"black",f.textAlign="center",f.textBaseline="middle",this.enableShadow(f),f.fillText(this.options.icon.code,m,k),this.disableShadow(f)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(j,f){this.resize(j),this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(67),a=o(h),l=function(b){function c(f,j,k,m){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k),this.imageObj=m}return s(c,b),r(c,[{key:"resize",value:function(){this._resizeImage()}},{key:"draw",value:function(f,m,k,j,p){this.resize(),this.left=m-this.width/2,this.top=k-this.height/2,this._drawImageAtPosition(f),this._drawImageLabel(f,m,k,j||p),this.updateBoundingBox(m,k)}},{key:"updateBoundingBox",value:function(j,f){this.left=j-this.width/2,this.top=f-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height,void 0!==this.options.label&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(j,q){this.resize(j);var k=this.width/2,p=this.height/2,f=Math.sin(q)*k,m=Math.cos(q)*p;return k*p/Math.sqrt(f*f+m*m)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(71),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(){this._resizeShape()}},{key:"draw",value:function(f,m,k,j,p){this._drawShape(f,"square",2,m,k,j,p)}},{key:"distanceToBorder",value:function(j,f){return this.resize(j),this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(71),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f){this._resizeShape()}},{key:"draw",value:function(f,m,k,j,p){this._drawShape(f,"star",4,m,k,j,p)}},{key:"distanceToBorder",value:function(j,f){return this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(65),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f,m){if(void 0===this.width){var j=5,k=this.labelModule.getTextSize(f,m);this.width=k.width+2*j,this.height=k.height+2*j,this.radius=0.5*this.width}}},{key:"draw",value:function(f,m,k,j,p){this.resize(f,j||p),this.left=m-this.width/2,this.top=k-this.height/2,this.enableShadow(f),this.labelModule.draw(f,m,k,j||p),this.disableShadow(f),this.updateBoundingBox(m,k)}},{key:"updateBoundingBox",value:function(j,f){this.left=j-this.width/2,this.top=f-this.height/2,this.boundingBox.top=this.top,this.boundingBox.left=this.left,this.boundingBox.right=this.left+this.width,this.boundingBox.bottom=this.top+this.height}},{key:"distanceToBorder",value:function(j,f){return this.resize(j),this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(71),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f){this._resizeShape()}},{key:"draw",value:function(f,m,k,j,p){this._drawShape(f,"triangle",3,m,k,j,p)}},{key:"distanceToBorder",value:function(j,f){return this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(71),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"resize",value:function(f){this._resizeShape()}},{key:"draw",value:function(f,m,k,j,p){this._drawShape(f,"triangleDown",3,m,k,j,p)}},{key:"distanceToBorder",value:function(j,f){return this._distanceToBorder(f)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(c,u,d){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,f){if(!(b instanceof f)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(u,"__esModule",{value:!0});var a=function(){function b(k,j){for(var m=0;m<j.length;m++){var f=j[m];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(k,f.key,f)}}return function(j,k,f){return k&&b(j.prototype,k),f&&b(j,f),j}}(),t=d(82),i=o(t),E=d(63),s=o(E),l=d(1),h=d(8),r=d(10),p=function(){function b(j,m,f){var k=this;n(this,b),this.body=j,this.images=m,this.groups=f,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(q,v){k.add(v.items)},update:function(q,v){k.update(v.items)},remove:function(q,v){k.remove(v.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1},middle:{enabled:!1,scaleFactor:1},from:{enabled:!1,scaleFactor:1}},color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal"},hidden:!1,hoverWidth:1.5,label:void 0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(x,v,z,q){if(v===x){return 0.5}var y=1/(v-x);return Math.max(0,(q-x)*y)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",roundness:0.5},title:void 0,width:1,value:void 0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return a(b,[{key:"bindEventListeners",value:function(){var f=this;this.body.emitter.on("_forceDisableDynamicCurves",function(v){"dynamic"===v&&(v="continuous");var x=!1;for(var m in f.body.edges){if(f.body.edges.hasOwnProperty(m)){var k=f.body.edges[m],q=f.body.data.edges._data[m];if(void 0!==q){var j=q.smooth;void 0!==j&&j.enabled===!0&&"dynamic"===j.type&&(void 0===v?k.setOptions({smooth:!1}):k.setOptions({smooth:{type:v}}),x=!0)}}}x===!0&&f.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){f.reconnectEdges(),f.markAllEdgesAsDirty()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){delete f.body.functions.createEdge,delete f.edgesListeners.add,delete f.edgesListeners.update,delete f.edgesListeners.remove,delete f.edgesListeners})}},{key:"setOptions",value:function(j){if(void 0!==j){i["default"].parseOptions(this.options,j),void 0!==j.color&&this.markAllEdgesAsDirty();var f=!1;if(void 0!==j.smooth){for(var k in this.body.edges){this.body.edges.hasOwnProperty(k)&&(f=this.body.edges[k].updateEdgeType()||f)}}if(void 0!==j.font){s["default"].parseOptions(this.options.font,j);for(var k in this.body.edges){this.body.edges.hasOwnProperty(k)&&this.body.edges[k].updateLabelModule()}}(void 0!==j.hidden||void 0!==j.physics||f===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(m){var j=this,q=void 0===arguments[1]?!1:arguments[1],f=this.body.data.edges;if(m instanceof h||m instanceof r){this.body.data.edges=m}else{if(Array.isArray(m)){this.body.data.edges=new h,this.body.data.edges.add(m)}else{if(m){throw new TypeError("Array or DataSet expected")}this.body.data.edges=new h}}if(f&&l.forEach(this.edgesListeners,function(v,x){f.off(x,v)}),this.body.edges={},this.body.data.edges){l.forEach(this.edgesListeners,function(v,x){j.body.data.edges.on(x,v)});var k=this.body.data.edges.getIds();this.add(k,!0)}q===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(k){for(var j=void 0===arguments[1]?!1:arguments[1],x=this.body.edges,q=this.body.data.edges,m=0;m<k.length;m++){var f=k[m],v=x[f];v&&v.disconnect();var y=q.get(f,{showInternalIds:!0});x[f]=this.create(y)}j===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(k){for(var j=this.body.edges,x=this.body.data.edges,q=!1,m=0;m<k.length;m++){var f=k[m],v=x.get(f),y=j[f];null===y?(y.disconnect(),q=y.setOptions(v)||q,y.connect()):(this.body.edges[f]=this.create(v),q=!0)}q===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(m){for(var j=this.body.edges,q=0;q<m.length;q++){var f=m[q],k=j[f];void 0!==k&&(null!=k.via&&delete this.body.supportNodes[k.via.id],k.disconnect(),delete j[f])}this.body.emitter.emit("_dataChanged")}},{key:"refresh",value:function(){var k=this.body.edges;for(var j in k){var m=void 0;k.hasOwnProperty(j)&&(m=k[j]);var f=this.body.data.edges._data[j];void 0!==m&&void 0!==f&&m.setOptions(f)}}},{key:"create",value:function(f){return new i["default"](f,this.body,this.options)}},{key:"markAllEdgesAsDirty",value:function(){for(var f in this.body.edges){this.body.edges[f].edgeType.colorDirty=!0}}},{key:"reconnectEdges",value:function(){var k,j=this.body.nodes,m=this.body.edges;for(k in j){j.hasOwnProperty(k)&&(j[k].edges=[])}for(k in m){if(m.hasOwnProperty(k)){var f=m[k];f.from=null,f.to=null,f.connect()}}}},{key:"getConnectedNodes",value:function(j){var f=[];if(void 0!==this.body.edges[j]){var k=this.body.edges[j];k.fromId&&f.push(k.fromId),k.toId&&f.push(k.toId)}return f}}]),b}();u["default"]=p,c.exports=u["default"]},function(t,f,n){function i(b){return b&&b.__esModule?b:{"default":b}}function d(b,j){if(!(b instanceof j)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(f,"__esModule",{value:!0});var s=function(){function b(q,k){for(var v=0;v<k.length;v++){var j=k[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value" in j&&(j.writable=!0),Object.defineProperty(q,j.key,j)}}return function(k,q,j){return q&&b(k.prototype,q),j&&b(k,j),k}}(),o=n(63),I=i(o),m=n(83),c=i(m),p=n(86),u=i(p),a=n(87),l=i(a),h=n(1),r=function(){function b(k,q,j){if(d(this,b),void 0===q){throw"No body provided"}this.options=h.bridgeObject(j),this.body=q,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.colorDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new I["default"](this.body,this.options),this.setOptions(k)}return s(b,[{key:"setOptions",value:function(j){if(j){this.colorDirty=!0,b.parseOptions(this.options,j,!0),void 0!==j.id&&(this.id=j.id),void 0!==j.from&&(this.fromId=j.from),void 0!==j.to&&(this.toId=j.to),void 0!==j.title&&(this.title=j.title),void 0!==j.value&&(j.value=parseFloat(j.value)),this.updateLabelModule();var k=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==j.hidden||void 0!==j.physics)&&(k=!0),k}}},{key:"updateLabelModule",value:function(){this.labelModule.setOptions(this.options,!0),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var k=!1,j=!0;return void 0!==this.edgeType&&(this.edgeType instanceof c["default"]&&this.options.smooth.enabled===!0&&"dynamic"===this.options.smooth.type&&(j=!1),this.edgeType instanceof u["default"]&&this.options.smooth.enabled===!0&&"dynamic"!==this.options.smooth.type&&(j=!1),this.edgeType instanceof l["default"]&&this.options.smooth.enabled===!1&&(j=!1),j===!0&&(k=this.edgeType.cleanup())),j===!0?this.options.smooth.enabled===!0?"dynamic"===this.options.smooth.type?(k=!0,this.edgeType=new c["default"](this.options,this.body,this.labelModule)):this.edgeType=new u["default"](this.options,this.body,this.labelModule):this.edgeType=new l["default"](this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),k}},{key:"togglePhysics",value:function(j){this.options.physics=j,this.edgeType.togglePhysics(j)}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(x,q,y){if(void 0!==this.options.value){var k=this.options.scaling.customScalingFunction(x,q,y,this.options.value),j=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var v=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+k*v}this.options.width=this.options.scaling.min+k*j}else{this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize}this._setInteractionWidths()}},{key:"_setInteractionWidths",value:function(){"function"==typeof this.options.hoverWidth?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,"function"==typeof this.options.selectionWidth?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(k){var j=this.edgeType.drawLine(k,this.selected,this.hover);this.drawArrows(k,j),this.drawLabel(k,j)}},{key:"drawArrows",value:function(k,j){this.options.arrows.from.enabled===!0&&this.edgeType.drawArrowHead(k,"from",j,this.selected,this.hover),this.options.arrows.middle.enabled===!0&&this.edgeType.drawArrowHead(k,"middle",j,this.selected,this.hover),this.options.arrows.to.enabled===!0&&this.edgeType.drawArrowHead(k,"to",j,this.selected,this.hover)}},{key:"drawLabel",value:function(A,j){if(void 0!==this.options.label){var q=this.from,x=this.to,v=this.from.selected||this.to.selected||this.selected;if(q.id!=x.id){this.labelModule.pointToSelf=!1;var z=this.edgeType.getPoint(0.5,j);A.save(),"horizontal"!==this.options.font.align&&(this.labelModule.calculateLabelSize(A,v,z.x,z.y),A.translate(z.x,this.labelModule.size.yLine),this._rotateForLabelAlignment(A)),this.labelModule.draw(A,z.x,z.y,v),A.restore()}else{this.labelModule.pointToSelf=!0;var y,B,k=this.options.selfReferenceSize;q.shape.width>q.shape.height?(y=q.x+0.5*q.shape.width,B=q.y-k):(y=q.x+k,B=q.y-0.5*q.shape.height),z=this._pointOnCircle(y,B,k,0.125),this.labelModule.draw(A,z.x,z.y,v)}}}},{key:"isOverlappingWith",value:function(A){if(this.connected){var j=10,q=this.from.x,x=this.from.y,v=this.to.x,z=this.to.y,y=A.left,B=A.top,k=this.edgeType.getDistanceToEdge(q,x,v,z,y,B);return j>k}return !1}},{key:"_rotateForLabelAlignment",value:function(q){var k=this.from.y-this.to.y,v=this.from.x-this.to.x,j=Math.atan2(k,v);(-1>j&&0>v||j>0&&0>v)&&(j+=Math.PI),q.rotate(j)}},{key:"_pointOnCircle",value:function(v,q,x,k){var j=2*k*Math.PI;return{x:v+x*Math.cos(j),y:q-x*Math.sin(j)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}}],[{key:"parseOptions",value:function(x,q){var y=void 0===arguments[2]?!1:arguments[2],k=["id","from","hidden","hoverWidth","label","length","line","opacity","physics","selectionWidth","selfReferenceSize","to","title","value","width"];if(h.selectiveDeepExtend(k,x,q,y),h.mergeOptions(x,q,"smooth"),h.mergeOptions(x,q,"shadow"),void 0!==q.dashes&&null!==q.dashes?x.dashes=q.dashes:y===!0&&null===q.dashes&&(x.dashes=void 0,delete x.dashes),void 0!==q.scaling&&null!==q.scaling?(void 0!==q.scaling.min&&(x.scaling.min=q.scaling.min),void 0!==q.scaling.max&&(x.scaling.max=q.scaling.max),h.mergeOptions(x.scaling,q.scaling,"label")):y===!0&&null===q.scaling&&(x.scaling=void 0,delete x.scaling),void 0!==q.arrows&&null!==q.arrows){if("string"==typeof q.arrows){var j=q.arrows.toLowerCase();-1!=j.indexOf("to")&&(x.arrows.to.enabled=!0),-1!=j.indexOf("middle")&&(x.arrows.middle.enabled=!0),-1!=j.indexOf("from")&&(x.arrows.from.enabled=!0)}else{if("object"!=typeof q.arrows){throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+JSON.stringify(q.arrows))}h.mergeOptions(x.arrows,q.arrows,"to"),h.mergeOptions(x.arrows,q.arrows,"middle"),h.mergeOptions(x.arrows,q.arrows,"from")}}else{y===!0&&null===q.arrows&&(x.arrows=void 0,delete x.arrows)}if(void 0!==q.color&&null!==q.color){if(h.isString(q.color)){x.color.color=q.color,x.color.highlight=q.color,x.color.hover=q.color,x.color.inherit=!1}else{var v=!1;void 0!==q.color.color&&(x.color.color=q.color.color,v=!0),void 0!==q.color.highlight&&(x.color.highlight=q.color.highlight,v=!0),void 0!==q.color.hover&&(x.color.hover=q.color.hover,v=!0),void 0!==q.color.inherit&&(x.color.inherit=q.color.inherit),void 0!==q.color.opacity&&(x.color.opacity=Math.min(1,Math.max(0,q.color.opacity))),void 0===q.color.inherit&&v===!0&&(x.color.inherit=!1)}}else{y===!0&&null===q.color&&(x.color=void 0,delete x.color)}void 0!==q.font&&I["default"].parseOptions(x.font,q)}}]),b}();f["default"]=r,t.exports=f["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(84),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"setOptions",value:function(f){this.options=f,this.id=this.options.id,this.setupSupportNode(),this.connect()}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],void 0===this.from||void 0===this.to?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return void 0!==this.via?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"togglePhysics",value:function(f){this.via.setOptions({physics:f}),this.positionBezierNode()}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var j="edgeId:"+this.id,f=this.body.functions.createNode({id:j,shape:"circle",physics:!0,hidden:!0});this.body.nodes[j]=f,this.via=f,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=0.5*(this.from.x+this.to.x),this.via.y=0.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(f){return f.beginPath(),f.moveTo(this.from.x,this.from.y),f.quadraticCurveTo(this.via.x,this.via.y,this.to.x,this.to.y),this.enableShadow(f),f.stroke(),this.disableShadow(f),this.via}},{key:"getPoint",value:function(f){var m=f,j=Math.pow(1-m,2)*this.from.x+2*m*(1-m)*this.via.x+Math.pow(m,2)*this.to.x,k=Math.pow(1-m,2)*this.from.y+2*m*(1-m)*this.via.y+Math.pow(m,2)*this.to.y;return{x:j,y:k}}},{key:"_findBorderPosition",value:function(j,f){return this._findBorderPositionBezier(j,f,this.via)}},{key:"_getDistanceToEdge",value:function(j,q,k,p,f,m){return this._getDistanceToBezierEdge(j,q,k,p,f,m,this.via)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(85),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"_findBorderPositionBezier",value:function(q,S){var V,m,k,p,Q,x=void 0===arguments[2]?this._getViaCoordinates():arguments[2],U=10,R=0,f=0,u=1,P=0.2,v=this.to,T=!1;for(q.id===this.from.id&&(v=this.from,T=!0);u>=f&&U>R;){var j=0.5*(f+u);if(V=this.getPoint(j,x),m=Math.atan2(v.y-V.y,v.x-V.x),k=v.distanceToBorder(S,m),p=Math.sqrt(Math.pow(V.x-v.x,2)+Math.pow(V.y-v.y,2)),Q=k-p,Math.abs(Q)<P){break}0>Q?T===!1?f=j:u=j:T===!1?u=j:f=j,R++}return V.t=j,V}},{key:"_getDistanceToBezierEdge",value:function(q,U,X,m,k,p,S){var Q=void 0,W=void 0;Q=S.x,W=S.y;var T=1000000000,f=void 0,u=void 0,R=void 0,x=void 0,V=void 0,j=q,v=U;for(u=1;10>u;u++){R=0.1*u,x=Math.pow(1-R,2)*q+2*R*(1-R)*Q+Math.pow(R,2)*X,V=Math.pow(1-R,2)*U+2*R*(1-R)*W+Math.pow(R,2)*m,u>0&&(f=this._getDistanceToLine(j,v,x,V,k,p),T=T>f?f:T),j=x,v=V}return T}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(q,n,r){function m(h,k){if(Array.isArray(h)){return h}if(Symbol.iterator in Object(h)){var s=[],c=!0,b=!1,d=void 0;try{for(var f,j=h[Symbol.iterator]();!(c=(f=j.next()).done)&&(s.push(f.value),!k||s.length!==k);c=!0){}}catch(l){b=!0,d=l}finally{try{!c&&j["return"]&&j["return"]()}finally{if(b){throw d}}}return s}throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function b(h,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(h,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),o=r(1),a=function(){function b(f,c,d){i(this,b),this.body=c,this.labelModule=d,this.setOptions(f),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5}return p(b,[{key:"connect",value:function(){}},{key:"cleanup",value:function(){return !1}},{key:"setOptions",value:function(c){this.options=c,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"togglePhysics",value:function(c){}},{key:"drawLine",value:function(h,f,c){h.strokeStyle=this.getColor(h,f,c),h.lineWidth=this.getLineWidth(f,c);var d=void 0;return d=this.options.dashes!==!1?this._drawDashedLine(h):this._drawLine(h)}},{key:"_drawLine",value:function(k){var f=void 0;if(this.from!=this.to){f=this._line(k)}else{var l=this._getCircleData(k),d=m(l,3),j=d[0],h=d[1],c=d[2];this._circle(k,j,h,c)}return f}},{key:"_drawDashedLine",value:function(k){var t=void 0;k.lineCap="round";var c=[5,5];if(Array.isArray(this.options.dashes)===!0&&(c=this.options.dashes),void 0!==k.setLineDash){if(k.save(),k.setLineDash(c),k.lineDashOffset=0,this.from!=this.to){t=this._line(k)}else{var f=this._getCircleData(k),h=m(f,3),j=h[0],l=h[1],B=h[2];this._circle(k,j,l,B)}k.setLineDash([0]),k.lineDashOffset=0,k.restore()}else{if(this.from!=this.to){k.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,c)}else{var s=this._getCircleData(k),d=m(s,3),j=d[0],l=d[1],B=d[2];this._circle(k,j,l,B)}this.enableShadow(k),k.stroke(),this.disableShadow(k)}return t}},{key:"findBorderPosition",value:function(f,d,c){return this.from!=this.to?this._findBorderPosition(f,d,c):this._findBorderPositionCircle(f,d,c)}},{key:"findBorderPositions",value:function(k){var f={},l={};if(this.from!=this.to){f=this._findBorderPosition(this.from,k),l=this._findBorderPosition(this.to,k)}else{var d=this._getCircleData(k),j=m(d,3),h=j[0],c=j[1];j[2];f=this._findBorderPositionCircle(this.from,k,{x:h,y:c,low:0.25,high:0.6,direction:-1}),l=this._findBorderPositionCircle(this.from,k,{x:h,y:c,low:0.6,high:0.8,direction:1})}return{from:f,to:l}}},{key:"_getCircleData",value:function(j){var h=void 0,c=void 0,f=this.from,d=this.options.selfReferenceSize;return void 0!==j&&void 0===f.shape.width&&f.shape.resize(j),f.shape.width>f.shape.height?(h=f.x+0.5*f.shape.width,c=f.y-d):(h=f.x+d,c=f.y-0.5*f.shape.height),[h,c,d]}},{key:"_pointOnCircle",value:function(j,h,c,f){var d=2*f*Math.PI;return{x:j+c*Math.cos(d),y:h-c*Math.sin(d)}}},{key:"_findBorderPositionCircle",value:function(l,h,v){for(var S=v.x,R=v.y,k=v.low,V=v.high,c=v.direction,u=10,f=0,P=this.options.selfReferenceSize,t=void 0,d=void 0,T=void 0,j=void 0,Q=void 0,U=0.05,s=0.5*(k+V);V>=k&&u>f&&(s=0.5*(k+V),t=this._pointOnCircle(S,R,P,s),d=Math.atan2(l.y-t.y,l.x-t.x),T=l.distanceToBorder(h,d),j=Math.sqrt(Math.pow(t.x-l.x,2)+Math.pow(t.y-l.y,2)),Q=T-j,!(Math.abs(Q)<U));){Q>0?c>0?k=s:V=s:c>0?V=s:k=s,f++}return t.t=s,t}},{key:"getLineWidth",value:function(d,c){return d===!0?Math.max(this.selectionWidth,0.3/this.body.view.scale):c===!0?Math.max(this.hoverWidth,0.3/this.body.view.scale):Math.max(this.options.width,0.3/this.body.view.scale)}},{key:"getColor",value:function(k,h,l){var f=this.options.color;if(f.inherit!==!1){if("both"===f.inherit&&this.from.id!==this.to.id){var d=k.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),j=void 0,c=void 0;return j=this.from.options.color.highlight.border,c=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(j=o.overrideOpacity(this.from.options.color.border,this.options.color.opacity),c=o.overrideOpacity(this.to.options.color.border,this.options.color.opacity)):this.from.selected===!0&&this.to.selected===!1?c=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(j=this.from.options.color.border),d.addColorStop(0,j),d.addColorStop(1,c),d}this.colorDirty===!0&&("to"===f.inherit?(this.color.highlight=this.to.options.color.highlight.border,this.color.hover=this.to.options.color.hover.border,this.color.color=o.overrideOpacity(this.to.options.color.border,f.opacity)):(this.color.highlight=this.from.options.color.highlight.border,this.color.hover=this.from.options.color.hover.border,this.color.color=o.overrideOpacity(this.from.options.color.border,f.opacity)))}else{this.colorDirty===!0&&(this.color.highlight=f.highlight,this.color.hover=f.hover,this.color.color=o.overrideOpacity(f.color,f.opacity))}return this.colorDirty=!1,h===!0?this.color.highlight:l===!0?this.color.hover:this.color.color}},{key:"_circle",value:function(h,f,c,d){this.enableShadow(h),h.beginPath(),h.arc(f,c,d,0,2*Math.PI,!1),h.stroke(),this.disableShadow(h)}},{key:"getDistanceToEdge",value:function(K,f,l,L,u,j,N){var k=0;if(this.from!=this.to){k=this._getDistanceToEdge(K,f,l,L,u,j,N)}else{var c=this._getCircleData(),s=m(c,3),M=s[0],O=s[1],d=s[2],h=M-u,t=O-j;k=Math.abs(Math.sqrt(h*h+t*t)-d)}return this.labelModule.size.left<u&&this.labelModule.size.left+this.labelModule.size.width>u&&this.labelModule.size.top<j&&this.labelModule.size.top+this.labelModule.size.height>j?0:k}},{key:"_getDistanceToLine",value:function(K,h,l,I,t,u){var k=l-K,M=I-h,j=k*k+M*M,f=((t-K)*k+(u-h)*M)/j;f>1?f=1:0>f&&(f=0);var s=K+f*k,L=h+f*M,c=s-t,d=L-u;return Math.sqrt(c*c+d*d)}},{key:"drawArrowHead",value:function(Z,k,y,U,Y){Z.strokeStyle=this.getColor(Z,U,Y),Z.fillStyle=Z.strokeStyle,Z.lineWidth=this.getLineWidth(U,Y);var W=void 0,d=void 0,u=void 0,j=void 0,S=void 0,t=void 0,h=void 0;if("from"===k?(j=this.from,S=this.to,t=0.1,h=this.options.arrows.from.scaleFactor):"to"===k?(j=this.to,S=this.from,t=-0.1,h=this.options.arrows.to.scaleFactor):(j=this.to,S=this.from,h=this.options.arrows.middle.scaleFactor),j!=S){if("middle"!==k){if(this.options.smooth.enabled===!0){u=this.findBorderPosition(j,Z,{via:y});var V=this.getPoint(Math.max(0,Math.min(1,u.t+t)),y);W=Math.atan2(u.y-V.y,u.x-V.x)}else{W=Math.atan2(j.y-S.y,j.x-S.x),u=this.findBorderPosition(j,Z)}}else{W=Math.atan2(j.y-S.y,j.x-S.x),u=this.getPoint(0.6,y)}d=(10+5*this.options.width)*h,Z.arrow(u.x,u.y,W,d),this.enableShadow(Z),Z.fill(),this.disableShadow(Z),Z.stroke()}else{var l=void 0,T=void 0,v=this._getCircleData(Z),s=m(v,3),aa=s[0],f=s[1],X=s[2];"from"===k?(T=this.findBorderPosition(this.from,Z,{x:aa,y:f,low:0.25,high:0.6,direction:-1}),l=-2*T.t*Math.PI+1.5*Math.PI+0.1*Math.PI):"to"===k?(T=this.findBorderPosition(this.from,Z,{x:aa,y:f,low:0.6,high:1,direction:1}),l=-2*T.t*Math.PI+1.5*Math.PI-1.1*Math.PI):(T=this._pointOnCircle(aa,f,X,0.175),l=3.9269908169872414);var c=(10+5*this.options.width)*h;Z.arrow(T.x,T.y,l,c),this.enableShadow(Z),Z.fill(),this.disableShadow(Z),Z.stroke()}}},{key:"enableShadow",value:function(c){this.options.shadow.enabled===!0&&(c.shadowColor="rgba(0,0,0,0.5)",c.shadowBlur=this.options.shadow.size,c.shadowOffsetX=this.options.shadow.x,c.shadowOffsetY=this.options.shadow.y)}},{key:"disableShadow",value:function(c){this.options.shadow.enabled===!0&&(c.shadowColor="rgba(0,0,0,0)",c.shadowBlur=0,c.shadowOffsetX=0,c.shadowOffsetY=0)}}]),b}();n["default"]=a,q.exports=n["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(84),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"_line",value:function(f){f.beginPath(),f.moveTo(this.from.x,this.from.y);var k=this._getViaCoordinates(),j=k;return void 0===k.x?(f.lineTo(this.to.x,this.to.y),j=void 0):f.quadraticCurveTo(k.x,k.y,this.to.x,this.to.y),this.enableShadow(f),f.stroke(),this.disableShadow(f),j}},{key:"_getViaCoordinates",value:function(){var x=void 0,j=void 0,m=this.options.smooth.roundness,u=this.options.smooth.type,q=Math.abs(this.from.x-this.to.x),v=Math.abs(this.from.y-this.to.y);if("discrete"===u||"diagonalCross"===u){Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(this.from.y>this.to.y?this.from.x<this.to.x?(x=this.from.x+m*v,j=this.from.y-m*v):this.from.x>this.to.x&&(x=this.from.x-m*v,j=this.from.y-m*v):this.from.y<this.to.y&&(this.from.x<this.to.x?(x=this.from.x+m*v,j=this.from.y+m*v):this.from.x>this.to.x&&(x=this.from.x-m*v,j=this.from.y+m*v)),"discrete"===u&&(x=m*v>q?this.from.x:x)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(x=this.from.x+m*q,j=this.from.y-m*q):this.from.x>this.to.x&&(x=this.from.x-m*q,j=this.from.y-m*q):this.from.y<this.to.y&&(this.from.x<this.to.x?(x=this.from.x+m*q,j=this.from.y+m*q):this.from.x>this.to.x&&(x=this.from.x-m*q,j=this.from.y+m*q)),"discrete"===u&&(j=m*q>v?this.from.y:j))}else{if("straightCross"===u){Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?(x=this.from.x,j=this.from.y<this.to.y?this.to.y-(1-m)*v:this.to.y+(1-m)*v):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(x=this.from.x<this.to.x?this.to.x-(1-m)*q:this.to.x+(1-m)*q,j=this.from.y)}else{if("horizontal"===u){x=this.from.x<this.to.x?this.to.x-(1-m)*q:this.to.x+(1-m)*q,j=this.from.y}else{if("vertical"===u){x=this.from.x,j=this.from.y<this.to.y?this.to.y-(1-m)*v:this.to.y+(1-m)*v}else{if("curvedCW"===u){q=this.to.x-this.from.x,v=this.from.y-this.to.y;var p=Math.sqrt(q*q+v*v),H=Math.PI,k=Math.atan2(v,q),f=(k+(0.5*m+0.5)*H)%(2*H);x=this.from.x+(0.5*m+0.5)*p*Math.sin(f),j=this.from.y+(0.5*m+0.5)*p*Math.cos(f)}else{if("curvedCCW"===u){q=this.to.x-this.from.x,v=this.from.y-this.to.y;var p=Math.sqrt(q*q+v*v),H=Math.PI,k=Math.atan2(v,q),f=(k+(0.5*-m+0.5)*H)%(2*H);x=this.from.x+(0.5*m+0.5)*p*Math.sin(f),j=this.from.y+(0.5*m+0.5)*p*Math.cos(f)}else{Math.abs(this.from.x-this.to.x)<Math.abs(this.from.y-this.to.y)?this.from.y>this.to.y?this.from.x<this.to.x?(x=this.from.x+m*v,j=this.from.y-m*v,x=this.to.x<x?this.to.x:x):this.from.x>this.to.x&&(x=this.from.x-m*v,j=this.from.y-m*v,x=this.to.x>x?this.to.x:x):this.from.y<this.to.y&&(this.from.x<this.to.x?(x=this.from.x+m*v,j=this.from.y+m*v,x=this.to.x<x?this.to.x:x):this.from.x>this.to.x&&(x=this.from.x-m*v,j=this.from.y+m*v,x=this.to.x>x?this.to.x:x)):Math.abs(this.from.x-this.to.x)>Math.abs(this.from.y-this.to.y)&&(this.from.y>this.to.y?this.from.x<this.to.x?(x=this.from.x+m*q,j=this.from.y-m*q,j=this.to.y>j?this.to.y:j):this.from.x>this.to.x&&(x=this.from.x-m*q,j=this.from.y-m*q,j=this.to.y>j?this.to.y:j):this.from.y<this.to.y&&(this.from.x<this.to.x?(x=this.from.x+m*q,j=this.from.y+m*q,j=this.to.y<j?this.to.y:j):this.from.x>this.to.x&&(x=this.from.x-m*q,j=this.from.y+m*q,j=this.to.y<j?this.to.y:j)))}}}}}}return{x:x,y:j}}},{key:"_findBorderPosition",value:function(f,k){var j=void 0===arguments[2]?{}:arguments[2];return this._findBorderPositionBezier(f,k,j.via)}},{key:"_getDistanceToEdge",value:function(j,f,k,u,p,q){var m=void 0===arguments[6]?this._getViaCoordinates():arguments[6];return this._getDistanceToBezierEdge(j,f,k,u,p,q,m)}},{key:"getPoint",value:function(f){var m=void 0===arguments[1]?this._getViaCoordinates():arguments[1],k=f,j=Math.pow(1-k,2)*this.from.x+2*k*(1-k)*m.x+Math.pow(k,2)*this.to.x,p=Math.pow(1-k,2)*this.from.y+2*k*(1-k)*m.y+Math.pow(k,2)*this.to.y;return{x:j,y:p}}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(85),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"_line",value:function(f){return f.beginPath(),f.moveTo(this.from.x,this.from.y),f.lineTo(this.to.x,this.to.y),this.enableShadow(f),f.stroke(),void this.disableShadow(f)}},{key:"getPoint",value:function(f){return{x:(1-f)*this.from.x+f*this.to.x,y:(1-f)*this.from.y+f*this.to.y}}},{key:"_findBorderPosition",value:function(v,L){var j=this.to,p=this.from;v.id===this.from.id&&(j=this.from,p=this.to);var m=Math.atan2(j.y-p.y,j.x-p.x),u=j.x-p.x,q=j.y-p.y,x=Math.sqrt(u*u+q*q),f=v.distanceToBorder(L,m),K=(x-f)/x,k={};return k.x=(1-K)*p.x+K*j.x,k.y=(1-K)*p.y+K*j.y,k}},{key:"_getDistanceToEdge",value:function(j,q,k,p,f,m){return this._getDistanceToLine(j,q,k,p,f,m)}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(y,h,m){function t(j){return j&&j.__esModule?j:{"default":j}}function s(q,j){if(!(q instanceof j)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(h,"__esModule",{value:!0});var x=function(){function j(B,A){for(var q=0;q<A.length;q++){var z=A[q];z.enumerable=z.enumerable||!1,z.configurable=!0,"value" in z&&(z.writable=!0),Object.defineProperty(B,z.key,z)}}return function(A,q,z){return q&&j(A.prototype,q),z&&j(A,z),A}}(),v=m(89),b=t(v),l=m(90),f=t(l),p=m(91),X=t(p),d=m(92),u=t(d),i=m(93),r=t(i),Y=m(94),k=t(Y),Z=m(95),c=t(Z),o=m(96),a=t(o),W=m(1),n=function(){function j(q){s(this,j),this.body=q,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1000/60,this.requiresTimeout=!0,this.previousStates={},this.freezeCache={},this.renderTimer=void 0,this.initialStabilizationEmitted=!1,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:0.5,gravitationalConstant:-2000,centralGravity:0.3,springLength:95,springConstant:0.04,damping:0.09,avoidOverlap:0},forceAtlas2Based:{theta:0.5,gravitationalConstant:-50,centralGravity:0.01,springConstant:0.08,springLength:100,damping:0.4,avoidOverlap:0},repulsion:{centralGravity:0.2,springLength:200,springConstant:0.05,nodeDistance:100,damping:0.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:0.01,nodeDistance:120,damping:0.09},maxVelocity:50,minVelocity:0.1,solver:"barnesHut",stabilization:{enabled:!0,iterations:1000,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:0.5},W.extend(this.options,this.defaultOptions),this.bindEventListeners()}return x(j,[{key:"bindEventListeners",value:function(){var q=this;this.body.emitter.on("initPhysics",function(){q.initPhysics()}),this.body.emitter.on("resetPhysics",function(){q.stopSimulation(),q.ready=!1}),this.body.emitter.on("disablePhysics",function(){q.physicsEnabled=!1,q.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){q.setOptions(q.options),q.ready===!0&&q.startSimulation()}),this.body.emitter.on("startSimulation",function(){q.ready===!0&&q.startSimulation()}),this.body.emitter.on("stopSimulation",function(){q.stopSimulation()}),this.body.emitter.on("destroy",function(){q.stopSimulation(!1),q.body.emitter.off()})}},{key:"setOptions",value:function(q){void 0!==q&&(q===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):(this.physicsEnabled=!0,W.selectiveNotDeepExtend(["stabilization"],this.options,q),W.mergeOptions(this.options,q,"stabilization"),void 0===q.enabled&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()))),this.init()}},{key:"init",value:function(){var q;"forceAtlas2Based"===this.options.solver?(q=this.options.forceAtlas2Based,this.nodesSolver=new c["default"](this.body,this.physicsBody,q),this.edgesSolver=new u["default"](this.body,this.physicsBody,q),this.gravitySolver=new a["default"](this.body,this.physicsBody,q)):"repulsion"===this.options.solver?(q=this.options.repulsion,this.nodesSolver=new f["default"](this.body,this.physicsBody,q),this.edgesSolver=new u["default"](this.body,this.physicsBody,q),this.gravitySolver=new k["default"](this.body,this.physicsBody,q)):"hierarchicalRepulsion"===this.options.solver?(q=this.options.hierarchicalRepulsion,this.nodesSolver=new X["default"](this.body,this.physicsBody,q),this.edgesSolver=new r["default"](this.body,this.physicsBody,q),this.gravitySolver=new k["default"](this.body,this.physicsBody,q)):(q=this.options.barnesHut,this.nodesSolver=new b["default"](this.body,this.physicsBody,q),this.edgesSolver=new u["default"](this.body,this.physicsBody,q),this.gravitySolver=new k["default"](this.body,this.physicsBody,q)),this.modelOptions=q}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},!0),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var q=void 0===arguments[0]?!0:arguments[0];this.stabilized=!0,q===!0&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,q===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var q=Date.now();this.physicsTick();var z=Date.now()-q;(z<0.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&(this.stabilizationIterations>1&&(this.startedStabilization=!1),this.stopSimulation())}},{key:"_emitStabilized",value:function(){var q=this;(this.stabilizationIterations>1||this.initialStabilizationEmitted===!1)&&(this.initialStabilizationEmitted=!0,setTimeout(function(){q.body.emitter.emit("stabilized",{iterations:q.stabilizationIterations}),q.stabilizationIterations=0},0))}},{key:"physicsTick",value:function(){this.stabilized===!1&&(this.calculateForces(),this.stabilized=this.moveNodes(),this.stabilized===!0?this.revert():this.startedStabilization===!1&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var C=this.body.nodes,B=this.body.edges;for(var q in C){C.hasOwnProperty(q)&&C[q].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(q)}for(var A in B){B.hasOwnProperty(A)&&B[A].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(A)}for(var z=0;z<this.physicsBody.physicsNodeIndices.length;z++){var q=this.physicsBody.physicsNodeIndices[z];this.physicsBody.forces[q]={x:0,y:0},void 0===this.physicsBody.velocities[q]&&(this.physicsBody.velocities[q]={x:0,y:0})}for(var q in this.physicsBody.velocities){void 0===C[q]&&delete this.physicsBody.velocities[q]}}},{key:"revert",value:function(){for(var C=Object.keys(this.previousStates),B=this.body.nodes,q=this.physicsBody.velocities,A=0;A<C.length;A++){var z=C[A];void 0!==B[z]?B[z].options.physics===!0&&(q[z].x=this.previousStates[z].vx,q[z].y=this.previousStates[z].vy,B[z].x=this.previousStates[z].x,B[z].y=this.previousStates[z].y):delete this.previousStates[z]}}},{key:"moveNodes",value:function(){for(var E=!1,B=this.physicsBody.physicsNodeIndices,F=this.options.maxVelocity?this.options.maxVelocity:1000000000,A=!0,z=this.options.minVelocity/Math.max(this.body.view.scale,0.05),D=0;D<B.length;D++){var C=B[D],q=this._performStep(C,F);A=z>q&&A===!0,E=!0}return E===!0?z>0.5*this.options.maxVelocity?!1:A:!0}},{key:"_performStep",value:function(E,I){var A=this.body.nodes[E],D=this.options.timestep,C=this.physicsBody.forces,z=this.physicsBody.velocities;if(this.previousStates[E]={x:A.x,y:A.y,vx:z[E].x,vy:z[E].y},A.options.fixed.x===!1){var F=this.modelOptions.damping*z[E].x,G=(C[E].x-F)/A.options.mass;z[E].x+=G*D,z[E].x=Math.abs(z[E].x)>I?z[E].x>0?I:-I:z[E].x,A.x+=z[E].x*D}else{C[E].x=0,z[E].x=0}if(A.options.fixed.y===!1){var q=this.modelOptions.damping*z[E].y,H=(C[E].y-q)/A.options.mass;z[E].y+=H*D,z[E].y=Math.abs(z[E].y)>I?z[E].y>0?I:-I:z[E].y,A.y+=z[E].y*D}else{C[E].y=0,z[E].y=0}var B=Math.sqrt(Math.pow(z[E].x,2)+Math.pow(z[E].y,2));return B}},{key:"calculateForces",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve()}},{key:"_freezeNodes",value:function(){var q=this.body.nodes;for(var z in q){q.hasOwnProperty(z)&&q[z].x&&q[z].y&&(this.freezeCache[z]={x:q[z].options.fixed.x,y:q[z].options.fixed.y},q[z].options.fixed.x=!0,q[z].options.fixed.y=!0)}}},{key:"_restoreFrozenNodes",value:function(){var q=this.body.nodes;for(var z in q){q.hasOwnProperty(z)&&void 0!==this.freezeCache[z]&&(q[z].options.fixed.x=this.freezeCache[z].x,q[z].options.fixed.y=this.freezeCache[z].y)}this.freezeCache={}}},{key:"stabilize",value:function(){var q=this,z=void 0===arguments[0]?this.options.stabilization.iterations:arguments[0];"number"!=typeof z&&(console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",this.options.stabilization.iterations),z=this.options.stabilization.iterations),this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedrawRequests"),this.targetIterations=z,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return q._stabilizationBatch()},0)}},{key:"_stabilizationBatch",value:function(){for(var q=0;this.stabilized===!1&&q<this.options.stabilization.updateInterval&&this.stabilizationIterations<this.targetIterations;){this.physicsTick(),this.stabilizationIterations++,q++}this.stabilized===!1&&this.stabilizationIterations<this.targetIterations?(this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations}),setTimeout(this._stabilizationBatch.bind(this),0)):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedrawRequests"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}}]),j}();h["default"]=n,y.exports=h["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=c,this.physicsBody=d,this.barnesHutTree,this.setOptions(b),this.randomSeed=5}return k(a,[{key:"setOptions",value:function(b){this.options=b,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var b=10000*Math.sin(this.randomSeed++);return b-Math.floor(b)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var d=void 0,b=this.body.nodes,f=this.physicsBody.physicsNodeIndices,o=f.length,h=this._formBarnesHutTree(b,f);this.barnesHutTree=h;for(var c=0;o>c;c++){d=b[f[c]],d.options.mass>0&&(this._getForceContribution(h.root.children.NW,d),this._getForceContribution(h.root.children.NE,d),this._getForceContribution(h.root.children.SW,d),this._getForceContribution(h.root.children.SE,d))}}}},{key:"_getForceContribution",value:function(d,c){if(d.childrenCount>0){var f=void 0,b=void 0,h=void 0;f=d.centerOfMass.x-c.x,b=d.centerOfMass.y-c.y,h=Math.sqrt(f*f+b*b),h*d.calcSize>this.thetaInversed?this._calculateForces(h,f,b,c,d):4===d.childrenCount?(this._getForceContribution(d.children.NW,c),this._getForceContribution(d.children.NE,c),this._getForceContribution(d.children.SW,c),this._getForceContribution(d.children.SE,c)):d.children.data.id!=c.id&&this._calculateForces(h,f,b,c,d)}}},{key:"_calculateForces",value:function(c,r,f,o,d){0===c&&(c=0.1,r=c),this.overlapAvoidanceFactor<1&&(c=Math.max(0.1+this.overlapAvoidanceFactor*o.shape.radius,c-o.shape.radius));var b=this.options.gravitationalConstant*d.mass*o.options.mass/Math.pow(c,3),s=r*b,h=f*b;this.physicsBody.forces[o.id].x+=s,this.physicsBody.forces[o.id].y+=h}},{key:"_formBarnesHutTree",value:function(P,o){for(var u=void 0,Q=o.length,O=P[o[0]].x,p=P[o[0]].y,h=P[o[0]].x,b=P[o[0]].y,t=1;Q>t;t++){var d=P[o[t]].x,v=P[o[t]].y;P[o[t]].options.mass>0&&(O>d&&(O=d),d>h&&(h=d),p>v&&(p=v),v>b&&(b=v))}var R=Math.abs(h-O)-Math.abs(b-p);R>0?(p-=0.5*R,b+=0.5*R):(O+=0.5*R,h-=0.5*R);var c=0.00001,f=Math.max(c,Math.abs(h-O)),r=0.5*f,N=0.5*(O+h),S=0.5*(p+b),s={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:N-r,maxX:N+r,minY:S-r,maxY:S+r},size:f,calcSize:1/f,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(s.root);for(var t=0;Q>t;t++){u=P[o[t]],u.options.mass>0&&this._placeInTree(s.root,u)}return s}},{key:"_updateBranchMass",value:function(d,c){var f=d.mass+c.options.mass,b=1/f;d.centerOfMass.x=d.centerOfMass.x*d.mass+c.x*c.options.mass,d.centerOfMass.x*=b,d.centerOfMass.y=d.centerOfMass.y*d.mass+c.y*c.options.mass,d.centerOfMass.y*=b,d.mass=f;var h=Math.max(Math.max(c.height,c.radius),c.width);d.maxWidth=d.maxWidth<h?h:d.maxWidth}},{key:"_placeInTree",value:function(c,b,d){(1!=d||void 0===d)&&this._updateBranchMass(c,b),c.children.NW.range.maxX>b.x?c.children.NW.range.maxY>b.y?this._placeInRegion(c,b,"NW"):this._placeInRegion(c,b,"SW"):c.children.NW.range.maxY>b.y?this._placeInRegion(c,b,"NE"):this._placeInRegion(c,b,"SE")}},{key:"_placeInRegion",value:function(c,b,d){switch(c.children[d].childrenCount){case 0:c.children[d].children.data=b,c.children[d].childrenCount=1,this._updateBranchMass(c.children[d],b);break;case 1:c.children[d].children.data.x===b.x&&c.children[d].children.data.y===b.y?(b.x+=this.seededRandom(),b.y+=this.seededRandom()):(this._splitBranch(c.children[d]),this._placeInTree(c.children[d],b));break;case 4:this._placeInTree(c.children[d],b)}}},{key:"_splitBranch",value:function(c){var b=null;1===c.childrenCount&&(b=c.children.data,c.mass=0,c.centerOfMass.x=0,c.centerOfMass.y=0),c.childrenCount=4,c.children.data=null,this._insertRegion(c,"NW"),this._insertRegion(c,"NE"),this._insertRegion(c,"SW"),this._insertRegion(c,"SE"),null!=b&&this._placeInTree(c,b)}},{key:"_insertRegion",value:function(d,r){var h=void 0,o=void 0,f=void 0,c=void 0,b=0.5*d.size;switch(r){case"NW":h=d.range.minX,o=d.range.minX+b,f=d.range.minY,c=d.range.minY+b;break;case"NE":h=d.range.minX+b,o=d.range.maxX,f=d.range.minY,c=d.range.minY+b;break;case"SW":h=d.range.minX,o=d.range.minX+b,f=d.range.minY+b,c=d.range.maxY;break;case"SE":h=d.range.minX+b,o=d.range.maxX,f=d.range.minY+b,c=d.range.maxY}d.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:h,maxX:o,minY:f,maxY:c},size:0.5*d.size,calcSize:2*d.calcSize,children:{data:null},maxWidth:0,level:d.level+1,childrenCount:0}}},{key:"_debug",value:function(c,b){void 0!==this.barnesHutTree&&(c.lineWidth=1,this._drawBranch(this.barnesHutTree.root,c,b))}},{key:"_drawBranch",value:function(c,b,d){void 0===d&&(d="#FF0000"),4===c.childrenCount&&(this._drawBranch(c.children.NW,b),this._drawBranch(c.children.NE,b),this._drawBranch(c.children.SE,b),this._drawBranch(c.children.SW,b)),b.strokeStyle=d,b.beginPath(),b.moveTo(c.range.minX,c.range.minY),b.lineTo(c.range.maxX,c.range.minY),b.stroke(),b.beginPath(),b.moveTo(c.range.maxX,c.range.minY),b.lineTo(c.range.maxX,c.range.maxY),b.stroke(),b.beginPath(),b.moveTo(c.range.maxX,c.range.maxY),b.lineTo(c.range.minX,c.range.maxY),b.stroke(),b.beginPath(),b.moveTo(c.range.minX,c.range.maxY),b.lineTo(c.range.minX,c.range.minY),b.stroke()}}]),a}();m["default"]=n,i.exports=m["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=c,this.physicsBody=d,this.setOptions(b)}return k(a,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var K,c,r,d,L,u,p,N,h=this.body.nodes,b=this.physicsBody.physicsNodeIndices,s=this.physicsBody.forces,M=this.options.nodeDistance,O=-2/3/M,o=4/3,f=0;f<b.length-1;f++){p=h[b[f]];for(var t=f+1;t<b.length;t++){N=h[b[t]],K=N.x-p.x,c=N.y-p.y,r=Math.sqrt(K*K+c*c),0===r&&(r=0.1*Math.random(),K=r),2*M>r&&(u=0.5*M>r?1:O*r+o,u/=r,d=K*u,L=c*u,s[p.id].x-=d,s[p.id].y-=L,s[N.id].x+=d,s[N.id].y+=L)}}}}]),a}();m["default"]=n,i.exports=m["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=c,this.physicsBody=d,this.setOptions(b)}return k(a,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){var K,h,u,o,d,I,r,b,t,f,H=this.body.nodes,L=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,p=this.options.nodeDistance;for(t=0;t<L.length-1;t++){for(r=H[L[t]],f=t+1;f<L.length;f++){if(b=H[L[f]],r.level===b.level){K=b.x-r.x,h=b.y-r.y,u=Math.sqrt(K*K+h*h);var s=0.05;I=p>u?-Math.pow(s*u,2)+Math.pow(s*p,2):0,0===u?u=0.01:I/=u,o=K*I,d=h*I,c[r.id].x-=o,c[r.id].y-=d,c[b.id].x+=o,c[b.id].y+=d}}}}}]),a}();m["default"]=n,i.exports=m["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=c,this.physicsBody=d,this.setOptions(b)}return k(a,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var c=void 0,r=void 0,f=this.physicsBody.physicsEdgeIndices,o=this.body.edges,d=void 0,b=void 0,s=void 0,h=0;h<f.length;h++){r=o[f[h]],r.connected===!0&&r.toId!==r.fromId&&void 0!==this.body.nodes[r.toId]&&void 0!==this.body.nodes[r.fromId]&&(void 0!==r.edgeType.via?(c=void 0===r.options.length?this.options.springLength:r.options.length,d=r.to,b=r.edgeType.via,s=r.from,this._calculateSpringForce(d,b,0.5*c),this._calculateSpringForce(b,s,0.5*c)):(c=void 0===r.options.length?1.5*this.options.springLength:r.options.length,this._calculateSpringForce(r.from,r.to,c)))}}},{key:"_calculateSpringForce",value:function(s,b,d){var h=s.x-b.x,f=s.y-b.y,r=Math.max(Math.sqrt(h*h+f*f),0.01),o=this.options.springConstant*(d-r)/r,t=h*o,c=f*o;void 0!==this.physicsBody.forces[s.id]&&(this.physicsBody.forces[s.id].x+=t,this.physicsBody.forces[s.id].y+=c),void 0!==this.physicsBody.forces[b.id]&&(this.physicsBody.forces[b.id].x-=t,this.physicsBody.forces[b.id].y-=c)}}]),a}();m["default"]=n,i.exports=m["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=c,this.physicsBody=d,this.setOptions(b)}return k(a,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var r,h,u,S,R,W,U,b,s=this.body.edges,f=0.5,v=this.physicsBody.physicsEdgeIndices,t=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,T=0;T<t.length;T++){var o=t[T];d[o].springFx=0,d[o].springFy=0}for(var T=0;T<v.length;T++){h=s[v[T]],h.connected===!0&&(r=void 0===h.options.length?this.options.springLength:h.options.length,u=h.from.x-h.to.x,S=h.from.y-h.to.y,b=Math.sqrt(u*u+S*S),b=0===b?0.01:b,U=this.options.springConstant*(r-b)/b,R=u*U,W=S*U,h.to.level!=h.from.level?(void 0!==d[h.toId]&&(d[h.toId].springFx-=R,d[h.toId].springFy-=W),void 0!==d[h.fromId]&&(d[h.fromId].springFx+=R,d[h.fromId].springFy+=W)):(void 0!==d[h.toId]&&(d[h.toId].x-=f*R,d[h.toId].y-=f*W),void 0!==d[h.fromId]&&(d[h.fromId].x+=f*R,d[h.fromId].y+=f*W)))}for(var y,V,U=1,T=0;T<t.length;T++){var o=t[T];y=Math.min(U,Math.max(-U,d[o].springFx)),V=Math.min(U,Math.max(-U,d[o].springFy)),d[o].x+=y,d[o].y+=V}for(var p=0,Y=0,T=0;T<t.length;T++){var o=t[T];p+=d[o].x,Y+=d[o].y}for(var c=p/t.length,X=Y/t.length,T=0;T<t.length;T++){var o=t[T];d[o].x-=c,d[o].y-=X}}}]),a}();m["default"]=n,i.exports=m["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(c,d,b){l(this,a),this.body=c,this.physicsBody=d,this.setOptions(b)}return k(a,[{key:"setOptions",value:function(b){this.options=b}},{key:"solve",value:function(){for(var s=void 0,b=void 0,d=void 0,h=void 0,f=this.body.nodes,r=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces,t=0;t<r.length;t++){var c=r[t];h=f[c],s=-h.x,b=-h.y,d=Math.sqrt(s*s+b*b),this._calculateForces(d,s,b,o,h)}}},{key:"_calculateForces",value:function(d,b,f,o,h){var c=0===d?0:this.options.centralGravity/d;o[h.id].x=b*c,o[h.id].y=f*c}}]),a}();m["default"]=n,i.exports=m["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(89),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"_calculateForces",value:function(x,j,m,u,q){0===x&&(x=0.1*Math.random(),j=x),this.overlapAvoidanceFactor<1&&(x=Math.max(0.1+this.overlapAvoidanceFactor*u.shape.radius,x-u.shape.radius));var v=u.edges.length+1,p=this.options.gravitationalConstant*q.mass*u.options.mass*v/Math.pow(x,2),f=j*p,k=m*p;this.physicsBody.forces[u.id].x+=f,this.physicsBody.forces[u.id].y+=k}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(t,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function s(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),y=function(u,c,j){for(var p=!0;p;){var m=u,q=c,k=j;v=b=f=void 0,p=!1;var v=Object.getOwnPropertyDescriptor(m,q);if(void 0!==v){if("value" in v){return v.value}var f=v.get;return void 0===f?void 0:f.call(k)}var b=Object.getPrototypeOf(m);if(null===b){return void 0}u=b,c=q,j=k,p=!0}},h=i(94),a=o(h),l=function(b){function c(f,j,k){n(this,c),y(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,f,j,k)}return s(c,b),r(c,[{key:"_calculateForces",value:function(j,f,k,u,p){if(j>0){var q=p.edges.length+1,m=this.options.centralGravity*q*p.options.mass;u[p.id].x=f*m,u[p.id].y=k*m}}}]),c}(a["default"]);d["default"]=l,t.exports=d["default"]},function(a,i,o){function s(b){return b&&b.__esModule?b:{"default":b}}function r(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(i,"__esModule",{value:!0});var v=function(){function b(c,k){for(var j=0;j<k.length;j++){var f=k[j];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,f,j){return f&&b(c.prototype,f),j&&b(c,j),c}}(),t=o(98),d=s(t),n=o(1),h=function(){function b(c){var f=this;r(this,b),this.body=c,this.clusteredNodes={},this.options={},this.defaultOptions={},n.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){f.clusteredNodes={}})}return v(b,[{key:"setOptions",value:function(c){}},{key:"clusterByHubsize",value:function(j,k){void 0===j?j=this._getHubSize():"object"==typeof j&&(k=this._checkOptions(j),j=this._getHubSize());for(var l=[],f=0;f<this.body.nodeIndices.length;f++){var c=this.body.nodes[this.body.nodeIndices[f]];c.edges.length>=j&&l.push(c.id)}for(var f=0;f<l.length;f++){this.clusterByConnection(l[f],k,!1)}this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var G=void 0===arguments[0]?{}:arguments[0],j=void 0===arguments[1]?!0:arguments[1];if(void 0===G.joinCondition){throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.")}G=this._checkOptions(G);for(var l={},p={},m=0;m<this.body.nodeIndices.length;m++){var u=this.body.nodeIndices[m],q=this.body.nodes[u],c=this._cloneOptions(q);if(G.joinCondition(c)===!0){l[u]=this.body.nodes[u];for(var k=0;k<q.edges.length;k++){var f=q.edges[k];p[f.id]=f}}}this._cluster(l,p,G,j)}},{key:"clusterOutliers",value:function(I){var f=void 0===arguments[1]?!0:arguments[1];I=this._checkOptions(I);for(var k=[],p=0;p<this.body.nodeIndices.length;p++){for(var m={},q={},u=this.body.nodeIndices[p],L=0,j=void 0,c=0;c<this.body.nodes[u].edges.length;c++){this.body.nodes[u].edges[c].options.hidden===!1&&(L++,j=this.body.nodes[u].edges[c])}if(1===L){var l=this._getConnectedId(j,u);if(l!==u){if(void 0===I.joinCondition){this._checkIfUsed(k,u,j.id)===!1&&this._checkIfUsed(k,l,j.id)===!1&&(q[j.id]=j,m[u]=this.body.nodes[u],m[l]=this.body.nodes[l])}else{var K=this._cloneOptions(this.body.nodes[u]);I.joinCondition(K)===!0&&this._checkIfUsed(k,u,j.id)===!1&&(q[j.id]=j,m[u]=this.body.nodes[u]),K=this._cloneOptions(this.body.nodes[l]),I.joinCondition(K)===!0&&this._checkIfUsed(k,u,j.id)===!1&&(q[j.id]=j,m[l]=this.body.nodes[l])}Object.keys(m).length>0&&Object.keys(q).length>0&&k.push({nodes:m,edges:q})}}}for(var p=0;p<k.length;p++){this._cluster(k[p].nodes,k[p].edges,I,!1)}f===!0&&this.body.emitter.emit("_dataChanged")}},{key:"_checkIfUsed",value:function(j,k,l){for(var f=0;f<j.length;f++){var c=j[f];if(void 0!==c.nodes[k]||void 0!==c.edges[l]){return !0}}return !1}},{key:"clusterByConnection",value:function(I,f){var k=void 0===arguments[2]?!0:arguments[2];if(void 0===I){throw new Error("No nodeId supplied to clusterByConnection!")}if(void 0===this.body.nodes[I]){throw new Error("The nodeId given to clusterByConnection does not exist!")}var p=this.body.nodes[I];f=this._checkOptions(f,p),void 0===f.clusterNodeProperties.x&&(f.clusterNodeProperties.x=p.x),void 0===f.clusterNodeProperties.y&&(f.clusterNodeProperties.y=p.y),void 0===f.clusterNodeProperties.fixed&&(f.clusterNodeProperties.fixed={},f.clusterNodeProperties.fixed.x=p.options.fixed.x,f.clusterNodeProperties.fixed.y=p.options.fixed.y);var m={},q={},u=p.id,L=this._cloneOptions(p);m[u]=p;for(var j=0;j<p.edges.length;j++){var c=p.edges[j],l=this._getConnectedId(c,u);if(l!==u){if(void 0===f.joinCondition){q[c.id]=c,m[l]=this.body.nodes[l]}else{var K=this._cloneOptions(this.body.nodes[l]);f.joinCondition(L,K)===!0&&(q[c.id]=c,m[l]=this.body.nodes[l])}}else{q[c.id]=c}}this._cluster(m,q,f,k)}},{key:"_cloneOptions",value:function(c,j){var f={};return void 0===j||"node"===j?(n.deepExtend(f,c.options,!0),f.x=c.x,f.y=c.y,f.amountOfConnections=c.edges.length):n.deepExtend(f,c.options,!0),f}},{key:"_createClusterEdges",value:function(L,c,j,u,p){for(var q=void 0,l=void 0,O=void 0,Q=void 0,k=void 0,N=void 0,P=Object.keys(L),M=0;M<P.length;M++){l=P[M],O=L[l];for(var f=0;f<O.edges.length;f++){if(q=O.edges[f],c[q.id]=q,q.toId==l?(Q=u.id,k=q.fromId,N=k):(Q=q.toId,k=u.id,N=Q),void 0===L[N]){var m=this._cloneOptions(q,"edge");n.deepExtend(m,p),m.from=k,m.to=Q,m.id="clusterEdge:"+n.randomUUID(),j.push(this.body.functions.createEdge(m))}}}}},{key:"_checkOptions",value:function(){var c=void 0===arguments[0]?{}:arguments[0];return void 0===c.clusterEdgeProperties&&(c.clusterEdgeProperties={}),void 0===c.clusterNodeProperties&&(c.clusterNodeProperties={}),c}},{key:"_cluster",value:function(q,S,f){var N=void 0===arguments[3]?!0:arguments[3];if(0!==Object.keys(q).length){var p=n.deepExtend({},f.clusterNodeProperties);if(void 0!==f.processProperties){var m=[];for(var l in q){var R=this._cloneOptions(q[l]);m.push(R)}var j=[];for(var u in S){var R=this._cloneOptions(S[u],"edge");j.push(R)}if(p=f.processProperties(p,m,j),!p){throw new Error("The processProperties function does not return properties!")}}void 0===p.id&&(p.id="cluster:"+n.randomUUID());var Q=p.id;void 0===p.label&&(p.label="cluster");var O=void 0;void 0===p.x&&(O=this._getClusterPosition(q),p.x=O.x),void 0===p.y&&(void 0===O&&(O=this._getClusterPosition(q)),p.y=O.y),p.id=Q;var T=this.body.functions.createNode(p,d["default"]);T.isCluster=!0,T.containedNodes=q,T.containedEdges=S,T.clusterEdgeProperties=f.clusterEdgeProperties,this.body.nodes[p.id]=T;var k=[];this._createClusterEdges(q,S,k,p,f.clusterEdgeProperties);for(var u in S){if(S.hasOwnProperty(u)&&void 0!==this.body.edges[u]){var P=this.body.edges[u];P.togglePhysics(!1),P.options.hidden=!0}}for(var l in q){q.hasOwnProperty(l)&&(this.clusteredNodes[l]={clusterId:p.id,node:this.body.nodes[l]},this.body.nodes[l].togglePhysics(!1),this.body.nodes[l].options.hidden=!0)}for(var c=0;c<k.length;c++){this.body.edges[k[c].id]=k[c],this.body.edges[k[c].id].connect()}p.id=void 0,N===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"isCluster",value:function(c){return void 0!==this.body.nodes[c]?this.body.nodes[c].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(j){for(var m=Object.keys(j),k=j[m[0]].x,f=j[m[0]].x,q=j[m[0]].y,c=j[m[0]].y,p=void 0,l=1;l<m.length;l++){p=j[m[l]],k=p.x<k?p.x:k,f=p.x>f?p.x:f,q=p.y<q?p.y:q,c=p.y>c?p.y:c}return{x:0.5*(k+f),y:0.5*(q+c)}}},{key:"openCluster",value:function(ab,m){var u=void 0===arguments[2]?!0:arguments[2];if(void 0===ab){throw new Error("No clusterNodeId supplied to openCluster.")}if(void 0===this.body.nodes[ab]){throw new Error("The clusterNodeId supplied to openCluster does not exist.")}if(void 0===this.body.nodes[ab].containedNodes){return void console.log("The node:"+ab+" is not a cluster.")}var X=this.body.nodes[ab],W=X.containedNodes,aa=X.containedEdges;if(void 0!==m&&void 0!==m.releaseFunction&&"function"==typeof m.releaseFunction){var Z={},f={x:X.x,y:X.y};for(var l in W){if(W.hasOwnProperty(l)){var x=this.body.nodes[l];Z[l]={x:x.x,y:x.y}}}var ac=m.releaseFunction(f,Z);for(var l in W){if(W.hasOwnProperty(l)){var x=this.body.nodes[l];void 0!==ac[l]&&(x.x=ac[l].x||X.x,x.y=ac[l].y||X.y)}}}else{for(var l in W){if(W.hasOwnProperty(l)){var x=this.body.nodes[l];x=W[l],x.x=X.x,x.y=X.y}}}for(var l in W){if(W.hasOwnProperty(l)){var x=this.body.nodes[l];x.vx=X.vx,x.vy=X.vy,x.options.hidden=!1,x.togglePhysics(!0),delete this.clusteredNodes[l]}}for(var k in aa){if(aa.hasOwnProperty(k)){var Y=aa[k];if(void 0===this.body.nodes[Y.fromId]||void 0===this.body.nodes[Y.toId]){Y.edgeType.cleanup(),Y.disconnect(),delete this.body.edges[k]}else{if(void 0!==this.clusteredNodes[Y.fromId]||void 0!==this.clusteredNodes[Y.toId]){var p=void 0,V=void 0,ad=this.clusteredNodes[Y.fromId]||this.clusteredNodes[Y.toId],q=ad.clusterId,af=this.body.nodes[q];if(af.containedEdges[k]=Y,void 0!==this.clusteredNodes[Y.fromId]?(p=q,V=Y.toId):(p=Y.fromId,V=q),this.body.nodes[p].options.hidden!==!0&&this.body.nodes[V].options.hidden!==!0){var j=this._cloneOptions(Y,"edge"),ae="clusterEdge:"+n.randomUUID();n.deepExtend(j,af.clusterEdgeProperties),n.deepExtend(j,{from:p,to:V,hidden:!1,physics:!0,id:ae});var c=this.body.functions.createEdge(j);this.body.edges[ae]=c,this.body.edges[ae].connect()}}else{Y.options.hidden=!1,Y.togglePhysics(!0)}}}}for(var y=0;y<X.edges.length;y++){var k=X.edges[y].id;this.body.edges[k].edgeType.cleanup(),this.body.edges[k].disconnect(),delete this.body.edges[k]}delete this.body.nodes[ab],u===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(c){var k=[];if(this.isCluster(c)===!0){var j=this.body.nodes[c].containedNodes;for(var f in j){j.hasOwnProperty(f)&&k.push(f)}}return k}},{key:"findNode",value:function(c){for(var k=[],j=100,f=0;void 0!==this.clusteredNodes[c]&&j>f;){k.push(this.clusteredNodes[c].node),c=this.clusteredNodes[c].clusterId,f++}return k.push(this.body.nodes[c]),k}},{key:"_getConnectedId",value:function(f,c){return f.toId!=c?f.toId:f.fromId!=c?f.fromId:f.fromId}},{key:"_getHubSize",value:function(){for(var f=0,k=0,p=0,u=0,q=0;q<this.body.nodeIndices.length;q++){var c=this.body.nodes[this.body.nodeIndices[q]];c.edges.length>u&&(u=c.edges.length),f+=c.edges.length,k+=Math.pow(c.edges.length,2),p+=1}f/=p,k/=p;var l=k-Math.pow(f,2),j=Math.sqrt(l),m=Math.floor(f+2*j);return m>u&&(m=u),m}}]),b}();i["default"]=h,a.exports=i["default"]},function(a,i,o){function s(b){return b&&b.__esModule?b:{"default":b}}function r(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}function v(b,c){if("function"!=typeof c&&null!==c){throw new TypeError("Super expression must either be null or a function, not "+typeof c)}b.prototype=Object.create(c&&c.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),c&&(b.__proto__=c)}Object.defineProperty(i,"__esModule",{value:!0});var t=function(u,f,k){for(var m=!0;m;){var l=u,q=f,p=k;b=c=j=void 0,m=!1;var b=Object.getOwnPropertyDescriptor(l,q);if(void 0!==b){if("value" in b){return b.value}var j=b.get;return void 0===j?void 0:j.call(p)}var c=Object.getPrototypeOf(l);if(null===c){return void 0}u=c,f=q,k=p,m=!0}},d=o(62),n=s(d),h=function(b){function c(l,m,f,j,k){r(this,c),t(Object.getPrototypeOf(c.prototype),"constructor",this).call(this,l,m,f,j,k),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}return v(c,b),c}(n["default"]);i["default"]=h,a.exports=i["default"]},function(i,n,k){function m(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function a(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}();"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame);var p=k(1),o=function(){function a(b,c){m(this,a),this.body=b,this.canvas=c,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.pixelRatio=void 0,this.allowRedrawRequests=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},p.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return l(a,[{key:"bindEventListeners",value:function(){var b=this;this.body.emitter.on("dragStart",function(){b.dragging=!0}),this.body.emitter.on("dragEnd",function(){return b.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){return b._resizeNodes()}),this.body.emitter.on("_redraw",function(){b.renderingActive===!1&&b._redraw()}),this.body.emitter.on("_blockRedrawRequests",function(){b.allowRedrawRequests=!1}),this.body.emitter.on("_allowRedrawRequests",function(){b.allowRedrawRequests=!0}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){b.renderRequests+=1,b.renderingActive=!0,b._startRendering()}),this.body.emitter.on("_stopRendering",function(){b.renderRequests-=1,b.renderingActive=b.renderRequests>0,b.renderTimer=void 0}),this.body.emitter.on("destroy",function(){b.renderRequests=0,b.renderingActive=!1,b.requiresTimeout===!0?clearTimeout(b.renderTimer):cancelAnimationFrame(b.renderTimer),b.body.emitter.off()})}},{key:"setOptions",value:function(c){if(void 0!==c){var b=["hideEdgesOnDrag","hideNodesOnDrag"];p.selectiveDeepExtend(b,this.options,c)}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&void 0===this.renderTimer&&(this.requiresTimeout===!0?this.renderTimer=window.setTimeout(this._renderStep.bind(this),this.simulationInterval):this.renderTimer=window.requestAnimationFrame(this._renderStep.bind(this)))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var b=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedrawRequests===!0&&(this.redrawRequested=!0,this.requiresTimeout===!0?window.setTimeout(function(){b._redraw(!1)},0):window.requestAnimationFrame(function(){b._redraw(!1)}))}},{key:"_redraw",value:function(){var c=void 0===arguments[0]?!1:arguments[0];this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;var b=this.canvas.frame.canvas.getContext("2d");(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(b.webkitBackingStorePixelRatio||b.mozBackingStorePixelRatio||b.msBackingStorePixelRatio||b.oBackingStorePixelRatio||b.backingStorePixelRatio||1)),b.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var d=this.canvas.frame.canvas.clientWidth,f=this.canvas.frame.canvas.clientHeight;b.clearRect(0,0,d,f),b.save(),b.translate(this.body.view.translation.x,this.body.view.translation.y),b.scale(this.body.view.scale,this.body.view.scale),b.beginPath(),this.body.emitter.emit("beforeDrawing",b),b.closePath(),c===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&this._drawEdges(b),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(b,c),this.controlNodesActive===!0&&this._drawControlNodes(b),b.beginPath(),this.body.emitter.emit("afterDrawing",b),b.closePath(),b.restore(),c===!0&&b.clearRect(0,0,d,f)}},{key:"_resizeNodes",value:function(){var c=this.canvas.frame.canvas.getContext("2d");void 0===this.pixelRatio&&(this.pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1)),c.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),c.save(),c.translate(this.body.view.translation.x,this.body.view.translation.y),c.scale(this.body.view.scale,this.body.view.scale);var b=this.body.nodes,d=void 0;for(var f in b){b.hasOwnProperty(f)&&(d=b[f],d.resize(c),d.updateBoundingBox(c))}c.restore()}},{key:"_drawNodes",value:function(f){for(var t=void 0===arguments[1]?!1:arguments[1],D=this.body.nodes,h=this.body.nodeIndices,d=void 0,c=[],j=20,r=this.canvas.DOMtoCanvas({x:-j,y:-j}),C=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+j,y:this.canvas.frame.canvas.clientHeight+j}),s={top:r.y,left:r.x,bottom:C.y,right:C.x},b=0;b<h.length;b++){d=D[h[b]],d.isSelected()?c.push(h[b]):t===!0?d.draw(f):d.isBoundingBoxOverlappingWith(s)===!0?d.draw(f):d.updateBoundingBox(f)}for(var b=0;b<c.length;b++){d=D[c[b]],d.draw(f)}}},{key:"_drawEdges",value:function(c){for(var b=this.body.edges,d=this.body.edgeIndices,h=void 0,f=0;f<d.length;f++){h=b[d[f]],h.connected===!0&&h.draw(c)}}},{key:"_drawControlNodes",value:function(c){for(var b=this.body.edges,d=this.body.edgeIndices,h=void 0,f=0;f<d.length;f++){h=b[d[f]],h._drawControlNodes(c)}}},{key:"_determineBrowserMethod",value:function(){if("undefined"!=typeof window){var b=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,-1!=b.indexOf("msie 9.0")?this.requiresTimeout=!0:-1!=b.indexOf("safari")&&b.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else{this.requiresTimeout=!0}}}]),a}();n["default"]=o,i.exports=n["default"]},function(h,n,q){function s(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function b(j,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(j,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),a=q(23),t=q(28),i=q(1),o=function(){function b(c){s(this,b),this.body=c,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},i.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(b,[{key:"bindEventListeners",value:function(){var c=this;this.body.emitter.once("resize",function(d){0!==d.width&&(c.body.view.translation.x=0.5*d.width),0!==d.height&&(c.body.view.translation.y=0.5*d.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){c.hammerFrame.destroy(),c.hammer.destroy(),c._cleanUp()})}},{key:"setOptions",value:function(f){var d=this;if(void 0!==f){var c=["width","height","autoResize"];i.selectiveDeepExtend(c,this.options,f)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var j=d.setSize();j===!0&&d.body.emitter.emit("_requestRedraw")},1000),this.resizeFunction=this._onResize.bind(this),i.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),i.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_prepareValue",value:function(c){if("number"==typeof c){return c+"px"}if("string"==typeof c){if(-1!==c.indexOf("%")||-1!==c.indexOf("px")){return c}if(-1===c.indexOf("%")){return c+"px"}}throw new Error("Could not use the value supplie for width or height:"+c)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();){this.body.container.removeChild(this.body.container.firstChild)}if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext){var d=this.frame.canvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(d.webkitBackingStorePixelRatio||d.mozBackingStorePixelRatio||d.msBackingStorePixelRatio||d.oBackingStorePixelRatio||d.backingStorePixelRatio||1),this.frame.canvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var c=document.createElement("DIV");c.style.color="red",c.style.fontWeight="bold",c.style.padding="10px",c.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(c)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var c=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new a(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),t.onTouch(this.hammer,function(d){c.body.eventListeners.onTouch(d)}),this.hammer.on("tap",function(d){c.body.eventListeners.onTap(d)}),this.hammer.on("doubletap",function(d){c.body.eventListeners.onDoubleTap(d)}),this.hammer.on("press",function(d){c.body.eventListeners.onHold(d)}),this.hammer.on("panstart",function(d){c.body.eventListeners.onDragStart(d)}),this.hammer.on("panmove",function(d){c.body.eventListeners.onDrag(d)}),this.hammer.on("panend",function(d){c.body.eventListeners.onDragEnd(d)}),this.hammer.on("pinch",function(d){c.body.eventListeners.onPinch(d)}),this.frame.canvas.addEventListener("mousewheel",function(d){c.body.eventListeners.onMouseWheel(d)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(d){c.body.eventListeners.onMouseWheel(d)}),this.frame.canvas.addEventListener("mousemove",function(d){c.body.eventListeners.onMouseMove(d)}),this.frame.canvas.addEventListener("contextmenu",function(d){c.body.eventListeners.onContext(d)}),this.hammerFrame=new a(this.frame),t.onRelease(this.hammerFrame,function(d){c.body.eventListeners.onRelease(d)})}},{key:"setSize",value:function(){var k=void 0===arguments[0]?this.options.width:arguments[0],j=void 0===arguments[1]?this.options.height:arguments[1];k=this._prepareValue(k),j=this._prepareValue(j);var f=!1,d=this.frame.canvas.width,c=this.frame.canvas.height;return k!=this.options.width||j!=this.options.height||this.frame.style.width!=k||this.frame.style.height!=j?(this.frame.style.width=k,this.frame.style.height=j,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=k,this.options.height=j,f=!0):(this.frame.canvas.width!=Math.round(this.frame.canvas.clientWidth*this.pixelRatio)&&(this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),f=!0),this.frame.canvas.height!=Math.round(this.frame.canvas.clientHeight*this.pixelRatio)&&(this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),f=!0)),f===!0&&this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(d/this.pixelRatio),oldHeight:Math.round(c/this.pixelRatio)}),f}},{key:"_XconvertDOMtoCanvas",value:function(c){return(c-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(c){return c*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(c){return(c-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(c){return c*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(c){return{x:this._XconvertCanvasToDOM(c.x),y:this._YconvertCanvasToDOM(c.y)}}},{key:"DOMtoCanvas",value:function(c){return{x:this._XconvertDOMtoCanvas(c.x),y:this._YconvertDOMtoCanvas(c.y)}}}]),b}();n["default"]=o,h.exports=n["default"]},function(i,n,k){function m(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function a(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),p=k(1),o=function(){function a(c,d){var b=this;m(this,a),this.body=c,this.canvas=d,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){b.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return l(a,[{key:"setOptions",value:function(){var b=void 0===arguments[0]?{}:arguments[0];this.options=b}},{key:"_getRange",value:function(){var c,j=void 0===arguments[0]?[]:arguments[0],d=1000000000,h=-1000000000,b=1000000000,s=-1000000000;if(j.length>0){for(var r=0;r<j.length;r++){c=this.body.nodes[j[r]],b>c.shape.boundingBox.left&&(b=c.shape.boundingBox.left),s<c.shape.boundingBox.right&&(s=c.shape.boundingBox.right),d>c.shape.boundingBox.top&&(d=c.shape.boundingBox.top),h<c.shape.boundingBox.bottom&&(h=c.shape.boundingBox.bottom)}}else{for(var f in this.body.nodes){this.body.nodes.hasOwnProperty(f)&&(c=this.body.nodes[f],b>c.shape.boundingBox.left&&(b=c.shape.boundingBox.left),s<c.shape.boundingBox.right&&(s=c.shape.boundingBox.right),d>c.shape.boundingBox.top&&(d=c.shape.boundingBox.top),h<c.shape.boundingBox.bottom&&(h=c.shape.boundingBox.bottom))}}return 1000000000===b&&-1000000000===s&&1000000000===d&&-1000000000===h&&(d=0,h=0,b=0,s=0),{minX:b,maxX:s,minY:d,maxY:h}}},{key:"_findCenter",value:function(b){return{x:0.5*(b.maxX+b.minX),y:0.5*(b.maxY+b.minY)}}},{key:"fit",value:function(){var L,f,t=void 0===arguments[0]?{nodes:[]}:arguments[0],d=void 0===arguments[1]?!1:arguments[1];if(d===!0){var K=0;for(var I in this.body.nodes){if(this.body.nodes.hasOwnProperty(I)){var r=this.body.nodes[I];r.predefinedPosition===!0&&(K+=1)}}if(K>0.5*this.body.nodeIndices.length){return void this.fit(t,!1)}L=this._getRange(t.nodes);var N=this.body.nodeIndices.length;f=12.662/(N+7.4147)+0.0964822;var s=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);f*=s}else{this.body.emitter.emit("_resizeNodes"),L=this._getRange(t.nodes);var c=1.1*Math.abs(L.maxX-L.minX),u=1.1*Math.abs(L.maxY-L.minY),M=this.canvas.frame.canvas.clientWidth/c,b=this.canvas.frame.canvas.clientHeight/u;f=b>=M?M:b}f>1?f=1:0===f&&(f=1);var j=this._findCenter(L),h={position:j,scale:f,animation:t.animation};this.moveTo(h)}},{key:"focus",value:function(c){var b=void 0===arguments[1]?{}:arguments[1];if(void 0!==this.body.nodes[c]){var d={x:this.body.nodes[c].x,y:this.body.nodes[c].y};b.position=d,b.lockedOnNode=c,this.moveTo(b)}else{console.log("Node: "+c+" cannot be found.")}}},{key:"moveTo",value:function(b){return void 0===b?void (b={}):(void 0===b.offset&&(b.offset={x:0,y:0}),void 0===b.offset.x&&(b.offset.x=0),void 0===b.offset.y&&(b.offset.y=0),void 0===b.scale&&(b.scale=this.body.view.scale),void 0===b.position&&(b.position=this.getViewPosition()),void 0===b.animation&&(b.animation={duration:0}),b.animation===!1&&(b.animation={duration:0}),b.animation===!0&&(b.animation={}),void 0===b.animation.duration&&(b.animation.duration=1000),void 0===b.animation.easingFunction&&(b.animation.easingFunction="easeInOutQuad"),void this.animateView(b))}},{key:"animateView",value:function(c){if(void 0!==c){this.animationEasingFunction=c.animation.easingFunction,this.releaseNode(),c.locked===!0&&(this.lockedOnNodeId=c.lockedOnNode,this.lockedOnNodeOffset=c.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=c.scale,this.body.view.scale=this.targetScale;var b=this.canvas.DOMtoCanvas({x:0.5*this.canvas.frame.canvas.clientWidth,y:0.5*this.canvas.frame.canvas.clientHeight}),d={x:b.x-c.position.x,y:b.y-c.position.y};this.targetTranslation={x:this.sourceTranslation.x+d.x*this.targetScale+c.offset.x,y:this.sourceTranslation.y+d.y*this.targetScale+c.offset.y},0===c.animation.duration?void 0!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*c.animation.duration*0.001)||1/60,this.animationEasingFunction=c.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var c={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},b=this.DOMtoCanvas({x:0.5*this.frame.canvas.clientWidth,y:0.5*this.frame.canvas.clientHeight}),d={x:b.x-c.x,y:b.y-c.y},h=this.body.view.translation,f={x:h.x+d.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:h.y+d.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=f}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var c=void 0===arguments[0]?!1:arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=c===!0?1:this.easingTime;var b=p.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*b,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*b,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*b},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,void 0!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:0.5*this.canvas.frame.canvas.clientWidth,y:0.5*this.canvas.frame.canvas.clientHeight})}}]),a}();n["default"]=o,i.exports=n["default"]},function(s,d,i){function o(b){return b&&b.__esModule?b:{"default":b}}function n(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(d,"__esModule",{value:!0});var r=function(){function b(f,c){for(var j=0;j<c.length;j++){var k=c[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value" in k&&(k.writable=!0),Object.defineProperty(f,k.key,k)}}return function(f,j,c){return j&&b(f.prototype,j),c&&b(f,c),f}}(),t=i(103),A=o(t),h=i(104),a=o(h),l=i(1),u=function(){function b(f,j,c){n(this,b),this.body=f,this.canvas=j,this.selectionHandler=c,this.navigationHandler=new A["default"](f,j),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:0.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},l.extend(this.options,this.defaultOptions),this.bindEventListeners()}return r(b,[{key:"bindEventListeners",value:function(){var c=this;this.body.emitter.on("destroy",function(){clearTimeout(c.popupTimer),delete c.body.functions.getPointer})}},{key:"setOptions",value:function(f){if(void 0!==f){var c=["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];l.selectiveNotDeepExtend(c,this.options,f),l.mergeOptions(this.options,f,"keyboard"),f.tooltip&&(l.extend(this.options.tooltip,f.tooltip),f.tooltip.color&&(this.options.tooltip.color=l.parseColor(f.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(c){return{x:c.x-l.getAbsoluteLeft(this.canvas.frame.canvas),y:c.y-l.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(c){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(c.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(f){var c=this.getPointer(f.center),j=this.selectionHandler.options.multiselect&&(f.changedPointers[0].ctrlKey||f.changedPointers[0].metaKey);this.checkSelectionChanges(c,f,j),this.selectionHandler._generateClickEvent("click",f,c)}},{key:"onDoubleTap",value:function(f){var c=this.getPointer(f.center);this.selectionHandler._generateClickEvent("doubleClick",f,c)}},{key:"onHold",value:function(f){var c=this.getPointer(f.center),j=this.selectionHandler.options.multiselect;this.checkSelectionChanges(c,f,j),this.selectionHandler._generateClickEvent("click",f,c),this.selectionHandler._generateClickEvent("hold",f,c)}},{key:"onRelease",value:function(f){if((new Date).valueOf()-this.touchTime>10){var c=this.getPointer(f.center);this.selectionHandler._generateClickEvent("release",f,c),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(f){var c=this.getPointer({x:f.clientX,y:f.clientY});this.selectionHandler._generateClickEvent("oncontext",f,c)}},{key:"checkSelectionChanges",value:function(p,z){var P=void 0===arguments[2]?!1:arguments[2],j=this.selectionHandler._getSelectedEdgeCount(),f=this.selectionHandler._getSelectedNodeCount(),m=this.selectionHandler.getSelection(),k=void 0;k=P===!0?this.selectionHandler.selectAdditionalOnPoint(p):this.selectionHandler.selectOnPoint(p);var v=this.selectionHandler._getSelectedEdgeCount(),O=this.selectionHandler._getSelectedNodeCount(),y=this.selectionHandler.getSelection(),c=this._determineIfDifferent(m,y),q=c.nodesChanges,x=c.edgesChanges;O-f>0?(this.selectionHandler._generateClickEvent("selectNode",z,p),k=!0):0>O-f?(this.selectionHandler._generateClickEvent("deselectNode",z,p,m),k=!0):O===f&&q===!0&&(this.selectionHandler._generateClickEvent("deselectNode",z,p,m),this.selectionHandler._generateClickEvent("selectNode",z,p),k=!0),v-j>0?(this.selectionHandler._generateClickEvent("selectEdge",z,p),k=!0):0>v-j?(this.selectionHandler._generateClickEvent("deselectEdge",z,p,m),k=!0):v===j&&x===!0&&(this.selectionHandler._generateClickEvent("deselectEdge",z,p,m),this.selectionHandler._generateClickEvent("selectEdge",z,p),k=!0),k===!0&&this.selectionHandler._generateClickEvent("select",z,p)}},{key:"_determineIfDifferent",value:function(j,c){for(var m=!1,k=!1,f=0;f<j.nodes.length;f++){-1===c.nodes.indexOf(j.nodes[f])&&(m=!0)}for(var f=0;f<c.nodes.length;f++){-1===j.nodes.indexOf(j.nodes[f])&&(m=!0)}for(var f=0;f<j.edges.length;f++){-1===c.edges.indexOf(j.edges[f])&&(k=!0)}for(var f=0;f<c.edges.length;f++){-1===j.edges.indexOf(j.edges[f])&&(k=!0)}return{nodesChanges:m,edgesChanges:k}}},{key:"onDragStart",value:function(k){void 0===this.drag.pointer&&this.onTouch(k);var m=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=l.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==m&&this.options.dragNodes===!0){this.drag.nodeId=m.id,m.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(m)),this.selectionHandler._generateClickEvent("dragStart",k,this.drag.pointer);var p=this.selectionHandler.selectionObj.nodes;for(var j in p){if(p.hasOwnProperty(j)){var c=p[j],f={id:c.id,node:c,x:c.x,y:c.y,xFixed:c.options.fixed.x,yFixed:c.options.fixed.y};c.options.fixed.x=!0,c.options.fixed.y=!0,this.drag.selection.push(f)}}}else{this.selectionHandler._generateClickEvent("dragStart",k,this.drag.pointer)}}},{key:"onDrag",value:function(k){var m=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var p=this.getPointer(k.center);this.selectionHandler._generateClickEvent("dragging",k,p);var j=this.drag.selection;if(j&&j.length&&this.options.dragNodes===!0){!function(){var q=p.x-m.drag.pointer.x,v=p.y-m.drag.pointer.y;j.forEach(function(y){var x=y.node;y.xFixed===!1&&(x.x=m.canvas._XconvertDOMtoCanvas(m.canvas._XconvertCanvasToDOM(y.x)+q)),y.yFixed===!1&&(x.y=m.canvas._YconvertDOMtoCanvas(m.canvas._YconvertCanvasToDOM(y.y)+v))}),m.body.emitter.emit("startSimulation")}()}else{if(this.options.dragView===!0){if(void 0===this.drag.pointer){return void this._handleDragStart(k)}var c=p.x-this.drag.pointer.x,f=p.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+c,y:this.drag.translation.y+f},this.body.emitter.emit("_redraw")}}}}},{key:"onDragEnd",value:function(f){this.drag.dragging=!1;var c=this.drag.selection;c&&c.length?(c.forEach(function(j){j.node.options.fixed.x=j.xFixed,j.node.options.fixed.y=j.yFixed}),this.body.emitter.emit("startSimulation")):this.body.emitter.emit("_requestRedraw"),this.selectionHandler._generateClickEvent("dragEnd",f,this.getPointer(f.center))}},{key:"onPinch",value:function(f){var c=this.getPointer(f.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1);var j=this.pinch.scale*f.scale;this.zoom(j,c)}},{key:"zoom",value:function(x,f){if(this.options.zoomView===!0){var k=this.body.view.scale;0.00001>x&&(x=0.00001),x>10&&(x=10);var m=void 0;void 0!==this.drag&&this.drag.dragging===!0&&(m=this.canvas.DOMtoCanvas(this.drag.pointer));var q=this.body.view.translation,v=x/k,p=(1-v)*f.x+q.x*v,c=(1-v)*f.y+q.y*v;if(this.body.view.scale=x,this.body.view.translation={x:p,y:c},void 0!=m){var j=this.canvas.canvasToDOM(m);this.drag.pointer.x=j.x,this.drag.pointer.y=j.y}this.body.emitter.emit("_requestRedraw"),x>k?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale})}}},{key:"onMouseWheel",value:function(j){var c=0;if(j.wheelDelta?c=j.wheelDelta/120:j.detail&&(c=-j.detail/3),0!==c){var m=this.body.view.scale,k=c/10;0>c&&(k/=1-k),m*=1+k;var f=this.getPointer({x:j.clientX,y:j.clientY});this.zoom(m,f)}j.preventDefault()}},{key:"onMouseMove",value:function(j){var c=this,m=this.getPointer({x:j.clientX,y:j.clientY}),k=!1;if(void 0!==this.popup&&(this.popup.hidden===!1&&this._checkHidePopup(m),this.popup.hidden===!1&&(k=!0,this.popup.setPosition(m.x+3,m.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),k===!1&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return c._checkShowPopup(m)},this.options.tooltipDelay))),this.options.hover===!0){var f=this.selectionHandler.getNodeAt(m);void 0===f&&(f=this.selectionHandler.getEdgeAt(m)),this.selectionHandler.hoverObject(f)}}},{key:"_checkShowPopup",value:function(p){var Q=this.canvas._XconvertDOMtoCanvas(p.x),T=this.canvas._YconvertDOMtoCanvas(p.y),j={left:Q,top:T,right:Q,bottom:T},f=void 0===this.popupObj?void 0:this.popupObj.id,m=!1,x="node";if(void 0===this.popupObj){for(var y=this.body.nodeIndices,S=this.body.nodes,U=void 0,q=[],z=0;z<y.length;z++){U=S[y[z]],U.isOverlappingWith(j)===!0&&void 0!==U.getTitle()&&q.push(y[z])}q.length>0&&(this.popupObj=S[q[q.length-1]],m=!0)}if(void 0===this.popupObj&&m===!1){for(var k=this.body.edgeIndices,R=this.body.edges,c=void 0,v=[],z=0;z<k.length;z++){c=R[k[z]],c.isOverlappingWith(j)===!0&&c.connected===!0&&void 0!==c.getTitle()&&v.push(k[z])}v.length>0&&(this.popupObj=R[v[v.length-1]],x="edge")}void 0!==this.popupObj?this.popupObj.id!==f&&(void 0===this.popup&&(this.popup=new a["default"](this.canvas.frame)),this.popup.popupTargetType=x,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(p.x+3,p.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(f){var c=this.selectionHandler._pointerToPositionObject(f),j=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&(j=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(c),j===!0)){var k=this.selectionHandler.getNodeAt(f);j=k.id===this.popup.popupTargetId}}else{void 0===this.selectionHandler.getNodeAt(f)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(j=this.body.edges[this.popup.popupTargetId].isOverlappingWith(c))}j===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),b}();d["default"]=u,s.exports=d["default"]},function(h,n,q){function s(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function b(j,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(j,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),a=(q(1),q(23)),t=q(28),i=q(43),o=function(){function b(f,c){var d=this;s(this,b),this.body=f,this.canvas=c,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("release",function(){d._stopMovement()}),this.body.emitter.on("activate",function(){d.activated=!0,d.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){d.activated=!1,d.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==d.keycharm&&d.keycharm.destroy()}),this.options={}}return r(b,[{key:"setOptions",value:function(c){void 0!==c&&(this.options=c,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var c=0;c<this.navigationHammers.length;c++){this.navigationHammers[c].destroy()}this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){this.cleanNavigation(),this.navigationDOM={};var j=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],f=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var c=0;c<j.length;c++){this.navigationDOM[j[c]]=document.createElement("div"),this.navigationDOM[j[c]].className="vis-button vis-"+j[c],this.navigationDOM.wrapper.appendChild(this.navigationDOM[j[c]]);var d=new a(this.navigationDOM[j[c]]);"_fit"===f[c]?t.onTouch(d,this._fit.bind(this)):t.onTouch(d,this.bindToRedraw.bind(this,f[c])),this.navigationHammers.push(d)}this.iconsCreated=!0}},{key:"bindToRedraw",value:function(c){void 0===this.boundFunctions[c]&&(this.boundFunctions[c]=this[c].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[c]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(c){void 0!==this.boundFunctions[c]&&(this.body.emitter.off("initRedraw",this.boundFunctions[c]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[c])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var c in this.boundFunctions){this.boundFunctions.hasOwnProperty(c)&&(this.body.emitter.off("initRedraw",this.boundFunctions[c]),this.body.emitter.emit("_stopRendering"))}this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){this.body.view.scale*=1+this.options.keyboard.speed.zoom}},{key:"_zoomOut",value:function(){this.body.view.scale/=1+this.options.keyboard.speed.zoom}},{key:"configureKeyboardBindings",value:function(){var c=this;void 0!==this.keycharm&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=i({container:window,preventDefault:!0}):this.keycharm=i({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){c.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){c.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){c.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){c.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){c.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){c.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){c.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){c.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){c.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){c.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){c.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){c.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){c.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){c.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){c.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){c.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){c.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){c.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){c.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){c.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){c.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){c.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){c.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){c.unbindFromRedraw("_zoomOut")},"keyup")))}}]),b}();n["default"]=o,h.exports=n["default"]},function(i,m,j){function l(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(m,"__esModule",{value:!0});var k=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),n=function(){function a(b){l(this,a),this.container=b,this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-network-tooltip",this.container.appendChild(this.frame)}return k(a,[{key:"setPosition",value:function(c,b){this.x=parseInt(c),this.y=parseInt(b)}},{key:"setText",value:function(b){b instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(b)):this.frame.innerHTML=b}},{key:"show",value:function(d){if(void 0===d&&(d=!0),d===!0){var r=this.frame.clientHeight,h=this.frame.clientWidth,o=this.frame.parentNode.clientHeight,f=this.frame.parentNode.clientWidth,c=this.y-r;c+r+this.padding>o&&(c=o-r-this.padding),c<this.padding&&(c=this.padding);var b=this.x;b+h+this.padding>f&&(b=f-h-this.padding),b<this.padding&&(b=this.padding),this.frame.style.left=b+"px",this.frame.style.top=c+"px",this.frame.style.visibility="visible",this.hidden=!1}else{this.hide()}}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.visibility="hidden"}}]),a}();m["default"]=n,i.exports=m["default"]},function(h,n,q){function s(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function b(j,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(j,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),a=q(62),t=q(82),i=q(1),o=function(){function b(f,c){var d=this;s(this,b),this.body=f,this.canvas=c,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},i.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){d.updateSelection()})}return r(b,[{key:"setOptions",value:function(d){if(void 0!==d){var c=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];i.selectiveDeepExtend(c,this.options,d)}}},{key:"selectOnPoint",value:function(f){var d=!1;if(this.options.selectable===!0){var c=this.getNodeAt(f)||this.getEdgeAt(f);this.unselectAll(),void 0!==c&&(d=this.selectObject(c)),this.body.emitter.emit("_requestRedraw")}return d}},{key:"selectAdditionalOnPoint",value:function(f){var d=!1;if(this.options.selectable===!0){var c=this.getNodeAt(f)||this.getEdgeAt(f);void 0!==c&&(d=!0,c.isSelected()===!0?this.deselectObject(c):this.selectObject(c),this.body.emitter.emit("_requestRedraw"))}return d}},{key:"_generateClickEvent",value:function(k,j,f,d){var c=this.getSelection();c.pointer={DOM:{x:f.x,y:f.y},canvas:this.canvas.DOMtoCanvas(f)},c.event=j,void 0!==d&&(c.previousSelection=d),this.body.emitter.emit(k,c)}},{key:"selectObject",value:function(d){var c=void 0===arguments[1]?this.options.selectConnectedEdges:arguments[1];return void 0!==d?(d instanceof a&&c===!0&&this._selectConnectedEdges(d),d.select(),this._addToSelection(d),!0):!1}},{key:"deselectObject",value:function(c){c.isSelected()===!0&&(c.selected=!1,this._removeFromSelection(c))}},{key:"_getAllNodesOverlappingWith",value:function(k){for(var j=[],f=this.body.nodes,d=0;d<this.body.nodeIndices.length;d++){var c=this.body.nodeIndices[d];f[c].isOverlappingWith(k)&&j.push(c)}return j}},{key:"_pointerToPositionObject",value:function(d){var c=this.canvas.DOMtoCanvas(d);return{left:c.x-1,top:c.y+1,right:c.x+1,bottom:c.y-1}}},{key:"getNodeAt",value:function(j){var f=void 0===arguments[1]?!0:arguments[1],c=this._pointerToPositionObject(j),d=this._getAllNodesOverlappingWith(c);return d.length>0?f===!0?this.body.nodes[d[d.length-1]]:d[d.length-1]:void 0}},{key:"_getEdgesOverlappingWith",value:function(k,j){for(var f=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var c=this.body.edgeIndices[d];f[c].isOverlappingWith(k)&&j.push(c)}}},{key:"_getAllEdgesOverlappingWith",value:function(d){var c=[];return this._getEdgesOverlappingWith(d,c),c}},{key:"getEdgeAt",value:function(j){var f=void 0===arguments[1]?!0:arguments[1],c=this._pointerToPositionObject(j),d=this._getAllEdgesOverlappingWith(c);return d.length>0?f===!0?this.body.edges[d[d.length-1]]:d[d.length-1]:void 0}},{key:"_addToSelection",value:function(c){c instanceof a?this.selectionObj.nodes[c.id]=c:this.selectionObj.edges[c.id]=c}},{key:"_addToHover",value:function(c){c instanceof a?this.hoverObj.nodes[c.id]=c:this.hoverObj.edges[c.id]=c}},{key:"_removeFromSelection",value:function(c){c instanceof a?delete this.selectionObj.nodes[c.id]:delete this.selectionObj.edges[c.id]}},{key:"unselectAll",value:function(){for(var d in this.selectionObj.nodes){this.selectionObj.nodes.hasOwnProperty(d)&&this.selectionObj.nodes[d].unselect()}for(var c in this.selectionObj.edges){this.selectionObj.edges.hasOwnProperty(c)&&this.selectionObj.edges[c].unselect()}this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var d=0;for(var c in this.selectionObj.nodes){this.selectionObj.nodes.hasOwnProperty(c)&&(d+=1)}return d}},{key:"_getSelectedNode",value:function(){for(var c in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(c)){return this.selectionObj.nodes[c]}}return void 0}},{key:"_getSelectedEdge",value:function(){for(var c in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(c)){return this.selectionObj.edges[c]}}return void 0}},{key:"_getSelectedEdgeCount",value:function(){var d=0;for(var c in this.selectionObj.edges){this.selectionObj.edges.hasOwnProperty(c)&&(d+=1)}return d}},{key:"_getSelectedObjectCount",value:function(){var f=0;for(var d in this.selectionObj.nodes){this.selectionObj.nodes.hasOwnProperty(d)&&(f+=1)}for(var c in this.selectionObj.edges){this.selectionObj.edges.hasOwnProperty(c)&&(f+=1)}return f}},{key:"_selectionIsEmpty",value:function(){for(var d in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(d)){return !1}}for(var c in this.selectionObj.edges){if(this.selectionObj.edges.hasOwnProperty(c)){return !1}}return !0}},{key:"_clusterInSelection",value:function(){for(var c in this.selectionObj.nodes){if(this.selectionObj.nodes.hasOwnProperty(c)&&this.selectionObj.nodes[c].clusterSize>1){return !0}}return !1}},{key:"_selectConnectedEdges",value:function(f){for(var d=0;d<f.edges.length;d++){var c=f.edges[d];c.select(),this._addToSelection(c)}}},{key:"_hoverConnectedEdges",value:function(f){for(var d=0;d<f.edges.length;d++){var c=f.edges[d];c.hover=!0,this._addToHover(c)}}},{key:"_unselectConnectedEdges",value:function(f){for(var d=0;d<f.edges.length;d++){var c=f.edges[d];c.unselect(),this._removeFromSelection(c)}}},{key:"blurObject",value:function(c){c.hover===!0&&(c.hover=!1,this.body.emitter.emit("blurNode",{node:c.id}))}},{key:"hoverObject",value:function(j){var f=!1;for(var c in this.hoverObj.nodes){this.hoverObj.nodes.hasOwnProperty(c)&&(void 0===j?(this.blurObject(this.hoverObj.nodes[c]),f=!0):(j instanceof a&&j.id!=c||j instanceof t||void 0===j)&&(this.blurObject(this.hoverObj.nodes[c]),f=!0,delete this.hoverObj.nodes[c]))}for(var d in this.hoverObj.edges){this.hoverObj.edges.hasOwnProperty(d)&&(this.hoverObj.edges[d].hover=!1,delete this.hoverObj.edges[d])}void 0!==j&&(j.hover===!1&&(j.hover=!0,this._addToHover(j),f=!0,j instanceof a&&this.body.emitter.emit("hoverNode",{node:j.id})),j instanceof a&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(j)),f===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var d=this.getSelectedNodes(),c=this.getSelectedEdges();return{nodes:d,edges:c}}},{key:"getSelectedNodes",value:function(){var d=[];if(this.options.selectable===!0){for(var c in this.selectionObj.nodes){this.selectionObj.nodes.hasOwnProperty(c)&&d.push(c)}}return d}},{key:"getSelectedEdges",value:function(){var d=[];if(this.options.selectable===!0){for(var c in this.selectionObj.edges){this.selectionObj.edges.hasOwnProperty(c)&&d.push(c)}}return d}},{key:"selectNodes",value:function(k){var j=void 0===arguments[1]?!0:arguments[1],f=void 0,d=void 0;if(!k||void 0===k.length){throw"Selection must be an array with ids"}for(this.unselectAll(),f=0;f<k.length;f++){d=k[f];var c=this.body.nodes[d];if(!c){throw new RangeError('Node with id "'+d+'" not found')}this.selectObject(c,j)}this.body.emitter.emit("_requestRedraw")}},{key:"selectEdges",value:function(j){var f=void 0,c=void 0;if(!j||void 0===j.length){throw"Selection must be an array with ids"}for(this.unselectAll(),f=0;f<j.length;f++){c=j[f];var d=this.body.edges[c];if(!d){throw new RangeError('Edge with id "'+c+'" not found')}this.selectObject(d)}this.body.emitter.emit("_requestRedraw")}},{key:"updateSelection",value:function(){for(var d in this.selectionObj.nodes){this.selectionObj.nodes.hasOwnProperty(d)&&(this.body.nodes.hasOwnProperty(d)||delete this.selectionObj.nodes[d])}for(var c in this.selectionObj.edges){this.selectionObj.edges.hasOwnProperty(c)&&(this.body.edges.hasOwnProperty(c)||delete this.selectionObj.edges[c])}}}]),b}();n["default"]=o,h.exports=n["default"]},function(i,n,k){function m(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function a(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1,f.configurable=!0,"value" in f&&(f.writable=!0),Object.defineProperty(c,f.key,f)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),p=k(1),o=function(){function a(b){m(this,a),this.body=b,this.initialRandomSeed=Math.round(1000000*Math.random()),this.randomSeed=this.initialRandomSeed,this.options={},this.optionsBackup={},this.defaultOptions={randomSeed:void 0,hierarchical:{enabled:!1,levelSeparation:150,direction:"UD",sortMethod:"hubsize"}},p.extend(this.options,this.defaultOptions),this.hierarchicalLevels={},this.bindEventListeners()}return l(a,[{key:"bindEventListeners",value:function(){var b=this;this.body.emitter.on("_dataChanged",function(){b.setupHierarchicalLayout()}),this.body.emitter.on("_resetHierarchicalLayout",function(){b.setupHierarchicalLayout()})}},{key:"setOptions",value:function(c,b){if(void 0!==c){var d=this.options.hierarchical.enabled;if(p.mergeOptions(this.options,c,"hierarchical"),void 0!==c.randomSeed&&(this.initialRandomSeed=c.randomSeed),this.options.hierarchical.enabled===!0){return"RL"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?this.options.hierarchical.levelSeparation>0&&(this.options.hierarchical.levelSeparation*=-1):this.options.hierarchical.levelSeparation<0&&(this.options.hierarchical.levelSeparation*=-1),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptions(b)}if(d===!0){return this.body.emitter.emit("refresh"),p.deepExtend(b,this.optionsBackup)}}return b}},{key:"adaptAllOptions",value:function(c){if(this.options.hierarchical.enabled===!0){void 0===c.physics||c.physics===!0?(c.physics={solver:"hierarchicalRepulsion"},this.optionsBackup.physics={solver:"barnesHut"}):"object"==typeof c.physics?(this.optionsBackup.physics={solver:"barnesHut"},void 0!==c.physics.solver&&(this.optionsBackup.physics={solver:c.physics.solver}),c.physics.solver="hierarchicalRepulsion"):c.physics!==!1&&(this.optionsBackup.physics={solver:"barnesHut"},c.physics.solver="hierarchicalRepulsion");var b="horizontal";("RL"===this.options.hierarchical.direction||"LR"===this.options.hierarchical.direction)&&(b="vertical"),void 0===c.edges?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},c.edges={smooth:!1}):void 0===c.edges.smooth?(this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},c.edges.smooth=!1):"boolean"==typeof c.edges.smooth?(this.optionsBackup.edges={smooth:c.edges.smooth},c.edges.smooth={enabled:c.edges.smooth,type:b}):(void 0!==c.edges.smooth.type&&"dynamic"!==c.edges.smooth.type&&(b=c.edges.smooth.type),this.optionsBackup.edges={smooth:void 0===c.edges.smooth.enabled?!0:c.edges.smooth.enabled,type:void 0===c.edges.smooth.type?"dynamic":c.edges.smooth.type,roundness:void 0===c.edges.smooth.roundness?0.5:c.edges.smooth.roundness},c.edges.smooth={enabled:void 0===c.edges.smooth.enabled?!0:c.edges.smooth.enabled,type:b,roundness:void 0===c.edges.smooth.roundness?0.5:c.edges.smooth.roundness}),this.body.emitter.emit("_forceDisableDynamicCurves",b)}return c}},{key:"seededRandom",value:function(){var b=10000*Math.sin(this.randomSeed++);return b-Math.floor(b)}},{key:"positionInitially",value:function(c){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var b=0;b<c.length;b++){var d=c[b];if(!d.isFixed()&&(void 0===d.x||void 0===d.y)){var h=1*c.length+10,f=2*Math.PI*this.seededRandom();d.options.fixed.x===!1&&(d.x=h*Math.cos(f)),d.options.fixed.x===!1&&(d.y=h*Math.sin(f))}}}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var c=void 0,b=void 0,d=!1,h=!1;this.hierarchicalLevels={},this.nodeSpacing=100;for(b in this.body.nodes){this.body.nodes.hasOwnProperty(b)&&(c=this.body.nodes[b],void 0!==c.options.level?(d=!0,this.hierarchicalLevels[b]=c.options.level):h=!0)}if(h===!0&&d===!0){throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.")}h===!0&&("hubsize"===this.options.hierarchical.sortMethod?this._determineLevelsByHubsize():("directed"===this.options.hierarchical.sortMethod,0||this._determineLevelsDirected()));var f=this._getDistribution();this._placeNodesByHierarchy(f)}}},{key:"_placeNodesByHierarchy",value:function(c){var b=void 0,d=void 0;this.positionedNodes={};for(var f in c){if(c.hasOwnProperty(f)){for(b in c[f].nodes){c[f].nodes.hasOwnProperty(b)&&(d=c[f].nodes[b],"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(void 0===d.x&&(d.x=c[f].distance),c[f].distance=d.x+this.nodeSpacing):(void 0===d.y&&(d.y=c[f].distance),c[f].distance=d.y+this.nodeSpacing),this.positionedNodes[b]=!0,this._placeBranchNodes(d.edges,d.id,c,f))}}}}},{key:"_getDistribution",value:function(){var c={},b=void 0,d=void 0;for(b in this.body.nodes){if(this.body.nodes.hasOwnProperty(b)){d=this.body.nodes[b];var f=void 0===this.hierarchicalLevels[b]?0:this.hierarchicalLevels[b];"UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(d.y=this.options.hierarchical.levelSeparation*f,d.options.fixed.y=!0):(d.x=this.options.hierarchical.levelSeparation*f,d.options.fixed.x=!0),void 0===c[f]&&(c[f]={amount:0,nodes:{},distance:0}),c[f].amount+=1,c[f].nodes[b]=d}}return c}},{key:"_getHubSize",value:function(){var c=0;for(var b in this.body.nodes){if(this.body.nodes.hasOwnProperty(b)){var d=this.body.nodes[b];void 0===this.hierarchicalLevels[b]&&(c=d.edges.length<c?c:d.edges.length)}}return c}},{key:"_determineLevelsByHubsize",value:function(){for(var c=void 0,b=void 0,d=1;d>0&&(d=this._getHubSize(),0!==d);){for(c in this.body.nodes){this.body.nodes.hasOwnProperty(c)&&(b=this.body.nodes[c],b.edges.length===d&&this._setLevelByHubsize(0,b))}}}},{key:"_setLevelByHubsize",value:function(c,b){if(void 0===this.hierarchicalLevels[b.id]){var d=void 0;this.hierarchicalLevels[b.id]=c;for(var f=0;f<b.edges.length;f++){d=b.edges[f].toId===b.id?b.edges[f].from:b.edges[f].to,this._setLevelByHubsize(c+1,d)}}}},{key:"_determineLevelsDirected",value:function(){var c=void 0,b=void 0,d=10000;for(c in this.body.nodes){this.body.nodes.hasOwnProperty(c)&&(b=this.body.nodes[c],this._setLevelDirected(d,b))}for(c in this.body.nodes){this.body.nodes.hasOwnProperty(c)&&(d=this.hierarchicalLevels[c]<d?this.hierarchicalLevels[c]:d)}for(c in this.body.nodes){this.body.nodes.hasOwnProperty(c)&&(this.hierarchicalLevels[c]-=d)}}},{key:"_setLevelDirected",value:function(c,b){if(void 0===this.hierarchicalLevels[b.id]){var d=void 0;this.hierarchicalLevels[b.id]=c;for(var f=0;f<b.edges.length;f++){b.edges[f].toId===b.id?(d=b.edges[f].from,this._setLevelDirected(c-1,d)):(d=b.edges[f].to,this._setLevelDirected(c+1,d))}}}},{key:"_placeBranchNodes",value:function(c,j,d,h){for(var b=0;b<c.length;b++){var s=void 0,r=void 0;c[b].toId===j?(s=c[b].from,r=c[b].to):(s=c[b].to,r=c[b].from);var f=this.hierarchicalLevels[s.id];void 0===this.positionedNodes[s.id]&&f>h&&("UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?(void 0===s.x&&(s.x=Math.max(d[f].distance,r.x)),d[f].distance=s.x+this.nodeSpacing,this.positionedNodes[s.id]=!0):(void 0===s.y&&(s.y=Math.max(d[f].distance,r.y)),d[f].distance=s.y+this.nodeSpacing),this.positionedNodes[s.id]=!0,s.edges.length>1&&this._placeBranchNodes(s.edges,s.id,d,f))}}}]),a}();n["default"]=o,i.exports=n["default"]},function(h,n,q){function s(b,c){if(!(b instanceof c)){throw new TypeError("Cannot call a class as a function")}}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function b(j,f){for(var c=0;c<f.length;c++){var d=f[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value" in d&&(d.writable=!0),Object.defineProperty(j,d.key,d)}}return function(f,c,d){return c&&b(f.prototype,c),d&&b(f,d),f}}(),a=q(1),t=q(23),i=q(28),o=function(){function b(f,d,c){var j=this;s(this,b),this.body=f,this.canvas=d,this.selectionHandler=c,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},a.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){j._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return r(b,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(f,d,c){void 0!==d&&(void 0!==d.locale?this.options.locale=d.locale:this.options.locale=c.locale,void 0!==d.locales?this.options.locales=d.locales:this.options.locales=c.locales),void 0!==f&&("boolean"==typeof f?this.options.enabled=f:(this.options.enabled=!0,a.deepExtend(this.options,f)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var k=this.selectionHandler._getSelectedNodeCount(),j=this.selectionHandler._getSelectedEdgeCount(),f=k+j,d=this.options.locales[this.options.locale],c=!1;this.options.addNode!==!1&&(this._createAddNodeButton(d),c=!0),this.options.addEdge!==!1&&(c===!0?this._createSeperator(1):c=!0,this._createAddEdgeButton(d)),1===k&&"function"==typeof this.options.editNode?(c===!0?this._createSeperator(2):c=!0,this._createEditNodeButton(d)):1===j&&0===k&&this.options.editEdge!==!1&&(c===!0?this._createSeperator(3):c=!0,this._createEditEdgeButton(d)),0!==f&&(1===k&&this.options.deleteNode!==!1?(c===!0&&this._createSeperator(4),this._createDeleteButton(d)):0===k&&this.options.deleteEdge!==!1&&(c===!0&&this._createSeperator(4),this._createDeleteButton(d))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var c=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(c),this._createSeperator(),this._createDescription(c.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var f=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var d=this.selectionHandler._getSelectedNode();if(void 0!==d){if(this.inMode="editNode","function"!=typeof this.options.editNode){throw new Error("No function has been configured to handle the editing of nodes.")}if(d.isCluster!==!0){var c=a.deepExtend({},d.options,!0);if(c.x=d.x,c.y=d.y,2!==this.options.editNode.length){throw new Error("The function for edit does not support two arguments (data, callback)")}this.options.editNode(c,function(j){null!==j&&void 0!==j&&"editNode"===f.inMode&&f.body.data.nodes.getDataSet().update(j),f.showManipulatorToolbar()})}else{alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}}else{this.showManipulatorToolbar()}}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var c=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(c),this._createSeperator(),this._createDescription(c.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",function(){}),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){var d=this;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",this.guiEnabled===!0){var c=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(c),this._createSeperator(),this._createDescription(c.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId?!function(){var j=d.body.edges[d.edgeBeingEditedId],k=d._getNewTargetNode(j.from.x,j.from.y),f=d._getNewTargetNode(j.to.x,j.to.y);d.temporaryIds.nodes.push(k.id),d.temporaryIds.nodes.push(f.id),d.body.nodes[k.id]=k,d.body.nodeIndices.push(k.id),d.body.nodes[f.id]=f,d.body.nodeIndices.push(f.id),d._temporaryBindUI("onTouch",d._controlNodeTouch.bind(d)),d._temporaryBindUI("onTap",function(){}),d._temporaryBindUI("onHold",function(){}),d._temporaryBindUI("onDragStart",d._controlNodeDragStart.bind(d)),d._temporaryBindUI("onDrag",d._controlNodeDrag.bind(d)),d._temporaryBindUI("onDragEnd",d._controlNodeDragEnd.bind(d)),d._temporaryBindUI("onMouseMove",function(){}),d._temporaryBindEvent("beforeDrawing",function(m){var l=j.edgeType.findBorderPositions(m);k.selected===!1&&(k.x=l.from.x,k.y=l.from.y),f.selected===!1&&(f.x=l.to.x,f.y=l.to.y)}),d.body.emitter.emit("_redraw")}():this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var l=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var f=this.selectionHandler.getSelectedNodes(),j=this.selectionHandler.getSelectedEdges(),d=void 0;if(f.length>0){for(var c=0;c<f.length;c++){if(this.body.nodes[f[c]].isCluster===!0){return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError)}}"function"==typeof this.options.deleteNode&&(d=this.options.deleteNode)}else{j.length>0&&"function"==typeof this.options.deleteEdge&&(d=this.options.deleteEdge)}if("function"==typeof d){var k={nodes:f,edges:j};if(2!==d.length){throw new Error("The function for delete does not support two arguments (data, callback)")}d(k,function(m){null!==m&&void 0!==m&&"delete"===l.inMode&&(l.body.data.edges.getDataSet().remove(m.edges),l.body.data.nodes.getDataSet().remove(m.nodes),l.body.emitter.emit("startSimulation"),l.showManipulatorToolbar())})}else{this.body.data.edges.getDataSet().remove(j),this.body.data.nodes.getDataSet().remove(f),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(f,d){var c=a.deepExtend({},this.options.controlNodeStyle);return c.id="targetNode"+a.randomUUID(),c.hidden=!1,c.physics=!1,c.x=f,c.y=d,this.body.functions.createNode(c)}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},a.recursiveDOMDelete(this.editModeDiv);var d=this.options.locales[this.options.locale],c=this._createButton("editMode","vis-button vis-edit vis-edit-mode",d.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(c),this._bindHammerToDiv(c,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(a.recursiveDOMDelete(this.editModeDiv),a.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var c=0;c<this.manipulationHammers.length;c++){this.manipulationHammers[c].destroy()}this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),a.recursiveDOMDelete(this.manipulationDiv),a.recursiveDOMDelete(this.editModeDiv),a.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var c=void 0===arguments[0]?1:arguments[0];this.manipulationDOM["seperatorLineDiv"+c]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+c].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+c])}},{key:"_createAddNodeButton",value:function(d){var c=this._createButton("addNode","vis-button vis-add",d.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(d){var c=this._createButton("addEdge","vis-button vis-connect",d.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(d){var c=this._createButton("editNode","vis-button vis-edit",d.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(d){var c=this._createButton("editEdge","vis-button vis-edit",d.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(d){var c=this._createButton("delete","vis-button vis-delete",d.del||this.options.locales.en.del);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(d){var c=this._createButton("back","vis-button vis-back",d.back||this.options.locales.en.back);this.manipulationDiv.appendChild(c),this._bindHammerToDiv(c,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(j,f,c){var d=void 0===arguments[3]?"vis-label":arguments[3];return this.manipulationDOM[j+"Div"]=document.createElement("div"),this.manipulationDOM[j+"Div"].className=f,this.manipulationDOM[j+"Label"]=document.createElement("div"),this.manipulationDOM[j+"Label"].className=d,this.manipulationDOM[j+"Label"].innerHTML=c,this.manipulationDOM[j+"Div"].appendChild(this.manipulationDOM[j+"Label"]),this.manipulationDOM[j+"Div"]}},{key:"_createDescription",value:function(c){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",c))}},{key:"_temporaryBindEvent",value:function(d,c){this.temporaryEventFunctions.push({event:d,boundFunction:c}),this.body.emitter.on(d,c)}},{key:"_temporaryBindUI",value:function(d,c){if(void 0===this.body.eventListeners[d]){throw new Error("This UI function does not exist. Typo? You tried: "+d+" possible are: "+JSON.stringify(Object.keys(this.body.eventListeners)))}this.temporaryUIFunctions[d]=this.body.eventListeners[d],this.body.eventListeners[d]=c}},{key:"_unbindTemporaryUIs",value:function(){for(var c in this.temporaryUIFunctions){this.temporaryUIFunctions.hasOwnProperty(c)&&(this.body.eventListeners[c]=this.temporaryUIFunctions[c],delete this.temporaryUIFunctions[c])}this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var f=0;f<this.temporaryEventFunctions.length;f++){var d=this.temporaryEventFunctions[f].event,c=this.temporaryEventFunctions[f].boundFunction;this.body.emitter.off(d,c)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(f,d){var c=new t(f,{});i.onTouch(c,d),this.manipulationHammers.push(c)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var f=0;f<this.temporaryIds.edges.length;f++){this.body.edges[this.temporaryIds.edges[f]].disconnect(),delete this.body.edges[this.temporaryIds.edges[f]];var d=this.body.edgeIndices.indexOf(this.temporaryIds.edges[f]);-1!==d&&this.body.edgeIndices.splice(d,1)}for(var f=0;f<this.temporaryIds.nodes.length;f++){delete this.body.nodes[this.temporaryIds.nodes[f]];var c=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[f]);-1!==c&&this.body.nodeIndices.splice(c,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(c){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(c.center),this.lastTouch.translation=a.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(j){var p=this.lastTouch,l=this.selectionHandler._pointerToPositionObject(p),m=this.body.nodes[this.temporaryIds.nodes[0]],d=this.body.nodes[this.temporaryIds.nodes[1]],f=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var c=m.isOverlappingWith(l),k=d.isOverlappingWith(l);c===!0?(this.selectedControlNode=m,f.edgeType.from=m):k===!0&&(this.selectedControlNode=d,f.edgeType.to=d),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(k){this.body.emitter.emit("disablePhysics");var j=this.body.functions.getPointer(k.center),f=this.canvas.DOMtoCanvas(j);if(void 0!==this.selectedControlNode){this.selectedControlNode.x=f.x,this.selectedControlNode.y=f.y}else{var d=j.x-this.lastTouch.x,c=j.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+d,y:this.lastTouch.translation.y+c}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(j){for(var p=this.body.functions.getPointer(j.center),l=this.selectionHandler._pointerToPositionObject(p),m=this.body.edges[this.edgeBeingEditedId],d=this.selectionHandler._getAllNodesOverlappingWith(l),f=void 0,c=d.length-1;c>=0;c--){if(d[c]!==this.selectedControlNode.id){f=this.body.nodes[d[c]];break}}if(void 0!==f&&void 0!==this.selectedControlNode){if(f.isCluster===!0){alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError)}else{var k=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===k.id?this._performEditEdge(f.id,m.to.id):this._performEditEdge(m.from.id,f.id)}}else{m.updateEdgeType(),this.body.emitter.emit("restorePhysics")}this.body.emitter.emit("_redraw")}},{key:"_handleConnect",value:function(k){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(k.center),this.lastTouch.translation=a.extend({},this.body.view.translation);var j=this.lastTouch,f=this.selectionHandler.getNodeAt(j);if(void 0!==f){if(f.isCluster===!0){alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError)}else{var d=this._getNewTargetNode(f.x,f.y);this.body.nodes[d.id]=d,this.body.nodeIndices.push(d.id);var c=this.body.functions.createEdge({id:"connectionEdge"+a.randomUUID(),from:f.id,to:d.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:0.5}});this.body.edges[c.id]=c,this.body.edgeIndices.push(c.id),this.temporaryIds.nodes.push(d.id),this.temporaryIds.edges.push(c.id)}}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(k){var j=this.body.functions.getPointer(k.center);if(void 0!==this.temporaryIds.nodes[0]){var f=this.body.nodes[this.temporaryIds.nodes[0]];f.x=this.canvas._XconvertDOMtoCanvas(j.x),f.y=this.canvas._YconvertDOMtoCanvas(j.y),this.body.emitter.emit("_redraw")}else{var d=j.x-this.lastTouch.x,c=j.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+d,y:this.lastTouch.translation.y+c}}}},{key:"_finishConnect",value:function(k){var c=this.body.functions.getPointer(k.center),j=this.selectionHandler._pointerToPositionObject(c),m=void 0;void 0!==this.temporaryIds.edges[0]&&(m=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var l=this.selectionHandler._getAllNodesOverlappingWith(j),f=void 0,d=l.length-1;d>=0;d--){if(-1===this.temporaryIds.nodes.indexOf(l[d])){f=this.body.nodes[l[d]];break}}this._cleanupTemporaryNodesAndEdges(),void 0!==f&&(f.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[m]&&void 0!==this.body.nodes[f.id]&&this._performAddEdge(m,f.id)),this.body.emitter.emit("_redraw")}},{key:"_performAddNode",value:function(f){var d=this,c={id:a.randomUUID(),x:f.pointer.canvas.x,y:f.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length){throw new Error("The function for add does not support two arguments (data,callback)")}this.options.addNode(c,function(j){null!==j&&void 0!==j&&"addNode"===d.inMode&&(d.body.data.nodes.getDataSet().add(j),d.showManipulatorToolbar())})}else{this.body.data.nodes.getDataSet().add(c),this.showManipulatorToolbar()}}},{key:"_performAddEdge",value:function(j,f){var c=this,d={from:j,to:f};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length){throw new Error("The function for connect does not support two arguments (data,callback)")}this.options.addEdge(d,function(k){null!==k&&void 0!==k&&"addEdge"===c.inMode&&(c.body.data.edges.add(k),c.selectionHandler.unselectAll(),c.showManipulatorToolbar())})}else{this.body.data.edges.add(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}},{key:"_performEditEdge",value:function(j,f){var c=this,d={id:this.edgeBeingEditedId,from:j,to:f};if("function"==typeof this.options.editEdge){if(2!==this.options.editEdge.length){throw new Error("The function for edit does not support two arguments (data, callback)")}this.options.editEdge(d,function(k){null===k||void 0===k||"editEdge"!==c.inMode?(c.body.edges[d.id].updateEdgeType(),c.body.emitter.emit("_redraw")):(c.body.data.edges.update(k),c.selectionHandler.unselectAll(),c.showManipulatorToolbar())})}else{this.body.data.edges.update(d),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}}]),b}();n["default"]=o,h.exports=n["default"]},function(t,d,i){Object.defineProperty(d,"__esModule",{value:!0});var o="string",n="boolean",s="number",r="array",y="object",h="dom",a={configure:{enabled:{"boolean":n},filter:{"boolean":n,string:o,array:r,"function":"function"},container:{dom:h},showButton:{"boolean":n},__type__:{object:y,"boolean":n,string:o,array:r,"function":"function"}},edges:{arrows:{to:{enabled:{"boolean":n},scaleFactor:{number:s},__type__:{object:y,"boolean":n}},middle:{enabled:{"boolean":n},scaleFactor:{number:s},__type__:{object:y,"boolean":n}},from:{enabled:{"boolean":n},scaleFactor:{number:s},__type__:{object:y,"boolean":n}},__type__:{string:["from","to","middle"],object:y}},color:{color:{string:o},highlight:{string:o},hover:{string:o},inherit:{string:["from","to","both"],"boolean":n},opacity:{number:s},__type__:{object:y,string:o}},dashes:{"boolean":n,array:r},font:{color:{string:o},size:{number:s},face:{string:o},background:{string:o},strokeWidth:{number:s},strokeColor:{string:o},align:{string:["horizontal","top","middle","bottom"]},__type__:{object:y,string:o}},hidden:{"boolean":n},hoverWidth:{"function":"function",number:s},label:{string:o,undefined:"undefined"},length:{number:s,undefined:"undefined"},physics:{"boolean":n},scaling:{min:{number:s},max:{number:s},label:{enabled:{"boolean":n},min:{number:s},max:{number:s},maxVisible:{number:s},drawThreshold:{number:s},__type__:{object:y,"boolean":n}},customScalingFunction:{"function":"function"},__type__:{object:y}},selectionWidth:{"function":"function",number:s},selfReferenceSize:{number:s},shadow:{enabled:{"boolean":n},size:{number:s},x:{number:s},y:{number:s},__type__:{object:y,"boolean":n}},smooth:{enabled:{"boolean":n},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW"]},roundness:{number:s},__type__:{object:y,"boolean":n}},title:{string:o,undefined:"undefined"},width:{number:s},value:{number:s,undefined:"undefined"},__type__:{object:y}},groups:{useDefaultGroups:{"boolean":n},__any__:"get from nodes, will be overwritten below",__type__:{object:y}},interaction:{dragNodes:{"boolean":n},dragView:{"boolean":n},hideEdgesOnDrag:{"boolean":n},hideNodesOnDrag:{"boolean":n},hover:{"boolean":n},keyboard:{enabled:{"boolean":n},speed:{x:{number:s},y:{number:s},zoom:{number:s},__type__:{object:y}},bindToWindow:{"boolean":n},__type__:{object:y,"boolean":n}},multiselect:{"boolean":n},navigationButtons:{"boolean":n},selectable:{"boolean":n},selectConnectedEdges:{"boolean":n},hoverConnectedEdges:{"boolean":n},tooltipDelay:{number:s},zoomView:{"boolean":n},__type__:{object:y}},layout:{randomSeed:{undefined:"undefined",number:s},hierarchical:{enabled:{"boolean":n},levelSeparation:{number:s},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:y,"boolean":n}},__type__:{object:y}},manipulation:{enabled:{"boolean":n},initiallyActive:{"boolean":n},addNode:{"boolean":n,"function":"function"},addEdge:{"boolean":n,"function":"function"},editNode:{"function":"function"},editEdge:{"boolean":n,"function":"function"},deleteNode:{"boolean":n,"function":"function"},deleteEdge:{"boolean":n,"function":"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:y,"boolean":n}},nodes:{borderWidth:{number:s},borderWidthSelected:{number:s,undefined:"undefined"},brokenImage:{string:o,undefined:"undefined"},color:{border:{string:o},background:{string:o},highlight:{border:{string:o},background:{string:o},__type__:{object:y,string:o}},hover:{border:{string:o},background:{string:o},__type__:{object:y,string:o}},__type__:{object:y,string:o}},fixed:{x:{"boolean":n},y:{"boolean":n},__type__:{object:y,"boolean":n}},font:{color:{string:o},size:{number:s},face:{string:o},background:{string:o},strokeWidth:{number:s},strokeColor:{string:o},__type__:{object:y,string:o}},group:{string:o,number:s,undefined:"undefined"},hidden:{"boolean":n},icon:{face:{string:o},code:{string:o},size:{number:s},color:{string:o},__type__:{object:y}},id:{string:o,number:s},image:{string:o,undefined:"undefined"},label:{string:o,undefined:"undefined"},level:{number:s,undefined:"undefined"},mass:{number:s},physics:{"boolean":n},scaling:{min:{number:s},max:{number:s},label:{enabled:{"boolean":n},min:{number:s},max:{number:s},maxVisible:{number:s},drawThreshold:{number:s},__type__:{object:y,"boolean":n}},customScalingFunction:{"function":"function"},__type__:{object:y}},shadow:{enabled:{"boolean":n},size:{number:s},x:{number:s},y:{number:s},__type__:{object:y,"boolean":n}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon"]},size:{number:s},title:{string:o,undefined:"undefined"},value:{number:s,undefined:"undefined"},x:{number:s},y:{number:s},__type__:{object:y}},physics:{enabled:{"boolean":n},barnesHut:{gravitationalConstant:{number:s},centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},damping:{number:s},avoidOverlap:{number:s},__type__:{object:y}},forceAtlas2Based:{gravitationalConstant:{number:s},centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},damping:{number:s},avoidOverlap:{number:s},__type__:{object:y}},repulsion:{centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},nodeDistance:{number:s},damping:{number:s},__type__:{object:y}},hierarchicalRepulsion:{centralGravity:{number:s},springLength:{number:s},springConstant:{number:s},nodeDistance:{number:s},damping:{number:s},__type__:{object:y}},maxVelocity:{number:s},minVelocity:{number:s},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{"boolean":n},iterations:{number:s},updateInterval:{number:s},onlyDynamicEdges:{"boolean":n},fit:{"boolean":n},__type__:{object:y,"boolean":n}},timestep:{number:s},__type__:{object:y,"boolean":n}},autoResize:{"boolean":n},clickToUse:{"boolean":n},locale:{string:o},locales:{__any__:{object:y},__type__:{object:y}},height:{string:o},width:{string:o},__type__:{object:y}};a.groups.__any__=a.nodes,a.manipulation.controlNodeStyle=a.nodes;var l={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown"],size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,0.05]},middle:{enabled:!1,scaleFactor:[1,0,3,0.05]},from:{enabled:!1,scaleFactor:[1,0,3,0.05]}},color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,0.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,0.1],physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,0.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW"],roundness:[0.5,0,1,0.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[0.02,0,0.1,0.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1000,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2000,-30000,0,50],centralGravity:[0.3,0,10,0.05],springLength:[95,0,500,5],springConstant:[0.04,0,1.2,0.005],damping:[0.09,0,1,0.01],avoidOverlap:[0,0,1,0.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[0.01,0,1,0.005],springLength:[95,0,500,5],springConstant:[0.08,0,1.2,0.005],damping:[0.4,0,1,0.01],avoidOverlap:[0,0,1,0.01]},repulsion:{centralGravity:[0.2,0,10,0.05],springLength:[200,0,500,5],springConstant:[0.05,0,1.2,0.005],nodeDistance:[100,0,500,5],damping:[0.09,0,1,0.01]},hierarchicalRepulsion:{centralGravity:[0.2,0,10,0.05],springLength:[100,0,500,5],springConstant:[0.01,0,1.2,0.005],nodeDistance:[120,0,500,5],damping:[0.09,0,1,0.01]},maxVelocity:[50,0,150,1],minVelocity:[0.1,0.01,0.5,0.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[0.5,0.01,1,0.01]},global:{locale:["en","nl"]}};d.allOptions=a,d.configureOptions=l},function(d,h,f){"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.circle=function(b,a,c){this.beginPath(),this.arc(b,a,c,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(b,a,c){this.beginPath(),this.rect(b-c,a-c,2*c,2*c),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(o,c,p){this.beginPath(),p*=1.15,c+=0.275*p;var b=2*p,a=b/2,n=Math.sqrt(3)/6*b,i=Math.sqrt(b*b-a*a);this.moveTo(o,c-(i-n)),this.lineTo(o+a,c+n),this.lineTo(o-a,c+n),this.lineTo(o,c-(i-n)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(o,c,p){this.beginPath(),p*=1.15,c-=0.275*p;var b=2*p,a=b/2,n=Math.sqrt(3)/6*b,i=Math.sqrt(b*b-a*a);this.moveTo(o,c+(i-n)),this.lineTo(o+a,c-n),this.lineTo(o-a,c-n),this.lineTo(o,c+(i-n)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(i,c,l){this.beginPath(),l*=0.82,c+=0.1*l;for(var b=0;10>b;b++){var a=b%2===0?1.3*l:0.5*l;this.lineTo(i+a*Math.sin(2*b*Math.PI/10),c-a*Math.cos(2*b*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(b,a,c){this.beginPath(),this.lineTo(b,a+c),this.lineTo(b+c,a),this.lineTo(b,a-c),this.lineTo(b-c,a),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(m,c,n,b,a){var i=Math.PI/180;0>n-2*a&&(a=n/2),0>b-2*a&&(a=b/2),this.beginPath(),this.moveTo(m+a,c),this.lineTo(m+n-a,c),this.arc(m+n-a,c+a,a,270*i,360*i,!1),this.lineTo(m+n,c+b-a),this.arc(m+n-a,c+b-a,a,0,90*i,!1),this.lineTo(m+a,c+b),this.arc(m+a,c+b-a,a,90*i,180*i,!1),this.lineTo(m,c+a),this.arc(m+a,c+a,a,180*i,270*i,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse=function(r,A,b,l){var i=0.5522848,o=b/2*i,n=l/2*i,s=r+b,a=A+l,t=r+b/2,c=A+l/2;this.beginPath(),this.moveTo(r,c),this.bezierCurveTo(r,c-n,t-o,A,t,A),this.bezierCurveTo(t+o,A,s,c-n,s,c),this.bezierCurveTo(s,c+n,t+o,a,t,a),this.bezierCurveTo(t-o,a,r,c+n,r,c),this.closePath()},CanvasRenderingContext2D.prototype.database=function(t,b,o,c){var u=1/3,s=o,n=c*u,L=0.5522848,l=s/2*L,a=n/2*L,p=t+s,K=b+n,M=t+s/2,m=b+n/2,i=b+(c-n/2),r=b+c;this.beginPath(),this.moveTo(p,m),this.bezierCurveTo(p,m+a,M+l,K,M,K),this.bezierCurveTo(M-l,K,t,m+a,t,m),this.bezierCurveTo(t,m-a,M-l,b,M,b),this.bezierCurveTo(M+l,b,p,m-a,p,m),this.lineTo(p,i),this.bezierCurveTo(p,i+a,M+l,r,M,r),this.bezierCurveTo(M-l,r,t,i+a,t,i),this.lineTo(t,m)},CanvasRenderingContext2D.prototype.arrow=function(i,C,c,o){var n=i-o*Math.cos(c),b=C-o*Math.sin(c),r=i-0.9*o*Math.cos(c),t=C-0.9*o*Math.sin(c),a=n+o/3*Math.cos(c+0.5*Math.PI),u=b+o/3*Math.sin(c+0.5*Math.PI),l=n+o/3*Math.cos(c-0.5*Math.PI),s=b+o/3*Math.sin(c-0.5*Math.PI);this.beginPath(),this.moveTo(i,C),this.lineTo(a,u),this.lineTo(r,t),this.lineTo(l,s),this.closePath()},CanvasRenderingContext2D.prototype.dashedLine=function(a,t,F,o,n){this.beginPath(),this.moveTo(a,t);for(var G=n.length,r=F-a,i=o-t,u=i/r,s=Math.sqrt(r*r+i*i),c=0,b=!0,l=0,p=n[0];s>=0.1;){p=n[c++%G],p>s&&(p=s),l=Math.sqrt(p*p/(1+u*u)),l=0>r?-l:l,a+=l,t+=u*l,b===!0?this.lineTo(a,t):this.moveTo(a,t),s-=p,b=!b}})},function(O,o,v){function C(j){return p=j,s()}function B(){E=0,a=p.charAt(0)}function M(){E++,a=p.charAt(E)}function I(){return p.charAt(E+1)}function f(j){return c.test(j)}function u(j,F){if(j||(j={}),F){for(var q in F){F.hasOwnProperty(q)&&(j[q]=F[q])}}return j}function n(j,H,q){for(var G=H.split("."),F=j;G.length;){var K=G.shift();G.length?(F[K]||(F[K]={}),F=F[K]):F[K]=q}}function y(Q,G){for(var R,F,q=null,K=[Q],H=Q;H.parent;){K.push(H.parent),H=H.parent}if(H.nodes){for(R=0,F=H.nodes.length;F>R;R++){if(G.id===H.nodes[R].id){q=H.nodes[R];break}}}for(q||(q={id:G.id},Q.node&&(q.attr=u(q.attr,Q.node))),R=K.length-1;R>=0;R--){var j=K[R];j.nodes||(j.nodes=[]),-1===j.nodes.indexOf(q)&&j.nodes.push(q)}G.attr&&(q.attr=u(q.attr,G.attr))}function P(j,F){if(j.edges||(j.edges=[]),j.edges.push(F),j.edge){var q=u({},j.edge);F.attr=u(q,F.attr)}}function l(j,H,q,G,F){var K={from:H,to:q,type:G};return j.edge&&(K.attr=u({},j.edge)),K.attr=u(K.attr||{},F),K}function D(){for(r=ae.NULL,b="";" "===a||"	"===a||"\n"===a||"\r"===a;){M()}do{var j=!1;if("#"===a){for(var F=E-1;" "===p.charAt(F)||"	"===p.charAt(F);){F--}if("\n"===p.charAt(F)||""===p.charAt(F)){for(;""!=a&&"\n"!=a;){M()}j=!0}}if("/"===a&&"/"===I()){for(;""!=a&&"\n"!=a;){M()}j=!0}if("/"===a&&"*"===I()){for(;""!=a;){if("*"===a&&"/"===I()){M(),M();break}M()}j=!0}for(;" "===a||"	"===a||"\n"===a||"\r"===a;){M()}}while(j);if(""===a){return void (r=ae.DELIMITER)}var q=a+I();if(N[q]){return r=ae.DELIMITER,b=q,M(),void M()}if(N[a]){return r=ae.DELIMITER,b=a,void M()}if(f(a)||"-"===a){for(b+=a,M();f(a);){b+=a,M()}return"false"===b?b=!1:"true"===b?b=!0:isNaN(Number(b))||(b=Number(b)),void (r=ae.IDENTIFIER)}if('"'===a){for(M();""!=a&&('"'!=a||'"'===a&&'"'===I());){b+=a,'"'===a&&M(),M()}if('"'!=a){throw ac('End of string " expected')}return M(),void (r=ae.IDENTIFIER)}for(r=ae.UNKNOWN;""!=a;){b+=a,M()}throw new SyntaxError('Syntax error in part "'+x(b,30)+'"')}function s(){var j={};if(B(),D(),"strict"===b&&(j.strict=!0,D()),("graph"===b||"digraph"===b)&&(j.type=b,D()),r===ae.IDENTIFIER&&(j.id=b,D()),"{"!=b){throw ac("Angle bracket { expected")}if(D(),z(j),"}"!=b){throw ac("Angle bracket } expected")}if(D(),""!==b){throw ac("End of file expected")}return D(),delete j.node,delete j.edge,delete j.graph,j}function z(j){for(;""!==b&&"}"!=b;){S(j),";"===b&&D()}}function S(j){var G=t(j);if(G){return void T(j,G)}var q=ad(j);if(!q){if(r!=ae.IDENTIFIER){throw ac("Identifier expected")}var F=b;if(D(),"="===b){if(D(),r!=ae.IDENTIFIER){throw ac("Identifier expected")}j[F]=b,D()}else{i(j,F)}}}function t(q){var j=null;if("subgraph"===b&&(j={},j.type="subgraph",D(),r===ae.IDENTIFIER&&(j.id=b,D())),"{"===b){if(D(),j||(j={}),j.parent=q,j.node=q.node,j.edge=q.edge,j.graph=q.graph,z(j),"}"!=b){throw ac("Angle bracket } expected")}D(),delete j.node,delete j.edge,delete j.graph,delete j.parent,q.subgraphs||(q.subgraphs=[]),q.subgraphs.push(j)}return j}function ad(j){return"node"===b?(D(),j.node=d(),"node"):"edge"===b?(D(),j.edge=d(),"edge"):"graph"===b?(D(),j.graph=d(),"graph"):null}function i(j,G){var q={id:G},F=d();F&&(q.attr=F),y(j,q),T(j,G)}function T(j,H){for(;"->"===b||"--"===b;){var q,G=b;D();var F=t(j);if(F){q=F}else{if(r!=ae.IDENTIFIER){throw ac("Identifier or subgraph expected")}q=b,y(j,{id:q}),D()}var Q=d(),K=l(j,H,q,G,Q);P(j,K),H=q}}function d(){for(var j=null;"["===b;){for(D(),j={};""!==b&&"]"!=b;){if(r!=ae.IDENTIFIER){throw ac("Attribute name expected")}var F=b;if(D(),"="!=b){throw ac("Equal sign = expected")}if(D(),r!=ae.IDENTIFIER){throw ac("Attribute value expected")}var q=b;n(j,F,q),D(),","==b&&D()}if("]"!=b){throw ac("Bracket ] expected")}D()}return j}function ac(j){return new SyntaxError(j+', got "'+x(b,30)+'" (char '+E+")")}function x(q,j){return q.length<=j?q:q.substr(0,27)+"..."}function A(j,F,q){Array.isArray(j)?j.forEach(function(G){Array.isArray(F)?F.forEach(function(H){q(G,H)}):q(G,F)}):Array.isArray(F)?F.forEach(function(G){q(j,G)}):q(j,F)}function L(Q,G,R){for(var F=G.split("."),q=F.pop(),K=Q,H=0;H<F.length;H++){var j=F[H];j in K||(K[j]={}),K=K[j]}return K[q]=R,Q}function k(j,H){var q={};for(var G in j){if(j.hasOwnProperty(G)){var F=H[G];Array.isArray(F)?F.forEach(function(K){L(q,K,j[G])}):"string"==typeof F?L(q,F,j[G]):L(q,G,j[G])}}return q}function af(j){var G=C(j),q={nodes:[],edges:[],options:{}};if(G.nodes&&G.nodes.forEach(function(K){var H={id:K.id,label:String(K.label||K.id)};u(H,k(K.attr,h)),H.image&&(H.shape="image"),q.nodes.push(H)}),G.edges){var F=function(K){var H={from:K.from,to:K.to};return u(H,k(K.attr,m)),H.arrows="->"===K.type?"to":void 0,H};G.edges.forEach(function(Q){var K,H;K=Q.from instanceof Object?Q.from.nodes:{id:Q.from},H=Q.to instanceof Object?Q.to.nodes:{id:Q.to},Q.from instanceof Object&&Q.from.edges&&Q.from.edges.forEach(function(U){var R=F(U);q.edges.push(R)}),A(K,H,function(R,W){var V=l(q,R.id,W.id,Q.type,Q.attr),U=F(V);q.edges.push(U)}),Q.to instanceof Object&&Q.to.edges&&Q.to.edges.forEach(function(U){var R=F(U);q.edges.push(R)})})}return G.attr&&(q.options=G.attr),q}var h={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},m=Object.create(h);m.color="color.color";var ae={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},N={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},p="",E=0,a="",b="",r=ae.NULL,c=/[a-zA-Z_0-9.:#]/;o.parseDOT=C,o.DOTToGraph=af},function(f,j,h){function i(d,C){var c=[],o=[],n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==C&&(void 0!==C.fixed&&(n.nodes.fixed=C.fixed),void 0!==C.parseColor&&(n.nodes.parseColor=C.parseColor),void 0!==C.inheritColor&&(n.edges.inheritColor=C.inheritColor));for(var b=d.edges,r=d.nodes,t=0;t<b.length;t++){var a={},u=b[t];a.id=u.id,a.from=u.source,a.to=u.target,a.attributes=u.attributes,u.color&&n.inheritColor===!1&&(a.color=u.color),c.push(a)}for(var t=0;t<r.length;t++){var l={},s=r[t];l.id=s.id,l.attributes=s.attributes,l.title=s.title,l.x=s.x,l.y=s.y,l.label=s.label,n.nodes.parseColor===!0?l.color=s.color:l.color=void 0!==s.color?{background:s.color,border:s.color,highlight:{background:s.color,border:s.color},hover:{background:s.color,border:s.color}}:void 0,l.size=s.size,l.fixed=n.nodes.fixed&&void 0!==s.x&&void 0!==s.y,o.push(l)}return{nodes:o,edges:c}}j.parseGephi=i},function(f,j,h){function i(a){this.images={},this.imageBroken={},this.callback=a}i.prototype.load=function(d,c,m){var b=this.images[d];if(void 0===b){var a=this;b=new Image,b.onload=function(){0===this.width&&(document.body.appendChild(this),this.width=this.offsetWidth,this.height=this.offsetHeight,document.body.removeChild(this)),a.callback&&(a.images[d]=b,a.callback(this))},b.onerror=function(){void 0===c?(console.error("Could not load image:",d),delete this.src,a.callback&&a.callback(this)):a.imageBroken[m]&&a.imageBroken[m][d]===!0?(console.error("Could not load brokenImage:",c),delete this.src,a.callback&&a.callback(this)):(console.error("Could not load image:",d),this.src=c,void 0===a.imageBroken[m]&&(a.imageBroken[m]={}),a.imageBroken[m][d]=!0)},b.src=d}return b},f.exports=i},function(d,h,f){h.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},h.en_EN=h.en,h.en_US=h.en,h.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},h.nl_NL=h.nl,h.nl_BE=h.nl}])});(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"undefined"!==typeof module&&module.exports?module.exports=b(require("jquery")):b(jQuery)})(function(f){function i(a){return !a.nodeName||-1!==f.inArray(a.nodeName.toLowerCase(),["iframe","#document","html","body"])}function h(a){return f.isFunction(a)||f.isPlainObject(a)?a:{top:a,left:a}}var j=f.scrollTo=function(b,a,c){return f(window).scrollTo(b,a,c)};j.defaults={axis:"xy",duration:0,limit:!0};f.fn.scrollTo=function(c,a,d){"object"===typeof a&&(d=a,a=0);"function"===typeof d&&(d={onAfter:d});"max"===c&&(c=9000000000);d=f.extend({},j.defaults,d);a=a||d.duration;var b=d.queue&&1<d.axis.length;b&&(a/=2);d.offset=h(d.offset);d.over=h(d.over);return this.each(function(){function v(m){var n=f.extend({},d,{queue:!0,duration:a,complete:m&&function(){m.call(k,A,d)}});r.animate(q,n)}if(null!==c){var l=i(this),k=l?this.contentWindow||window:this,r=f(k),A=c,q={},t;switch(typeof A){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(A)){A=h(A);break}A=l?f(A):f(A,k);if(!A.length){return}case"object":if(A.is||A.style){t=(A=f(A)).offset()}}var z=f.isFunction(d.offset)&&d.offset(k,A)||d.offset;f.each(d.axis.split(""),function(m,x){var p="x"===x?"Left":"Top",o=p.toLowerCase(),s="scroll"+p,u=r[s](),n=j.max(k,x);t?(q[s]=t[o]+(l?0:u-r.offset()[o]),d.margin&&(q[s]-=parseInt(A.css("margin"+p),10)||0,q[s]-=parseInt(A.css("border"+p+"Width"),10)||0),q[s]+=z[o]||0,d.over[o]&&(q[s]+=A["x"===x?"width":"height"]()*d.over[o])):(p=A[o],q[s]=p.slice&&"%"===p.slice(-1)?parseFloat(p)/100*n:p);d.limit&&/^\d+$/.test(q[s])&&(q[s]=0>=q[s]?0:Math.min(q[s],n));!m&&1<d.axis.length&&(u===q[s]?q={}:b&&(v(d.onAfterFirst),q={}))});v(d.onAfter)}})};j.max=function(b,k){var d="x"===k?"Width":"Height",l="scroll"+d;if(!i(b)){return b[l]-f(b)[d.toLowerCase()]()}var d="client"+d,a=b.ownerDocument||b.document,c=a.documentElement,a=a.body;return Math.max(c[l],a[l])-Math.min(c[d],a[d])};f.Tween.propHooks.scrollLeft=f.Tween.propHooks.scrollTop={get:function(a){return f(a.elem)[a.prop]()},set:function(b){var a=this.get(b);if(b.options.interrupt&&b._last&&b._last!==a){return f(b.elem).stop()}var c=Math.round(b.now);a!==c&&(f(b.elem)[b.prop](c),b._last=this.get(b))}};return j});(function(){var b=[].slice;!function(h,a){var f;return f=function(){function c(d,i){null==i&&(i={}),this.$element=h(d),this.options=h.extend({},h.fn.bootstrapSwitch.defaults,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},i),this.$wrapper=h("<div>",{"class":function(j){return function(){var l;return l=[""+j.options.baseClass].concat(j._getClasses(j.options.wrapperClass)),l.push(j.options.state?""+j.options.baseClass+"-on":""+j.options.baseClass+"-off"),null!=j.options.size&&l.push(""+j.options.baseClass+"-"+j.options.size),j.options.disabled&&l.push(""+j.options.baseClass+"-disabled"),j.options.readonly&&l.push(""+j.options.baseClass+"-readonly"),j.options.indeterminate&&l.push(""+j.options.baseClass+"-indeterminate"),j.options.inverse&&l.push(""+j.options.baseClass+"-inverse"),j.$element.attr("id")&&l.push(""+j.options.baseClass+"-id-"+j.$element.attr("id")),l.join(" ")}}(this)()}),this.$container=h("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=h("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=h("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=h("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.bootstrapSwitch",function(j){return function(){return j.options.onInit.apply(d,arguments)}}(this)),this.$element.on("switchChange.bootstrapSwitch",function(j){return function(){return j.options.onSwitchChange.apply(d,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch")}return c.prototype._constructor=c,c.prototype.state=function(j,d){return"undefined"==typeof j?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),j=!!j,this.$element.prop("checked",j).trigger("change.bootstrapSwitch",d),this.$element)},c.prototype.toggleState=function(d){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",d)},c.prototype.size=function(d){return"undefined"==typeof d?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),d&&this.$wrapper.addClass(""+this.options.baseClass+"-"+d),this._width(),this._containerPosition(),this.options.size=d,this.$element)},c.prototype.animate=function(d){return"undefined"==typeof d?this.options.animate:(d=!!d,d===this.options.animate?this.$element:this.toggleAnimate())},c.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},c.prototype.disabled=function(d){return"undefined"==typeof d?this.options.disabled:(d=!!d,d===this.options.disabled?this.$element:this.toggleDisabled())},c.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},c.prototype.readonly=function(d){return"undefined"==typeof d?this.options.readonly:(d=!!d,d===this.options.readonly?this.$element:this.toggleReadonly())},c.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},c.prototype.indeterminate=function(d){return"undefined"==typeof d?this.options.indeterminate:(d=!!d,d===this.options.indeterminate?this.$element:this.toggleIndeterminate())},c.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},c.prototype.inverse=function(d){return"undefined"==typeof d?this.options.inverse:(d=!!d,d===this.options.inverse?this.$element:this.toggleInverse())},c.prototype.toggleInverse=function(){var j,d;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),d=this.$on.clone(!0),j=this.$off.clone(!0),this.$on.replaceWith(j),this.$off.replaceWith(d),this.$on=j,this.$off=d,this.options.inverse=!this.options.inverse,this.$element},c.prototype.onColor=function(j){var d;return d=this.options.onColor,"undefined"==typeof j?d:(null!=d&&this.$on.removeClass(""+this.options.baseClass+"-"+d),this.$on.addClass(""+this.options.baseClass+"-"+j),this.options.onColor=j,this.$element)},c.prototype.offColor=function(j){var d;return d=this.options.offColor,"undefined"==typeof j?d:(null!=d&&this.$off.removeClass(""+this.options.baseClass+"-"+d),this.$off.addClass(""+this.options.baseClass+"-"+j),this.options.offColor=j,this.$element)},c.prototype.onText=function(d){return"undefined"==typeof d?this.options.onText:(this.$on.html(d),this._width(),this._containerPosition(),this.options.onText=d,this.$element)},c.prototype.offText=function(d){return"undefined"==typeof d?this.options.offText:(this.$off.html(d),this._width(),this._containerPosition(),this.options.offText=d,this.$element)},c.prototype.labelText=function(d){return"undefined"==typeof d?this.options.labelText:(this.$label.html(d),this._width(),this.options.labelText=d,this.$element)},c.prototype.handleWidth=function(d){return"undefined"==typeof d?this.options.handleWidth:(this.options.handleWidth=d,this._width(),this._containerPosition(),this.$element)},c.prototype.labelWidth=function(d){return"undefined"==typeof d?this.options.labelWidth:(this.options.labelWidth=d,this._width(),this._containerPosition(),this.$element)},c.prototype.baseClass=function(){return this.options.baseClass},c.prototype.wrapperClass=function(d){return"undefined"==typeof d?this.options.wrapperClass:(d||(d=h.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(d).join(" ")),this.options.wrapperClass=d,this.$element)},c.prototype.radioAllOff=function(d){return"undefined"==typeof d?this.options.radioAllOff:(d=!!d,d===this.options.radioAllOff?this.$element:(this.options.radioAllOff=d,this.$element))},c.prototype.onInit=function(d){return"undefined"==typeof d?this.options.onInit:(d||(d=h.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=d,this.$element)},c.prototype.onSwitchChange=function(d){return"undefined"==typeof d?this.options.onSwitchChange:(d||(d=h.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=d,this.$element)},c.prototype.destroy=function(){var d;return d=this.$element.closest("form"),d.length&&d.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element},c.prototype._width=function(){var j,d;return j=this.$on.add(this.$off),j.add(this.$label).css("width",""),d="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,j.width(d),this.$label.width(function(i){return function(n,m){return"auto"!==i.options.labelWidth?i.options.labelWidth:d>m?d:m}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},c.prototype._containerPosition=function(j,d){return null==j&&(j=this.options.state),this.$container.css("margin-left",function(i){return function(){var l;return l=[0,"-"+i._handleWidth+"px"],i.options.indeterminate?"-"+i._handleWidth/2+"px":j?i.options.inverse?l[1]:l[0]:i.options.inverse?l[0]:l[1]}}(this)),d?setTimeout(function(){return d()},50):void 0},c.prototype._init=function(){var j,d;return j=function(i){return function(){return i._width(),i._containerPosition(null,function(){return i.options.animate?i.$wrapper.addClass(""+i.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?j():d=a.setInterval(function(i){return function(){return i.$wrapper.is(":visible")?(j(),a.clearInterval(d)):void 0}}(this),50)},c.prototype._elementHandlers=function(){return this.$element.on({"change.bootstrapSwitch":function(d){return function(n,i){var m;return n.preventDefault(),n.stopImmediatePropagation(),m=d.$element.is(":checked"),d._containerPosition(m),m!==d.options.state?(d.options.state=m,d.$wrapper.toggleClass(""+d.options.baseClass+"-off").toggleClass(""+d.options.baseClass+"-on"),i?void 0:(d.$element.is(":radio")&&h("[name='"+d.$element.attr("name")+"']").not(d.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),d.$element.trigger("switchChange.bootstrapSwitch",[m]))):void 0}}(this),"focus.bootstrapSwitch":function(d){return function(j){return j.preventDefault(),d.$wrapper.addClass(""+d.options.baseClass+"-focused")}}(this),"blur.bootstrapSwitch":function(d){return function(j){return j.preventDefault(),d.$wrapper.removeClass(""+d.options.baseClass+"-focused")}}(this),"keydown.bootstrapSwitch":function(d){return function(j){if(j.which&&!d.options.disabled&&!d.options.readonly){switch(j.which){case 37:return j.preventDefault(),j.stopImmediatePropagation(),d.state(!1);case 39:return j.preventDefault(),j.stopImmediatePropagation(),d.state(!0)}}}}(this)})},c.prototype._handleHandlers=function(){return this.$on.on("click.bootstrapSwitch",function(d){return function(j){return j.preventDefault(),j.stopPropagation(),d.state(!1),d.$element.trigger("focus.bootstrapSwitch")}}(this)),this.$off.on("click.bootstrapSwitch",function(d){return function(j){return j.preventDefault(),j.stopPropagation(),d.state(!0),d.$element.trigger("focus.bootstrapSwitch")}}(this))},c.prototype._labelHandlers=function(){return this.$label.on({"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(d){return function(j){return d._dragStart||d.options.disabled||d.options.readonly?void 0:(j.preventDefault(),j.stopPropagation(),d._dragStart=(j.pageX||j.originalEvent.touches[0].pageX)-parseInt(d.$container.css("margin-left"),10),d.options.animate&&d.$wrapper.removeClass(""+d.options.baseClass+"-animate"),d.$element.trigger("focus.bootstrapSwitch"))}}(this),"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(d){return function(i){var l;if(null!=d._dragStart&&(i.preventDefault(),l=(i.pageX||i.originalEvent.touches[0].pageX)-d._dragStart,!(l<-d._handleWidth||l>0))){return d._dragEnd=l,d.$container.css("margin-left",""+d._dragEnd+"px")}}}(this),"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(d){return function(i){var l;if(d._dragStart){return i.preventDefault(),d.options.animate&&d.$wrapper.addClass(""+d.options.baseClass+"-animate"),d._dragEnd?(l=d._dragEnd>-(d._handleWidth/2),d._dragEnd=!1,d.state(d.options.inverse?!l:l)):d.state(!d.options.state),d._dragStart=!1}}}(this),"mouseleave.bootstrapSwitch":function(d){return function(){return d.$label.trigger("mouseup.bootstrapSwitch")}}(this)})},c.prototype._externalLabelHandler=function(){var d;return d=this.$element.closest("label"),d.on("click",function(j){return function(i){return i.preventDefault(),i.stopImmediatePropagation(),i.target===d[0]?j.toggleState():void 0}}(this))},c.prototype._formHandler=function(){var d;return d=this.$element.closest("form"),d.data("bootstrap-switch")?void 0:d.on("reset.bootstrapSwitch",function(){return a.setTimeout(function(){return d.find("input").filter(function(){return h(this).data("bootstrap-switch")}).each(function(){return h(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)},c.prototype._getClasses=function(o){var p,d,i,n;if(!h.isArray(o)){return[""+this.options.baseClass+"-"+o]}for(d=[],i=0,n=o.length;n>i;i++){p=o[i],d.push(""+this.options.baseClass+"-"+p)}return d},c}(),h.fn.bootstrapSwitch=function(){var i,c,d;return c=arguments[0],i=2<=arguments.length?b.call(arguments,1):[],d=this,this.each(function(){var j,l;return j=h(this),l=j.data("bootstrap-switch"),l||j.data("bootstrap-switch",l=new f(this,c)),"string"==typeof c?d=l[c].apply(l,i):void 0}),d},h.fn.bootstrapSwitch.Constructor=f,h.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}(window.jQuery,window)}).call(this);
/*!
 * Bootstrap-select v1.6.3 (http://silviomoreto.github.io/bootstrap-select/)
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
(function(o){o.expr[":"].icontains=function(a,c,b){return l(o(a).text(),b[3])};o.expr[":"].aicontains=function(a,c,b){return l(o(a).data("normalizedText")||o(a).text(),b[3])};function l(b,a){return b.toUpperCase().indexOf(a.toUpperCase())>-1}function m(a){var b=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];o.each(b,function(){a=a.replace(this.re,this.ch)});return a}function n(c){var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var f="(?:"+Object.keys(a).join("|")+")",h=new RegExp(f),b=new RegExp(f,"g"),d=c==null?"":""+c;return h.test(d)?d.replace(b,function(i){return a[i]}):d}var j=function(b,c,a){if(a){a.stopPropagation();a.preventDefault()}this.$element=o(b);this.$newElement=null;this.$button=null;this.$menu=null;this.$lis=null;this.options=c;if(this.options.title===null){this.options.title=this.$element.attr("title")}this.val=j.prototype.val;this.render=j.prototype.render;this.refresh=j.prototype.refresh;this.setStyle=j.prototype.setStyle;this.selectAll=j.prototype.selectAll;this.deselectAll=j.prototype.deselectAll;this.destroy=j.prototype.remove;this.remove=j.prototype.remove;this.show=j.prototype.show;this.hide=j.prototype.hide;this.init()};j.VERSION="1.6.3";j.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(a,b){return(a==1)?"{0} item selected":"{0} items selected"},maxOptionsText:function(b,a){var c=[];c[0]=(b==1)?"Limit reached ({n} item max)":"Limit reached ({n} items max)";c[1]=(a==1)?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)";return c},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:false,container:false,hideDisabled:false,showSubtext:false,showIcon:true,showContent:true,dropupAuto:true,header:false,liveSearch:false,actionsBox:false,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:false,mobile:false,selectOnTab:false,dropdownAlignRight:false,searchAccentInsensitive:false};j.prototype={constructor:j,init:function(){var b=this,a=this.$element.attr("id");this.$element.hide();this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");if(this.options.dropdownAlignRight){this.$menu.addClass("dropdown-menu-right")}if(typeof a!=="undefined"){this.$button.attr("data-id",a);o('label[for="'+a+'"]').click(function(c){c.preventDefault();b.$button.focus()})}this.checkDisabled();this.clickListener();if(this.options.liveSearch){this.liveSearchListener()}this.render();this.liHeight();this.setStyle();this.setWidth();if(this.options.container){this.selectPosition()}this.$menu.data("this",this);this.$newElement.data("this",this);if(this.options.mobile){this.mobile()}},createDropdown:function(){var c=this.multiple?" show-tick":"",b=this.$element.parent().hasClass("input-group")?" input-group-btn":"",f=this.autofocus?" autofocus":"",d=this.$element.parents().hasClass("form-group-lg")?" btn-lg":(this.$element.parents().hasClass("form-group-sm")?" btn-sm":"");var h=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"";var i=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"";var r=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"";var a='<div class="btn-group bootstrap-select'+c+b+'"><button type="button" class="btn dropdown-toggle selectpicker'+d+'" data-toggle="dropdown"'+f+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+h+i+r+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return o(a)},createView:function(){var b=this.createDropdown();var a=this.createLi();b.find("ul").append(a);return b},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var a=this,b=[],f=0;var d=function(h,r,i){return"<li"+(typeof i!=="undefined"?' class="'+i+'"':"")+(typeof r!=="undefined"|null===r?' data-original-index="'+r+'"':"")+">"+h+"</li>"};var c=function(h,u,i,v){var t=m(n(h));return'<a tabindex="0"'+(typeof u!=="undefined"?' class="'+u+'"':"")+(typeof i!=="undefined"?' style="'+i+'"':"")+(typeof v!=="undefined"?'data-optgroup="'+v+'"':"")+' data-normalized-text="'+t+'">'+h+'<span class="'+a.options.iconBase+" "+a.options.tickIcon+' check-mark"></span></a>'};this.$element.find("option").each(function(){var I=o(this);var A=I.attr("class")||"",h=I.attr("style"),D=I.data("content")?I.data("content"):I.html(),F=typeof I.data("subtext")!=="undefined"?'<small class="muted text-muted">'+I.data("subtext")+"</small>":"",H=typeof I.data("icon")!=="undefined"?'<span class="'+a.options.iconBase+" "+I.data("icon")+'"></span> ':"",E=I.is(":disabled")||I.parent().is(":disabled"),i=I[0].index;if(H!==""&&E){H="<span>"+H+"</span>"}if(!I.data("content")){D=H+'<span class="text">'+D+F+"</span>"}if(a.options.hideDisabled&&E){return}if(I.parent().is("optgroup")&&I.data("divider")!==true){if(I.index()===0){f+=1;var G=I.parent().attr("label");var C=typeof I.parent().data("subtext")!=="undefined"?'<small class="muted text-muted">'+I.parent().data("subtext")+"</small>":"";var B=I.parent().data("icon")?'<span class="'+a.options.iconBase+" "+I.parent().data("icon")+'"></span> ':"";G=B+'<span class="text">'+G+C+"</span>";if(i!==0&&b.length>0){b.push(d("",null,"divider"))}b.push(d(G,null,"dropdown-header"))}b.push(d(c(D,"opt "+A,h,f),i))}else{if(I.data("divider")===true){b.push(d("",i,"divider"))}else{if(I.data("hidden")===true){b.push(d(c(D,A,h),i,"hide is-hidden"))}else{b.push(d(c(D,A,h),i))}}}});if(!this.multiple&&this.$element.find("option:selected").length===0&&!this.options.title){this.$element.find("option").eq(0).prop("selected",true).attr("selected","selected")}return o(b.join(""))},findLis:function(){if(this.$lis==null){this.$lis=this.$menu.find("li")}return this.$lis},render:function(a){var b=this;if(a!==false){this.$element.find("option").each(function(q){b.setDisabled(q,o(this).is(":disabled")||o(this).parent().is(":disabled"));b.setSelected(q,o(this).is(":selected"))})}this.tabIndex();var i=this.options.hideDisabled?":not([disabled])":"";var f=this.$element.find("option:selected"+i).map(function(){var q=o(this);var u=q.data("icon")&&b.options.showIcon?'<i class="'+b.options.iconBase+" "+q.data("icon")+'"></i> ':"";var v;if(b.options.showSubtext&&q.attr("data-subtext")&&!b.multiple){v=' <small class="muted text-muted">'+q.data("subtext")+"</small>"}else{v=""}if(q.data("content")&&b.options.showContent){return q.data("content")}else{if(typeof q.attr("title")!=="undefined"){return q.attr("title")}else{return u+q.html()+v}}}).toArray();var r=!this.multiple?f[0]:f.join(this.options.multipleSeparator);if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var d=this.options.selectedTextFormat.split(">");if((d.length>1&&f.length>d[1])||(d.length==1&&f.length>=2)){i=this.options.hideDisabled?", [disabled]":"";var c=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+i).length,h=(typeof this.options.countSelectedText==="function")?this.options.countSelectedText(f.length,c):this.options.countSelectedText;r=h.replace("{0}",f.length.toString()).replace("{1}",c.toString())}}this.options.title=this.$element.attr("title");if(this.options.selectedTextFormat=="static"){r=this.options.title}if(!r){r=typeof this.options.title!=="undefined"?this.options.title:this.options.noneSelectedText}this.$button.attr("title",n(r));this.$newElement.find(".filter-option").html(r)},setStyle:function(a,b){if(this.$element.attr("class")){this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""))}var c=a?a:this.options.style;if(b=="add"){this.$button.addClass(c)}else{if(b=="remove"){this.$button.removeClass(c)}else{this.$button.removeClass(this.options.style);this.$button.addClass(c)}}},liHeight:function(){if(this.options.size===false){return}var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",false).end().appendTo("body"),h=a.addClass("open").find("> .dropdown-menu"),b=h.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),c=this.options.header?h.find(".popover-title").outerHeight():0,f=this.options.liveSearch?h.find(".bs-searchbox").outerHeight():0,d=this.options.actionsBox?h.find(".bs-actionsbox").outerHeight():0;a.remove();this.$newElement.data("liHeight",b).data("headerHeight",c).data("searchHeight",f).data("actionsHeight",d)},setSize:function(){this.findLis();var L=this,Q=this.$menu,I=Q.find(".inner"),F=this.$newElement.outerHeight(),O=this.$newElement.data("liHeight"),K=this.$newElement.data("headerHeight"),h=this.$newElement.data("searchHeight"),M=this.$newElement.data("actionsHeight"),i=this.$lis.filter(".divider").outerHeight(true),a=parseInt(Q.css("padding-top"))+parseInt(Q.css("padding-bottom"))+parseInt(Q.css("border-top-width"))+parseInt(Q.css("border-bottom-width")),c=this.options.hideDisabled?", .disabled":"",d=o(window),N=a+parseInt(Q.css("margin-top"))+parseInt(Q.css("margin-bottom"))+2,b,E,H,G=function(){E=L.$newElement.offset().top-d.scrollTop();H=d.height()-E-F};G();if(this.options.header){Q.css("padding-top",0)}if(this.options.size=="auto"){var P=function(){var q,r=L.$lis.not(".hide");G();b=H-N;if(L.options.dropupAuto){L.$newElement.toggleClass("dropup",(E>H)&&((b-N)<Q.height()))}if(L.$newElement.hasClass("dropup")){b=E-N}if((r.length+r.filter(".dropdown-header").length)>3){q=O*3+N-2}else{q=0}Q.css({"max-height":b+"px",overflow:"hidden","min-height":q+K+h+M+"px"});I.css({"max-height":b-K-h-M-a+"px","overflow-y":"auto","min-height":Math.max(q-a,0)+"px"})};P();this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",P);o(window).off("resize.getSize").on("resize.getSize",P);o(window).off("scroll.getSize").on("scroll.getSize",P)}else{if(this.options.size&&this.options.size!="auto"&&Q.find("li"+c).length>this.options.size){var f=this.$lis.not(".divider"+c).find(" > *").slice(0,this.options.size).last().parent().index();var R=this.$lis.slice(0,f+1).filter(".divider").length;b=O*this.options.size+R*i+a;if(L.options.dropupAuto){this.$newElement.toggleClass("dropup",(E>H)&&(b<Q.height()))}Q.css({"max-height":b+K+h+M+"px",overflow:"hidden"});I.css({"max-height":b-a+"px","overflow-y":"auto"})}}},setWidth:function(){if(this.options.width=="auto"){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body");var c=a.find("> .dropdown-menu").css("width");var b=a.css("width","auto").find("> button").css("width");a.remove();this.$newElement.css("width",Math.max(parseInt(c),parseInt(b))+"px")}else{if(this.options.width=="fit"){this.$menu.css("min-width","");this.$newElement.css("width","").addClass("fit-width")}else{if(this.options.width){this.$menu.css("min-width","");this.$newElement.css("width",this.options.width)}else{this.$menu.css("min-width","");this.$newElement.css("width","")}}}if(this.$newElement.hasClass("fit-width")&&this.options.width!=="fit"){this.$newElement.removeClass("fit-width")}},selectPosition:function(){var b=this,c="<div />",a=o(c),f,h,d=function(i){a.addClass(i.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",i.hasClass("dropup"));f=i.offset();h=i.hasClass("dropup")?0:i[0].offsetHeight;a.css({top:f.top+h,left:f.left,width:i[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){if(b.isDisabled()){return}d(o(this));a.appendTo(b.options.container);a.toggleClass("open",!o(this).hasClass("open"));a.append(b.$menu)});o(window).resize(function(){d(b.$newElement)});o(window).on("scroll",function(){d(b.$newElement)});o("html").on("click",function(i){if(o(i.target).closest(b.$newElement).length<1){a.removeClass("open")}})},setSelected:function(b,a){this.findLis();this.$lis.filter('[data-original-index="'+b+'"]').toggleClass("selected",a)},setDisabled:function(b,a){this.findLis();if(a){this.$lis.filter('[data-original-index="'+b+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1)}else{this.$lis.filter('[data-original-index="'+b+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)}},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;if(this.isDisabled()){this.$button.addClass("disabled").attr("tabindex",-1)}else{if(this.$button.hasClass("disabled")){this.$button.removeClass("disabled")}if(this.$button.attr("tabindex")==-1){if(!this.$element.data("tabindex")){this.$button.removeAttr("tabindex")}}}this.$button.click(function(){return !a.isDisabled()})},tabIndex:function(){if(this.$element.is("[tabindex]")){this.$element.data("tabindex",this.$element.attr("tabindex"));this.$button.attr("tabindex",this.$element.data("tabindex"))}},clickListener:function(){var a=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(b){b.stopPropagation()});this.$newElement.on("click",function(){a.setSize();if(!a.options.liveSearch&&!a.multiple){setTimeout(function(){a.$menu.find(".selected a").focus()},10)}});this.$menu.on("click","li a",function(I){var K=o(this),P=K.parent().data("originalIndex"),c=a.$element.val(),F=a.$element.prop("selectedIndex");if(a.multiple){I.stopPropagation()}I.preventDefault();if(!a.isDisabled()&&!K.parent().hasClass("disabled")){var f=a.$element.find("option"),d=f.eq(P),N=d.prop("selected"),h=d.parent("optgroup"),E=a.options.maxOptions,D=h.data("maxOptions")||false;if(!a.multiple){f.prop("selected",false);d.prop("selected",true);a.$menu.find(".selected").removeClass("selected");a.setSelected(P,true)}else{d.prop("selected",!N);a.setSelected(P,!N);K.blur();if((E!==false)||(D!==false)){var O=E<f.filter(":selected").length,L=D<h.find("option:selected").length;if((E&&O)||(D&&L)){if(E&&E==1){f.prop("selected",false);d.prop("selected",true);a.$menu.find(".selected").removeClass("selected");a.setSelected(P,true)}else{if(D&&D==1){h.find("option:selected").prop("selected",false);d.prop("selected",true);var b=K.data("optgroup");a.$menu.find(".selected").has('a[data-optgroup="'+b+'"]').removeClass("selected");a.setSelected(P,true)}else{var M=(typeof a.options.maxOptionsText==="function")?a.options.maxOptionsText(E,D):a.options.maxOptionsText,G=M[0].replace("{n}",E),H=M[1].replace("{n}",D),i=o('<div class="notify"></div>');if(M[2]){G=G.replace("{var}",M[2][E>1?0:1]);H=H.replace("{var}",M[2][D>1?0:1])}d.prop("selected",false);a.$menu.append(i);if(E&&O){i.append(o("<div>"+G+"</div>"));a.$element.trigger("maxReached.bs.select")}if(D&&L){i.append(o("<div>"+H+"</div>"));a.$element.trigger("maxReachedGrp.bs.select")}setTimeout(function(){a.setSelected(P,false)},10);i.delay(750).fadeOut(300,function(){o(this).remove()})}}}}}if(!a.multiple){a.$button.focus()}else{if(a.options.liveSearch){a.$searchbox.focus()}}if((c!=a.$element.val()&&a.multiple)||(F!=a.$element.prop("selectedIndex")&&!a.multiple)){a.$element.change()}}});this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(b){if(b.target==this){b.preventDefault();b.stopPropagation();if(!a.options.liveSearch){a.$button.focus()}else{a.$searchbox.focus()}}});this.$menu.on("click","li.divider, li.dropdown-header",function(b){b.preventDefault();b.stopPropagation();if(!a.options.liveSearch){a.$button.focus()}else{a.$searchbox.focus()}});this.$menu.on("click",".popover-title .close",function(){a.$button.focus()});this.$searchbox.on("click",function(b){b.stopPropagation()});this.$menu.on("click",".actions-btn",function(b){if(a.options.liveSearch){a.$searchbox.focus()}else{a.$button.focus()}b.preventDefault();b.stopPropagation();if(o(this).is(".bs-select-all")){a.selectAll()}else{a.deselectAll()}a.$element.change()});this.$element.change(function(){a.render(false)})},liveSearchListener:function(){var a=this,b=o('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){a.$menu.find(".active").removeClass("active");if(!!a.$searchbox.val()){a.$searchbox.val("");a.$lis.not(".is-hidden").removeClass("hide");if(!!b.parent().length){b.remove()}}if(!a.multiple){a.$menu.find(".selected").addClass("active")}setTimeout(function(){a.$searchbox.focus()},10)});this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(c){c.stopPropagation()});this.$searchbox.on("input propertychange",function(){if(a.$searchbox.val()){if(a.options.searchAccentInsensitive){a.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+m(a.$searchbox.val())+")").parent().addClass("hide")}else{a.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+a.$searchbox.val()+")").parent().addClass("hide")}if(!a.$menu.find("li").filter(":visible:not(.no-results)").length){if(!!b.parent().length){b.remove()}b.html(a.options.noneResultsText+' "'+n(a.$searchbox.val())+'"').show();a.$menu.find("li").last().after(b)}else{if(!!b.parent().length){b.remove()}}}else{a.$lis.not(".is-hidden").removeClass("hide");if(!!b.parent().length){b.remove()}}a.$menu.find("li.active").removeClass("active");a.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();o(this).focus()})},val:function(a){if(typeof a!=="undefined"){this.$element.val(a);this.render();return this.$element}else{return this.$element.val()}},selectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis();this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(H){var G=o(this),f=(G.is("input"))?G.parent().parent():G.parent(),I,L=f.data("this"),K,b,c,F,B,h,C,E,i={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(L.options.liveSearch){f=G.parent().parent()}if(L.options.container){f=L.$menu}I=o("[role=menu] li a",f);E=L.$menu.parent().hasClass("open");if(!E&&/([0-9]|[A-z])/.test(String.fromCharCode(H.keyCode))){if(!L.options.container){L.setSize();L.$menu.parent().addClass("open");E=true}else{L.$newElement.trigger("click")}L.$searchbox.focus()}if(L.options.liveSearch){if(/(^9$|27)/.test(H.keyCode.toString(10))&&E&&L.$menu.find(".active").length===0){H.preventDefault();L.$menu.parent().removeClass("open");L.$button.focus()}I=o("[role=menu] li:not(.divider):not(.dropdown-header):visible",f);if(!G.val()&&!/(38|40)/.test(H.keyCode.toString(10))){if(I.filter(".active").length===0){if(L.options.searchAccentInsensitive){I=L.$newElement.find("li").filter(":aicontains("+m(i[H.keyCode])+")")}else{I=L.$newElement.find("li").filter(":icontains("+i[H.keyCode]+")")}}}}if(!I.length){return}if(/(38|40)/.test(H.keyCode.toString(10))){K=I.index(I.filter(":focus"));c=I.parent(":not(.disabled):visible").first().index();F=I.parent(":not(.disabled):visible").last().index();b=I.eq(K).parent().nextAll(":not(.disabled):visible").eq(0).index();B=I.eq(K).parent().prevAll(":not(.disabled):visible").eq(0).index();h=I.eq(b).parent().prevAll(":not(.disabled):visible").eq(0).index();if(L.options.liveSearch){I.each(function(q){if(o(this).is(":not(.disabled)")){o(this).data("index",q)}});K=I.index(I.filter(".active"));c=I.filter(":not(.disabled):visible").first().data("index");F=I.filter(":not(.disabled):visible").last().data("index");b=I.eq(K).nextAll(":not(.disabled):visible").eq(0).data("index");B=I.eq(K).prevAll(":not(.disabled):visible").eq(0).data("index");h=I.eq(b).prevAll(":not(.disabled):visible").eq(0).data("index")}C=G.data("prevIndex");if(H.keyCode==38){if(L.options.liveSearch){K-=1}if(K!=h&&K>B){K=B}if(K<c){K=c}if(K==C){K=F}}if(H.keyCode==40){if(L.options.liveSearch){K+=1}if(K==-1){K=0}if(K!=h&&K<b){K=b}if(K>F){K=F}if(K==C){K=c}}G.data("prevIndex",K);if(!L.options.liveSearch){I.eq(K).focus()}else{H.preventDefault();if(!G.is(".dropdown-toggle")){I.removeClass("active");I.eq(K).addClass("active").find("a").focus();G.focus()}}}else{if(!G.is("input")){var D=[],a,d;I.each(function(){if(o(this).parent().is(":not(.disabled)")){if(o.trim(o(this).text().toLowerCase()).substring(0,1)==i[H.keyCode]){D.push(o(this).parent().index())}}});a=o(document).data("keycount");a++;o(document).data("keycount",a);d=o.trim(o(":focus").text().toLowerCase()).substring(0,1);if(d!=i[H.keyCode]){a=1;o(document).data("keycount",a)}else{if(a>=D.length){o(document).data("keycount",0);if(a>D.length){a=1}}}I.eq(D[a-1]).focus()}}if((/(13|32)/.test(H.keyCode.toString(10))||(/(^9$)/.test(H.keyCode.toString(10))&&L.options.selectOnTab))&&E){if(!/(32)/.test(H.keyCode.toString(10))){H.preventDefault()}if(!L.options.liveSearch){o(":focus").click()}else{if(!/(32)/.test(H.keyCode.toString(10))){L.$menu.find(".active a").click();G.focus()}}o(document).data("keycount",0)}if((/(^9$|27)/.test(H.keyCode.toString(10))&&E&&(L.multiple||L.options.liveSearch))||(/(27)/.test(H.keyCode.toString(10))&&!E)){L.$menu.parent().removeClass("open");L.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);if(this.options.container){this.$menu.hide()}},refresh:function(){this.$lis=null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};function p(b,a){var d=arguments;var f=b,b=d[0],a=d[1];[].shift.apply(d);if(typeof b=="undefined"){b=f}var h;var c=this.each(function(){var i=o(this);if(i.is("select")){var u=i.data("selectpicker"),x=typeof b=="object"&&b;if(!u){var y=o.extend({},j.DEFAULTS,o.fn.selectpicker.defaults||{},i.data(),x);i.data("selectpicker",(u=new j(this,y,a)))}else{if(x){for(var v in x){if(x.hasOwnProperty(v)){u.options[v]=x[v]}}}}if(typeof b=="string"){if(u[b] instanceof Function){h=u[b].apply(u,d)}else{h=u.options[b]}}}});if(typeof h!=="undefined"){return h}else{return c}}var k=o.fn.selectpicker;o.fn.selectpicker=p;o.fn.selectpicker.Constructor=j;o.fn.selectpicker.noConflict=function(){o.fn.selectpicker=k;return this};o(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",j.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(a){a.stopPropagation()});o(window).on("load.bs.select.data-api",function(){o(".selectpicker").each(function(){var a=o(this);p.call(a,a.data())})})})(jQuery);try{window.FB||(function(u){var q=u,t=u.document;var z=u.setTimeout,x=u.setInterval,s=u.clearTimeout,r=u.clearInterval;var B=0;function E(){}var y,v;v=function(a){return a[0]};y=function(a){return a};var C,D;(function(c){var d={},a={},b=["global","require","requireDynamic","requireLazy","module","exports"];C=function(l,n){if(a.hasOwnProperty(l)){return a[l]}if(!d.hasOwnProperty(l)){if(n){return null}throw new Error("Module "+l+" has not been defined")}var h=d[l],k=h.deps,m=h.factory.length,f,i=[];for(var j=0;j<m;j++){switch(k[j]){case"module":f=h;break;case"exports":f=h.exports;break;case"global":f=c;break;case"require":f=C;break;case"requireDynamic":f=C;break;case"requireLazy":f=null;break;default:f=C.call(null,k[j])}i.push(f)}h.factory.apply(c,i);a[l]=h.exports;return h.exports};D=function(j,f,h,i){if(typeof h=="function"){d[j]={factory:h,deps:b.concat(f),exports:{}};if(i===3){C.call(null,j)}}else{a[j]=h}}})(this);D("ES5ArrayPrototype",[],function(h,i,a,b,c,d){var f={};f.map=function(l,n){if(typeof l!="function"){throw new TypeError()}var j,k=this.length,m=new Array(k);for(j=0;j<k;++j){if(j in this){m[j]=l.call(n,this[j],j,this)}}return m};f.forEach=function(j,k){f.map.call(this,j,k)};f.filter=function(k,m){if(typeof k!="function"){throw new TypeError()}var o,j,l=this.length,n=[];for(o=0;o<l;++o){if(o in this){j=this[o];if(k.call(m,j,o,this)){n.push(j)}}}return n};f.every=function(l,n){if(typeof l!="function"){throw new TypeError()}var j=new Object(this),k=j.length;for(var m=0;m<k;m++){if(m in j){if(!l.call(n,j[m],m,j)){return false}}}return true};f.some=function(l,n){if(typeof l!="function"){throw new TypeError()}var j=new Object(this),k=j.length;for(var m=0;m<k;m++){if(m in j){if(l.call(n,j[m],m,j)){return true}}}return false};f.indexOf=function(j,k){var l=this.length;k|=0;if(k<0){k+=l}for(;k<l;k++){if(k in this&&this[k]===j){return k}}return -1};c.exports=f},null);D("ES5FunctionPrototype",[],function(h,i,a,b,c,d){var f={};f.bind=function(l){if(typeof this!="function"){throw new TypeError("Bind must be called on a function")}var n=this,j=Array.prototype.slice.call(arguments,1);function k(){return n.apply(l,j.concat(Array.prototype.slice.call(arguments)))}k.displayName="bound:"+(n.displayName||n.name||"(?)");k.toString=function m(){return"bound: "+n};return k};c.exports=f},null);D("ES5StringPrototype",[],function(h,i,a,b,c,d){var f={};f.trim=function(){if(this==null){throw new TypeError("String.prototype.trim called on null or undefined")}return String.prototype.replace.call(this,/^\s+|\s+$/g,"")};f.startsWith=function(m){var j=String(this);if(this==null){throw new TypeError("String.prototype.startsWith called on null or undefined")}var k=arguments.length>1?Number(arguments[1]):0;if(isNaN(k)){k=0}var l=Math.min(Math.max(k,0),j.length);return j.indexOf(String(m),k)==l};f.endsWith=function(l){var n=String(this);if(this==null){throw new TypeError("String.prototype.endsWith called on null or undefined")}var p=n.length,j=String(l),m=arguments.length>1?Number(arguments[1]):p;if(isNaN(m)){m=0}var o=Math.min(Math.max(m,0),p),k=o-j.length;if(k<0){return false}return n.lastIndexOf(j,k)==k};f.contains=function(j){if(this==null){throw new TypeError("String.prototype.contains called on null or undefined")}var k=String(this),l=arguments.length>1?Number(arguments[1]):0;if(isNaN(l)){l=0}return k.indexOf(String(j),l)!=-1};f.repeat=function(m){if(this==null){throw new TypeError("String.prototype.repeat called on null or undefined")}var j=String(this),k=m?Number(m):0;if(isNaN(k)){k=0}if(k<0||k===Infinity){throw RangeError()}if(k===1){return j}if(k===0){return""}var l="";while(k){if(k&1){l+=j}if((k>>=1)){j+=j}}return l};c.exports=f},null);D("ES5Array",[],function(h,i,a,b,c,d){var f={};f.isArray=function(j){return Object.prototype.toString.call(j)=="[object Array]"};c.exports=f},null);D("ie8DontEnum",[],function(c,d,f,h,i,j){var k=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"],a=({}).hasOwnProperty,b=function(){};if(({toString:true}).propertyIsEnumerable("toString")){b=function(m,n){for(var o=0;o<k.length;o++){var l=k[o];if(a.call(m,l)){n(l)}}}}i.exports=b},null);D("ES5Object",["ie8DontEnum"],function(c,d,f,h,i,j,k){var l=({}).hasOwnProperty,a={};function b(){}a.create=function(m){var n=typeof m;if(n!="object"&&n!="function"){throw new TypeError("Object prototype may only be a Object or null")}b.prototype=m;return new b()};a.keys=function(n){var o=typeof n;if(o!="object"&&o!="function"||n===null){throw new TypeError("Object.keys called on non-object")}var p=[];for(var m in n){if(l.call(n,m)){p.push(m)}}k(n,function(G){return p.push(G)});return p};i.exports=a},null);D("ES5Date",[],function(h,i,a,b,c,d){var f={};f.now=function(){return new Date().getTime()};c.exports=f},null);D("JSON3",[],function(f,h,a,b,c,d){(function(){var j={}.toString,k,l,m,n=c.exports={},o='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',p,ab,ad,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,i,ar=new Date(-3509827334573292),ae,at,aq;try{ar=ar.getUTCFullYear()==-109252&&ar.getUTCMonth()===0&&ar.getUTCDate()==1&&ar.getUTCHours()==10&&ar.getUTCMinutes()==37&&ar.getUTCSeconds()==6&&ar.getUTCMilliseconds()==708}catch(ac){}if(!ar){ae=Math.floor;at=[0,31,59,90,120,151,181,212,243,273,304,334];aq=function(G,F){return at[F]+365*(G-1970)+ae((G-1969+(F=+(F>1)))/4)-ae((G-1901+F)/100)+ae((G-1601+F)/400)}}if(typeof JSON=="object"&&JSON){n.stringify=JSON.stringify;n.parse=JSON.parse}if((p=typeof n.stringify=="function"&&!aq)){(ar=function(){return 1}).toJSON=ar;try{p=n.stringify(0)==="0"&&n.stringify(new Number())==="0"&&n.stringify(new String())=='""'&&n.stringify(j)===m&&n.stringify(m)===m&&n.stringify()===m&&n.stringify(ar)==="1"&&n.stringify([ar])=="[1]"&&n.stringify([m])=="[null]"&&n.stringify(null)=="null"&&n.stringify([m,j,null])=="[null,null,null]"&&n.stringify({result:[ar,true,false,null,"\0\b\n\f\r\t"]})==o&&n.stringify(null,ar)==="1"&&n.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&n.stringify(new Date(-8640000000000000))=='"-271821-04-20T00:00:00.000Z"'&&n.stringify(new Date(8640000000000000))=='"+275760-09-13T00:00:00.000Z"'&&n.stringify(new Date(-62198755200000))=='"-000001-01-01T00:00:00.000Z"'&&n.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(ac){p=false}}if(typeof n.parse=="function"){try{if(n.parse("0")===0&&!n.parse(false)){ar=n.parse(o);if((ah=ar.A.length==5&&ar.A[0]==1)){try{ah=!n.parse('"\t"')}catch(ac){}if(ah){try{ah=n.parse("01")!=1}catch(ac){}}}}}catch(ac){ah=false}}ar=o=null;if(!p||!ah){if(!(k={}.hasOwnProperty)){k=function(G){var F={},H;if((F.__proto__=null,F.__proto__={toString:1},F).toString!=j){k=function(L){var K=this.__proto__,I=L in (this.__proto__=null,this);this.__proto__=K;return I}}else{H=F.constructor;k=function(K){var I=(this.constructor||H).prototype;return K in this&&!(K in I&&this[K]===I[K])}}F=null;return k.call(this,G)}}l=function(H,F){var M=0,L,K,I,G;(L=function(){this.valueOf=0}).prototype.valueOf=0;K=new L();for(I in K){if(k.call(K,I)){M++}}L=K=null;if(!M){K=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];G=function(Q,P){var O=j.call(Q)=="[object Function]",N,R;for(N in Q){if(!(O&&N=="prototype")&&k.call(Q,N)){P(N)}}for(R=K.length;N=K[--R];k.call(Q,N)&&P(N)){}}}else{if(M==2){G=function(Q,P){var O={},N=j.call(Q)=="[object Function]",R;for(R in Q){if(!(N&&R=="prototype")&&!k.call(O,R)&&(O[R]=1)&&k.call(Q,R)){P(R)}}}}else{G=function(Q,P){var O=j.call(Q)=="[object Function]",N,R;for(N in Q){if(!(O&&N=="prototype")&&k.call(Q,N)&&!(R=N==="constructor")){P(N)}}if(R||k.call(Q,(N="constructor"))){P(N)}}}}return G(H,F)};if(!p){ab={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"};ad=function(G,F){return("000000"+(F||0)).slice(-G)};af=function(G){var F='"',I=0,H;for(;H=G.charAt(I);I++){F+='\\"\b\f\n\r\t'.indexOf(H)>-1?ab[H]:H<" "?"\\u00"+ad(2,H.charCodeAt(0).toString(16)):H}return F+'"'};ag=function(I,Y,Q,H,X,P,G){var W=Y[I],O,F,V,N,av,U,M,au,T,L,aa,S,K,Z,R;if(typeof W=="object"&&W){O=j.call(W);if(O=="[object Date]"&&!k.call(W,"toJSON")){if(W>-1/0&&W<1/0){if(aq){N=ae(W/86400000);for(F=ae(N/365.2425)+1970-1;aq(F+1,0)<=N;F++){}for(V=ae((N-aq(F,0))/30.42);aq(F,V+1)<=N;V++){}N=1+N-aq(F,V);av=(W%86400000+86400000)%86400000;U=ae(av/3600000)%24;M=ae(av/60000)%60;au=ae(av/1000)%60;T=av%1000}else{F=W.getUTCFullYear();V=W.getUTCMonth();N=W.getUTCDate();U=W.getUTCHours();M=W.getUTCMinutes();au=W.getUTCSeconds();T=W.getUTCMilliseconds()}W=(F<=0||F>=10000?(F<0?"-":"+")+ad(6,F<0?-F:F):ad(4,F))+"-"+ad(2,V+1)+"-"+ad(2,N)+"T"+ad(2,U)+":"+ad(2,M)+":"+ad(2,au)+"."+ad(3,T)+"Z"}else{W=null}}else{if(typeof W.toJSON=="function"&&((O!="[object Number]"&&O!="[object String]"&&O!="[object Array]")||k.call(W,"toJSON"))){W=W.toJSON(I)}}}if(Q){W=Q.call(Y,I,W)}if(W===null){return"null"}O=j.call(W);if(O=="[object Boolean]"){return""+W}else{if(O=="[object Number]"){return W>-1/0&&W<1/0?""+W:"null"}else{if(O=="[object String]"){return af(W)}}}if(typeof W=="object"){for(K=G.length;K--;){if(G[K]===W){throw TypeError()}}G.push(W);L=[];Z=P;P+=X;if(O=="[object Array]"){for(S=0,K=W.length;S<K;R||(R=true),S++){aa=ag(S,W,Q,H,X,P,G);L.push(aa===m?"null":aa)}return R?(X?"[\n"+P+L.join(",\n"+P)+"\n"+Z+"]":("["+L.join(",")+"]")):"[]"}else{l(H||W,function(ay){var aw=ag(ay,W,Q,H,X,P,G);if(aw!==m){L.push(af(ay)+":"+(X?" ":"")+aw)}R||(R=true)});return R?(X?"{\n"+P+L.join(",\n"+P)+"\n"+Z+"}":("{"+L.join(",")+"}")):"{}"}G.pop()}};n.stringify=function(I,M,F){var K,N,G,L,O,H;if(typeof M=="function"||typeof M=="object"&&M){if(j.call(M)=="[object Function]"){N=M}else{if(j.call(M)=="[object Array]"){G={};for(L=0,O=M.length;L<O;H=M[L++],((j.call(H)=="[object String]"||j.call(H)=="[object Number]")&&(G[H]=1))){}}}}if(F){if(j.call(F)=="[object Number]"){if((F-=F%1)>0){for(K="",F>10&&(F=10);K.length<F;K+=" "){}}}else{if(j.call(F)=="[object String]"){K=F.length<=10?F:F.slice(0,10)}}}return ag("",(H={},H[""]=I,H),N,G,K,"",[])}}if(!ah){ai=String.fromCharCode;aj={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"\t",n:"\n",f:"\f",r:"\r"};ak=function(){ap=i=null;throw SyntaxError()};al=function(){var H=i,F=H.length,M,L,K,I,G;while(ap<F){M=H.charAt(ap);if("\t\r\n ".indexOf(M)>-1){ap++}else{if("{}[]:,".indexOf(M)>-1){ap++;return M}else{if(M=='"'){for(L="@",ap++;ap<F;){M=H.charAt(ap);if(M<" "){ak()}else{if(M=="\\"){M=H.charAt(++ap);if('\\"/btnfr'.indexOf(M)>-1){L+=aj[M];ap++}else{if(M=="u"){K=++ap;for(I=ap+4;ap<I;ap++){M=H.charAt(ap);if(!(M>="0"&&M<="9"||M>="a"&&M<="f"||M>="A"&&M<="F")){ak()}}L+=ai("0x"+H.slice(K,ap))}else{ak()}}}else{if(M=='"'){break}L+=M;ap++}}}if(H.charAt(ap)=='"'){ap++;return L}ak()}else{K=ap;if(M=="-"){G=true;M=H.charAt(++ap)}if(M>="0"&&M<="9"){if(M=="0"&&(M=H.charAt(ap+1),M>="0"&&M<="9")){ak()}G=false;for(;ap<F&&(M=H.charAt(ap),M>="0"&&M<="9");ap++){}if(H.charAt(ap)=="."){I=++ap;for(;I<F&&(M=H.charAt(I),M>="0"&&M<="9");I++){}if(I==ap){ak()}ap=I}M=H.charAt(ap);if(M=="e"||M=="E"){M=H.charAt(++ap);if(M=="+"||M=="-"){ap++}for(I=ap;I<F&&(M=H.charAt(I),M>="0"&&M<="9");I++){}if(I==ap){ak()}ap=I}return +H.slice(K,ap)}if(G){ak()}if(H.slice(ap,ap+4)=="true"){ap+=4;return true}else{if(H.slice(ap,ap+5)=="false"){ap+=5;return false}else{if(H.slice(ap,ap+4)=="null"){ap+=4;return null}}}ak()}}}}return"$"};am=function(G){var F,I,H;if(G=="$"){ak()}if(typeof G=="string"){if(G.charAt(0)=="@"){return G.slice(1)}if(G=="["){F=[];for(;;I||(I=true)){G=al();if(G=="]"){break}if(I){if(G==","){G=al();if(G=="]"){ak()}}else{ak()}}if(G==","){ak()}F.push(am(G))}return F}else{if(G=="{"){F={};for(;;I||(I=true)){G=al();if(G=="}"){break}if(I){if(G==","){G=al();if(G=="}"){ak()}}else{ak()}}if(G==","||typeof G!="string"||G.charAt(0)!="@"||al()!=":"){ak()}F[G.slice(1)]=am(al())}return F}}ak()}return G};ao=function(G,F,I){var H=an(G,F,I);if(H===m){delete G[F]}else{G[F]=H}};an=function(G,F,K){var I=G[F],H;if(typeof I=="object"&&I){if(j.call(I)=="[object Array]"){for(H=I.length;H--;){ao(I,H,K)}}else{l(I,function(L){ao(I,L,K)})}}return K.call(G,F,I)};n.parse=function(G,F){ap=0;i=G;var H=am(al());if(al()!="$"){ak()}ap=i=null;return F&&j.call(F)=="[object Function]"?an((ar={},ar[""]=H,ar),"",F):H}}}}).call(this)},null);D("ES6Object",["ie8DontEnum"],function(c,d,f,h,i,j,k){var a=({}).hasOwnProperty,b={assign:function(n){var o=Array.prototype.slice.call(arguments,1);if(n==null){throw new TypeError("Object.assign target cannot be null or undefined")}n=Object(n);for(var p=0;p<o.length;p++){var l=o[p];if(l==null){continue}l=Object(l);for(var m in l){if(a.call(l,m)){n[m]=l[m]}}k(l,function(G){return n[G]=l[G]})}return n}};i.exports=b},null);D("ES6ArrayPrototype",[],function(h,i,a,b,c,d){var f={find:function(j,k){if(this==null){throw new TypeError("Array.prototype.find called on null or undefined")}if(typeof j!=="function"){throw new TypeError("predicate must be a function")}var l=f.findIndex.call(this,j,k);return l===-1?void 0:this[l]},findIndex:function(l,n){if(this==null){throw new TypeError("Array.prototype.findIndex called on null or undefined")}if(typeof l!=="function"){throw new TypeError("predicate must be a function")}var j=Object(this),k=j.length>>>0;for(var m=0;m<k;m++){if(l.call(n,j[m],m,j)){return m}}return -1}};c.exports=f},null);D("ES6DatePrototype",[],function(h,i,j,a,b,c){function d(k){return(k<10?"0":"")+k}var f={toISOString:function(){if(!isFinite(this)){throw new Error("Invalid time value")}var k=this.getUTCFullYear();k=(k<0?"-":(k>9999?"+":""))+("00000"+Math.abs(k)).slice(0<=k&&k<=9999?-4:-6);return k+"-"+d(this.getUTCMonth()+1)+"-"+d(this.getUTCDate())+"T"+d(this.getUTCHours())+":"+d(this.getUTCMinutes())+":"+d(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1000).toFixed(3).slice(2,5)+"Z"}};b.exports=f},null);D("ES6Number",[],function(h,i,a,b,c,d){var f={isFinite:function(j){return(typeof j=="number")&&isFinite(j)},isNaN:function(j){return(typeof j=="number")&&isNaN(j)}};c.exports=f},null);D("ES",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3","ES6Object","ES6ArrayPrototype","ES6DatePrototype","ES6Number"],function(a,b,c,d,f,h,i,j,k,l,n,V,W,X,Y,Z,aa){var ab=({}).toString,ac={"JSON.stringify":W.stringify,"JSON.parse":W.parse},ad={"Array.prototype":i,"Function.prototype":j,"String.prototype":k,Object:n,Array:l,Date:V},m={Object:X,"Array.prototype":Y,"Date.prototype":Z,Number:aa};function o(M){for(var F in M){if(!M.hasOwnProperty(F)){continue}var H=M[F],I=F.split("."),G=I.length==2?u[I[0]][I[1]]:u[F];for(var L in H){if(!H.hasOwnProperty(L)){continue}var K=G[L];ac[F+"."+L]=K&&/\{\s+\[native code\]\s\}/.test(K)?K:H[L]}}}o(ad);o(m);function p(L,F,H){var I=Array.prototype.slice.call(arguments,3),G=H?ab.call(L).slice(8,-1)+".prototype":L,K=ac[G+"."+F]||L[F];if(typeof K==="function"){return K.apply(L,I)}}f.exports=p},null);var A=C("ES");D("JSSDKRuntimeConfig",[],{locale:"en_US",rtl:false,revision:"1460080"});D("JSSDKConfig",[],{bustCache:true,tagCountLogRate:0.01,errorHandling:{rate:4},usePluginPipe:true,features:{allow_non_canvas_app_events:false,event_subscriptions_log:{rate:0.01,value:10000},kill_fragment:true,xfbml_profile_pic_server:true,error_handling:{rate:4},e2e_ping_tracking:{rate:0.000001},xd_timeout:{rate:4,value:30000},use_bundle:true,launch_payment_dialog_via_pac:{rate:100}},api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.cancelFlow","Payment.continueFlow","Payment.init","Payment.lockForProcessing","Payment.unlockForProcessing","Payment.parse","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe","AppEvents","AppEvents.activateApp","AppEvents.logEvent","AppEvents.logPurchase","AppEvents.EventNames","AppEvents.ParameterNames"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:false,manage_mailbox:false,manage_friendlists:false,read_mailbox:false,publish_checkins:true,status_update:true,photo_upload:true,video_upload:true,sms:false,create_event:true,rsvp_event:true,offline_access:true,email:true,xmpp_login:false,create_note:true,share_item:true,export_stream:false,publish_stream:true,publish_likes:true,ads_management:false,contact_email:true,access_private_data:false,read_insights:false,read_requests:false,read_friendlists:true,manage_pages:false,physical_login:false,manage_groups:false,read_deals:false}}});D("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",business:"business.facebook.com",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"});D("JSSDKXDConfig",[],{XdUrl:"/connect/xd_arbiter.php?version=41",XdBundleUrl:"/connect/xd_arbiter/w9JKbyW340G.js?version=41",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/yR/r/ks_9ZXiQ0GL.swf"},useCdn:true});D("JSSDKCssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100\u0025}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100\u0025;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50\u0025;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100\u0025;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100\u0025}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50\u0025 50\u0025;min-height:100\u0025;min-width:100\u0025;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100\u0025;min-height:100\u0025;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0\u0025 0\u0025, 0\u0025 100\u0025, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100\u0025}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0\u0025 0\u0025, 0\u0025 100\u0025, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50\u0025 50\u0025;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100\u0025}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50\u0025;z-index:4}\n.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}',components:["css:fb.css.base","css:fb.css.dialog","css:fb.css.iframewidget","css:fb.css.plugin.recommendationsbar"]});D("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/yW/r/PvklbuW2Ycn.swf"}});D("JSSDKCanvasPrefetcherConfig",[],{blacklist:[144959615576466],sampleRate:500});D("JSSDKPluginPipeConfig",[],{threshold:0,enabledApps:{"209753825810663":1,"187288694643718":1}});D("QueryString",[],function(c,d,f,h,i,j){function k(m){var n=[];A(A("Object","keys",false,m).sort(),"forEach",true,function(p){var o=m[p];if(typeof o==="undefined"){return}if(o===null){n.push(p);return}n.push(encodeURIComponent(p)+"="+encodeURIComponent(o))});return n.join("&")}function l(I,K){var L={};if(I===""){return L}var m=I.split("&");for(var n=0;n<m.length;n++){var o=m[n].split("=",2),p=decodeURIComponent(o[0]);if(K&&L.hasOwnProperty(p)){throw new URIError("Duplicate key: "+p)}L[p]=o.length===2?decodeURIComponent(o[1]):null}return L}function a(m,n){return m+(~A(m,"indexOf",true,"?")?"&":"?")+(typeof n==="string"?n:b.encode(n))}var b={encode:k,decode:l,appendToUrl:a};i.exports=b},null);D("ManagedError",[],function(h,i,a,b,c,d){function f(j,k){Error.prototype.constructor.call(this,j);this.message=j;this.innerError=k}f.prototype=new Error();f.prototype.constructor=f;c.exports=f},null);D("AssertionError",["ManagedError"],function(h,i,j,a,b,c,d){function f(k){d.prototype.constructor.apply(this,arguments)}f.prototype=new d();f.prototype.constructor=f;b.exports=f},null);D("sprintf",[],function(h,i,a,b,c,d){function f(j){var k=Array.prototype.slice.call(arguments,1),l=0;return j.replace(/%s/g,function(m){return k[l++]})}c.exports=f},null);D("Assert",["AssertionError","sprintf"],function(b,d,f,h,i,j,k,l){function m(p,G){if(typeof p!=="boolean"||!p){throw new k(G)}return p}function n(p,K,L){var M;if(K===undefined){M="undefined"}else{if(K===null){M="null"}else{var N=Object.prototype.toString.call(K);M=/\s(\w*)/.exec(N)[1].toLowerCase()}}m(A(p,"indexOf",true,M)!==-1,L||l("Expression is of type %s, not %s",M,p));return K}function o(p,H,I){m(H instanceof p,I||"Expression not instance of type");return H}function a(p,G){c["is"+p]=G;c["maybe"+p]=function(F,I){if(F!=null){G(F,I)}}}var c={isInstanceOf:o,isTrue:m,isTruthy:function(p,G){return m(!!p,G)},type:n,define:function(p,G){p=p.substring(0,1).toUpperCase()+p.substring(1).toLowerCase();a(p,function(F,I){m(G(F),I)})}};A(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",true,function(p){a(p,A(n,"bind",true,null,p.toLowerCase()))});i.exports=c},null);D("Type",["Assert"],function(c,d,f,h,i,j,k){function l(){var n=this.__mixins;if(n){for(var o=0;o<n.length;o++){n[o].apply(this,arguments)}}}function m(o,p){if(p instanceof o){return true}if(p instanceof l){for(var n=0;n<p.__mixins.length;n++){if(p.__mixins[n]==o){return true}}}return false}function a(H,I){var n=H.prototype;if(!A("Array","isArray",false,I)){I=[I]}for(var o=0;o<I.length;o++){var p=I[o];if(typeof p=="function"){n.__mixins.push(p);p=p.prototype}A(A("Object","keys",false,p),"forEach",true,function(F){n[F]=p[F]})}}function b(H,I,n){var o=I&&I.hasOwnProperty("constructor")?I.constructor:function(){this.parent.apply(this,arguments)};k.isFunction(o);if(H&&H.prototype instanceof l===false){throw new Error("parent type does not inherit from Type")}H=H||l;var p=new Function();p.prototype=H.prototype;o.prototype=new p();if(I){A("Object","assign",false,o.prototype,I)}o.prototype.constructor=o;o.parent=H;o.prototype.__mixins=H.prototype.__mixins?Array.prototype.slice.call(H.prototype.__mixins):[];if(n){a(o,n)}o.prototype.parent=function(){this.parent=H.prototype.parent;H.apply(this,arguments)};o.prototype.parentCall=function(F){return H.prototype[F].apply(this,Array.prototype.slice.call(arguments,1))};o.extend=function(F,G){return b(this,F,G)};return o}A("Object","assign",false,l.prototype,{instanceOf:function(n){return m(n,this)}});A("Object","assign",false,l,{extend:function(n,o){return typeof n==="function"?b.apply(null,arguments):b(null,n,o)},instanceOf:m});i.exports=l},null);D("ObservableMixin",[],function(h,i,a,b,c,d){function f(){this.__observableEvents={}}f.prototype={inform:function(l){var n=Array.prototype.slice.call(arguments,1),j=Array.prototype.slice.call(this.getSubscribers(l));for(var k=0;k<j.length;k++){if(j[k]===null){continue}try{j[k].apply(this,n)}catch(m){z(function(){throw m},0)}}return this},getSubscribers:function(j){return this.__observableEvents[j]||(this.__observableEvents[j]=[])},clearSubscribers:function(j){if(j){this.__observableEvents[j]=[]}return this},clearAllSubscribers:function(){this.__observableEvents={};return this},subscribe:function(j,k){var l=this.getSubscribers(j);l.push(k);return this},unsubscribe:function(m,j){var k=this.getSubscribers(m);for(var l=0;l<k.length;l++){if(k[l]===j){k.splice(l,1);break}}return this},monitor:function(j,k){if(!k()){var l=A(function(m){if(k.apply(k,arguments)){this.unsubscribe(j,l)}},"bind",true,this);this.subscribe(j,l)}return this}};c.exports=f},null);D("sdk.Model",["Type","ObservableMixin"],function(c,d,f,h,i,j,k,a){var b=k.extend({constructor:function(m){this.parent();var n={},l=this;A(A("Object","keys",false,m),"forEach",true,function(o){n[o]=m[o];l["set"+o]=function(p){if(p===n[o]){return this}n[o]=p;l.inform(o+".change",p);return l};l["get"+o]=function(){return n[o]}})}},a);i.exports=b},null);D("sdk.Runtime",["sdk.Model","JSSDKRuntimeConfig"],function(c,d,f,h,i,j,k,l){var a={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},b=new k({AccessToken:"",ClientID:"",CookieUserID:"",Environment:a.UNKNOWN,Initialized:false,IsVersioned:false,KidDirectedSite:undefined,Locale:l.locale,LoginStatus:undefined,Revision:l.revision,Rtl:l.rtl,Scope:undefined,Secure:undefined,UseCookie:false,UserID:"",Version:undefined});A("Object","assign",false,b,{ENVIRONMENTS:a,isEnvironment:function(m){var n=this.getEnvironment();return(m|n)===n},isCanvasEnvironment:function(){return this.isEnvironment(a.CANVAS)||this.isEnvironment(a.PAGETAB)}});(function(){var m=/app_runner/.test(u.name)?a.PAGETAB:/iframe_canvas/.test(u.name)?a.CANVAS:a.UNKNOWN;if((m|a.PAGETAB)===m){m=m|a.CANVAS}b.setEnvironment(m)})();i.exports=b},null);D("sdk.Cookie",["QueryString","sdk.Runtime"],function(c,d,f,h,i,j,k,l){var m=null;function n(L,o,p){L=L+l.getClientID();var I=m&&m!==".";if(I){t.cookie=L+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;";t.cookie=L+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;domain="+location.hostname+";"}var K=new Date(p).toGMTString();t.cookie=L+"="+o+(o&&p===0?"":"; expires="+K)+"; path=/"+(I?"; domain="+m:"")}function a(p){p=p+l.getClientID();var o=new RegExp("\\b"+p+"=([^;]*)\\b");return o.test(t.cookie)?RegExp.$1:null}var b={setDomain:function(G){m=G;var o=k.encode({base_domain:m&&m!=="."?m:""}),p=new Date();p.setFullYear(p.getFullYear()+1);n("fbm_",o,p.getTime())},getDomain:function(){return m},loadMeta:function(){var p=a("fbm_");if(p){var o=k.decode(p);if(!m){m=o.base_domain}return o}},loadSignedRequest:function(){return a("fbsr_")},setSignedRequestCookie:function(p,o){if(!p){throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.")}n("fbsr_",p,o)},clearSignedRequestCookie:function(){n("fbsr_","",0)},setRaw:n};i.exports=b},null);D("guid",[],function(h,i,a,b,c,d){function f(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}c.exports=f},null);D("UserAgent_DEPRECATED",[],function(a,b,c,d,f,h){var i=false,j,k,l,m,n,p,Y,Z,aa,ab,ac,ad,ae,af,ag;function o(){if(i){return}i=true;var F=navigator.userAgent,H=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(F),I=/(Mac OS X)|(Windows)|(Linux)/.exec(F);ad=/\b(iPhone|iP[ao]d)/.exec(F);ae=/\b(iP[ao]d)/.exec(F);ab=/Android/i.exec(F);af=/FBAN\/\w+;/i.exec(F);ag=/Mobile/i.exec(F);ac=!!(/Win64/.exec(F));if(H){j=H[1]?parseFloat(H[1]):(H[5]?parseFloat(H[5]):NaN);if(j&&t&&t.documentMode){j=t.documentMode}var G=/(?:Trident\/(\d+.\d+))/.exec(F);p=G?parseFloat(G[1])+4:j;k=H[2]?parseFloat(H[2]):NaN;l=H[3]?parseFloat(H[3]):NaN;m=H[4]?parseFloat(H[4]):NaN;if(m){H=/(?:Chrome\/(\d+\.\d+))/.exec(F);n=H&&H[1]?parseFloat(H[1]):NaN}else{n=NaN}}else{j=k=l=n=m=NaN}if(I){if(I[1]){var K=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(F);Y=K?parseFloat(K[1].replace("_",".")):true}else{Y=false}Z=!!I[2];aa=!!I[3]}else{Y=Z=aa=false}}var X={ie:function(){return o()||j},ieCompatibilityMode:function(){return o()||(p>j)},ie64:function(){return X.ie()&&ac},firefox:function(){return o()||k},opera:function(){return o()||l},webkit:function(){return o()||m},safari:function(){return X.webkit()},chrome:function(){return o()||n},windows:function(){return o()||Z},osx:function(){return o()||Y},linux:function(){return o()||aa},iphone:function(){return o()||ad},mobile:function(){return o()||(ad||ae||ab||ag)},nativeApp:function(){return o()||af},android:function(){return o()||ab},ipad:function(){return o()||ae}};f.exports=X},null);D("hasNamePropertyBug",["guid","UserAgent_DEPRECATED"],function(c,d,f,h,i,j,k,l){var m=l.ie()?undefined:false;function a(){var n=t.createElement("form"),o=n.appendChild(t.createElement("input"));o.name=k();m=o!==n.elements[o.name];n=o=null;return m}function b(){return typeof m==="undefined"?a():m}i.exports=b},null);D("wrapFunction",[],function(h,i,j,a,b,c){var d={};function f(m,k,l){k=k||"default";return function(){var n=k in d?d[k](m,l):m;return n.apply(this,arguments)}}f.setWrapper=function(k,l){l=l||"default";d[l]=k};b.exports=f},null);D("DOMEventListener",["wrapFunction"],function(c,d,f,h,i,j,k){var l,a;if(u.addEventListener){l=function(m,n,o){o.wrapper=k(o,"entry","DOMEventListener.add "+n);m.addEventListener(n,o.wrapper,false)};a=function(m,n,o){m.removeEventListener(n,o.wrapper,false)}}else{if(u.attachEvent){l=function(m,n,o){o.wrapper=k(o,"entry","DOMEventListener.add "+n);m.attachEvent("on"+n,o.wrapper)};a=function(m,n,o){m.detachEvent("on"+n,o.wrapper)}}else{a=l=function(){}}}var b={add:function(m,n,o){l(m,n,o);return{remove:function(){a(m,n,o);m=null}}},remove:a};i.exports=b},null);D("sdk.createIframe",["guid","hasNamePropertyBug","DOMEventListener"],function(c,d,f,h,i,j,k,l,a){function b(R){R=A("Object","assign",false,{},R);var S,T=R.name||k(),U=R.root,V=R.style||{border:"none"},m=R.url,n=R.onload,o=R.onerror;if(l()){S=t.createElement('<iframe name="'+T+'"/>')}else{S=t.createElement("iframe");S.name=T}delete R.style;delete R.name;delete R.url;delete R.root;delete R.onload;delete R.onerror;var p=A("Object","assign",false,{frameBorder:0,allowTransparency:true,scrolling:"no"},R);if(p.width){S.width=p.width+"px"}if(p.height){S.height=p.height+"px"}delete p.height;delete p.width;for(var O in p){if(p.hasOwnProperty(O)){S.setAttribute(O,p[O])}}A("Object","assign",false,S.style,V);S.src="javascript:false";U.appendChild(S);if(n){var P=a.add(S,"load",function(){P.remove();n()})}if(o){var Q=a.add(S,"error",function(){Q.remove();o()})}S.src=m;return S}i.exports=b},null);D("DOMWrapper",[],function(c,d,f,h,i,j){var k,a,b={setRoot:function(l){k=l},getRoot:function(){return k||t.body},setWindow:function(l){a=l},getWindow:function(){return a||q}};i.exports=b},null);D("sdk.feature",["JSSDKConfig"],function(h,i,j,a,b,c,d){function f(m,k){if(d.features&&m in d.features){var l=d.features[m];if(typeof l==="object"&&typeof l.rate==="number"){if(l.rate&&Math.random()*100<=l.rate){return l.value||true}else{return l.value?null:false}}else{return l}}return typeof k!=="undefined"?k:null}b.exports=f},null);D("sdk.getContextType",["UserAgent_DEPRECATED","sdk.Runtime"],function(c,d,f,h,i,j,k,a){function b(){if(k.nativeApp()){return 3}if(k.mobile()){return 2}if(a.isEnvironment(a.ENVIRONMENTS.CANVAS)){return 5}return 1}i.exports=b},null);D("sdk.domReady",[],function(c,d,f,h,i,j){var k,l="readyState" in t?/loaded|complete/.test(t.readyState):!!t.body;function m(){if(!k){return}var n;while(n=k.shift()){n()}k=null}function a(n){if(k){k.push(n);return}else{n()}}if(!l){k=[];if(t.addEventListener){t.addEventListener("DOMContentLoaded",m,false);u.addEventListener("load",m,false)}else{if(t.attachEvent){t.attachEvent("onreadystatechange",m);u.attachEvent("onload",m)}}if(t.documentElement.doScroll&&u==u.top){var b=function(){try{t.documentElement.doScroll("left")}catch(n){z(b,0);return}m()};b()}}i.exports=a},3);D("Log",["sprintf"],function(c,d,f,h,i,j,k){var l={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function a(o,p){var G=Array.prototype.slice.call(arguments,2),m=k.apply(null,G),n=u.console;if(n&&b.level>=p){n[o in n?o:"log"](m)}}var b={level:-1,Level:l,debug:A(a,"bind",true,null,"debug",l.DEBUG),info:A(a,"bind",true,null,"info",l.INFO),warn:A(a,"bind",true,null,"warn",l.WARNING),error:A(a,"bind",true,null,"error",l.ERROR)};i.exports=b},null);D("sdk.Content",["sdk.domReady","Log","UserAgent_DEPRECATED"],function(c,d,f,h,i,j,k,l,m){var n,a,b={append:function(G,o){if(!o){if(!n){n=o=t.getElementById("fb-root");if(!o){l.warn('The "fb-root" div has not been created, auto-creating');n=o=t.createElement("div");o.id="fb-root";if(m.ie()||!t.body){k(function(){t.body.appendChild(o)})}else{t.body.appendChild(o)}}o.className+=" fb_reset"}else{o=n}}if(typeof G=="string"){var p=t.createElement("div");o.appendChild(p).innerHTML=G;return p}else{return o.appendChild(G)}},appendHidden:function(G){if(!o){var o=t.createElement("div"),p=o.style;p.position="absolute";p.top="-10000px";p.width=p.height=0;o=b.append(o)}return b.append(G,o)},submitToTarget:function(N,o){var p=t.createElement("form");p.action=N.url;p.target=N.target;p.method=(o)?"GET":"POST";b.appendHidden(p);for(var K in N.params){if(N.params.hasOwnProperty(K)){var L=N.params[K];if(L!==null&&L!==undefined){var M=t.createElement("input");M.name=K;M.value=L;p.appendChild(M)}}}p.submit();p.parentNode.removeChild(p)}};i.exports=b},null);D("dotAccess",[],function(h,i,a,b,c,d){function f(l,n,j){var k=n.split(".");do{var m=k.shift();l=l[m]||j&&(l[m]={})}while(k.length&&l);return l}c.exports=f},null);D("GlobalCallback",["DOMWrapper","dotAccess","guid","wrapFunction"],function(b,d,f,h,i,j,k,l,m,n){var o,a,c={setPrefix:function(p){o=l(k.getWindow(),p,true);a=p},create:function(p,H){if(!o){this.setPrefix("__globalCallbacks")}var I=m();o[I]=n(p,"entry",H||"GlobalCallback");return a+"."+I},remove:function(p){var G=p.substring(a.length+1);delete o[G]}};i.exports=c},null);D("insertIframe",["guid","GlobalCallback"],function(c,d,f,h,i,j,k,a){function b(p){p.id=p.id||k();p.name=p.name||k();var H=false,I=false,l=function(){if(H&&!I){I=true;p.onload&&p.onload(p.root.firstChild)}},m=a.create(l);if(t.attachEvent){var n=('<iframe id="'+p.id+'" name="'+p.name+'"'+(p.title?' title="'+p.title+'"':"")+(p.className?' class="'+p.className+'"':"")+' style="border:none;'+(p.width?"width:"+p.width+"px;":"")+(p.height?"height:"+p.height+"px;":"")+'" src="javascript:false;" frameborder="0" scrolling="no" allowtransparency="true" onload="'+m+'()"></iframe>');p.root.innerHTML=('<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>');H=true;z(function(){p.root.innerHTML=n;p.root.firstChild.src=p.url;p.onInsert&&p.onInsert(p.root.firstChild)},0)}else{var o=t.createElement("iframe");o.id=p.id;o.name=p.name;o.onload=l;o.scrolling="no";o.style.border="none";o.style.overflow="hidden";if(p.title){o.title=p.title}if(p.className){o.className=p.className}if(p.height!==undefined){o.style.height=p.height+"px"}if(p.width!==undefined){if(p.width=="100%"){o.style.width=p.width}else{o.style.width=p.width+"px"}}p.root.appendChild(o);H=true;o.src=p.url;p.onInsert&&p.onInsert(o)}}i.exports=b},null);D("Miny",[],function(b,d,f,h,i,j){var k="Miny1",l={encode:[],decode:{}},m="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("");function n(p){for(var H=l.encode.length;H<p;H++){var I=H.toString(32).split("");I[I.length-1]=m[parseInt(I[I.length-1],32)];I=I.join("");l.encode[H]=I;l.decode[I]=H}return l}function o(p){if(/^$|[~\\]|__proto__/.test(p)){return p}var M=p.match(/\w+|\W+/g),N={};for(var O=0;O<M.length;O++){N[M[O]]=(N[M[O]]||0)+1}var P=A("Object","keys",false,N);P.sort(function(F,G){return N[F]<N[G]?1:(N[G]<N[F]?-1:0)});var Q=n(P.length).encode;for(O=0;O<P.length;O++){N[P[O]]=Q[O]}var R=[];for(O=0;O<M.length;O++){R[O]=N[M[O]]}return[k,P.length].concat(P).concat(R.join("")).join("~")}function a(T){var p=T.split("~");if(p.shift()!=k){return T}var N=parseInt(p.shift(),10),O=p.pop();O=O.match(/[0-9a-v]*[\-w-zA-Z_]/g);var P=p,Q=n(N).decode,R=[];for(var S=0;S<O.length;S++){R[S]=P[Q[O[S]]]}return R.join("")}var c={encode:o,decode:a};i.exports=c},null);D("UrlMap",["UrlMapConfig"],function(h,i,j,a,b,c,d){var f={resolve:function(m,k){var l=typeof k=="undefined"?location.protocol.replace(":",""):k?"https":"http";if(m in d){return l+"://"+d[m]}if(typeof k=="undefined"&&m+"_"+l in d){return l+"://"+d[m+"_"+l]}if(k!==true&&m+"_http" in d){return"http://"+d[m+"_http"]}if(k!==false&&m+"_https" in d){return"https://"+d[m+"_https"]}}};b.exports=f},null);D("sdk.Impressions",["sdk.Content","guid","insertIframe","Miny","QueryString","sdk.Runtime","UrlMap"],function(o,G,b,d,f,h,i,j,k,l,m,n,p){function a(T){var U=n.getClientID();if(!T.api_key&&U){T.api_key=U}T.kid_directed_site=n.getKidDirectedSite();var V=p.resolve("www",true)+"/impression.php/"+j()+"/",F=m.appendToUrl(V,T);if(F.length>2000){if(T.payload&&typeof T.payload==="string"){var P=l.encode(T.payload);if(P&&P.length<T.payload.length){T.payload=P;F=m.appendToUrl(V,T)}}}if(F.length<=2000){var Q=new Image();Q.src=F}else{var R=j(),S=i.appendHidden("");k({url:"javascript:false",root:S,name:R,className:"fb_hidden fb_invisible",onload:function(){S.parentNode.removeChild(S)}});i.submitToTarget({url:V,target:R,params:T})}}var c={log:function(F,I){if(!I.source){I.source="jssdk"}a({lid:F,payload:A("JSON","stringify",false,I)})},impression:a};f.exports=c},null);D("Base64",[],function(c,d,f,h,i,j){var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function l(n){n=(n.charCodeAt(0)<<16)|(n.charCodeAt(1)<<8)|n.charCodeAt(2);return String.fromCharCode(k.charCodeAt(n>>>18),k.charCodeAt((n>>>12)&63),k.charCodeAt((n>>>6)&63),k.charCodeAt(n&63))}var m=">___?456789:;<=_______\0\1\2\3\4\5\6\7\b\t\n\13\f\r\16\17\20\21\22\23\24\25\26\27\30\31______\32\33\34\35\36\37 !\"#$%&'()*+,-./0123";function a(n){n=(m.charCodeAt(n.charCodeAt(0)-43)<<18)|(m.charCodeAt(n.charCodeAt(1)-43)<<12)|(m.charCodeAt(n.charCodeAt(2)-43)<<6)|m.charCodeAt(n.charCodeAt(3)-43);return String.fromCharCode(n>>>16,(n>>>8)&255,n&255)}var b={encode:function(n){n=unescape(encodeURI(n));var o=(n.length+2)%3;n=(n+"\0\0".slice(o)).replace(/[\s\S]{3}/g,l);return n.slice(0,n.length+o-2)+"==".slice(o)},decode:function(o){o=o.replace(/[^A-Za-z0-9+\/]/g,"");var p=(o.length+3)&3;o=(o+"AAA".slice(p)).replace(/..../g,a);o=o.slice(0,o.length+p-3);try{return decodeURIComponent(escape(o))}catch(n){throw new Error("Not valid UTF-8")}},encodeObject:function(n){return b.encode(A("JSON","stringify",false,n))},decodeObject:function(n){return A("JSON","parse",false,b.decode(n))},encodeNums:function(n){return String.fromCharCode.apply(String,A(n,"map",true,function(o){return k.charCodeAt((o|-(o>63))&-(o>0)&63)}))}};i.exports=b},null);D("sdk.SignedRequest",["Base64"],function(c,d,f,h,i,j,k){function a(m){if(!m){return null}var l=m.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return k.decodeObject(l)}var b={parse:a};i.exports=b},null);D("URIRFC3986",[],function(h,i,j,a,b,c){var d=new RegExp("^([^:/?#]+:)?(//([^\\\\/?#@]*@)?(\\[[A-Fa-f0-9:.]+\\]|[^\\/?#:]*)(:[0-9]*)?)?([^?#]*)(\\?[^#]*)?(#.*)?"),f={parse:function(m){if(A(m,"trim",true)===""){return null}var k=m.match(d),l={};l.uri=k[0]?k[0]:null;l.scheme=k[1]?k[1].substr(0,k[1].length-1):null;l.authority=k[2]?k[2].substr(2):null;l.userinfo=k[3]?k[3].substr(0,k[3].length-1):null;l.host=k[2]?k[4]:null;l.port=k[5]?(k[5].substr(1)?parseInt(k[5].substr(1),10):null):null;l.path=k[6]?k[6]:null;l.query=k[7]?k[7].substr(1):null;l.fragment=k[8]?k[8].substr(1):null;l.isGenericURI=l.authority===null&&!!l.scheme;return l}};b.exports=f},null);D("createObjectFrom",[],function(h,i,a,b,c,d){function f(l,n){var j={},k=A("Array","isArray",false,n);if(typeof n=="undefined"){n=true}for(var m=l.length;m--;){j[l[m]]=k?n[m]:n}return j}c.exports=f},null);D("URISchemes",["createObjectFrom"],function(c,d,f,h,i,j,k){var a=k(["fb","fbcf","fbconnect","fb-messenger","fbrpc","file","ftp","http","https","mailto","ms-app","itms","itms-apps","itms-services","market","svn+ssh","fbstaging","tel","sms","pebblejs"]),b={isAllowed:function(l){if(!l){return true}return a.hasOwnProperty(l.toLowerCase())}};i.exports=b},null);D("copyProperties",[],function(h,i,a,b,c,d){function f(p,K,L,M,N,j,k){p=p||{};var l=[K,L,M,N,j],m=0,n;while(l[m]){n=l[m++];for(var o in n){p[o]=n[o]}if(n.hasOwnProperty&&n.hasOwnProperty("toString")&&(typeof n.toString!="undefined")&&(p.toString!==n.toString)){p.toString=n.toString}}return p}c.exports=f},null);D("eprintf",[],function(h,i,a,b,c,d){var f=function(m){var j=A(Array.prototype.slice.call(arguments),"map",true,function(n){return String(n)}),k=m.split("%s").length-1;if(k!==j.length-1){return f("eprintf args number mismatch: %s",A("JSON","stringify",false,j))}var l=1;return m.replace(/%s/g,function(n){return String(j[l++])})};c.exports=f},null);D("ex",["eprintf"],function(h,i,j,a,b,c,d){var f=function(){var k=Array.prototype.slice.call(arguments,0);k=A(k,"map",true,function(l){return String(l)});if(k[0].split("%s").length!==k.length){return f("ex args number mismatch: %s",A("JSON","stringify",false,k))}return f._prefix+A("JSON","stringify",false,k)+f._suffix};f._prefix="<![EX[";f._suffix="]]>";b.exports=f},null);D("invariant",[],function(h,i,a,b,c,d){var f=function(p,K,L,M,N,j,k,l){if(!p){var m;if(K===undefined){m=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.")}else{var n=[L,M,N,j,k,l],o=0;m=new Error("Invariant Violation: "+K.replace(/%s/g,function(){return n[o++]}))}m.framesToPop=1;throw m}};c.exports=f},null);D("URIBase",["URIRFC3986","URISchemes","copyProperties","ex","invariant"],function(o,G,b,d,f,h,i,j,k,l,m){var n=new RegExp("[\\x00-\\x2c\\x2f\\x3b-\\x40\\x5c\\x5e\\x60\\x7b-\\x7f\\uFDD0-\\uFDEF\\uFFF0-\\uFFFF\\u2047\\u2048\\uFE56\\uFE5F\\uFF03\\uFF0F\\uFF1F]"),p=new RegExp("^(?:[^/]*:|[\\x00-\\x1f]*/[\\x00-\\x1f]*/)");function a(R,F,N,O){if(!F){return true}if(F instanceof c){R.setProtocol(F.getProtocol());R.setDomain(F.getDomain());R.setPort(F.getPort());R.setPath(F.getPath());R.setQueryData(O.deserialize(O.serialize(F.getQueryData())));R.setFragment(F.getFragment());R.setForceFragmentSeparator(F.getForceFragmentSeparator());return true}F=A(F.toString(),"trim",true);var P=i.parse(F)||{};if(!N&&!j.isAllowed(P.scheme)){return false}R.setProtocol(P.scheme||"");if(!N&&n.test(P.host)){return false}R.setDomain(P.host||"");R.setPort(P.port||"");R.setPath(P.path||"");if(N){R.setQueryData(O.deserialize(P.query)||{})}else{try{R.setQueryData(O.deserialize(P.query)||{})}catch(Q){return false}}R.setFragment(P.fragment||"");if(P.fragment===""){R.setForceFragmentSeparator(true)}if(P.userinfo!==null){if(N){throw new Error(l("URI.parse: invalid URI (userinfo is not allowed in a URI): %s",R.toString()))}else{return false}}if(!R.getDomain()&&A(R.getPath(),"indexOf",true,"\\")!==-1){if(N){throw new Error(l("URI.parse: invalid URI (no domain but multiple back-slashes): %s",R.toString()))}else{return false}}if(!R.getProtocol()&&p.test(F)){if(N){throw new Error(l("URI.parse: invalid URI (unsafe protocol-relative URLs): %s",R.toString()))}else{return false}}return true}function c(F,I){m(I);this.$URIBase0=I;this.$URIBase1="";this.$URIBase2="";this.$URIBase3="";this.$URIBase4="";this.$URIBase5="";this.$URIBase6={};this.$URIBase7=false;a(this,F,true,I)}c.prototype.setProtocol=function(F){m(j.isAllowed(F));this.$URIBase1=F;return this};c.prototype.getProtocol=function(F){return this.$URIBase1};c.prototype.setSecure=function(F){return this.setProtocol(F?"https":"http")};c.prototype.isSecure=function(){return this.getProtocol()==="https"};c.prototype.setDomain=function(F){if(n.test(F)){throw new Error(l("URI.setDomain: unsafe domain specified: %s for url %s",F,this.toString()))}this.$URIBase2=F;return this};c.prototype.getDomain=function(){return this.$URIBase2};c.prototype.setPort=function(F){this.$URIBase3=F;return this};c.prototype.getPort=function(){return this.$URIBase3};c.prototype.setPath=function(F){this.$URIBase4=F;return this};c.prototype.getPath=function(){return this.$URIBase4};c.prototype.addQueryData=function(F,I){if(Object.prototype.toString.call(F)==="[object Object]"){k(this.$URIBase6,F)}else{this.$URIBase6[F]=I}return this};c.prototype.setQueryData=function(F){this.$URIBase6=F;return this};c.prototype.getQueryData=function(){return this.$URIBase6};c.prototype.removeQueryData=function(F){if(!A("Array","isArray",false,F)){F=[F]}for(var K=0,L=F.length;K<L;++K){delete this.$URIBase6[F[K]]}return this};c.prototype.setFragment=function(F){this.$URIBase5=F;this.setForceFragmentSeparator(false);return this};c.prototype.getFragment=function(){return this.$URIBase5};c.prototype.setForceFragmentSeparator=function(F){this.$URIBase7=F;return this};c.prototype.getForceFragmentSeparator=function(){return this.$URIBase7};c.prototype.isEmpty=function(){return !(this.getPath()||this.getProtocol()||this.getDomain()||this.getPort()||A("Object","keys",false,this.getQueryData()).length>0||this.getFragment())};c.prototype.toString=function(){var S="",T=this.getProtocol();if(T){S+=T+"://"}var F=this.getDomain();if(F){S+=F}var O=this.getPort();if(O){S+=":"+O}var P=this.getPath();if(P){S+=P}else{if(S){S+="/"}}var Q=this.$URIBase0.serialize(this.getQueryData());if(Q){S+="?"+Q}var R=this.getFragment();if(R){S+="#"+R}else{if(this.getForceFragmentSeparator()){S+="#"}}return S};c.prototype.getOrigin=function(){var F=this.getPort();return this.getProtocol()+"://"+this.getDomain()+(F?":"+F:"")};c.isValidURI=function(F,I){return a(new c(null,I),F,false,I)};f.exports=c},null);D("sdk.URI",["Assert","QueryString","URIBase"],function(p,b,d,f,h,i,j,k,l){var m=/\.facebook\.com$/,n={serialize:function(G){return G?k.encode(G):""},deserialize:function(G){return G?k.decode(G):{}}};for(var o in l){if(l.hasOwnProperty(o)){c[o]=l[o]}}var a=l===null?null:l.prototype;c.prototype=A("Object","create",false,a);c.prototype.constructor=c;c.__superConstructor__=l;function c(G){j.isString(G,"The passed argument was of invalid type.");if(!(this instanceof c)){return new c(G)}l.call(this,G,n)}c.prototype.isFacebookURI=function(){return m.test(this.getDomain())};c.prototype.valueOf=function(){return this.toString()};h.exports=c},null);D("sdk.Event",[],function(h,i,a,b,c,d){var f={SUBSCRIBE:"event.subscribe",UNSUBSCRIBE:"event.unsubscribe",subscribers:function(){if(!this._subscribersMap){this._subscribersMap={}}return this._subscribersMap},subscribe:function(j,k){var l=this.subscribers();if(!l[j]){l[j]=[k]}else{if(A(l[j],"indexOf",true,k)==-1){l[j].push(k)}}if(j!=this.SUBSCRIBE&&j!=this.UNSUBSCRIBE){this.fire(this.SUBSCRIBE,j,l[j])}},unsubscribe:function(j,k){var l=this.subscribers()[j];if(l){A(l,"forEach",true,function(m,n){if(m==k){l.splice(n,1)}})}if(j!=this.SUBSCRIBE&&j!=this.UNSUBSCRIBE){this.fire(this.UNSUBSCRIBE,j,l)}},monitor:function(m,j){if(!j()){var k=this,l=function(){if(j.apply(j,arguments)){k.unsubscribe(m,l)}};this.subscribe(m,l)}},clear:function(j){delete this.subscribers()[j]},fire:function(j){var k=Array.prototype.slice.call(arguments,1),l=this.subscribers()[j];if(l){A(l,"forEach",true,function(m){if(m){m.apply(this,k)}})}}};c.exports=f},null);D("Queue",["copyProperties"],function(c,d,f,h,i,j,k){var a={};function b(l){this._opts=k({interval:0,processor:null},l);this._queue=[];this._stopped=true}b.prototype._dispatch=function(l){if(this._stopped||this._queue.length===0){return}if(!this._opts.processor){this._stopped=true;throw new Error("No processor available")}if(this._opts.interval){this._opts.processor.call(this,this._queue.shift());this._timeout=z(A(this._dispatch,"bind",true,this),this._opts.interval)}else{while(this._queue.length){this._opts.processor.call(this,this._queue.shift())}}};b.prototype.enqueue=function(l){if(this._opts.processor&&!this._stopped){this._opts.processor.call(this,l)}else{this._queue.push(l)}return this};b.prototype.start=function(l){if(l){this._opts.processor=l}this._stopped=false;this._dispatch();return this};b.prototype.isStarted=function(){return !this._stopped};b.prototype.dispatch=function(){this._dispatch(true)};b.prototype.stop=function(l){this._stopped=true;if(l){s(this._timeout)}return this};b.prototype.merge=function(m,l){this._queue[l?"unshift":"push"].apply(this._queue,m._queue);m._queue=[];this._dispatch();return this};b.prototype.getLength=function(){return this._queue.length};b.get=function(m,n){var l;if(m in a){l=a[m]}else{l=a[m]=new b(n)}return l};b.exists=function(l){return l in a};b.remove=function(l){return delete a[l]};i.exports=b},null);D("JSONRPC",["Log"],function(h,i,j,a,b,c,d){function f(k){this.$JSONRPC0=0;this.$JSONRPC1={};this.remote=A(function(l){this.$JSONRPC2=l;return this.remote},"bind",true,this);this.local={};this.$JSONRPC3=k}f.prototype.stub=function(k){this.remote[k]=A(function(){var m=Array.prototype.slice.call(arguments,0),l={jsonrpc:"2.0",method:k};if(typeof m[m.length-1]=="function"){l.id=++this.$JSONRPC0;this.$JSONRPC1[l.id]=m.pop()}l.params=m;this.$JSONRPC3(A("JSON","stringify",false,l),this.$JSONRPC2||{method:k})},"bind",true,this)};f.prototype.read=function(p,K){var L=A("JSON","parse",false,p),M=L.id;if(!L.method){if(!this.$JSONRPC1[M]){d.warn("Could not find callback %s",M);return}var N=this.$JSONRPC1[M];delete this.$JSONRPC1[M];delete L.id;delete L.jsonrpc;N(L);return}var k=this,l=this.local[L.method],m;if(M){m=function(H,F){var G={jsonrpc:"2.0",id:M};G[H]=F;z(function(){k.$JSONRPC3(A("JSON","stringify",false,G),K)},0)}}else{m=function(){}}if(!l){d.error('Method "%s" has not been defined',L.method);m("error",{code:-32601,message:"Method not found",data:L.method});return}L.params.push(A(m,"bind",true,null,"result"));L.params.push(A(m,"bind",true,null,"error"));try{var o=l.apply(K||null,L.params);if(typeof o!=="undefined"){m("result",o)}}catch(n){d.error("Invokation of RPC method %s resulted in the error: %s",L.method,n.message);m("error",{code:-32603,message:"Internal error",data:n.message})}};b.exports=f},null);D("sdk.RPC",["Assert","JSONRPC","Queue"],function(c,d,f,h,i,j,k,l,m){var n=new m(),a=new l(function(o){n.enqueue(o)}),b={local:a.local,remote:a.remote,stub:A(a.stub,"bind",true,a),setInQueue:function(o){k.isInstanceOf(m,o);o.start(function(p){a.read(p)})},getOutQueue:function(){return n}};i.exports=b},null);D("sdk.Scribe",["QueryString","sdk.Runtime","UrlMap"],function(c,d,f,h,i,j,k,l,m){function a(n,o){if(typeof o.extra=="object"){o.extra.revision=l.getRevision()}(new Image()).src=k.appendToUrl(m.resolve("www",true)+"/common/scribe_endpoint.php",{c:n,m:A("JSON","stringify",false,o)})}var b={log:a};i.exports=b},null);D("emptyFunction",[],function(h,i,j,a,b,c){function d(k){return function(){return k}}function f(){}A("Object","assign",false,f,{thatReturns:d,thatReturnsFalse:d(false),thatReturnsTrue:d(true),thatReturnsNull:d(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(k){return k}});b.exports=f},null);D("htmlSpecialChars",[],function(c,d,f,h,i,j){var k=/&/g,l=/</g,m=/>/g,n=/"/g,a=/'/g;function b(o){if(typeof o=="undefined"||o===null||!o.toString){return""}if(o===false){return"0"}else{if(o===true){return"1"}}return o.toString().replace(k,"&amp;").replace(n,"&quot;").replace(a,"&#039;").replace(l,"&lt;").replace(m,"&gt;")}i.exports=b},null);D("Flash",["DOMEventListener","DOMWrapper","QueryString","UserAgent_DEPRECATED","copyProperties","guid","htmlSpecialChars"],function(a,b,c,d,f,h,i,k,n,o,S,T,U){var V={},W,X=k.getWindow().document;function Y(F){var G=X.getElementById(F);if(G){G.parentNode.removeChild(G)}delete V[F]}function j(){for(var F in V){if(V.hasOwnProperty(F)){Y(F)}}}function l(F){return F.replace(/\d+/g,function(G){return"000".substring(G.length)+G})}function m(F){if(!W){if(o.ie()>=9){i.add(u,"unload",j)}W=true}V[F]=F}var p={embed:function(I,K,L,M){var N=T();I=U(I).replace(/&amp;/g,"&");L=S({allowscriptaccess:"always",flashvars:M,movie:I},L||{});if(typeof L.flashvars=="object"){L.flashvars=n.encode(L.flashvars)}var G=[];for(var O in L){if(L.hasOwnProperty(O)&&L[O]){G.push('<param name="'+U(O)+'" value="'+U(L[O])+'">')}}var F=K.appendChild(X.createElement("span")),H="<object "+(o.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+I+'" '+(L.height?'height="'+L.height+'" ':"")+(L.width?'width="'+L.width+'" ':"")+'id="'+N+'">'+G.join("")+"</object>";F.innerHTML=H;var P=F.firstChild;m(N);return P},remove:Y,getVersion:function(){var I="Shockwave Flash",K="application/x-shockwave-flash",L="ShockwaveFlash.ShockwaveFlash",H;if(navigator.plugins&&typeof navigator.plugins[I]=="object"){var F=navigator.plugins[I].description;if(F&&navigator.mimeTypes&&navigator.mimeTypes[K]&&navigator.mimeTypes[K].enabledPlugin){H=F.match(/\d+/g)}}if(!H){try{H=(new ActiveXObject(L)).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/);H=Array.prototype.slice.call(H,1)}catch(G){}}return H},checkMinVersion:function(F){var G=p.getVersion();if(!G){return false}return l(G.join("."))>=l(F)},isAvailable:function(){return !!p.getVersion()}};f.exports=p},null);D("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","GlobalCallback","guid","Log","UserAgent_DEPRECATED","wrapFunction"],function(a,b,c,d,f,h,l,m,o,Q,R,S,T,U,V){var i={},j={transports:[]},k=m.getWindow();function n(F){var H={},K=F.length,L=j.transports;while(K--){H[F[K]]=1}K=L.length;while(K--){var G=L[K],I=i[G];if(!H[G]&&I.isAvailable()){return G}}}var p={register:function(F,G){T.debug("Registering %s as XDM provider",F);j.transports.push(F);i[F]=G},create:function(F){if(!F.whenReady&&!F.onMessage){T.error("An instance without whenReady or onMessage makes no sense");throw new Error("An instance without whenReady or onMessage makes no sense")}if(!F.channel){T.warn("Missing channel name, selecting at random");F.channel=S()}if(!F.whenReady){F.whenReady=o}if(!F.onMessage){F.onMessage=o}var G=F.transport||n(F.blacklist||[]),H=i[G];if(H&&H.isAvailable()){T.debug("%s is available",G);H.init(F);return G}}};p.register("flash",(function(){var F=false,G,I=false,K=15000,H;return{isAvailable:function(){return Q.checkMinVersion("8.0.24")},init:function(M){T.debug("init flash: "+M.channel);var N={send:function(Z,P,ab,aa){T.debug("sending to: %s (%s)",P,aa);G.postMessage(Z,P,aa)}};if(F){M.whenReady(N);return}var L=M.root.appendChild(k.document.createElement("div")),O=R.create(function(){R.remove(O);s(H);T.info("xdm.swf called the callback");var P=R.create(function(Y,Z){Y=decodeURIComponent(Y);Z=decodeURIComponent(Z);T.debug("received message %s from %s",Y,Z);M.onMessage(Y,Z)},"xdm.swf:onMessage");G.init(M.channel,P);M.whenReady(N)},"xdm.swf:load");G=Q.embed(M.flashUrl,L,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:O,log:I});H=z(function(){T.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",K)},K);F=true}}})());p.register("postmessage",(function(){var F=false;return{isAvailable:function(){return !!k.postMessage},init:function(G){T.debug("init postMessage: "+G.channel);var H="_FB_"+G.channel,I={send:function(K,M,N,L){if(k===N){T.error("Invalid windowref, equal to window (self)");throw new Error()}T.debug("sending to: %s (%s)",M,L);var O=function(){N.postMessage("_FB_"+L+K,M)};if(U.ie()==8||U.ieCompatibilityMode()){z(O,0)}else{O()}}};if(F){G.whenReady(I);return}l.add(k,"message",V(function(M){var K=M.data,L=M.origin||"native";if(!/^(https?:\/\/|native$)/.test(L)){T.debug("Received message from invalid origin type: %s",L);return}if(typeof K!="string"){T.warn("Received message of type %s from %s, expected a string",typeof K,L);return}T.debug("received message %s from %s",K,L);if(K.substring(0,H.length)==H){K=K.substring(H.length)}G.onMessage(K,L)},"entry","onMessage"));G.whenReady(I);F=true}}})());f.exports=p},null);D("isFacebookURI",[],function(c,d,f,h,i,j){var k=null,a=["http","https"];function b(l){if(!k){k=new RegExp("(^|\\.)facebook\\.com$","i")}if(l.isEmpty()){return false}if(!l.getDomain()&&!l.getProtocol()){return true}return(A(a,"indexOf",true,l.getProtocol())!==-1&&k.test(l.getDomain()))}i.exports=b},null);D("sdk.XD",["sdk.Content","sdk.Event","Log","QueryString","Queue","sdk.RPC","sdk.Runtime","sdk.Scribe","sdk.URI","UrlMap","JSSDKXDConfig","XDM","isFacebookURI","sdk.createIframe","sdk.feature","guid"],function(l,n,p,ar,au,ax,az,aB,aC,aE,aF,aH,aJ,aM,aO,aQ,aR,aT,aV,a,c,d){var h=new aF(),j=new aF(),m=new aF(),o,aK,i=d(),av=aR.useCdn?"cdn":"www",aI=c("use_bundle")?aR.XdBundleUrl:aR.XdUrl,aU=aQ.resolve(av,false)+aI,at=aQ.resolve(av,true)+aI,aG=d(),aS=location.protocol+"//"+location.host,aq,aD=false,aP="Facebook Cross Domain Communication Frame",k={},aA=new aF();aH.setInQueue(aA);function aN(F){aC.info("Remote XD can talk to facebook.com (%s)",F);aJ.setEnvironment(F==="canvas"?aJ.ENVIRONMENTS.CANVAS:aJ.ENVIRONMENTS.PAGETAB)}function f(K,I){if(!I){aC.error("No senderOrigin");throw new Error()}var H=/^https?/.exec(I)[0];switch(K.xd_action){case"proxy_ready":var G,F;if(H=="https"){G=m;F=aK}else{G=j;F=o}if(K.registered){aN(K.registered);h=G.merge(h)}aC.info("Proxy ready, starting queue %s containing %s messages",H+"ProxyQueue",G.getLength());G.start(function(M){aq.send(typeof M==="string"?M:aE.encode(M),I,F.contentWindow,aG+"_"+H)});break;case"plugin_ready":aC.info("Plugin %s ready, protocol: %s",K.name,H);k[K.name]={protocol:H};if(aF.exists(K.name)){var L=aF.get(K.name);aC.debug("Enqueuing %s messages for %s in %s",L.getLength(),K.name,H+"ProxyQueue");(H=="https"?m:j).merge(L)}break}if(K.data){ay(K.data,I)}}function ay(I,H){if(H&&H!=="native"&&!aV(aO(H))){return}if(typeof I=="string"){if(/^FB_RPC:/.test(I)){aA.enqueue(I.substring(7));return}if(I.substring(0,1)=="{"){try{I=A("JSON","parse",false,I)}catch(G){aC.warn("Failed to decode %s as JSON",I);return}}else{I=aE.decode(I)}}if(!H){if(I.xd_sig==i){H=I.xd_origin}}if(I.xd_action){f(I,H);return}if(I.access_token){aJ.setSecure(/^https/.test(aS))}if(I.cb){var F=aw._callbacks[I.cb];if(!aw._forever[I.cb]){delete aw._callbacks[I.cb]}if(F){F(I)}}}function aL(H,G){if(H=="facebook"){G.relation="parent.parent";h.enqueue(G)}else{G.relation='parent.frames["'+H+'"]';var F=k[H];if(F){aC.debug("Enqueuing message for plugin %s in %s",H,F.protocol+"ProxyQueue");(F.protocol=="https"?m:j).enqueue(G)}else{aC.debug("Buffering message for plugin %s",H);aF.get(H).enqueue(G)}}}aH.getOutQueue().start(function(F){aL("facebook","FB_RPC:"+F)});function b(H){if(aD){return}var G=az.appendHidden(t.createElement("div")),F=aT.create({blacklist:null,root:G,channel:aG,flashUrl:aR.Flash.path,whenReady:function(K){aq=K;var I={channel:aG,origin:location.protocol+"//"+location.host,transport:F,xd_name:H},L="#"+aE.encode(I);if(aJ.getSecure()!==true){o=a({url:aU+L,name:"fb_xdm_frame_http",id:"fb_xdm_frame_http",root:G,"aria-hidden":true,title:aP,tabindex:-1})}aK=a({url:at+L,name:"fb_xdm_frame_https",id:"fb_xdm_frame_https",root:G,"aria-hidden":true,title:aP,tabindex:-1})},onMessage:ay});if(!F){aM.log("jssdk_error",{appId:aJ.getClientID(),error:"XD_TRANSPORT",extra:{message:"Failed to create a valid transport"}})}aD=true}var aw={rpc:aH,_callbacks:{},_forever:{},_channel:aG,_origin:aS,onMessage:ay,recv:ay,init:b,sendToFacebook:aL,inform:function(I,H,G,F){aL("facebook",{method:I,params:A("JSON","stringify",false,H||{}),behavior:F||"p",relation:G})},handler:function(K,I,H,G){var F="#"+aE.encode({cb:this.registerCallback(K,H,G),origin:aS+"/"+aG,domain:location.hostname,relation:I||"opener"});return(location.protocol=="https:"?at:aU)+F},registerCallback:function(H,G,F){F=F||d();if(G){aw._forever[F]=true}aw._callbacks[F]=H;return F}};aB.subscribe("init:post",function(G){b(G.xdProxyName);var F=c("xd_timeout");if(F){z(function(){var H=aK&&(!!o==j.isStarted()&&!!aK==m.isStarted());if(!H){aM.log("jssdk_error",{appId:aJ.getClientID(),error:"XD_INITIALIZATION",extra:{message:"Failed to initialize in "+F+"ms"}})}},F)}});au.exports=aw},null);D("sdk.Auth",["sdk.Cookie","sdk.createIframe","DOMWrapper","sdk.feature","sdk.getContextType","guid","sdk.Impressions","Log","ObservableMixin","sdk.Runtime","sdk.SignedRequest","UrlMap","sdk.URI","sdk.XD"],function(aq,ar,at,a,b,c,d,f,h,i,j,k,l,m,n,p,aa,af,ag,ah){var ai,aj,ak=new n();function al(L,K){var Q=p.getUserID(),N="";if(L){if(L.userID){N=L.userID}else{if(L.signedRequest){var M=aa.parse(L.signedRequest);if(M&&M.user_id){N=M.user_id}}}}var R=p.getLoginStatus(),G=(R==="unknown"&&L)||(p.getUseCookie()&&p.getCookieUserID()!==N),O=Q&&!L,F=L&&Q&&Q!=N,I=L!=ai,P=K!=(R||"unknown");p.setLoginStatus(K);p.setAccessToken(L&&L.accessToken||null);p.setUserID(N);ai=L;var H={authResponse:L,status:K};if(O||F){ak.inform("logout",H)}if(G||F){ak.inform("login",H)}if(I){ak.inform("authresponse.change",H)}if(P){ak.inform("status.change",H)}return H}function am(){return ai}function an(H,G,F){return function(N){var M;if(N&&N.access_token){var L=aa.parse(N.signed_request);G={accessToken:N.access_token,userID:L.user_id,expiresIn:parseInt(N.expires_in,10),signedRequest:N.signed_request};if(N.granted_scopes){G.grantedScopes=N.granted_scopes}if(p.getUseCookie()){var K=G.expiresIn===0?0:A("Date","now",false)+G.expiresIn*1000,I=d.getDomain();if(!I&&N.base_domain){d.setDomain("."+N.base_domain)}d.setSignedRequestCookie(N.signed_request,K)}M="connected";al(G,M)}else{if(F==="logout"||F==="login_status"){if(N.error&&N.error==="not_authorized"){M="not_authorized"}else{M="unknown"}al(null,M);if(p.getUseCookie()){d.clearSignedRequestCookie()}}}if(N&&N.https==1){p.setSecure(true)}if(H){H({authResponse:G,status:p.getLoginStatus()})}return G}}function ap(I){var H,G=A("Date","now",false);if(aj){s(aj);aj=null}var F=an(I,ai,"login_status"),K=ag(af.resolve("www",true)+"/connect/ping").setQueryData({client_id:p.getClientID(),response_type:"token,signed_request,code",domain:location.hostname,origin:j(),redirect_uri:ah.handler(function(M){if(i("e2e_ping_tracking",true)){var L={init:G,close:A("Date","now",false),method:"ping"};m.debug("e2e: %s",A("JSON","stringify",false,L));l.log(114,{payload:L})}H.parentNode.removeChild(H);if(F(M)){aj=z(function(){ap(function(){})},1200000)}},"parent"),sdk:"joey",kid_directed_site:p.getKidDirectedSite()});H=f({root:h.getRoot(),name:k(),url:K.toString(),style:{display:"none"}})}var ao;function o(H,G){if(!p.getClientID()){m.warn("FB.getLoginStatus() called before calling FB.init().");return}if(H){if(!G&&ao=="loaded"){H({status:p.getLoginStatus(),authResponse:am()});return}else{ak.subscribe("FB.loginStatus",H)}}if(!G&&ao=="loading"){return}ao="loading";var F=function(I){ao="loaded";ak.inform("FB.loginStatus",I);ak.clearSubscribers("FB.loginStatus")};ap(F)}A("Object","assign",false,ak,{getLoginStatus:o,fetchLoginStatus:ap,setAuthResponse:al,getAuthResponse:am,parseSignedRequest:aa.parse,xdResponseWrapper:an});b.exports=ak},null);D("toArray",["invariant"],function(h,i,j,a,b,c,d){function f(l){var n=l.length;d(!A("Array","isArray",false,l)&&(typeof l==="object"||typeof l==="function"));d(typeof n==="number");d(n===0||(n-1) in l);if(l.hasOwnProperty){try{return Array.prototype.slice.call(l)}catch(o){}}var k=Array(n);for(var m=0;m<n;m++){k[m]=l[m]}return k}b.exports=f},null);D("createArrayFrom",["toArray"],function(c,d,f,h,i,j,k){function a(l){return(!!l&&(typeof l=="object"||typeof l=="function")&&("length" in l)&&!("setInterval" in l)&&(typeof l.nodeType!="number")&&(A("Array","isArray",false,l)||("callee" in l)||("item" in l)))}function b(l){if(!a(l)){return[l]}else{if(A("Array","isArray",false,l)){return l.slice()}else{return k(l)}}}i.exports=b},null);D("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent_DEPRECATED"],function(a,b,c,d,f,h,i,j,k,l){var m={};function n(G,H){var F=(G.getAttribute(H)||G.getAttribute(H.replace(/_/g,"-"))||G.getAttribute(H.replace(/-/g,"_"))||G.getAttribute(H.replace(/-/g,""))||G.getAttribute(H.replace(/_/g,""))||G.getAttribute("data-"+H)||G.getAttribute("data-"+H.replace(/_/g,"-"))||G.getAttribute("data-"+H.replace(/-/g,"_"))||G.getAttribute("data-"+H.replace(/-/g,""))||G.getAttribute("data-"+H.replace(/_/g,"")));return F?String(F):null}function o(G,H){var F=n(G,H);return F?/^(true|1|yes|on)$/.test(F):null}function p(G,H){i.isTruthy(G,"element not specified");i.isString(H);try{return String(G[H])}catch(F){throw new Error("Could not read property "+H+" : "+F.message)}}function aa(G,H){i.isTruthy(G,"element not specified");i.isString(H);try{G.innerHTML=H}catch(F){throw new Error("Could not set innerHTML : "+F.message)}}function ab(G,H){i.isTruthy(G,"element not specified");i.isString(H);var F=" "+p(G,"className")+" ";return A(F,"indexOf",true," "+H+" ")>=0}function ac(F,G){i.isTruthy(F,"element not specified");i.isString(G);if(!ab(F,G)){F.className=p(F,"className")+" "+G}}function ad(G,H){i.isTruthy(G,"element not specified");i.isString(H);var F=new RegExp("\\s*"+H,"g");G.className=A(p(G,"className").replace(F,""),"trim",true)}function ae(G,H,F){i.isString(G);H=H||t.body;F=F||"*";if(H.querySelectorAll){return j(H.querySelectorAll(F+"."+G))}var M=H.getElementsByTagName(F),L=[];for(var K=0,I=M.length;K<I;K++){if(ab(M[K],G)){L[L.length]=M[K]}}return L}function af(G,H){i.isTruthy(G,"element not specified");i.isString(H);H=H.replace(/-(\w)/g,function(L,K){return K.toUpperCase()});var F=G.currentStyle||t.defaultView.getComputedStyle(G,null),I=F[H];if(/backgroundPosition?/.test(H)&&/top|left/.test(I)){I="0%"}return I}function ag(G,H,F){i.isTruthy(G,"element not specified");i.isString(H);H=H.replace(/-(\w)/g,function(K,I){return I.toUpperCase()});G.style[H]=F}function ah(G,H){var F=true;for(var M=0,L;L=H[M++];){if(!(L in m)){F=false;m[L]=true}}if(F){return}if(l.ie()<11){try{t.createStyleSheet().cssText=G}catch(K){if(t.styleSheets[0]){t.styleSheets[0].cssText+=G}}}else{var I=t.createElement("style");I.type="text/css";I.textContent=G;t.getElementsByTagName("head")[0].appendChild(I)}}function ai(){var F=(t.documentElement&&t.compatMode=="CSS1Compat")?t.documentElement:t.body;return{scrollTop:F.scrollTop||t.body.scrollTop,scrollLeft:F.scrollLeft||t.body.scrollLeft,width:u.innerWidth?u.innerWidth:F.clientWidth,height:u.innerHeight?u.innerHeight:F.clientHeight}}function aj(G){i.isTruthy(G,"element not specified");var H=0,F=0;do{H+=G.offsetLeft;F+=G.offsetTop}while(G=G.offsetParent);return{x:H,y:F}}var Z={containsCss:ab,addCss:ac,removeCss:ad,getByClass:ae,getStyle:af,setStyle:ag,getAttr:n,getBoolAttr:o,getProp:p,html:aa,addCssRules:ah,getViewportInfo:ai,getPosition:aj,ready:k};f.exports=Z},null);D("sdk.ErrorHandling",["sdk.feature","ManagedError","sdk.Runtime","sdk.Scribe","UserAgent_DEPRECATED","wrapFunction"],function(a,b,c,d,f,h,l,m,o,Q,R,S){var T=l("error_handling",false),U="";function V(F){var G=F._originalError;delete F._originalError;Q.log("jssdk_error",{appId:o.getClientID(),error:F.name||F.message,extra:F});throw G}function i(F){var G={line:F.lineNumber||F.line,message:F.message,name:F.name,script:F.fileName||F.sourceURL||F.script,stack:F.stackTrace||F.stack};G._originalError=F;if(R.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(F.stack)){G.script=RegExp.$1;G.line=parseInt(RegExp.$2,10)}for(var H in G){(G[H]==null&&delete G[H])}return G}function j(F,G){return function(){if(!T){return F.apply(this,arguments)}try{U=G;return F.apply(this,arguments)}catch(H){if(H instanceof m){throw H}var I=i(H);I.entry=G;var K=A(Array.prototype.slice.call(arguments),"map",true,function(L){var M=Object.prototype.toString.call(L);return(/^\[object (String|Number|Boolean|Object|Date)\]$/).test(M)?L:L.toString()});I.args=A("JSON","stringify",false,K).substring(0,200);V(I)}finally{U=""}}}function k(F){if(!F.__wrapper){F.__wrapper=function(){try{return F.apply(this,arguments)}catch(G){u.setTimeout(function(){throw G},0);return false}}}return F.__wrapper}function n(F,G){return function(H,I){var K=G+":"+(U||"[global]")+":"+(H.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return F(S(H,"entry",K),I)}}if(T){z=n(z,"setTimeout");x=n(x,"setInterval");S.setWrapper(j,"entry")}var p={guard:j,unguard:k};f.exports=p},null);D("sdk.Insights",["sdk.Impressions"],function(h,i,j,a,b,c,d){var f={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(m,n,k){var l={source:"jssdk",type:m,category:n,payload:k};d.log(113,l)},impression:d.impression};b.exports=f},null);D("FB",["sdk.Auth","JSSDKCssConfig","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","JSSDKConfig"],function(ap,aq,a,b,c,d,f,h,i,j,k,l,m,n,o,p,aa,ae,af,ag){var ah,ai,aj=i(ag,"api.mode"),ak={};ah=u.FB={};var al={};aa.level=1;o.setPrefix("FB.__globalCallbacks");var am=t.createElement("div");n.setRoot(am);j(function(){aa.info("domReady");m.appendHidden(am);if(h.rules){k.addCssRules(h.rules,h.components)}});ae.subscribe("AccessToken.change",function(F){if(!F&&ae.getLoginStatus()==="connected"){f.getLoginStatus(null,true)}});if(i(ag,"api.whitelist.length")){ai={};A(ag.api.whitelist,"forEach",true,function(F){ai[F]=1})}function ao(K,I,H,G){var F;if(/^_/.test(H)){F="hide"}else{if(ai&&!ai[I]){F=aj}}switch(F){case"hide":return;case"stub":return function(){aa.warn("The method FB.%s has been removed from the JS SDK.",I)};break;default:return l.guard(function(){if(F==="warn"){aa.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",I);if(!ak.hasOwnProperty(I)){p.log(p.TYPE.WARNING,p.CATEGORY.DEPRECATED,"FB."+I);af.log("jssdk_error",{appId:ae.getClientID(),error:"Private method used",extra:{args:I}});ak[I]=true}}function N(T){if(A("Array","isArray",false,T)){return A(T,"map",true,N)}if(T&&typeof T==="object"&&T.__wrapped){return T.__wrapped}return typeof T==="function"&&/^function/.test(T.toString())?l.unguard(T):T}var S=A(Array.prototype.slice.call(arguments),"map",true,N),Q=K.apply(G,S),P,O=true;if(Q&&typeof Q==="object"){var M=Function();M.prototype=Q;P=new M();P.__wrapped=Q;for(var L in Q){var R=Q[L];if(typeof R!=="function"||L==="constructor"){continue}O=false;P[L]=ao(R,I+":"+L,L,Q)}}if(!O){return P}return O?Q:P},I)}}function an(H,G){var F=H?i(ah,H,true):ah;A(A("Object","keys",false,G),"forEach",true,function(K){var I=G[K];if(typeof I==="function"){var M=(H?H+".":"")+K,L=ao(I,M,K,G);if(L){F[K]=L}}else{if(typeof I==="object"){M=(H?H+".":"")+K;if(ai&&ai[M]){F[K]=I}}}})}ae.setSecure((function(){var G=/iframe_canvas|app_runner/.test(u.name),F=/dialog/.test(u.name);if(location.protocol=="https:"&&(u==top||!(G||F))){return true}if(/_fb_https?/.test(u.name)){return A(u.name,"indexOf",true,"_fb_https")!=-1}})());A("Object","assign",false,al,{provide:an});c.exports=al},null);D("ArgumentError",["ManagedError"],function(h,i,j,a,b,c,d){function f(k,l){d.prototype.constructor.apply(this,arguments)}f.prototype=new d();f.prototype.constructor=f;b.exports=f},null);D("CORSRequest",["wrapFunction","QueryString"],function(c,d,f,h,i,j,k,l){function m(O,P){if(!q.XMLHttpRequest){return null}var n=new XMLHttpRequest(),o=function(){};if("withCredentials" in n){n.open(O,P,true);n.setRequestHeader("Content-type","application/x-www-form-urlencoded")}else{if(q.XDomainRequest){n=new XDomainRequest();try{n.open(O,P);n.onprogress=n.ontimeout=o}catch(p){return null}}else{return null}}var L={send:function(F){n.send(F)}},M=k(function(){M=o;if("onload" in L){L.onload(n)}},"entry","XMLHttpRequest:load"),N=k(function(){N=o;if("onerror" in L){L.onerror(n)}},"entry","XMLHttpRequest:error");n.onload=function(){M()};n.onerror=function(){N()};n.onreadystatechange=function(){if(n.readyState==4){if(n.status==200){M()}else{N()}}};return L}function a(K,L,n,o){n.suppress_http_code=1;var p=l.encode(n);if(L!="post"){K=l.appendToUrl(K,p);p=""}var I=m(L,K);if(!I){return false}I.onload=function(F){o(A("JSON","parse",false,F.responseText))};I.onerror=function(F){if(F.responseText){o(A("JSON","parse",false,F.responseText))}else{o({error:{type:"http",message:"unknown error",status:F.status}})}};I.send(p);return true}var b={execute:a};i.exports=b},null);D("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(a,b,f,i,j,l,n,M,N,O,P){var c,d={},h,k;function m(){if(!h){throw new Error("swfUrl has not been set")}var F=N.create(function(){c.start(function(H){var I=k.execute(H.method,H.url,H.body);if(!I){throw new Error("Could create request")}d[I]=H.callback})}),G=N.create(function(I,K,L){var R;try{R=A("JSON","parse",false,decodeURIComponent(L))}catch(H){R={error:{type:"SyntaxError",message:H.message,status:K,raw:L}}}d[I](R);delete d[I]});k=M.embed(h,n.getRoot(),null,{log:false,initCallback:F,requestCallback:G})}function o(H,I,K,F){K.suppress_http_code=1;if(!K.method){K.method=I}var G=O.encode(K);if(I==="get"&&H.length+G.length<2000){H=O.appendToUrl(H,G);G=""}else{I="post"}if(!c){if(!M.isAvailable()){return false}c=new P();m()}c.enqueue({method:I,url:H,body:G,callback:F});return true}var p={setSwfUrl:function(F){h=F},execute:o};j.exports=p},null);D("flattenObject",[],function(h,i,a,b,c,d){function f(m){var j={};for(var k in m){if(m.hasOwnProperty(k)){var l=m[k];if(null===l||undefined===l){continue}else{if(typeof l=="string"){j[k]=l}else{j[k]=A("JSON","stringify",false,l)}}}}return j}c.exports=f},null);D("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(c,d,f,h,i,j,k,l,m){function a(M,N,n,o){var p=t.createElement("script"),K=function(F){K=function(){};l.remove(n.callback);o(F);p.parentNode.removeChild(p)};n.callback=l.create(K);if(!n.method){n.method=N}M=m.appendToUrl(M,n);if(M.length>2000){l.remove(n.callback);return false}p.onerror=function(){K({error:{type:"http",message:"unknown error"}})};var L=function(){z(function(){K({error:{type:"http",message:"unknown error"}})},0)};if(p.addEventListener){p.addEventListener("load",L,false)}else{p.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState)){L()}}}p.src=M;k.getRoot().appendChild(p);return true}var b={execute:a};i.exports=b},null);D("ApiClient",["ArgumentError","Assert","CORSRequest","FlashRequest","flattenObject","JSONPRequest","Log","ObservableMixin","sprintf","sdk.URI","UrlMap","ApiClientConfig","invariant"],function(ap,aq,at,aw,ax,az,aB,aE,aF,aH,aJ,a,b,c,d,f,h,i,j){var k,l,m,n={get:true,post:true,"delete":true,put:true},o={fql_query:true,fql_multiquery:true,friends_get:true,notifications_get:true,stream_get:true,users_getinfo:true},p=[],am=[],aC=null,an=50,au=105440539523;function aA(O,H,L,F){if(m){L=A("Object","assign",false,{},m,L)}L.access_token=L.access_token||k;L.pretty=L.pretty||0;L=aJ(L);var I={jsonp:a,cors:aF,flash:aH},M;if(L.transport){M=[L.transport];delete L.transport}else{M=["jsonp","cors","flash"]}for(var G=0;G<M.length;G++){var K=I[M[G]],N=A("Object","assign",false,{},L);if(K.execute(O,H,N,F)){return}}F({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function aI(G,F,K,I,H){aD.inform("request.complete",F,K,I,H);if(G){G(H)}}function ar(G){var N=G.shift();aE.isString(N,"Invalid path");if(!/^https?/.test(N)&&N.charAt(0)!=="/"){N="/"+N}var L,K={};try{L=new f(N)}catch(I){throw new aB(I.message,I)}A(G,"forEach",true,function(O){return K[typeof O]=O});var H=(K.string||"get").toLowerCase();aE.isTrue(n.hasOwnProperty(H),d("Invalid method passed to ApiClient: %s",H));var F=K["function"];if(!F){b.warn("No callback passed to the ApiClient")}if(K.object){L.addQueryData(K.object)}var M=L.getQueryData();M.method=H;return{uri:L,callback:F,params:M}}function ay(){var H=Array.prototype.slice.call(arguments,0),F=ar(H),M=F.uri,L=F.callback,K=F.params,I=K.method,G=M.getProtocol()&&M.getDomain()?M.setQueryData({}).toString():h.resolve("graph")+M.getPath();aA(G,I=="get"?"get":"post",K,A(aI,"bind",true,null,L,M.getPath(),I,K))}function aG(){var H=Array.prototype.slice.call(arguments,0),F=ar(H),M=F.uri,L=F.callback,K=F.params,I=K.method,G={method:I,relative_url:M.removeQueryData("method").toString()};if(I.toLowerCase()=="post"){G.body=M.getQueryData();G.relative_url=M.setQueryData({}).toString()}p.push(G);am.push(L);if(p.length==an){ao()}else{if(!aC){aC=z(ao,0)}}}function ao(){j(p.length>0);var G=p,F=am;p=[];am=[];aC=null;ay("/","POST",{batch:A("JSON","stringify",false,G),include_headers:false,batch_app_id:l||au},function(H){if(A("Array","isArray",false,H)){A(H,"forEach",true,function(K,I){F[I](A("JSON","parse",false,K.body))})}else{A(F,"forEach",true,function(I){return I({error:{message:"Fatal: batch call failed."}})})}})}function av(G,F){aE.isObject(G);aE.isString(G.method,"method missing");if(!F){b.warn("No callback passed to the ApiClient")}var L=G.method.toLowerCase().replace(".","_");G.format="json-strings";G.api_key=l;var K=L in o?"api_read":"api",I=h.resolve(K)+"/restserver.php",H=A(aI,"bind",true,null,F,"/restserver.php","get",G);aA(I,"get",G,H)}var aD=A("Object","assign",false,new c(),{setAccessToken:function(F){k=F},setClientID:function(F){l=F},setDefaultParams:function(F){m=F},rest:av,graph:ay,scheduleBatchCall:aG});aH.setSwfUrl(i.FlashRequest.swfUrl);ax.exports=aD},null);D("sdk.PlatformVersioning",["sdk.Runtime","ManagedError"],function(c,d,f,h,i,j,k,l){var a=/^v\d+\.\d\d?$/,b={REGEX:a,assertVersionIsSet:function(){if(!k.getVersion()){throw new l("init not called with valid version")}},assertValidVersion:function(m){if(!a.test(m)){throw new l("invalid version specified")}}};i.exports=b},null);D("sdk.api",["ApiClient","sdk.PlatformVersioning","sdk.Runtime","sdk.URI"],function(c,d,f,h,i,j,k,l,m,n){var a;m.subscribe("ClientID.change",function(o){k.setClientID(o)});m.subscribe("AccessToken.change",function(o){a=o;k.setAccessToken(o)});k.setDefaultParams({sdk:"joey"});k.subscribe("request.complete",function(L,o,p,I){var K=false;if(I&&typeof I=="object"){if(I.error){if(I.error=="invalid_token"||(I.error.type=="OAuthException"&&I.error.code==190)){K=true}}else{if(I.error_code){if(I.error_code=="190"){K=true}}}}if(K&&a===m.getAccessToken()){m.setAccessToken(null)}});k.subscribe("request.complete",function(I,o,p,H){if(((I=="/me/permissions"&&o==="delete")||(I=="/restserver.php"&&p.method=="Auth.revokeAuthorization"))&&H===true){m.setAccessToken(null)}});function b(p){if(typeof p==="string"){if(m.getIsVersioned()){l.assertVersionIsSet();if(!/https?/.test(p)&&p.charAt(0)!=="/"){p="/"+p}p=n(p).setDomain(null).setProtocol(null).toString();if(!l.REGEX.test(p.substring(1,A(p,"indexOf",true,"/",1)))){p="/"+m.getVersion()+p}var o=[p].concat(Array.prototype.slice.call(arguments,1));k.graph.apply(k,o)}else{k.graph.apply(k,arguments)}}else{k.rest.apply(k,arguments)}}i.exports=b},null);D("legacy:fb.api",["FB","sdk.api"],function(h,i,j,a,b,c,d,f){d.provide("",{api:f})},3);D("sdk.Canvas.Environment",["sdk.RPC"],function(c,d,f,h,i,j,k){function l(m){k.remote.getPageInfo(function(n){m(n.result)})}function a(m,n){k.remote.scrollTo({x:m||0,y:n||0})}k.stub("getPageInfo");k.stub("scrollTo");var b={getPageInfo:l,scrollTo:a};i.exports=b},null);D("sdk.Intl",["Log"],function(c,d,f,h,i,j,k){var l=("[.!?\u3002\uFF01\uFF1F\u0964\u2026\u0EAF\u1801\u0E2F\uFF0E]");function m(n){if(typeof n!="string"){return false}return !!n.match(new RegExp(l+"[)\"'\u00BB\u0F3B\u0F3D\u2019\u201D\u203A\u3009\u300B\u300D\u300F\u3011\u3015\u3017\u3019\u301B\u301E\u301F\uFD3F\uFF07\uFF09\uFF3D\\s]*$"))}function a(p,G){if(G!==undefined){if(typeof G!="object"){k.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+p+", ...)")}else{var n;for(var o in G){if(G.hasOwnProperty(o)){if(m(G[o])){n=new RegExp("\\{"+o+"\\}"+l+"*","g")}else{n=new RegExp("\\{"+o+"\\}","g")}p=p.replace(n,G[o])}}}}return p}function b(){throw new Error("Placeholder function")}b._=a;i.exports={tx:b}},null);D("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent_DEPRECATED","sdk.feature"],function(a,b,c,d,f,h,i,j,k,l,m,n,o,p,aa,ab){var ac=590,ad=500,ae=240,af=575,ag=function(){var F;if(ab("dialog_resize_refactor")){var G=ah();F=G&&(G.height>=ac||G.width>=ad)}else{F=!!aa.ipad()}ag=function(){return F};return F};function ah(){if(ab("dialog_resize_refactor")){var F=k.getViewportInfo();if(F.height&&F.width){return{width:Math.min(F.width,ac),height:Math.min(F.height,ad)}}}return null}var ai=p.extend({constructor:function Z(F,G){this.parent();this.id=F;this.display=G;this._e2e={};if(!aj._dialogs){aj._dialogs={};aj._addOrientationHandler()}aj._dialogs[F]=this;this.trackEvent("init")},trackEvent:function(F,G){if(this._e2e[F]){return this}this._e2e[F]=G||A("Date","now",false);if(F=="close"){this.inform("e2e:end",this._e2e)}return this},trackEvents:function(F){if(typeof F==="string"){F=A("JSON","parse",false,F)}for(var G in F){if(F.hasOwnProperty(G)){this.trackEvent(G,F[G])}}return this}},n),aj={newInstance:function(F,G){return new ai(F,G)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(F){return aj._dialogs[F]},_findRoot:function(F){while(F){if(k.containsCss(F,"fb_dialog")){return F}F=F.parentNode}},_createWWWLoader:function(F){F=F?F:460;return aj.create({content:('<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>'),width:F})},_createMobileLoader:function(){var F=aa.nativeApp()?"":('<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+m.tx._("Cancel")+'"            id="fb_dialog_loader_close"/>        </label>      </td>      <td class="header_center">        <div>'+m.tx._("Loading...")+'</div>      </td>      <td class="header_right">      </td>    </tr>  </tbody></table>');return aj.create({classes:"loading"+(ag()?" centered":""),content:('<div class="dialog_header">'+F+"</div>")})},_restoreBodyPosition:function(){if(!ag()){var F=t.getElementsByTagName("body")[0];k.removeCss(F,"fb_hidden")}},_showTabletOverlay:function(){if(!ag()){return}if(!aj._overlayEl){aj._overlayEl=t.createElement("div");aj._overlayEl.setAttribute("id","fb_dialog_ipad_overlay");j.append(aj._overlayEl,null)}aj._overlayEl.className=""},_hideTabletOverlay:function(){if(ag()){aj._overlayEl.className="hidden"}},showLoader:function(F,H){aj._showTabletOverlay();if(!aj._loaderEl){aj._loaderEl=aj._findRoot(aa.mobile()?aj._createMobileLoader():aj._createWWWLoader(H))}if(!F){F=function(){}}var I=t.getElementById("fb_dialog_loader_close");k.removeCss(I,"fb_hidden");I.onclick=function(){aj._hideLoader();aj._restoreBodyPosition();aj._hideTabletOverlay();F()};var G=t.getElementById("fb_dialog_ipad_overlay");if(G){G.ontouchstart=I.onclick}aj._makeActive(aj._loaderEl)},_hideLoader:function(){if(aj._loaderEl&&aj._loaderEl==aj._active){aj._loaderEl.style.top="-10000px"}},_makeActive:function(F){aj._setDialogSizes();aj._lowerActive();aj._active=F;if(o.isEnvironment(o.ENVIRONMENTS.CANVAS)){i.getPageInfo(function(G){aj._centerActive(G)})}aj._centerActive()},_lowerActive:function(){if(!aj._active){return}aj._active.style.top="-10000px";aj._active=null},_removeStacked:function(F){aj._stack=A(aj._stack,"filter",true,function(G){return G!=F})},_centerActive:function(G){var H=aj._active;if(!H){return}var I=k.getViewportInfo(),K=parseInt(H.offsetWidth,10),P=parseInt(H.offsetHeight,10),N=I.scrollLeft+(I.width-K)/2,L=(I.height-P)/2.5;if(N<L){L=N}var R=I.height-P-L,O=(I.height-P)/2;if(G){O=G.scrollTop-G.offsetTop+(G.clientHeight-P)/2}if(O<L){O=L}else{if(O>R){O=R}}O+=I.scrollTop;if(aa.mobile()){var M=100;if(ag()){M+=(I.height-P)/2}else{var F=t.getElementsByTagName("body")[0];k.addCss(F,"fb_hidden");if(ab("dialog_resize_refactor")){F.style.width="auto"}O=10000}var Q=k.getByClass("fb_dialog_padding",H);if(Q.length){Q[0].style.height=M+"px"}}H.style.left=(N>0?N:0)+"px";H.style.top=(O>0?O:0)+"px"},_setDialogSizes:function(){if(!aa.mobile()||ag()){return}for(var F in aj._dialogs){if(aj._dialogs.hasOwnProperty(F)){var G=t.getElementById(F);if(G){G.style.width=aj.getDefaultSize().width+"px";G.style.height=aj.getDefaultSize().height+"px"}}}},getDefaultSize:function(){if(aa.mobile()){var F=ah();if(F){return F}if(aa.ipad()){return{width:ad,height:ac}}if(aa.android()){return{width:screen.availWidth,height:screen.availHeight}}else{var H=u.innerWidth,I=u.innerHeight,G=H/I>1.2;return{width:H,height:Math.max(I,(G?screen.width:screen.height))}}}return{width:af,height:ae}},_handleOrientationChange:function(F){var H=ab("dialog_resize_refactor",false)?k.getViewportInfo().width:screen.availWidth;if(aa.android()&&H==aj._availScreenWidth){z(aj._handleOrientationChange,50);return}aj._availScreenWidth=H;if(ag()){aj._centerActive()}else{var I=aj.getDefaultSize().width;for(var G in aj._dialogs){if(aj._dialogs.hasOwnProperty(G)){var K=t.getElementById(G);if(K){K.style.width=I+"px"}}}}},_addOrientationHandler:function(){if(!aa.mobile()){return}var F="onorientationchange" in u?"orientationchange":"resize";aj._availScreenWidth=ab("dialog_resize_refactor",false)?k.getViewportInfo().width:screen.availWidth;l.add(u,F,aj._handleOrientationChange)},create:function(F){F=F||{};var H=t.createElement("div"),I=t.createElement("div"),G="fb_dialog";if(F.closeIcon&&F.onClose){var M=t.createElement("a");M.className="fb_dialog_close_icon";M.onclick=F.onClose;H.appendChild(M)}G+=" "+(F.classes||"");if(aa.ie()){G+=" fb_dialog_legacy";A(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",true,function(O){var N=t.createElement("span");N.className="fb_dialog_"+O;H.appendChild(N)})}else{G+=aa.mobile()?" fb_dialog_mobile":" fb_dialog_advanced"}if(F.content){j.append(F.content,I)}H.className=G;var L=parseInt(F.width,10);if(!isNaN(L)){H.style.width=L+"px"}I.className="fb_dialog_content";H.appendChild(I);if(aa.mobile()){var K=t.createElement("div");K.className="fb_dialog_padding";H.appendChild(K)}j.append(H);if(F.visible){aj.show(H)}return I},show:function(F){var G=aj._findRoot(F);if(G){aj._removeStacked(G);aj._hideLoader();aj._makeActive(G);aj._stack.push(G);if("fbCallID" in F){aj.get(F.fbCallID).inform("iframe_show").trackEvent("show")}}},hide:function(F){var G=aj._findRoot(F);aj._hideLoader();if(G==aj._active){aj._lowerActive();aj._restoreBodyPosition();aj._hideTabletOverlay();if("fbCallID" in F){aj.get(F.fbCallID).inform("iframe_hide").trackEvent("hide")}}},remove:function(F){F=aj._findRoot(F);if(F){var G=aj._active==F;aj._removeStacked(F);if(G){aj._hideLoader();if(aj._stack.length>0){aj.show(aj._stack.pop())}else{aj._lowerActive();aj._restoreBodyPosition();aj._hideTabletOverlay()}}else{if(aj._active===null&&aj._stack.length>0){aj.show(aj._stack.pop())}}z(function(){F.parentNode.removeChild(F)},3000)}},isActive:function(F){var G=aj._findRoot(F);return G&&G===aj._active}};f.exports=aj},null);D("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(c,d,f,h,i,j,k,l,m,a){var b={_allowedRecipients:{},_useFrictionless:false,_updateRecipients:function(){b._allowedRecipients={};l("/me/apprequestformerrecipients",function(n){if(!n||n.error){return}A(n.data,"forEach",true,function(o){b._allowedRecipients[o.recipient_id]=true})})},init:function(){b._useFrictionless=true;k.getLoginStatus(function(n){if(n.status=="connected"){b._updateRecipients()}});m.subscribe("auth.login",function(n){if(n.authResponse){b._updateRecipients()}})},_processRequestResponse:function(n,o){return function(p){var G=p&&p.updated_frictionless;if(b._useFrictionless&&G){b._updateRecipients()}if(p){if(!o&&p.frictionless){a._hideLoader();a._restoreBodyPosition();a._hideIPadOverlay()}delete p.frictionless;delete p.updated_frictionless}n&&n(p)}},isAllowed:function(o){if(!o){return false}if(typeof o==="number"){return o in b._allowedRecipients}if(typeof o==="string"){o=o.split(",")}o=A(o,"map",true,function(G){return A(String(G),"trim",true)});var p=true,n=false;A(o,"forEach",true,function(G){p=p&&G in b._allowedRecipients;n=true});return p&&n}};m.subscribe("init:post",function(n){if(n.frictionlessRequests){b.init()}});i.exports=b},null);D("sdk.Native",["Log","UserAgent_DEPRECATED"],function(c,d,f,h,i,j,k,l){var a="fbNativeReady",b={onready:function(m){if(!l.nativeApp()){k.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");return}if(u.__fbNative&&!this.nativeReady){A("Object","assign",false,this,u.__fbNative)}if(this.nativeReady){m()}else{var n=function(o){u.removeEventListener(a,n);this.onready(m)};u.addEventListener(a,n,false)}}};i.exports=b},null);D("resolveURI",[],function(h,i,a,b,c,d){function f(j){if(!j){return u.location.href}j=j.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var k=t.createElement("div");k.innerHTML='<a href="'+j+'"></a>';return k.firstChild.href}c.exports=f},null);D("PHPQuerySerializer",["invariant"],function(p,b,d,f,h,i,j){function k(G){return l(G,null)}function l(K,L){L=L||"";var M=[];if(K===null||K===undefined){M.push(m(L))}else{if(typeof(K)=="object"){j(!(("nodeName" in K)||("nodeType" in K)));for(var N in K){if(K.hasOwnProperty(N)&&K[N]!==undefined){M.push(l(K[N],L?(L+"["+N+"]"):N))}}}else{M.push(m(L)+"="+m(K))}}return M.join("&")}function m(G){return encodeURIComponent(G).replace(/%5D/g,"]").replace(/%5B/g,"[")}var n=/^([-_\w]+)((?:\[[-_\w]*\])+)=?(.*)/;function o(ab){if(!ab){return{}}var ac={};ab=ab.replace(/%5B/ig,"[").replace(/%5D/ig,"]");ab=ab.split("&");var ad=Object.prototype.hasOwnProperty;for(var ae=0,T=ab.length;ae<T;ae++){var U=ab[ae].match(n);if(!U){var V=ab[ae].split("=");ac[a(V[0])]=V[1]===undefined?null:a(V[1])}else{var W=U[2].split(/\]\[|\[|\]/).slice(0,-1),X=U[1],Y=a(U[3]||"");W[0]=X;var Z=ac;for(var aa=0;aa<W.length-1;aa++){if(W[aa]){if(!ad.call(Z,W[aa])){var af=W[aa+1]&&!W[aa+1].match(/^\d{1,3}$/)?{}:[];Z[W[aa]]=af;if(Z[W[aa]]!==af){return ac}}Z=Z[W[aa]]}else{if(W[aa+1]&&!W[aa+1].match(/^\d{1,3}$/)){Z.push({})}else{Z.push([])}Z=Z[Z.length-1]}}if(Z instanceof Array&&W[W.length-1]===""){Z.push(Y)}else{Z[W[W.length-1]]=Y}}}return ac}function a(G){return decodeURIComponent(G.replace(/\+/g," "))}var c={serialize:k,encodeComponent:m,deserialize:o,decodeComponent:a};h.exports=c},null);D("unqualifyURI",[],function(h,i,a,b,c,d){function f(j){j.setProtocol(null).setDomain(null).setPort(null)}c.exports=f},null);D("areSameOrigin",[],function(h,i,a,b,c,d){function f(j,k){if(j.isEmpty()||k.isEmpty()){return false}if(j.getProtocol()&&j.getProtocol()!=k.getProtocol()){return false}if(j.getDomain()&&j.getDomain()!=k.getDomain()){return false}if(j.getPort()&&j.getPort()!=k.getPort()){return false}return true}c.exports=f},null);D("goURI",["URISchemes"],function(h,i,j,a,b,c,d){function f(m,k,l){m=m.toString();if(/^([^.:/?#]+):/.test(m)&&!d.isAllowed(RegExp.$1)){throw new Error("goURI: URI scheme rejected, URI: "+m)}if(!k&&h.PageTransitions&&h.PageTransitions.isInitialized()){h.PageTransitions.go(m,l)}else{if(u.location.href==m){u.location.reload()}else{u.location.href=m}}}b.exports=f},null);D("URI",["PHPQuerySerializer","URIBase","isFacebookURI","unqualifyURI","areSameOrigin","copyProperties","goURI"],function(n,p,I,b,d,f,h,i,j,k,l,m,o){for(var H in i){if(i.hasOwnProperty(H)){c[H]=i[H]}}var a=i===null?null:i.prototype;c.prototype=A("Object","create",false,a);c.prototype.constructor=c;c.__superConstructor__=i;function c(F){if(!(this instanceof c)){return new c(F||u.location.href)}i.call(this,F||"",h)}c.prototype.setPath=function(F){this.path=F;return a.setPath.call(this,F)};c.prototype.getPath=function(){var F=a.getPath.call(this);if(F){return F.replace(/^\/+/,"/")}return F};c.prototype.setProtocol=function(F){this.protocol=F;return a.setProtocol.call(this,F)};c.prototype.setDomain=function(F){this.domain=F;return a.setDomain.call(this,F)};c.prototype.setPort=function(F){this.port=F;return a.setPort.call(this,F)};c.prototype.setFragment=function(F){this.fragment=F;return a.setFragment.call(this,F)};c.prototype.valueOf=function(){return this.toString()};c.prototype.isFacebookURI=function(){return j(this)};c.prototype.isLinkshimURI=function(){if(j(this)&&(this.getPath()==="/l.php"||A(this.getPath(),"indexOf",true,"/si/ajax/l/")===0||A(this.getPath(),"indexOf",true,"/l/")===0||A(this.getPath(),"indexOf",true,"l/")===0)){return true}return false};c.prototype.getRegisteredDomain=function(){if(!this.getDomain()){return""}if(!j(this)){return null}var F=this.getDomain().split("."),G=A(F,"indexOf",true,"facebook");return F.slice(G).join(".")};c.prototype.getUnqualifiedURI=function(){var F=new c(this);k(F);return F};c.prototype.getQualifiedURI=function(){return new c(this).$URI0()};c.prototype.$URI0=function(){if(!this.getDomain()){var F=c();this.setProtocol(F.getProtocol()).setDomain(F.getDomain()).setPort(F.getPort())}return this};c.prototype.isSameOrigin=function(F){var G=F||u.location.href;if(!(G instanceof c)){G=new c(G.toString())}return l(this,G)};c.prototype.go=function(F){o(this,F)};c.prototype.setSubdomain=function(F){var G=this.$URI0().getDomain().split(".");if(G.length<=2){G.unshift(F)}else{G[0]=F}return this.setDomain(G.join("."))};c.prototype.getSubdomain=function(){if(!this.getDomain()){return""}var F=this.getDomain().split(".");if(F.length<=2){return""}else{return F[0]}};c.isValidURI=function(F){return i.isValidURI(F,h)};m(c,{getRequestURI:function(F,G){F=F===undefined||F;var L=n.PageTransitions;if(F&&L&&L.isInitialized()){return L.getCurrentURI(!!G).getQualifiedURI()}else{return new c(u.location.href)}},getMostRecentURI:function(){var F=n.PageTransitions;if(F&&F.isInitialized()){return F.getMostRecentURI().getQualifiedURI()}else{return new c(u.location.href)}},getNextURI:function(){var F=n.PageTransitions;if(F&&F.isInitialized()){return F._next_uri.getQualifiedURI()}else{return new c(u.location.href)}},expression:/(((\w+):\/\/)([^\/:]*)(:(\d+))?)?([^#?]*)(\?([^#]*))?(#(.*))?/,arrayQueryExpression:/^(\w+)((?:\[\w*\])+)=?(.*)/,encodeComponent:function(F){return encodeURIComponent(F).replace(/%5D/g,"]").replace(/%5B/g,"[")},decodeComponent:function(F){return decodeURIComponent(F.replace(/\+/g," "))}});d.exports=c},null);D("sdk.UIServer",["sdk.Auth","sdk.Content","createObjectFrom","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","JSSDKConfig","URI","UrlMap","UserAgent_DEPRECATED","sdk.XD"],function(au,av,aw,ax,a,b,c,d,f,h,i,j,k,l,m,o,p,aa,ah,ai,aj,ak,al,am,an,ao,at,aq){var n={transform:function(F){if(F.params.display==="touch"&&F.params.access_token&&u.postMessage){F.params.channel=ap._xdChannelHandler(F.id,"parent");if(!at.nativeApp()){F.params.in_iframe=1}return F}else{return ap.genericTransform(F)}},getXdRelation:function(G){var F=G.display;if(F==="touch"&&u.postMessage&&G.in_iframe){return"parent"}return ap.getXdRelation(G)}},ar={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(F){if(!F.params.u){F.params.u=u.location.toString()}F.params.display="popup";return F}},apprequests:{transform:function(F){F=n.transform(F);F.params.frictionless=l&&l._useFrictionless;if(F.params.frictionless){if(l.isAllowed(F.params.to)){F.params.display="iframe";F.params.in_iframe=true;F.hideLoader=true}F.cb=l._processRequestResponse(F.cb,F.hideLoader)}F.closeIcon=false;return F},getXdRelation:n.getXdRelation},feed:n,"permissions.oauth":{url:"dialog/oauth",size:{width:(at.mobile()?null:475),height:(at.mobile()?null:183)},transform:function(G){if(!al.getClientID()){aa.error("FB.login() called before FB.init().");return}if(c.getAuthResponse()&&!G.params.scope&&!G.params.auth_type){aa.error("FB.login() called when user is already connected.");G.cb&&G.cb({status:al.getLoginStatus(),authResponse:c.getAuthResponse()});return}var F=G.cb,I=G.id;delete G.cb;var H=A("Object","keys",false,A("Object","assign",false,G.params.response_type?f(G.params.response_type.split(",")):{},{token:true,signed_request:true})).join(",");if(G.params.display==="async"){A("Object","assign",false,G.params,{client_id:al.getClientID(),origin:m(),response_type:H,domain:location.hostname});G.cb=c.xdResponseWrapper(F,c.getAuthResponse(),"permissions.oauth")}else{A("Object","assign",false,G.params,{client_id:al.getClientID(),redirect_uri:aj(ap.xdHandler(F,I,"opener",c.getAuthResponse(),"permissions.oauth")),origin:m(),response_type:H,domain:location.hostname})}return G}},"auth.logout":{url:"logout.php",transform:function(F){if(!al.getClientID()){aa.error("FB.logout() called before calling FB.init().")}else{if(!c.getAuthResponse()){aa.error("FB.logout() called without an access token.")}else{F.params.next=ap.xdHandler(F.cb,F.id,"parent",c.getAuthResponse(),"logout");return F}}}},"login.status":{url:"dialog/oauth",transform:function(G){var F=G.cb,H=G.id;delete G.cb;A("Object","assign",false,G.params,{client_id:al.getClientID(),redirect_uri:ap.xdHandler(F,H,"parent",c.getAuthResponse(),"login_status"),origin:m(),response_type:"token,signed_request,code",domain:location.hostname});return G}}},ap={Methods:ar,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(F){if(F.params.display=="dialog"||F.params.display=="iframe"){A("Object","assign",false,F.params,{display:"iframe",channel:ap._xdChannelHandler(F.id,"parent.parent")},true)}return F},checkOauthDisplay:function(G){var F=G.scope||G.perms||al.getScope();if(!F){return G.display}var I=F.split(/\s|,/g);for(var H=0;H<I.length;H++){if(!am.initSitevars.iframePermissions[A(I[H],"trim",true)]){return"popup"}}return G.display},prepareCall:function(P,L){var M=P.method.toLowerCase(),Q=ap.Methods.hasOwnProperty(M)?A("Object","assign",false,{},ap.Methods[M]):{},F=o(),N=al.getSecure()||(M!=="auth.status"&&M!="login.status");A("Object","assign",false,P,{app_id:al.getClientID(),locale:al.getLocale(),sdk:"joey",access_token:N&&al.getAccessToken()||undefined});P.display=ap.getDisplayMode(Q,P);if(!Q.url){Q.url="dialog/"+M}if((Q.url=="dialog/oauth"||Q.url=="dialog/permissions.request")&&(P.display=="iframe"||(P.display=="touch"&&P.in_iframe))){P.display=ap.checkOauthDisplay(P)}if(al.getIsVersioned()&&Q.url.substring(0,7)==="dialog/"){Q.url=P.version+"/"+Q.url}var G={cb:L,id:F,size:Q.size||ap.getDefaultSize(),url:ao.resolve(P.display=="touch"?"m":"www",N)+"/"+Q.url,params:P,name:M,dialog:h.newInstance(F,P.display)},I=Q.transform?Q.transform:ap.genericTransform;if(I){G=I(G);if(!G){return}}if(P.display==="touch"&&P.in_iframe){var O=new an(G.url);O.addQueryData("parent_height",u.innerHeight);G.url=O.toString()}var H=Q.getXdRelation||ap.getXdRelation,K=H(G.params);if(!(G.id in ap._defaultCb)&&!("next" in G.params)&&!("redirect_uri" in G.params)){G.params.next=ap._xdResult(G.cb,G.id,K,true)}if(K==="parent"){A("Object","assign",false,G.params,{channel_url:ap._xdChannelHandler(F,"parent.parent")},true)}G=ap.prepareParams(G);return G},prepareParams:function(G){var F=G.params.method;if(G.params.display!=="async"){delete G.params.method}G.params=k(G.params);var H=ai.encode(G.params);if(!at.nativeApp()&&ap.urlTooLongForIE(G.url+"?"+H)){G.post=true}else{if(H){G.url+="?"+H}}return G},urlTooLongForIE:function(F){return F.length>2000},getDisplayMode:function(G,F){if(F.display==="hidden"||F.display==="none"){return F.display}var H=al.isEnvironment(al.ENVIRONMENTS.CANVAS)||al.isEnvironment(al.ENVIRONMENTS.PAGETAB);if(H&&!F.display){return"async"}if(at.mobile()||F.display==="touch"){return"touch"}if(!al.getAccessToken()&&(F.display=="iframe"||F.display=="dialog")&&!G.loggedOutIframe){aa.error('"dialog" mode can only be used when the user is connected.');return"popup"}if(G.connectDisplay&&!H){return G.connectDisplay}return F.display||(al.getAccessToken()?"dialog":"popup")},getXdRelation:function(G){var F=G.display;if(F==="popup"||F==="touch"){return"opener"}if(F==="dialog"||F==="iframe"||F==="hidden"||F==="none"){return"parent"}if(F==="async"){return"parent.frames["+u.name+"]"}},popup:function(Q){var K=typeof u.screenX!="undefined"?u.screenX:u.screenLeft,L=typeof u.screenY!="undefined"?u.screenY:u.screenTop,R=typeof u.outerWidth!="undefined"?u.outerWidth:t.documentElement.clientWidth,M=typeof u.outerHeight!="undefined"?u.outerHeight:(t.documentElement.clientHeight-22),N=at.mobile()?null:Q.size.width,G=at.mobile()?null:Q.size.height,F=(K<0)?u.screen.width+K:K,O=parseInt(F+((R-N)/2),10),H=parseInt(L+((M-G)/2.5),10),I=[];if(N!==null){I.push("width="+N)}if(G!==null){I.push("height="+G)}I.push("left="+O);I.push("top="+H);I.push("scrollbars=1");if(Q.name=="permissions.request"||Q.name=="permissions.oauth"){I.push("location=1,toolbar=0")}I=I.join(",");var P;if(Q.post){P=u.open("about:blank",Q.id,I);if(P){ap.setLoadedNode(Q,P,"popup");d.submitToTarget({url:Q.url,target:Q.id,params:Q.params})}}else{P=u.open(Q.url,Q.id,I);if(P){ap.setLoadedNode(Q,P,"popup")}}if(!P){return}if(Q.id in ap._defaultCb){ap._popupMonitor()}},setLoadedNode:function(G,F,H){if(G.params&&G.params.display!="popup"){F.fbCallID=G.id}F={node:F,type:H,fbCallID:G.id};ap._loadedNodes[G.id]=F},getLoadedNode:function(G){var F=typeof G=="object"?G.id:G,H=ap._loadedNodes[F];return H?H.node:null},hidden:function(F){F.className="FB_UI_Hidden";F.root=d.appendHidden("");ap._insertIframe(F)},iframe:function(G){G.className="FB_UI_Dialog";var F=function(){ap._triggerDefault(G.id)};G.root=h.create({onClose:F,closeIcon:G.closeIcon===undefined?true:G.closeIcon,classes:(at.ipad()?"centered":"")});if(!G.hideLoader){h.showLoader(F,G.size.width)}i.addCss(G.root,"fb_dialog_iframe");ap._insertIframe(G)},touch:function(F){if(F.params&&F.params.in_iframe){if(F.ui_created){h.showLoader(function(){ap._triggerDefault(F.id)},0)}else{ap.iframe(F)}}else{if(at.nativeApp()&&!F.ui_created){F.frame=F.id;ah.onready(function(){ap.setLoadedNode(F,ah.open(F.url+"#cb="+F.frameName),"native")});ap._popupMonitor()}else{if(!F.ui_created){ap.popup(F)}}}},async:function(F){F.params.redirect_uri=location.protocol+"//"+location.host+location.pathname;delete F.params.access_token;ak.remote.showDialog(F.params,function(G){var I=G.result;if(I&&I.e2e){var H=h.get(F.id);H.trackEvents(I.e2e);H.trackEvent("close");delete I.e2e}F.cb(I)})},getDefaultSize:function(){return h.getDefaultSize()},_insertIframe:function(G){ap._loadedNodes[G.id]=false;var F=function(H){if(G.id in ap._loadedNodes){ap.setLoadedNode(G,H,"iframe")}};if(G.post){p({url:"about:blank",root:G.root,className:G.className,width:G.size.width,height:G.size.height,id:G.id,onInsert:F,onload:function(H){d.submitToTarget({url:G.url,target:H.name,params:G.params})}})}else{p({url:G.url,root:G.root,className:G.className,width:G.size.width,height:G.size.height,id:G.id,name:G.frameName,onInsert:F})}},_handleResizeMessage:function(G,F){var H=ap.getLoadedNode(G);if(!H){return}if(F.height){H.style.height=F.height+"px"}if(F.width){H.style.width=F.width+"px"}aq.inform("resize.ack",F||{},"parent.frames["+H.name+"]");if(!h.isActive(H)){h.show(H)}},_triggerDefault:function(F){ap._xdRecv({frame:F},ap._defaultCb[F]||function(){})},_popupMonitor:function(){var G;for(var F in ap._loadedNodes){if(ap._loadedNodes.hasOwnProperty(F)&&F in ap._defaultCb){var K=ap._loadedNodes[F];if(K.type!="popup"&&K.type!="native"){continue}var I=K.node;try{if(I.closed){ap._triggerDefault(F)}else{G=true}}catch(H){}}}if(G&&!ap._popupInterval){ap._popupInterval=x(ap._popupMonitor,100)}else{if(!G&&ap._popupInterval){r(ap._popupInterval);ap._popupInterval=null}}},_xdChannelHandler:function(G,F){return aq.handler(function(K){var I=ap.getLoadedNode(G);if(!I){return}if(K.type=="resize"){ap._handleResizeMessage(G,K)}else{if(K.type=="hide"){h.hide(I)}else{if(K.type=="rendered"){var H=h._findRoot(I);h.show(H)}else{if(K.type=="fireevent"){j.fire(K.event)}}}}},F,true,null)},_xdNextHandler:function(G,F,I,H){if(H){ap._defaultCb[F]=G}return aq.handler(function(K){ap._xdRecv(K,G)},I)+"&frame="+F},_xdRecv:function(G,F){var K=ap.getLoadedNode(G.frame);if(K){if(K.close){try{K.close();if(/iPhone.*Version\/(5|6)/.test(navigator.userAgent)&&RegExp.$1!=="5"){u.focus()}ap._popupCount--}catch(I){}}else{if(i.containsCss(K,"FB_UI_Hidden")){z(function(){K.parentNode.parentNode.removeChild(K.parentNode)},3000)}else{if(i.containsCss(K,"FB_UI_Dialog")){h.remove(K)}}}}delete ap._loadedNodes[G.frame];delete ap._defaultCb[G.frame];if(G.e2e){var H=h.get(G.frame);H.trackEvents(G.e2e);H.trackEvent("close");delete G.e2e}F(G)},_xdResult:function(G,F,I,H){return(ap._xdNextHandler(function(K){G&&G(K.result&&K.result!=ap._resultToken&&A("JSON","parse",false,K.result))},F,I,H)+"&result="+encodeURIComponent(ap._resultToken))},xdHandler:function(G,F,K,I,H){return ap._xdNextHandler(c.xdResponseWrapper(G,I,H),F,K,true)}};ak.stub("showDialog");a.exports=ap},null);D("sdk.ui",["Assert","sdk.Impressions","Log","sdk.PlatformVersioning","sdk.Runtime","sdk.UIServer","sdk.feature"],function(p,b,d,f,h,i,j,k,l,m,n,o,a){function c(T,N){j.isObject(T);j.maybeFunction(N);if(n.getIsVersioned()){m.assertVersionIsSet();if(T.version){m.assertValidVersion(T.version)}else{T.version=n.getVersion()}}T=A("Object","assign",false,{},T);if(!T.method){l.error('"method" is a required parameter for FB.ui().');return null}if(T.method=="pay.prompt"){T.method="pay"}var O=T.method;if(T.redirect_uri){l.warn("When using FB.ui, you should not specify a redirect_uri.");delete T.redirect_uri}if((O=="permissions.request"||O=="permissions.oauth")&&(T.display=="iframe"||T.display=="dialog")){T.display=o.checkOauthDisplay(T)}var P=a("e2e_tracking",true);if(P){T.e2e={}}var Q=o.prepareCall(T,N||function(){});if(!Q){return null}var R=Q.params.display;if(R==="dialog"){R="iframe"}else{if(R==="none"){R="hidden"}}var S=o[R];if(!S){l.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"');return null}if(P){Q.dialog.subscribe("e2e:end",function(F){F.method=O;F.display=R;l.debug("e2e: %s",A("JSON","stringify",false,F));k.log(114,{payload:F})})}S(Q);return Q.dialog}h.exports=c},null);D("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(o,G,b,d,f,h,i,j,k,l,m,n,p,a,c){m.provide("",{getLoginStatus:function(){return i.getLoginStatus.apply(i,arguments)},getAuthResponse:function(){return i.getAuthResponse()},getAccessToken:function(){return p.getAccessToken()||null},getUserID:function(){return p.getUserID()||p.getCookieUserID()},login:function(F,K){if(K&&K.perms&&!K.scope){K.scope=K.perms;delete K.perms;n.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update.")}var L=p.isEnvironment(p.ENVIRONMENTS.CANVAS)||p.isEnvironment(p.ENVIRONMENTS.PAGETAB);c(k({method:"permissions.oauth",display:L?"async":"popup",domain:location.hostname},K||{}),F)},logout:function(F){c({method:"auth.logout",display:"hidden"},F)}});i.subscribe("logout",A(l.fire,"bind",true,l,"auth.logout"));i.subscribe("login",A(l.fire,"bind",true,l,"auth.login"));i.subscribe("authresponse.change",A(l.fire,"bind",true,l,"auth.authResponseChange"));i.subscribe("status.change",A(l.fire,"bind",true,l,"auth.statusChange"));l.subscribe("init:post",function(F){if(F.status){i.getLoginStatus()}if(p.getClientID()){if(F.authResponse){i.setAuthResponse(F.authResponse,"connected")}else{if(p.getUseCookie()){var L=j.loadSignedRequest(),M;if(L){try{M=a.parse(L)}catch(N){j.clearSignedRequestCookie()}if(M&&M.user_id){p.setCookieUserID(M.user_id)}}j.loadMeta()}}}})},3);D("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(p,b,d,f,h,i,j,k){var l=null,m;function n(){var U=j.getWindow().document,V=U.body,W=U.documentElement,X=Math.max(V.offsetTop,0),P=Math.max(W.offsetTop,0),Q=V.scrollHeight+X,R=V.offsetHeight+X,S=W.scrollHeight+P,T=W.offsetHeight+P;return Math.max(Q,R,S,T)}function o(L){if(typeof L!="object"){L={}}var M=0,N=0;if(!L.height){L.height=n();M=16;N=4}if(!L.frame){L.frame=u.name||"iframe_canvas"}if(m){var O=m.height,P=L.height-O;if(P<=N&&P>=-M){return false}}m=L;k.remote.setSize(L);return true}function a(H,I){if(I===undefined&&typeof H==="number"){I=H;H=true}if(H||H===undefined){if(l===null){l=x(function(){o()},I||100)}o()}else{if(l!==null){r(l);l=null}}}k.stub("setSize");var c={setSize:o,setAutoGrow:a};h.exports=c},null);D("sdk.Canvas.Navigation",["sdk.RPC"],function(c,d,f,h,i,j,k){function a(l){k.local.navigate=function(m){l({path:m})};k.remote.setNavigationEnabled(true)}k.stub("setNavigationEnabled");var b={setUrlHandler:a};i.exports=b},null);D("sdk.Canvas.Plugin",["sdk.api","sdk.RPC","Log","UserAgent_DEPRECATED","sdk.Runtime","createArrayFrom"],function(am,a,b,c,d,f,h,i,j,k,l,m){var n="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",o="CLSID:444785F1-DE89-4295-863A-D46C3A781394",p=null,ab=!(k.osx()>=10.9&&(k.chrome()>=31||k.webkit()>=537.71||k.firefox()>=25));function ac(F){F._hideunity_savedstyle={};F._hideunity_savedstyle.left=F.style.left;F._hideunity_savedstyle.position=F.style.position;F._hideunity_savedstyle.width=F.style.width;F._hideunity_savedstyle.height=F.style.height;F.style.left="-10000px";F.style.position="absolute";F.style.width="1px";F.style.height="1px"}function ad(F){if(F._hideunity_savedstyle){F.style.left=F._hideunity_savedstyle.left;F.style.position=F._hideunity_savedstyle.position;F.style.width=F._hideunity_savedstyle.width;F.style.height=F._hideunity_savedstyle.height}}function ae(F){F._old_visibility=F.style.visibility;F.style.visibility="hidden"}function af(F){F.style.visibility=F._old_visibility||"";delete F._old_visibility}function ag(G){var F=G.type?G.type.toLowerCase():null,L=F==="application/x-shockwave-flash"||(G.classid&&G.classid.toUpperCase()==n);if(!L){return false}var K=/opaque|transparent/i;if(K.test(G.getAttribute("wmode"))){return false}for(var I=0;I<G.childNodes.length;I++){var H=G.childNodes[I];if(/param/i.test(H.nodeName)&&/wmode/i.test(H.name)&&K.test(H.value)){return false}}return true}function ah(G){var F=G.type?G.type.toLowerCase():null;return F==="application/vnd.unity"||(G.classid&&G.classid.toUpperCase()==o)}function ai(G){var F=m(u.document.getElementsByTagName("object"));F=F.concat(m(u.document.getElementsByTagName("embed")));var K=false,I=false;A(F,"forEach",true,function(O){var N=ag(O),M=ab&&ah(O);if(!N&&!M){return}K=K||N;I=I||M;var L=function(){if(G.state==="opened"){if(N){ae(O)}else{ac(O)}}else{if(N){af(O)}else{ad(O)}}};if(p){j.info("Calling developer specified callback");var P={state:G.state,elem:O};p(P);z(L,200)}else{L()}});if(Math.random()<=1/1000){var H={unity:I,flash:K};h(l.getClientID()+"/occludespopups","post",H)}}i.local.hidePluginObjects=function(){j.info("hidePluginObjects called");ai({state:"opened"})};i.local.showPluginObjects=function(){j.info("showPluginObjects called");ai({state:"closed"})};i.local.showFlashObjects=i.local.showPluginObjects;i.local.hideFlashObjects=i.local.hidePluginObjects;function aj(){ae();ac()}function ak(){af();ad()}var al={_setHidePluginCallback:function(F){p=F},hidePluginElement:aj,showPluginElement:ak};d.exports=al},null);D("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(b,d,f,h,i,j,k,l){function m(p,I){var K={appId:l.getClientID(),time:A("Date","now",false),name:I},L=[K];if(p){L.push(function(F){p(F.result)})}k.remote.logTtiMessage.apply(null,L)}function n(){m(null,"StartIframeAppTtiTimer")}function o(p){m(p,"StopIframeAppTtiTimer")}function a(p){m(p,"RecordIframeAppTti")}k.stub("logTtiMessage");var c={setDoneLoading:a,startTimer:n,stopTimer:o};i.exports=c},null);D("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.IframeHandling","sdk.Canvas.Navigation","sdk.Canvas.Plugin","sdk.RPC","sdk.Runtime","sdk.Canvas.Tti"],function(n,p,I,b,d,f,h,i,j,k,l,m,o,H,a,c){k.provide("Canvas",{setSize:function(F){h.maybeObject(F,"Invalid argument");return l.setSize.apply(null,arguments)},setAutoGrow:function(){return l.setAutoGrow.apply(null,arguments)},getPageInfo:function(F){h.isFunction(F,"Invalid argument");return i.getPageInfo.apply(null,arguments)},scrollTo:function(F,G){h.maybeNumber(F,"Invalid argument");h.maybeNumber(G,"Invalid argument");return i.scrollTo.apply(null,arguments)},setDoneLoading:function(F){h.maybeFunction(F,"Invalid argument");return c.setDoneLoading.apply(null,arguments)},startTimer:function(){return c.startTimer.apply(null,arguments)},stopTimer:function(F){h.maybeFunction(F,"Invalid argument");return c.stopTimer.apply(null,arguments)},getHash:function(F){h.isFunction(F,"Invalid argument");return m.getHash.apply(null,arguments)},setHash:function(F){h.isString(F,"Invalid argument");return m.setHash.apply(null,arguments)},setUrlHandler:function(F){h.isFunction(F,"Invalid argument");return m.setUrlHandler.apply(null,arguments)}});H.local.fireEvent=A(j.fire,"bind",true,j);j.subscribe("init:post",function(F){if(a.isEnvironment(a.ENVIRONMENTS.CANVAS)){h.isTrue(!F.hideFlashCallback||!F.hidePluginCallback,"cannot specify deprecated hideFlashCallback and new hidePluginCallback");o._setHidePluginCallback(F.hidePluginCallback||F.hideFlashCallback)}})},3);D("legacy:fb.canvas-legacy",["Assert","FB","Log","sdk.Canvas.Tti"],function(c,d,f,h,i,j,k,l,a,b){l.provide("CanvasInsights",{setDoneLoading:function(m){a.warn("Deprecated: use FB.Canvas.setDoneLoading");k.maybeFunction(m,"Invalid argument");return b.setDoneLoading.apply(null,arguments)}})},3);D("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","JSSDKCanvasPrefetcherConfig","sdk.Runtime"],function(a,b,c,d,f,h,l,m,o,Q){var R={AUTOMATIC:0,MANUAL:1},S=o.sampleRate,T=o.blacklist,U=R.AUTOMATIC,V=[];function i(){var F={object:"data",link:"href",script:"src"};if(U==R.AUTOMATIC){A(A("Object","keys",false,F),"forEach",true,function(G){var H=F[G];A(m(t.getElementsByTagName(G)),"forEach",true,function(I){if(I[H]){V.push(I[H])}})})}if(V.length===0){return}l(Q.getClientID()+"/staticresources","post",{urls:A("JSON","stringify",false,V),is_https:location.protocol==="https:"});V=[]}function j(){if(!Q.isEnvironment(Q.ENVIRONMENTS.CANVAS)||!Q.getClientID()||!S){return}if(Math.random()>1/S||T=="*"||~A(T,"indexOf",true,Q.getClientID())){return}z(i,30000)}function k(F){U=F}function n(F){V.push(F)}var p={COLLECT_AUTOMATIC:R.AUTOMATIC,COLLECT_MANUAL:R.MANUAL,addStaticResource:n,setCollectionMode:k,_maybeSample:j};f.exports=p},null);D("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(c,d,f,h,i,j,k,l,a,b){k.provide("Canvas.Prefetcher",l);a.subscribe("init:post",function(m){if(b.isEnvironment(b.ENVIRONMENTS.CANVAS)){l._maybeSample()}})},3);D("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(c,d,f,h,i,j,k,l,m,a,b){l.provide("",{share:function(n){m.error("share() has been deprecated. Please use FB.ui() instead.");a({display:"popup",method:"stream.share",u:n})},publish:function(n,o){m.error("publish() has been deprecated. Please use FB.ui() instead.");n=n||{};a(k({display:"popup",method:"stream.publish",preview:1},n||{}),o)},addFriend:function(n,o){m.error("addFriend() has been deprecated. Please use FB.ui() instead.");a({display:"popup",id:n,method:"friend.add"},o)}});b.Methods["auth.login"]=b.Methods["permissions.request"]},3);D("mergeArrays",[],function(h,i,a,b,c,d){function f(j,k){for(var l=0;l<k.length;l++){if(A(j,"indexOf",true,k[l])<0){j.push(k[l])}}return j}c.exports=f},null);D("format",[],function(h,i,a,b,c,d){function f(j,k){k=Array.prototype.slice.call(arguments,1);return j.replace(/\{(\d+)\}/g,function(m,n){var l=k[Number(n)];return(l===null||l===undefined)?"":l.toString()})}c.exports=f},null);D("safeEval",[],function(h,i,a,b,c,d){function f(j,k){if(j===null||typeof j==="undefined"){return}if(typeof j!=="string"){return j}if(/^\w+$/.test(j)&&typeof u[j]==="function"){return u[j].apply(null,k||[])}return Function('return eval("'+j.replace(/"/g,'\\"')+'");').apply(null,k||[])}c.exports=f},null);D("sdk.Waitable",["sdk.Model"],function(h,i,j,a,b,c,d){var f=d.extend({constructor:function(){this.parent({Value:undefined})},error:function(k){this.inform("error",k)},wait:function(k,l){if(l){this.subscribe("error",l)}this.monitor("Value.change",A(function(){var m=this.getValue();if(m!==undefined){this.value=m;k(m);return true}},"bind",true,this))}});b.exports=f},null);D("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(o,G,b,d,f,h,i,j,k,l){function m(F){return A(F.split(","),"map",true,function(I){return A(I,"trim",true)})}function n(F){var M=(/^\s*(\w+)\s*=\s*(.*)\s*$/i).exec(F),N,O,P="unknown";if(M){O=M[2];if(/^(["'])(?:\\?.)*?\1$/.test(O)){O=j(O);P="index"}else{if(/^\d+\.?\d*$/.test(O)){P="index"}}}if(P=="index"){N={type:"index",key:M[1],value:O}}else{N={type:"unknown",value:F}}return N}function p(F){return typeof F==="string"?A("JSON","stringify",false,F):F}var a=1,c=l.extend({constructor:function(){this.parent();this.name="v_"+a++},hasDependency:function(F){if(arguments.length){this._hasDependency=F}return !!this._hasDependency},parse:function(F){var L=i.apply(null,F),M=(/^select (.*?) from (\w+)\s+where (.*)$/i).exec(L);this.fields=m(M[1]);this.table=M[2];this.where=n(M[3]);for(var N=1;N<F.length;N++){if(k.instanceOf(c,F[N])){F[N].hasDependency(true)}}return this},toFql:function(){var F="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":F+=this.where.value;break;case"index":F+=this.where.key+"="+p(this.where.value);break;case"in":if(this.where.value.length==1){F+=this.where.key+"="+p(this.where.value[0])}else{F+=this.where.key+" in ("+A(this.where.value,"map",true,p).join(",")+")"}break}return F},toString:function(){return"#"+this.name}});f.exports=c},null);D("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(b,d,f,h,i,j,k,l,m,n,o,a){var c={query:function(p,H){var I=new n().parse(Array.prototype.slice.call(arguments));c.queue.push(I);c._waitToProcess();return I},waitOn:function(p,K){var L=new a(),M=p.length;if(typeof(K)=="string"){var N=K;K=l.unguard(function(){return o(N)})}A(p,"forEach",true,function(F){F.monitor("Value.change",function(){var H=false;if(c._getValue(F)!==undefined){F.value=F.getValue();M--;H=true}if(M===0){var G=K(A(p,"map",true,c._getValue));L.setValue(G!==undefined?G:true)}return H})});return L},process:function(p){c._process(p)},_getValue:function(p){return p instanceof a?p.getValue():p},_selectByIndex:function(p,K,L,M){var N=new n();N.fields=p;N.table=K;N.where={type:"index",key:L,value:M};c.queue.push(N);c._waitToProcess();return N},_waitToProcess:function(){if(c.timer<0){c.timer=z(function(){c._process()},10)}},_process:function(p){c.timer=-1;var M={},N=c.queue;if(!N.length){return}c.queue=[];for(var O=0;O<N.length;O++){var P=N[O];if(P.where.type=="index"&&!P.hasDependency()){c._mergeIndexQuery(P,M)}else{M[P.name]=P}}var Q={q:{}};for(var R in M){if(M.hasOwnProperty(R)){Q.q[R]=M[R].toFql()}}if(p){Q.access_token=p}k("/fql","GET",Q,function(F){if(F.error){A(A("Object","keys",false,M),"forEach",true,function(G){M[G].error(new Error(F.error.message))})}else{A(F.data,"forEach",true,function(G){M[G.name].setValue(G.fql_result_set)})}})},_mergeIndexQuery:function(p,L){var M=p.where.key,N=p.where.value,O="index_"+p.table+"_"+M,P=L[O];if(!P){P=L[O]=new n();P.fields=[M];P.table=p.table;P.where={type:"in",key:M,value:[]}}m(P.fields,p.fields);m(P.where.value,[N]);P.wait(function(F){p.setValue(A(F,"filter",true,function(G){return G[M]==N}))})},timer:-1,queue:[]};i.exports=c},null);D("legacy:fb.data",["FB","sdk.Data"],function(h,i,j,a,b,c,d,f){d.provide("Data",f)},3);D("legacy:fb.event",["FB","sdk.Event","sdk.Runtime","sdk.Scribe","sdk.feature"],function(p,b,d,f,h,i,j,k,l,m,n){var o=[],a=null,c=n("event_subscriptions_log",false);j.provide("Event",{subscribe:function(H,I){if(c){o.push(H);if(!a){a=z(function(){m.log("jssdk_error",{appId:l.getClientID(),error:"EVENT_SUBSCRIPTIONS_LOG",extra:{line:0,name:"EVENT_SUBSCRIPTIONS_LOG",script:"N/A",stack:"N/A",message:o.sort().join(",")}});o.length=0;a=null},c)}}return k.subscribe(H,I)},unsubscribe:A(k.unsubscribe,"bind",true,k)})},3);D("legacy:fb.event-legacy",["FB","sdk.Event"],function(h,i,j,a,b,c,d,f){d.provide("Event",{clear:A(f.clear,"bind",true,f),fire:A(f.fire,"bind",true,f),monitor:A(f.monitor,"bind",true,f)});d.provide("EventProvider",f)},3);D("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(h,i,j,a,b,c,d,f){d.provide("Frictionless",f)},3);D("sdk.init",["sdk.Cookie","sdk.ErrorHandling","sdk.Event","Log","ManagedError","sdk.PlatformVersioning","QueryString","sdk.Runtime","sdk.URI","createArrayFrom"],function(a,b,f,i,j,l,n,M,N,O,P,c,d,h,k,m){function o(F){var G=(typeof F=="number"&&F>0)||(typeof F=="string"&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(F));if(G){return F.toString()}O.warn("Invalid App Id: Must be a number or numeric string representing the application id.");return null}function p(F){if(h.getInitialized()){O.warn("FB.init has already been called - this could indicate a problem")}if(h.getIsVersioned()){if(Object.prototype.toString.call(F)!=="[object Object]"){throw new P("Invalid argument")}if(F.authResponse){O.warn("Setting authResponse is not supported")}if(!F.version){F.version=k(location.href).getQueryData().sdk_version}c.assertValidVersion(F.version);h.setVersion(F.version)}else{if(/number|string/.test(typeof F)){O.warn("FB.init called with invalid parameters");F={apiKey:F}}F=A("Object","assign",false,{status:true},F||{})}var G=o(F.appId||F.apiKey);if(G!==null){h.setClientID(G)}if("scope" in F){h.setScope(F.scope)}if(F.cookie){h.setUseCookie(true);if(typeof F.cookie==="string"){n.setDomain(F.cookie)}}if(F.kidDirectedSite){h.setKidDirectedSite(true)}h.setInitialized(true);N.fire("init:post",F)}z(function(){var F=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;A(m(t.getElementsByTagName("script")),"forEach",true,function(H){if(H.src){var I=F.exec(H.src);if(I){var K=d.decode(I[2]);for(var L in K){if(K.hasOwnProperty(L)){var G=K[L];if(G=="0"){K[L]=0}}}p(K)}}});if(u.fbAsyncInit&&!u.fbAsyncInit.hasRun){u.fbAsyncInit.hasRun=true;M.unguard(u.fbAsyncInit)()}},0);j.exports=p},null);D("legacy:fb.init",["FB","sdk.init"],function(h,i,j,a,b,c,d,f){d.provide("",{init:f})},3);D("legacy:fb.json",["FB","ManagedError"],function(h,i,j,a,b,c,d,f){d.provide("JSON",{stringify:function(k){try{return A("JSON","stringify",false,k)}catch(l){throw new f(l.message,l)}},parse:function(k){try{return A("JSON","parse",false,k)}catch(l){throw new f(l.message,l)}}})},3);D("legacy:fb.pay",["copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD","sdk.feature","FB"],function(b,d,f,h,i,j,k,l,m,n,o){d("FB");var a={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},c=function(p){return function(G){if(G&&typeof G.response==="string"){p(A("JSON","parse",false,G.response))}else{if(typeof G==="object"){p(G)}else{p(a)}}}};k(m.Methods,{pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(p){if(o("launch_payment_dialog_via_pac")){p.cb=c(p.cb);return p}else{p.cb=c(p.cb);if(!l.isEnvironment(l.ENVIRONMENTS.CANVAS)){p.params.order_info=A("JSON","stringify",false,p.params.order_info);return p}var G=n.handler(p.cb,"parent.frames["+(u.name||"iframe_canvas")+"]");p.params.channel=G;p.params.uiserver=true;n.inform("Pay.Prompt",p.params)}}}})},3);D("legacy:fb.ua",["FB","UserAgent_DEPRECATED"],function(h,i,j,a,b,c,d,f){d.provide("UA",{nativeApp:f.nativeApp})},3);D("legacy:fb.ui",["FB","sdk.ui"],function(h,i,j,a,b,c,d,f){d.provide("",{ui:f})},3);D("runOnce",[],function(h,i,a,b,c,d){function f(j){var k,l;return function(){if(!k){k=true;l=j()}return l}}c.exports=f},null);D("XFBML",["Assert","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent_DEPRECATED"],function(ao,a,b,c,d,f,h,i,j,k,l,m,n,o,p){var aa={},ad={},ae=0,af=new n();function ag(F,G){return F[G]+""}function ah(F){return F.scopeName?(F.scopeName+":"+F.nodeName):""}function ai(F){return aa[ag(F,"nodeName").toLowerCase()]||aa[ah(F).toLowerCase()]}function aj(F){var G=A(A(ag(F,"className"),"trim",true).split(/\s+/),"filter",true,function(H){return ad.hasOwnProperty(H)});if(G.length===0){return undefined}if(F.getAttribute("fb-xfbml-state")||!F.childNodes||F.childNodes.length===0||(F.childNodes.length===1&&F.childNodes[0].nodeType===3)||(F.children.length===1&&ag(F.children[0],"className")==="fb-xfbml-parse-ignore")){return ad[G[0]]}}function ak(F){var G={};A(i(F.attributes),"forEach",true,function(H){G[ag(H,"name")]=ag(H,"value")});return G}function al(F,I,H){var G=t.createElement("div");j.addCss(F,I+"-"+H);A(i(F.childNodes),"forEach",true,function(K){G.appendChild(K)});A(i(F.attributes),"forEach",true,function(K){G.setAttribute(K.name,K.value)});F.parentNode.replaceChild(G,F);return G}function am(N,L,I){h.isTrue(N&&N.nodeType&&N.nodeType===1&&!!N.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()");h.isFunction(L,"Invalid callback passed to FB.XFBML.parse()");var H=++ae;m.info("XFBML Parsing Start %s",H);var G=1,F=0,M=function(){G--;if(G===0){m.info("XFBML Parsing Finish %s, %s tags found",H,F);L();af.inform("render",H,F)}h.isTrue(G>=0,"onrender() has been called too many times")};A(i(N.getElementsByTagName("*")),"forEach",true,function(R){if(!I&&R.getAttribute("fb-xfbml-state")){return}if(R.nodeType!==1){return}var Q=ai(R)||aj(R);if(!Q){return}if(p.ie()<9&&R.scopeName){R=al(R,Q.xmlns,Q.localName)}G++;F++;var P=new Q.ctor(R,Q.xmlns,Q.localName,ak(R));P.subscribe("render",o(function(){R.setAttribute("fb-xfbml-state","rendered");M()}));var O=function(){if(R.getAttribute("fb-xfbml-state")=="parsed"){af.subscribe("render.queue",O)}else{R.setAttribute("fb-xfbml-state","parsed");P.process()}};O()});af.inform("parse",H,F);var K=30000;z(function(){if(G>0){m.warn("%s tags failed to render in %s ms",G,K)}},K);M()}af.subscribe("render",function(){var F=af.getSubscribers("render.queue");af.clearSubscribers("render.queue");A(F,"forEach",true,function(G){G()})});A("Object","assign",false,af,{registerTag:function(F){var G=F.xmlns+":"+F.localName;h.isUndefined(aa[G],G+" already registered");aa[G]=F;ad[F.xmlns+"-"+F.localName]=F},parse:function(F,G){am(F||t.body,G||function(){},true)},parseNew:function(){am(t.body,function(){},false)}});if(k("log_tag_count")){var an=function(F,G){af.unsubscribe("parse",an);z(A(l.log,"bind",true,null,102,{tag_count:G}),5000)};af.subscribe("parse",an)}d.exports=af},null);D("PluginPipe",["sdk.Content","sdk.feature","guid","insertIframe","Miny","ObservableMixin","JSSDKPluginPipeConfig","sdk.Runtime","UrlMap","UserAgent_DEPRECATED","XFBML"],function(a,b,c,d,f,h,i,j,k,l,n,V,W,X,Y,Z,aa){var ab=new V(),ac=W.threshold,ad=[];function m(){return !!(j("plugin_pipe")&&X.getSecure()!==undefined&&(Z.chrome()||Z.firefox())&&W.enabledApps[X.getClientID()])}function o(){var H=ad;ad=[];if(H.length<=ac){A(H,"forEach",true,function(I){l(I.config)});return}var F=H.length+1;function G(){F--;if(F===0){p(H)}}A(H,"forEach",true,function(K){var I={};for(var L in K.config){I[L]=K.config[L]}I.url=Y.resolve("www",X.getSecure())+"/plugins/plugin_pipe_shell.php";I.onload=G;l(I)});G()}aa.subscribe("parse",o);function p(M){var F=t.createElement("span");i.appendHidden(F);var H={};A(M,"forEach",true,function(N){H[N.config.name]={plugin:N.tag,params:N.params}});var I=A("JSON","stringify",false,H),G=n.encode(I);A(M,"forEach",true,function(N){var O=t.getElementsByName(N.config.name)[0];O.onload=N.config.onload});var L=Y.resolve("www",X.getSecure())+"/plugins/pipe.php",K=k();l({url:"about:blank",root:F,name:K,className:"fb_hidden fb_invisible",onload:function(){i.submitToTarget({url:L,target:K,params:{plugins:G.length<I.length?G:I}})}})}A("Object","assign",false,ab,{add:function(G){var F=m();F&&ad.push({config:G._config,tag:G._tag,params:G._params});return F}});f.exports=ab},null);D("IframePlugin",["sdk.Auth","sdk.DOM","sdk.Event","Log","ObservableMixin","sdk.PlatformVersioning","PluginPipe","QueryString","sdk.Runtime","Type","sdk.URI","UrlMap","UserAgent_DEPRECATED","sdk.XD","sdk.createIframe","guid","resolveURI"],function(av,aw,ax,ay,az,a,b,c,d,f,h,i,j,k,m,o,p,aa,ai,aj,ak,al,am){var an={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"};function ao(F,H,G){if(H||H===0){F.style.width=H+"px"}if(G||G===0){F.style.height=G+"px"}}function ap(F){return function(H){var G={width:H.width,height:H.height,pluginID:F};d.fire("xfbml.resize",G)}}var au={string:function(F){return F},bool:function(F){return F?(/^(?:true|1|yes|on)$/i).test(F):undefined},url:function(F){return am(F)},url_maybe:function(F){return F?am(F):F},hostname:function(F){return F||u.location.hostname},px:function(F){return(/^(\d+)(?:px)?$/).test(F)?parseInt(RegExp.$1,10):undefined},text:function(F){return F}};function ar(F,H){var G=F[H]||F[H.replace(/_/g,"-")]||F[H.replace(/_/g,"")]||F["data-"+H]||F["data-"+H.replace(/_/g,"-")]||F["data-"+H.replace(/_/g,"")]||undefined;return G}function n(F,I,H,G){A(A("Object","keys",false,F),"forEach",true,function(K){if(F[K]=="text"&&!H[K]){H[K]=I.textContent||I.innerText||"";I.setAttribute(K,H[K])}G[K]=au[F[K]](ar(H,K))})}function at(F){return F||F==="0"||F===0?parseInt(F,10):undefined}function aq(F){if(F){ao(F,0,0)}}var l=o.extend({constructor:function(F,M,P,I){this.parent();P=P.replace(/-/g,"_");var N=ar(I,"plugin_id");this.subscribe("xd.resize",ap(N));this.subscribe("xd.resize.flow",ap(N));this.subscribe("xd.resize.flow",A(function(Q){A("Object","assign",false,this._config.root.style,{verticalAlign:"bottom",overflow:""});ao(this._config.root,at(Q.width),at(Q.height));this.updateLift();s(this._timeoutID)},"bind",true,this));this.subscribe("xd.resize",A(function(Q){A("Object","assign",false,this._config.root.style,{verticalAlign:"bottom",overflow:""});ao(this._config.root,at(Q.width),at(Q.height));ao(this._iframe,at(Q.width),at(Q.height));this._isIframeResized=true;this.updateLift();s(this._timeoutID)},"bind",true,this));this.subscribe("xd.resize.iframe",A(function(Q){ao(this._iframe,at(Q.width),at(Q.height));this._isIframeResized=true;this.updateLift();s(this._timeoutID)},"bind",true,this));this.subscribe("xd.sdk_event",function(Q){var R=A("JSON","parse",false,Q.data);R.pluginID=N;d.fire(Q.event,R,F)});var G=m.getSecure()||u.location.protocol=="https:",K=aa.resolve("www",G)+"/plugins/"+P+".php?",O={};n(this.getParams(),F,I,O);n(an,F,I,O);A("Object","assign",false,O,{app_id:m.getClientID(),locale:m.getLocale(),sdk:"joey",kid_directed_site:m.getKidDirectedSite(),channel:aj.handler(A(function(Q){return this.inform("xd."+Q.type,Q)},"bind",true,this),"parent.parent",true)});c.addCss(F,"fb_iframe_widget");var H=al();this.subscribe("xd.verify",function(Q){aj.sendToFacebook(H,{method:"xd/verify",params:A("JSON","stringify",false,Q.token)})});this.subscribe("xd.refreshLoginStatus",A(b.getLoginStatus,"bind",true,b,A(this.inform,"bind",true,this,"login.status"),true));var L=t.createElement("span");A("Object","assign",false,L.style,{verticalAlign:"top",width:"0px",height:"0px",overflow:"hidden"});this._element=F;this._ns=M;this._tag=P;this._params=O;this._config={root:L,url:K+k.encode(O),name:H,width:(ai.mobile()?(void 0):(O.width||1000)),height:O.height||1000,style:{border:"none",visibility:"hidden"},title:this._ns+":"+this._tag+" Facebook Social Plugin",onload:A(function(){return this.inform("render")},"bind",true,this),onerror:A(function(){return aq(this._iframe)},"bind",true,this)}},process:function(){if(m.getIsVersioned()){i.assertVersionIsSet();var F=p(this._config.url);this._config.url=F.setPath("/"+m.getVersion()+F.getPath()).toString()}var I=A("Object","assign",false,{},this._params);delete I.channel;var H=k.encode(I);if(this._element.getAttribute("fb-iframe-plugin-query")==H){f.info("Skipping render: %s:%s %s",this._ns,this._tag,H);this.inform("render");return}this._element.setAttribute("fb-iframe-plugin-query",H);this.subscribe("render",A(function(){this._iframe.style.visibility="visible";if(!this._isIframeResized){aq(this._iframe)}},"bind",true,this));while(this._element.firstChild){this._element.removeChild(this._element.firstChild)}this._element.appendChild(this._config.root);var G=ai.mobile()?120:45;this._timeoutID=z(A(function(){aq(this._iframe);f.warn("%s:%s failed to resize in %ss",this._ns,this._tag,G)},"bind",true,this),G*1000);if(!j.add(this)){this._iframe=ak(this._config)}if(ai.mobile()){c.addCss(this._element,"fb_iframe_widget_fluid");A("Object","assign",false,this._element.style,{display:"block",width:"100%",height:"auto"});A("Object","assign",false,this._config.root.style,{width:"100%",height:"auto"});A("Object","assign",false,this._iframe.style,{width:"100%",height:"auto",position:"static"})}},updateLift:function(){var F=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;c[F?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},h);l.getVal=ar;l.withParams=function(F){return l.extend({getParams:function(){return F}})};az.exports=l},null);D("PluginTags",[],function(h,i,j,a,b,c){var d={activity:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},composer:{action_type:"string",action_properties:"string"},create_event_button:{},degrees:{href:"url"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},follow:{href:"url",layout:"string",show_faces:"bool"},like:{href:"url",layout:"string",show_faces:"bool",share:"bool",action:"string",send:"bool"},like_box:{href:"string",show_faces:"bool",header:"bool",stream:"bool",force_wall:"bool",show_border:"bool",id:"string",connections:"string",profile_id:"string",name:"string"},open_graph:{href:"url",layout:"string",show_faces:"bool",action_type:"string",action_properties:"string"},open_graph_preview:{action_type:"string",action_properties:"string"},page_events:{href:"url"},post:{href:"url",show_border:"bool"},privacy_selector:{},profile_pic:{uid:"string",linked:"bool",href:"string",size:"string",facebook_logo:"bool"},recommendations:{filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",layout:"string",type:"string"},shared_activity:{header:"bool"},send:{href:"url"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},story:{href:"url",show_border:"bool"},topic:{topic_name:"string",topic_id:"string"},want:{href:"url",layout:"string",show_faces:"bool"}},f={subscribe:"follow",fan:"like_box",likebox:"like_box",friendpile:"facepile"};A(A("Object","keys",false,f),"forEach",true,function(k){d[k]=d[f[k]]});b.exports=d},null);D("sdk.Arbiter",[],function(h,i,a,b,c,d){var f={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};c.exports=f},null);D("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(c,d,f,h,i,j,k,l,a){var b=l.extend({constructor:function(m){this.parent();this.dom=m},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(n,o,p){var m=k.getAttr(this.dom,n);return m?p?p(m):m:o},_getBoolAttribute:function(m,n){var o=k.getBoolAttr(this.dom,m);return o===null?n:o},_getPxAttribute:function(m,n){return this.getAttribute(m,n,function(p){var o=parseInt(p,10);return isNaN(o)?n:o})},_getLengthAttribute:function(m,n){return this.getAttribute(m,n,function(p){if(p==="100%"){return p}var o=parseInt(p,10);return isNaN(o)?n:o})},_getAttributeFromList:function(m,n,o){return this.getAttribute(m,n,function(p){p=p.toLowerCase();return(A(o,"indexOf",true,p)>-1)?p:n})},isValid:function(){for(var m=this.dom;m;m=m.parentNode){if(m==t.body){return true}}},clear:function(){k.html(this.dom,"")}},a);i.exports=b},null);D("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(a,b,c,d,f,h,i,j,k,l,n,V,W,X,Y,Z,aa,ab,ac){var ad=V.extend({_iframeName:null,_showLoader:true,_refreshOnAuthChange:false,_allowReProcess:false,_fetchPreCachedLoader:false,_visibleAfter:"load",_widgetPipeEnabled:false,_borderReset:false,_repositioned:false,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return true},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){return"Facebook Social Plugin"},getChannelUrl:function(){if(!this._channelUrl){var F=this;this._channelUrl=ac.handler(function(G){F.fire("xd."+G.type,G)},"parent.parent",true)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(G,H,F){ac.sendToFacebook(this.getIframeName(),{method:G,params:A("JSON","stringify",false,H||{}),behavior:F||i.BEHAVIOR_PERSISTENT})},_arbiterInform:function(H,I,F){var G='parent.frames["'+this.getIframeNode().name+'"]';ac.inform(H,I,G,F)},getDefaultWebDomain:function(){return ab.resolve("www")},process:function(H){if(this._done){if(!this._allowReProcess&&!H){return}this.clear()}else{this._oneTimeSetup()}this._done=true;this._iframeName=this.getIframeName()||this._iframeName||W();if(!this.setupAndValidate()){this.fire("render");return}if(this._showLoader){this._addLoader()}l.addCss(this.dom,"fb_iframe_widget");if(this._visibleAfter!="immediate"){l.addCss(this.dom,"fb_hide_iframes")}else{this.subscribe("iframe.onload",A(this.fire,"bind",true,this,"render"))}var F=this.getSize()||{},G=this.getFullyQualifiedURL();if(F.width=="100%"){l.addCss(this.dom,"fb_iframe_widget_fluid")}this.clear();X({url:G,root:this.dom.appendChild(t.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:Z.getRtl()?"fb_rtl":"fb_ltr",height:F.height,width:F.width,onload:A(this.fire,"bind",true,this,"iframe.onload")});this._resizeFlow(F);this.loaded=false;this.subscribe("iframe.onload",A(function(){this.loaded=true;if(!this._isResizeHandled){l.addCss(this.dom,"fb_hide_iframes")}},"bind",true,this))},generateWidgetPipeIframeName:function(){m++;return"fb_iframe_"+m},getFullyQualifiedURL:function(){var G=this._getURL();G+="?"+Y.encode(this._getQS());if(G.length>2000){G="about:blank";var F=A(function(){this._postRequest();this.unsubscribe("iframe.onload",F)},"bind",true,this);this.subscribe("iframe.onload",F)}return G},_getWidgetPipeShell:function(){return ab.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",A(this._handleResizeMsg,"bind",true,this));this.subscribe("xd.resize",A(this._bubbleResizeEvent,"bind",true,this));this.subscribe("xd.resize.iframe",A(this._resizeIframe,"bind",true,this));this.subscribe("xd.resize.flow",A(this._resizeFlow,"bind",true,this));this.subscribe("xd.resize.flow",A(this._bubbleResizeEvent,"bind",true,this));this.subscribe("xd.refreshLoginStatus",function(){j.getLoginStatus(function(){},true)});this.subscribe("xd.logout",function(){aa({method:"auth.logout",display:"hidden"},function(){})});if(this._refreshOnAuthChange){this._setupAuthRefresh()}if(this._visibleAfter=="load"){this.subscribe("iframe.onload",A(this._makeVisible,"bind",true,this))}this.subscribe("xd.verify",A(function(F){this.arbiterInform("xd/verify",F.token)},"bind",true,this));this.oneTimeSetup()},_makeVisible:function(){this._removeLoader();l.removeCss(this.dom,"fb_hide_iframes");this.fire("render")},_setupAuthRefresh:function(){j.getLoginStatus(A(function(G){var F=G.status;n.subscribe("auth.statusChange",A(function(H){if(!this.isValid()){return}if(F=="unknown"||H.status=="unknown"){this.process(true)}F=H.status},"bind",true,this))},"bind",true,this))},_handleResizeMsg:function(F){if(!this.isValid()){return}this._resizeIframe(F);this._resizeFlow(F);if(!this._borderReset){this.getIframeNode().style.border="none";this._borderReset=true}this._isResizeHandled=true;this._makeVisible()},_bubbleResizeEvent:function(G){var F={height:G.height,width:G.width,pluginID:this.getAttribute("plugin-id")};n.fire("xfbml.resize",F)},_resizeIframe:function(G){var F=this.getIframeNode();if(G.reposition==="true"){this._repositionIframe(G)}G.height&&(F.style.height=G.height+"px");G.width&&(F.style.width=G.width+"px");this._updateIframeZIndex()},_resizeFlow:function(G){var F=this.dom.getElementsByTagName("span")[0];G.height&&(F.style.height=G.height+"px");G.width&&(F.style.width=G.width+"px");this._updateIframeZIndex()},_updateIframeZIndex:function(){var I=this.dom.getElementsByTagName("span")[0],F=this.getIframeNode(),G=F.style.height===I.style.height&&F.style.width===I.style.width,H=G?"removeCss":"addCss";l[H](F,"fb_iframe_widget_lift")},_repositionIframe:function(L){var F=this.getIframeNode(),H=parseInt(l.getStyle(F,"width"),10),I=l.getPosition(F).x,G=l.getViewportInfo().width,K=parseInt(L.width,10);if(I+K>G&&I>K){F.style.left=H-K+"px";this.arbiterInform("xd/reposition",{type:"horizontal"});this._repositioned=true}else{if(this._repositioned){F.style.left="0px";this.arbiterInform("xd/reposition",{type:"restore"});this._repositioned=false}}},_addLoader:function(){if(!this._loaderDiv){l.addCss(this.dom,"fb_iframe_widget_loader");this._loaderDiv=t.createElement("div");this._loaderDiv.className="FB_Loader";this.dom.appendChild(this._loaderDiv)}},_removeLoader:function(){if(this._loaderDiv){l.removeCss(this.dom,"fb_iframe_widget_loader");if(this._loaderDiv.parentNode){this._loaderDiv.parentNode.removeChild(this._loaderDiv)}this._loaderDiv=null}},_getQS:function(){return A("Object","assign",false,{api_key:Z.getClientID(),locale:Z.getLocale(),sdk:"joey",kid_directed_site:Z.getKidDirectedSite(),ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var G=this.getDefaultWebDomain(),F="";return G+"/plugins/"+F+this.getUrlBits().name+".php"},_postRequest:function(){k.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),m=0,o={};function p(){var H={};for(var F in o){var G=o[F];H[F]={widget:G.getUrlBits().name,params:G._getQS()}}return H}f.exports=ad},null);D("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","JSSDKConfig","UrlMap","UserAgent_DEPRECATED"],function(p,b,d,f,h,i,j,k,l,m,n,o,a){var c=k.extend({_visibleAfter:"immediate",_refreshOnAuthChange:true,setupAndValidate:function(){var I={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),skin:this.getAttribute("skin"),numposts:this.getAttribute("num-posts",10),width:this._getLengthAttribute("width"),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};if(!I.width&&!I.permalink){I.width=550}if(n.initSitevars.enableMobileComments&&a.mobile()&&I.mobile!==false){I.mobile=true;delete I.width}if(!I.skin){I.skin=I.colorscheme}if(!I.href){I.migrated=this.getAttribute("migrated");I.xid=this.getAttribute("xid");I.title=this.getAttribute("title",t.title);I.url=this.getAttribute("url",t.URL);I.quiet=this.getAttribute("quiet");I.reverse=this.getAttribute("reverse");I.simple=this.getAttribute("simple");I.css=this.getAttribute("css");I.notify=this.getAttribute("notify");if(!I.xid){var K=A(t.URL,"indexOf",true,"#");if(K>0){I.xid=encodeURIComponent(t.URL.substring(0,K))}else{I.xid=encodeURIComponent(t.URL)}}if(I.migrated){I.href=o.resolve("www")+"/plugins/comments_v1.php?app_id="+m.getClientID()+"&xid="+encodeURIComponent(I.xid)+"&url="+encodeURIComponent(I.url)}}else{var L=this.getAttribute("fb_comment_id");if(!L){L=l.decode(t.URL.substring(A(t.URL,"indexOf",true,"?")+1)).fb_comment_id;if(L&&A(L,"indexOf",true,"#")>0){L=L.substring(0,A(L,"indexOf",true,"#"))}}if(L){I.fb_comment_id=L;this.subscribe("render",A(function(){if(!u.location.hash){u.location.hash=this.getIframeNode().id}},"bind",true,this))}}this._attr=I;return true},oneTimeSetup:function(){this.subscribe("xd.addComment",A(this._handleCommentMsg,"bind",true,this));this.subscribe("xd.commentCreated",A(this._handleCommentCreatedMsg,"bind",true,this));this.subscribe("xd.commentRemoved",A(this._handleCommentRemovedMsg,"bind",true,this))},getSize:function(){if(!this._attr.permalink){return{width:this._attr.mobile?"100%":this._attr.width,height:160}}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return o.resolve(this._attr.mobile?"m":"www",true)},_handleCommentMsg:function(G){if(!this.isValid()){return}j.fire("comments.add",{post:G.post,user:G.user,widget:this})},_handleCommentCreatedMsg:function(H){if(!this.isValid()){return}var I={href:H.href,commentID:H.commentID,parentCommentID:H.parentCommentID,message:H.message};j.fire("comment.create",I)},_handleCommentRemovedMsg:function(H){if(!this.isValid()){return}var I={href:H.href,commentID:H.commentID};j.fire("comment.remove",I)}});h.exports=c},null);D("sdk.XFBML.CommentsCount",["ApiClient","sdk.DOM","sdk.XFBML.Element","sprintf"],function(c,d,f,h,i,j,k,l,m,a){var b=m.extend({process:function(){l.addCss(this.dom,"fb_comments_count_zero");var n=this.getAttribute("href",u.location.href);k.scheduleBatchCall("/v2.1/"+encodeURIComponent(n),{fields:"share"},A(function(p){var o=(p.share&&p.share.comment_count)||0;l.html(this.dom,a('<span class="fb_comments_count">%s</span>',o));if(o>0){l.removeCss(this.dom,"fb_comments_count_zero")}this.fire("render")},"bind",true,this))}});i.exports=b},null);D("sdk.Helper",["sdk.ErrorHandling","sdk.Event","UrlMap","safeEval","sprintf"],function(c,d,f,h,i,j,k,l,m,n,a){var b={isUser:function(o){return o<2200000000||(o>=100000000000000&&o<=100099999989999)||(o>=89000000000000&&o<=89999999999999)},upperCaseFirstChar:function(o){if(o.length>0){return o.substr(0,1).toUpperCase()+o.substr(1)}else{return o}},getProfileLink:function(G,o,p){if(!p&&G){p=a("%s/profile.php?id=%s",m.resolve("www"),G.uid||G.id)}if(p){o=a('<a class="fb_link" href="%s">%s</a>',p,o)}return o},invokeHandler:function(G,o,p){if(G){if(typeof G==="string"){k.unguard(n)(G,p)}else{if(G.apply){k.unguard(G).apply(o,p||[])}}}},fireEvent:function(G,o){var p=o._attr.href;o.fire(G,p);l.fire(G,p,o)},executeFunctionByName:function(N){var o=Array.prototype.slice.call(arguments,1),p=N.split("."),K=p.pop(),L=u;for(var M=0;M<p.length;M++){L=L[p[M]]}return L[K].apply(this,o)}};i.exports=b},null);D("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(c,d,f,h,i,j,k,a){var b=a.extend({constructor:function(n,o,p,l){this.parent(n,o,p,l);var m=a.getVal(l,"on_login");if(m){this.subscribe("login.status",function(G){k.invokeHandler(m,null,[G])})}},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool",show_banner:"bool",auth_type:"string",default_audience:"string"}}});i.exports=b},null);D("escapeHTML",[],function(c,d,f,h,i,j){var k=/[&<>"'\/]/g,a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};function b(l){return l.replace(k,function(m){return a[m]})}i.exports=b},null);D("sdk.XFBML.Name",["ApiClient","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(o,G,b,d,f,h,i,j,k,l,m,n,p){var a=({}).hasOwnProperty,c=l.extend({process:function(){A("Object","assign",false,this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",true),_subjectId:this.getAttribute("subject-id")});if(!this._uid){n.error('"uid" is a required attribute for <fb:name>');this.fire("render");return}var F=[];if(this._firstnameonly){F.push("first_name")}else{if(this._lastnameonly){F.push("last_name")}else{F.push("name")}}if(this._subjectId){F.push("gender");if(this._subjectId==p.getUserID()){this._reflexive=true}}k.monitor("auth.statusChange",A(function(){if(!this.isValid()){this.fire("render");return true}if(!this._uid||this._uid=="loggedinuser"){this._uid=p.getUserID()}if(!this._uid){return}i.scheduleBatchCall("/v1.0/"+this._uid,{fields:F.join(",")},A(function(I){if(a.call(I,"error")){n.warn("The name is not found for ID: "+this._uid);return}if(this._subjectId==this._uid){this._renderPronoun(I)}else{this._renderOther(I)}this.fire("render")},"bind",true,this))},"bind",true,this))},_renderPronoun:function(F){var K="",L=this._objective;if(this._subjectId){L=true;if(this._subjectId===this._uid){this._reflexive=true}}if(this._uid==p.getUserID()&&this._getBoolAttribute("use-you",true)){if(this._possessive){if(this._reflexive){K="your own"}else{K="your"}}else{if(this._reflexive){K="yourself"}else{K="you"}}}else{switch(F.gender){case"male":if(this._possessive){K=this._reflexive?"his own":"his"}else{if(this._reflexive){K="himself"}else{if(L){K="him"}else{K="he"}}}break;case"female":if(this._possessive){K=this._reflexive?"her own":"her"}else{if(this._reflexive){K="herself"}else{if(L){K="her"}else{K="she"}}}break;default:if(this._getBoolAttribute("use-they",true)){if(this._possessive){if(this._reflexive){K="their own"}else{K="their"}}else{if(this._reflexive){K="themselves"}else{if(L){K="them"}else{K="they"}}}}else{if(this._possessive){if(this._reflexive){K="his/her own"}else{K="his/her"}}else{if(this._reflexive){K="himself/herself"}else{if(L){K="him/her"}else{K="he/she"}}}}break}}if(this._getBoolAttribute("capitalize",false)){K=m.upperCaseFirstChar(K)}this.dom.innerHTML=K},_renderOther:function(F){var K="",L="";if(this._uid==p.getUserID()&&this._getBoolAttribute("use-you",true)){if(this._reflexive){if(this._possessive){K="your own"}else{K="yourself"}}else{if(this._possessive){K="your"}else{K="you"}}}else{if(F){if(null===F.first_name){F.first_name=""}if(null===F.last_name){F.last_name=""}if(this._firstnameonly&&F.first_name!==undefined){K=j(F.first_name)}else{if(this._lastnameonly&&F.last_name!==undefined){K=j(F.last_name)}}if(!K){K=j(F.name)}if(K!==""&&this._possessive){K+="'s"}}}if(!K){K=j(this.getAttribute("if-cant-see","Facebook User"))}if(K){if(this._getBoolAttribute("capitalize",false)){K=m.upperCaseFirstChar(K)}if(F&&this._linked){L=m.getProfileLink(F,K,this.getAttribute("href",null))}else{L=K}}this.dom.innerHTML=L}});f.exports=c},null);D("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(b,d,f,h,i,j,k,l,m,n,o,a){var c=n.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function R(I,K){var F=0,G=null;function H(){K();G=null;F=A("Date","now",false)}return function(){if(!G){var L=A("Date","now",false);if(L-F<I){G=z(H,I-(L-F))}else{H()}}return true}}function S(F){if(F.match(/^\d+(?:\.\d+)?%$/)){var G=Math.min(Math.max(parseInt(F,10),0),100);F=G/100}else{if(F!="manual"&&F!="onvisible"){F="onvisible"}}return F}function T(F){return Math.max(parseInt(F,10)||30,10)}function U(F){if(F=="left"||F=="right"){return F}return a.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:a.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:o(this.getAttribute("href")),side:U(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:S(this.getAttribute("trigger","")),read_time:T(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2};this._showLoader=false;this.subscribe("iframe.onload",A(function(){var F=this.dom.children[0];F.className="fbpluginrecommendationsbar"+this._attr.side},"bind",true,this));var V=A(function(){l.remove(u,"scroll",V);l.remove(t.documentElement,"click",V);l.remove(t.documentElement,"mousemove",V);z(A(this.arbiterInform,"bind",true,this,"platform/plugins/recommendations_bar/action",null,k.BEHAVIOR_STATE),this._attr.read_time*1000);return true},"bind",true,this);l.add(u,"scroll",V);l.add(t.documentElement,"click",V);l.add(t.documentElement,"mousemove",V);if(this._attr.trigger=="manual"){var p=A(function(F){if(F==this._attr.href){m.unsubscribe("xfbml.recommendationsbar.read",p);this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,k.BEHAVIOR_STATE)}return true},"bind",true,this);m.subscribe("xfbml.recommendationsbar.read",p)}else{var O=R(500,A(function(){if(this.calculateVisibility()){l.remove(u,"scroll",O);l.remove(u,"resize",O);this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,k.BEHAVIOR_STATE)}return true},"bind",true,this));l.add(u,"scroll",O);l.add(u,"resize",O);O()}this.visible=false;var P=R(500,A(function(){if(!this.visible&&this.calculateVisibility()){this.visible=true;this.arbiterInform("platform/plugins/recommendations_bar/visible")}else{if(this.visible&&!this.calculateVisibility()){this.visible=false;this.arbiterInform("platform/plugins/recommendations_bar/invisible")}}return true},"bind",true,this));l.add(u,"scroll",P);l.add(u,"resize",P);P();this.focused=true;var Q=A(function(){this.focused=!this.focused;return true},"bind",true,this);l.add(u,"blur",Q);l.add(u,"focus",Q);this.resize_running=false;this.animate=false;this.subscribe("xd.signal_animation",A(function(){this.animate=true},"bind",true,this));return true},getSize:function(){return{height:25,width:(this._attr.action=="recommend"?140:96)}},calculateVisibility:function(){var p=t.documentElement.clientHeight;if(!this.focused&&u.console&&u.console.firebug){return this.visible}switch(this._attr.trigger){case"manual":return false;case"onvisible":var I=this.dom.getBoundingClientRect().top;return I<=p;default:var K=u.pageYOffset||t.body.scrollTop,L=t.documentElement.scrollHeight;return(K+p)/L>=this._attr.trigger}}});i.exports=c},null);D("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(c,d,f,h,i,j,k,l,m,n,a){var b=m.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:n.getClientID(),fb_only:this._getBoolAttribute("fb-only",false),fb_register:this._getBoolAttribute("fb-register",false),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",u.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")};if(this._attr.onvalidate){this.subscribe("xd.validate",A(function(I){var o=A("JSON","parse",false,I.value),p=A(function(F){this.arbiterInform("Registration.Validation",{errors:F,id:I.id})},"bind",true,this),H=l.executeFunctionByName(this._attr.onvalidate,o,p);if(H){p(H)}},"bind",true,this))}this.subscribe("xd.authLogin",A(this._onAuthLogin,"bind",true,this));this.subscribe("xd.authLogout",A(this._onAuthLogout,"bind",true,this));return true},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height){return this._attr.height}var p;if(!this._attr.fields){p=["name"]}else{try{p=A("JSON","parse",false,this._attr.fields)}catch(o){p=this._attr.fields.split(/,/)}}if(this._attr.width<this._skinnyWidth){return this._skinnyBaseHeight+p.length*this._skinnyFieldHeight}else{return this._baseHeight+p.length*this._fieldHeight}},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return a.resolve("www",true)},_onAuthLogin:function(){if(!k.getAuthResponse()){k.getLoginStatus()}l.fireEvent("auth.login",this)},_onAuthLogout:function(){if(!k.getAuthResponse()){k.getLoginStatus()}l.fireEvent("auth.logout",this)}});i.exports=b},null);D("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration"],function(n,p,I,b,d,f,h,i,j,k,l,m,o,H){var a={comments:p("sdk.XFBML.Comments"),comments_count:p("sdk.XFBML.CommentsCount"),login_button:p("sdk.XFBML.LoginButton"),name:p("sdk.XFBML.Name"),recommendations_bar:p("sdk.XFBML.RecommendationsBar"),registration:p("sdk.XFBML.Registration")};A(A("Object","keys",false,m),"forEach",true,function(F){H.registerTag({xmlns:"fb",localName:F.replace(/_/g,"-"),ctor:l.withParams(m[F])})});A(A("Object","keys",false,a),"forEach",true,function(F){H.registerTag({xmlns:"fb",localName:F.replace(/_/g,"-"),ctor:a[F]})});k.provide("XFBML",{parse:function(F){h.maybeXfbml(F,"Invalid argument");if(F&&F.nodeType===9){F=F.body}return H.parse.apply(null,arguments)}});H.subscribe("parse",A(j.fire,"bind",true,j,"xfbml.parse"));H.subscribe("render",A(j.fire,"bind",true,j,"xfbml.render"));j.subscribe("init:post",function(F){if(F.xfbml){z(o(A(i,"bind",true,null,H.parse),"entry","init:post:xfbml.parse"),0)}});h.define("Xfbml",function(F){return(F.nodeType===1||F.nodeType===9)&&typeof F.nodeName==="string"});try{if(t.namespaces&&!t.namespaces.item.fb){t.namespaces.add("fb")}}catch(c){}},3);D("legacy:fb.xfbml-legacy",["FB","sdk.Event"],function(h,i,j,a,b,c,d,f){d.provide("XFBML.RecommendationsBar",{markRead:function(k){f.fire("xfbml.recommendationsbar.read",k||u.location.href)}})},3)}).call({},window.inDapIF?parent.window:window)}catch(e){new Image().src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","revision":"1460080","message":"'+e.message+'"}}')}var scrollTop,window_h;$(function(){scrollTop=$(window).scrollTop();window_h=$(window).height();styledImg()});$(window).scroll(function(){scrollTop=$(window).scrollTop();initProgressBarWithImage();progress_bars(true);trends();easePieChart()});$(window).resize(function(){window_h=$(window).height();progress_bars(true);initProgressBarWithImage()});$(window).bind("orientationchange",function(){myOrientResizeFunction()});function myOrientResizeFunction(){progress_bars();initProgressBarWithImage()}function initProgressBarWithImage(){if($(".progress_bars_with_image").length){$(".progress_bars_with_image").not(".visible").each(function(){var o=$(this);if(scrollTop+window_h>o.offset().top){o.html("");var v=parseInt(o.attr("data-number"));var p=parseInt(o.attr("data-value"));var u=o.attr("data-color");var q=o.attr("data-icon");var i=parseInt(o.attr("data-height"));var y=o.attr("data-letterSpacing");if(!y){y=0}o.css({"font-size":i+"px","line-height":i+"px","letter-spacing":y+"em"});for(var t=0;t<v;t++){var r=$('<div class="item '+q+'"></div>');o.append(r)}o.find(".item").each(function(a,c){if(a<p){var b=$(this);b.addClass("active");setTimeout(function(){b.css("color",u)},a*300)}});setTimeout(function(){var a=r.width();var b=a*v;if(b>o.width()){o.find(".item.active:last").addClass("break")}},200);o.addClass("visible")}else{var r=o.find(".item");var v=parseInt(o.attr("data-number"));o.find(".item.break").removeClass("break");var s=r.width();var x=s*v;if(x>o.width()){o.find(".item.active:last").addClass("break")}}})}}function progress_bars(b){if($(".progress_bars").length){$(".progress_bars").not(".visible").each(function(){var n=$(this);n.css("width","auto");var v=n.attr("data-width")?parseInt(n.attr("data-width")):n.parent().width();if(n.hasClass("horizontal")&&v<n.parent().width()){v=n.parent().width()}var a=parseInt(n.attr("data-height"));var u=n.attr("data-color");var r=n.attr("data-bg");var q=n.attr("data-title");var p=parseInt(n.attr("data-value"))/100;if(!p){p=1}u=hexDec(u);n.css({width:v,height:a});if(!r){r="#ccc"}n.css({"background-color":r});if(!b){n.html("");var s=$('<div class="progress_line"></div>').css("background-color","rgb("+u+")");if(q&&q!=""&&q!="false"){var o=$('<div class="title_block"></div>');if(q!="bottom"){o.css({height:a*2-2,width:a*2-2,"margin-right":1-a})}if(n.hasClass("style1")){if(q=="inner"){o.css({"border-color":"rgb("+u+")",color:"rgb("+u+")","line-height":a*2-6+"px","font-size":n.hasClass("vertical")?v/1.7:a/1.7})}else{if(q=="bottom"){o.css({color:"rgb("+u+")","font-size":n.hasClass("vertical")?v*0.35:a*0.35,"line-height":n.hasClass("vertical")?(v*0.35+20+"px"):(a*0.35+20+"px")});n.css("margin-bottom",n.hasClass("vertical")?v*0.6:a*0.6)}}}if(n.hasClass("style2")){if(q=="inner"){o.css({background:"rgb("+u+")","margin-bottom":1-a,"line-height":a*2-2+"px","font-size":n.hasClass("vertical")?v/1.7:a/1.7})}else{if(q=="bottom"){o.css({color:"rgb("+u+")","font-size":n.hasClass("vertical")?v*0.35:a*0.35,"line-height":n.hasClass("vertical")?(v*0.35+20+"px"):(a*0.35+20+"px")});n.css("margin-bottom",n.hasClass("vertical")?v*0.6:a*0.6)}}}n.append(o)}n.append(s)}else{if(q&&q!=""&&q!="false"){var o=n.find(".title_block")}var s=n.find(".progress_line")}if(n.hasClass("vertical")){var t=a*(1-p);if(scrollTop+window_h>n.offset().top){s.animate({top:t},{duration:2000,step:function(f,d){if(q&&q!=""&&q!="false"){var c=Math.round((1-f/a)*100);o.html(c+"%")}}});if(q&&q!=""&&q!="false"&&q!="bottom"){o.animate({top:t},2000)}n.addClass("visible")}}else{var t=v*(1-p);if(scrollTop+window_h>n.offset().top){s.animate({right:t},{duration:2000,step:function(f,d){if(q&&q!=""&&q!="false"){var c=Math.round((1-f/v)*100);o.html(c+"%")}}});if(q&&q!=""&&q!="false"&&q!="bottom"){o.animate({right:t},2000)}n.addClass("visible")}}})}}function easePieChart(){if($(".easy-pie-chart").length){$(".easy-pie-chart").not(".visible").each(function(){var m=$(this);if(scrollTop+window_h>m.offset().top){m.html("<span></span>");var p=m.attr("data-size");var n=m.attr("data-trackColor");var j=m.attr("data-color");var o=m.attr("data-bgColor");var k=m.attr("data-lineWidth");var l=m.attr("data-cap");if(!o){o="#cccccc"}m.easyPieChart({animate:2000,scaleColor:false,lineWidth:k,lineCap:l,size:p,trackColor:o,barColor:j});m.addClass("visible")}})}}function processBox(){if($(".styled_list").length){$(".styled_list").each(function(){var h=$(this);var f=h.attr("data-color");var d=h.attr("data-type");if(f){f=f.split(",")}else{f=["#ffffff"]}h.children("li").each(function(q,o){if($(this).find(".text").length){var p=$(this).find(".text").html()}else{var p=$(this).html()}$(this).html("");var c=$('<div class="text">'+p+"</div>");if(d=="process_box"){var r=q+1+"";if(r.length<2){r="0"+r}var b=f[q%f.length];var n=$('<div class="num" style="background-color: '+b+'">'+r+"</div>")}else{if(d=="large_numbers"){var r=q+1+".";var a=f[q%f.length];var n=$('<div class="num" style="color: '+a+'">'+r+"</div>")}}$(this).append(n);$(this).append(c)})})}}function infoDeviders(){if($(".info_divider").length){$(".info_divider").each(function(){var j=$(this);var k=j.attr("data-width");var i=j.attr("data-height");if(k){j.css("width",k)}if(i){j.css("height",i)}var l=$('<i style=""></i>');if(j.hasClass("vertical")){if(k){var h=k}}else{if(i){var h=i}}if(h){l.css({width:h,height:h,"line-height":h+"px"})}j.append(l)})}}function trends(){if($(".trend").length){$(".trend").each(function(){var t=$(this);var x=100;var s=t.outerHeight()-x;var D=t.width();var B=t.attr("data-color");var u=parseInt(t.attr("data-value"));var A=t.attr("data-trend");var E=t.attr("data-name");var C=s*0.356;var z=s*0.48;var v=$("<div class='arrow'></div>");var q=$("<i />");var r=$("<div class='value'></div>");var y=$("<div class='name'>"+E+"</div>");if(scrollTop+window_h>t.offset().top&&!t.hasClass("visible")){r.css({color:B});y.css({color:B});v.append(q);t.append(v);t.append(r);t.append(y);v.css({width:C,"margin-left":"-"+C/2+"px",background:B,height:s*0.52});q.css({"border-width":C+"px","margin-left":-C+"px"});if(A=="up"){v.css({bottom:-s});q.css({"border-bottom-color":B,"border-bottom-width":z+"px",bottom:"100%"});v.animate({bottom:x},{duration:2000,step:function(c,b){var a=Math.round((c+s)/(s+x)*u);r.html(a+"%")}})}else{if(A=="down"){v.css({top:-s});q.css({"border-top-color":B,"border-top-width":z+"px",top:"100%"});v.animate({top:0},{duration:2000,step:function(c,b){var a=Math.round((1-c/(-s))*u);r.html(a+"%")}})}}t.addClass("visible")}})}}function hexDec(c){var d=c.slice(1).match(/.{2}/g);d[0]=parseInt(d[0],16);d[1]=parseInt(d[1],16);d[2]=parseInt(d[2],16);return d[0]+", "+d[1]+", "+d[2]}function styledImg(){$("img.styled").each(function(){$(this).wrap($('<div class="styled_img_container"/>'))})}var scrollByClick;var api;var w;$(function(){w=$(window).width();if($(".fullwidthbanner").length){$(".fullwidthbanner").revolution({delay:9000,startheight:363,startwidth:960,navigationType:"both",navigationArrows:"verticalcentered",navigationStyle:"round",touchenabled:"on",onHoverStop:"on",navOffsetHorizontal:0,navOffsetVertical:20,stopAtSlide:-1,stopAfterLoops:-1,fullWidth:"on"})}$("#top_menu li a").click(function(){var c=$(this).attr("href");if(c.search("_anchor")!=-1){c=c.replace("_anchor","_marker");if($(c).length){scrollByClick=c;var d=$(c).offset().top;$("body, html").animate({scrollTop:d-120},500,function(){scrollByClick=""});return false}}});$("#top_menu select").change(function(){var c=$(this).val();if(c.search("_anchor")!=-1){c=c.replace("_anchor","_marker");scrollByClick=c;var d=$(c).offset().top;$("body, html").animate({scrollTop:d},500,function(){scrollByClick=""})}});topMenu();footer();carousels();infoDeviders();if($(".fancy").length){$("a.fancy").fancybox({padding:10,transitionIn:"fade",transitionOut:"fade",speedIn:600,speedOut:200,overlayShow:true,hideOnContentClick:true,hideOnOverlayClick:true,enableEscapeButton:true})}if($(".fancy-video").length){$("a.fancy-video").click(function(){$.fancybox({padding:0,autoScale:false,transitionIn:"fade",transitionOut:"fade",title:this.title,href:this.href.replace(new RegExp("watch\\?v=","i"),"v/"),type:"swf",swf:{wmode:"transparent",allowfullscreen:"true"}});return false})}});$(window).resize(function(){w=$(window).width();footer();carousels();infographBottom();fixedHeader()});$(window).load(function(){infographBottom();$("body").css("visibility","visible");processBox();initProgressBarWithImage();progress_bars();easePieChart();trends();var b=location.hash;if(b){$("#top_menu li a[href='"+b+"']").click()}fixedHeader()});function fixedHeader(){if(w>979){var d=$(".notify-bar").outerHeight();var c=$("#header .inner").height();$("#header").css("height",c)}else{$("#header").removeAttr("style")}$(".notify-close").click(function(){var a=300;$(".notify-bar").slideUp(a);if(w>979){$("#header").animate({height:"-="+d+"px"},a)}return false})}function topMenu(){var b=$('[id*="_marker"]');$(window).scroll(function(){var a=$(window).scrollTop();if(a>15&&w>768){$("#header").addClass("fixed")}else{$("#header").removeClass("fixed")}b.each(function(){var h="#"+$(this).attr("id");if(scrollByClick==h||!scrollByClick){var j=$(this).offset().top;var i=h.replace("_marker","_anchor");if(a>=j-$("#header .inner").height()){$("#top_menu li a[href='"+i+"']").closest("li").addClass("active styler_parent_active").siblings().removeClass("active styler_parent_active");$("#top_menu select option[value='"+i+"']").attr("selected",true).siblings().attr("selected",false)}}})})}function footer(){var b=$("#footer").height();$("#footer").css("margin-top",-(b+parseInt($("#container").css("padding-bottom"))));$("#empty").css("height",b)}var carousel_enable;function carousels(){$(".carousel ul").trigger("destroy",true);if(w>768){$(".carousel").each(function(){var f=$(this).find("ul");var h=$(this).find(".left_arr");var d=$(this).find(".right_arr");f.carouFredSel({width:"100%",scroll:3,align:"left",prev:{button:h},next:{button:d},auto:false})})}}function infographBottom(){var b=0;$(".infograph .desc").each(function(){var a=$(this).outerHeight();if(a>b){b=a}});if(b<153){b=153}$("#wrapper .infograph > sup").css("height",b)}$(document).ready(function(){$(window).scroll(function(){if($(this).scrollTop()>100){$(".scrollup").fadeIn()}else{$(".scrollup").fadeOut()}});$(".scrollup").click(function(){$("html, body").animate({scrollTop:0},600);return false})});(function(q){var k=[];var m=false;var r=false;var o={interval:250,force_process:false};var n=q(window);var l;function p(){r=false;for(var b=0;b<k.length;b++){var a=q(k[b]).filter(function(){return q(this).is(":appeared")});a.trigger("appear",[a]);if(l){var c=l.not(a);c.trigger("disappear",[c])}l=a}}q.expr[":"]["appeared"]=function(a){var b=q(a);if(!b.is(":visible")){return false}var d=n.scrollLeft();var c=n.scrollTop();var f=b.offset();var h=f.left;var i=f.top;if(i+b.height()>=c&&i-(b.data("appear-top-offset")||0)<=c+n.height()&&h+b.width()>=d&&h-(b.data("appear-left-offset")||0)<=d+n.width()){return true}else{return false}};q.fn.extend({appear:function(a){var d=q.extend({},o,a||{});var b=this.selector||this;if(!m){var c=function(){if(r){return}r=true;setTimeout(p,d.interval)};q(window).scroll(c).resize(c);m=true}if(d.force_process){setTimeout(p,d.interval)}k.push(b);return q(b)}});q.extend({force_appear:function(){if(m){p();return true}return false}})})(jQuery);
/*!
 * Packery PACKAGED v1.4.3
 * bin-packing layout library
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(j){var i=Array.prototype.slice;function f(){}function h(c){if(!c){return}function a(l){if(l.prototype.option){return}l.prototype.option=function(k){if(!c.isPlainObject(k)){return}this.options=c.extend(true,this.options,k)}}var d=typeof console==="undefined"?f:function(l){console.error(l)};function b(n,m){c.fn[n]=function(v){if(typeof v==="string"){var x=i.call(arguments,1);for(var u=0,y=this.length;u<y;u++){var l=this[u];var k=c.data(l,n);if(!k){d("cannot call methods on "+n+" prior to initialization; attempted to call '"+v+"'");continue}if(!c.isFunction(k[v])||v.charAt(0)==="_"){d("no such method '"+v+"' for "+n+" instance");continue}var t=k[v].apply(k,x);if(t!==undefined){return t}}return this}else{return this.each(function(){var o=c.data(this,n);if(o){o.option(v);o._init()}else{o=new m(this,v);c.data(this,n,o)}})}}}c.bridget=function(n,m){a(m);b(n,m)};return c.bridget}if(typeof define==="function"&&define.amd){define("jquery-bridget/jquery.bridget",["jquery"],h)}else{if(typeof exports==="object"){h(require("jquery"))}else{h(j.jQuery)}}})(window);
/*!
 * classie v1.0.1
 * class helper functions
 * from bonzo https://github.com/ded/bonzo
 * MIT license
 * 
 * classie.has( elem, 'my-class' ) -> true/false
 * classie.add( elem, 'my-new-class' )
 * classie.remove( elem, 'my-unwanted-class' )
 * classie.toggle( elem, 'my-class' )
 */
(function(n){function k(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}var o,m,l;if("classList" in document.documentElement){o=function(b,a){return b.classList.contains(a)};m=function(b,a){b.classList.add(a)};l=function(b,a){b.classList.remove(a)}}else{o=function(b,a){return k(a).test(b.className)};m=function(b,a){if(!o(b,a)){b.className=b.className+" "+a}};l=function(b,a){b.className=b.className.replace(k(a)," ")}}function j(b,a){var c=o(b,a)?l:m;c(b,a)}var p={hasClass:o,addClass:m,removeClass:l,toggleClass:j,has:o,add:m,remove:l,toggle:j};if(typeof define==="function"&&define.amd){define("classie/classie",p)}else{if(typeof exports==="object"){module.exports=p}else{n.classie=p}}})(window);
/*!
 * getStyleProperty v1.0.4
 * original by kangax
 * http://perfectionkills.com/feature-testing-css-properties/
 * MIT license
 */
(function(j){var i="Webkit Moz ms Ms O".split(" ");var f=document.documentElement.style;function h(a){if(!a){return}if(typeof f[a]==="string"){return a}a=a.charAt(0).toUpperCase()+a.slice(1);var c;for(var b=0,d=i.length;b<d;b++){c=i[b]+a;if(typeof f[c]==="string"){return c}}}if(typeof define==="function"&&define.amd){define("get-style-property/get-style-property",[],function(){return h})}else{if(typeof exports==="object"){module.exports=h}else{j.getStyleProperty=h}}})(window);
/*!
 * getSize v1.2.2
 * measure size of elements
 * MIT license
 */
(function(p,n){function k(b){var c=parseFloat(b);var a=b.indexOf("%")===-1&&!isNaN(c);return a&&c}function q(){}var r=typeof console==="undefined"?q:function(a){console.error(a)};var l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];function o(){var a={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var b=0,c=l.length;b<c;b++){var d=l[b];a[d]=0}return a}function m(f){var i=false;var a,j,h;function b(){if(i){return}i=true;var y=p.getComputedStyle;a=(function(){var t=y?function(u){return y(u,null)}:function(u){return u.currentStyle};return function s(u){var v=t(u);if(!v){r("Style returned "+v+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1")}return v}})();j=f("boxSizing");if(j){var x=document.createElement("div");x.style.width="200px";x.style.padding="1px 2px 3px 4px";x.style.borderStyle="solid";x.style.borderWidth="1px 2px 3px 4px";x.style[j]="border-box";var A=document.body||document.documentElement;A.appendChild(x);var z=a(x);h=k(z.width)===200;A.removeChild(x)}}function d(Q){b();if(typeof Q==="string"){Q=document.querySelector(Q)}if(!Q||typeof Q!=="object"||!Q.nodeType){return}var T=a(Q);if(T.display==="none"){return o()}var O={};O.width=Q.offsetWidth;O.height=Q.offsetHeight;var S=O.isBorderBox=!!(j&&T[j]&&T[j]==="border-box");for(var aa=0,X=l.length;aa<X;aa++){var ac=l[aa];var ab=T[ac];ab=c(Q,ab);var Z=parseFloat(ab);O[ac]=!isNaN(Z)?Z:0}var V=O.paddingLeft+O.paddingRight;var P=O.paddingTop+O.paddingBottom;var M=O.marginLeft+O.marginRight;var U=O.marginTop+O.marginBottom;var N=O.borderLeftWidth+O.borderRightWidth;var W=O.borderTopWidth+O.borderBottomWidth;var Y=S&&h;var R=k(T.width);if(R!==false){O.width=R+(Y?0:V+N)}var ad=k(T.height);if(ad!==false){O.height=ad+(Y?0:P+W)}O.innerWidth=O.width-(V+N);O.innerHeight=O.height-(P+W);O.outerWidth=O.width+M;O.outerHeight=O.height+U;return O}function c(A,z){if(p.getComputedStyle||z.indexOf("%")===-1){return z}var B=A.style;var E=B.left;var C=A.runtimeStyle;var D=C&&C.left;if(D){C.left=A.currentStyle.left}B.left=z;z=B.pixelLeft;B.left=E;if(D){C.left=D}return z}return d}if(typeof define==="function"&&define.amd){define("get-size/get-size",["get-style-property/get-style-property"],m)}else{if(typeof exports==="object"){module.exports=m(require("desandro-get-style-property"))}else{p.getSize=m(p.getStyleProperty)}}})(window);
/*!
 * eventie v1.0.6
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 * MIT license
 */
(function(l){var i=document.documentElement;var k=function(){};function j(a){var b=l.event;b.target=b.target||b.srcElement||a;return b}if(i.addEventListener){k=function(a,b,c){a.addEventListener(b,c,false)}}else{if(i.attachEvent){k=function(a,b,c){a[b+c]=c.handleEvent?function(){var d=j(a);c.handleEvent.call(c,d)}:function(){var d=j(a);c.call(a,d)};a.attachEvent("on"+b,a[b+c])}}}var m=function(){};if(i.removeEventListener){m=function(a,b,c){a.removeEventListener(b,c,false)}}else{if(i.detachEvent){m=function(a,c,d){a.detachEvent("on"+c,a[c+d]);try{delete a[c+d]}catch(b){a[c+d]=undefined}}}}var n={bind:k,unbind:m};if(typeof define==="function"&&define.amd){define("eventie/eventie",n)}else{if(typeof exports==="object"){module.exports=n}else{l.eventie=n}}})(window);
/*!
 * EventEmitter v4.2.11 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */
;(function(){function X(){}var O=X.prototype;var C=this;var M=C.EventEmitter;function S(b,a){var c=b.length;while(c--){if(b[c].listener===a){return c}}return -1}function Q(b){return function a(){return this[b].apply(this,arguments)}}O.getListeners=function E(d){var a=this._getEvents();var c;var b;if(d instanceof RegExp){c={};for(b in a){if(a.hasOwnProperty(b)&&d.test(b)){c[b]=a[b]}}}else{c=a[d]||(a[d]=[])}return c};O.flattenListeners=function G(a){var c=[];var b;for(b=0;b<a.length;b+=1){c.push(a[b].listener)}return c};O.getListenersAsObject=function V(c){var a=this.getListeners(c);var b;if(a instanceof Array){b={};b[c]=a}return b||a};O.addListener=function U(f,b){var c=this.getListenersAsObject(f);var a=typeof b==="object";var d;for(d in c){if(c.hasOwnProperty(d)&&S(c[d],b)===-1){c[d].push(a?b:{listener:b,once:false})}}return this};O.on=Q("addListener");O.addOnceListener=function Z(b,a){return this.addListener(b,{listener:a,once:true})};O.once=Q("addOnceListener");O.defineEvent=function I(a){this.getListeners(a);return this};O.defineEvents=function H(b){for(var a=0;a<b.length;a+=1){this.defineEvent(b[a])}return this};O.removeListener=function Y(f,a){var b=this.getListenersAsObject(f);var d;var c;for(c in b){if(b.hasOwnProperty(c)){d=S(b[c],a);if(d!==-1){b[c].splice(d,1)}}}return this};O.off=Q("removeListener");O.addListeners=function N(b,a){return this.manipulateListeners(false,b,a)};O.removeListeners=function F(b,a){return this.manipulateListeners(true,b,a)};O.manipulateListeners=function T(h,f,c){var d;var b;var a=h?this.removeListener:this.addListener;var i=h?this.removeListeners:this.addListeners;if(typeof f==="object"&&!(f instanceof RegExp)){for(d in f){if(f.hasOwnProperty(d)&&(b=f[d])){if(typeof b==="function"){a.call(this,d,b)}else{i.call(this,d,b)}}}}else{d=c.length;while(d--){a.call(this,f,c[d])}}return this};O.removeEvent=function K(d){var a=typeof d;var b=this._getEvents();var c;if(a==="string"){delete b[d]}else{if(d instanceof RegExp){for(c in b){if(b.hasOwnProperty(c)&&d.test(c)){delete b[c]}}}else{delete this._events}}return this};O.removeAllListeners=Q("removeEvent");O.emitEvent=function D(i,f){var b=this.getListenersAsObject(i);var a;var c;var d;var h;for(d in b){if(b.hasOwnProperty(d)){c=b[d].length;while(c--){a=b[d][c];if(a.once===true){this.removeListener(i,a.listener)}h=a.listener.apply(this,f||[]);if(h===this._getOnceReturnValue()){this.removeListener(i,a.listener)}}}}return this};O.trigger=Q("emitEvent");O.emit=function P(b){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,a)};O.setOnceReturnValue=function R(a){this._onceReturnValue=a;return this};O._getOnceReturnValue=function L(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};O._getEvents=function W(){return this._events||(this._events={})};X.noConflict=function B(){C.EventEmitter=M;return X};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return X})}else{if(typeof module==="object"&&module.exports){module.exports=X}else{C.EventEmitter=X}}}.call(this));
/*!
 * docReady v1.0.4
 * Cross browser DOMContentLoaded event emitter
 * MIT license
 */
(function(n){var j=n.document;var k=[];function o(a){if(typeof a!=="function"){return}if(o.isReady){a()}else{k.push(a)}}o.isReady=false;function l(a){var b=a.type==="readystatechange"&&j.readyState!=="complete";if(o.isReady||b){return}p()}function p(){o.isReady=true;for(var b=0,c=k.length;b<c;b++){var a=k[b];a()}}function m(a){if(j.readyState==="complete"){p()}else{a.bind(j,"DOMContentLoaded",l);a.bind(j,"readystatechange",l);a.bind(n,"load",l)}return o}if(typeof define==="function"&&define.amd){define("doc-ready/doc-ready",["eventie/eventie"],m)}else{if(typeof exports==="object"){module.exports=m(require("eventie"))}else{n.docReady=m(n.eventie)}}})(window);(function(m){var o=(function(){if(m.matches){return"matches"}if(m.matchesSelector){return"matchesSelector"}var d=["webkit","moz","ms","o"];for(var a=0,b=d.length;a<b;a++){var f=d[a];var c=f+"MatchesSelector";if(m[c]){return c}}})();function q(a,b){return a[o](b)}function n(a){if(a.parentNode){return}var b=document.createDocumentFragment();b.appendChild(a)}function p(c,a){n(c);var f=c.parentNode.querySelectorAll(a);for(var d=0,b=f.length;d<b;d++){if(f[d]===c){return true}}return false}function r(a,b){n(a);return q(a,b)}var l;if(o){var t=document.createElement("div");var s=q(t,"div");l=s?q:r}else{l=p}if(typeof define==="function"&&define.amd){define("matches-selector/matches-selector",[],function(){return l})}else{if(typeof exports==="object"){module.exports=l}else{window.matchesSelector=l}}})(Element.prototype);(function(c,d){if(typeof define=="function"&&define.amd){define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(a,b){return d(c,a,b)})}else{if(typeof exports=="object"){module.exports=d(c,require("doc-ready"),require("desandro-matches-selector"))}else{c.fizzyUIUtils=d(c,c.docReady,c.matchesSelector)}}}(window,function factory(o,p,q){var k={};k.extend=function(b,c){for(var a in c){b[a]=c[a]}return b};k.modulo=function(b,a){return((b%a)+a)%a};var l=Object.prototype.toString;k.isArray=function(a){return l.call(a)=="[object Array]"};k.makeArray=function(d){var a=[];if(k.isArray(d)){a=d}else{if(d&&typeof d.length=="number"){for(var b=0,c=d.length;b<c;b++){a.push(d[b])}}else{a.push(d)}}return a};k.indexOf=Array.prototype.indexOf?function(b,a){return b.indexOf(a)}:function(a,d){for(var b=0,c=a.length;b<c;b++){if(a[b]===d){return b}}return -1};k.removeFrom=function(b,a){var c=k.indexOf(b,a);if(c!=-1){b.splice(c,1)}};k.isElement=(typeof HTMLElement=="function"||typeof HTMLElement=="object")?function m(a){return a instanceof HTMLElement}:function n(a){return a&&typeof a=="object"&&a.nodeType==1&&typeof a.nodeName=="string"};k.setText=(function(){var a;function b(c,d){a=a||(document.documentElement.textContent!==undefined?"textContent":"innerText");c[a]=d}return b})();k.getParent=function(a,b){while(a!=document.body){a=a.parentNode;if(q(a,b)){return a}}};k.getQueryElement=function(a){if(typeof a=="string"){return document.querySelector(a)}return a};k.handleEvent=function(b){var a="on"+b.type;if(this[a]){this[a](b)}};k.filterFindElements=function(j,h){j=k.makeArray(j);var c=[];for(var d=0,b=j.length;d<b;d++){var i=j[d];if(!k.isElement(i)){continue}if(h){if(q(i,h)){c.push(i)}var a=i.querySelectorAll(h);for(var f=0,t=a.length;f<t;f++){c.push(a[f])}}else{c.push(i)}}return c};k.debounceMethod=function(f,a,c){var d=f.prototype[a];var b=a+"Timeout";f.prototype[a]=function(){var i=this[b];if(i){clearTimeout(i)}var j=arguments;var h=this;this[b]=setTimeout(function(){d.apply(h,j);delete h[b]},c||100)}};k.toDashed=function(a){return a.replace(/(.)([A-Z])/g,function(b,c,d){return c+"-"+d}).toLowerCase()};var r=o.console;k.htmlInit=function(b,a){p(function(){var C=k.toDashed(a);var j=document.querySelectorAll(".js-"+C);var B="data-"+C+"-options";for(var h=0,f=j.length;h<f;h++){var i=j[h];var d=i.getAttribute(B);var y;try{y=d&&JSON.parse(d)}catch(c){if(r){r.error("Error parsing "+B+" on "+i.nodeName.toLowerCase()+(i.id?"#"+i.id:"")+": "+c)}continue}var A=new b(i,y);var z=o.jQuery;if(z){z.data(i,a,A)}}})};return k}));(function(c,d){if(typeof define==="function"&&define.amd){define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(b,a,i,j){return d(c,b,a,i,j)})}else{if(typeof exports==="object"){module.exports=d(c,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils"))}else{c.Outlayer={};c.Outlayer.Item=d(c,c.EventEmitter,c.getSize,c.getStyleProperty,c.fizzyUIUtils)}}}(window,function factory(H,I,O,G,y){var A=H.getComputedStyle;var L=A?function(a){return A(a,null)}:function(a){return a.currentStyle};function K(a){for(var b in a){return false}b=null;return true}var z=G("transition");var D=G("transform");var B=z&&D;var F=!!G("perspective");var R={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[z];var N=["transform","transition","transitionDuration","transitionProperty"];var C=(function(){var f={};for(var c=0,b=N.length;c<b;c++){var d=N[c];var a=G(d);if(a&&a!==d){f[d]=a}}return f})();function P(a,b){if(!a){return}this.element=a;this.layout=b;this.position={x:0,y:0};this._create()}y.extend(P.prototype,I.prototype);P.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}};this.css({position:"absolute"})};P.prototype.handleEvent=function(a){var b="on"+a.type;if(this[b]){this[b](a)}};P.prototype.getSize=function(){this.size=O(this.element)};P.prototype.css=function(c){var b=this.element.style;for(var a in c){var d=C[a]||a;b[d]=c[a]}};P.prototype.getPosition=function(){var f=L(this.element);var h=this.layout.options;var j=h.isOriginLeft;var i=h.isOriginTop;var c=f[j?"left":"right"];var b=f[i?"top":"bottom"];var d=this.layout.size;var k=c.indexOf("%")!=-1?(parseFloat(c)/100)*d.width:parseInt(c,10);var a=b.indexOf("%")!=-1?(parseFloat(b)/100)*d.height:parseInt(b,10);k=isNaN(k)?0:k;a=isNaN(a)?0:a;k-=j?d.paddingLeft:d.paddingRight;a-=i?d.paddingTop:d.paddingBottom;this.position.x=k;this.position.y=a};P.prototype.layoutPosition=function(){var c=this.layout.size;var h=this.layout.options;var d={};var j=h.isOriginLeft?"paddingLeft":"paddingRight";var b=h.isOriginLeft?"left":"right";var a=h.isOriginLeft?"right":"left";var k=this.position.x+c[j];d[b]=this.getXValue(k);d[a]="";var m=h.isOriginTop?"paddingTop":"paddingBottom";var i=h.isOriginTop?"top":"bottom";var f=h.isOriginTop?"bottom":"top";var l=this.position.y+c[m];d[i]=this.getYValue(l);d[f]="";this.css(d);this.emitEvent("layout",[this])};P.prototype.getXValue=function(a){var b=this.layout.options;return b.percentPosition&&!b.isHorizontal?((a/this.layout.size.width)*100)+"%":a+"px"};P.prototype.getYValue=function(b){var a=this.layout.options;return a.percentPosition&&a.isHorizontal?((b/this.layout.size.height)*100)+"%":b+"px"};P.prototype._transitionTo=function(h,i){this.getPosition();var d=this.position.x;var f=this.position.y;var j=parseInt(h,10);var k=parseInt(i,10);var l=j===this.position.x&&k===this.position.y;this.setPosition(h,i);if(l&&!this.isTransitioning){this.layoutPosition();return}var a=h-d;var b=i-f;var c={};c.transform=this.getTranslate(a,b);this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:true})};P.prototype.getTranslate=function(a,c){var b=this.layout.options;a=b.isOriginLeft?a:-a;c=b.isOriginTop?c:-c;if(F){return"translate3d("+a+"px, "+c+"px, 0)"}return"translate("+a+"px, "+c+"px)"};P.prototype.goTo=function(b,a){this.setPosition(b,a);this.layoutPosition()};P.prototype.moveTo=B?P.prototype._transitionTo:P.prototype.goTo;P.prototype.setPosition=function(b,a){this.position.x=parseInt(b,10);this.position.y=parseInt(a,10)};P.prototype._nonTransition=function(a){this.css(a.to);if(a.isCleaning){this._removeStyles(a.to)}for(var b in a.onTransitionEnd){a.onTransitionEnd[b].call(this)}};P.prototype._transition=function(b){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(b);return}var c=this._transn;for(var a in b.onTransitionEnd){c.onEnd[a]=b.onTransitionEnd[a]}for(a in b.to){c.ingProperties[a]=true;if(b.isCleaning){c.clean[a]=true}}if(b.from){this.css(b.from);var d=this.element.offsetHeight;d=null}this.enableTransition(b.to);this.css(b.to);this.isTransitioning=true};function M(a){return a.replace(/([A-Z])/g,function(b){return"-"+b.toLowerCase()})}var E="opacity,"+M(C.transform||"transform");P.prototype.enableTransition=function(){if(this.isTransitioning){return}this.css({transitionProperty:E,transitionDuration:this.layout.options.transitionDuration});this.element.addEventListener(R,this,false)};P.prototype.transition=P.prototype[z?"_transition":"_nonTransition"];P.prototype.onwebkitTransitionEnd=function(a){this.ontransitionend(a)};P.prototype.onotransitionend=function(a){this.ontransitionend(a)};var x={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};P.prototype.ontransitionend=function(b){if(b.target!==this.element){return}var c=this._transn;var a=x[b.propertyName]||b.propertyName;delete c.ingProperties[a];if(K(c.ingProperties)){this.disableTransition()}if(a in c.clean){this.element.style[b.propertyName]="";delete c.clean[a]}if(a in c.onEnd){var d=c.onEnd[a];d.call(this);delete c.onEnd[a]}this.emitEvent("transitionEnd",[this])};P.prototype.disableTransition=function(){this.removeTransitionStyles();this.element.removeEventListener(R,this,false);this.isTransitioning=false};P.prototype._removeStyles=function(c){var a={};for(var b in c){a[b]=""}this.css(a)};var Q={transitionProperty:"",transitionDuration:""};P.prototype.removeTransitionStyles=function(){this.css(Q)};P.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.css({display:""});this.emitEvent("remove",[this])};P.prototype.remove=function(){if(!z||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var a=this;this.once("transitionEnd",function(){a.removeElem()});this.hide()};P.prototype.reveal=function(){delete this.isHidden;this.css({display:""});var c=this.layout.options;var b={};var a=this.getHideRevealTransitionEndProperty("visibleStyle");b[a]=this.onRevealTransitionEnd;this.transition({from:c.hiddenStyle,to:c.visibleStyle,isCleaning:true,onTransitionEnd:b})};P.prototype.onRevealTransitionEnd=function(){if(!this.isHidden){this.emitEvent("reveal")}};P.prototype.getHideRevealTransitionEndProperty=function(c){var a=this.layout.options[c];if(a.opacity){return"opacity"}for(var b in a){return b}};P.prototype.hide=function(){this.isHidden=true;this.css({display:""});var c=this.layout.options;var b={};var a=this.getHideRevealTransitionEndProperty("hiddenStyle");b[a]=this.onHideTransitionEnd;this.transition({from:c.visibleStyle,to:c.hiddenStyle,isCleaning:true,onTransitionEnd:b})};P.prototype.onHideTransitionEnd=function(){if(this.isHidden){this.css({display:"none"});this.emitEvent("hide")}};P.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})};return P}));
/*!
 * Outlayer v1.4.2
 * the brains and guts of a layout library
 * MIT license
 */
(function(c,d){if(typeof define=="function"&&define.amd){define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(k,b,a,l,j){return d(c,k,b,a,l,j)})}else{if(typeof exports=="object"){module.exports=d(c,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item"))}else{c.Outlayer=d(c,c.eventie,c.EventEmitter,c.getSize,c.fizzyUIUtils,c.Outlayer.Item)}}}(window,function factory(u,s,o,q,t,z){var y=u.console;var p=u.jQuery;var r=function(){};var v=0;var A={};function x(b,c){var d=t.getQueryElement(b);if(!d){if(y){y.error("Bad element for "+this.constructor.namespace+": "+(d||b))}return}this.element=d;if(p){this.$element=p(this.element)}this.options=t.extend({},this.constructor.defaults);this.option(c);var a=++v;this.element.outlayerGUID=a;A[a]=this;this._create();if(this.options.isInitLayout){this.layout()}}x.namespace="outlayer";x.Item=z;x.defaults={containerStyle:{position:"relative"},isInitLayout:true,isOriginLeft:true,isOriginTop:true,isResizeBound:true,isResizingContainer:true,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};t.extend(x.prototype,o.prototype);x.prototype.option=function(a){t.extend(this.options,a)};x.prototype._create=function(){this.reloadItems();this.stamps=[];this.stamp(this.options.stamp);t.extend(this.element.style,this.options.containerStyle);if(this.options.isResizeBound){this.bindResize()}};x.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)};x.prototype._itemize=function(h){var c=this._filterFindItemElements(h);var f=this.constructor.Item;var i=[];for(var d=0,j=c.length;d<j;d++){var a=c[d];var b=new f(a,this);i.push(b)}return i};x.prototype._filterFindItemElements=function(a){return t.filterFindElements(a,this.options.itemSelector)};x.prototype.getItemElements=function(){var b=[];for(var a=0,c=this.items.length;a<c;a++){b.push(this.items[a].element)}return b};x.prototype.layout=function(){this._resetLayout();this._manageStamps();var a=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,a);this._isLayoutInited=true};x.prototype._init=x.prototype.layout;x.prototype._resetLayout=function(){this.getSize()};x.prototype.getSize=function(){this.size=q(this.element)};x.prototype._getMeasurement=function(b,d){var c=this.options[b];var a;if(!c){this[b]=0}else{if(typeof c==="string"){a=this.element.querySelector(c)}else{if(t.isElement(c)){a=c}}this[b]=a?q(a)[d]:c}};x.prototype.layoutItems=function(b,a){b=this._getItemsForLayout(b);this._layoutItems(b,a);this._postLayout()};x.prototype._getItemsForLayout=function(d){var a=[];for(var c=0,f=d.length;c<f;c++){var b=d[c];if(!b.isIgnored){a.push(b)}}return a};x.prototype._layoutItems=function(d,a){this._emitCompleteOnItems("layout",d);if(!d||!d.length){return}var f=[];for(var c=0,h=d.length;c<h;c++){var b=d[c];var i=this._getItemLayoutPosition(b);i.item=b;i.isInstant=a||b.isLayoutInstant;f.push(i)}this._processLayoutQueue(f)};x.prototype._getItemLayoutPosition=function(){return{x:0,y:0}};x.prototype._processLayoutQueue=function(c){for(var b=0,d=c.length;b<d;b++){var a=c[b];this._positionItem(a.item,a.x,a.y,a.isInstant)}};x.prototype._positionItem=function(c,d,a,b){if(b){c.goTo(d,a)}else{c.moveTo(d,a)}};x.prototype._postLayout=function(){this.resizeContainer()};x.prototype.resizeContainer=function(){if(!this.options.isResizingContainer){return}var a=this._getContainerSize();if(a){this._setContainerMeasure(a.width,true);this._setContainerMeasure(a.height,false)}};x.prototype._getContainerSize=r;x.prototype._setContainerMeasure=function(c,b){if(c===undefined){return}var a=this.size;if(a.isBorderBox){c+=b?a.paddingLeft+a.paddingRight+a.borderLeftWidth+a.borderRightWidth:a.paddingBottom+a.paddingTop+a.borderTopWidth+a.borderBottomWidth}c=Math.max(c,0);this.element.style[b?"width":"height"]=c+"px"};x.prototype._emitCompleteOnItems=function(l,h){var j=this;function d(){j.dispatchEvent(l+"Complete",null,[h])}var i=h.length;if(!h||!i){d();return}var c=0;function a(){c++;if(c===i){d()}}for(var b=0,k=h.length;b<k;b++){var f=h[b];f.once(l,a)}};x.prototype.dispatchEvent=function(b,a,d){var c=a?[a].concat(d):d;this.emitEvent(b,c);if(p){this.$element=this.$element||p(this.element);if(a){var f=p.Event(a);f.type=b;this.$element.trigger(f,d)}else{this.$element.trigger(b,d)}}};x.prototype.ignore=function(a){var b=this.getItem(a);if(b){b.isIgnored=true}};x.prototype.unignore=function(a){var b=this.getItem(a);if(b){delete b.isIgnored}};x.prototype.stamp=function(c){c=this._find(c);if(!c){return}this.stamps=this.stamps.concat(c);for(var b=0,d=c.length;b<d;b++){var a=c[b];this.ignore(a)}};x.prototype.unstamp=function(c){c=this._find(c);if(!c){return}for(var b=0,d=c.length;b<d;b++){var a=c[b];t.removeFrom(this.stamps,a);this.unignore(a)}};x.prototype._find=function(a){if(!a){return}if(typeof a==="string"){a=this.element.querySelectorAll(a)}a=t.makeArray(a);return a};x.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length){return}this._getBoundingRect();for(var a=0,c=this.stamps.length;a<c;a++){var b=this.stamps[a];this._manageStamp(b)}};x.prototype._getBoundingRect=function(){var b=this.element.getBoundingClientRect();var a=this.size;this._boundingRect={left:b.left+a.paddingLeft+a.borderLeftWidth,top:b.top+a.paddingTop+a.borderTopWidth,right:b.right-(a.paddingRight+a.borderRightWidth),bottom:b.bottom-(a.paddingBottom+a.borderBottomWidth)}};x.prototype._manageStamp=r;x.prototype._getElementOffset=function(b){var f=b.getBoundingClientRect();var c=this._boundingRect;var d=q(b);var a={left:f.left-c.left-d.marginLeft,top:f.top-c.top-d.marginTop,right:c.right-f.right-d.marginRight,bottom:c.bottom-f.bottom-d.marginBottom};return a};x.prototype.handleEvent=function(b){var a="on"+b.type;if(this[a]){this[a](b)}};x.prototype.bindResize=function(){if(this.isResizeBound){return}s.bind(u,"resize",this);this.isResizeBound=true};x.prototype.unbindResize=function(){if(this.isResizeBound){s.unbind(u,"resize",this)}this.isResizeBound=false};x.prototype.onresize=function(){if(this.resizeTimeout){clearTimeout(this.resizeTimeout)}var a=this;function b(){a.resize();delete a.resizeTimeout}this.resizeTimeout=setTimeout(b,100)};x.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout()){return}this.layout()};x.prototype.needsResizeLayout=function(){var a=q(this.element);var b=this.size&&a;return b&&a.innerWidth!==this.size.innerWidth};x.prototype.addItems=function(a){var b=this._itemize(a);if(b.length){this.items=this.items.concat(b)}return b};x.prototype.appended=function(a){var b=this.addItems(a);if(!b.length){return}this.layoutItems(b,true);this.reveal(b)};x.prototype.prepended=function(b){var c=this._itemize(b);if(!c.length){return}var a=this.items.slice(0);this.items=c.concat(a);this._resetLayout();this._manageStamps();this.layoutItems(c,true);this.reveal(c);this.layoutItems(a)};x.prototype.reveal=function(c){this._emitCompleteOnItems("reveal",c);var d=c&&c.length;for(var b=0;d&&b<d;b++){var a=c[b];a.reveal()}};x.prototype.hide=function(c){this._emitCompleteOnItems("hide",c);var d=c&&c.length;for(var b=0;d&&b<d;b++){var a=c[b];a.hide()}};x.prototype.revealItemElements=function(a){var b=this.getItems(a);this.reveal(b)};x.prototype.hideItemElements=function(a){var b=this.getItems(a);this.hide(b)};x.prototype.getItem=function(a){for(var c=0,d=this.items.length;c<d;c++){var b=this.items[c];if(b.element===a){return b}}};x.prototype.getItems=function(d){d=t.makeArray(d);var f=[];for(var c=0,h=d.length;c<h;c++){var a=d[c];var b=this.getItem(a);if(b){f.push(b)}}return f};x.prototype.remove=function(d){var b=this.getItems(d);this._emitCompleteOnItems("remove",b);if(!b||!b.length){return}for(var c=0,f=b.length;c<f;c++){var a=b[c];a.remove();t.removeFrom(this.items,a)}};x.prototype.destroy=function(){var c=this.element.style;c.height="";c.position="";c.width="";for(var d=0,f=this.items.length;d<f;d++){var b=this.items[d];b.destroy()}this.unbindResize();var a=this.element.outlayerGUID;delete A[a];delete this.element.outlayerGUID;if(p){p.removeData(this.element,this.constructor.namespace)}};x.data=function(b){b=t.getQueryElement(b);var a=b&&b.outlayerGUID;return a&&A[a]};x.create=function(a,c){function b(){x.apply(this,arguments)}if(Object.create){b.prototype=Object.create(x.prototype)}else{t.extend(b.prototype,x.prototype)}b.prototype.constructor=b;b.defaults=t.extend({},x.defaults);t.extend(b.defaults,c);b.prototype.settings={};b.namespace=a;b.data=x.data;b.Item=function d(){z.apply(this,arguments)};b.Item.prototype=new z();t.htmlInit(b,a);if(p&&p.bridget){p.bridget(a,b)}return b};x.Item=z;return x}));(function(c,d){if(typeof define=="function"&&define.amd){define("packery/js/rect",d)}else{if(typeof exports=="object"){module.exports=d()}else{c.Packery=c.Packery||{};c.Packery.Rect=d()}}}(window,function factory(){var c=window.Packery=function(){};function d(b){for(var a in d.defaults){this[a]=d.defaults[a]}for(a in b){this[a]=b[a]}}c.Rect=d;d.defaults={x:0,y:0,width:0,height:0};d.prototype.contains=function(a){var h=a.width||0;var b=a.height||0;return this.x<=a.x&&this.y<=a.y&&this.x+this.width>=a.x+h&&this.y+this.height>=a.y+b};d.prototype.overlaps=function(b){var a=this.x+this.width;var l=this.y+this.height;var k=b.x+b.width;var j=b.y+b.height;return this.x<k&&a>b.x&&this.y<j&&l>b.y};d.prototype.getMaximalFreeRects=function(b){if(!this.overlaps(b)){return false}var n=[];var o;var a=this.x+this.width;var p=this.y+this.height;var m=b.x+b.width;var l=b.y+b.height;if(this.y<b.y){o=new d({x:this.x,y:this.y,width:this.width,height:b.y-this.y});n.push(o)}if(a>m){o=new d({x:m,y:this.y,width:a-m,height:this.height});n.push(o)}if(p>l){o=new d({x:this.x,y:l,width:this.width,height:p-l});n.push(o)}if(this.x<b.x){o=new d({x:this.x,y:this.y,width:b.x-this.x,height:this.height});n.push(o)}return n};d.prototype.canFit=function(a){return this.width>=a.width&&this.height>=a.height};return d}));(function(d,f){if(typeof define=="function"&&define.amd){define("packery/js/packer",["./rect"],f)}else{if(typeof exports=="object"){module.exports=f(require("./rect"))}else{var h=d.Packery=d.Packery||{};h.Packer=f(h.Rect)}}}(window,function factory(f){function h(b,c,a){this.width=b||0;this.height=c||0;this.sortDirection=a||"downwardLeftToRight";this.reset()}h.prototype.reset=function(){this.spaces=[];this.newSpaces=[];var a=new f({x:0,y:0,width:this.width,height:this.height});this.spaces.push(a);this.sorter=d[this.sortDirection]||d.downwardLeftToRight};h.prototype.pack=function(b){for(var c=0,i=this.spaces.length;c<i;c++){var a=this.spaces[c];if(a.canFit(b)){this.placeInSpace(b,a);break}}};h.prototype.placeInSpace=function(b,a){b.x=a.x;b.y=a.y;this.placed(b)};h.prototype.placed=function(b){var m=[];for(var c=0,n=this.spaces.length;c<n;c++){var a=this.spaces[c];var i=a.getMaximalFreeRects(b);if(i){m.push.apply(m,i)}else{m.push(a)}}this.spaces=m;this.mergeSortSpaces()};h.prototype.mergeSortSpaces=function(){h.mergeRects(this.spaces);this.spaces.sort(this.sorter)};h.prototype.addSpace=function(a){this.spaces.push(a);this.mergeSortSpaces()};h.mergeRects=function(b){for(var t=0,r=b.length;t<r;t++){var j=b[t];if(!j){continue}var v=b.slice(0);v.splice(t,1);var i=0;for(var u=0,a=v.length;u<a;u++){var s=v[u];var c=t>u?0:1;if(j.contains(s)){b.splice(u+c-i,1);i++}}}return b};var d={downwardLeftToRight:function(a,b){return a.y-b.y||a.x-b.x},rightwardTopToBottom:function(a,b){return a.x-b.x||a.y-b.y}};return h}));(function(c,d){if(typeof define=="function"&&define.amd){define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],d)}else{if(typeof exports=="object"){module.exports=d(require("desandro-get-style-property"),require("outlayer"),require("./rect"))}else{c.Packery.Item=d(c.getStyleProperty,c.Outlayer,c.Packery.Rect)}}}(window,function factory(m,o,p){var n=m("transform");var j=function l(){o.Item.apply(this,arguments)};j.prototype=new o.Item();var k=j.prototype._create;j.prototype._create=function(){k.call(this);this.rect=new p();this.placeRect=new p()};j.prototype.dragStart=function(){this.getPosition();this.removeTransitionStyles();if(this.isTransitioning&&n){this.element.style[n]="none"}this.getSize();this.isPlacing=true;this.needsPositioning=false;this.positionPlaceRect(this.position.x,this.position.y);this.isTransitioning=false;this.didDrag=false};j.prototype.dragMove=function(c,a){this.didDrag=true;var b=this.layout.size;c-=b.paddingLeft;a-=b.paddingTop;this.positionPlaceRect(c,a)};j.prototype.dragStop=function(){this.getPosition();var a=this.position.x!=this.placeRect.x;var b=this.position.y!=this.placeRect.y;this.needsPositioning=a||b;this.didDrag=false};j.prototype.positionPlaceRect=function(c,a,b){this.placeRect.x=this.getPlaceRectCoord(c,true);this.placeRect.y=this.getPlaceRectCoord(a,false,b)};j.prototype.getPlaceRectCoord=function(d,a,b){var u=a?"Width":"Height";var v=this.size["outer"+u];var f=this.layout[a?"columnWidth":"rowHeight"];var t=this.layout.size["inner"+u];if(!a){t=Math.max(t,this.layout.maxY);if(!this.layout.rowHeight){t-=this.layout.gutter}}var c;if(f){f+=this.layout.gutter;t+=a?this.layout.gutter:0;d=Math.round(d/f);var h;if(this.layout.options.isHorizontal){h=!a?"floor":"ceil"}else{h=a?"floor":"ceil"}var i=Math[h](t/f);i-=Math.ceil(v/f);c=i}else{c=t-v}d=b?d:Math.min(d,c);d*=f||1;return Math.max(0,d)};j.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x;this.rect.y=this.placeRect.y};j.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element);this.layout.packer.addSpace(this.rect);this.emitEvent("remove",[this])};return j}));
/*!
 * Packery v1.4.3
 * bin-packing layout library
 *
 * Licensed GPLv3 for open source use
 * or Flickity Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2015 Metafizzy
 */
(function(c,d){if(typeof define=="function"&&define.amd){define(["classie/classie","get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],d)}else{if(typeof exports=="object"){module.exports=d(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item"))}else{c.Packery=d(c.classie,c.getSize,c.Outlayer,c.Packery.Rect,c.Packery.Packer,c.Packery.Item)}}}(window,function factory(o,l,p,t,q,r){t.prototype.canFit=function(a){return this.width>=a.width-1&&this.height>=a.height-1};var m=p.create("packery");m.Item=r;m.prototype._create=function(){p.prototype._create.call(this);this.packer=new q();this.stamp(this.options.stamped);var c=this;this.handleDraggabilly={dragStart:function(){c.itemDragStart(this.element)},dragMove:function(){c.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){c.itemDragEnd(this.element)}};this.handleUIDraggable={start:function d(h,f){if(!f){return}c.itemDragStart(h.currentTarget)},drag:function a(h,f){if(!f){return}c.itemDragMove(h.currentTarget,f.position.left,f.position.top)},stop:function b(h,f){if(!f){return}c.itemDragEnd(h.currentTarget)}}};m.prototype._resetLayout=function(){this.getSize();this._getMeasurements();var a=this.packer;if(this.options.isHorizontal){a.width=Number.POSITIVE_INFINITY;a.height=this.size.innerHeight+this.gutter;a.sortDirection="rightwardTopToBottom"}else{a.width=this.size.innerWidth+this.gutter;a.height=Number.POSITIVE_INFINITY;a.sortDirection="downwardLeftToRight"}a.reset();this.maxY=0;this.maxX=0};m.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width");this._getMeasurement("rowHeight","height");this._getMeasurement("gutter","width")};m.prototype._getItemLayoutPosition=function(a){this._packItem(a);return a.rect};m.prototype._packItem=function(a){this._setRectSize(a.element,a.rect);this.packer.pack(a.rect);this._setMaxXY(a.rect)};m.prototype._setMaxXY=function(a){this.maxX=Math.max(a.x+a.width,this.maxX);this.maxY=Math.max(a.y+a.height,this.maxY)};m.prototype._setRectSize=function(c,d){var a=l(c);var b=a.outerWidth;var f=a.outerHeight;if(b||f){b=this._applyGridGutter(b,this.columnWidth);f=this._applyGridGutter(f,this.rowHeight)}d.width=Math.min(b,this.packer.width);d.height=Math.min(f,this.packer.height)};m.prototype._applyGridGutter=function(a,b){if(!b){return a+this.gutter}b+=this.gutter;var c=a%b;var d=c&&c<1?"round":"ceil";a=Math[d](a/b)*b;return a};m.prototype._getContainerSize=function(){if(this.options.isHorizontal){return{width:this.maxX-this.gutter}}else{return{height:this.maxY-this.gutter}}};m.prototype._manageStamp=function(d){var a=this.getItem(d);var b;if(a&&a.isPlacing){b=a.placeRect}else{var c=this._getElementOffset(d);b=new t({x:this.options.isOriginLeft?c.left:c.right,y:this.options.isOriginTop?c.top:c.bottom})}this._setRectSize(d,b);this.packer.placed(b);this._setMaxXY(b)};function n(a,b){return a.position.y-b.position.y||a.position.x-b.position.x}function s(a,b){return a.position.x-b.position.x||a.position.y-b.position.y}m.prototype.sortItemsByPosition=function(){var a=this.options.isHorizontal?s:n;this.items.sort(a)};m.prototype.fit=function(d,b,c){var a=this.getItem(d);if(!a){return}this._getMeasurements();this.stamp(a.element);a.getSize();a.isPlacing=true;b=b===undefined?a.rect.x:b;c=c===undefined?a.rect.y:c;a.positionPlaceRect(b,c,true);this._bindFitEvents(a);a.moveTo(a.placeRect.x,a.placeRect.y);this.layout();this.unstamp(a.element);this.sortItemsByPosition();a.isPlacing=false;a.copyPlaceRectPosition()};m.prototype._bindFitEvents=function(d){var c=this;var a=0;function b(){a++;if(a!=2){return}c.dispatchEvent("fitComplete",null,[d])}d.on("layout",function(){b();return true});this.on("layoutComplete",function(){b();return true})};m.prototype.resize=function(){var c=l(this.element);var a=this.size&&c;var b=this.options.isHorizontal?"innerHeight":"innerWidth";if(a&&c[b]==this.size[b]){return}this.layout()};m.prototype.itemDragStart=function(a){this.stamp(a);var b=this.getItem(a);if(b){b.dragStart()}};m.prototype.itemDragMove=function(f,b,c){var h=this.getItem(f);if(h){h.dragMove(b,c)}var d=this;function a(){d.layout();delete d.dragTimeout}this.clearDragTimeout();this.dragTimeout=setTimeout(a,40)};m.prototype.clearDragTimeout=function(){if(this.dragTimeout){clearTimeout(this.dragTimeout)}};m.prototype.itemDragEnd=function(d){var a=this.getItem(d);var b;if(a){b=a.didDrag;a.dragStop()}if(!a||(!b&&!a.needsPositioning)){this.unstamp(d);return}o.add(a.element,"is-positioning-post-drag");var c=this._getDragEndLayoutComplete(d,a);if(a.needsPositioning){a.on("layout",c);a.moveTo(a.placeRect.x,a.placeRect.y)}else{if(a){a.copyPlaceRectPosition()}}this.clearDragTimeout();this.on("layoutComplete",c);this.layout()};m.prototype._getDragEndLayoutComplete=function(f,h){var i=h&&h.needsPositioning;var b=0;var a=i?2:1;var c=this;return function d(){b++;if(b!=a){return true}if(h){o.remove(h.element,"is-positioning-post-drag");h.isPlacing=false;h.copyPlaceRectPosition()}c.unstamp(f);c.sortItemsByPosition();if(i){c.dispatchEvent("dragItemPositioned",null,[h])}return true}};m.prototype.bindDraggabillyEvents=function(a){a.on("dragStart",this.handleDraggabilly.dragStart);a.on("dragMove",this.handleDraggabilly.dragMove);a.on("dragEnd",this.handleDraggabilly.dragEnd)};m.prototype.bindUIDraggableEvents=function(a){a.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)};m.Rect=t;m.Packer=q;return m}));
/*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
;
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
(function(){function X(){}var O=X.prototype;var C=this;var M=C.EventEmitter;function S(b,a){var c=b.length;while(c--){if(b[c].listener===a){return c}}return -1}function Q(b){return function a(){return this[b].apply(this,arguments)}}O.getListeners=function E(d){var a=this._getEvents();var c;var b;if(typeof d==="object"){c={};for(b in a){if(a.hasOwnProperty(b)&&d.test(b)){c[b]=a[b]}}}else{c=a[d]||(a[d]=[])}return c};O.flattenListeners=function G(a){var c=[];var b;for(b=0;b<a.length;b+=1){c.push(a[b].listener)}return c};O.getListenersAsObject=function V(c){var a=this.getListeners(c);var b;if(a instanceof Array){b={};b[c]=a}return b||a};O.addListener=function U(f,b){var c=this.getListenersAsObject(f);var a=typeof b==="object";var d;for(d in c){if(c.hasOwnProperty(d)&&S(c[d],b)===-1){c[d].push(a?b:{listener:b,once:false})}}return this};O.on=Q("addListener");O.addOnceListener=function Z(b,a){return this.addListener(b,{listener:a,once:true})};O.once=Q("addOnceListener");O.defineEvent=function I(a){this.getListeners(a);return this};O.defineEvents=function H(b){for(var a=0;a<b.length;a+=1){this.defineEvent(b[a])}return this};O.removeListener=function Y(f,a){var b=this.getListenersAsObject(f);var d;var c;for(c in b){if(b.hasOwnProperty(c)){d=S(b[c],a);if(d!==-1){b[c].splice(d,1)}}}return this};O.off=Q("removeListener");O.addListeners=function N(b,a){return this.manipulateListeners(false,b,a)};O.removeListeners=function F(b,a){return this.manipulateListeners(true,b,a)};O.manipulateListeners=function T(h,f,c){var d;var b;var a=h?this.removeListener:this.addListener;var i=h?this.removeListeners:this.addListeners;if(typeof f==="object"&&!(f instanceof RegExp)){for(d in f){if(f.hasOwnProperty(d)&&(b=f[d])){if(typeof b==="function"){a.call(this,d,b)}else{i.call(this,d,b)}}}}else{d=c.length;while(d--){a.call(this,f,c[d])}}return this};O.removeEvent=function K(d){var a=typeof d;var b=this._getEvents();var c;if(a==="string"){delete b[d]}else{if(a==="object"){for(c in b){if(b.hasOwnProperty(c)&&d.test(c)){delete b[c]}}}else{delete this._events}}return this};O.removeAllListeners=Q("removeEvent");O.emitEvent=function D(i,f){var b=this.getListenersAsObject(i);var a;var c;var d;var h;for(d in b){if(b.hasOwnProperty(d)){c=b[d].length;while(c--){a=b[d][c];if(a.once===true){this.removeListener(i,a.listener)}h=a.listener.apply(this,f||[]);if(h===this._getOnceReturnValue()){this.removeListener(i,a.listener)}}}}return this};O.trigger=Q("emitEvent");O.emit=function P(b){var a=Array.prototype.slice.call(arguments,1);return this.emitEvent(b,a)};O.setOnceReturnValue=function R(a){this._onceReturnValue=a;return this};O._getOnceReturnValue=function L(){if(this.hasOwnProperty("_onceReturnValue")){return this._onceReturnValue}else{return true}};O._getEvents=function W(){return this._events||(this._events={})};X.noConflict=function B(){C.EventEmitter=M;return X};if(typeof define==="function"&&define.amd){define("eventEmitter/EventEmitter",[],function(){return X})}else{if(typeof module==="object"&&module.exports){module.exports=X}else{this.EventEmitter=X}}}.call(this));
/*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
(function(l){var i=document.documentElement;var k=function(){};function j(a){var b=l.event;b.target=b.target||b.srcElement||a;return b}if(i.addEventListener){k=function(a,b,c){a.addEventListener(b,c,false)}}else{if(i.attachEvent){k=function(a,b,c){a[b+c]=c.handleEvent?function(){var d=j(a);c.handleEvent.call(c,d)}:function(){var d=j(a);c.call(a,d)};a.attachEvent("on"+b,a[b+c])}}}var m=function(){};if(i.removeEventListener){m=function(a,b,c){a.removeEventListener(b,c,false)}}else{if(i.detachEvent){m=function(a,c,d){a.detachEvent("on"+c,a[c+d]);try{delete a[c+d]}catch(b){a[c+d]=undefined}}}}var n={bind:k,unbind:m};if(typeof define==="function"&&define.amd){define("eventie/eventie",n)}else{l.eventie=n}})(this);
/*!
 * imagesLoaded v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(c,d){if(typeof define==="function"&&define.amd){define(["eventEmitter/EventEmitter","eventie/eventie"],function(a,b){return d(c,a,b)})}else{if(typeof exports==="object"){module.exports=d(c,require("wolfy87-eventemitter"),require("eventie"))}else{c.imagesLoaded=d(c,c.EventEmitter,c.eventie)}}})(window,function factory(v,r,s){var y=v.jQuery;var A=v.console;var C=typeof A!=="undefined";function u(b,c){for(var a in c){b[a]=c[a]}return b}var q=Object.prototype.toString;function x(a){return q.call(a)==="[object Array]"}function B(a){var b=[];if(x(a)){b=a}else{if(typeof a.length==="number"){for(var c=0,d=a.length;c<d;c++){b.push(a[c])}}else{b.push(a)}}return b}function z(b,c,d){if(!(this instanceof z)){return new z(b,c)}if(typeof b==="string"){b=document.querySelectorAll(b)}this.elements=B(b);this.options=u({},this.options);if(typeof c==="function"){d=c}else{u(this.options,c)}if(d){this.on("always",d)}this.getImages();if(y){this.jqDeferred=new y.Deferred()}var a=this;setTimeout(function(){a.check()})}z.prototype=new r();z.prototype.options={};z.prototype.getImages=function(){this.images=[];for(var c=0,i=this.elements.length;c<i;c++){var b=this.elements[c];if(b.nodeName==="IMG"){this.addImage(b)}var h=b.nodeType;if(!h||!(h===1||h===9||h===11)){continue}var j=b.querySelectorAll("img");for(var d=0,a=j.length;d<a;d++){var f=j[d];this.addImage(f)}}};z.prototype.addImage=function(b){var a=new t(b);this.images.push(a)};z.prototype.check=function(){var a=this;var f=0;var c=this.images.length;this.hasAnyBroken=false;if(!c){this.complete();return}function d(j,i){if(a.options.debug&&C){A.log("confirm",j,i)}a.progress(j);f++;if(f===c){a.complete()}return true}for(var h=0;h<c;h++){var b=this.images[h];b.on("confirm",d);b.check()}};z.prototype.progress=function(b){this.hasAnyBroken=this.hasAnyBroken||!b.isLoaded;var a=this;setTimeout(function(){a.emit("progress",a,b);if(a.jqDeferred&&a.jqDeferred.notify){a.jqDeferred.notify(a,b)}})};z.prototype.complete=function(){var b=this.hasAnyBroken?"fail":"done";this.isComplete=true;var a=this;setTimeout(function(){a.emit(b,a);a.emit("always",a);if(a.jqDeferred){var c=a.hasAnyBroken?"reject":"resolve";a.jqDeferred[c](a)}})};if(y){y.fn.imagesLoaded=function(b,a){var c=new z(this,b,a);return c.jqDeferred.promise(y(this))}}function t(a){this.img=a}t.prototype=new r();t.prototype.check=function(){var b=D[this.img.src]||new E(this.img.src);if(b.isConfirmed){this.confirm(b.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var a=this;b.on("confirm",function(d,c){a.confirm(d.isLoaded,c);return true});b.check()};t.prototype.confirm=function(b,a){this.isLoaded=b;this.emit("confirm",this,a)};var D={};function E(a){this.src=a;D[a]=this}E.prototype=new r();E.prototype.check=function(){if(this.isChecked){return}var a=new Image();s.bind(a,"load",this);s.bind(a,"error",this);a.src=this.src;this.isChecked=true};E.prototype.handleEvent=function(b){var a="on"+b.type;if(this[a]){this[a](b)}};E.prototype.onload=function(a){this.confirm(true,"onload");this.unbindProxyEvents(a)};E.prototype.onerror=function(a){this.confirm(false,"onerror");this.unbindProxyEvents(a)};E.prototype.confirm=function(b,a){this.isConfirmed=true;this.isLoaded=b;this.emit("confirm",this,a)};E.prototype.unbindProxyEvents=function(a){s.unbind(a.target,"load",this);s.unbind(a.target,"error",this)};return z});!function(){var iD={version:"3.5.17"};var pX=[].slice,no=function(a){return pX.call(a)};var p0=this.document;function oi(a){return a&&(a.ownerDocument||a.document||a).documentElement}function jK(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}if(p0){try{no(p0.documentElement.childNodes)[0].nodeType}catch(iO){no=function(b){var c=b.length,a=new Array(c);while(c--){a[c]=b[c]}return a}}}if(!Date.now){Date.now=function(){return +new Date()}}if(p0){try{p0.createElement("DIV").style.setProperty("opacity",0,"")}catch(jR){var nu=this.Element.prototype,qH=nu.setAttribute,kU=nu.setAttributeNS,n2=this.CSSStyleDeclaration.prototype,kc=n2.setProperty;nu.setAttribute=function(b,a){qH.call(this,b,a+"")};nu.setAttributeNS=function(a,c,b){kU.call(this,a,c,b+"")};n2.setProperty=function(c,a,b){kc.call(this,c,a+"",b)}}}iD.ascending=kr;function kr(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}iD.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN};iD.min=function(a,c){var d=-1,b=a.length,f,h;if(arguments.length===1){while(++d<b){if((h=a[d])!=null&&h>=h){f=h;break}}while(++d<b){if((h=a[d])!=null&&f>h){f=h}}}else{while(++d<b){if((h=c.call(a,a[d],d))!=null&&h>=h){f=h;break}}while(++d<b){if((h=c.call(a,a[d],d))!=null&&f>h){f=h}}}return f};iD.max=function(a,c){var d=-1,b=a.length,f,h;if(arguments.length===1){while(++d<b){if((h=a[d])!=null&&h>=h){f=h;break}}while(++d<b){if((h=a[d])!=null&&h>f){f=h}}}else{while(++d<b){if((h=c.call(a,a[d],d))!=null&&h>=h){f=h;break}}while(++d<b){if((h=c.call(a,a[d],d))!=null&&h>f){f=h}}}return f};iD.extent=function(a,d){var f=-1,b=a.length,h,i,c;if(arguments.length===1){while(++f<b){if((i=a[f])!=null&&i>=i){h=c=i;break}}while(++f<b){if((i=a[f])!=null){if(h>i){h=i}if(c<i){c=i}}}}else{while(++f<b){if((i=d.call(a,a[f],f))!=null&&i>=i){h=c=i;break}}while(++f<b){if((i=d.call(a,a[f],f))!=null){if(h>i){h=i}if(c<i){c=i}}}}return[h,c]};function iy(a){return a===null?NaN:+a}function pk(a){return !isNaN(a)}iD.sum=function(a,c){var d=0,b=a.length,h,f=-1;if(arguments.length===1){while(++f<b){if(pk(h=+a[f])){d+=h}}}else{while(++f<b){if(pk(h=+c.call(a,a[f],f))){d+=h}}}return d};iD.mean=function(a,c){var d=0,b=a.length,i,f=-1,h=b;if(arguments.length===1){while(++f<b){if(pk(i=iy(a[f]))){d+=i}else{--h}}}else{while(++f<b){if(pk(i=iy(c.call(a,a[f],f)))){d+=i}else{--h}}}if(h){return d/h}};iD.quantile=function(f,a){var d=(f.length-1)*a+1,c=Math.floor(d),h=+f[c-1],b=d-c;return b?h+b*(f[c]-h):h};iD.median=function(a,c){var f=[],b=a.length,h,d=-1;if(arguments.length===1){while(++d<b){if(pk(h=iy(a[d]))){f.push(h)}}}else{while(++d<b){if(pk(h=iy(c.call(a,a[d],d)))){f.push(h)}}}if(f.length){return iD.quantile(f.sort(kr),0.5)}};iD.variance=function(h,i){var b=h.length,a=0,d,f,c=0,j=-1,k=0;if(arguments.length===1){while(++j<b){if(pk(d=iy(h[j]))){f=d-a;a+=f/++k;c+=f*(d-a)}}}else{while(++j<b){if(pk(d=iy(i.call(h,h[j],j)))){f=d-a;a+=f/++k;c+=f*(d-a)}}}if(k>1){return c/(k-1)}};iD.deviation=function(){var a=iD.variance.apply(this,arguments);return a?Math.sqrt(a):a};function jc(a){return{left:function(f,h,b,c){if(arguments.length<3){b=0}if(arguments.length<4){c=f.length}while(b<c){var d=b+c>>>1;if(a(f[d],h)<0){b=d+1}else{c=d}}return b},right:function(f,h,b,c){if(arguments.length<3){b=0}if(arguments.length<4){c=f.length}while(b<c){var d=b+c>>>1;if(a(f[d],h)>0){c=d}else{b=d+1}}return b}}}var n5=jc(kr);iD.bisectLeft=n5.left;iD.bisect=iD.bisectRight=n5.right;iD.bisector=function(a){return jc(a.length===1?function(b,c){return kr(a(b),c)}:a)};iD.shuffle=function(a,b,c){if((h=arguments.length)<3){c=a.length;if(h<2){b=0}}var h=c-b,d,f;while(h){f=Math.random()*h--|0;d=a[h+b],a[h+b]=a[f+b],a[f+b]=d}return a};iD.permute=function(a,c){var b=c.length,d=new Array(b);while(b--){d[b]=a[c[b]]}return d};iD.pairs=function(a){var h=0,b=a.length-1,c,d=a[0],f=new Array(b<0?0:b);while(h<b){f[h]=[c=d,d=a[++h]]}return f};iD.transpose=function(h){if(!(a=h.length)){return[]}for(var d=-1,i=iD.min(h,pJ),c=new Array(i);++d<i;){for(var f=-1,a,b=c[d]=new Array(a);++f<a;){b[f]=h[f][d]}}return c};function pJ(a){return a.length}iD.zip=function(){return iD.transpose(arguments)};iD.keys=function(a){var b=[];for(var c in a){b.push(c)}return b};iD.values=function(a){var c=[];for(var b in a){c.push(a[b])}return c};iD.entries=function(a){var c=[];for(var b in a){c.push({key:b,value:a[b]})}return c};iD.merge=function(c){var a=c.length,h,d=-1,f=0,i,b;while(++d<a){f+=c[d].length}i=new Array(f);while(--a>=0){b=c[a];h=b.length;while(--h>=0){i[--f]=b[h]}}return i};var o8=Math.abs;iD.range=function(a,c,b){if(arguments.length<3){b=1;if(arguments.length<2){c=a;a=0}}if((c-a)/b===Infinity){throw new Error("infinite range")}var h=[],i=jl(o8(b)),d=-1,f;a*=i,c*=i,b*=i;if(b<0){while((f=a+b*++d)>c){h.push(f/i)}}else{while((f=a+b*++d)<c){h.push(f/i)}}return h};function jl(b){var a=1;while(b*a%1){a*=10}return a}function jZ(a,b){for(var c in b){Object.defineProperty(a.prototype,c,{value:b[c],enumerable:false})}}iD.map=function(i,d){var c=new qS();if(i instanceof qS){i.forEach(function(k,j){c.set(k,j)})}else{if(Array.isArray(i)){var f=-1,a=i.length,b;if(arguments.length===1){while(++f<a){c.set(f,i[f])}}else{while(++f<a){c.set(d.call(i,b=i[f],f),b)}}}else{for(var h in i){c.set(h,i[h])}}}return c};function qS(){this._=Object.create(null)}var mC="__proto__",pb="\x00";jZ(qS,{has:ko,get:function(a){return this._[io(a)]},set:function(b,a){return this._[io(b)]=a},remove:of,keys:jS,values:function(){var b=[];for(var a in this._){b.push(this._[a])}return b},entries:function(){var b=[];for(var a in this._){b.push({key:im(a),value:this._[a]})}return b},size:ju,empty:pr,forEach:function(a){for(var b in this._){a.call(this,im(b),this._[b])}}});function io(a){return(a+="")===mC||a[0]===pb?pb+a:a}function im(a){return(a+="")[0]===pb?a.slice(1):a}function ko(a){return io(a) in this._}function of(a){return(a=io(a)) in this._&&delete this._[a]}function jS(){var a=[];for(var b in this._){a.push(im(b))}return a}function ju(){var a=0;for(var b in this._){++a}return a}function pr(){for(var a in this._){return false}return true}iD.nest=function(){var d={},f=[],a=[],h,c;function b(s,l,n){if(n>=f.length){return c?c.call(d,l):h?l.sort(h):l}var m=-1,t=l.length,j=f[n++],o,p,q,r=new qS(),k;while(++m<t){if(k=r.get(o=j(p=l[m]))){k.push(p)}else{r.set(o,[p])}}if(s){p=s();q=function(v,u){p.set(v,b(s,u,n))}}else{p={};q=function(v,u){p[v]=b(s,u,n)}}r.forEach(q);return p}function i(j,m){if(m>=f.length){return j}var l=[],k=a[m++];j.forEach(function(o,n){l.push({key:o,values:i(n,m)})});return k?l.sort(function(n,o){return k(n.key,o.key)}):l}d.map=function(j,k){return b(k,j,0)};d.entries=function(j){return i(b(iD.map,j,0),0)};d.key=function(j){f.push(j);return d};d.sortKeys=function(j){a[f.length-1]=j;return d};d.sortValues=function(j){h=j;return d};d.rollup=function(j){c=j;return d};return d};iD.set=function(a){var b=new l2();if(a){for(var d=0,c=a.length;d<c;++d){b.add(a[d])}}return b};function l2(){this._=Object.create(null)}jZ(l2,{has:ko,add:function(a){this._[io(a+="")]=true;return a},remove:of,values:jS,size:ju,empty:pr,forEach:function(a){for(var b in this._){a.call(this,im(b))}}});iD.behavior={};function ji(a){return a}iD.rebind=function(c,d){var f=1,a=arguments.length,b;while(++f<a){c[b=arguments[f]]=kH(c,d,d[b])}return c};function kH(b,c,a){return function(){var d=a.apply(c,arguments);return d===c?b:d}}function ms(c,d){if(d in c){return d}d=d.charAt(0).toUpperCase()+d.slice(1);for(var b=0,a=o3.length;b<a;++b){var f=o3[b]+d;if(f in c){return f}}}var o3=["webkit","ms","moz","Moz","o","O"];function qT(){}iD.dispatch=function(){var c=new lW(),b=-1,a=arguments.length;while(++b<a){c[arguments[b]]=kv(c)}return c};function lW(){}lW.prototype.on=function(b,a){var c=b.indexOf("."),d="";if(c>=0){d=b.slice(c+1);b=b.slice(0,c)}if(b){return arguments.length<2?this[b].on(d):this[b].on(d,a)}if(arguments.length===2){if(a==null){for(b in this){if(this.hasOwnProperty(b)){this[b].on(d,null)}}}return this}};function kv(d){var b=[],c=new qS();function a(){var h=b,i=-1,f=h.length,j;while(++i<f){if(j=h[i].on){j.apply(this,arguments)}}return d}a.on=function(i,f){var j=c.get(i),h;if(arguments.length<2){return j&&j.on}if(j){j.on=null;b=b.slice(0,h=b.indexOf(j)).concat(b.slice(h+1));c.remove(i)}if(f){b.push(c.set(i,{on:f}))}return d};return a}iD.event=null;function m3(){iD.event.preventDefault()}function qi(){var a=iD.event,b;while(b=a.sourceEvent){a=b}return a}function iJ(b){var d=new lW(),c=0,a=arguments.length;while(++c<a){d[arguments[c]]=kv(d)}d.of=function(f,h){return function(j){try{var i=j.sourceEvent=iD.event;j.target=b;iD.event=j;d[j.type].apply(f,h)}finally{iD.event=i}}};return d}iD.requote=function(a){return a.replace(pB,"\\$&")};var pB=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;var jT={}.__proto__?function(a,b){a.__proto__=b}:function(b,c){for(var a in c){b[a]=c[a]}};function mJ(a){jT(a,mM);return a}var l5=function(b,a){return a.querySelector(b)},lU=function(b,a){return a.querySelectorAll(b)},n1=function(a,c){var b=a.matches||a[ms(a,"matchesSelector")];n1=function(d,f){return b.call(d,f)};return n1(a,c)};if(typeof Sizzle==="function"){l5=function(b,a){return Sizzle(b,a)[0]||null};lU=Sizzle;n1=Sizzle.matchesSelector}iD.selection=function(){return iD.select(p0.documentElement)};var mM=iD.selection.prototype=[];mM.select=function(i){var l=[],c,b,d,k;i=mP(i);for(var h=-1,j=this.length;++h<j;){l.push(c=[]);c.parentNode=(d=this[h]).parentNode;for(var f=-1,a=d.length;++f<a;){if(k=d[f]){c.push(b=i.call(k,k.__data__,f,h));if(b&&"__data__" in k){b.__data__=k.__data__}}else{c.push(null)}}}return mJ(l)};function mP(a){return typeof a==="function"?a:function(){return l5(a,this)}}mM.selectAll=function(i){var a=[],c,k;i=pV(i);for(var h=-1,j=this.length;++h<j;){for(var d=this[h],f=-1,b=d.length;++f<b;){if(k=d[f]){a.push(c=no(i.call(k,k.__data__,f,h)));c.parentNode=k}}}return mJ(a)};function pV(a){return typeof a==="function"?a:function(){return lU(a,this)}}var k6="http://www.w3.org/1999/xhtml";var lz={svg:"http://www.w3.org/2000/svg",xhtml:k6,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};iD.ns={prefix:lz,qualify:function(c){var b=c.indexOf(":"),a=c;if(b>=0&&(a=c.slice(0,b))!=="xmlns"){c=c.slice(b+1)}return lz.hasOwnProperty(a)?{space:lz[a],local:c}:c}};mM.attr=function(c,a){if(arguments.length<2){if(typeof c==="string"){var b=this.node();c=iD.ns.qualify(c);return c.local?b.getAttributeNS(c.space,c.local):b.getAttribute(c)}for(a in c){this.each(oj(a,c[a]))}return this}return this.each(oj(c,a))};function oj(h,b){h=iD.ns.qualify(h);function i(){this.removeAttribute(h)}function a(){this.removeAttributeNS(h.space,h.local)}function c(){this.setAttribute(h,b)}function d(){this.setAttributeNS(h.space,h.local,b)}function j(){var k=b.apply(this,arguments);if(k==null){this.removeAttribute(h)}else{this.setAttribute(h,k)}}function f(){var k=b.apply(this,arguments);if(k==null){this.removeAttributeNS(h.space,h.local)}else{this.setAttributeNS(h.space,h.local,k)}}return b==null?h.local?a:i:typeof b==="function"?h.local?f:j:h.local?d:c}function o5(a){return a.trim().replace(/\s+/g," ")}mM.classed=function(f,b){if(arguments.length<2){if(typeof f==="string"){var c=this.node(),a=(f=iZ(f)).length,d=-1;if(b=c.classList){while(++d<a){if(!b.contains(f[d])){return false}}}else{b=c.getAttribute("class");while(++d<a){if(!j5(f[d]).test(b)){return false}}}return true}for(b in f){this.each(kx(b,f[b]))}return this}return this.each(kx(f,b))};function j5(a){return new RegExp("(?:^|\\s+)"+iD.requote(a)+"(?:\\s+|$)","g")}function iZ(a){return(a+"").trim().split(/^|\s+/)}function kx(d,b){d=iZ(d).map(j6);var a=d.length;function f(){var h=-1;while(++h<a){d[h](this,b)}}function c(){var h=-1,i=b.apply(this,arguments);while(++h<a){d[h](this,i)}}return typeof b==="function"?c:f}function j6(b){var a=j5(b);return function(f,d){if(c=f.classList){return d?c.add(b):c.remove(b)}var c=f.getAttribute("class")||"";if(d){a.lastIndex=0;if(!a.test(c)){f.setAttribute("class",o5(c+" "+b))}}else{f.setAttribute("class",o5(c.replace(a," ")))}}}mM.style=function(f,b,d){var a=arguments.length;if(a<3){if(typeof f!=="string"){if(a<2){b=""}for(d in f){this.each(ll(d,f[d],b))}return this}if(a<2){var c=this.node();return jK(c).getComputedStyle(c,null).getPropertyValue(f)}d=""}return this.each(ll(f,b,d))};function ll(d,a,c){function f(){this.style.removeProperty(d)}function b(){this.style.setProperty(d,a,c)}function h(){var i=a.apply(this,arguments);if(i==null){this.style.removeProperty(d)}else{this.style.setProperty(d,i,c)}}return a==null?f:typeof a==="function"?h:b}mM.property=function(b,a){if(arguments.length<2){if(typeof b==="string"){return this.node()[b]}for(a in b){this.each(jq(a,b[a]))}return this}return this.each(jq(b,a))};function jq(d,b){function f(){delete this[d]}function c(){this[d]=b}function a(){var h=b.apply(this,arguments);if(h==null){delete this[d]}else{this[d]=h}}return b==null?f:typeof b==="function"?a:c}mM.text=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.textContent=b==null?"":b}:a==null?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};mM.html=function(a){return arguments.length?this.each(typeof a==="function"?function(){var b=a.apply(this,arguments);this.innerHTML=b==null?"":b}:a==null?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};mM.append=function(a){a=qX(a);return this.select(function(){return this.appendChild(a.apply(this,arguments))})};function qX(c){function b(){var f=this.ownerDocument,d=this.namespaceURI;return d===k6&&f.documentElement.namespaceURI===k6?f.createElement(c):f.createElementNS(d,c)}function a(){return this.ownerDocument.createElementNS(c.space,c.local)}return typeof c==="function"?c:(c=iD.ns.qualify(c)).local?a:b}mM.insert=function(b,a){b=qX(b);a=mP(a);return this.select(function(){return this.insertBefore(b.apply(this,arguments),a.apply(this,arguments)||null)})};mM.remove=function(){return this.each(ln)};function ln(){var a=this.parentNode;if(a){a.removeChild(this)}}mM.data=function(f,c){var j=-1,a=this.length,d,l;if(!arguments.length){f=new Array(a=(d=this[0]).length);while(++j<a){if(l=d[j]){f[j]=l.__data__}}return f}function i(m,r){var p,x=m.length,s=r.length,n=Math.min(x,s),v=new Array(s),A=new Array(s),o=new Array(x),u,z;if(c){var t=new qS(),y=new Array(x),q;for(p=-1;++p<x;){if(u=m[p]){if(t.has(q=c.call(u,u.__data__,p))){o[p]=u}else{t.set(q,u)}y[p]=q}}for(p=-1;++p<s;){if(!(u=t.get(q=c.call(r,z=r[p],p)))){A[p]=oZ(z)}else{if(u!==true){v[p]=u;u.__data__=z}}t.set(q,true)}for(p=-1;++p<x;){if(p in y&&t.get(y[p])!==true){o[p]=m[p]}}}else{for(p=-1;++p<n;){u=m[p];z=r[p];if(u){u.__data__=z;v[p]=u}else{A[p]=oZ(z)}}for(;p<s;++p){A[p]=oZ(r[p])}for(;p<x;++p){o[p]=m[p]}}A.update=v;A.parentNode=v.parentNode=o.parentNode=m.parentNode;h.push(A);k.push(v);b.push(o)}var h=pD([]),k=mJ([]),b=mJ([]);if(typeof f==="function"){while(++j<a){i(d=this[j],f.call(d,d.parentNode.__data__,j))}}else{while(++j<a){i(d=this[j],f)}}k.enter=function(){return h};k.exit=function(){return b};return k};function oZ(a){return{__data__:a}}mM.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};mM.filter=function(b){var k=[],c,d,j;if(typeof b!=="function"){b=ie(b)}for(var h=0,i=this.length;h<i;h++){k.push(c=[]);c.parentNode=(d=this[h]).parentNode;for(var f=0,a=d.length;f<a;f++){if((j=d[f])&&b.call(j,j.__data__,f,h)){c.push(j)}}}return mJ(k)};function ie(a){return function(){return n1(this,a)}}mM.order=function(){for(var f=-1,h=this.length;++f<h;){for(var a=this[f],d=a.length-1,c=a[d],b;--d>=0;){if(b=a[d]){if(c&&c!==b.nextSibling){c.parentNode.insertBefore(b,c)}c=b}}}return this};mM.sort=function(b){b=kf.apply(this,arguments);for(var a=-1,c=this.length;++a<c;){this[a].sort(b)}return this.order()};function kf(a){if(!arguments.length){a=kr}return function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}mM.each=function(a){return o2(this,function(b,c,d){a.call(b,b.__data__,c,d)})};function o2(i,a){for(var h=0,j=i.length;h<j;h++){for(var c=i[h],f=0,b=c.length,d;f<b;f++){if(d=c[f]){a(d,f,h)}}}return i}mM.call=function(a){var b=no(arguments);a.apply(b[0]=this,b);return this};mM.empty=function(){return !this.node()};mM.node=function(){for(var f=0,h=this.length;f<h;f++){for(var b=this[f],d=0,a=b.length;d<a;d++){var c=b[d];if(c){return c}}}return null};mM.size=function(){var a=0;o2(this,function(){++a});return a};function pD(a){jT(a,nd);return a}var nd=[];iD.selection.enter=pD;iD.selection.enter.prototype=nd;nd.append=mM.append;nd.empty=mM.empty;nd.node=mM.node;nd.call=mM.call;nd.size=mM.size;nd.select=function(j){var m=[],c,b,f,d,k;for(var i=-1,l=this.length;++i<l;){f=(d=this[i]).update;m.push(c=[]);c.parentNode=d.parentNode;for(var h=-1,a=d.length;++h<a;){if(k=d[h]){c.push(f[h]=b=j.call(d.parentNode,k.__data__,h,i));b.__data__=k.__data__}else{c.push(null)}}}return mJ(m)};nd.insert=function(b,a){if(arguments.length<2){a=i1(this)}return mM.insert.call(this,b,a)};function i1(a){var c,b;return function(f,j,k){var h=a[k].update,d=h.length,i;if(k!=b){b=k,c=0}if(j>=c){c=j+1}while(!(i=h[c])&&++c<d){}return i}}iD.select=function(b){var a;if(typeof b==="string"){a=[l5(b,p0)];a.parentNode=p0.documentElement}else{a=[b];a.parentNode=oi(b)}return mJ([a])};iD.selectAll=function(b){var a;if(typeof b==="string"){a=no(lU(b,p0));a.parentNode=p0.documentElement}else{a=no(b);a.parentNode=null}return mJ([a])};mM.on=function(c,b,d){var a=arguments.length;if(a<3){if(typeof c!=="string"){if(a<2){b=false}for(d in c){this.each(nD(d,c[d],b))}return this}if(a<2){return(a=this.node()["__on"+c])&&a._}d=false}return this.each(nD(c,b,d))};function nD(d,k,c){var b="__on"+d,i=d.indexOf("."),a=j9;if(i>0){d=d.slice(0,i)}var l=p8.get(d);if(l){d=l,a=pU}function j(){var m=this[b];if(m){this.removeEventListener(d,m,m.$);delete this[b]}}function f(){var m=a(k,no(arguments));j.call(this);this.addEventListener(d,this[b]=m,m.$=c);m._=k}function h(){var m=new RegExp("^__on([^.]+)"+iD.requote(d)+"$"),n;for(var o in this){if(n=o.match(m)){var p=this[o];this.removeEventListener(n[1],p,p.$);delete this[o]}}}return i?k?f:j:k?qT:h}var p8=iD.map({mouseenter:"mouseover",mouseleave:"mouseout"});if(p0){p8.forEach(function(a){if("on"+a in p0){p8.remove(a)}})}function j9(a,b){return function(d){var c=iD.event;iD.event=d;b[0]=this.__data__;try{a.apply(this,b)}finally{iD.event=c}}}function pU(a,c){var b=j9(a,c);return function(d){var f=this,h=d.relatedTarget;if(!h||h!==f&&!(h.compareDocumentPosition(f)&8)){b.call(f,d)}}}var nU,kl=0;function p5(a){var d=".dragsuppress-"+ ++kl,b="click"+d,f=iD.select(jK(a)).on("touchmove"+d,m3).on("dragstart"+d,m3).on("selectstart"+d,m3);if(nU==null){nU="onselectstart" in a?false:ms(a.style,"userSelect")}if(nU){var c=oi(a).style,h=c[nU];c[nU]="none"}return function(j){f.on(d,null);if(nU){c[nU]=h}if(j){var i=function(){f.on(b,null)};f.on(b,function(){m3();i()},true);setTimeout(i,0)}}}iD.mouse=function(a){return qt(a,qi())};var ph=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function qt(f,a){if(a.changedTouches){a=a.changedTouches[0]}var d=f.ownerSVGElement||f;if(d.createSVGPoint){var i=d.createSVGPoint();if(ph<0){var b=jK(f);if(b.scrollX||b.scrollY){d=iD.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var h=d[0][0].getScreenCTM();ph=!(h.f||h.e);d.remove()}}if(ph){i.x=a.pageX,i.y=a.pageY}else{i.x=a.clientX,i.y=a.clientY}i=i.matrixTransform(f.getScreenCTM().inverse());return[i.x,i.y]}var c=f.getBoundingClientRect();return[a.clientX-c.left-f.clientLeft,a.clientY-c.top-f.clientTop]}iD.touch=function(h,c,f){if(arguments.length<3){f=c,c=qi().changedTouches}if(c){for(var d=0,a=c.length,b;d<a;++d){if((b=c[d]).identifier===f){return qt(h,b)}}}};iD.behavior.drag=function(){var b=iJ(c,"drag","dragstart","dragend"),h=null,f=d(qT,iD.mouse,jK,"mousemove","mouseup"),a=d(iF,iD.touch,ji,"touchmove","touchend");function c(){this.on("mousedown.drag",f).on("touchstart.drag",a)}function d(l,k,m,i,j){return function(){var p=this,o=iD.event.target.correspondingElement||iD.event.target,u=p.parentNode,n=b.of(p,arguments),z=0,v=l(),y=".drag"+(v==null?"":"-"+v),r,t=iD.select(m(o)).on(i+y,A).on(j+y,x),q=p5(o),s=k(u,v);if(h){r=h.apply(p,arguments);r=[r.x-s[0],r.y-s[1]]}else{r=[0,0]}n({type:"dragstart"});function A(){var C=k(u,v),B,D;if(!C){return}B=C[0]-s[0];D=C[1]-s[1];z|=B|D;s=C;n({type:"drag",x:C[0]+r[0],y:C[1]+r[1],dx:B,dy:D})}function x(){if(!k(u,v)){return}t.on(i+y,null).on(j+y,null);q(z);n({type:"dragend"})}}}c.origin=function(i){if(!arguments.length){return h}h=i;return c};return iD.rebind(c,b,"on")};function iF(){return iD.event.changedTouches[0].identifier}iD.touches=function(b,a){if(arguments.length<2){a=qi().touches}return a?no(a).map(function(c){var d=qt(b,c);d.identifier=c.identifier;return d}):[]};var jf=0.000001,mz=jf*jf,jy=Math.PI,lR=2*jy,ku=lR-jf,k9=jy/2,o6=jy/180,jv=180/jy;function qs(a){return a>0?1:a<0?-1:0}function lI(b,c,a){return(c[0]-b[0])*(a[1]-b[1])-(c[1]-b[1])*(a[0]-b[0])}function qk(a){return a>1?0:a<-1?jy:Math.acos(a)}function nL(a){return a>1?k9:a<-1?-k9:Math.asin(a)}function mT(a){return((a=Math.exp(a))-1/a)/2}function qh(a){return((a=Math.exp(a))+1/a)/2}function j3(a){return((a=Math.exp(2*a))-1)/(a+1)}function qW(a){return(a=Math.sin(a/2))*a}var jD=Math.SQRT2,n7=2,oe=4;iD.interpolateZoom=function(s,t){var j=s[0],c=s[1],l=s[2],k=t[0],d=t[1],n=t[2],m=k-j,o=d-c,b=m*m+o*o,h,r;if(b<mz){r=Math.log(n/l)/jD;h=function(u){return[j+u*m,c+u*o,l*Math.exp(jD*u*r)]}}else{var a=Math.sqrt(b),p=(n*n-l*l+oe*b)/(2*l*n7*a),q=(n*n-l*l-oe*b)/(2*n*n7*a),f=Math.log(Math.sqrt(p*p+1)-p),i=Math.log(Math.sqrt(q*q+1)-q);r=(i-f)/jD;h=function(y){var x=y*r,v=qh(f),u=l/(n7*a)*(v*j3(jD*x+f)-mT(f));return[j+u*m,c+u*o,l*v/qh(jD*x+f)]}}h.duration=r*1000;return h};iD.behavior.zoom=function(){var r={x:0,y:0,k:1},f,z,b,h=[960,500],G=kT,K=250,j=0,u="mousedown.zoom",c="mousemove.zoom",s="mouseup.zoom",d,n="touchstart.zoom",A,q=iJ(H,"zoomstart","zoom","zoomend"),l,p,C,E;if(!kX){kX="onwheel" in p0?(mL=function(){return -iD.event.deltaY*(iD.event.deltaMode?120:1)},"wheel"):"onmousewheel" in p0?(mL=function(){return iD.event.wheelDelta},"mousewheel"):(mL=function(){return -iD.event.detail},"MozMousePixelScroll")}function H(L){L.on(u,F).on(kX+".zoom",o).on("dblclick.zoom",v).on(n,D)}H.event=function(L){L.each(function(){var M=q.of(this,arguments),N=r;if(pN){iD.select(this).transition().each("start.zoom",function(){r=this.__chart__||{x:0,y:0,k:1};y(M)}).tween("zoom:zoom",function(){var Q=h[0],R=h[1],S=z?z[0]:Q/2,O=z?z[1]:R/2,P=iD.interpolateZoom([(S-r.x)/r.k,(O-r.y)/r.k,Q/r.k],[(S-N.x)/N.k,(O-N.y)/N.k,Q/N.k]);return function(T){var V=P(T),U=Q/V[2];this.__chart__=r={x:S-V[0]*U,y:O-V[1]*U,k:U};i(M)}}).each("interrupt.zoom",function(){k(M)}).each("end.zoom",function(){k(M)})}else{this.__chart__=r;y(M);i(M);k(M)}})};H.translate=function(L){if(!arguments.length){return[r.x,r.y]}r={x:+L[0],y:+L[1],k:r.k};t();return H};H.scale=function(L){if(!arguments.length){return r.k}r={x:r.x,y:r.y,k:null};B(+L);t();return H};H.scaleExtent=function(L){if(!arguments.length){return G}G=L==null?kT:[+L[0],+L[1]];return H};H.center=function(L){if(!arguments.length){return b}b=L&&[+L[0],+L[1]];return H};H.size=function(L){if(!arguments.length){return h}h=L&&[+L[0],+L[1]];return H};H.duration=function(L){if(!arguments.length){return K}K=+L;return H};H.x=function(L){if(!arguments.length){return p}p=L;l=L.copy();r={x:0,y:0,k:1};return H};H.y=function(L){if(!arguments.length){return E}E=L;C=L.copy();r={x:0,y:0,k:1};return H};function I(L){return[(L[0]-r.x)/r.k,(L[1]-r.y)/r.k]}function x(L){return[L[0]*r.k+r.x,L[1]*r.k+r.y]}function B(L){r.k=Math.max(G[0],Math.min(G[1],L))}function a(L,M){M=x(M);r.x+=L[0]-M[0];r.y+=L[1]-M[1]}function m(M,L,O,N){M.__chart__={x:r.x,y:r.y,k:r.k};B(Math.pow(2,N));a(z=L,O);M=iD.select(M);if(K>0){M=M.transition().duration(K)}M.call(H.event)}function t(){if(p){p.domain(l.range().map(function(L){return(L-r.x)/r.k}).map(l.invert))}if(E){E.domain(C.range().map(function(L){return(L-r.y)/r.k}).map(C.invert))}}function y(L){if(!j++){L({type:"zoomstart"})}}function i(L){t();L({type:"zoom",scale:r.k,translate:[r.x,r.y]})}function k(L){if(!--j){L({type:"zoomend"}),z=null}}function F(){var M=this,Q=q.of(M,arguments),S=0,P=iD.select(jK(M)).on(c,O).on(s,L),R=I(iD.mouse(M)),N=p5(M);ol.call(M);y(Q);function O(){S=1;a(iD.mouse(M),R);i(Q)}function L(){P.on(c,null).on(s,null);N(S);k(Q)}}function D(){var V=this,T=q.of(V,arguments),X={},R=0,U,L=".zoom-"+iD.event.changedTouches[0].identifier,Z="touchmove"+L,N="touchend"+L,W=[],Q=iD.select(V),Y=p5(V);S();y(T);Q.on(u,null).on(n,S);function M(){var aa=iD.touches(V);U=r.k;aa.forEach(function(ab){if(ab.identifier in X){X[ab.identifier]=I(ab)}});return aa}function S(){var aj=iD.event.target;iD.select(aj).on(Z,P).on(N,O);W.push(aj);var ac=iD.event.changedTouches;for(var ab=0,ad=ac.length;ab<ad;++ab){X[ac[ab].identifier]=null}var aa=M(),ae=Date.now();if(aa.length===1){if(ae-A<500){var af=aa[0];m(V,af,X[af.identifier],Math.floor(Math.log(r.k)/Math.LN2)+1);m3()}A=ae}else{if(aa.length>1){var af=aa[0],ag=aa[1],ah=af[0]-ag[0],ai=af[1]-ag[1];R=ah*ah+ai*ai}}}function P(){var ac=iD.touches(V),ah,ae,ai,af;ol.call(V);for(var ad=0,ag=ac.length;ad<ag;++ad,af=null){ai=ac[ad];if(af=X[ai.identifier]){if(ae){break}ah=ai,ae=af}}if(af){var aa=(aa=ai[0]-ah[0])*aa+(aa=ai[1]-ah[1])*aa,ab=R&&Math.sqrt(aa/R);ah=[(ah[0]+ai[0])/2,(ah[1]+ai[1])/2];ae=[(ae[0]+af[0])/2,(ae[1]+af[1])/2];B(ab*U)}A=null;a(ah,ae);i(T)}function O(){if(iD.event.touches.length){var ab=iD.event.changedTouches;for(var ac=0,aa=ab.length;ac<aa;++ac){delete X[ab[ac].identifier]}for(var ad in X){return void M()}}iD.selectAll(W).on(L,null);Q.on(u,F).on(n,D);Y();k(T)}}function o(){var L=q.of(this,arguments);if(d){clearTimeout(d)}else{ol.call(this),f=I(z=b||iD.mouse(this)),y(L)}d=setTimeout(function(){d=null;k(L)},50);m3();B(Math.pow(2,mL()*0.002)*r.k);a(z,f);i(L)}function v(){var L=iD.mouse(this),M=Math.log(r.k)/Math.LN2;m(this,L,I(L),iD.event.shiftKey?Math.ceil(M)-1:Math.floor(M)+1)}return iD.rebind(H,q,"on")};var kT=[0,Infinity],mL,kX;iD.color=jQ;function jQ(){}jQ.prototype.toString=function(){return this.rgb()+""};iD.hsl=mr;function mr(a,b,c){return this instanceof mr?void (this.h=+a,this.s=+b,this.l=+c):arguments.length<2?a instanceof mr?new mr(a.h,a.s,a.l):qv(""+a,iV,mr):new mr(a,b,c)}var kL=mr.prototype=new jQ();kL.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);return new mr(this.h,this.s,this.l/a)};kL.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new mr(this.h,this.s,a*this.l)};kL.rgb=function(){return o4(this.h,this.s,this.l)};function o4(b,c,i){var d,f;b=isNaN(b)?0:(b%=360)<0?b+360:b;c=isNaN(c)?0:c<0?0:c>1?1:c;i=i<0?0:i>1?1:i;f=i<=0.5?i*(1+c):i+c-i*c;d=2*i-f;function h(j){if(j>360){j-=360}else{if(j<0){j+=360}}if(j<60){return d+(f-d)*j/60}if(j<180){return f}if(j<240){return d+(f-d)*(240-j)/60}return d}function a(j){return Math.round(h(j)*255)}return new k2(a(b+120),a(b),a(b-120))}iD.hcl=ql;function ql(b,a,c){return this instanceof ql?void (this.h=+b,this.c=+a,this.l=+c):arguments.length<2?b instanceof ql?new ql(b.h,b.c,b.l):b instanceof nn?kq(b.l,b.a,b.b):kq((b=oJ((b=iD.rgb(b)).r,b.g,b.b)).l,b.a,b.b):new ql(b,a,c)}var iL=ql.prototype=new jQ();iL.brighter=function(a){return new ql(this.h,this.c,Math.min(100,this.l+or*(arguments.length?a:1)))};iL.darker=function(a){return new ql(this.h,this.c,Math.max(0,this.l-or*(arguments.length?a:1)))};iL.rgb=function(){return qj(this.h,this.c,this.l).rgb()};function qj(b,a,c){if(isNaN(b)){b=0}if(isNaN(a)){a=0}return new nn(c,Math.cos(b*=o6)*a,Math.sin(b)*a)}iD.lab=nn;function nn(a,b,c){return this instanceof nn?void (this.l=+a,this.a=+b,this.b=+c):arguments.length<2?a instanceof nn?new nn(a.l,a.a,a.b):a instanceof ql?qj(a.h,a.c,a.l):oJ((a=k2(a)).r,a.g,a.b):new nn(a,b,c)}var or=18;var o1=0.95047,o7=1,pg=1.08883;var iT=nn.prototype=new jQ();iT.brighter=function(a){return new nn(Math.min(100,this.l+or*(arguments.length?a:1)),this.a,this.b)};iT.darker=function(a){return new nn(Math.max(0,this.l-or*(arguments.length?a:1)),this.a,this.b)};iT.rgb=function(){return qY(this.l,this.a,this.b)};function qY(c,d,f){var a=(c+16)/116,h=a+d/500,b=a-f/200;h=k8(h)*o1;a=k8(a)*o7;b=k8(b)*pg;return new k2(nX(3.2404542*h-1.5371385*a-0.4985314*b),nX(-0.969266*h+1.8760108*a+0.041556*b),nX(0.0556434*h-0.2040259*a+1.0572252*b))}function kq(a,b,c){return a>0?new ql(Math.atan2(c,b)*jv,Math.sqrt(b*b+c*c),a):new ql(NaN,NaN,a)}function k8(a){return a>0.206893034?a*a*a:(a-4/29)/7.787037}function i9(a){return a>0.008856?Math.pow(a,1/3):7.787037*a+4/29}function nX(a){return Math.round(255*(a<=0.00304?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}iD.rgb=k2;function k2(a,b,c){return this instanceof k2?void (this.r=~~a,this.g=~~b,this.b=~~c):arguments.length<2?a instanceof k2?new k2(a.r,a.g,a.b):qv(""+a,k2,o4):new k2(a,b,c)}function mw(a){return new k2(a>>16,a>>8&255,a&255)}function lO(a){return mw(a)+""}var mp=k2.prototype=new jQ();mp.brighter=function(d){d=Math.pow(0.7,arguments.length?d:1);var a=this.r,b=this.g,f=this.b,c=30;if(!a&&!b&&!f){return new k2(c,c,c)}if(a&&a<c){a=c}if(b&&b<c){b=c}if(f&&f<c){f=c}return new k2(Math.min(255,a/d),Math.min(255,b/d),Math.min(255,f/d))};mp.darker=function(a){a=Math.pow(0.7,arguments.length?a:1);return new k2(a*this.r,a*this.g,a*this.b)};mp.hsl=function(){return iV(this.r,this.g,this.b)};mp.toString=function(){return"#"+mS(this.r)+mS(this.g)+mS(this.b)};function mS(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function qv(h,j,f){var b=0,k=0,i=0,c,d,a;c=/([a-z]+)\((.*)\)/.exec(h=h.toLowerCase());if(c){d=c[2].split(",");switch(c[1]){case"hsl":return f(parseFloat(d[0]),parseFloat(d[1])/100,parseFloat(d[2])/100);case"rgb":return j(lQ(d[0]),lQ(d[1]),lQ(d[2]))}}if(a=p2.get(h)){return j(a.r,a.g,a.b)}if(h!=null&&h.charAt(0)==="#"&&!isNaN(a=parseInt(h.slice(1),16))){if(h.length===4){b=(a&3840)>>4;b=b>>4|b;k=a&240;k=k>>4|k;i=a&15;i=i<<4|i}else{if(h.length===7){b=(a&16711680)>>16;k=(a&65280)>>8;i=a&255}}}return j(b,k,i)}function iV(b,i,f){var k=Math.min(b/=255,i/=255,f/=255),d=Math.max(b,i,f),h=d-k,j,c,a=(d+k)/2;if(h){c=a<0.5?h/(d+k):h/(2-d-k);if(b==d){j=(i-f)/h+(i<f?6:0)}else{if(i==d){j=(f-b)/h+2}else{j=(b-i)/h+4}}j*=60}else{j=NaN;c=a>0&&a<1?0:j}return new mr(j,c,a)}function oJ(c,d,f){c=nT(c);d=nT(d);f=nT(f);var h=i9((0.4124564*c+0.3575761*d+0.1804375*f)/o1),a=i9((0.2126729*c+0.7151522*d+0.072175*f)/o7),b=i9((0.0193339*c+0.119192*d+0.9503041*f)/pg);return nn(116*a-16,500*(h-a),200*(a-b))}function nT(a){return(a/=255)<=0.04045?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function lQ(a){var b=parseFloat(a);return a.charAt(a.length-1)==="%"?Math.round(b*2.55):b}var p2=iD.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});p2.forEach(function(b,a){p2.set(b,mw(a))});function oE(a){return typeof a==="function"?a:function(){return a}}iD.functor=oE;iD.xhr=oh(ji);function oh(a){return function(d,c,b){if(arguments.length===2&&typeof c==="function"){b=c,c=null}return ke(d,c,a,b)}}function ke(b,l,j,d){var c={},f=iD.dispatch("beforesend","progress","load","error"),k={},i=new XMLHttpRequest(),h=null;if(this.XDomainRequest&&!("withCredentials" in i)&&/^(http(s)?:)?\/\//.test(b)){i=new XDomainRequest()}"onload" in i?i.onload=i.onerror=a:i.onreadystatechange=function(){i.readyState>3&&a()};function a(){var n=i.status,o;if(!n&&lq(i)||n>=200&&n<300||n===304){try{o=j.call(c,i)}catch(m){f.error.call(c,m);return}f.load.call(c,o)}else{f.error.call(c,i)}}i.onprogress=function(n){var m=iD.event;iD.event=n;try{f.progress.call(c,i)}finally{iD.event=m}};c.header=function(n,m){n=(n+"").toLowerCase();if(arguments.length<2){return k[n]}if(m==null){delete k[n]}else{k[n]=m+""}return c};c.mimeType=function(m){if(!arguments.length){return l}l=m==null?null:m+"";return c};c.responseType=function(m){if(!arguments.length){return h}h=m;return c};c.response=function(m){j=m;return c};["get","post"].forEach(function(m){c[m]=function(){return c.send.apply(c,[m].concat(no(arguments)))}});c.send=function(m,o,n){if(arguments.length===2&&typeof o==="function"){n=o,o=null}i.open(m,b,true);if(l!=null&&!("accept" in k)){k.accept=l+",*/*"}if(i.setRequestHeader){for(var p in k){i.setRequestHeader(p,k[p])}}if(l!=null&&i.overrideMimeType){i.overrideMimeType(l)}if(h!=null){i.responseType=h}if(n!=null){c.on("error",n).on("load",function(q){n(null,q)})}f.beforesend.call(c,i);i.send(o==null?null:o);return c};c.abort=function(){i.abort();return c};iD.rebind(c,f,"on");return d==null?c:c.get(on(d))}function on(a){return a.length===1?function(c,b){a(c==null?b:null)}:a}function lq(a){var b=a.responseType;return b&&b!=="text"?a.response:a.responseText}iD.dsv=function(b,a){var j=new RegExp('["'+b+"\n]"),h=b.charCodeAt(0);function d(o,m,l){if(arguments.length<3){l=m,m=null}var n=ke(o,a,m==null?i:k(m),l);n.row=function(p){return arguments.length?n.response((m=p)==null?i:k(p)):m};return n}function i(l){return d.parse(l.responseText)}function k(l){return function(m){return d.parse(m.responseText,l)}}d.parse=function(l,n){var m;return d.parseRows(l,function(o,p){if(m){return m(o,p-1)}var q=new Function("d","return {"+o.map(function(s,r){return JSON.stringify(s)+": d["+r+"]"}).join(",")+"}");m=n?function(r,s){return n(q(r),s)}:q})};d.parseRows=function(m,r){var u={},s={},x=[],q=m.length,n=0,v=0,l,p;function t(){if(n>=q){return s}if(p){return p=false,u}var B=n;if(m.charCodeAt(B)===34){var A=B;while(A++<q){if(m.charCodeAt(A)===34){if(m.charCodeAt(A+1)!==34){break}++A}}n=A+2;var z=m.charCodeAt(A+1);if(z===13){p=true;if(m.charCodeAt(A+2)===10){++n}}else{if(z===10){p=true}}return m.slice(B+1,A).replace(/""/g,'"')}while(n<q){var z=m.charCodeAt(n++),y=1;if(z===10){p=true}else{if(z===13){p=true;if(m.charCodeAt(n)===10){++n,++y}}else{if(z!==h){continue}}}return m.slice(B,n-y)}return m.slice(B)}while((l=t())!==s){var o=[];while(l!==u&&l!==s){o.push(l);l=t()}if(r&&(o=r(o,v++))==null){continue}x.push(o)}return x};d.format=function(l){if(Array.isArray(l[0])){return d.formatRows(l)}var m=new l2(),n=[];l.forEach(function(o){for(var p in o){if(!m.has(p)){n.push(m.add(p))}}});return[n.map(f).join(b)].concat(l.map(function(o){return n.map(function(p){return f(o[p])}).join(b)})).join("\n")};d.formatRows=function(l){return l.map(c).join("\n")};function c(l){return l.map(f).join(b)}function f(l){return j.test(l)?'"'+l.replace(/\"/g,'""')+'"':l}return d};iD.csv=iD.dsv(",","text/csv");iD.tsv=iD.dsv("	","text/tab-separated-values");var oF,qf,nc,kw,ix=this[ms(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};iD.timer=function(){k1.apply(this,arguments)};function k1(a,h,d){var b=arguments.length;if(b<2){h=0}if(b<3){d=Date.now()}var f=d+h,c={c:a,t:f,n:null};if(qf){qf.n=c}else{oF=c}qf=c;if(!nc){kw=clearTimeout(kw);nc=1;ix(iw)}return c}function iw(){var a=qg(),b=qm()-a;if(b>24){if(isFinite(b)){clearTimeout(kw);kw=setTimeout(iw,b)}nc=0}else{nc=1;ix(iw)}}iD.timer.flush=function(){qg();qm()};function qg(){var b=Date.now(),a=oF;while(a){if(b>=a.t&&a.c(b-a.t)){a.c=null}a=a.n}return b}function qm(){var b,c=oF,a=Infinity;while(c){if(c.c){if(c.t<a){a=c.t}c=(b=c).n}else{c=b?b.n=c.n:oF=c.n}}qf=b;return a}function lu(b,a){return a-(b?Math.ceil(Math.log(b)/Math.LN10):1)}iD.round=function(b,a){return a?Math.round(b*(a=Math.pow(10,a)))/a:Math.round(b)};var mV=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(ns);iD.formatPrefix=function(a,c){var b=0;if(a=+a){if(a<0){a*=-1}if(c){a=iD.round(a,lu(a,c))}b=1+Math.floor(1e-12+Math.log(a)/Math.LN10);b=Math.max(-24,Math.min(24,Math.floor((b-1)/3)*3))}return mV[8+b/3]};function ns(a,b){var c=Math.pow(10,o8(8-b)*3);return{scale:b>8?function(d){return d/c}:function(d){return d*c},symbol:a}}function oG(h){var c=h.decimal,a=h.thousands,b=h.grouping,d=h.currency,f=b&&a?function(l,o){var i=l.length,j=[],k=0,m=b[0],n=0;while(i>0&&m>0){if(n+m+1>o){m=Math.max(1,o-n)}j.push(l.substring(i-=m,i+m));if((n+=m+1)>o){break}m=b[k=(k+1)%b.length]}return j.reverse().join(a)}:ji;return function(i){var n=mG.exec(i),t=n[1]||" ",l=n[2]||">",y=n[3]||"-",v=n[4]||"",s=n[5],z=+n[6],r=n[7],o=n[8],k=n[9],x=1,m="",u="",p=false,j=true;if(o){o=+o.substring(1)}if(s||t==="0"&&l==="="){s=t="0";l="="}switch(k){case"n":r=true;k="g";break;case"%":x=100;u="%";k="f";break;case"p":x=100;u="%";k="r";break;case"b":case"o":case"x":case"X":if(v==="#"){m="0"+k.toLowerCase()}case"c":j=false;case"d":p=true;o=0;break;case"s":x=-1;k="r";break}if(v==="$"){m=d[0],u=d[1]}if(k=="r"&&!o){k="g"}if(o!=null){if(k=="g"){o=Math.max(1,Math.min(21,o))}else{if(k=="e"||k=="f"){o=Math.max(0,Math.min(20,o))}}}k=m0.get(k)||oK;var q=s&&r;return function(B){var D=u;if(p&&B%1){return""}var H=B<0||B===0&&1/B<0?(B=-B,"-"):y==="-"?"":y;if(x<0){var A=iD.formatPrefix(B,o);B=A.scale(B);D=A.symbol+u}else{B*=x}B=k(B,o);var F=B.lastIndexOf("."),C,K;if(F<0){var G=j?B.lastIndexOf("e"):-1;if(G<0){C=B,K=""}else{C=B.substring(0,G),K=B.substring(G)}}else{C=B.substring(0,F);K=c+B.substring(F+1)}if(!s&&r){C=f(C,Infinity)}var I=m.length+C.length+K.length+(q?0:H.length),E=I<z?new Array(I=z-I+1).join(t):"";if(q){C=f(E+C,E.length?z-K.length:Infinity)}H+=m;B=C+K;return(l==="<"?H+B+E:l===">"?E+H+B:l==="^"?E.substring(0,I>>=1)+H+B+E.substring(I):H+(q?B:E+B))+D}}}var mG=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i;var m0=iD.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(b,a){return b.toPrecision(a)},e:function(b,a){return b.toExponential(a)},f:function(b,a){return b.toFixed(a)},r:function(b,a){return(b=iD.round(b,lu(b,a))).toFixed(Math.max(0,Math.min(20,lu(b*(1+1e-15),a))))}});function oK(a){return a+""}var lv=iD.time={},iz=Date;function nv(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}nv.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){mb.setUTCDate.apply(this._,arguments)},setDay:function(){mb.setUTCDay.apply(this._,arguments)},setFullYear:function(){mb.setUTCFullYear.apply(this._,arguments)},setHours:function(){mb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){mb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){mb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){mb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){mb.setUTCSeconds.apply(this._,arguments)},setTime:function(){mb.setTime.apply(this._,arguments)}};var mb=Date.prototype;function pY(h,b,a){function c(n){var l=h(n),m=j(l,1);return n-l<m-n?l:m}function d(l){b(l=h(new iz(l-1)),1);return l}function j(l,m){b(l=new iz(+l),m);return l}function i(n,o,p){var m=d(n),l=[];if(p>1){while(m<o){if(!(a(m)%p)){l.push(new Date(+m))}b(m,1)}}else{while(m<o){l.push(new Date(+m)),b(m,1)}}return l}function k(l,m,n){try{iz=nv;var o=new nv();o._=l;return i(o,m,n)}finally{iz=Date}}h.floor=h;h.round=c;h.ceil=d;h.offset=j;h.range=i;var f=h.utc=m8(h);f.floor=f;f.round=m8(c);f.ceil=m8(d);f.offset=m8(j);f.range=k;return h}function m8(a){return function(c,d){try{iz=nv;var b=new nv();b._=c;return a(b,d)._}finally{iz=Date}}}lv.year=pY(function(a){a=lv.day(a);a.setMonth(0,1);return a},function(b,a){b.setFullYear(b.getFullYear()+a)},function(a){return a.getFullYear()});lv.years=lv.year.range;lv.years.utc=lv.year.utc.range;lv.day=pY(function(a){var b=new iz(2000,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());return b},function(b,a){b.setDate(b.getDate()+a)},function(a){return a.getDate()-1});lv.days=lv.day.range;lv.days.utc=lv.day.utc.range;lv.dayOfYear=function(b){var a=lv.year(b);return Math.floor((b-a-(b.getTimezoneOffset()-a.getTimezoneOffset())*60000)/86400000)};["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(b,a){a=7-a;var c=lv[b]=pY(function(d){(d=lv.day(d)).setDate(d.getDate()-(d.getDay()+a)%7);return d},function(f,d){f.setDate(f.getDate()+Math.floor(d)*7)},function(d){var f=lv.year(d).getDay();return Math.floor((lv.dayOfYear(d)+(f+a)%7)/7)-(f!==a)});lv[b+"s"]=c.range;lv[b+"s"].utc=c.utc.range;lv[b+"OfYear"]=function(d){var f=lv.year(d).getDay();return Math.floor((lv.dayOfYear(d)+(f+a)%7)/7)}});lv.week=lv.sunday;lv.weeks=lv.sunday.range;lv.weeks.utc=lv.sunday.utc.range;lv.weekOfYear=lv.sundayOfYear;function pR(c){var p=c.dateTime,o=c.date,F=c.time,y=c.periods,G=c.days,x=c.shortDays,r=c.months,C=c.shortMonths;function q(K){var H=K.length;function I(P){var Q=[],O=-1,R=0,L,M,N;while(++O<H){if(K.charCodeAt(O)===37){Q.push(K.slice(R,O));if((M=qM[L=K.charAt(++O)])!=null){L=K.charAt(++O)}if(N=u[L]){L=N(P,M==null?L==="e"?" ":"0":M)}Q.push(L);R=O+1}}Q.push(K.slice(R,O));return Q.join("")}I.parse=function(N){var L={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},M=i(L,K,N,0);if(M!=N.length){return null}if("p" in L){L.H=L.H%12+L.p*12}var P=L.Z!=null&&iz!==nv,O=new (P?nv:iz)();if("j" in L){O.setFullYear(L.y,0,L.j)}else{if("W" in L||"U" in L){if(!("w" in L)){L.w="W" in L?1:0}O.setFullYear(L.y,0,1);O.setFullYear(L.y,0,"W" in L?(L.w+6)%7+L.W*7-(O.getDay()+5)%7:L.w+L.U*7-(O.getDay()+6)%7)}else{O.setFullYear(L.y,L.m,L.d)}}O.setHours(L.H+(L.Z/100|0),L.M+L.Z%100,L.S,L.L);return P?O._:O};I.toString=function(){return K};return I}function i(I,O,Q,H){var P,M,N,R=0,L=O.length,K=Q.length;while(R<L){if(H>=K){return -1}P=O.charCodeAt(R++);if(P===37){N=O.charAt(R++);M=a[N in qM?O.charAt(R++):N];if(!M||(H=M(I,Q,H))<0){return -1}}else{if(P!=Q.charCodeAt(H++)){return -1}}}return H}q.utc=function(I){var K=q(I);function H(M){try{iz=nv;var L=new iz();L._=M;return K(L)}finally{iz=Date}}H.parse=function(L){try{iz=nv;var M=K.parse(L);return M&&M._}finally{iz=Date}};H.toString=K.toString;return H};q.multi=q.utc.multi=ja;var m=iD.map(),k=oX(G),h=jU(G),l=oX(x),B=jU(x),f=oX(r),b=jU(r),v=oX(C),D=jU(C);y.forEach(function(H,I){m.set(H.toLowerCase(),I)});var u={a:function(H){return x[H.getDay()]},A:function(H){return G[H.getDay()]},b:function(H){return C[H.getMonth()]},B:function(H){return r[H.getMonth()]},c:q(p),d:function(H,I){return lJ(H.getDate(),I,2)},e:function(H,I){return lJ(H.getDate(),I,2)},H:function(H,I){return lJ(H.getHours(),I,2)},I:function(H,I){return lJ(H.getHours()%12||12,I,2)},j:function(H,I){return lJ(1+lv.dayOfYear(H),I,3)},L:function(H,I){return lJ(H.getMilliseconds(),I,3)},m:function(H,I){return lJ(H.getMonth()+1,I,2)},M:function(H,I){return lJ(H.getMinutes(),I,2)},p:function(H){return y[+(H.getHours()>=12)]},S:function(H,I){return lJ(H.getSeconds(),I,2)},U:function(H,I){return lJ(lv.sundayOfYear(H),I,2)},w:function(H){return H.getDay()},W:function(H,I){return lJ(lv.mondayOfYear(H),I,2)},x:q(o),X:q(F),y:function(H,I){return lJ(H.getFullYear()%100,I,2)},Y:function(H,I){return lJ(H.getFullYear()%10000,I,4)},Z:kQ,"%":function(){return"%"}};var a={a:t,A:E,b:n,B:d,c:z,d:qF,e:qF,H:qJ,I:qJ,j:pj,L:jL,m:km,M:ok,p:j,S:mQ,U:oo,w:m1,W:nK,x:s,X:A,y:oR,Y:qp,Z:ij,"%":j0};function t(I,K,H){l.lastIndex=0;var L=l.exec(K.slice(H));return L?(I.w=B.get(L[0].toLowerCase()),H+L[0].length):-1}function E(I,K,H){k.lastIndex=0;var L=k.exec(K.slice(H));return L?(I.w=h.get(L[0].toLowerCase()),H+L[0].length):-1}function n(I,K,H){v.lastIndex=0;var L=v.exec(K.slice(H));return L?(I.m=D.get(L[0].toLowerCase()),H+L[0].length):-1}function d(I,K,H){f.lastIndex=0;var L=f.exec(K.slice(H));return L?(I.m=b.get(L[0].toLowerCase()),H+L[0].length):-1}function z(I,K,H){return i(I,u.c.toString(),K,H)}function s(I,K,H){return i(I,u.x.toString(),K,H)}function A(I,K,H){return i(I,u.X.toString(),K,H)}function j(I,K,H){var L=m.get(K.slice(H,H+=2).toLowerCase());return L==null?-1:(I.p=L,H)}return q}var qM={"-":"",_:" ","0":"0"},lX=/^\s*\d+/,mW=/^%/;function lJ(b,a,d){var h=b<0?"-":"",f=(h?-b:b)+"",c=f.length;return h+(c<d?new Array(d-c+1).join(a)+f:f)}function oX(a){return new RegExp("^(?:"+a.map(iD.requote).join("|")+")","i")}function jU(b){var c=new qS(),d=-1,a=b.length;while(++d<a){c.set(b[d].toLowerCase(),d)}return c}function m1(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+1));return a?(c.w=+a[0],b+a[0].length):-1}function oo(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b));return a?(c.U=+a[0],b+a[0].length):-1}function nK(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b));return a?(c.W=+a[0],b+a[0].length):-1}function qp(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+4));return a?(c.y=+a[0],b+a[0].length):-1}function oR(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+2));return a?(c.y=pS(+a[0]),b+a[0].length):-1}function ij(b,c,a){return/^[+-]\d{4}$/.test(c=c.slice(a,a+5))?(b.Z=-c,a+5):-1}function pS(a){return a+(a>68?1900:2000)}function km(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+2));return a?(c.m=a[0]-1,b+a[0].length):-1}function qF(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+2));return a?(c.d=+a[0],b+a[0].length):-1}function pj(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+3));return a?(c.j=+a[0],b+a[0].length):-1}function qJ(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+2));return a?(c.H=+a[0],b+a[0].length):-1}function ok(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+2));return a?(c.M=+a[0],b+a[0].length):-1}function mQ(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+2));return a?(c.S=+a[0],b+a[0].length):-1}function jL(c,d,b){lX.lastIndex=0;var a=lX.exec(d.slice(b,b+3));return a?(c.L=+a[0],b+a[0].length):-1}function kQ(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=o8(b)/60|0,f=o8(b)%60;return c+lJ(d,"0",2)+lJ(f,"0",2)}function j0(c,d,b){mW.lastIndex=0;var a=mW.exec(d.slice(b,b+1));return a?b+a[0].length:-1}function ja(c){var a=c.length,b=-1;while(++b<a){c[b][0]=this(c[b][0])}return function(h){var f=0,d=c[f];while(!d[1](h)){d=c[++f]}return d[0](h)}}iD.locale=function(a){return{numberFormat:oG(a),timeFormat:pR(a)}};var mq=iD.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});iD.format=mq.numberFormat;iD.geo={};function kD(){}kD.prototype={s:0,t:0,add:function(a){l9(a,this.t,jd);l9(jd.s,this.s,this);if(this.s){this.t+=jd.t}else{this.s=jd.t}},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var jd=new kD();function l9(c,d,a){var f=a.s=c+d,h=f-c,b=f-h;a.t=c-b+(d-h)}iD.geo.stream=function(b,a){if(b&&mK.hasOwnProperty(b.type)){mK[b.type](b,a)}else{qK(b,a)}};function qK(a,b){if(a&&l6.hasOwnProperty(a.type)){l6[a.type](a,b)}}var mK={Feature:function(b,a){qK(b.geometry,a)},FeatureCollection:function(f,b){var c=f.features,d=-1,a=c.length;while(++d<a){qK(c[d].geometry,b)}}};var l6={Sphere:function(b,a){a.sphere()},Point:function(b,a){b=b.coordinates;a.point(b[0],b[1],b[2])},MultiPoint:function(f,c){var b=f.coordinates,d=-1,a=b.length;while(++d<a){f=b[d],c.point(f[0],f[1],f[2])}},LineString:function(b,a){nl(b.coordinates,a,0)},MultiLineString:function(f,c){var b=f.coordinates,d=-1,a=b.length;while(++d<a){nl(b[d],c,0)}},Polygon:function(b,a){iM(b.coordinates,a)},MultiPolygon:function(f,c){var b=f.coordinates,d=-1,a=b.length;while(++d<a){iM(b[d],c)}},GeometryCollection:function(f,b){var c=f.geometries,d=-1,a=c.length;while(++d<a){qK(c[d],b)}}};function nl(c,d,h){var f=-1,a=c.length-h,b;d.lineStart();while(++f<a){b=c[f],d.point(b[0],b[1],b[2])}d.lineEnd()}function iM(b,c){var d=-1,a=b.length;c.polygonStart();while(++d<a){nl(b[d],c,1)}c.polygonEnd()}iD.geo.area=function(a){id=0;iD.geo.stream(a,iG);return id};var id,lb=new kD();var iG={sphere:function(){id+=4*jy},point:qT,lineStart:qT,lineEnd:qT,polygonStart:function(){lb.reset();iG.lineStart=qz},polygonEnd:function(){var a=2*lb;id+=a<0?4*jy+a:a;iG.lineStart=iG.lineEnd=iG.point=qT}};function qz(){var f,h,c,d,b;iG.point=function(i,j){iG.point=a;c=(f=i)*o6,d=Math.cos(j=(h=j)*o6/2+jy/4),b=Math.sin(j)};function a(p,i){p*=o6;i=i*o6/2+jy/4;var m=p-c,n=m>=0?1:-1,l=n*m,r=Math.cos(i),o=Math.sin(i),q=b*o,j=d*r+q*Math.cos(l),k=q*n*Math.sin(l);lb.add(Math.atan2(k,j));c=p,d=r,b=o}iG.lineEnd=function(){a(f,h)}}function pE(d){var b=d[0],c=d[1],a=Math.cos(c);return[a*Math.cos(b),a*Math.sin(b),Math.sin(c)]}function pv(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function n8(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function pn(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function jw(b,a){return[b[0]*a,b[1]*a,b[2]*a]}function kn(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function jO(a){return[Math.atan2(a[1],a[0]),nL(a[2])]}function l3(a,b){return o8(a[0]-b[0])<jf&&o8(a[1]-b[1])<jf}iD.geo.bounds=function(){var u,a,x,c,t,l,i,s,p,r,o;var y={point:h,lineStart:n,lineEnd:d,polygonStart:function(){y.point=f;y.lineStart=q;y.lineEnd=j;p=0;iG.polygonStart()},polygonEnd:function(){iG.polygonEnd();y.point=h;y.lineStart=n;y.lineEnd=d;if(lb<0){u=-(x=180),a=-(c=90)}else{if(p>jf){c=90}else{if(p<-jf){a=-90}}}o[0]=u,o[1]=x}};function h(z,A){r.push(o=[u=z,x=z]);if(A<a){a=A}if(A>c){c=A}}function v(F,z){var K=pE([F*o6,z*o6]);if(s){var D=n8(s,K),C=[D[1],-D[0],0],E=n8(C,D);kn(E);E=jO(E);var B=F-t,A=B>0?1:-1,I=E[0]*jv*A,G=o8(B)>180;if(G^(A*t<I&&I<A*F)){var H=E[1]*jv;if(H>c){c=H}}else{if(I=(I+360)%360-180,G^(A*t<I&&I<A*F)){var H=-E[1]*jv;if(H<a){a=H}}else{if(z<a){a=z}if(z>c){c=z}}}if(G){if(F<t){if(b(u,F)>b(u,x)){x=F}}else{if(b(F,x)>b(u,x)){u=F}}}else{if(x>=u){if(F<u){u=F}if(F>x){x=F}}else{if(F>t){if(b(u,F)>b(u,x)){x=F}}else{if(b(F,x)>b(u,x)){u=F}}}}}else{h(F,z)}s=K,t=F}function n(){y.point=v}function d(){o[0]=u,o[1]=x;y.point=h;s=null}function f(A,B){if(s){var z=A-t;p+=o8(z)>180?z+(z>0?360:-360):z}else{l=A,i=B}iG.point(A,B);v(A,B)}function q(){iG.lineStart()}function j(){f(l,i);iG.lineEnd();if(o8(p)>jf){u=-(x=180)}o[0]=u,o[1]=x;s=null}function b(z,A){return(A-=z)<0?A+360:A}function k(z,A){return z[0]-A[0]}function m(A,z){return z[0]<=z[1]?z[0]<=A&&A<=z[1]:A<z[0]||z[1]<A}return function(B){c=x=-(u=a=Infinity);r=[];iD.geo.stream(B,y);var z=r.length;if(z){r.sort(k);for(var C=1,E=r[0],F,G=[E];C<z;++C){F=r[C];if(m(F[0],E)||m(F[1],E)){if(b(E[0],F[1])>b(E[0],E[1])){E[1]=F[1]}if(b(F[0],E[1])>b(E[0],E[1])){E[0]=F[0]}}else{G.push(E=F)}}var A=-Infinity,D;for(var z=G.length-1,C=0,E=G[z],F;C<=z;E=F,++C){F=G[C];if((D=b(E[1],F[0]))>A){A=D,u=F[0],x=E[1]}}}r=o=null;return u===Infinity||a===Infinity?[[NaN,NaN],[NaN,NaN]]:[[u,a],[x,c]]}}();iD.geo.centroid=function(c){lD=oc=nA=mi=pG=nE=mj=pM=nG=mm=pP=0;iD.geo.stream(c,js);var d=nG,a=mm,b=pP,f=d*d+a*a+b*b;if(f<mz){d=nE,a=mj,b=pM;if(oc<jf){d=nA,a=mi,b=pG}f=d*d+a*a+b*b;if(f<mz){return[NaN,NaN]}}return[Math.atan2(a,d)*jv,nL(b/Math.sqrt(f))*jv]};var lD,oc,nA,mi,pG,nE,mj,pM,nG,mm,pP;var js={sphere:qT,point:nZ,lineStart:kp,lineEnd:qV,polygonStart:function(){js.lineStart=ow},polygonEnd:function(){js.lineStart=kp}};function nZ(b,c){b*=o6;var a=Math.cos(c*=o6);i3(a*Math.cos(b),a*Math.sin(b),Math.sin(c))}function i3(c,a,b){++lD;nA+=(c-nA)/lD;mi+=(a-mi)/lD;pG+=(b-pG)/lD}function kp(){var d,c,a;js.point=function(h,i){h*=o6;var f=Math.cos(i*=o6);d=f*Math.cos(h);c=f*Math.sin(h);a=Math.sin(i);js.point=b;i3(d,c,a)};function b(h,i){h*=o6;var f=Math.cos(i*=o6),k=f*Math.cos(h),l=f*Math.sin(h),m=Math.sin(i),j=Math.atan2(Math.sqrt((j=c*m-a*l)*j+(j=a*k-d*m)*j+(j=d*l-c*k)*j),d*k+c*l+a*m);oc+=j;nE+=j*(d+(d=k));mj+=j*(c+(c=l));pM+=j*(a+(a=m));i3(d,c,a)}}function qV(){js.point=nZ}function ow(){var f,h,d,c,a;js.point=function(j,k){f=j,h=k;js.point=b;j*=o6;var i=Math.cos(k*=o6);d=i*Math.cos(j);c=i*Math.sin(j);a=Math.sin(k);i3(d,c,a)};js.lineEnd=function(){b(f,h);js.lineEnd=qV;js.point=nZ};function b(p,i){p*=o6;var r=Math.cos(i*=o6),m=r*Math.cos(p),n=r*Math.sin(p),o=Math.sin(i),q=c*o-a*n,s=a*m-d*o,t=d*n-c*m,u=Math.sqrt(q*q+s*s+t*t),j=d*m+c*n+a*o,k=u&&-qk(j)/u,l=Math.atan2(u,j);nG+=k*q;mm+=k*s;pP+=k*t;oc+=l;nE+=l*(d+(d=m));mj+=l*(c+(c=n));pM+=l*(a+(a=o));i3(d,c,a)}}function m4(b,c){function a(f,d){return f=b(f,d),c(f[0],f[1])}if(b.invert&&c.invert){a.invert=function(f,d){return f=c.invert(f,d),f&&b.invert(f[0],f[1])}}return a}function qb(){return true}function m9(m,a,i,k,p){var j=[],o=[];m.forEach(function(s){if((r=s.length-1)<=0){return}var r,u=s[0],y=s[r];if(l3(u,y)){p.lineStart();for(var t=0;t<r;++t){p.point((u=s[t])[0],u[1])}p.lineEnd();return}var v=new nY(u,s,null,true),x=new nY(u,null,v,false);v.o=x;j.push(v);o.push(x);v=new nY(y,s,null,false);x=new nY(y,null,v,true);v.o=x;j.push(v);o.push(x)});o.sort(a);jm(j);jm(o);if(!j.length){return}for(var n=0,f=i,q=o.length;n<q;++n){o[n].e=f=!f}var b=j[0],d,h;while(1){var l=b,c=true;while(l.v){if((l=l.n)===b){return}}d=l.z;p.lineStart();do{l.v=l.o.v=true;if(l.e){if(c){for(var n=0,q=d.length;n<q;++n){p.point((h=d[n])[0],h[1])}}else{k(l.x,l.n.x,1,p)}l=l.n}else{if(c){d=l.p.z;for(var n=d.length-1;n>=0;--n){p.point((h=d[n])[0],h[1])}}else{k(l.x,l.p.x,-1,p)}l=l.p}l=l.o;d=l.z;c=!c}while(!l.v);p.lineEnd()}}function jm(a){if(!(b=a.length)){return}var b,c=0,d=a[0],f;while(++c<b){d.n=f=a[c];f.p=d;d=f}d.n=f=a[0];f.p=d}function nY(c,b,d,a){this.x=c;this.z=b;this.o=d;this.e=a;this.v=false;this.n=this.p=null}function lr(d,a,c,b){return function(f,t){var n=a(t),u=f.invert(b[0],b[1]);var o={point:j,lineStart:l,lineEnd:q,polygonStart:function(){o.point=x;o.lineStart=s;o.lineEnd=k;i=[];m=[]},polygonEnd:function(){o.point=j;o.lineStart=l;o.lineEnd=q;i=iD.merge(i);var z=lj(u,m);if(i.length){if(!v){t.polygonStart(),v=true}m9(i,mX,z,c,t)}else{if(z){if(!v){t.polygonStart(),v=true}t.lineStart();c(null,null,1,t);t.lineEnd()}}if(v){t.polygonEnd(),v=false}i=m=null},sphere:function(){t.polygonStart();t.lineStart();c(null,null,1,t);t.lineEnd();t.polygonEnd()}};function j(z,A){var B=f(z,A);if(d(z=B[0],A=B[1])){t.point(z,A)}}function r(z,A){var B=f(z,A);n.point(B[0],B[1])}function l(){o.point=r;n.lineStart()}function q(){o.point=j;n.lineEnd()}var i;var h=oI(),y=a(h),v=false,m,p;function x(z,A){p.push([z,A]);var B=f(z,A);y.point(B[0],B[1])}function s(){y.lineStart();p=[]}function k(){x(p[0][0],p[0][1]);y.lineEnd();var C=y.clean(),A=h.buffer(),B,z=A.length;p.pop();m.push(p);p=null;if(!z){return}if(C&1){B=A[0];var z=B.length-1,D=-1,E;if(z>0){if(!v){t.polygonStart(),v=true}t.lineStart();while(++D<z){t.point((E=B[D])[0],E[1])}t.lineEnd()}return}if(z>1&&C&2){A.push(A.pop().concat(A.shift()))}i.push(A.filter(mg))}return o}}function mg(a){return a.length>1}function oI(){var a=[],b;return{lineStart:function(){a.push(b=[])},point:function(c,d){b.push([c,d])},lineEnd:qT,buffer:function(){var c=a;a=[];b=null;return c},rejoin:function(){if(a.length>1){a.push(a.pop().concat(a.shift()))}}}}function mX(a,b){return((a=a.x)[0]<0?a[1]-k9-jf:k9-a[1])-((b=b.x)[0]<0?b[1]-k9-jf:k9-b[1])}var nF=lr(qb,my,mA,[-jy,-jy/2]);function my(a){var d=NaN,f=NaN,b=NaN,c;return{lineStart:function(){a.lineStart();c=1},point:function(j,k){var h=j>0?jy:-jy,i=o8(j-d);if(o8(i-jy)<jf){a.point(d,f=(f+k)/2>0?k9:-k9);a.point(b,f);a.lineEnd();a.lineStart();a.point(h,f);a.point(j,f);c=0}else{if(b!==h&&i>=jy){if(o8(d-b)<jf){d-=b*jf}if(o8(j-h)<jf){j-=h*jf}f=m7(d,f,j,k);a.point(b,f);a.lineEnd();a.lineStart();a.point(h,f);c=0}}a.point(d=j,f=k);b=h},lineEnd:function(){a.lineEnd();d=f=NaN},clean:function(){return 2-c}}}function m7(b,c,d,f){var h,i,a=Math.sin(b-d);return o8(a)>jf?Math.atan((Math.sin(c)*(i=Math.cos(f))*Math.sin(d)-Math.sin(f)*(h=Math.cos(c))*Math.sin(b))/(h*i*a)):(c+f)/2}function mA(a,b,c,d){var h;if(a==null){h=c*k9;d.point(-jy,h);d.point(0,h);d.point(jy,h);d.point(jy,0);d.point(jy,-h);d.point(0,-h);d.point(-jy,-h);d.point(-jy,0);d.point(-jy,h)}else{if(o8(a[0]-b[0])>jf){var f=a[0]<b[0]?jy:-jy;h=c*f/2;d.point(-f,h);d.point(0,h);d.point(f,h)}else{d.point(b[0],b[1])}}}function lj(a,j){var f=a[0],d=a[1],F=[Math.sin(f),-Math.cos(f),0],l=0,k=0;lb.reset();for(var n=0,h=j.length;n<h;++n){var x=j[n],b=x.length;if(!b){continue}var A=x[0],D=A[0],i=A[1]/2+jy/4,y=Math.sin(i),E=Math.cos(i),o=1;while(true){if(o===b){o=0}a=x[o];var c=a[0],m=a[1]/2+jy/4,C=Math.sin(m),q=Math.cos(m),s=c-D,v=s>=0?1:-1,r=v*s,B=r>jy,u=y*C;lb.add(Math.atan2(u*v*Math.sin(r),E*q+u*Math.cos(r)));l+=B?s+v*lR:s;if(B^D>=f^c>=f){var t=n8(pE(A),pE(a));kn(t);var p=n8(F,t);kn(p);var z=(B^s>=0?-1:1)*nL(p[2]);if(d>z||d===z&&(t[0]||t[1])){k+=B^s>=0?1:-1}}if(!o++){break}D=c,y=C,E=q,A=a}}return(l<-jf||l<jf&&lb<-jf)^k&1}function qP(i){var h=Math.cos(i),j=h>0,f=o8(h)>jf,d=qB(i,6*o6);return lr(k,c,d,j?[0,-i]:[-jy,i-jy]);function k(l,m){return Math.cos(l)*Math.cos(m)>h}function c(l){var m,n,q,o,p;return{lineStart:function(){o=q=false;p=1},point:function(v,x){var u=[v,x],y,t=k(v,x),s=j?t?0:b(v,x):t?b(v+(v<0?jy:-jy),x):0;if(!m&&(o=q=t)){l.lineStart()}if(t!==q){y=a(m,u);if(l3(m,y)||l3(u,y)){u[0]+=jf;u[1]+=jf;t=k(u[0],u[1])}}if(t!==q){p=0;if(t){l.lineStart();y=a(u,m);l.point(y[0],y[1])}else{y=a(m,u);l.point(y[0],y[1]);l.lineEnd()}m=y}else{if(f&&m&&j^t){var r;if(!(s&n)&&(r=a(u,m,true))){p=0;if(j){l.lineStart();l.point(r[0][0],r[0][1]);l.point(r[1][0],r[1][1]);l.lineEnd()}else{l.point(r[1][0],r[1][1]);l.lineEnd();l.lineStart();l.point(r[0][0],r[0][1])}}}}if(t&&(!m||!l3(m,u))){l.point(u[0],u[1])}m=u,q=t,n=s},lineEnd:function(){if(q){l.lineEnd()}m=null},clean:function(){return p|(o&&q)<<1}}}function a(l,m,F){var L=pE(l),O=pE(m);var u=[1,0,0],B=n8(L,O),K=pv(B,B),n=B[0],z=K-n*n;if(!z){return !F&&l}var s=h*K/z,t=-h*n/z,Q=n8(u,B),x=jw(u,s),A=jw(B,t);pn(x,A);var G=Q,I=pv(x,G),D=pv(G,G),N=I*I-D*(pv(x,x)-1);if(N<0){return}var E=Math.sqrt(N),C=jw(G,(-I-E)/D);pn(C,x);C=jO(C);if(!F){return C}var H=l[0],M=m[0],p=l[1],q=m[1],v;if(M<H){v=H,H=M,M=v}var y=M-H,P=o8(y-jy)<jf,o=P||y<jf;if(!P&&q<p){v=p,p=q,q=v}if(o?P?p+q>0^C[1]<(o8(C[0]-H)<jf?p:q):p<=C[1]&&C[1]<=q:y>jy^(H<=C[0]&&C[0]<=M)){var r=jw(G,(-I+E)/D);pn(r,x);return[C,jO(r)]}}function b(n,o){var l=j?i:jy-i,m=0;if(n<-l){m|=1}else{if(n>l){m|=2}}if(o<-l){m|=4}else{if(o>l){m|=8}}return m}}function p6(c,a,d,b){return function(f){var k=f.a,l=f.b,q=k.x,h=k.y,m=l.x,n=l.y,o=0,p=1,i=m-q,j=n-h,r;r=c-q;if(!i&&r>0){return}r/=i;if(i<0){if(r<o){return}if(r<p){p=r}}else{if(i>0){if(r>p){return}if(r>o){o=r}}}r=d-q;if(!i&&r<0){return}r/=i;if(i<0){if(r>p){return}if(r>o){o=r}}else{if(i>0){if(r<o){return}if(r<p){p=r}}}r=a-h;if(!j&&r>0){return}r/=j;if(j<0){if(r<o){return}if(r<p){p=r}}else{if(j>0){if(r>p){return}if(r>o){o=r}}}r=b-h;if(!j&&r<0){return}r/=j;if(j<0){if(r>p){return}if(r>o){o=r}}else{if(j>0){if(r<o){return}if(r<p){p=r}}}if(o>0){f.a={x:q+o*i,y:h+o*j}}if(p<1){f.b={x:q+p*i,y:h+p*j}}return f}}var o0=1000000000;iD.geo.clipExtent=function(){var f,b,h,d,a,c,i={stream:function(j){if(a){a.valid=false}a=c(j);a.valid=true;return a},extent:function(j){if(!arguments.length){return[[f,b],[h,d]]}c=lx(f=+j[0][0],b=+j[0][1],h=+j[1][0],d=+j[1][1]);if(a){a.valid=false,a=null}return i}};return i.extent([[0,0],[960,500]])};function lx(h,c,i,f){return function(z){var F=z,n=oI(),E=p6(h,c,i,f),t,l,r;var k={point:u,lineStart:A,lineEnd:o,polygonStart:function(){z=n;t=[];l=[];q=true},polygonEnd:function(){z=F;t=iD.merge(t);var I=D([h,f]),K=q&&I,H=t.length;if(K||H){z.polygonStart();if(K){z.lineStart();p(null,null,1,z);z.lineEnd()}if(H){m9(t,b,I,p,z)}z.polygonEnd()}t=l=r=null}};function D(M){var O=0,L=l.length,Q=M[1];for(var H=0;H<L;++H){for(var I=1,N=l[H],K=N.length,P=N[0],R;I<K;++I){R=N[I];if(P[1]<=Q){if(R[1]>Q&&lI(P,R,M)>0){++O}}else{if(R[1]<=Q&&lI(P,R,M)<0){--O}}P=R}}return O!==0}function p(L,M,N,H){var I=0,K=0;if(L==null||(I=d(L,N))!==(K=d(M,N))||a(L,M)<0^N>0){do{H.point(I===0||I===3?h:i,I>1?f:c)}while((I=(I+N+4)%4)!==K)}else{H.point(M[0],M[1])}}function j(I,H){return h<=I&&I<=i&&c<=H&&H<=f}function u(I,H){if(j(I,H)){z.point(I,H)}}var x,v,y,m,B,C,s,q;function A(){k.point=G;if(l){l.push(r=[])}s=true;C=false;m=B=NaN}function o(){if(t){G(x,v);if(y&&C){n.rejoin()}t.push(n.buffer())}k.point=u;if(C){z.lineEnd()}}function G(K,L){K=Math.max(-o0,Math.min(o0,K));L=Math.max(-o0,Math.min(o0,L));var H=j(K,L);if(l){r.push([K,L])}if(s){x=K,v=L,y=H;s=false;if(H){z.lineStart();z.point(K,L)}}else{if(H&&C){z.point(K,L)}else{var I={a:{x:m,y:B},b:{x:K,y:L}};if(E(I)){if(!C){z.lineStart();z.point(I.a.x,I.a.y)}z.point(I.b.x,I.b.y);if(!H){z.lineEnd()}q=false}else{if(H){z.lineStart();z.point(K,L);q=false}}}}m=K,B=L,C=H}return k};function d(j,k){return o8(j[0]-h)<jf?k>0?0:3:o8(j[0]-i)<jf?k>0?2:1:o8(j[1]-c)<jf?k>0?1:0:k>0?3:2}function b(j,k){return a(j.x,k.x)}function a(l,j){var m=d(l,1),k=d(j,1);return m!==k?m-k:m===0?j[1]-l[1]:m===1?l[0]-j[0]:m===2?l[1]-j[1]:j[0]-l[0]}}function qx(b){var c=0,d=jy/3,f=kt(b),a=f(c,d);a.parallels=function(h){if(!arguments.length){return[c/jy*180,d/jy*180]}return f(c=h[0]*jy/180,d=h[1]*jy/180)};return a}function oT(h,i){var c=Math.sin(h),a=(c+Math.sin(i))/2,b=1+c*(2*a-c),d=Math.sqrt(b)/a;function f(j,k){var l=Math.sqrt(b-2*a*Math.sin(k))/a;return[l*Math.sin(j*=a),d-l*Math.cos(j)]}f.invert=function(k,l){var j=d-l;return[Math.atan2(k,j)/a,nL((b-(k*k+j*j)*a*a)/(2*a))]};return f}(iD.geo.conicEqualArea=function(){return qx(oT)}).raw=oT;iD.geo.albers=function(){return iD.geo.conicEqualArea().rotate([96,0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};iD.geo.albersUsa=function(){var a=iD.geo.albers();var h=iD.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]);var k=iD.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]);var d,b={point:function(m,l){d=[m,l]}},i,f,j;function c(m){var n=m[0],l=m[1];d=null;(i(n,l),d)||(f(n,l),d)||j(n,l);return d}c.invert=function(m){var o=a.scale(),n=a.translate(),p=(m[0]-n[0])/o,l=(m[1]-n[1])/o;return(l>=0.12&&l<0.234&&p>=-0.425&&p<-0.214?h:l>=0.166&&l<0.234&&p>=-0.214&&p<-0.115?k:a).invert(m)};c.stream=function(m){var n=a.stream(m),l=h.stream(m),o=k.stream(m);return{point:function(q,p){n.point(q,p);l.point(q,p);o.point(q,p)},sphere:function(){n.sphere();l.sphere();o.sphere()},lineStart:function(){n.lineStart();l.lineStart();o.lineStart()},lineEnd:function(){n.lineEnd();l.lineEnd();o.lineEnd()},polygonStart:function(){n.polygonStart();l.polygonStart();o.polygonStart()},polygonEnd:function(){n.polygonEnd();l.polygonEnd();o.polygonEnd()}}};c.precision=function(l){if(!arguments.length){return a.precision()}a.precision(l);h.precision(l);k.precision(l);return c};c.scale=function(l){if(!arguments.length){return a.scale()}a.scale(l);h.scale(l*0.35);k.scale(l);return c.translate(a.translate())};c.translate=function(m){if(!arguments.length){return a.translate()}var n=a.scale(),o=+m[0],l=+m[1];i=a.translate(m).clipExtent([[o-0.455*n,l-0.238*n],[o+0.455*n,l+0.238*n]]).stream(b).point;f=h.translate([o-0.307*n,l+0.201*n]).clipExtent([[o-0.425*n+jf,l+0.12*n+jf],[o-0.214*n-jf,l+0.234*n-jf]]).stream(b).point;j=k.translate([o-0.205*n,l+0.212*n]).clipExtent([[o-0.214*n+jf,l+0.166*n+jf],[o-0.115*n-jf,l+0.234*n-jf]]).stream(b).point;return c};return c.scale(1070)};var lh,mI,n0={point:qT,lineStart:qT,lineEnd:qT,polygonStart:function(){mI=0;n0.lineStart=oU},polygonEnd:function(){n0.lineStart=n0.lineEnd=n0.point=qT;lh+=o8(mI/2)}};function oU(){var b,f,d,c;n0.point=function(i,h){n0.point=a;b=d=i,f=c=h};function a(i,h){mI+=c*i-d*h;d=i,c=h}n0.lineEnd=function(){a(b,f)}}var mk,lc,mo,ld;var py={point:os,lineStart:qT,lineEnd:qT,polygonStart:qT,polygonEnd:qT};function os(b,a){if(b<mk){mk=b}if(b>mo){mo=b}if(a<lc){lc=a}if(a>ld){ld=a}}function nB(){var h=kN(4.5),i=[];var a={point:j,lineStart:function(){a.point=b},lineEnd:c,polygonStart:function(){a.lineEnd=f},polygonEnd:function(){a.lineEnd=c;a.point=j},pointRadius:function(k){h=kN(k);return a},result:function(){if(i.length){var k=i.join("");i=[];return k}}};function j(k,l){i.push("M",k,",",l,h)}function b(k,l){i.push("M",k,",",l);a.point=d}function d(k,l){i.push("L",k,",",l)}function c(){a.point=j}function f(){i.push("Z")}return a}function kN(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}var kR={point:oH,lineStart:k3,lineEnd:oL,polygonStart:function(){kR.lineStart=qL},polygonEnd:function(){kR.point=oH;kR.lineStart=k3;kR.lineEnd=oL}};function oH(b,a){nA+=b;mi+=a;++pG}function k3(){var c,b;kR.point=function(f,d){kR.point=a;oH(c=f,b=d)};function a(j,d){var h=j-c,i=d-b,f=Math.sqrt(h*h+i*i);nE+=f*(c+j)/2;mj+=f*(b+d)/2;pM+=f;oH(c=j,b=d)}}function oL(){kR.point=oH}function qL(){var b,f,d,c;kR.point=function(i,h){kR.point=a;oH(b=d=i,f=c=h)};function a(k,l){var i=k-d,j=l-c,h=Math.sqrt(i*i+j*j);nE+=h*(d+k)/2;mj+=h*(c+l)/2;pM+=h;h=c*k-d*l;nG+=h*(d+k);mm+=h*(c+l);pP+=h*3;oH(d=k,c=l)}kR.lineEnd=function(){a(b,f)}}function pe(i){var d=4.5;var a={point:j,lineStart:function(){a.point=b},lineEnd:c,polygonStart:function(){a.lineEnd=h},polygonEnd:function(){a.lineEnd=c;a.point=j},pointRadius:function(k){d=k;return a},result:qT};function j(k,l){i.moveTo(k+d,l);i.arc(k,l,d,0,lR)}function b(k,l){i.moveTo(k,l);a.point=f}function f(k,l){i.lineTo(k,l)}function c(){a.point=j}function h(){i.closePath()}return a}function le(b){var d=0.5,c=Math.cos(30*o6),a=16;function h(k){return(a?f:j)(k)}function j(k){return mu(k,function(m,l){m=b(m,l);k.point(m[0],m[1])})}function f(u){var k,t,x,s,n,o,F,E,p,C,l,q,D;var A={point:y,lineStart:m,lineEnd:r,polygonStart:function(){u.polygonStart();A.lineStart=v},polygonEnd:function(){u.polygonEnd();A.lineStart=m}};function y(I,H){I=b(I,H);u.point(I[0],I[1])}function m(){p=NaN;A.point=G;u.lineStart()}function G(I,K){var L=pE([I,K]),H=b(I,K);i(p,C,E,l,q,D,p=H[0],C=H[1],E=I,l=L[0],q=L[1],D=L[2],a,u);u.point(p,C)}function r(){A.point=y;u.lineEnd()}function v(){m();A.point=z;A.lineEnd=B}function z(H,I){G(k=H,t=I),x=p,s=C,n=l,o=q,F=D;A.point=G}function B(){i(p,C,E,l,q,D,x,s,k,n,o,F,a,u);A.lineEnd=r;r()}return A}function i(t,C,M,k,v,B,u,E,N,m,y,F,n,A){var K=u-t,L=E-C,l=K*K+L*L;if(l>4*d&&n--){var o=k+m,p=v+y,r=B+F,D=Math.sqrt(o*o+p*p+r*r),x=Math.asin(r/=D),O=o8(o8(r)-1)<jf||o8(M-N)<jf?(M+N)/2:Math.atan2(p,o),H=b(O,x),z=H[0],G=H[1],I=z-t,q=G-C,s=L*I-K*q;if(s*s/l>d||o8((K*I+L*q)/l-0.5)>0.3||k*m+v*y+B*F<c){i(t,C,M,k,v,B,z,G,O,o/=D,p/=D,r,n,A);A.point(z,G);i(z,G,O,o,p,r,u,E,N,m,y,F,n,A)}}}h.precision=function(k){if(!arguments.length){return Math.sqrt(d)}a=(d=k*k)>0&&16;return h};return h}iD.geo.path=function(){var b=4.5,i,f,d,j,h;function a(k){if(k){if(typeof b==="function"){j.pointRadius(+b.apply(this,arguments))}if(!h||!h.valid){h=d(j)}iD.geo.stream(k,h)}return j.result()}a.area=function(k){lh=0;iD.geo.stream(k,d(n0));return lh};a.centroid=function(k){nA=mi=pG=nE=mj=pM=nG=mm=pP=0;iD.geo.stream(k,d(kR));return pP?[nG/pP,mm/pP]:pM?[nE/pM,mj/pM]:pG?[nA/pG,mi/pG]:[NaN,NaN]};a.bounds=function(k){mo=ld=-(mk=lc=Infinity);iD.geo.stream(k,d(py));return[[mk,lc],[mo,ld]]};a.projection=function(k){if(!arguments.length){return i}d=(i=k)?k.stream||iK(k):ji;return c()};a.context=function(k){if(!arguments.length){return f}j=(f=k)==null?new nB():new pe(k);if(typeof b!=="function"){j.pointRadius(b)}return c()};a.pointRadius=function(k){if(!arguments.length){return b}b=typeof k==="function"?k:(j.pointRadius(+k),+k);return a};function c(){h=null;return a}return a.projection(iD.geo.albersUsa()).context(null)};function iK(a){var b=le(function(d,c){return a([d*jv,c*jv])});return function(c){return nH(b(c))}}iD.geo.transform=function(a){return{stream:function(b){var c=new lF(b);for(var d in a){c[d]=a[d]}return c}}};function lF(a){this.stream=a}lF.prototype={point:function(b,a){this.stream.point(b,a)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function mu(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}iD.geo.projection=lG;iD.geo.projectionMutator=kt;function lG(a){return kt(function(){return a})()}function kt(h){var x,a,s,d=le(function(C,B){C=x(C,B);return[C[0]*b+u,y-C[1]*b]}),b=150,l=480,p=250,c=0,n=0,r=0,v=0,f=0,u,y,j=nF,o=ji,A=null,z=null,t;function k(B){B=s(B[0]*o6,B[1]*o6);return[B[0]*b+u,y-B[1]*b]}function i(B){B=s.invert((B[0]-u)/b,(y-B[1])/b);return B&&[B[0]*jv,B[1]*jv]}k.stream=function(B){if(t){t.valid=false}t=nH(j(a,d(o(B))));t.valid=true;return t};k.clipAngle=function(B){if(!arguments.length){return A}j=B==null?(A=B,nF):qP((A=+B)*o6);return q()};k.clipExtent=function(B){if(!arguments.length){return z}z=B;o=B?lx(B[0][0],B[0][1],B[1][0],B[1][1]):ji;return q()};k.scale=function(B){if(!arguments.length){return b}b=+B;return m()};k.translate=function(B){if(!arguments.length){return[l,p]}l=+B[0];p=+B[1];return m()};k.center=function(B){if(!arguments.length){return[c*jv,n*jv]}c=B[0]%360*o6;n=B[1]%360*o6;return m()};k.rotate=function(B){if(!arguments.length){return[r*jv,v*jv,f*jv]}r=B[0]%360*o6;v=B[1]%360*o6;f=B.length>2?B[2]%360*o6:0;return m()};iD.rebind(k,d,"precision");function m(){s=m4(a=nM(r,v,f),x);var B=x(c,n);u=l-B[0]*b;y=p+B[1]*b;return q()}function q(){if(t){t.valid=false,t=null}return k}return function(){x=h.apply(this,arguments);k.invert=x.invert&&i;return m()}}function nH(a){return mu(a,function(c,b){a.point(c*o6,b*o6)})}function n3(a,b){return[a,b]}(iD.geo.equirectangular=function(){return lG(n3)}).raw=n3.invert=n3;iD.geo.rotation=function(a){a=nM(a[0]%360*o6,a[1]*o6,a.length>2?a[2]*o6:0);function b(c){c=a(c[0]*o6,c[1]*o6);return c[0]*=jv,c[1]*=jv,c}b.invert=function(c){c=a.invert(c[0]*o6,c[1]*o6);return c[0]*=jv,c[1]*=jv,c};return b};function qa(a,b){return[a>jy?a-lR:a<-jy?a+lR:a,b]}qa.invert=n3;function nM(a,b,c){return a?b||c?m4(np(a),pH(b,c)):np(a):b||c?pH(b,c):qa}function lf(a){return function(b,c){return b+=a,[b>jy?b-lR:b<-jy?b+lR:b,c]}}function np(a){var b=lf(a);b.invert=lf(-a);return b}function pH(b,h){var c=Math.cos(b),a=Math.sin(b),i=Math.cos(h),f=Math.sin(h);function d(p,j){var n=Math.cos(j),k=Math.cos(p)*n,l=Math.sin(p)*n,m=Math.sin(j),o=m*c+k*a;return[Math.atan2(l*i-o*f,k*c-m*a),nL(o*i+l*f)]}d.invert=function(p,j){var n=Math.cos(j),k=Math.cos(p)*n,l=Math.sin(p)*n,m=Math.sin(j),o=m*i-l*f;return[Math.atan2(l*i+m*f,k*c+o*a),nL(o*c-k*a)]};return d}iD.geo.circle=function(){var d=[0,0],a,f=6,c;function b(){var j=typeof d==="function"?d.apply(this,arguments):d,h=nM(-j[0]*o6,-j[1]*o6,0).invert,i=[];c(null,null,1,{point:function(k,l){i.push(k=h(k,l));k[0]*=jv,k[1]*=jv}});return{type:"Polygon",coordinates:[i]}}b.origin=function(h){if(!arguments.length){return d}d=h;return b};b.angle=function(h){if(!arguments.length){return a}c=qB((a=+h)*o6,f*o6);return b};b.precision=function(h){if(!arguments.length){return f}c=qB(a*o6,(f=+h)*o6);return b};return b.angle(90)};function qB(d,c){var a=Math.cos(d),b=Math.sin(d);return function(l,m,f,h){var i=f*c;if(l!=null){l=i7(a,l);m=i7(a,m);if(f>0?l<m:l>m){l+=f*lR}}else{l=d+f*lR;m=d-0.5*i}for(var k,j=l;f>0?j>m:j<m;j-=i){h.point((k=jO([a,-b*Math.cos(j),-b*Math.sin(j)]))[0],k[1])}}}function i7(b,d){var c=pE(d);c[0]-=b;kn(c);var a=qk(-c[1]);return((-c[2]<0?-a:a)+2*Math.PI-jf)%(2*Math.PI)}iD.geo.distance=function(i,j){var h=(j[0]-i[0])*o6,d=i[1]*o6,f=j[1]*o6,l=Math.sin(h),a=Math.cos(h),k=Math.sin(d),n=Math.cos(d),m=Math.sin(f),b=Math.cos(f),c;return Math.atan2(Math.sqrt((c=b*l)*c+(c=n*m-k*b*a)*c),k*m+n*b*a)};iD.geo.graticule=function(){var f,c,b,a,r,q,p,n,i=10,j=i,m=90,o=360,k,l,s,t,h=2.5;function d(){return{type:"MultiLineString",coordinates:u()}}function u(){return iD.range(Math.ceil(a/m)*m,b,m).map(s).concat(iD.range(Math.ceil(n/o)*o,p,o).map(t)).concat(iD.range(Math.ceil(c/i)*i,f,i).filter(function(v){return o8(v%m)>jf}).map(k)).concat(iD.range(Math.ceil(q/j)*j,r,j).filter(function(v){return o8(v%o)>jf}).map(l))}d.lines=function(){return u().map(function(v){return{type:"LineString",coordinates:v}})};d.outline=function(){return{type:"Polygon",coordinates:[s(a).concat(t(p).slice(1),s(b).reverse().slice(1),t(n).reverse().slice(1))]}};d.extent=function(v){if(!arguments.length){return d.minorExtent()}return d.majorExtent(v).minorExtent(v)};d.majorExtent=function(v){if(!arguments.length){return[[a,n],[b,p]]}a=+v[0][0],b=+v[1][0];n=+v[0][1],p=+v[1][1];if(a>b){v=a,a=b,b=v}if(n>p){v=n,n=p,p=v}return d.precision(h)};d.minorExtent=function(v){if(!arguments.length){return[[c,q],[f,r]]}c=+v[0][0],f=+v[1][0];q=+v[0][1],r=+v[1][1];if(c>f){v=c,c=f,f=v}if(q>r){v=q,q=r,r=v}return d.precision(h)};d.step=function(v){if(!arguments.length){return d.minorStep()}return d.majorStep(v).minorStep(v)};d.majorStep=function(v){if(!arguments.length){return[m,o]}m=+v[0],o=+v[1];return d};d.minorStep=function(v){if(!arguments.length){return[i,j]}i=+v[0],j=+v[1];return d};d.precision=function(v){if(!arguments.length){return h}h=+v;k=qQ(q,r,90);l=qR(c,f,h);s=qQ(n,p,90);t=qR(a,b,h);return d};return d.majorExtent([[-180,-90+jf],[180,90-jf]]).minorExtent([[-180,-80-jf],[180,80+jf]])};function qQ(b,c,d){var a=iD.range(b,c-jf,d).concat(c);return function(f){return a.map(function(h){return[f,h]})}}function qR(a,b,c){var d=iD.range(a,b-jf,c).concat(b);return function(f){return d.map(function(h){return[h,f]})}}function jo(a){return a.source}function jb(a){return a.target}iD.geo.greatArc=function(){var c=jo,d,b=jb,a;function f(){return{type:"LineString",coordinates:[d||c.apply(this,arguments),a||b.apply(this,arguments)]}}f.distance=function(){return iD.geo.distance(d||c.apply(this,arguments),a||b.apply(this,arguments))};f.source=function(h){if(!arguments.length){return c}c=h,d=typeof h==="function"?null:h;return f};f.target=function(h){if(!arguments.length){return b}b=h,a=typeof h==="function"?null:h;return f};f.precision=function(){return arguments.length?f:0};return f};iD.geo.interpolate=function(b,a){return nS(b[0]*o6,b[1]*o6,a[0]*o6,a[1]*o6)};function nS(p,c,q,f){var m=Math.cos(c),d=Math.sin(c),o=Math.cos(f),h=Math.sin(f),k=m*Math.cos(p),a=m*Math.sin(p),l=o*Math.cos(q),b=o*Math.sin(q),i=2*Math.asin(Math.sqrt(qW(f-c)+m*o*qW(q-p))),n=1/Math.sin(i);var j=i?function(t){var s=Math.sin(t*=i)*n,u=Math.sin(i-t)*n,v=u*k+s*l,x=u*a+s*b,r=u*d+s*h;return[Math.atan2(x,v)*jv,Math.atan2(r,Math.sqrt(v*v+x*x))*jv]}:function(){return[p*jv,c*jv]};j.distance=i;return j}iD.geo.length=function(a){m5=0;iD.geo.stream(a,kO);return m5};var m5;var kO={sphere:qT,point:qT,lineStart:jj,lineEnd:qT,polygonStart:qT,polygonEnd:qT};function jj(){var c,b,d;kO.point=function(f,h){c=f*o6,b=Math.sin(h*=o6),d=Math.cos(h);kO.point=a};kO.lineEnd=function(){kO.point=kO.lineEnd=qT};function a(j,k){var f=Math.sin(k*=o6),l=Math.cos(k),i=o8((j*=o6)-c),h=Math.cos(i);m5+=Math.atan2(Math.sqrt((i=l*Math.sin(i))*i+(i=d*f-b*l*h)*i),b*f+d*l*h);c=j,b=f,d=l}}function kJ(a,b){function c(i,j){var d=Math.cos(i),f=Math.cos(j),h=a(d*f);return[h*f*Math.sin(i),h*Math.sin(j)]}c.invert=function(k,d){var h=Math.sqrt(k*k+d*d),f=b(h),j=Math.sin(f),i=Math.cos(f);return[Math.atan2(k*j,h*i),Math.asin(h&&d*j/h)]};return c}var og=kJ(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(iD.geo.azimuthalEqualArea=function(){return lG(og)}).raw=og;var qc=kJ(function(b){var a=Math.acos(b);return a&&a/Math.sin(a)},ji);(iD.geo.azimuthalEquidistant=function(){return lG(qc)}).raw=qc;function lp(f,h){var i=Math.cos(f),c=function(j){return Math.tan(jy/4+j/2)},a=f===h?Math.sin(f):Math.log(i/Math.cos(h))/Math.log(c(h)/c(f)),b=i*Math.pow(c(f),a)/a;if(!a){return qD}function d(j,k){if(b>0){if(k<-k9+jf){k=-k9+jf}}else{if(k>k9-jf){k=k9-jf}}var l=b/Math.pow(c(k),a);return[l*Math.sin(a*j),b-l*Math.cos(a*j)]}d.invert=function(k,l){var m=b-l,j=qs(a)*Math.sqrt(k*k+m*m);return[Math.atan2(k,m)/a,2*Math.atan(Math.pow(b/j,1/a))-k9]};return d}(iD.geo.conicConformal=function(){return qx(lp)}).raw=lp;function jE(d,f){var h=Math.cos(d),a=d===f?Math.sin(d):(h-Math.cos(f))/(f-d),b=h/a+d;if(o8(a)<jf){return n3}function c(j,k){var i=b-k;return[i*Math.sin(a*j),b-i*Math.cos(a*j)]}c.invert=function(k,i){var j=b-i;return[Math.atan2(k,j)/a,b-qs(a)*Math.sqrt(k*k+j*j)]};return c}(iD.geo.conicEquidistant=function(){return qx(jE)}).raw=jE;var mv=kJ(function(a){return 1/a},Math.atan);(iD.geo.gnomonic=function(){return lG(mv)}).raw=mv;function qD(a,b){return[a,Math.log(Math.tan(jy/4+b/2))]}qD.invert=function(b,a){return[b,2*Math.atan(Math.exp(a))-k9]};function pI(a){var h=lG(a),b=h.scale,c=h.translate,f=h.clipExtent,d;h.scale=function(){var i=b.apply(h,arguments);return i===h?d?h.clipExtent(null):h:i};h.translate=function(){var i=c.apply(h,arguments);return i===h?d?h.clipExtent(null):h:i};h.clipExtent=function(i){var j=f.apply(h,arguments);if(j===h){if(d=i==null){var k=jy*b(),l=c();f([[l[0]-k,l[1]-k],[l[0]+k,l[1]+k]])}}else{if(d){j=null}}return j};return h.clipExtent(null)}(iD.geo.mercator=function(){return pI(qD)}).raw=qD;var kI=kJ(function(){return 1},Math.asin);(iD.geo.orthographic=function(){return lG(kI)}).raw=kI;var nR=kJ(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(iD.geo.stereographic=function(){return lG(nR)}).raw=nR;function p7(a,b){return[Math.log(Math.tan(jy/4+b/2)),-a]}p7.invert=function(b,a){return[-a,2*Math.atan(Math.exp(b))-k9]};(iD.geo.transverseMercator=function(){var b=pI(p7),c=b.center,a=b.rotate;b.center=function(d){return d?c([-d[1],d[0]]):(d=c(),[d[1],-d[0]])};b.rotate=function(d){return d?a([d[0],d[1],d.length>2?d[2]+90:90]):(d=a(),[d[0],d[1],d[2]-90])};return a([0,0,90])}).raw=p7;iD.geom={};function i0(a){return a[0]}function i2(a){return a[1]}iD.geom.hull=function(c){var d=i0,a=i2;if(arguments.length){return b(c)}function b(l){if(l.length<3){return[]}var p=oE(d),q=oE(a),k,r=l.length,i=[],h=[];for(k=0;k<r;k++){i.push([+p.call(this,l[k],k),+q.call(this,l[k],k),k])}i.sort(j2);for(k=0;k<r;k++){h.push([i[k][0],-i[k][1]])}var f=oD(i),m=oD(h);var o=m[0]===f[0],n=m[m.length-1]===f[f.length-1],j=[];for(k=f.length-1;k>=0;--k){j.push(l[i[f[k]][2]])}for(k=+o;k<m.length-n;++k){j.push(l[i[m[k]][2]])}return j}b.x=function(f){return arguments.length?(d=f,b):d};b.y=function(f){return arguments.length?(a=f,b):a};return b};function oD(c){var a=c.length,b=[0,1],d=2;for(var f=2;f<a;f++){while(d>1&&lI(c[b[d-2]],c[b[d-1]],c[f])<=0){--d}b[d++]=f}return b.slice(0,d)}function j2(a,b){return a[0]-b[0]||a[1]-b[1]}iD.geom.polygon=function(a){jT(a,k5);return a};var k5=iD.geom.polygon.prototype=[];k5.area=function(){var c=-1,a=this.length,d,f=this[a-1],b=0;while(++c<a){d=f;f=this[c];b+=d[1]*f[0]-d[0]*f[1]}return b*0.5};k5.centroid=function(f){var d=-1,a=this.length,i=0,b=0,h,j=this[a-1],c;if(!arguments.length){f=-1/(6*this.area())}while(++d<a){h=j;j=this[d];c=h[0]*j[1]-j[0]*h[1];i+=(h[0]+j[0])*c;b+=(h[1]+j[1])*c}return[i*f,b*f]};k5.clip=function(h){var d,k=jX(h),l=-1,b=this.length-jX(this),m,a,c=this[b-1],f,i,j;while(++l<b){d=h.slice();h.length=0;f=this[l];i=d[(a=d.length-k)-1];m=-1;while(++m<a){j=d[m];if(pm(j,c,f)){if(!pm(i,c,f)){h.push(jn(i,j,c,f))}h.push(j)}else{if(pm(i,c,f)){h.push(jn(i,j,c,f))}}i=j}if(k){h.push(h[0])}c=f}return h};function pm(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function jn(k,m,f,j){var o=k[0],b=f[0],n=m[0]-o,d=j[0]-b,h=k[1],l=f[1],i=m[1]-h,c=j[1]-l,a=(d*(h-l)-c*(o-b))/(c*n-d*i);return[o+a*n,h+a*i]}function jX(a){var b=a[0],c=a[a.length-1];return !(b[0]-c[0]||b[1]-c[1])}var j8,kM,oz,mx=[],iN,oC,kW=[];function kz(){ng(this);this.edge=this.site=this.circle=null}function lN(a){var b=mx.pop()||new kz();b.site=a;return b}function kB(a){mh(a);oz.remove(a);mx.push(a);ng(a)}function iB(a){var b=a.circle,f=b.x,j=b.cy,l={x:f,y:j},k=a.P,m=a.N,h=[a];kB(a);var c=k;while(c.circle&&o8(f-c.circle.x)<jf&&o8(j-c.circle.cy)<jf){k=c.P;h.unshift(c);kB(c);c=k}h.unshift(c);mh(c);var n=m;while(n.circle&&o8(f-n.circle.x)<jf&&o8(j-n.circle.cy)<jf){m=n.N;h.push(n);kB(n);n=m}h.push(n);mh(n);var d=h.length,i;for(i=1;i<d;++i){n=h[i];c=h[i-1];nh(n.edge,c.site,n.site,l)}c=h[0];n=h[d-1];n.edge=iH(c.site,n.site,null,l);om(c);om(n)}function lT(m){var o=m.x,j=m.y,h,k,l,f,i=oz._;while(i){l=pC(i,j)-o;if(l>jf){i=i.L}else{f=o-jA(i,j);if(f>jf){if(!i.R){h=i;break}i=i.R}else{if(l>-jf){h=i.P;k=i}else{if(f>-jf){h=i;k=i.N}else{h=k=i}}break}}}var t=lN(m);oz.insert(h,t);if(!h&&!k){return}if(h===k){mh(h);k=lN(h.site);oz.insert(t,k);t.edge=k.edge=iH(h.site,t.site);om(h);om(k);return}if(!k){t.edge=iH(h.site,t.site);return}mh(h);mh(k);var q=h.site,n=q.x,p=q.y,b=m.x-n,d=m.y-p,x=k.site,u=x.x-n,v=x.y-p,a=2*(b*v-d*u),r=b*b+d*d,s=u*u+v*v,c={x:(v*r-d*s)/a+n,y:(b*s-u*r)/a+p};nh(k.edge,q,x,c);t.edge=iH(q,m,null,c);k.edge=iH(m,x,null,c);om(h);om(k)}function pC(n,m){var b=n.site,d=b.x,f=b.y,h=f-m;if(!h){return d}var c=n.P;if(!c){return -Infinity}b=c.site;var k=b.x,l=b.y,o=l-m;if(!o){return k}var a=k-d,i=1/h-1/o,j=a/o;if(i){return(-j+Math.sqrt(j*j-2*i*(a*a/(-2*o)-l+o/2+f-h/2)))/i+d}return(d+k)/2}function jA(c,b){var a=c.N;if(a){return pC(a,b)}var d=c.site;return d.y===b?d.x:Infinity}function pu(a){this.site=a;this.edges=[]}pu.prototype.prepare=function(){var a=this.edges,c=a.length,b;while(c--){b=a[c].edge;if(!b.b||!b.a){a.splice(c,1)}}a.sort(nb);return a.length};function n4(c){var o=c[0][0],p=c[1][0],i=c[0][1],j=c[1][1],r,k,b,l,d=kM,s=d.length,f,h,m,a,q,n;while(s--){f=d[s];if(!f||!f.prepare()){continue}m=f.edges;a=m.length;h=0;while(h<a){n=m[h].end(),b=n.x,l=n.y;q=m[++h%a].start(),r=q.x,k=q.y;if(o8(b-r)>jf||o8(l-k)>jf){m.splice(h,0,new j7(iS(f.site,n,o8(b-o)<jf&&j-l>jf?{x:o,y:o8(r-o)<jf?k:j}:o8(l-j)<jf&&p-b>jf?{x:o8(k-j)<jf?r:p,y:j}:o8(b-p)<jf&&l-i>jf?{x:p,y:o8(r-p)<jf?k:i}:o8(l-i)<jf&&b-o>jf?{x:o8(k-i)<jf?r:o,y:i}:null),f.site,null));++a}}}}function nb(a,b){return b.angle-a.angle}function qw(){ng(this);this.x=this.y=this.arc=this.site=this.cy=null}function om(p){var f=p.P,i=p.N;if(!f||!i){return}var n=f.site,b=p.site,v=i.site;if(n===v){return}var c=b.x,d=b.y,k=n.x-c,m=n.y-d,t=v.x-c,u=v.y-d;var a=2*(k*u-m*t);if(a>=-mz){return}var q=k*k+m*m,r=t*t+u*u,l=(u*q-m*r)/a,o=(k*r-t*q)/a,u=o+d;var s=kW.pop()||new qw();s.arc=p;s.site=b;s.x=l+c;s.y=u+Math.sqrt(l*l+o*o);s.cy=u;p.circle=s;var j=null,h=oC._;while(h){if(s.y<h.y||s.y===h.y&&s.x<=h.x){if(h.L){h=h.L}else{j=h.P;break}}else{if(h.R){h=h.R}else{j=h;break}}}oC.insert(j,s);if(!j){iN=s}}function mh(b){var a=b.circle;if(a){if(!a.P){iN=a.N}oC.remove(a);kW.push(a);ng(a);b.circle=null}}function jz(c){var f=j8,b=p6(c[0][0],c[0][1],c[1][0],c[1][1]),d=f.length,a;while(d--){a=f[d];if(!oO(a,c)||!b(a)||o8(a.a.x-a.b.x)<jf&&o8(a.a.y-a.b.y)<jf){a.a=a.b=null;f.splice(d,1)}}}function oO(i,d){var t=i.b;if(t){return true}var s=i.a,a=d[0][0],b=d[1][0],o=d[0][1],q=d[1][1],f=i.l,r=i.r,l=f.x,m=f.y,j=r.x,k=r.y,n=(l+j)/2,p=(m+k)/2,h,c;if(k===m){if(n<a||n>=b){return}if(l>j){if(!s){s={x:n,y:o}}else{if(s.y>=q){return}}t={x:n,y:q}}else{if(!s){s={x:n,y:q}}else{if(s.y<o){return}}t={x:n,y:o}}}else{h=(l-j)/(k-m);c=p-h*n;if(h<-1||h>1){if(l>j){if(!s){s={x:(o-c)/h,y:o}}else{if(s.y>=q){return}}t={x:(q-c)/h,y:q}}else{if(!s){s={x:(q-c)/h,y:q}}else{if(s.y<o){return}}t={x:(o-c)/h,y:o}}}else{if(m<k){if(!s){s={x:a,y:h*a+c}}else{if(s.x>=b){return}}t={x:b,y:h*b+c}}else{if(!s){s={x:b,y:h*b+c}}else{if(s.x<a){return}}t={x:a,y:h*a+c}}}}i.a=s;i.b=t;return true}function pf(a,b){this.l=a;this.r=b;this.a=this.b=null}function iH(a,f,b,d){var c=new pf(a,f);j8.push(c);if(b){nh(c,a,f,b)}if(d){nh(c,f,a,d)}kM[a.i].edges.push(new j7(c,a,f));kM[f.i].edges.push(new j7(c,f,a));return c}function iS(a,b,d){var c=new pf(a,null);c.a=b;c.b=d;j8.push(c);return c}function nh(c,a,d,b){if(!c.a&&!c.b){c.a=b;c.l=a;c.r=d}else{if(c.l===d){c.b=b}else{c.a=b}}}function j7(b,a,f){var c=b.a,d=b.b;this.edge=b;this.site=a;this.angle=f?Math.atan2(f.y-a.y,f.x-a.x):b.l===a?Math.atan2(d.x-c.x,c.y-d.y):Math.atan2(c.x-d.x,d.y-c.y)}j7.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}};function pl(){this._=null}function ng(a){a.U=a.C=a.L=a.R=a.P=a.N=null}pl.prototype={insert:function(a,b){var c,d,f;if(a){b.P=a;b.N=a.N;if(a.N){a.N.P=b}a.N=b;if(a.R){a=a.R;while(a.L){a=a.L}a.L=b}else{a.R=b}c=a}else{if(this._){a=mE(this._);b.P=null;b.N=a;a.P=a.L=b;c=a}else{b.P=b.N=null;this._=b;c=null}}b.L=b.R=null;b.U=c;b.C=true;a=b;while(c&&c.C){d=c.U;if(c===d.L){f=d.R;if(f&&f.C){c.C=f.C=false;d.C=true;a=d}else{if(a===c.R){p9(this,c);a=c;c=a.U}c.C=false;d.C=true;l8(this,d)}}else{f=d.L;if(f&&f.C){c.C=f.C=false;d.C=true;a=d}else{if(a===c.L){l8(this,c);a=c;c=a.U}c.C=false;d.C=true;p9(this,d)}}c=a.U}this._.C=false},remove:function(c){if(c.N){c.N.P=c.P}if(c.P){c.P.N=c.N}c.N=c.P=null;var d=c.U,f,a=c.L,i=c.R,h,b;if(!a){h=i}else{if(!i){h=a}else{h=mE(i)}}if(d){if(d.L===c){d.L=h}else{d.R=h}}else{this._=h}if(a&&i){b=h.C;h.C=c.C;h.L=a;a.U=h;if(h!==i){d=h.U;h.U=c.U;c=h.R;d.L=c;h.R=i;i.U=h}else{h.U=d;d=h;c=h.R}}else{b=c.C;c=h}if(c){c.U=d}if(b){return}if(c&&c.C){c.C=false;return}do{if(c===this._){break}if(c===d.L){f=d.R;if(f.C){f.C=false;d.C=true;p9(this,d);f=d.R}if(f.L&&f.L.C||f.R&&f.R.C){if(!f.R||!f.R.C){f.L.C=false;f.C=true;l8(this,f);f=d.R}f.C=d.C;d.C=f.R.C=false;p9(this,d);c=this._;break}}else{f=d.L;if(f.C){f.C=false;d.C=true;l8(this,d);f=d.L}if(f.L&&f.L.C||f.R&&f.R.C){if(!f.L||!f.L.C){f.R.C=false;f.C=true;p9(this,f);f=d.L}f.C=d.C;d.C=f.L.C=false;l8(this,d);c=this._;break}}f.C=true;c=d;d=d.U}while(!c.C);if(c){c.C=false}}};function p9(f,c){var a=c,b=c.R,d=a.U;if(d){if(d.L===a){d.L=b}else{d.R=b}}else{f._=b}b.U=d;a.U=b;a.R=b.L;if(a.R){a.R.U=a}b.L=a}function l8(f,c){var a=c,b=c.L,d=a.U;if(d){if(d.L===a){d.L=b}else{d.R=b}}else{f._=b}b.U=d;a.U=b;a.L=b.R;if(a.L){a.L.U=a}b.R=a}function mE(a){while(a.L){a=a.L}return a}function k4(b,a){var h=b.sort(oS).pop(),f,d,c;j8=[];kM=new Array(b.length);oz=new pl();oC=new pl();while(true){c=iN;if(h&&(!c||h.y<c.y||h.y===c.y&&h.x<c.x)){if(h.x!==f||h.y!==d){kM[h.i]=new pu(h);lT(h);f=h.x,d=h.y}h=b.pop()}else{if(c){iB(c.arc)}else{break}}}if(a){jz(a),n4(a)}var i={cells:kM,edges:j8};oz=oC=j8=kM=null;return i}function oS(a,b){return b.y-a.y||b.x-a.x}iD.geom.voronoi=function(f){var j=i0,a=i2,d=j,h=a,i=jr;if(f){return b(f)}function b(l){var k=new Array(l.length),o=i[0][0],m=i[0][1],p=i[1][0],n=i[1][1];k4(c(l),i).cells.forEach(function(u,q){var t=u.edges,s=u.site,r=k[q]=t.length?t.map(function(v){var x=v.start();return[x.x,x.y]}):s.x>=o&&s.x<=p&&s.y>=m&&s.y<=n?[[o,n],[p,n],[p,m],[o,m]]:[];r.point=l[q]});return k}function c(k){return k.map(function(l,m){return{x:Math.round(d(l,m)/jf)*jf,y:Math.round(h(l,m)/jf)*jf,i:m}})}b.links=function(k){return k4(c(k)).edges.filter(function(l){return l.l&&l.r}).map(function(l){return{source:k[l.l.i],target:k[l.r.i]}})};b.triangles=function(l){var k=[];k4(c(l)).cells.forEach(function(n,r){var v=n.site,s=n.edges.sort(nb),t=-1,u=s.length,p,m,q=s[u-1].edge,o=q.l===v?q.r:q.l;while(++t<u){p=q;m=o;q=s[t].edge;o=q.l===v?q.r:q.l;if(r<m.i&&r<o.i&&kC(v,m,o)<0){k.push([l[r],l[m.i],l[o.i]])}}});return k};b.x=function(k){return arguments.length?(d=oE(j=k),b):j};b.y=function(k){return arguments.length?(h=oE(a=k),b):a};b.clipExtent=function(k){if(!arguments.length){return i===jr?null:i}i=k==null?jr:k;return b};b.size=function(k){if(!arguments.length){return i===jr?null:i&&i[1]}return b.clipExtent(k&&[[0,0],k])};return b};var jr=[[-1000000,-1000000],[1000000,1000000]];function kC(b,c,a){return(b.x-a.x)*(c.y-b.y)-(b.x-c.x)*(a.y-b.y)}iD.geom.delaunay=function(a){return iD.geom.voronoi().triangles(a)};iD.geom.quadtree=function(d,a,h,b,i){var f=i0,j=i2,c;if(c=arguments.length){f=l1;j=l7;if(c===3){i=h;b=a;h=a=0}return k(d)}function k(o){var u,v=oE(f),B=oE(j),r,A,y,l,E,m,t,q;if(a!=null){E=a,m=h,t=b,q=i}else{t=q=-(E=m=Infinity);r=[],A=[];l=o.length;if(c){for(y=0;y<l;++y){u=o[y];if(u.x<E){E=u.x}if(u.y<m){m=u.y}if(u.x>t){t=u.x}if(u.y>q){q=u.y}r.push(u.x);A.push(u.y)}}else{for(y=0;y<l;++y){var x=+v(u=o[y],y),z=+B(u,y);if(x<E){E=x}if(z<m){m=z}if(x>t){t=x}if(z>q){q=z}r.push(x);A.push(z)}}}var n=t-E,p=q-m;if(n>p){q=m+n}else{t=E+p}function D(K,F,N,Q,L,O,M,P){if(isNaN(N)||isNaN(Q)){return}if(K.leaf){var G=K.x,H=K.y;if(G!=null){if(o8(G-N)+o8(H-Q)<0.01){s(K,F,N,Q,L,O,M,P)}else{var I=K.point;K.x=K.y=K.point=null;s(K,I,G,H,L,O,M,P);s(K,F,N,Q,L,O,M,P)}}else{K.x=N,K.y=Q,K.point=F}}else{s(K,F,N,Q,L,O,M,P)}}function s(I,F,P,S,L,Q,M,R){var G=(L+M)*0.5,K=(Q+R)*0.5,N=P>=G,O=S>=K,H=O<<1|N;I.leaf=false;I=I.nodes[H]||(I.nodes[H]=lt());if(N){L=G}else{M=G}if(O){Q=K}else{R=K}D(I,F,P,S,L,Q,M,R)}var C=lt();C.add=function(F){D(C,F,+v(F,++y),+B(F,y),E,m,t,q)};C.visit=function(F){oQ(F,C,E,m,t,q)};C.find=function(F){return lk(C,F[0],F[1],E,m,t,q)};y=-1;if(a==null){while(++y<l){D(C,o[y],r[y],A[y],E,m,t,q)}--y}else{o.forEach(C.add)}r=A=o=u=null;return C}k.x=function(l){return arguments.length?(f=l,k):f};k.y=function(l){return arguments.length?(j=l,k):j};k.extent=function(l){if(!arguments.length){return a==null?null:[[a,h],[b,i]]}if(l==null){a=h=b=i=null}else{a=+l[0][0],h=+l[0][1],b=+l[1][0],i=+l[1][1]}return k};k.size=function(l){if(!arguments.length){return a==null?null:[b-a,i-h]}if(l==null){a=h=b=i=null}else{a=h=0,b=+l[0],i=+l[1]}return k};return k};function l1(a){return a.x}function l7(a){return a.y}function lt(){return{leaf:true,nodes:[],point:null,x:null,y:null}}function oQ(i,j,a,c,b,f){if(!i(j,a,c,b,f)){var d=(a+b)*0.5,h=(c+f)*0.5,k=j.nodes;if(k[0]){oQ(i,k[0],a,c,d,h)}if(k[1]){oQ(i,k[1],d,c,b,h)}if(k[2]){oQ(i,k[2],a,h,d,f)}if(k[3]){oQ(i,k[3],d,h,b,f)}}}function lk(h,d,i,l,c,b,j){var f=Infinity,a;(function k(q,y,C,A,D){if(y>b||C>j||A<l||D<c){return}if(x=q.point){var x,s=d-q.x,u=i-q.y,m=s*s+u*u;if(m<f){var B=Math.sqrt(f=m);l=d-B,c=i-B;b=d+B,j=i+B;a=x}}var r=q.nodes,n=(y+A)*0.5,t=(C+D)*0.5,v=d>=n,z=i>=t;for(var o=z<<1|v,p=o+4;o<p;++o){if(q=r[o&3]){switch(o&3){case 0:k(q,y,C,n,t);break;case 1:k(q,n,C,A,t);break;case 2:k(q,y,t,n,D);break;case 3:k(q,n,t,A,D);break}}}})(h,l,c,b,j);return a}iD.interpolateRgb=qN;function qN(i,j){i=iD.rgb(i);j=iD.rgb(j);var f=i.r,h=i.g,b=i.b,c=j.r-f,d=j.g-h,a=j.b-b;return function(k){return"#"+mS(Math.round(f+c*k))+mS(Math.round(h+d*k))+mS(Math.round(b+a*k))}}iD.interpolateObject=p1;function p1(d,f){var b={},a={},c;for(c in d){if(c in f){b[c]=lC(d[c],f[c])}else{a[c]=d[c]}}for(c in f){if(!(c in d)){a[c]=f[c]}}return function(h){for(c in b){a[c]=b[c](h)}return a}}iD.interpolateNumber=qe;function qe(a,b){a=+a,b=+b;return function(c){return a*(1-c)+b*c}}iD.interpolateString=qI;function qI(f,h){var k=jC.lastIndex=jG.lastIndex=0,i,a,d,j=-1,c=[],b=[];f=f+"",h=h+"";while((i=jC.exec(f))&&(a=jG.exec(h))){if((d=a.index)>k){d=h.slice(k,d);if(c[j]){c[j]+=d}else{c[++j]=d}}if((i=i[0])===(a=a[0])){if(c[j]){c[j]+=a}else{c[++j]=a}}else{c[++j]=null;b.push({i:j,x:qe(i,a)})}k=jG.lastIndex}if(k<h.length){d=h.slice(k);if(c[j]){c[j]+=d}else{c[++j]=d}}return c.length<2?b[0]?(h=b[0].x,function(l){return h(l)+""}):function(){return h}:(h=b.length,function(m){for(var n=0,l;n<h;++n){c[(l=b[n]).i]=l.x(m)}return c.join("")})}var jC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jG=new RegExp(jC.source,"g");iD.interpolate=lC;function lC(c,d){var b=iD.interpolators.length,a;while(--b>=0&&!(a=iD.interpolators[b](c,d))){}return a}iD.interpolators=[function(b,c){var a=typeof c;return(a==="string"?p2.has(c.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(c)?qN:qI:c instanceof jQ?qN:Array.isArray(c)?me:a==="object"&&isNaN(c)?p1:qe)(b,c)}];iD.interpolateArray=me;function me(d,h){var i=[],a=[],f=d.length,j=h.length,b=Math.min(d.length,h.length),c;for(c=0;c<b;++c){i.push(lC(d[c],h[c]))}for(;c<f;++c){a[c]=d[c]}for(;c<j;++c){a[c]=h[c]}return function(k){for(c=0;c<b;++c){a[c]=i[c](k)}return a}}var iI=function(){return ji};var qo=iD.map({linear:iI,poly:qE,quad:function(){return pt},cubic:function(){return pa},sin:function(){return jB},exp:function(){return jW},circle:function(){return oq},elastic:op,back:la,bounce:function(){return ny}});var nJ=iD.map({"in":ji,out:pp,"in-out":il,"out-in":function(a){return il(pp(a))}});iD.ease=function(c){var a=c.indexOf("-"),b=a>=0?c.slice(0,a):c,d=a>=0?c.slice(a+1):"in";b=qo.get(b)||iI;d=nJ.get(d)||ji;return jI(d(b.apply(null,pX.call(arguments,1))))};function jI(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function pp(a){return function(b){return 1-a(1-b)}}function il(a){return function(b){return 0.5*(b<0.5?a(2*b):2-a(2-2*b))}}function pt(a){return a*a}function pa(a){return a*a*a}function pA(b){if(b<=0){return 0}if(b>=1){return 1}var a=b*b,c=a*b;return 4*(b<0.5?c:3*(b-a)+c-0.75)}function qE(a){return function(b){return Math.pow(b,a)}}function jB(a){return 1-Math.cos(a*k9)}function jW(a){return Math.pow(2,10*(a-1))}function oq(a){return 1-Math.sqrt(1-a*a)}function op(c,a){var b;if(arguments.length<2){a=0.45}if(arguments.length){b=a/lR*Math.asin(1/c)}else{c=1,b=a/4}return function(d){return 1+c*Math.pow(2,-10*d)*Math.sin((d-b)*lR/a)}}function la(a){if(!a){a=1.70158}return function(b){return b*b*((a+1)*b-a)}}function ny(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}iD.interpolateHcl=jY;function jY(h,j){h=iD.hcl(h);j=iD.hcl(j);var i=h.h,d=h.c,b=h.l,f=j.h-i,c=j.c-d,a=j.l-b;if(isNaN(c)){c=0,d=isNaN(d)?j.c:d}if(isNaN(f)){f=0,i=isNaN(i)?j.h:i}else{if(f>180){f-=360}else{if(f<-180){f+=360}}}return function(k){return qj(i+f*k,d+c*k,b+a*k)+""}}iD.interpolateHsl=ik;function ik(f,j){f=iD.hsl(f);j=iD.hsl(j);var h=f.h,i=f.s,b=f.l,c=j.h-h,d=j.s-i,a=j.l-b;if(isNaN(d)){d=0,i=isNaN(i)?j.s:i}if(isNaN(c)){c=0,h=isNaN(h)?j.h:h}else{if(c>180){c-=360}else{if(c<-180){c+=360}}}return function(k){return o4(h+c*k,i+d*k,b+a*k)+""}}iD.interpolateLab=jH;function jH(i,j){i=iD.lab(i);j=iD.lab(j);var d=i.l,f=i.a,h=i.b,a=j.l-d,b=j.a-f,c=j.b-h;return function(k){return qY(d+a*k,f+b*k,h+c*k)+""}}iD.interpolateRound=jN;function jN(a,b){b-=a;return function(c){return Math.round(a+b*c)}}iD.transform=function(b){var a=p0.createElementNS(iD.ns.prefix.svg,"g");return(iD.transform=function(d){if(d!=null){a.setAttribute("transform",d);var c=a.transform.baseVal.consolidate()}return new nt(c?c.matrix:lM)})(b)};function nt(h){var c=[h.a,h.b],f=[h.c,h.d],a=kb(c),d=lL(c,f),b=kb(pL(f,c,-d))||0;if(c[0]*f[1]<f[0]*c[1]){c[0]*=-1;c[1]*=-1;a*=-1;d*=-1}this.rotate=(a?Math.atan2(c[1],c[0]):Math.atan2(-f[0],f[1]))*jv;this.translate=[h.e,h.f];this.scale=[a,b];this.skew=b?Math.atan2(d,b)*jv:0}nt.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};function lL(a,b){return a[0]*b[0]+a[1]*b[1]}function kb(b){var a=Math.sqrt(lL(b,b));if(a){b[0]/=a;b[1]/=a}return a}function pL(b,c,a){b[0]+=a*c[0];b[1]+=a*c[1];return b}var lM={a:1,b:0,c:0,d:1,e:0,f:0};iD.interpolateTransform=ls;function qA(a){return a.length?a.pop()+",":""}function i5(d,f,b,a){if(d[0]!==f[0]||d[1]!==f[1]){var c=b.push("translate(",null,",",null,")");a.push({i:c-4,x:qe(d[0],f[0])},{i:c-2,x:qe(d[1],f[1])})}else{if(f[0]||f[1]){b.push("translate("+f+")")}}}function k0(a,b,d,c){if(a!==b){if(a-b>180){b+=360}else{if(b-a>180){a+=360}}c.push({i:d.push(qA(d)+"rotate(",null,")")-2,x:qe(a,b)})}else{if(b){d.push(qA(d)+"rotate("+b+")")}}}function mf(a,b,d,c){if(a!==b){c.push({i:d.push(qA(d)+"skewX(",null,")")-2,x:qe(a,b)})}else{if(b){d.push(qA(d)+"skewX("+b+")")}}}function jJ(b,c,d,a){if(b[0]!==c[0]||b[1]!==c[1]){var f=d.push(qA(d)+"scale(",null,",",null,")");a.push({i:f-4,x:qe(b[0],c[0])},{i:f-2,x:qe(b[1],c[1])})}else{if(c[0]!==1||c[1]!==1){d.push(qA(d)+"scale("+c+")")}}}function ls(c,d){var b=[],a=[];c=iD.transform(c),d=iD.transform(d);i5(c.translate,d.translate,b,a);k0(c.rotate,d.rotate,b,a);mf(c.skew,d.skew,b,a);jJ(c.scale,d.scale,b,a);c=d=null;return function(i){var j=-1,f=a.length,h;while(++j<f){b[(h=a[j]).i]=h.x(i)}return b.join("")}}function iv(a,b){b=(b-=a=+a)||1/b;return function(c){return(c-a)/b}}function ps(a,b){b=(b-=a=+a)||1/b;return function(c){return Math.max(0,Math.min(1,(c-a)/b))}}iD.layout={};iD.layout.bundle=function(){return function(d){var b=[],c=-1,a=d.length;while(++c<a){b.push(ml(d[c]))}return b}};function ml(c){var a=c.source,h=c.target,b=lm(a,h),d=[a];while(a!==b){a=a.parent;d.push(a)}var f=d.length;while(h!==b){d.splice(f,0,h);h=h.parent}return d}function kd(a){var b=[],c=a.parent;while(c!=null){b.push(a);a=c;c=c.parent}b.push(a);return b}function lm(d,h){if(d===h){return d}var f=kd(d),i=kd(h),c=f.pop(),b=i.pop(),a=null;while(c===b){a=c;c=f.pop();b=i.pop()}return a}iD.layout.chord=function(){var j={},i,l,c,m,d=0,b,a,k;function f(){var r={},o=[],s=iD.range(m),B=[],q,x,t,n,p;i=[];l=[];q=0,n=-1;while(++n<m){x=0,p=-1;while(++p<m){x+=c[n][p]}o.push(x);B.push(iD.range(m));q+=x}if(b){s.sort(function(E,F){return b(o[E],o[F])})}if(a){B.forEach(function(E,F){E.sort(function(G,H){return a(c[F][G],c[F][H])})})}q=(lR-d*m)/q;x=0,n=-1;while(++n<m){t=x,p=-1;while(++p<m){var z=s[n],C=B[z][p],v=c[z][C],u=x,y=x+=v*q;r[z+"-"+C]={index:z,subindex:C,startAngle:u,endAngle:y,value:v}}l[z]={index:z,startAngle:t,endAngle:x,value:o[z]};x+=d}n=-1;while(++n<m){p=n-1;while(++p<m){var A=r[n+"-"+p],D=r[p+"-"+n];if(A.value||D.value){i.push(A.value<D.value?{source:D,target:A}:{source:A,target:D})}}}if(k){h()}}function h(){i.sort(function(n,o){return k((n.source.value+n.target.value)/2,(o.source.value+o.target.value)/2)})}j.matrix=function(n){if(!arguments.length){return c}m=(c=n)&&c.length;i=l=null;return j};j.padding=function(n){if(!arguments.length){return d}d=n;i=l=null;return j};j.sortGroups=function(n){if(!arguments.length){return b}b=n;i=l=null;return j};j.sortSubgroups=function(n){if(!arguments.length){return a}a=n;i=null;return j};j.sortChords=function(n){if(!arguments.length){return k}k=n;if(i){h()}return j};j.chords=function(){if(!i){f()}return i};j.groups=function(){if(!l){f()}return l};return j};iD.layout.force=function(){var u={},d=iD.dispatch("start","tick","end"),n,l=[1,1],b,r,o=0.9,a=k7,s=mZ,f=-30,i=nW,q=0.1,k=0.64,h=[],t=[],p,v,m;function c(x){return function(A,E,B,F){if(A.point!==x){var y=A.cx-x.x,z=A.cy-x.y,G=F-E,C=y*y+z*z;if(G*G/k<C){if(C<i){var D=A.charge/C;x.px-=y*D;x.py-=z*D}return true}if(A.point&&C&&C<i){var D=A.pointCharge/C;x.px-=y*D;x.py-=z*D}}return !A.charge}}u.tick=function(){if((r*=0.99)<0.005){n=null;d.end({type:"end",alpha:r=0});return true}var F=h.length,E=t.length,H,B,G,x,y,D,C,z,A;for(B=0;B<E;++B){G=t[B];x=G.source;y=G.target;z=y.x-x.x;A=y.y-x.y;if(D=z*z+A*A){D=r*v[B]*((D=Math.sqrt(D))-p[B])/D;z*=D;A*=D;y.x-=z*(C=x.weight+y.weight?x.weight/(x.weight+y.weight):0.5);y.y-=A*C;x.x+=z*(C=1-C);x.y+=A*C}}if(C=r*q){z=l[0]/2;A=l[1]/2;B=-1;if(C){while(++B<F){G=h[B];G.x+=(z-G.x)*C;G.y+=(A-G.y)*C}}}if(f){kF(H=iD.geom.quadtree(h),r,m);B=-1;while(++B<F){if(!(G=h[B]).fixed){H.visit(c(G))}}}B=-1;while(++B<F){G=h[B];if(G.fixed){G.x=G.px;G.y=G.py}else{G.x-=(G.px-(G.px=G.x))*o;G.y-=(G.py-(G.py=G.y))*o}}d.tick({type:"tick",alpha:r})};u.nodes=function(x){if(!arguments.length){return h}h=x;return u};u.links=function(x){if(!arguments.length){return t}t=x;return u};u.size=function(x){if(!arguments.length){return l}l=x;return u};u.linkDistance=function(x){if(!arguments.length){return a}a=typeof x==="function"?x:+x;return u};u.distance=u.linkDistance;u.linkStrength=function(x){if(!arguments.length){return s}s=typeof x==="function"?x:+x;return u};u.friction=function(x){if(!arguments.length){return o}o=+x;return u};u.charge=function(x){if(!arguments.length){return f}f=typeof x==="function"?x:+x;return u};u.chargeDistance=function(x){if(!arguments.length){return Math.sqrt(i)}i=x*x;return u};u.gravity=function(x){if(!arguments.length){return q}q=+x;return u};u.theta=function(x){if(!arguments.length){return Math.sqrt(k)}k=x*x;return u};u.alpha=function(x){if(!arguments.length){return r}x=+x;if(r){if(x>0){r=x}else{n.c=null,n.t=NaN,n=null;d.end({type:"end",alpha:r=0})}}else{if(x>0){d.start({type:"start",alpha:r=x});n=k1(u.tick)}}return u};u.start=function(){var C,z=h.length,x=t.length,E=l[0],B=l[1],D,A;for(C=0;C<z;++C){(A=h[C]).index=C;A.weight=0}for(C=0;C<x;++C){A=t[C];if(typeof A.source=="number"){A.source=h[A.source]}if(typeof A.target=="number"){A.target=h[A.target]}++A.source.weight;++A.target.weight}for(C=0;C<z;++C){A=h[C];if(isNaN(A.x)){A.x=y("x",E)}if(isNaN(A.y)){A.y=y("y",B)}if(isNaN(A.px)){A.px=A.x}if(isNaN(A.py)){A.py=A.y}}p=[];if(typeof a==="function"){for(C=0;C<x;++C){p[C]=+a.call(this,t[C],C)}}else{for(C=0;C<x;++C){p[C]=a}}v=[];if(typeof s==="function"){for(C=0;C<x;++C){v[C]=+s.call(this,t[C],C)}}else{for(C=0;C<x;++C){v[C]=s}}m=[];if(typeof f==="function"){for(C=0;C<z;++C){m[C]=+f.call(this,h[C],C)}}else{for(C=0;C<z;++C){m[C]=f}}function y(M,G){if(!D){D=new Array(z);for(H=0;H<z;++H){D[H]=[]}for(H=0;H<x;++H){var L=t[H];D[L.source.index].push(L.target);D[L.target.index].push(L.source)}}var F=D[C],H=-1,I=F.length,K;while(++H<I){if(!isNaN(K=F[H][M])){return K}}return Math.random()*G}return u.resume()};u.resume=function(){return u.alpha(0.1)};u.stop=function(){return u.alpha(0)};u.drag=function(){if(!b){b=iD.behavior.drag().origin(ji).on("dragstart.force",nm).on("drag.force",j).on("dragend.force",lB)}if(!arguments.length){return b}this.on("mouseover.force",mO).on("mouseout.force",li).call(b)};function j(x){x.px=iD.event.x,x.py=iD.event.y;u.resume()}return iD.rebind(u,d,"on")};function nm(a){a.fixed|=2}function lB(a){a.fixed&=~6}function mO(a){a.fixed|=4;a.px=a.x,a.py=a.y}function li(a){a.fixed&=~4}function kF(c,j,d){var i=0,l=0;c.charge=0;if(!c.leaf){var b=c.nodes,a=b.length,h=-1,f;while(++h<a){f=b[h];if(f==null){continue}kF(f,j,d);c.charge+=f.charge;i+=f.charge*f.cx;l+=f.charge*f.cy}}if(c.point){if(!c.leaf){c.point.x+=Math.random()-0.5;c.point.y+=Math.random()-0.5}var k=j*d[c.point.index];c.charge+=c.pointCharge=k;i+=k*c.point.x;l+=k*c.point.y}c.cx=i/c.charge;c.cy=l/c.charge}var k7=20,mZ=1,nW=Infinity;iD.layout.hierarchy=function(){var b=nf,c=ig,a=jk;function d(j){var k=[j],i=[],h;j.depth=0;while((h=k.pop())!=null){i.push(h);if((f=c.call(d,h,h.depth))&&(l=f.length)){var l,f,m;while(--l>=0){k.push(m=f[l]);m.parent=h;m.depth=h.depth+1}if(a){h.value=0}h.children=f}else{if(a){h.value=+a.call(d,h,h.depth)||0}delete h.children}}kh(j,function(o){var n,p;if(b&&(n=o.children)){n.sort(b)}if(a&&(p=o.parent)){p.value+=o.value}});return i}d.sort=function(f){if(!arguments.length){return b}b=f;return d};d.children=function(f){if(!arguments.length){return c}c=f;return d};d.value=function(f){if(!arguments.length){return a}a=f;return d};d.revalue=function(f){if(a){kS(f,function(h){if(h.children){h.value=0}});kh(f,function(h){var i;if(!h.children){h.value=+a.call(d,h,h.depth)||0}if(i=h.parent){i.value+=h.value}})}return f};return d};function i4(a,b){iD.rebind(a,b,"sort","children","value");a.nodes=a;a.links=iX;return a}function kS(c,a){var f=[c];while((c=f.pop())!=null){a(c);if((d=c.children)&&(b=d.length)){var b,d;while(--b>=0){f.push(d[b])}}}}function kh(c,a){var h=[c],i=[];while((c=h.pop())!=null){i.push(c);if((f=c.children)&&(b=f.length)){var d=-1,b,f;while(++d<b){h.push(f[d])}}}while((c=i.pop())!=null){a(c)}}function ig(a){return a.children}function jk(a){return a.value}function nf(a,b){return b.value-a.value}function iX(a){return iD.merge(a.map(function(b){return(b.children||[]).map(function(c){return{source:b,target:c}})}))}iD.layout.partition=function(){var c=iD.layout.hierarchy(),b=[1,1];function f(n,j,h,i){var p=n.children;n.x=j;n.y=n.depth*i;n.dx=h;n.dy=i;if(p&&(o=p.length)){var m=-1,o,k,l;h=n.value?h/n.value:0;while(++m<o){f(k=p[m],j,l=k.value*h,i);j+=l}}}function a(i){var j=i.children,h=0;if(j&&(l=j.length)){var k=-1,l;while(++k<l){h=Math.max(h,a(j[k]))}}return 1+h}function d(h,i){var j=c.call(this,h,i);f(j[0],0,b[0],b[1]/a(j[0]));return j}d.size=function(h){if(!arguments.length){return b}b=h;return d};return i4(d,c)};iD.layout.pie=function(){var a=Number,c=ov,d=0,f=lR,b=0;function h(p){var r=p.length,j=p.map(function(v,u){return +a.call(h,v,u)}),m=+(typeof d==="function"?d.apply(this,arguments):d),i=(typeof f==="function"?f.apply(this,arguments):f)-m,s=Math.min(Math.abs(i)/r,+(typeof b==="function"?b.apply(this,arguments):b)),l=s*(i<0?-1:1),n=iD.sum(j),q=n?(i-r*l)/n:0,o=iD.range(r),t=[],k;if(c!=null){o.sort(c===ov?function(v,u){return j[u]-j[v]}:function(v,u){return c(p[v],p[u])})}o.forEach(function(u){t[u]={data:p[u],value:k=j[u],startAngle:m,endAngle:m+=k*q+l,padAngle:s}});return t}h.value=function(i){if(!arguments.length){return a}a=i;return h};h.sort=function(i){if(!arguments.length){return c}c=i;return h};h.startAngle=function(i){if(!arguments.length){return d}d=i;return h};h.endAngle=function(i){if(!arguments.length){return f}f=i;return h};h.padAngle=function(i){if(!arguments.length){return b}b=i;return h};return h};var ov={};iD.layout.stack=function(){var d=ji,f=pO,b=ly,c=lw,h=pZ,a=p4;function i(m,k){if(!(s=m.length)){return m}var l=m.map(function(v,u){return d.call(i,v,u)});var j=l.map(function(u){return u.map(function(x,v){return[h.call(i,x,v),a.call(i,x,v)]})});var p=f.call(i,j,k);l=iD.permute(l,p);j=iD.permute(j,p);var q=b.call(i,j,k);var r=l[0].length,s,n,o,t;for(o=0;o<r;++o){c.call(i,l[0][o],t=q[o],j[0][o][1]);for(n=1;n<s;++n){c.call(i,l[n][o],t+=j[n-1][o][1],j[n][o][1])}}return m}i.values=function(j){if(!arguments.length){return d}d=j;return i};i.order=function(j){if(!arguments.length){return f}f=typeof j==="function"?j:ii.get(j)||pO;return i};i.offset=function(j){if(!arguments.length){return b}b=typeof j==="function"?j:qd.get(j)||ly;return i};i.x=function(j){if(!arguments.length){return h}h=j;return i};i.y=function(j){if(!arguments.length){return a}a=j;return i};i.out=function(j){if(!arguments.length){return c}c=j;return i};return i};function pZ(a){return a.x}function p4(a){return a.y}function lw(b,c,a){b.y0=c;b.y=a}var ii=iD.map({"inside-out":function(k){var m=k.length,j,l,d=k.map(px),i=k.map(lV),h=iD.range(m).sort(function(n,o){return d[n]-d[o]}),f=0,b=0,c=[],a=[];for(j=0;j<m;++j){l=h[j];if(f<b){f+=i[l];c.push(l)}else{b+=i[l];a.push(l)}}return a.reverse().concat(c)},reverse:function(a){return iD.range(a.length).reverse()},"default":pO});var qd=iD.map({silhouette:function(i){var a=i.length,k=i[0].length,f=[],d=0,h,j,b,c=[];for(j=0;j<k;++j){for(h=0,b=0;h<a;h++){b+=i[h][j][1]}if(b>d){d=b}f.push(b)}for(j=0;j<k;++j){c[j]=(d-f[j])/2}return c},wiggle:function(l){var a=l.length,i=l[0],p=i.length,k,m,n,d,f,j,c,b,o,h=[];h[0]=b=o=0;for(m=1;m<p;++m){for(k=0,d=0;k<a;++k){d+=l[k][m][1]}for(k=0,f=0,c=i[m][0]-i[m-1][0];k<a;++k){for(n=0,j=(l[k][m][1]-l[k][m-1][1])/(2*c);n<k;++n){j+=(l[n][m][1]-l[n][m-1][1])/c}f+=j*l[k][m][1]}h[m]=b-=d?f/d*c:0;if(b<o){o=b}}for(m=0;m<p;++m){h[m]-=o}return h},expand:function(c){var a=c.length,j=c[0].length,i=1/a,f,h,b,d=[];for(h=0;h<j;++h){for(f=0,b=0;f<a;f++){b+=c[f][h][1]}if(b){for(f=0;f<a;f++){c[f][h][1]/=b}}else{for(f=0;f<a;f++){c[f][h][1]=i}}}for(h=0;h<j;++h){d[h]=0}return d},zero:ly});function pO(a){return iD.range(a.length)}function ly(a){var c=-1,d=a[0].length,b=[];while(++c<d){b[c]=0}return b}function px(a){var c=1,d=0,f=a[0][1],h,b=a.length;for(;c<b;++c){if((h=a[c][1])>f){d=c;f=h}}return d}function lV(a){return a.reduce(lA,0)}function lA(b,a){return b+a[1]}iD.layout.histogram=function(){var a=true,d=Number,f=oW,c=iu;function b(o,n){var i=[],k=o.map(d,this),m=f.call(this,k,n),j=c.call(this,m,k,n),h,n=-1,r=k.length,q=j.length-1,p=a?1:1/r,l;while(++n<q){h=i[n]=[];h.dx=j[n+1]-(h.x=j[n]);h.y=0}if(q>0){n=-1;while(++n<r){l=k[n];if(l>=m[0]&&l<=m[1]){h=i[iD.bisect(j,l,1,q)-1];h.y+=p;h.push(o[n])}}}return i}b.value=function(h){if(!arguments.length){return d}d=h;return b};b.range=function(h){if(!arguments.length){return f}f=oE(h);return b};b.bins=function(h){if(!arguments.length){return c}c=typeof h==="number"?function(i){return nP(i,h)}:oE(h);return b};b.frequency=function(h){if(!arguments.length){return a}a=!!h;return b};return b};function iu(a,b){return nP(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function nP(c,a){var d=-1,f=+c[0],h=(c[1]-f)/a,b=[];while(++d<=a){b[d]=h*d+f}return b}function oW(a){return[iD.min(a),iD.max(a)]}iD.layout.pack=function(){var d=iD.layout.hierarchy().sort(mF),a=0,b=[1,1],f;function c(l,h){var i=d.call(this,l,h),j=i[0],k=b[0],o=b[1],n=f==null?Math.sqrt:typeof f==="function"?f:function(){return f};j.x=j.y=0;kh(j,function(p){p.r=+n(p.value)});kh(j,oy);if(a){var m=a*(f?1:Math.max(2*j.r/k,2*j.r/o))/2;kh(j,function(p){p.r+=m});kh(j,oy);kh(j,function(p){p.r-=m})}kg(j,k/2,o/2,f?1:1/Math.max(2*j.r/k,2*j.r/o));return i}c.size=function(h){if(!arguments.length){return b}b=h;return c};c.radius=function(h){if(!arguments.length){return f}f=h==null||typeof h==="function"?h:+h;return c};c.padding=function(h){if(!arguments.length){return a}a=+h;return c};return i4(c,d)};function mF(a,b){return a.value-b.value}function pQ(b,c){var a=b._pack_next;b._pack_next=c;c._pack_prev=b;c._pack_next=a;a._pack_prev=c}function o9(a,b){a._pack_next=b;b._pack_prev=a}function lg(c,f){var b=f.x-c.x,d=f.y-c.y,a=c.r+f.r;return 0.999*a*a>b*b+d*d}function oy(k){if(!(l=k.children)||!(m=l.length)){return}var l,f=Infinity,a=-Infinity,v=Infinity,r=-Infinity,b,c,d,h,i,j,m;function t(x){f=Math.min(x.x-x.r,f);a=Math.max(x.x+x.r,a);v=Math.min(x.y-x.r,v);r=Math.max(x.y+x.r,r)}l.forEach(qG);b=l[0];b.x=-b.r;b.y=0;t(b);if(m>1){c=l[1];c.x=c.r;c.y=0;t(c);if(m>2){d=l[2];pd(b,c,d);t(d);pQ(b,d);b._pack_prev=d;pQ(d,c);c=b._pack_next;for(h=3;h<m;h++){pd(b,c,d=l[h]);var u=0,q=1,s=1;for(i=c._pack_next;i!==c;i=i._pack_next,q++){if(lg(i,d)){u=1;break}}if(u==1){for(j=b._pack_prev;j!==i._pack_prev;j=j._pack_prev,s++){if(lg(j,d)){break}}}if(u){if(q<s||q==s&&c.r<b.r){o9(b,c=i)}else{o9(b=j,c)}h--}else{pQ(b,d);c=d;t(d)}}}}var o=(f+a)/2,p=(v+r)/2,n=0;for(h=0;h<m;h++){d=l[h];d.x-=o;d.y-=p;n=Math.max(n,d.r+Math.sqrt(d.x*d.x+d.y*d.y))}k.r=n;l.forEach(ma)}function qG(a){a._pack_next=a._pack_prev=a}function ma(a){delete a._pack_next;delete a._pack_prev}function kg(c,i,a,h){var d=c.children;c.x=i+=h*c.x;c.y=a+=h*c.y;c.r*=h;if(d){var f=-1,b=d.length;while(++f<b){kg(d[f],i,a,h)}}}function pd(j,l,b){var h=j.r+b.r,c=l.x-j.x,f=l.y-j.y;if(h&&(c||f)){var d=l.r+b.r,i=c*c+f*f;d*=d;h*=h;var k=0.5+(h-d)/(2*i),a=Math.sqrt(Math.max(0,2*d*(h+i)-(h-=i)*h-d*d))/(2*i);b.x=j.x+k*c+a*f;b.y=j.y+k*f-a*c}else{b.x=j.x+h;b.y=j.y}}iD.layout.tree=function(){var j=iD.layout.hierarchy().sort(null).value(null),a=lH,d=[1,1],i=null;function c(o,r){var u=j.call(this,o,r),m=u[0],n=f(m);kh(n,k),n.parent.m=-n.z;kS(n,h);if(i){kS(m,l)}else{var t=m,x=m,v=m;kS(m,function(y){if(y.x<t.x){t=y}if(y.x>x.x){x=y}if(y.depth>v.depth){v=y}});var s=a(t,x)/2-t.x,p=d[0]/(x.x+a(x,t)/2+s),q=d[1]/(v.depth||1);kS(m,function(y){y.x=(y.x+s)*p;y.y=y.depth*q})}return u}function f(q){var s={A:null,children:[q]},t=[s],r;while((r=t.pop())!=null){for(var o=r.children,m,p=0,n=o.length;p<n;++p){t.push((o[p]=m={_:o[p],parent:r,children:(m=o[p].children)&&m.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:p}).a=m)}}return s.children[0]}function k(p){var n=p.children,m=p.parent.children,q=p.i?m[p.i-1]:null;if(n.length){nV(p);var o=(n[0].z+n[n.length-1].z)/2;if(q){p.z=q.z+a(p._,q._);p.m=p.z-o}else{p.z=o}}else{if(q){p.z=q.z+a(p._,q._)}}p.parent.A=b(p,q,p.parent.A||m[0])}function h(m){m._.x=m.z+m.parent.m;m.m+=m.parent.m}function b(x,y,q){if(y){var t=x,u=x,r=y,s=t.parent.children[0],o=t.m,p=u.m,m=r.m,n=s.m,v;while(r=qZ(r),t=iU(t),r&&t){s=iU(s);u=qZ(u);u.a=x;v=r.z+m-t.z-o+a(r._,t._);if(v>0){ka(kK(r,x,q),x,v);o+=v;p+=v}m+=r.m;o+=t.m;n+=s.m;p+=u.m}if(r&&!qZ(u)){u.t=r;u.m+=m-p}if(t&&!iU(s)){s.t=t;s.m+=o-n;q=x}}return q}function l(m){m.x*=d[0];m.y=m.depth*d[1]}c.separation=function(m){if(!arguments.length){return a}a=m;return c};c.size=function(m){if(!arguments.length){return i?null:d}i=(d=m)==null?l:null;return c};c.nodeSize=function(m){if(!arguments.length){return i?d:null}i=(d=m)==null?null:l;return c};return i4(c,j)};function lH(a,b){return a.parent==b.parent?1:2}function iU(b){var a=b.children;return a.length?a[0]:b.t}function qZ(c){var b=c.children,a;return(a=b.length)?b[a-1]:c.t}function ka(b,c,d){var a=d/(c.i-b.i);c.c-=a;c.s+=d;b.c+=a;c.z+=d;c.m+=d}function nV(d){var f=0,a=0,b=d.children,c=b.length,h;while(--c>=0){h=b[c];h.z+=f;h.m+=f;f+=h.s+(a+=h.c)}}function kK(b,c,a){return b.a.parent===c.parent?b.a:a}iD.layout.cluster=function(){var c=iD.layout.hierarchy().sort(null).value(null),a=lH,b=[1,1],d=false;function f(l,m){var q=c.call(this,l,m),k=q[0],j,i=0;kh(k,function(r){var s=r.children;if(s&&s.length){r.x=n6(s);r.y=ob(s)}else{r.x=j?i+=a(r,j):0;r.y=0;j=r}});var n=mB(k),h=nO(k),o=n.x-a(n,h)/2,p=h.x+a(h,n)/2;kh(k,d?function(r){r.x=(r.x-k.x)*b[0];r.y=(k.y-r.y)*b[1]}:function(r){r.x=(r.x-o)/(p-o)*b[0];r.y=(1-(k.y?r.y/k.y:1))*b[1]});return q}f.separation=function(h){if(!arguments.length){return a}a=h;return f};f.size=function(h){if(!arguments.length){return d?null:b}d=(b=h)==null;return f};f.nodeSize=function(h){if(!arguments.length){return d?b:null}d=(b=h)!=null;return f};return i4(f,c)};function ob(a){return 1+iD.max(a,function(b){return b.y})}function n6(a){return a.reduce(function(c,b){return c+b.x},0)/a.length}function mB(a){var b=a.children;return b&&b.length?mB(b[0]):a}function nO(b){var c=b.children,a;return c&&(a=c.length)?nO(c[a-1]):b}iD.layout.treemap=function(){var k=iD.layout.hierarchy(),f=Math.round,c=[1,1],j=null,b=mY,i=false,m,n="squarify",l=0.5*(1+Math.sqrt(5));function a(t,v){var u=-1,s=t.length,x,r;while(++u<s){r=(x=t[u]).value*(v<0?0:v);x.area=isNaN(r)||r<=0?0:r}}function p(r){var u=r.children;if(u&&u.length){var z=b(r),x=[],A=u.slice(),v,B=Infinity,s,y=n==="slice"?z.dx:n==="dice"?z.dy:n==="slice-dice"?r.depth&1?z.dy:z.dx:Math.min(z.dx,z.dy),t;a(A,z.dx*z.dy/r.value);x.area=0;while((t=A.length)>0){x.push(v=A[t-1]);x.area+=v.area;if(n!=="squarify"||(s=q(x,y))<=B){A.pop();B=s}else{x.area-=x.pop().area;o(x,y,z,false);y=Math.min(z.dx,z.dy);x.length=x.area=0;B=Infinity}}if(x.length){o(x,y,z,true);x.length=x.area=0}u.forEach(p)}}function d(r){var v=r.children;if(v&&v.length){var t=b(r),u=v.slice(),s,x=[];a(u,t.dx*t.dy/r.value);x.area=0;while(s=u.pop()){x.push(s);x.area+=s.area;if(s.z!=null){o(x,s.z?t.dx:t.dy,t,!u.length);x.length=x.area=0}}v.forEach(d)}}function q(u,v){var s=u.area,z,y=0,x=Infinity,t=-1,r=u.length;while(++t<r){if(!(z=u[t].area)){continue}if(z<x){x=z}if(z>y){y=z}}s*=s;v*=v;return s?Math.max(v*y*l/s,s/(v*x*l)):Infinity}function o(x,y,r,z){var t=-1,u=x.length,B=r.x,s=r.y,A=y?f(x.area/y):0,v;if(y==r.dx){if(z||A>r.dy){A=r.dy}while(++t<u){v=x[t];v.x=B;v.y=s;v.dy=A;B+=v.dx=Math.min(r.x+r.dx-B,A?f(v.area/A):0)}v.z=true;v.dx+=r.x+r.dx-B;r.y+=A;r.dy-=A}else{if(z||A>r.dx){A=r.dx}while(++t<u){v=x[t];v.x=B;v.y=s;v.dx=A;s+=v.dy=Math.min(r.y+r.dy-s,A?f(v.area/A):0)}v.z=false;v.dy+=r.y+r.dy-s;r.x+=A;r.dx-=A}}function h(r){var s=m||k(r),t=s[0];t.x=t.y=0;if(t.value){t.dx=c[0],t.dy=c[1]}else{t.dx=t.dy=0}if(m){k.revalue(t)}a([t],t.dx*t.dy/t.value);(m?d:p)(t);if(i){m=s}return s}h.size=function(r){if(!arguments.length){return c}c=r;return h};h.padding=function(u){if(!arguments.length){return j}function r(x){var v=u.call(h,x,x.depth);return v==null?mY(x):qq(x,typeof v==="number"?[v,v,v,v]:v)}function s(v){return qq(v,u)}var t;b=(j=u)==null?mY:(t=typeof u)==="function"?r:t==="number"?(u=[u,u,u,u],s):s;return h};h.round=function(r){if(!arguments.length){return f!=Number}f=r?Math.round:Number;return h};h.sticky=function(r){if(!arguments.length){return i}i=r;m=null;return h};h.ratio=function(r){if(!arguments.length){return l}l=r;return h};h.mode=function(r){if(!arguments.length){return n}n=r+"";return h};return i4(h,k)};function mY(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function qq(c,b){var h=c.x+b[3],a=c.y+b[0],d=c.dx-b[1]-b[3],f=c.dy-b[0]-b[2];if(d<0){h+=d/2;d=0}if(f<0){a+=f/2;f=0}return{x:h,y:a,dx:d,dy:f}}iD.random={normal:function(b,c){var a=arguments.length;if(a<2){c=1}if(a<1){b=0}return function(){var h,d,f;do{h=Math.random()*2-1;d=Math.random()*2-1;f=h*h+d*d}while(!f||f>1);return b+c*h*Math.sqrt(-2*Math.log(f)/f)}},logNormal:function(){var a=iD.random.normal.apply(iD,arguments);return function(){return Math.exp(a())}},bates:function(b){var a=iD.random.irwinHall(b);return function(){return a()/b}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++){b+=Math.random()}return b}}};iD.scale={};function kZ(b){var a=b[0],c=b[b.length-1];return a<c?[a,c]:[c,a]}function qr(a){return a.rangeExtent?a.rangeExtent():kZ(a.range())}function qU(b,h,a,d){var f=a(b[0],b[1]),c=d(h[0],h[1]);return function(i){return c(f(i))}}function jp(a,c){var b=0,d=a.length-1,f=a[b],h=a[d],i;if(h<f){i=b,b=d,d=i;i=f,f=h,h=i}a[b]=c.floor(f);a[d]=c.ceil(h);return a}function ih(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:mD}var mD={floor:ji,ceil:ji};function oV(b,i,a,d){var f=[],c=[],h=0,j=Math.min(b.length,i.length)-1;if(b[j]<b[0]){b=b.slice().reverse();i=i.slice().reverse()}while(++h<=j){f.push(a(b[h-1],b[h]));c.push(d(i[h-1],i[h]))}return function(k){var l=iD.bisect(b,k,1,j)-1;return c[l](f[l](k))}}iD.scale.linear=function(){return lo([0,1],[0,1],lC,false)};function lo(c,f,d,a){var h,i;function j(){var k=Math.min(c.length,f.length)>2?oV:qU,l=a?ps:iv;h=k(c,f,l,d);i=k(f,c,l,lC);return b}function b(k){return h(k)}b.invert=function(k){return i(k)};b.domain=function(k){if(!arguments.length){return c}c=k.map(Number);return j()};b.range=function(k){if(!arguments.length){return f}f=k;return j()};b.rangeRound=function(k){return b.range(k).interpolate(jN)};b.clamp=function(k){if(!arguments.length){return a}a=k;return j()};b.interpolate=function(k){if(!arguments.length){return d}d=k;return j()};b.ticks=function(k){return nk(c,k)};b.tickFormat=function(k,l){return mN(c,k,l)};b.nice=function(k){qO(c,k);return j()};b.copy=function(){return lo(c,f,d,a)};return j()}function jF(a,b){return iD.rebind(a,b,"range","rangeRound","interpolate","clamp")}function qO(a,b){jp(a,ih(nr(a,b)[2]));jp(a,ih(nr(a,b)[2]));return a}function nr(a,h){if(h==null){h=10}var d=kZ(a),f=d[1]-d[0],b=Math.pow(10,Math.floor(Math.log(f/h)/Math.LN10)),c=h/f*b;if(c<=0.15){b*=10}else{if(c<=0.35){b*=5}else{if(c<=0.75){b*=2}}}d[0]=Math.ceil(d[0]/b)*b;d[1]=Math.floor(d[1]/b)*b+b*0.5;d[2]=b;return d}function nk(a,b){return iD.range.apply(iD,nr(a,b))}function mN(b,h,a){var f=nr(b,h);if(a){var d=mG.exec(a);d.shift();if(d[8]==="s"){var c=iD.formatPrefix(Math.max(o8(f[0]),o8(f[1])));if(!d[7]){d[7]="."+jM(c.scale(f[2]))}d[8]="f";a=iD.format(d.join(""));return function(i){return a(c.scale(i))+c.symbol}}if(!d[7]){d[7]="."+mU(d[8],f)}a=d.join("")}else{a=",."+jM(f[2])+"f"}return iD.format(a)}var iW={s:1,g:1,p:1,r:1,e:1};function jM(a){return -Math.floor(Math.log(a)/Math.LN10+0.01)}function mU(b,c){var a=jM(c[2]);return b in iW?Math.abs(a-jM(Math.max(o8(c[0]),o8(c[1]))))+ +(b!=="e"):a-(b==="%")*2}iD.scale.log=function(){return ks(iD.scale.linear().domain([0,1]),10,true,[1,10])};function ks(h,b,i,c){function f(j){return(i?Math.log(j<0?0:j):-Math.log(j>0?0:-j))/Math.log(b)}function d(j){return i?Math.pow(b,j):-Math.pow(b,-j)}function a(j){return h(f(j))}a.invert=function(j){return d(h.invert(j))};a.domain=function(j){if(!arguments.length){return c}i=j[0]>=0;h.domain((c=j.map(Number)).map(f));return a};a.base=function(j){if(!arguments.length){return b}b=+j;h.domain(c.map(f));return a};a.nice=function(){var j=jp(c.map(f),i?Math:kj);h.domain(j);c=j.map(d);return a};a.ticks=function(){var n=kZ(c),m=[],p=n[0],j=n[1],o=Math.floor(f(p)),q=Math.ceil(f(j)),l=b%1?2:b;if(isFinite(q-o)){if(i){for(;o<q;o++){for(var k=1;k<l;k++){m.push(d(o)*k)}}m.push(d(o))}else{m.push(d(o));for(;o++<q;){for(var k=l-1;k>0;k--){m.push(d(o)*k)}}}for(o=0;m[o]<p;o++){}for(q=m.length;m[q-1]>j;q--){}m=m.slice(o,q)}return m};a.tickFormat=function(l,j){if(!arguments.length){return l0}if(arguments.length<2){j=l0}else{if(typeof j!=="function"){j=iD.format(j)}}var k=Math.max(1,b*l/a.ticks().length);return function(m){var n=m/d(Math.round(f(m)));if(n*b<b-0.5){n*=b}return n<=k?j(m):""}};a.copy=function(){return ks(h.copy(),b,i,c)};return jF(a,h)}var l0=iD.format(".0e"),kj={floor:function(a){return -Math.ceil(-a)},ceil:function(a){return -Math.floor(-a)}};iD.scale.pow=function(){return i6(iD.scale.linear(),1,[0,1])};function i6(h,c,d){var f=kY(c),b=kY(1/c);function a(i){return h(f(i))}a.invert=function(i){return b(h.invert(i))};a.domain=function(i){if(!arguments.length){return d}h.domain((d=i.map(Number)).map(f));return a};a.ticks=function(i){return nk(d,i)};a.tickFormat=function(j,i){return mN(d,j,i)};a.nice=function(i){return a.domain(qO(d,i))};a.exponent=function(i){if(!arguments.length){return c}f=kY(c=i);b=kY(1/c);h.domain(d.map(f));return a};a.copy=function(){return i6(h.copy(),c,d)};return jF(a,h)}function kY(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}iD.scale.sqrt=function(){return iD.scale.pow().exponent(0.5)};iD.scale.ordinal=function(){return m2([],{t:"range",a:[[]]})};function m2(b,f){var c,h,d;function a(j){return h[((c.get(j)||(f.t==="range"?c.set(j,b.push(j)):NaN))-1)%h.length]}function i(j,k){return iD.range(b.length).map(function(l){return j+k*l})}a.domain=function(k){if(!arguments.length){return b}b=[];c=new qS();var m=-1,l=k.length,j;while(++m<l){if(!c.has(j=k[m])){c.set(j,b.push(j))}}return a[f.t].apply(a,f.a)};a.range=function(j){if(!arguments.length){return h}h=j;d=0;f={t:"range",a:arguments};return a};a.rangePoints=function(k,m){if(arguments.length<2){m=0}var l=k[0],j=k[1],n=b.length<2?(l=(l+j)/2,0):(j-l)/(b.length-1+m);h=i(l+n*m/2,n);d=0;f={t:"rangePoints",a:arguments};return a};a.rangeRoundPoints=function(k,m){if(arguments.length<2){m=0}var l=k[0],j=k[1],n=b.length<2?(l=j=Math.round((l+j)/2),0):(j-l)/(b.length-1+m)|0;h=i(l+Math.round(n*m/2+(j-l-(b.length-1+m)*n)/2),n);d=0;f={t:"rangeRoundPoints",a:arguments};return a};a.rangeBands=function(j,m,k){if(arguments.length<2){m=0}if(arguments.length<3){k=m}var p=j[1]<j[0],l=j[p-0],o=j[1-p],n=(o-l)/(b.length-m+2*k);h=i(l+n*k,n);if(p){h.reverse()}d=n*(1-m);f={t:"rangeBands",a:arguments};return a};a.rangeRoundBands=function(j,m,k){if(arguments.length<2){m=0}if(arguments.length<3){k=m}var p=j[1]<j[0],l=j[p-0],o=j[1-p],n=Math.floor((o-l)/(b.length-m+2*k));h=i(l+Math.round((o-l-(b.length-m)*n)/2),n);if(p){h.reverse()}d=Math.round(n*(1-m));f={t:"rangeRoundBands",a:arguments};return a};a.rangeBand=function(){return d};a.rangeExtent=function(){return kZ(f.a[0])};a.copy=function(){return m2(b,f)};return a.domain(b)}iD.scale.category10=function(){return iD.scale.ordinal().range(po)};iD.scale.category20=function(){return iD.scale.ordinal().range(nC)};iD.scale.category20b=function(){return iD.scale.ordinal().range(iP)};iD.scale.category20c=function(){return iD.scale.ordinal().range(iR)};var po=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(lO);var nC=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(lO);var iP=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(lO);var iR=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(lO);iD.scale.quantile=function(){return pq([],[])};function pq(c,d){var b;function f(){var i=0,h=d.length;b=[];while(++i<h){b[i-1]=iD.quantile(c,i/h)}return a}function a(h){if(!isNaN(h=+h)){return d[iD.bisect(b,h)]}}a.domain=function(h){if(!arguments.length){return c}c=h.map(iy).filter(pk).sort(kr);return f()};a.range=function(h){if(!arguments.length){return d}d=h;return f()};a.quantiles=function(){return b};a.invertExtent=function(h){h=d.indexOf(h);return h<0?[NaN,NaN]:[h>0?b[h-1]:c[0],h<b.length?b[h]:c[c.length-1]]};a.copy=function(){return pq(c,d)};return f()}iD.scale.quantize=function(){return nQ(0,1,[0,1])};function nQ(c,f,h){var b,d;function a(j){return h[Math.max(0,Math.min(d,Math.floor(b*(j-c))))]}function i(){b=h.length/(f-c);d=h.length-1;return a}a.domain=function(j){if(!arguments.length){return[c,f]}c=+j[0];f=+j[j.length-1];return i()};a.range=function(j){if(!arguments.length){return h}h=j;return i()};a.invertExtent=function(j){j=h.indexOf(j);j=j<0?NaN:j/b+c;return[j,j+1/b]};a.copy=function(){return nQ(c,f,h)};return i()}iD.scale.threshold=function(){return lZ([0.5],[0,1])};function lZ(b,c){function a(d){if(d<=d){return c[iD.bisect(b,d)]}}a.domain=function(d){if(!arguments.length){return b}b=d;return a};a.range=function(d){if(!arguments.length){return c}c=d;return a};a.invertExtent=function(d){d=c.indexOf(d);return[b[d-1],b[d]]};a.copy=function(){return lZ(b,c)};return a}iD.scale.identity=function(){return lY([0,1])};function lY(a){function b(c){return +c}b.invert=b;b.domain=b.range=function(c){if(!arguments.length){return a}a=c.map(b);return b};b.ticks=function(c){return nk(a,c)};b.tickFormat=function(d,c){return mN(a,d,c)};b.copy=function(){return lY(a)};return b}iD.svg={};function md(){return 0}iD.svg.arc=function(){var d=qn,j=ou,i=md,c=kV,f=jt,a=pW,k=p3;function b(){var s=Math.max(0,+d.apply(this,arguments)),t=Math.max(0,+j.apply(this,arguments)),K=f.apply(this,arguments)-k9,L=a.apply(this,arguments)-k9,m=Math.abs(L-K),X=K>L?0:1;if(t<s){N=t,t=s,s=N}if(m>=ku){return h(t,X)+(s?h(s,1-X):"")+"Z"}var N,W,T,x,H=0,I=0,n,C,o,q,p,D,r,F,M=[];if(x=(+k.apply(this,arguments)||0)/2){T=c===kV?Math.sqrt(s*s+t*t):+c.apply(this,arguments);if(!X){I*=-1}if(t){I=nL(T/t*Math.sin(x))}if(s){H=nL(T/s*Math.sin(x))}}if(t){n=t*Math.cos(K+I);C=t*Math.sin(K+I);o=t*Math.cos(L-I);q=t*Math.sin(L-I);var v=Math.abs(L-K-2*I)<=jy?0:1;if(I&&jx(n,C,o,q)===X^v){var V=(K+L)/2;n=t*Math.cos(V);C=t*Math.sin(V);o=q=null}}else{n=C=0}if(s){p=s*Math.cos(L-H);D=s*Math.sin(L-H);r=s*Math.cos(K+H);F=s*Math.sin(K+H);var u=Math.abs(K-L+2*H)<=jy?0:1;if(H&&jx(p,D,r,F)===1-X^u){var U=(K+L)/2;p=s*Math.cos(U);D=s*Math.sin(U);r=F=null}}else{p=D=0}if(m>jf&&(N=Math.min(Math.abs(t-s)/2,+i.apply(this,arguments)))>0.001){W=s<t^X?0:1;var G=N,E=N;if(m<jy){var Q=r==null?[p,D]:o==null?[n,C]:jn([n,C],[r,F],[o,q],[p,D]),y=n-Q[0],z=C-Q[1],O=o-Q[0],P=q-Q[1],B=1/Math.sin(Math.acos((y*O+z*P)/(Math.sqrt(y*y+z*z)*Math.sqrt(O*O+P*P)))/2),S=Math.sqrt(Q[0]*Q[0]+Q[1]*Q[1]);E=Math.min(N,(s-S)/(B-1));G=Math.min(N,(t-S)/(B+1))}if(o!=null){var Y=ky(r==null?[p,D]:[r,F],[n,C],t,G,X),A=ky([o,q],[p,D],t,G,X);if(N===G){M.push("M",Y[0],"A",G,",",G," 0 0,",W," ",Y[1],"A",t,",",t," 0 ",1-X^jx(Y[1][0],Y[1][1],A[1][0],A[1][1]),",",X," ",A[1],"A",G,",",G," 0 0,",W," ",A[0])}else{M.push("M",Y[0],"A",G,",",G," 0 1,",W," ",A[0])}}else{M.push("M",n,",",C)}if(r!=null){var l=ky([n,C],[r,F],s,-E,X),R=ky([p,D],o==null?[n,C]:[o,q],s,-E,X);if(N===E){M.push("L",R[0],"A",E,",",E," 0 0,",W," ",R[1],"A",s,",",s," 0 ",X^jx(R[1][0],R[1][1],l[1][0],l[1][1]),",",1-X," ",l[1],"A",E,",",E," 0 0,",W," ",l[0])}else{M.push("L",R[0],"A",E,",",E," 0 0,",W," ",l[0])}}else{M.push("L",p,",",D)}}else{M.push("M",n,",",C);if(o!=null){M.push("A",t,",",t," 0 ",v,",",X," ",o,",",q)}M.push("L",p,",",D);if(r!=null){M.push("A",s,",",s," 0 ",u,",",1-X," ",r,",",F)}}M.push("Z");return M.join("")}function h(l,m){return"M0,"+l+"A"+l+","+l+" 0 1,"+m+" 0,"+-l+"A"+l+","+l+" 0 1,"+m+" 0,"+l}b.innerRadius=function(l){if(!arguments.length){return d}d=oE(l);return b};b.outerRadius=function(l){if(!arguments.length){return j}j=oE(l);return b};b.cornerRadius=function(l){if(!arguments.length){return i}i=oE(l);return b};b.padRadius=function(l){if(!arguments.length){return c}c=l==kV?kV:oE(l);return b};b.startAngle=function(l){if(!arguments.length){return f}f=oE(l);return b};b.endAngle=function(l){if(!arguments.length){return a}a=oE(l);return b};b.padAngle=function(l){if(!arguments.length){return k}k=oE(l);return b};b.centroid=function(){var l=(+d.apply(this,arguments)+ +j.apply(this,arguments))/2,m=(+f.apply(this,arguments)+ +a.apply(this,arguments))/2-k9;return[Math.cos(m)*l,Math.sin(m)*l]};return b};var kV="auto";function qn(a){return a.innerRadius}function ou(a){return a.outerRadius}function jt(a){return a.startAngle}function pW(a){return a.endAngle}function p3(a){return a&&a.padAngle}function jx(c,a,d,b){return(c-d)*a-(a-b)*c>0?0:1}function ky(F,G,r,s,z){var u=F[0]-G[0],x=F[1]-G[1],t=(z?s:-s)/Math.sqrt(u*u+x*x),v=t*x,y=-t*u,m=F[0]+v,A=F[1]+y,o=G[0]+v,C=G[1]+y,p=(m+o)/2,E=(A+C)/2,k=o-m,n=C-A,c=k*k+n*n,b=r-s,i=m*C-o*A,j=(n<0?-1:1)*Math.sqrt(Math.max(0,b*b*c-i*i)),a=(i*n-k*j)/c,f=(-i*k-n*j)/c,d=(i*n+k*j)/c,h=(-i*k+n*j)/c,B=a-p,l=f-E,D=d-p,q=h-E;if(B*B+l*l>D*D+q*q){a=d,f=h}return[[a-v,f-y],[a*r/b,f*r/b]]}function mR(i){var j=i0,a=i2,b=qb,f=i8,c=f.key,d=0.7;function h(p){var n=[],k=[],o=-1,s=p.length,l,q=oE(j),r=oE(a);function m(){n.push("M",f(i(k),d))}while(++o<s){if(b.call(this,l=p[o],o)){k.push([+q.call(this,l,o),+r.call(this,l,o)])}else{if(k.length){m();k=[]}}}if(k.length){m()}return n.length?n.join(""):null}h.x=function(k){if(!arguments.length){return j}j=k;return h};h.y=function(k){if(!arguments.length){return a}a=k;return h};h.defined=function(k){if(!arguments.length){return b}b=k;return h};h.interpolate=function(k){if(!arguments.length){return c}if(typeof k==="function"){c=f=k}else{c=(f=nN.get(k)||i8).key}return h};h.tension=function(k){if(!arguments.length){return d}d=k;return h};return h}iD.svg.line=function(){return mR(ji)};var nN=iD.map({linear:i8,"linear-closed":oa,step:pw,"step-before":oP,"step-after":it,basis:kA,"basis-open":oY,"basis-closed":oN,bundle:oB,cardinal:na,"cardinal-open":qC,"cardinal-closed":nj,monotone:mn});nN.forEach(function(b,a){a.key=b;a.closed=/-closed$/.test(b)});function i8(a){return a.length>1?a.join("L"):a+"Z"}function oa(a){return a.join("L")+"Z"}function pw(d){var f=0,a=d.length,b=d[0],c=[b[0],",",b[1]];while(++f<a){c.push("H",(b[0]+(b=d[f])[0])/2,"V",b[1])}if(a>1){c.push("H",b[0])}return c.join("")}function oP(d){var f=0,a=d.length,b=d[0],c=[b[0],",",b[1]];while(++f<a){c.push("V",(b=d[f])[1],"H",b[0])}return c.join("")}function it(d){var f=0,a=d.length,b=d[0],c=[b[0],",",b[1]];while(++f<a){c.push("H",(b=d[f])[0],"V",b[1])}return c.join("")}function qC(a,b){return a.length<4?i8(a):a[1]+n9(a.slice(1,-1),pz(a,b))}function nj(a,b){return a.length<3?oa(a):a[0]+n9((a.push(a[0]),a),pz([a[a.length-2]].concat(a,[a[1]]),b))}function na(a,b){return a.length<3?i8(a):a[0]+n9(a,pz(a,b))}function n9(i,j){if(j.length<1||i.length!=j.length&&i.length!=j.length+2){return i8(i)}var h=i.length!=j.length,c="",f=i[0],b=i[1],k=j[0],d=k,m=1;if(h){c+="Q"+(b[0]-k[0]*2/3)+","+(b[1]-k[1]*2/3)+","+b[0]+","+b[1];f=i[1];m=2}if(j.length>1){d=j[1];b=i[m];m++;c+="C"+(f[0]+k[0])+","+(f[1]+k[1])+","+(b[0]-d[0])+","+(b[1]-d[1])+","+b[0]+","+b[1];for(var a=2;a<j.length;a++,m++){b=i[m];d=j[a];c+="S"+(b[0]-d[0])+","+(b[1]-d[1])+","+b[0]+","+b[1]}}if(h){var l=i[m];c+="Q"+(b[0]+d[0]*2/3)+","+(b[1]+d[1]*2/3)+","+l[0]+","+l[1]}return c}function pz(f,i){var k=[],j=(1-i)/2,c,d=f[0],h=f[1],a=1,b=f.length;while(++a<b){c=d;d=h;h=f[a];k.push([j*(h[0]-c[0]),j*(h[1]-c[1])])}return k}function kA(d){if(d.length<3){return i8(d)}var k=1,a=d.length,j=d[0],b=j[0],h=j[1],f=[b,b,b,(j=d[1])[0]],i=[h,h,h,j[1]],c=[b,",",h,"L",jh(iE,f),",",jh(iE,i)];d.push(d[a-1]);while(++k<=a){j=d[k];f.shift();f.push(j[0]);i.shift();i.push(j[1]);pT(c,f,i)}d.pop();c.push("L",j);return c.join("")}function oY(d){if(d.length<4){return i8(d)}var b=[],f=-1,a=d.length,c,h=[0],i=[0];while(++f<3){c=d[f];h.push(c[0]);i.push(c[1])}b.push(jh(iE,h)+","+jh(iE,i));--f;while(++f<a){c=d[f];h.shift();h.push(c[0]);i.shift();i.push(c[1]);pT(b,h,i)}return b.join("")}function oN(d){var b,f=-1,a=d.length,j=a+4,c,h=[],i=[];while(++f<4){c=d[f%a];h.push(c[0]);i.push(c[1])}b=[jh(iE,h),",",jh(iE,i)];--f;while(++f<j){c=d[f%a];h.shift();h.push(c[0]);i.shift();i.push(c[1]);pT(b,h,i)}return b.join("")}function oB(h,i){var l=h.length-1;if(l){var a=h[0][0],j=h[0][1],c=h[l][0]-a,d=h[l][1]-j,k=-1,b,f;while(++k<=l){b=h[k];f=k/l;b[0]=i*b[0]+(1-i)*(a+f*c);b[1]=i*b[1]+(1-i)*(j+f*d)}}return kA(h)}function jh(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}var iA=[0,2/3,1/3,0],iC=[0,1/3,2/3,0],iE=[0,1/6,2/3,1/6];function pT(b,c,a){b.push("C",jh(iA,c),",",jh(iA,a),",",jh(iC,c),",",jh(iC,a),",",jh(iE,c),",",jh(iE,a))}function jV(a,b){return(b[1]-a[1])/(b[0]-a[0])}function od(d){var f=0,h=d.length-1,i=[],a=d[0],b=d[1],c=i[0]=jV(a,b);while(++f<h){i[f]=(c+(c=jV(a=b,b=d[f+1])))/2}i[f]=c;return i}function pF(d){var i=[],j,f,h,c,b=od(d),k=-1,a=d.length-1;while(++k<a){j=jV(d[k],d[k+1]);if(o8(j)<jf){b[k]=b[k+1]=0}else{f=b[k]/j;h=b[k+1]/j;c=f*f+h*h;if(c>9){c=j*3/Math.sqrt(c);b[k]=c*f;b[k+1]=c*h}}}k=-1;while(++k<=a){c=(d[Math.min(a,k+1)][0]-d[Math.max(0,k-1)][0])/(6*(1+b[k]*b[k]));i.push([c||0,b[k]*c||0])}return i}function mn(a){return a.length<3?i8(a):a[0]+n9(a,pF(a))}iD.svg.line.radial=function(){var a=mR(oM);a.radius=a.x,delete a.x;a.angle=a.y,delete a.y;return a};function oM(c){var h,d=-1,a=c.length,b,f;while(++d<a){h=c[d];b=h[0];f=h[1]-k9;h[0]=b*Math.cos(f);h[1]=b*Math.sin(f)}return c}function jP(l){var n=i0,a=i0,d=0,h=i2,m=qb,k=i8,c=k.key,i=k,j="L",f=0.7;function b(r){var p=[],z=[],u=[],q=-1,v=r.length,C,s=oE(n),x=oE(d),t=n===a?function(){return A}:oE(a),y=d===h?function(){return B}:oE(h),A,B;function o(){p.push("M",k(l(u),f),j,i(l(z.reverse()),f),"Z")}while(++q<v){if(m.call(this,C=r[q],q)){z.push([A=+s.call(this,C,q),B=+x.call(this,C,q)]);u.push([+t.call(this,C,q),+y.call(this,C,q)])}else{if(z.length){o();z=[];u=[]}}}if(z.length){o()}return p.length?p.join(""):null}b.x=function(o){if(!arguments.length){return a}n=a=o;return b};b.x0=function(o){if(!arguments.length){return n}n=o;return b};b.x1=function(o){if(!arguments.length){return a}a=o;return b};b.y=function(o){if(!arguments.length){return h}d=h=o;return b};b.y0=function(o){if(!arguments.length){return d}d=o;return b};b.y1=function(o){if(!arguments.length){return h}h=o;return b};b.defined=function(o){if(!arguments.length){return m}m=o;return b};b.interpolate=function(o){if(!arguments.length){return c}if(typeof o==="function"){c=k=o}else{c=(k=nN.get(o)||i8).key}i=k.reverse||k;j=k.closed?"M":"L";return b};b.tension=function(o){if(!arguments.length){return f}f=o;return b};return b}oP.reverse=it;it.reverse=oP;iD.svg.area=function(){return jP(ji)};iD.svg.area.radial=function(){var a=jP(oM);a.radius=a.x,delete a.x;a.innerRadius=a.x0,delete a.x0;a.outerRadius=a.x1,delete a.x1;a.angle=a.y,delete a.y;a.startAngle=a.y0,delete a.y0;a.endAngle=a.y1,delete a.y1;return a};iD.svg.chord=function(){var b=jo,f=jb,h=pc,d=jt,j=pW;function i(m,o){var n=c(this,b,m,o),p=c(this,f,m,o);return"M"+n.p0+a(n.r,n.p1,n.a1-n.a0)+(l(n,p)?k(n.r,n.p1,n.r,n.p0):k(n.r,n.p1,p.r,p.p0)+a(p.r,p.p1,p.a1-p.a0)+k(p.r,p.p1,n.r,n.p0))+"Z"}function c(q,n,m,p){var r=n.call(q,m,p),o=h.call(q,r,p),s=d.call(q,r,p)-k9,t=j.call(q,r,p)-k9;return{r:o,a0:s,a1:t,p0:[o*Math.cos(s),o*Math.sin(s)],p1:[o*Math.cos(t),o*Math.sin(t)]}}function l(m,n){return m.a0==n.a0&&m.a1==n.a1}function a(n,m,o){return"A"+n+","+n+" 0 "+ +(o>jy)+",1 "+m}function k(o,m,p,n){return"Q 0,0 "+n}i.radius=function(m){if(!arguments.length){return h}h=oE(m);return i};i.source=function(m){if(!arguments.length){return b}b=oE(m);return i};i.target=function(m){if(!arguments.length){return f}f=oE(m);return i};i.startAngle=function(m){if(!arguments.length){return d}d=oE(m);return i};i.endAngle=function(m){if(!arguments.length){return j}j=oE(m);return i};return i};function pc(a){return a.radius}iD.svg.diagonal=function(){var b=jo,a=jb,d=nz;function c(f,j){var l=b.call(this,f,j),i=a.call(this,f,j),k=(l.y+i.y)/2,h=[l,{x:l.x,y:k},{x:i.x,y:k},i];h=h.map(d);return"M"+h[0]+"C"+h[1]+" "+h[2]+" "+h[3]}c.source=function(f){if(!arguments.length){return b}b=oE(f);return c};c.target=function(f){if(!arguments.length){return a}a=oE(f);return c};c.projection=function(f){if(!arguments.length){return d}d=f;return c};return c};function nz(a){return[a.x,a.y]}iD.svg.diagonal.radial=function(){var a=iD.svg.diagonal(),c=nz,b=a.projection;a.projection=function(d){return arguments.length?b(nx(c=d)):c};return a};function nx(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-k9;return[c*Math.cos(d),c*Math.sin(d)]}}iD.svg.symbol=function(){var b=qy,c=m6;function a(d,f){return(je.get(b.call(this,d,f))||nI)(c.call(this,d,f))}a.type=function(d){if(!arguments.length){return b}b=oE(d);return a};a.size=function(d){if(!arguments.length){return c}c=oE(d);return a};return a};function m6(){return 64}function qy(){return"circle"}function nI(b){var a=Math.sqrt(b/jy);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}var je=iD.map({circle:nI,cross:function(b){var a=Math.sqrt(b/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(c){var b=Math.sqrt(c/(2*nq)),a=b*nq;return"M0,"+-b+"L"+a+",0 0,"+b+" "+-a+",0Z"},square:function(b){var a=Math.sqrt(b)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(c){var a=Math.sqrt(c/qu),b=a*qu/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(c){var a=Math.sqrt(c/qu),b=a*qu/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});iD.svg.symbolTypes=je.keys();var qu=Math.sqrt(3),nq=Math.tan(30*o6);mM.transition=function(a){var n=pN||++iQ,d=kG(a),l=[],b,j,f=ot||{time:Date.now(),ease:pA,delay:0,duration:250};for(var i=-1,k=this.length;++i<k;){l.push(b=[]);for(var c=this[i],h=-1,m=c.length;++h<m;){if(j=c[h]){lE(j,h,d,n,f)}b.push(j)}}return j1(l,d,n)};mM.interrupt=function(a){return this.each(a==null?ol:lP(kG(a)))};var ol=lP(kG());function lP(a){return function(){var c,d,b;if((c=this[a])&&(b=c[d=c.active])){b.timer.c=null;b.timer.t=NaN;if(--c.count){delete c[d]}else{delete this[a]}c.active+=0.5;b.event&&b.event.interrupt.call(this,this.__data__,b.index)}}}function j1(c,b,a){jT(c,kP);c.namespace=b;c.id=a;return c}var kP=[],iQ=0,pN,ot;kP.call=mM.call;kP.empty=mM.empty;kP.node=mM.node;kP.size=mM.size;iD.transition=function(a,b){return a&&a.transition?pN?a.transition(b):a:iD.selection().transition(a)};iD.transition.prototype=kP;kP.select=function(i){var a=this.id,d=this.namespace,l=[],b,n,j;i=mP(i);for(var h=-1,k=this.length;++h<k;){l.push(b=[]);for(var c=this[h],f=-1,m=c.length;++f<m;){if((j=c[f])&&(n=i.call(j,j.__data__,f,h))){if("__data__" in j){n.__data__=j.__data__}lE(n,f,d,a,j[d][a]);b.push(n)}else{b.push(null)}}}return j1(l,d,a)};kP.selectAll=function(k){var r=this.id,d=this.namespace,n=[],b,a,l,q,f;k=pV(k);for(var i=-1,m=this.length;++i<m;){for(var c=this[i],h=-1,o=c.length;++h<o;){if(l=c[h]){f=l[d][r];a=k.call(l,l.__data__,h,i);n.push(b=[]);for(var j=-1,p=a.length;++j<p;){if(q=a[j]){lE(q,j,d,r,f)}b.push(q)}}}}return j1(n,d,r)};kP.filter=function(b){var k=[],c,d,j;if(typeof b!=="function"){b=ie(b)}for(var h=0,i=this.length;h<i;h++){k.push(c=[]);for(var d=this[h],f=0,a=d.length;f<a;f++){if((j=d[f])&&b.call(j,j.__data__,f,h)){c.push(j)}}}return j1(k,this.namespace,this.id)};kP.tween=function(d,c){var a=this.id,b=this.namespace;if(arguments.length<2){return this.node()[b][a].tween.get(d)}return o2(this,c==null?function(f){f[b][a].tween.remove(d)}:function(f){f[b][a].tween.set(d,c)})};function jg(h,f,b,d){var a=h.id,c=h.namespace;return o2(h,typeof b==="function"?function(i,j,k){i[c][a].tween.set(f,d(b.call(i,i.__data__,j,k)))}:(b=d(b),function(i){i[c][a].tween.set(f,b)}))}kP.attr=function(j,c){if(arguments.length<2){for(c in j){this.attr(c,j[c])}return this}var f=j=="transform"?ls:lC,h=iD.ns.qualify(j);function i(){this.removeAttribute(h)}function a(){this.removeAttributeNS(h.space,h.local)}function d(k){return k==null?i:(k+="",function(){var m=this.getAttribute(h),l;return m!==k&&(l=f(m,k),function(n){this.setAttribute(h,l(n))})})}function b(k){return k==null?a:(k+="",function(){var m=this.getAttributeNS(h.space,h.local),l;return m!==k&&(l=f(m,k),function(n){this.setAttributeNS(h.space,h.local,l(n))})})}return jg(this,"attr."+j,c,h.local?b:d)};kP.attrTween=function(f,c){var d=iD.ns.qualify(f);function b(h,j){var i=c.call(this,h,j,this.getAttribute(d));return i&&function(k){this.setAttribute(d,i(k))}}function a(h,j){var i=c.call(this,h,j,this.getAttributeNS(d.space,d.local));return i&&function(k){this.setAttributeNS(d.space,d.local,i(k))}}return this.tween("attr."+f,d.local?a:b)};kP.style=function(d,b,c){var a=arguments.length;if(a<3){if(typeof d!=="string"){if(a<2){b=""}for(c in d){this.style(c,d[c],b)}return this}c=""}function f(){this.style.removeProperty(d)}function h(i){return i==null?f:(i+="",function(){var k=jK(this).getComputedStyle(this,null).getPropertyValue(d),j;return k!==i&&(j=lC(k,i),function(l){this.style.setProperty(d,j(l),c)})})}return jg(this,"style."+d,b,h)};kP.styleTween=function(d,b,c){if(arguments.length<3){c=""}function a(f,i){var h=b.call(this,f,i,jK(this).getComputedStyle(this,null).getPropertyValue(d));return h&&function(j){this.style.setProperty(d,h(j),c)}}return this.tween("style."+d,a)};kP.text=function(a){return jg(this,"text",a,ip)};function ip(a){if(a==null){a=""}return function(){this.textContent=a}}kP.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;if(this[a].count<2&&(b=this.parentNode)){b.removeChild(this)}})};kP.ease=function(b){var a=this.id,c=this.namespace;if(arguments.length<1){return this.node()[c][a].ease}if(typeof b!=="function"){b=iD.ease.apply(iD,arguments)}return o2(this,function(d){d[c][a].ease=b})};kP.delay=function(b){var a=this.id,c=this.namespace;if(arguments.length<1){return this.node()[c][a].delay}return o2(this,typeof b==="function"?function(d,f,h){d[c][a].delay=+b.call(d,d.__data__,f,h)}:(b=+b,function(d){d[c][a].delay=b}))};kP.duration=function(b){var a=this.id,c=this.namespace;if(arguments.length<1){return this.node()[c][a].duration}return o2(this,typeof b==="function"?function(d,f,h){d[c][a].duration=Math.max(1,b.call(d,d.__data__,f,h))}:(b=Math.max(1,b),function(d){d[c][a].duration=b}))};kP.each=function(d,c){var a=this.id,f=this.namespace;if(arguments.length<2){var h=ot,b=pN;try{pN=a;o2(this,function(i,j,k){ot=i[f][a];d.call(i,i.__data__,j,k)})}finally{ot=h;pN=b}}else{o2(this,function(j){var i=j[f][a];(i.event||(i.event=iD.dispatch("start","end","interrupt"))).on(d,c)})}return this};kP.transition=function(){var c=this.id,d=++iQ,i=this.namespace,a=[],f,h,m,j;for(var l=0,n=this.length;l<n;l++){a.push(f=[]);for(var h=this[l],k=0,b=h.length;k<b;k++){if(m=h[k]){j=m[i][c];lE(m,k,i,d,{time:j.time,ease:j.ease,delay:j.delay+j.duration,duration:j.duration})}f.push(m)}}return j1(a,i,d)};function kG(a){return a==null?"__transition__":"__transition_"+a+"__"}function lE(n,k,c,p,j){var b=n[c]||(n[c]={active:0,count:0}),d=b[p],o,q,l,m,f;function h(s){var r=d.delay;q.t=r+o;if(r<=s){return a(s-r)}q.c=a}function a(v){var t=b.active,r=b[t];if(r){r.timer.c=null;r.timer.t=NaN;--b.count;delete b[t];r.event&&r.event.interrupt.call(n,n.__data__,r.index)}for(var u in b){if(+u<p){var s=b[u];s.timer.c=null;s.timer.t=NaN;--b.count;delete b[u]}}q.c=i;k1(function(){if(q.c&&i(v||1)){q.c=null;q.t=NaN}return 1},0,o);b.active=p;d.event&&d.event.start.call(n,n.__data__,k);f=[];d.tween.forEach(function(y,x){if(x=x.call(n,n.__data__,k)){f.push(x)}});m=d.ease;l=d.duration}function i(u){var t=u/l,s=m(t),r=f.length;while(r>0){f[--r].call(n,s)}if(t>=1){d.event&&d.event.end.call(n,n.__data__,k);if(--b.count){delete b[p]}else{delete n[c]}return 1}}if(!d){o=j.time;q=k1(h,0,o);d=b[p]={tween:new qS(),time:o,timer:q,delay:j.delay,duration:j.duration,ease:j.ease,index:k};j=null;++b.count}}iD.svg.axis=function(){var k=iD.scale.linear(),i=iY,b=6,h=6,c=3,d=[10],j=null,f;function a(l){l.each(function(){var q=iD.select(this);var B=this.__chart__||k,C=this.__chart__=k.copy();var n=j==null?C.ticks?C.ticks.apply(C,d):C.domain():j,F=f==null?C.tickFormat?C.tickFormat.apply(C,d):ji:f,x=q.selectAll(".tick").data(n,C),K=x.enter().insert("g",".domain").attr("class","tick").style("opacity",jf),G=iD.transition(x.exit()).style("opacity",jf).remove(),z=iD.transition(x.order()).style("opacity",1),N=Math.max(b,0)+c,L;var M=qr(C),I=q.selectAll(".domain").data([0]),m=(I.enter().append("path").attr("class","domain"),iD.transition(I));K.append("line");K.append("text");var D=K.select("line"),o=z.select("line"),s=x.select("text").text(F),A=K.select("text"),r=z.select("text"),p=i==="top"||i==="left"?-1:1,u,y,E,H;if(i==="bottom"||i==="top"){L=ki,u="x",E="y",y="x2",H="y2";s.attr("dy",p<0?"0em":".71em").style("text-anchor","middle");m.attr("d","M"+M[0]+","+p*h+"V0H"+M[1]+"V"+p*h)}else{L=kk,u="y",E="x",y="y2",H="x2";s.attr("dy",".32em").style("text-anchor",p<0?"end":"start");m.attr("d","M"+p*h+","+M[0]+"H0V"+M[1]+"H"+p*h)}D.attr(H,p*b);A.attr(E,p*N);o.attr(y,0).attr(H,p*b);r.attr(u,0).attr(E,p*N);if(C.rangeBand){var v=C,t=v.rangeBand()/2;B=C=function(O){return v(O)+t}}else{if(B.rangeBand){B=C}else{G.call(L,C,B)}}K.call(L,B,C);z.call(L,C,C)})}a.scale=function(l){if(!arguments.length){return k}k=l;return a};a.orient=function(l){if(!arguments.length){return i}i=l in ne?l+"":iY;return a};a.ticks=function(){if(!arguments.length){return d}d=no(arguments);return a};a.tickValues=function(l){if(!arguments.length){return j}j=l;return a};a.tickFormat=function(l){if(!arguments.length){return f}f=l;return a};a.tickSize=function(m){var l=arguments.length;if(!l){return b}b=+m;h=+arguments[l-1];return a};a.innerTickSize=function(l){if(!arguments.length){return b}b=+l;return a};a.outerTickSize=function(l){if(!arguments.length){return h}h=+l;return a};a.tickPadding=function(l){if(!arguments.length){return c}c=+l;return a};a.tickSubdivide=function(){return arguments.length&&a};return a};var iY="bottom",ne={top:1,right:1,bottom:1,left:1};function ki(a,b,c){a.attr("transform",function(d){var f=b(d);return"translate("+(isFinite(f)?f:c(d))+",0)"})}function kk(b,a,c){b.attr("transform",function(d){var f=a(d);return"translate(0,"+(isFinite(f)?f:c(d))+")"})}iD.svg.brush=function(){var a=iJ(k,"brushstart","brush","brushend"),h=null,j=null,q=[0,0],l=[0,0],i,o,b=true,m=true,f=pK[0];function k(r){r.each(function(){var t=iD.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d);var v=t.selectAll(".background").data([0]);v.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var y=t.selectAll(".resize").data(f,ji);y.exit().remove();y.enter().append("g").attr("class",function(z){return"resize "+z}).style("cursor",function(z){return lS[z]}).append("rect").attr("x",function(z){return/[ew]$/.test(z)?-3:null}).attr("y",function(z){return/^[ns]/.test(z)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");y.style("display",k.empty()?"none":null);var s=iD.transition(t),x=iD.transition(v),u;if(h){u=qr(h);x.attr("x",u[0]).attr("width",u[1]-u[0]);n(s)}if(j){u=qr(j);x.attr("y",u[0]).attr("height",u[1]-u[0]);p(s)}c(s)})}k.event=function(r){r.each(function(){var u=a.of(this,arguments),t={x:q,y:l,i:i,j:o},s=this.__chart__||t;this.__chart__=t;if(pN){iD.select(this).transition().each("start.brush",function(){i=s.i;o=s.j;q=s.x;l=s.y;u({type:"brushstart"})}).tween("brush:brush",function(){var x=me(q,t.x),v=me(l,t.y);i=o=null;return function(y){q=t.x=x(y);l=t.y=v(y);u({type:"brush",mode:"resize"})}}).each("end.brush",function(){i=t.i;o=t.j;u({type:"brush",mode:"resize"});u({type:"brushend"})})}else{u({type:"brushstart"});u({type:"brush",mode:"resize"});u({type:"brushend"})}})};function c(r){r.selectAll(".resize").attr("transform",function(s){return"translate("+q[+/e$/.test(s)]+","+l[+/^s/.test(s)]+")"})}function n(r){r.select(".extent").attr("x",q[0]);r.selectAll(".extent,.n>rect,.s>rect").attr("width",q[1]-q[0])}function p(r){r.select(".extent").attr("y",l[0]);r.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function d(){var r=this,D=iD.select(iD.event.target),I=a.of(r,arguments),y=iD.select(r),u=D.datum(),C=!/^(n|s)$/.test(u)&&h,G=!/^(e|w)$/.test(u)&&j,F=D.classed("extent"),z=p5(r),t,s=iD.mouse(r),B;var L=iD.select(jK(r)).on("keydown.brush",H).on("keyup.brush",M);if(iD.event.changedTouches){L.on("touchmove.brush",K).on("touchend.brush",E)}else{L.on("mousemove.brush",K).on("mouseup.brush",E)}y.interrupt().selectAll("*").interrupt();if(F){s[0]=q[0]-s[0];s[1]=l[0]-s[1]}else{if(u){var x=+/w$/.test(u),A=+/^n/.test(u);B=[q[1-x]-s[0],l[1-A]-s[1]];s[0]=q[x];s[1]=l[A]}else{if(iD.event.altKey){t=s.slice()}}}y.style("pointer-events","none").selectAll(".resize").style("display",null);iD.select("body").style("cursor",D.style("cursor"));I({type:"brushstart"});K();function H(){if(iD.event.keyCode==32){if(!F){t=null;s[0]-=q[1];s[1]-=l[1];F=2}m3()}}function M(){if(iD.event.keyCode==32&&F==2){s[0]+=q[1];s[1]+=l[1];F=0;m3()}}function K(){var O=iD.mouse(r),N=false;if(B){O[0]+=B[0];O[1]+=B[1]}if(!F){if(iD.event.altKey){if(!t){t=[(q[0]+q[1])/2,(l[0]+l[1])/2]}s[0]=q[+(O[0]<t[0])];s[1]=l[+(O[1]<t[1])]}else{t=null}}if(C&&v(O,h,0)){n(y);N=true}if(G&&v(O,j,1)){p(y);N=true}if(N){c(y);I({type:"brush",mode:F?"move":"resize"})}}function v(P,V,T){var S=qr(V),W=S[0],X=S[1],R=s[T],O=T?l:q,N=O[1]-O[0],U,Q;if(F){W-=R;X-=N+R}U=(T?m:b)?Math.max(W,Math.min(X,P[T])):P[T];if(F){Q=(U+=R)+N}else{if(t){R=Math.max(W,Math.min(X,2*t[T]-U))}if(R<U){Q=U;U=R}else{Q=R}}if(O[0]!=U||O[1]!=Q){if(T){o=null}else{i=null}O[0]=U;O[1]=Q;return true}}function E(){K();y.style("pointer-events","all").selectAll(".resize").style("display",k.empty()?"none":null);iD.select("body").style("cursor",null);L.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);z();I({type:"brushend"})}}k.x=function(r){if(!arguments.length){return h}h=r;f=pK[!h<<1|!j];return k};k.y=function(r){if(!arguments.length){return j}j=r;f=pK[!h<<1|!j];return k};k.clamp=function(r){if(!arguments.length){return h&&j?[b,m]:h?b:j?m:null}if(h&&j){b=!!r[0],m=!!r[1]}else{if(h){b=!!r}else{if(j){m=!!r}}}return k};k.extent=function(t){var s,v,x,r,u;if(!arguments.length){if(h){if(i){s=i[0],v=i[1]}else{s=q[0],v=q[1];if(h.invert){s=h.invert(s),v=h.invert(v)}if(v<s){u=s,s=v,v=u}}}if(j){if(o){x=o[0],r=o[1]}else{x=l[0],r=l[1];if(j.invert){x=j.invert(x),r=j.invert(r)}if(r<x){u=x,x=r,r=u}}}return h&&j?[[s,x],[v,r]]:h?[s,v]:j&&[x,r]}if(h){s=t[0],v=t[1];if(j){s=s[0],v=v[0]}i=[s,v];if(h.invert){s=h(s),v=h(v)}if(v<s){u=s,s=v,v=u}if(s!=q[0]||v!=q[1]){q=[s,v]}}if(j){x=t[0],r=t[1];if(h){x=x[1],r=r[1]}o=[x,r];if(j.invert){x=j(x),r=j(r)}if(r<x){u=x,x=r,r=u}if(x!=l[0]||r!=l[1]){l=[x,r]}}return k};k.clear=function(){if(!k.empty()){q=[0,0],l=[0,0];i=o=null}return k};k.empty=function(){return !!h&&q[0]==q[1]||!!j&&l[0]==l[1]};return iD.rebind(k,a,"on")};var lS={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"};var pK=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];var iq=lv.format=mq.timeFormat;var mt=iq.utc;var ni=mt("%Y-%m-%dT%H:%M:%S.%LZ");iq.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?lK:ni;function lK(a){return a.toISOString()}lK.parse=function(a){var b=new Date(a);return isNaN(b)?null:b};lK.toString=ni.toString;lv.second=pY(function(a){return new iz(Math.floor(a/1000)*1000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*1000)},function(a){return a.getSeconds()});lv.seconds=lv.second.range;lv.seconds.utc=lv.second.utc.range;lv.minute=pY(function(a){return new iz(Math.floor(a/60000)*60000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*60000)},function(a){return a.getMinutes()});lv.minutes=lv.minute.range;lv.minutes.utc=lv.minute.utc.range;lv.hour=pY(function(b){var a=b.getTimezoneOffset()/60;return new iz((Math.floor(b/3600000-a)+a)*3600000)},function(b,a){b.setTime(b.getTime()+Math.floor(a)*3600000)},function(a){return a.getHours()});lv.hours=lv.hour.range;lv.hours.utc=lv.hour.utc.range;lv.month=pY(function(a){a=lv.day(a);a.setDate(1);return a},function(b,a){b.setMonth(b.getMonth()+a)},function(a){return a.getMonth()});lv.months=lv.month.range;lv.months.utc=lv.month.utc.range;function ox(f,d,c){function b(h){return f(h)}b.invert=function(h){return mc(f.invert(h))};b.domain=function(h){if(!arguments.length){return f.domain().map(mc)}f.domain(h);return b};function a(i,h){var j=i[1]-i[0],l=j/h,k=iD.bisect(kE,l);return k==kE.length?[d.year,nr(i.map(function(m){return m/31536000000}),h)[2]]:!k?[mH,nr(i,h)[2]]:d[l/kE[k-1]<kE[k]/l?k-1:k]}b.nice=function(j,h){var m=b.domain(),i=kZ(m),l=j==null?a(i,10):typeof j==="number"&&a(i,j);if(l){j=l[0],h=l[1]}function k(n){return !isNaN(n)&&!j.range(n,mc(+n+1),h).length}return b.domain(jp(m,h>1?{floor:function(n){while(k(n=j.floor(n))){n=mc(n-1)}return n},ceil:function(n){while(k(n=j.ceil(n))){n=mc(+n+1)}return n}}:j))};b.ticks=function(k,i){var j=kZ(b.domain()),h=k==null?a(j,10):typeof k==="number"?a(j,k):!k.range&&[{range:k},i];if(h){k=h[0],i=h[1]}return k.range(j[0],mc(+j[1]+1),i<1?1:i)};b.tickFormat=function(){return c};b.copy=function(){return ox(f.copy(),d,c)};return jF(b,f)}function mc(a){return new Date(a)}var kE=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2592000000,7776000000,31536000000];var pi=[[lv.second,1],[lv.second,5],[lv.second,15],[lv.second,30],[lv.minute,1],[lv.minute,5],[lv.minute,15],[lv.minute,30],[lv.hour,1],[lv.hour,3],[lv.hour,6],[lv.hour,12],[lv.day,1],[lv.day,2],[lv.week,1],[lv.month,1],[lv.month,3],[lv.year,1]];var oA=iq.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&a.getDate()!=1}],["%b %d",function(a){return a.getDate()!=1}],["%B",function(a){return a.getMonth()}],["%Y",qb]]);var mH={range:function(a,c,b){return iD.range(Math.ceil(a/b)*b,+c,b).map(mc)},floor:ji,ceil:ji};pi.year=lv.year;lv.scale=function(){return ox(iD.scale.linear(),pi,oA)};var l4=pi.map(function(a){return[a[0].utc,a[1]]});var j4=mt.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&a.getUTCDate()!=1}],["%b %d",function(a){return a.getUTCDate()!=1}],["%B",function(a){return a.getUTCMonth()}],["%Y",qb]]);l4.year=lv.year.utc;lv.scale.utc=function(){return ox(iD.scale.linear(),l4,j4)};iD.text=oh(function(a){return a.responseText});iD.json=function(b,a){return ke(b,"application/json",nw,a)};function nw(a){return JSON.parse(a.responseText)}iD.html=function(b,a){return ke(b,"text/html",ir,a)};function ir(a){var b=p0.createRange();b.selectNode(p0.body);return b.createContextualFragment(a.responseText)}iD.xml=oh(function(a){return a.responseXML});if(typeof define==="function"&&define.amd){this.d3=iD,define(iD)}else{if(typeof module==="object"&&module.exports){module.exports=iD}else{this.d3=iD}}}();(function(){d3.bullet=function(){var c="left",b=false,f=0,t=j,d=k,u=l,s=380,a=30,r=null;function v(m){m.each(function(M,X){var n=t.call(this,M,X).slice().sort(d3.descending),Y=d.call(this,M,X).slice().sort(d3.descending),N=u.call(this,M,X).slice().sort(d3.descending),R=d3.select(this);var o=Math.min(n[n.length-1],Y[Y.length-1],N[N.length-1]);o=0.75*o;var P=d3.scale.linear().domain([o,Math.max(n[0],Y[0],N[0])]).range(b?[s,0]:[0,s]);var O=this.__chart__||d3.scale.linear().domain([o,Infinity]).range(P.range());this.__chart__=P;var q=h(o,O),Q=h(o,P);var p=R.selectAll("rect.range").data(n);p.enter().append("rect").attr("class",function(x,y){return"range s"+y}).attr("width",q).attr("height",a).attr("x",b?O:0).transition().duration(f).attr("width",Q).attr("x",b?P:0);p.transition().duration(f).attr("x",b?P:0).attr("width",Q).attr("height",a);var V=R.selectAll("rect.measure").data(N);V.enter().append("rect").attr("class",function(x,y){return"measure s"+y}).attr("width",q).attr("height",a/3).attr("x",b?O:0).attr("y",a/3).transition().duration(f).attr("width",Q).attr("x",b?P:0);V.transition().duration(f).attr("width",Q).attr("height",a/3).attr("x",b?P:0).attr("y",a/3);var S=R.selectAll("line.marker").data(Y);S.enter().append("line").attr("class","marker").attr("x1",O).attr("x2",O).attr("y1",a/6).attr("y2",a*5/6).transition().duration(f).attr("x1",P).attr("x2",P);S.transition().duration(f).attr("x1",P).attr("x2",P).attr("y1",a/6).attr("y2",a*5/6);var W=r||P.tickFormat(8);var U=R.selectAll("g.tick").data(P.ticks(8),function(x){return this.textContent||W(x)});var Z=U.enter().append("g").attr("class","tick").attr("transform",i(O)).style("opacity",0.000001);Z.append("line").attr("y1",a).attr("y2",a*7/6);Z.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",a*7/6).text(W);Z.transition().duration(f).attr("transform",i(P)).style("opacity",1);var T=U.transition().duration(f).attr("transform",i(P)).style("opacity",1);T.select("line").attr("y1",a).attr("y2",a*7/6);T.select("text").attr("y",a*7/6);U.exit().transition().duration(f).attr("transform",i(P)).style("opacity",0.000001).remove()});d3.timer.flush()}v.orient=function(m){if(!arguments.length){return c}c=m;b=c=="right"||c=="bottom";return v};v.ranges=function(m){if(!arguments.length){return t}t=m;return v};v.markers=function(m){if(!arguments.length){return d}d=m;return v};v.measures=function(m){if(!arguments.length){return u}u=m;return v};v.width=function(m){if(!arguments.length){return s}s=m;return v};v.height=function(m){if(!arguments.length){return a}a=m;return v};v.tickFormat=function(m){if(!arguments.length){return r}r=m;return v};v.duration=function(m){if(!arguments.length){return f}f=m;return v};return v};function j(a){return a.ranges}function k(a){return a.markers}function l(a){return a.measures}function i(a){return function(b){return"translate("+a(b)+",0)"}}function h(b,c){var a=c(b);return function(d){return Math.abs(c(d)-a)}}})();d3.sankey=function(){var s={},x=24,D=8,t=[1,1],F=[],v=[];s.nodeWidth=function(a){if(!arguments.length){return x}x=+a;return s};s.nodePadding=function(a){if(!arguments.length){return D}D=+a;return s};s.nodes=function(a){if(!arguments.length){return F}F=a;return s};s.links=function(a){if(!arguments.length){return v}v=a;return s};s.size=function(a){if(!arguments.length){return t}t=a;return s};s.layout=function(a){G();B();C();u(a);H();return s};s.relayout=function(){H();return s};s.link=function(){var a=0.5;function b(j){var i=j.source.x+j.source.dx,l=j.target.x,d=d3.interpolateNumber(i,l),f=d(a),h=d(1-a),k=j.source.y+j.sy+j.dy/2,c=j.target.y+j.ty+j.dy/2;return"M"+i+","+k+"C"+f+","+k+" "+h+","+c+" "+l+","+c}b.curvature=function(c){if(!arguments.length){return a}a=+c;return b};return b};function G(){F.forEach(function(a){a.sourceLinks=[];a.targetLinks=[]});v.forEach(function(c){var b=c.source,a=c.target;if(typeof b==="number"){b=c.source=F[c.source]}if(typeof a==="number"){a=c.target=F[c.target]}b.sourceLinks.push(c);a.targetLinks.push(c)})}function B(){F.forEach(function(a){a.value=Math.max(d3.sum(a.sourceLinks,y),d3.sum(a.targetLinks,y))})}function C(){var b=F,a,c=0;while(b.length){a=[];b.forEach(function(d){d.x=c;d.dx=x;d.sourceLinks.forEach(function(f){a.push(f.target)})});b=a;++c}A(c);E((width-x)/(c-1))}function z(){F.forEach(function(a){if(!a.targetLinks.length){a.x=d3.min(a.sourceLinks,function(b){return b.target.x})-1}})}function A(a){F.forEach(function(b){if(!b.sourceLinks.length){b.x=a-1}})}function E(a){F.forEach(function(b){b.x*=a})}function u(j){var h=d3.nest().key(function(k){return k.x}).sortKeys(d3.ascending).entries(F).map(function(k){return k.values});c();b();for(var i=1;j>0;--j){f(i*=0.99);b();d(i);b()}function c(){var k=d3.min(h,function(l){return(t[1]-(l.length-1)*D)/d3.sum(l,y)});h.forEach(function(l){l.forEach(function(m,n){m.y=n;m.dy=m.value*k})});v.forEach(function(l){l.dy=l.value*k})}function d(k){h.forEach(function(n,m){n.forEach(function(p){if(p.targetLinks.length){var o=d3.sum(p.targetLinks,l)/d3.sum(p.targetLinks,y);p.y+=(o-I(p))*k}})});function l(m){return I(m.source)*m.value}}function f(k){h.slice().reverse().forEach(function(m){m.forEach(function(o){if(o.sourceLinks.length){var n=d3.sum(o.sourceLinks,l)/d3.sum(o.sourceLinks,y);o.y+=(n-I(o))*k}})});function l(m){return I(m.target)*m.value}}function b(){h.forEach(function(o){var l,p,m=0,k=o.length,n;o.sort(a);for(n=0;n<k;++n){l=o[n];p=m-l.y;if(p>0){l.y+=p}m=l.y+l.dy+D}p=m-D-t[1];if(p>0){m=l.y-=p;for(n=k-2;n>=0;--n){l=o[n];p=l.y+l.dy+D-m;if(p>0){l.y-=p}m=l.y}}})}function a(k,l){return k.y-l.y}}function H(){F.forEach(function(c){c.sourceLinks.sort(b);c.targetLinks.sort(a)});F.forEach(function(d){var c=0,f=0;d.sourceLinks.forEach(function(h){h.sy=c;c+=h.dy});d.targetLinks.forEach(function(h){h.ty=f;f+=h.dy})});function a(c,d){return c.source.y-d.source.y}function b(c,d){return c.target.y-d.target.y}}function I(a){return a.y+a.dy/2}function y(a){return a.value}return s};(function(l){var k="https://www.23andme.com";var i="https://api.23andme.com";function m(a){var c=[],b;for(b in a){if(a.hasOwnProperty(b)){c.push(l.encodeURIComponent(b)+"="+l.encodeURIComponent(a[b]))}}return c.join("&")}function j(a,B,b,E){var h=400,F=5000,D=1000,H=null,A=null,I=l.location.hash,c=l.document.getElementById(a),d=l.document.createElement("iframe");if(!c){throw new Error("Element "+a+" not found.")}E=E||{};d.setAttribute("src",B);d.setAttribute("scrolling","no");d.setAttribute("frameborder",0);d.style.width=(E.width||h)+"px";d.style.height=0;d.style.visibility="hidden";c.appendChild(d);function z(o){var p=o.split("_");if(p[0]===b){l.clearTimeout(H);d.style.height=p[1]+"px";d.style.visibility="visible";while(d.previousSibling){d.parentNode.removeChild(d.previousSibling)}if(E.success instanceof Function){E.success()}}}function G(o){if(o.origin===k){z(o.data)}}function f(){var o=l.location.hash;if(o!==I){I=o;z(o.substr(1))}}function C(){if(l.postMessage){if(l.removeEventListener){l.removeEventListener("message",G,false)}else{l.detachEvent("onmessage",G)}}else{l.clearInterval(A)}if(E.error instanceof Function){E.error()}}H=l.setTimeout(C,F);if(l.postMessage){if(l.addEventListener){l.addEventListener("message",G,false)}else{l.attachEvent("onmessage",G)}}else{A=l.setInterval(f,D)}}function n(f,a,d){var c=l.document.getElementById(f),b=l.document.createElement("iframe");if(!c){throw new Error("Element "+f+" not found.")}d=d||{};b.setAttribute("src",a);b.setAttribute("scrolling","no");b.setAttribute("frameborder",0);b.style.width="300px";b.style.height="45px";b.style.visibility="hidden";c.appendChild(b);b.style.visibility="visible"}l.TTAM=function(a){function b(c,h,f){if(a){h.api_key=a}var d=f?i:k;return d+c+"?"+m(h)}return{snpTable:function(f,h,p,d){var c="/you/explorer/snpit_table/"+h+"/";j(f,b(c,p),h,d)},connectButton:function(f,c,d){var p="/connect_button/";var h={scopes:c};n(f,b(p,h,true),d)}}}}(window));(function(S){au.version="1.3.14";function W(a){return a}au.permute=Q;function Q(a,f){for(var d=0,b=f.length,c=new Array(b);d<b;++d){c[d]=a[f[d]]}return c}var U=au.bisect=T(W);U.by=T;function T(c){function b(i,j,d,f){while(d<f){var h=d+f>>>1;if(c(i[h])<j){d=h+1}else{f=h}}return d}function a(i,j,d,f){while(d<f){var h=d+f>>>1;if(j<c(i[h])){f=h}else{d=h+1}}return d}a.right=a;a.left=b;return a}var O=au.heap=N(W);O.by=N;function N(a){function d(k,h,j){var f=j-h,i=(f>>>1)+1;while(--i>0){c(k,i,f,h)}return k}function b(k,h,j){var f=j-h,i;while(--f>0){i=k[h],k[h]=k[h+f],k[h+f]=i,c(k,1,f,h)}return k}function c(k,j,m,i){var h=k[--i+j],l=a(h),f;while((f=j<<1)<=m){if(f<m&&a(k[i+f])>a(k[i+f+1])){f++}if(l<=a(k[i+f])){break}k[i+j]=k[i+f];j=f}k[i+j]=h}d.sort=b;return d}var ak=au.heapselect=ap(W);ak.by=ap;function ap(a){var b=N(a);function c(f,i,n,m){var j=new Array(m=Math.min(n-i,m)),l,k,d,h;for(k=0;k<m;++k){j[k]=f[i++]}b(j,0,m);if(i<n){l=a(j[0]);do{if(d=a(h=f[i])>l){j[0]=h;l=a(b(j,0,m)[0])}}while(++i<n)}return j}return c}var ao=au.insertionsort=an(W);ao.by=an;function an(a){function b(j,c,h){for(var d=c+1;d<h;++d){for(var i=d,f=j[d],k=a(f);i>c&&a(j[i-1])>k;--i){j[i]=j[i-1]}j[i]=f}return j}return b}var ai=au.quicksort=aa(W);ai.by=aa;function aa(b){var d=an(b);function c(i,f,h){return(h-f<am?d:a)(i,f,h)}function a(s,M,m){var k=(m-M)/6|0,B=M+k,G=m-1-k,D=M+m-1>>1,C=D-k,F=D+k;var ax=s[B],u=b(ax),f=s[C],v=b(f),i=s[D],x=b(i),j=s[F],y=b(j),l=s[G],z=b(l);var L;if(u>v){L=ax,ax=f,f=L,L=u,u=v,v=L}if(y>z){L=j,j=l,l=L,L=y,y=z,z=L}if(u>x){L=ax,ax=i,i=L,L=u,u=x,x=L}if(v>x){L=f,f=i,i=L,L=v,v=x,x=L}if(u>y){L=ax,ax=j,j=L,L=u,u=y,y=L}if(x>y){L=i,i=j,j=L,L=x,x=y,y=L}if(v>z){L=f,f=l,l=L,L=v,v=z,z=L}if(v>x){L=f,f=i,i=L,L=v,v=x,x=L}if(y>z){L=j,j=l,l=L,L=y,y=z,z=L}var q=f,H=v,t=j,K=y;s[B]=ax;s[C]=s[M];s[D]=i;s[F]=s[m-1];s[G]=l;var E=M+1,r=m-2;var n=H<=K&&H>=K;if(n){for(var A=E;A<=r;++A){var o=s[A],I=b(o);if(I<H){if(A!==E){s[A]=s[E];s[E]=o}++E}else{if(I>H){while(true){var h=b(s[r]);if(h>H){r--;continue}else{if(h<H){s[A]=s[E];s[E++]=s[r];s[r--]=o;break}else{s[A]=s[r];s[r--]=o;break}}}}}}}else{for(var A=E;A<=r;A++){var o=s[A],I=b(o);if(I<H){if(A!==E){s[A]=s[E];s[E]=o}++E}else{if(I>K){while(true){var h=b(s[r]);if(h>K){r--;if(r<A){break}continue}else{if(h<H){s[A]=s[E];s[E++]=s[r];s[r--]=o}else{s[A]=s[r];s[r--]=o}break}}}}}}s[M]=s[E-1];s[E-1]=q;s[m-1]=s[r+1];s[r+1]=t;c(s,M,E-1);c(s,r+2,m);if(n){return s}if(E<B&&r>G){var p,h;while((p=b(s[E]))<=H&&p>=H){++E}while((h=b(s[r]))<=K&&h>=K){--r}for(var A=E;A<=r;A++){var o=s[A],I=b(o);if(I<=H&&I>=H){if(A!==E){s[A]=s[E];s[E]=o}E++}else{if(I<=K&&I>=K){while(true){var h=b(s[r]);if(h<=K&&h>=K){r--;if(r<A){break}continue}else{if(h<H){s[A]=s[E];s[E++]=s[r];s[r--]=o}else{s[A]=s[r];s[r--]=o}break}}}}}}return c(s,E,r+1)}return c}var am=32;var aq=ar,Y=ar,aj=ar,ag=av,X=V;if(typeof Uint8Array!=="undefined"){aq=function(a){return new Uint8Array(a)};Y=function(a){return new Uint16Array(a)};aj=function(a){return new Uint32Array(a)};ag=function(a,c){if(a.length>=c){return a}var b=new a.constructor(c);b.set(a);return b};X=function(a,c){var b;switch(c){case 16:b=Y(a.length);break;case 32:b=aj(a.length);break;default:throw new Error("invalid array width!")}b.set(a);return b}}function ar(a){var b=new Array(a),c=-1;while(++c<a){b[c]=0}return b}function av(a,c){var b=a.length;while(b<c){a[b++]=0}return a}function V(a,b){if(b>32){throw new Error("invalid array width!")}return a}function ae(a,b){return function(d){var c=d.length;return[a.left(d,b,0,c),a.right(d,b,0,c)]}}function aw(a,c){var b=c[0],d=c[1];return function(h){var f=h.length;return[a.left(h,b,0,f),a.left(h,d,0,f)]}}function ac(a){return[0,a.length]}function ad(){return null}function R(){return 0}function af(a){return a+1}function at(a){return a-1}function ah(a){return function(b,c){return b+ +a(c)}}function al(a){return function(b,c){return b-a(c)}}S.crossfilter=au;function au(){var f={add:b,remove:l,dimension:m,groupAll:c,size:a};var k=[],o=0,n=0,h=8,p=aq(0),d=[],j=[],i=[];function b(r){var q=o,s=r.length;if(s){k=k.concat(r);p=ag(p,o+=s);j.forEach(function(t){t(r,q,s)})}return f}function l(){var r=Z(o,o),q=[];for(var s=0,t=0;s<o;++s){if(p[s]){r[s]=t++}else{q.push(s)}}d.forEach(function(v){v(0,[],q)});i.forEach(function(v){v(r)});for(var s=0,t=0,u;s<o;++s){if(u=p[s]){if(s!==t){p[t]=u,k[t]=k[s]}++t}}k.length=t;while(o>t){p[--o]=0}}function m(u){var G={filter:I,filterExact:ay,filterRange:s,filterFunction:F,filterAll:z,top:v,bottom:L,group:K,groupAll:A,dispose:B,remove:B};var t=~n&-~n,H=~t,aD,M,aB,aC,q=aa(function(aH){return aB[aH]}),D=ac,ax,aA=[],aE=[],E=0,az=0;j.unshift(x);j.push(C);i.push(aF);n|=t;if(h>=32?!t:n&-(1<<h)){p=X(p,h<<=1)}x(k,0,o);C(k,0,o);function x(aV,a0,a1){aB=aV.map(u);aC=q(ab(a1),0,a1);aB=Q(aB,aC);var aU=D(aB),aZ=aU[0],aW=aU[1],aR;if(ax){for(aR=0;aR<a1;++aR){if(!ax(aB[aR],aR)){p[aC[aR]+a0]|=t}}}else{for(aR=0;aR<aZ;++aR){p[aC[aR]+a0]|=t}for(aR=aW;aR<a1;++aR){p[aC[aR]+a0]|=t}}if(!a0){aD=aB;M=aC;E=aZ;az=aW;return}var aX=aD,aY=M,aS=0,aT=0;aD=new Array(o);M=Z(o,o);for(aR=0;aS<a0&&aT<a1;++aR){if(aX[aS]<aB[aT]){aD[aR]=aX[aS];M[aR]=aY[aS++]}else{aD[aR]=aB[aT];M[aR]=aC[aT++]+a0}}for(;aS<a0;++aS,++aR){aD[aR]=aX[aS];M[aR]=aY[aS]}for(;aT<a1;++aT,++aR){aD[aR]=aB[aT];M[aR]=aC[aT]+a0}aU=D(aD),E=aU[0],az=aU[1]}function C(aJ,aL,aK){aA.forEach(function(aG){aG(aB,aC,aL,aK)});aB=aC=null}function aF(aM){for(var aO=0,aP=0,aL;aO<o;++aO){if(p[aL=M[aO]]){if(aO!==aP){aD[aP]=aD[aO]}M[aP]=aM[aL];++aP}}aD.length=aP;while(aP<o){M[aP++]=0}var aN=D(aD);E=aN[0],az=aN[1]}function r(aS){var aU=aS[0],aQ=aS[1];if(ax){ax=null;y(function(aG,aH){return aU<=aH&&aH<aQ});E=aU;az=aQ;return G}var aV,aO,aP,aT=[],aR=[];if(aU<E){for(aV=aU,aO=Math.min(E,aQ);aV<aO;++aV){p[aP=M[aV]]^=t;aT.push(aP)}}else{if(aU>E){for(aV=E,aO=Math.min(aU,az);aV<aO;++aV){p[aP=M[aV]]^=t;aR.push(aP)}}}if(aQ>az){for(aV=Math.max(aU,az),aO=aQ;aV<aO;++aV){p[aP=M[aV]]^=t;aT.push(aP)}}else{if(aQ<az){for(aV=Math.max(E,aQ),aO=az;aV<aO;++aV){p[aP=M[aV]]^=t;aR.push(aP)}}}E=aU;az=aQ;d.forEach(function(aG){aG(t,aT,aR)});return G}function I(aH){return aH==null?z():Array.isArray(aH)?s(aH):typeof aH==="function"?F(aH):ay(aH)}function ay(aH){return r((D=ae(U,aH))(aD))}function s(aH){return r((D=aw(U,aH))(aD))}function z(){return r((D=ac)(aD))}function F(aH){D=ac;y(ax=aH);E=0;az=o;return G}function y(aP){var aR,aM,aN,aQ=[],aO=[];for(aR=0;aR<o;++aR){if(!(p[aM=M[aR]]&t)^!!(aN=aP(aD[aR],aR))){if(aN){p[aM]&=H,aQ.push(aM)}else{p[aM]|=t,aO.push(aM)}}}d.forEach(function(aG){aG(t,aQ,aO)})}function v(aL){var aM=[],aN=az,aK;while(--aN>=E&&aL>0){if(!p[aK=M[aN]]){aM.push(k[aK]);--aL}}return aM}function L(aL){var aM=[],aN=E,aK;while(aN<az&&aL>0){if(!p[aK=M[aN]]){aM.push(k[aK]);--aL}aN++}return aM}function K(bw){var bo={top:bh,all:bt,reduce:bj,reduceCount:bq,reduceSum:bF,order:bb,orderNatural:bC,size:bf,dispose:bz,remove:bz};aE.push(bo);var bB,br,bi=8,bm=P(bi),bc=0,be,bl,bp,bu,bk,bn=ad,bA=ad,bD=true,by=bw===ad;if(arguments.length<1){bw=W}d.push(bn);aA.push(bg);i.push(bv);bg(aD,M,0,o);function bg(aO,aP,aL,aM){var aI=bB,aR=Z(bc,bm),aJ=bp,aQ=bk,aN=bc,aX=0,aG=0,aW,aS,aT,aU,aV,aK;if(bD){aJ=aQ=ad}bB=new Array(bc),bc=0;br=aN>1?ag(br,o):Z(o,bm);if(aN){aT=(aS=aI[0]).key}while(aG<aM&&!((aU=bw(aO[aG]))>=aU)){++aG}while(aG<aM){if(aS&&aT<=aU){aV=aS,aK=aT;aR[aX]=bc;if(aS=aI[++aX]){aT=aS.key}}else{aV={key:aU,value:aQ()},aK=aU}bB[bc]=aV;while(!(aU>aK)){br[aW=aP[aG]+aL]=bc;if(!(p[aW]&H)){aV.value=aJ(aV.value,k[aW])}if(++aG>=aM){break}aU=bw(aO[aG])}aH()}while(aX<aN){bB[aR[aX]=bc]=aI[aX++];aH()}if(bc>aX){for(aX=0;aX<aL;++aX){br[aX]=aR[br[aX]]}}aW=d.indexOf(bn);if(bc>1){bn=bx;bA=bE}else{if(!bc&&by){bc=1;bB=[{key:null,value:aQ()}]}if(bc===1){bn=bd;bA=bs}else{bn=ad;bA=ad}br=null}d[aW]=bn;function aH(){if(++bc===bm){aR=X(aR,bi<<=1);br=X(br,bi);bm=P(bi)}}}function bv(){if(bc>1){var aI=bc,aG=bB,aH=Z(aI,aI);for(var aJ=0,aK=0;aJ<o;++aJ){if(p[aJ]){aH[br[aK]=br[aJ]]=1;++aK}}bB=[],bc=0;for(aJ=0;aJ<aI;++aJ){if(aH[aJ]){aH[aJ]=bc++;bB.push(aG[aJ])}}if(bc>1){for(var aJ=0;aJ<aK;++aJ){br[aJ]=aH[br[aJ]]}}else{br=null}d[d.indexOf(bn)]=bc>1?(bA=bE,bn=bx):bc===1?(bA=bs,bn=bd):bA=bn=ad}else{if(bc===1){if(by){return}for(var aJ=0;aJ<o;++aJ){if(p[aJ]){return}}bB=[],bc=0;d[d.indexOf(bn)]=bn=bA=ad}}}function bx(aJ,aK,aH){if(aJ===t||bD){return}var aL,aM,aG,aI;for(aL=0,aG=aK.length;aL<aG;++aL){if(!(p[aM=aK[aL]]&H)){aI=bB[br[aM]];aI.value=bp(aI.value,k[aM])}}for(aL=0,aG=aH.length;aL<aG;++aL){if((p[aM=aH[aL]]&H)===aJ){aI=bB[br[aM]];aI.value=bu(aI.value,k[aM])}}}function bd(aJ,aK,aH){if(aJ===t||bD){return}var aL,aM,aG,aI=bB[0];for(aL=0,aG=aK.length;aL<aG;++aL){if(!(p[aM=aK[aL]]&H)){aI.value=bp(aI.value,k[aM])}}for(aL=0,aG=aH.length;aL<aG;++aL){if((p[aM=aH[aL]]&H)===aJ){aI.value=bu(aI.value,k[aM])}}}function bE(){var aH,aG;for(aH=0;aH<bc;++aH){bB[aH].value=bk()}for(aH=0;aH<o;++aH){if(!(p[aH]&H)){aG=bB[br[aH]];aG.value=bp(aG.value,k[aH])}}}function bs(){var aH,aG=bB[0];aG.value=bk();for(aH=0;aH<o;++aH){if(!(p[aH]&H)){aG.value=bp(aG.value,k[aH])}}}function bt(){if(bD){bA(),bD=false}return bB}function bh(aH){var aG=be(bt(),0,bB.length,aH);return bl.sort(aG,0,aG.length)}function bj(aG,aI,aH){bp=aG;bu=aI;bk=aH;bD=true;return bo}function bq(){return bj(af,at,R)}function bF(aG){return bj(ah(aG),al(aG),R)}function bb(aG){be=ap(aH);bl=N(aH);function aH(aI){return aG(aI.value)}return bo}function bC(){return bb(W)}function bf(){return bc}function bz(){var aG=d.indexOf(bn);if(aG>=0){d.splice(aG,1)}aG=aA.indexOf(bg);if(aG>=0){aA.splice(aG,1)}aG=i.indexOf(bv);if(aG>=0){i.splice(aG,1)}return bo}return bq().orderNatural()}function A(){var aI=K(ad),aJ=aI.all;delete aI.all;delete aI.top;delete aI.order;delete aI.orderNatural;delete aI.size;aI.value=function(){return aJ()[0].value};return aI}function B(){aE.forEach(function(aG){aG.dispose()});var aH=j.indexOf(x);if(aH>=0){j.splice(aH,1)}aH=j.indexOf(C);if(aH>=0){j.splice(aH,1)}aH=i.indexOf(aF);if(aH>=0){i.splice(aH,1)}n&=H;return z()}return G}function c(){var t={reduce:z,reduceCount:r,reduceSum:u,value:x,dispose:s,remove:s};var D,C,y,v,E=true;d.push(B);j.push(q);q(k,0,o);function q(G,F){var H;if(E){return}for(H=F;H<o;++H){if(!p[H]){D=C(D,k[H])}}}function B(F,G,L){var H,I,K;if(E){return}for(H=0,K=G.length;H<K;++H){if(!p[I=G[H]]){D=C(D,k[I])}}for(H=0,K=L.length;H<K;++H){if(p[I=L[H]]===F){D=y(D,k[I])}}}function A(){var F;D=v();for(F=0;F<o;++F){if(!p[F]){D=C(D,k[F])}}}function z(F,H,G){C=F;y=H;v=G;E=true;return t}function r(){return z(af,at,R)}function u(F){return z(ah(F),al(F),R)}function x(){if(E){A(),E=false}return D}function s(){var F=d.indexOf(B);if(F>=0){d.splice(F)}F=j.indexOf(q);if(F>=0){j.splice(F)}return t}return r()}function a(){return o}return arguments.length?b(arguments[0]):f}function Z(a,b){return(b<257?aq:b<65537?Y:aj)(a)}function ab(a){var c=Z(a,a);for(var b=-1;++b<a;){c[b]=b}return c}function P(a){return a===8?256:a===16?65536:4294967296}})(typeof exports!=="undefined"&&exports||this);
/*!
 *  dc 2.0.0-beta.32
 *  http://dc-js.github.io/dc.js/
 *  Copyright 2012-2016 Nick Zhu & the dc.js Developers
 *  https://github.com/dc-js/dc.js/blob/master/AUTHORS
 *
 *  Licensed under the Apache License, Version 2.0 (the "License");
 *  you may not use this file except in compliance with the License.
 *  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *  Unless required by applicable law or agreed to in writing, software
 *  distributed under the License is distributed on an "AS IS" BASIS,
 *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 *  See the License for the specific language governing permissions and
 *  limitations under the License.
 */
(function(){function d(b,a){var c={version:"2.0.0-beta.32",constants:{CHART_CLASS:"dc-chart",DEBUG_GROUP_CLASS:"debug",STACK_CLASS:"stack",DESELECTED_CLASS:"deselected",SELECTED_CLASS:"selected",NODE_INDEX_NAME:"__index__",GROUP_INDEX_NAME:"__group_index__",DEFAULT_CHART_GROUP:"__default_chart_group__",EVENT_DELAY:40,NEGLIGIBLE_NUMBER:1e-10},_renderlet:null};c.chartRegistry=(function(){var l={};function i(k){if(!k){k=c.constants.DEFAULT_CHART_GROUP}if(!l[k]){l[k]=[]}return k}return{has:function(n){for(var k in l){if(l[k].indexOf(n)>=0){return true}}return false},register:function(n,k){k=i(k);l[k].push(n)},deregister:function(k,p){p=i(p);for(var o=0;o<l[p].length;o++){if(l[p][o].anchorName()===k.anchorName()){l[p].splice(o,1);break}}},clear:function(k){if(k){delete l[k]}else{l={}}},list:function(k){k=i(k);return l[k]}}})();c.registerChart=function(l,i){c.chartRegistry.register(l,i)};c.deregisterChart=function(l,i){c.chartRegistry.deregister(l,i)};c.hasChart=function(i){return c.chartRegistry.has(i)};c.deregisterAllCharts=function(i){c.chartRegistry.clear(i)};c.filterAll=function(i){var m=c.chartRegistry.list(i);for(var n=0;n<m.length;++n){m[n].filterAll()}};c.refocusAll=function(i){var m=c.chartRegistry.list(i);for(var n=0;n<m.length;++n){if(m[n].focus){m[n].focus()}}};c.renderAll=function(i){var m=c.chartRegistry.list(i);for(var n=0;n<m.length;++n){m[n].render()}if(c._renderlet!==null){c._renderlet(i)}};c.redrawAll=function(i){var m=c.chartRegistry.list(i);for(var n=0;n<m.length;++n){m[n].redraw()}if(c._renderlet!==null){c._renderlet(i)}};c.disableTransitions=false;c.transition=function(o,i,r,q){if(i<=0||i===undefined||c.disableTransitions){return o}var p=o.transition(q).duration(i);if(typeof(r)==="function"){r(p)}return p};c.optionalTransition=function(o,n,i,p){if(o){return function(k){return c.transition(k,n,i,p)}}else{return function(k){return k}}};c.afterTransition=function(n,i){if(n.empty()||!n.duration){i.call(n)}else{var m=0;n.each(function(){++m}).each("end",function(){if(!--m){i.call(n)}})}};c.units={};c.units.integers=function(i,l){return Math.abs(l-i)};c.units.ordinal=function(i,n,m){return m};c.units.fp={};c.units.fp.precision=function(l){var i=function(o,k){var p=Math.abs((k-o)/i.resolution);if(c.utils.isNegligible(p-Math.floor(p))){return Math.floor(p)}else{return Math.ceil(p)}};i.resolution=l;return i};c.round={};c.round.floor=function(i){return Math.floor(i)};c.round.ceil=function(i){return Math.ceil(i)};c.round.round=function(i){return Math.round(i)};c.override=function(i,n,o){var p=i[n];i["_"+n]=p;i[n]=o};c.renderlet=function(i){if(!arguments.length){return c._renderlet}c._renderlet=i;return c};c.instanceOfChart=function(i){return i instanceof Object&&i.__dcFlag__&&true};c.errors={};c.errors.Exception=function(l){var i=l||"Unexpected internal error";this.message=i;this.toString=function(){return i};this.stack=(new Error()).stack};c.errors.Exception.prototype=Object.create(Error.prototype);c.errors.Exception.prototype.constructor=c.errors.Exception;c.errors.InvalidStateException=function(){c.errors.Exception.apply(this,arguments)};c.errors.InvalidStateException.prototype=Object.create(c.errors.Exception.prototype);c.errors.InvalidStateException.prototype.constructor=c.errors.InvalidStateException;c.errors.BadArgumentException=function(){c.errors.Exception.apply(this,arguments)};c.errors.BadArgumentException.prototype=Object.create(c.errors.Exception.prototype);c.errors.BadArgumentException.prototype.constructor=c.errors.BadArgumentException;c.dateFormat=b.time.format("%m/%d/%Y");c.printers={};c.printers.filters=function(i){var m="";for(var n=0;n<i.length;++n){if(n>0){m+=", "}m+=c.printers.filter(i[n])}return m};c.printers.filter=function(i){var l="";if(typeof i!=="undefined"&&i!==null){if(i instanceof Array){if(i.length>=2){l="["+c.utils.printSingleValue(i[0])+" -> "+c.utils.printSingleValue(i[1])+"]"}else{if(i.length>=1){l=c.utils.printSingleValue(i[0])}}}else{l=c.utils.printSingleValue(i)}}return l};c.pluck=function(i,l){if(!l){return function(k){return k[i]}}return function(k,n){return l.call(k,k[i],n)}};c.utils={};c.utils.printSingleValue=function(i){var l=""+i;if(i instanceof Date){l=c.dateFormat(i)}else{if(typeof(i)==="string"){l=i}else{if(c.utils.isFloat(i)){l=c.utils.printSingleValue.fformat(i)}else{if(c.utils.isInteger(i)){l=Math.round(i)}}}}return l};c.utils.printSingleValue.fformat=b.format(".2f");c.utils.add=function(l,i){if(typeof i==="string"){i=i.replace("%","")}if(l instanceof Date){if(typeof i==="string"){i=+i}var p=new Date();p.setTime(l.getTime());p.setDate(l.getDate()+i);return p}else{if(typeof i==="string"){var o=(+i/100);return l>0?l*(1+o):l*(1-o)}else{return l+i}}};c.utils.subtract=function(l,i){if(typeof i==="string"){i=i.replace("%","")}if(l instanceof Date){if(typeof i==="string"){i=+i}var p=new Date();p.setTime(l.getTime());p.setDate(l.getDate()-i);return p}else{if(typeof i==="string"){var o=(+i/100);return l<0?l*(1+o):l*(1-o)}else{return l-i}}};c.utils.isNumber=function(i){return i===+i};c.utils.isFloat=function(i){return i===+i&&i!==(i|0)};c.utils.isInteger=function(i){return i===+i&&i===(i|0)};c.utils.isNegligible=function(i){return !c.utils.isNumber(i)||(i<c.constants.NEGLIGIBLE_NUMBER&&i>-c.constants.NEGLIGIBLE_NUMBER)};c.utils.clamp=function(i,m,n){return i<m?m:(i>n?n:i)};var j=0;c.utils.uniqueId=function(){return ++j};c.utils.nameToId=function(i){return i.toLowerCase().replace(/[\s]/g,"_").replace(/[\.']/g,"")};c.utils.appendOrSelect=function(i,o,p){p=p||o;var n=i.select(o);if(n.empty()){n=i.append(p)}return n};c.utils.safeNumber=function(i){return c.utils.isNumber(+i)?+i:0};c.logger={};c.logger.enableDebugLog=false;c.logger.warn=function(i){if(console){if(console.warn){console.warn(i)}else{if(console.log){console.log(i)}}}return c.logger};c.logger.debug=function(i){if(c.logger.enableDebugLog&&console){if(console.debug){console.debug(i)}else{if(console.log){console.log(i)}}}return c.logger};c.logger.deprecate=function(n,i){var o=false;function p(){if(!o){c.logger.warn(i);o=true}return n.apply(this,arguments)}return p};c.events={current:null};c.events.trigger=function(i,l){if(!l){i();return}c.events.current=i;setTimeout(function(){if(i===c.events.current){i()}},l)};c.filters={};c.filters.RangedFilter=function(n,i){var m=new Array(n,i);m.isFiltered=function(k){return k>=this[0]&&k<this[1]};m.filterType="RangedFilter";return m};c.filters.TwoDimensionalFilter=function(l){if(l===null){return null}var i=l;i.isFiltered=function(k){return k.length&&k.length===i.length&&k[0]===i[0]&&k[1]===i[1]};i.filterType="TwoDimensionalFilter";return i};c.filters.RangedTwoDimensionalFilter=function(n){if(n===null){return null}var m=n;var i;if(m[0] instanceof Array){i=[[Math.min(n[0][0],n[1][0]),Math.min(n[0][1],n[1][1])],[Math.max(n[0][0],n[1][0]),Math.max(n[0][1],n[1][1])]]}else{i=[[n[0],-Infinity],[n[1],Infinity]]}m.isFiltered=function(p){var k,l;if(p instanceof Array){if(p.length!==2){return false}k=p[0];l=p[1]}else{k=p;l=i[0][1]}return k>=i[0][0]&&k<i[1][0]&&l>=i[0][1]&&l<i[1][1]};m.filterType="RangedTwoDimensionalFilter";return m};c.baseMixin=function(aA){aA.__dcFlag__=c.utils.uniqueId();var ar;var aw;var ay;var at;var aJ;var i;var ah=200;var az=function(l){var k=l&&l.getBoundingClientRect&&l.getBoundingClientRect().width;return(k&&k>ah)?k:ah};var aC=az;var aI=200;var ae=function(k){var l=k&&k.getBoundingClientRect&&k.getBoundingClientRect().height;return(l&&l>aI)?l:aI};var aq=ae;var aP,aE;var aj=c.pluck("key");var aQ=c.pluck("value");var af=c.pluck("key");var aM=c.pluck("key");var ad;var aD=false;var al=function(k){return aA.keyAccessor()(k)+": "+aA.valueAccessor()(k)};var aK=true;var au=false;var ai=750;var av=c.printers.filters;var ak=["dimension","group"];var aF=c.constants.DEFAULT_CHART_GROUP;var ap=b.dispatch("preRender","postRender","preRedraw","postRedraw","filtered","zoomed","renderlet","pretransition");var ab;var aN;var ag=[];var aL=function(k,l){if(l.length===0){k.filter(null)}else{if(l.length===1&&!l[0].isFiltered){k.filterExact(l[0])}else{if(l.length===1&&l[0].filterType==="RangedFilter"){k.filterRange(l[0])}else{k.filterFunction(function(m){for(var o=0;o<l.length;o++){var n=l[o];if(n.isFiltered&&n.isFiltered(m)){return true}else{if(n<=m&&n>=m){return true}}}return false})}}}return l};var ac=function(k){return k.all()};aA.height=function(k){if(!arguments.length){if(!c.utils.isNumber(aE)){aE=aq(at.node())}return aE}aq=b.functor(k||ae);aE=undefined;return aA};aA.width=function(k){if(!arguments.length){if(!c.utils.isNumber(aP)){aP=aC(at.node())}return aP}aC=b.functor(k||az);aP=undefined;return aA};aA.minWidth=function(k){if(!arguments.length){return ah}ah=k;return aA};aA.minHeight=function(k){if(!arguments.length){return aI}aI=k;return aA};aA.dimension=function(k){if(!arguments.length){return ar}ar=k;aA.expireCache();return aA};aA.data=function(k){if(!arguments.length){return ac.call(aA,aw)}ac=b.functor(k);aA.expireCache();return aA};aA.group=function(k,l){if(!arguments.length){return aw}aw=k;aA._groupName=l;aA.expireCache();return aA};aA.ordering=function(k){if(!arguments.length){return aM}aM=k;ad=a.quicksort.by(aM);aA.expireCache();return aA};aA._computeOrderedGroups=function(k){var l=k.slice(0);if(l.length<=1){return l}if(!ad){ad=a.quicksort.by(aM)}return ad(l,0,l.length)};aA.filterAll=function(){return aA.filter(null)};aA.select=function(k){return at.select(k)};aA.selectAll=function(k){return at?at.selectAll(k):null};aA.anchor=function(l,k){if(!arguments.length){return ay}if(c.instanceOfChart(l)){ay=l.anchor();at=l.root();i=true}else{if(l){if(l.select&&l.classed){ay=l.node()}else{ay=l}at=b.select(ay);at.classed(c.constants.CHART_CLASS,true);c.registerChart(aA,k);i=false}else{throw new c.errors.BadArgumentException("parent must be defined")}}aF=k;return aA};aA.anchorName=function(){var k=aA.anchor();if(k&&k.id){return k.id}if(k&&k.replace){return k.replace("#","")}return"dc-chart"+aA.chartID()};aA.root=function(k){if(!arguments.length){return at}at=k;return aA};aA.svg=function(k){if(!arguments.length){return aJ}aJ=k;return aA};aA.resetSvg=function(){aA.select("svg").remove();return an()};function aB(){if(aJ){aJ.attr("width",aA.width()).attr("height",aA.height())}}function an(){aJ=aA.root().append("svg");aB();return aJ}aA.filterPrinter=function(k){if(!arguments.length){return av}av=k;return aA};aA.controlsUseVisibility=function(k){if(!arguments.length){return au}au=k;return aA};aA.turnOnControls=function(){if(at){var k=aA.controlsUseVisibility()?"visibility":"display";aA.selectAll(".reset").style(k,null);aA.selectAll(".filter").text(av(aA.filters())).style(k,null)}return aA};aA.turnOffControls=function(){if(at){var l=aA.controlsUseVisibility()?"visibility":"display";var k=aA.controlsUseVisibility()?"hidden":"none";aA.selectAll(".reset").style(l,k);aA.selectAll(".filter").style(l,k).text(aA.filter())}return aA};aA.transitionDuration=function(k){if(!arguments.length){return ai}ai=k;return aA};aA._mandatoryAttributes=function(k){if(!arguments.length){return ak}ak=k;return aA};function aO(k){if(!aA[k]||!aA[k]()){throw new c.errors.InvalidStateException("Mandatory attribute chart."+k+" is missing on chart[#"+aA.anchorName()+"]")}}aA.render=function(){aE=aP=undefined;ap.preRender(aA);if(ak){ak.forEach(aO)}var k=aA._doRender();if(ab){ab.render()}aA._activateRenderlets("postRender");return k};aA._activateRenderlets=function(k){ap.pretransition(aA);if(aA.transitionDuration()>0&&aJ){aJ.transition().duration(aA.transitionDuration()).each("end",function(){ap.renderlet(aA);if(k){ap[k](aA)}})}else{ap.renderlet(aA);if(k){ap[k](aA)}}};aA.redraw=function(){aB();ap.preRedraw(aA);var k=aA._doRedraw();if(ab){ab.render()}aA._activateRenderlets("postRedraw");return k};aA.commitHandler=function(k){if(!arguments.length){return aN}aN=k;return aA};aA.redrawGroup=function(){if(aN){aN(false,function(k,l){if(k){console.log(k)}else{c.redrawAll(aA.chartGroup())}})}else{c.redrawAll(aA.chartGroup())}return aA};aA.renderGroup=function(){if(aN){aN(false,function(k,l){if(k){console.log(k)}else{c.renderAll(aA.chartGroup())}})}else{c.renderAll(aA.chartGroup())}return aA};aA._invokeFilteredListener=function(k){if(k!==undefined){ap.filtered(aA,k)}};aA._invokeZoomedListener=function(){ap.zoomed(aA)};var ax=function(k,l){if(l===null||typeof(l)==="undefined"){return k.length>0}return k.some(function(m){return l<=m&&l>=m})};aA.hasFilterHandler=function(k){if(!arguments.length){return ax}ax=k;return aA};aA.hasFilter=function(k){return ax(ag,k)};var aG=function(k,l){for(var m=0;m<k.length;m++){if(k[m]<=l&&k[m]>=l){k.splice(m,1);break}}return k};aA.removeFilterHandler=function(k){if(!arguments.length){return aG}aG=k;return aA};var ao=function(k,l){k.push(l);return k};aA.addFilterHandler=function(k){if(!arguments.length){return ao}ao=k;return aA};var am=function(k){return[]};aA.resetFilterHandler=function(k){if(!arguments.length){return am}am=k;return aA};function aH(){if(aA.dimension()&&aA.dimension().filter){var k=aL(aA.dimension(),ag);ag=k?k:ag}}aA.replaceFilter=function(k){ag=am(ag);aA.filter(k)};aA.filter=function(k){if(!arguments.length){return ag.length>0?ag[0]:null}if(k instanceof Array&&k[0] instanceof Array&&!k.isFiltered){k[0].forEach(function(l){if(aA.hasFilter(l)){aG(ag,l)}else{ao(ag,l)}})}else{if(k===null){ag=am(ag)}else{if(aA.hasFilter(k)){aG(ag,k)}else{ao(ag,k)}}}aH();aA._invokeFilteredListener(k);if(at!==null&&aA.hasFilter()){aA.turnOnControls()}else{aA.turnOffControls()}return aA};aA.filters=function(){return ag};aA.highlightSelected=function(k){b.select(k).classed(c.constants.SELECTED_CLASS,true);b.select(k).classed(c.constants.DESELECTED_CLASS,false)};aA.fadeDeselected=function(k){b.select(k).classed(c.constants.SELECTED_CLASS,false);b.select(k).classed(c.constants.DESELECTED_CLASS,true)};aA.resetHighlight=function(k){b.select(k).classed(c.constants.SELECTED_CLASS,false);b.select(k).classed(c.constants.DESELECTED_CLASS,false)};aA.onClick=function(l){var k=aA.keyAccessor()(l);c.events.trigger(function(){aA.filter(k);aA.redrawGroup()})};aA.filterHandler=function(k){if(!arguments.length){return aL}aL=k;return aA};aA._doRender=function(){return aA};aA._doRedraw=function(){return aA};aA.legendables=function(){return[]};aA.legendHighlight=function(){};aA.legendReset=function(){};aA.legendToggle=function(){};aA.isLegendableHidden=function(){return false};aA.keyAccessor=function(k){if(!arguments.length){return aj}aj=k;return aA};aA.valueAccessor=function(k){if(!arguments.length){return aQ}aQ=k;return aA};aA.label=function(k,l){if(!arguments.length){return af}af=k;if((l===undefined)||l){aD=true}return aA};aA.renderLabel=function(k){if(!arguments.length){return aD}aD=k;return aA};aA.title=function(k){if(!arguments.length){return al}al=k;return aA};aA.renderTitle=function(k){if(!arguments.length){return aK}aK=k;return aA};aA.renderlet=c.logger.deprecate(function(k){aA.on("renderlet."+c.utils.uniqueId(),k);return aA},'chart.renderlet has been deprecated.  Please use chart.on("renderlet.<renderletKey>", renderletFunction)');aA.chartGroup=function(k){if(!arguments.length){return aF}if(!i){c.deregisterChart(aA,aF)}aF=k;if(!i){c.registerChart(aA,aF)}return aA};aA.expireCache=function(){return aA};aA.legend=function(k){if(!arguments.length){return ab}ab=k;ab.parent(aA);return aA};aA.chartID=function(){return aA.__dcFlag__};aA.options=function(m){var l=["anchor","group","xAxisLabel","yAxisLabel","stack","title","point","getColor","overlayGeoJson"];for(var k in m){if(typeof(aA[k])==="function"){if(m[k] instanceof Array&&l.indexOf(k)!==-1){aA[k].apply(aA,m[k])}else{aA[k].call(aA,m[k])}}else{c.logger.debug("Not a valid option setter name: "+k)}}return aA};aA.on=function(l,k){ap.on(l,k);return aA};return aA};c.marginMixin=function(i){var l={top:10,right:50,bottom:30,left:30};i.margins=function(k){if(!arguments.length){return l}l=k;return i};i.effectiveWidth=function(){return i.width()-i.margins().left-i.margins().right};i.effectiveHeight=function(){return i.height()-i.margins().top-i.margins().bottom};return i};c.colorMixin=function(p){var n=b.scale.category20c();var o=true;var i=function(k){return p.keyAccessor()(k)};p.colors=function(k){if(!arguments.length){return n}if(k instanceof Array){n=b.scale.quantize().range(k)}else{n=b.functor(k)}return p};p.ordinalColors=function(k){return p.colors(b.scale.ordinal().range(k))};p.linearColors=function(k){return p.colors(b.scale.linear().range(k).interpolate(b.interpolateHcl))};p.colorAccessor=function(k){if(!arguments.length){return i}i=k;o=false;return p};p.defaultColorAccessor=function(){return o};p.colorDomain=function(k){if(!arguments.length){return n.domain()}n.domain(k);return p};p.calculateColorDomain=function(){var k=[b.min(p.data(),p.colorAccessor()),b.max(p.data(),p.colorAccessor())];n.domain(k);return p};p.getColor=function(k,l){return n(i.call(this,k,l))};p.colorCalculator=function(k){if(!arguments.length){return p.getColor}p.getColor=k;return p};return p};c.coordinateGridMixin=function(aD){var bh="grid-line";var bd="horizontal";var aX="vertical";var aA="y-axis-label";var ba="x-axis-label";var aV=12;aD=c.colorMixin(c.marginMixin(c.baseMixin(aD)));aD.colors(b.scale.category10());aD._mandatoryAttributes().push("x");function aw(){aT=true;if(aB){aD.x().domain(ar(aD.x().domain(),bf));if(a9){aD.x().domain(ar(aD.x().domain(),a9.x().domain()))}}var k=aD.x().domain();var l=c.filters.RangedFilter(k[0],k[1]);aD.replaceFilter(l);aD.rescale();aD.redraw();if(a9&&!ax(aD.filter(),a9.filter())){c.events.trigger(function(){a9.replaceFilter(l);a9.redraw()})}aD._invokeZoomedListener();c.events.trigger(function(){aD.redrawGroup()},c.constants.EVENT_DELAY);aT=!ax(k,bf)}var aG;var aI;var a1;var i;var bf;var aE=b.svg.axis().orient("bottom");var aY=c.units.integers;var bg=0;var a3=false;var av;var a7=0;var az;var at;var a6=b.svg.axis().orient("left");var ay=0;var a4=false;var aK;var aF=0;var aW=b.svg.brush();var aq=true;var aL;var aC=false;var aR=false;var aT=false,a8=false;var aP;var aZ=[1,Infinity];var aB=true;var aU=b.behavior.zoom().on("zoom",aw);var a0=b.behavior.zoom().on("zoom",null);var aS=false;var a9;var bi;var aJ=false;var bb=0;var au=0.5;var bj=0;var a5=false;aD.rescale=function(){aP=undefined;a8=true;return aD};aD.resizing=function(){return a8};aD.rangeChart=function(k){if(!arguments.length){return a9}a9=k;a9.focusChart(aD);return aD};aD.zoomScale=function(k){if(!arguments.length){return aZ}aZ=k;return aD};aD.zoomOutRestrict=function(k){if(!arguments.length){return aB}aZ[0]=k?1:0;aB=k;return aD};aD._generateG=function(k){if(k===undefined){aG=aD.svg()}else{aG=k}var l=window.location.href.split("#")[0];aI=aG.append("g");a1=aI.append("g").attr("class","chart-body").attr("transform","translate("+aD.margins().left+", "+aD.margins().top+")").attr("clip-path","url("+l+"#"+bc()+")");return aI};aD.g=function(k){if(!arguments.length){return aI}aI=k;return aD};aD.mouseZoomable=function(k){if(!arguments.length){return aJ}aJ=k;return aD};aD.chartBodyG=function(k){if(!arguments.length){return a1}a1=k;return aD};aD.x=function(k){if(!arguments.length){return i}i=k;bf=i.domain();aD.rescale();return aD};aD.xOriginalDomain=function(){return bf};aD.xUnits=function(k){if(!arguments.length){return aY}aY=k;return aD};aD.xAxis=function(k){if(!arguments.length){return aE}aE=k;return aD};aD.elasticX=function(k){if(!arguments.length){return a3}a3=k;return aD};aD.xAxisPadding=function(k){if(!arguments.length){return bg}bg=k;return aD};aD.xUnitCount=function(){if(aP===undefined){var k=aD.xUnits()(aD.x().domain()[0],aD.x().domain()[1],aD.x().domain());if(k instanceof Array){aP=k.length}else{aP=k}}return aP};aD.useRightYAxis=function(k){if(!arguments.length){return a5}a5=k;return aD};aD.isOrdinal=function(){return aD.xUnits()===c.units.ordinal};aD._useOuterPadding=function(){return true};aD._ordinalXDomain=function(){var k=aD._computeOrderedGroups(aD.data());return k.map(aD.keyAccessor())};function aH(k,l){return !k||!l||k.length!==l.length||k.some(function(n,m){return(n&&l[m])?n.toString()!==l[m].toString():n===l[m]})}function bk(k,l){if(!aD.isOrdinal()){if(aD.elasticX()){i.domain([aD.xAxisMin(),aD.xAxisMax()])}}else{if(aD.elasticX()||i.domain().length===0){i.domain(aD._ordinalXDomain())}}var m=i.domain();if(l||aH(az,m)){aD.rescale()}az=m;if(aD.isOrdinal()){i.rangeBands([0,aD.xAxisLength()],bj,aD._useOuterPadding()?au:0)}else{i.range([0,aD.xAxisLength()])}aE=aE.scale(aD.x());aN(k)}aD.renderXAxis=function(m){var k=m.selectAll("g.x");if(k.empty()){k=m.append("g").attr("class","axis x").attr("transform","translate("+aD.margins().left+","+aD._xAxisY()+")")}var l=m.selectAll("text."+ba);if(l.empty()&&aD.xAxisLabel()){l=m.append("text").attr("class",ba).attr("transform","translate("+(aD.margins().left+aD.xAxisLength()/2)+","+(aD.height()-a7)+")").attr("text-anchor","middle")}if(aD.xAxisLabel()&&l.text()!==aD.xAxisLabel()){l.text(aD.xAxisLabel())}c.transition(k,aD.transitionDuration()).attr("transform","translate("+aD.margins().left+","+aD._xAxisY()+")").call(aE);c.transition(l,aD.transitionDuration()).attr("transform","translate("+(aD.margins().left+aD.xAxisLength()/2)+","+(aD.height()-a7)+")")};function aN(o){var l=o.selectAll("g."+aX);if(aR){if(l.empty()){l=o.insert("g",":first-child").attr("class",bh+" "+aX).attr("transform","translate("+aD.margins().left+","+aD.margins().top+")")}var k=aE.tickValues()?aE.tickValues():(typeof i.ticks==="function"?i.ticks(aE.ticks()[0]):i.domain());var m=l.selectAll("line").data(k);var n=m.enter().append("line").attr("x1",function(p){return i(p)}).attr("y1",aD._xAxisY()-aD.margins().top).attr("x2",function(p){return i(p)}).attr("y2",0).attr("opacity",0);c.transition(n,aD.transitionDuration()).attr("opacity",1);c.transition(m,aD.transitionDuration()).attr("x1",function(p){return i(p)}).attr("y1",aD._xAxisY()-aD.margins().top).attr("x2",function(p){return i(p)}).attr("y2",0);m.exit().remove()}else{l.selectAll("line").remove()}}aD._xAxisY=function(){return(aD.height()-aD.margins().bottom)};aD.xAxisLength=function(){return aD.effectiveWidth()};aD.xAxisLabel=function(l,k){if(!arguments.length){return av}av=l;aD.margins().bottom-=a7;a7=(k===undefined)?aV:k;aD.margins().bottom+=a7;return aD};aD._prepareYAxis=function(k){if(at===undefined||aD.elasticY()){if(at===undefined){at=b.scale.linear()}var l=aD.yAxisMin()||0,m=aD.yAxisMax()||0;at.domain([l,m]).rangeRound([aD.yAxisHeight(),0])}at.range([aD.yAxisHeight(),0]);a6=a6.scale(at);if(a5){a6.orient("right")}aD._renderHorizontalGridLinesForAxis(k,at,a6)};aD.renderYAxisLabel=function(o,n,m,p){p=p||aF;var k=aD.g().selectAll("text."+aA+"."+o+"-label");var l=(aD.margins().top+aD.yAxisHeight()/2);if(k.empty()&&n){k=aD.g().append("text").attr("transform","translate("+p+","+l+"),rotate("+m+")").attr("class",aA+" "+o+"-label").attr("text-anchor","middle").text(n)}if(n&&k.text()!==n){k.text(n)}c.transition(k,aD.transitionDuration()).attr("transform","translate("+p+","+l+"),rotate("+m+")")};aD.renderYAxisAt=function(n,k,l){var m=aD.g().selectAll("g."+n);if(m.empty()){m=aD.g().append("g").attr("class","axis "+n).attr("transform","translate("+l+","+aD.margins().top+")")}c.transition(m,aD.transitionDuration()).attr("transform","translate("+l+","+aD.margins().top+")").call(k)};aD.renderYAxis=function(){var l=a5?(aD.width()-aD.margins().right):aD._yAxisX();aD.renderYAxisAt("y",a6,l);var k=a5?(aD.width()-aF):aF;var m=a5?90:-90;aD.renderYAxisLabel("y",aD.yAxisLabel(),m,k)};aD._renderHorizontalGridLinesForAxis=function(p,n,k){var l=p.selectAll("g."+bd);if(aC){var q=k.tickValues()?k.tickValues():n.ticks(k.ticks()[0]);if(l.empty()){l=p.insert("g",":first-child").attr("class",bh+" "+bd).attr("transform","translate("+aD.margins().left+","+aD.margins().top+")")}var m=l.selectAll("line").data(q);var o=m.enter().append("line").attr("x1",1).attr("y1",function(r){return n(r)}).attr("x2",aD.xAxisLength()).attr("y2",function(r){return n(r)}).attr("opacity",0);c.transition(o,aD.transitionDuration()).attr("opacity",1);c.transition(m,aD.transitionDuration()).attr("x1",1).attr("y1",function(r){return n(r)}).attr("x2",aD.xAxisLength()).attr("y2",function(r){return n(r)});m.exit().remove()}else{l.selectAll("line").remove()}};aD._yAxisX=function(){return aD.useRightYAxis()?aD.width()-aD.margins().right:aD.margins().left};aD.yAxisLabel=function(l,k){if(!arguments.length){return aK}aK=l;aD.margins().left-=aF;aF=(k===undefined)?aV:k;aD.margins().left+=aF;return aD};aD.y=function(k){if(!arguments.length){return at}at=k;aD.rescale();return aD};aD.yAxis=function(k){if(!arguments.length){return a6}a6=k;return aD};aD.elasticY=function(k){if(!arguments.length){return a4}a4=k;return aD};aD.renderHorizontalGridLines=function(k){if(!arguments.length){return aC}aC=k;return aD};aD.renderVerticalGridLines=function(k){if(!arguments.length){return aR}aR=k;return aD};aD.xAxisMin=function(){var k=b.min(aD.data(),function(l){return aD.keyAccessor()(l)});return c.utils.subtract(k,bg)};aD.xAxisMax=function(){var k=b.max(aD.data(),function(l){return aD.keyAccessor()(l)});return c.utils.add(k,bg)};aD.yAxisMin=function(){var k=b.min(aD.data(),function(l){return aD.valueAccessor()(l)});return c.utils.subtract(k,ay)};aD.yAxisMax=function(){var k=b.max(aD.data(),function(l){return aD.valueAccessor()(l)});return c.utils.add(k,ay)};aD.yAxisPadding=function(k){if(!arguments.length){return ay}ay=k;return aD};aD.yAxisHeight=function(){return aD.effectiveHeight()};aD.round=function(k){if(!arguments.length){return aL}aL=k;return aD};aD._rangeBandPadding=function(k){if(!arguments.length){return bj}bj=k;return aD};aD._outerRangeBandPadding=function(k){if(!arguments.length){return au}au=k;return aD};c.override(aD,"filter",function(k){if(!arguments.length){return aD._filter()}aD._filter(k);if(k){aD.brush().extent(k)}else{aD.brush().clear()}return aD});aD.brush=function(k){if(!arguments.length){return aW}aW=k;return aD};function be(){return aD._xAxisY()-aD.margins().top}aD.renderBrush=function(k){if(aq){aW.on("brush",aD._brushing);aW.on("brushstart",aD._disableMouseZoom);aW.on("brushend",a2);var l=k.append("g").attr("class","brush").attr("transform","translate("+aD.margins().left+","+aD.margins().top+")").call(aW.x(aD.x()));aD.setBrushY(l,false);aD.setHandlePaths(l);if(aD.hasFilter()){aD.redrawBrush(k,false)}}};aD.setHandlePaths=function(k){k.selectAll(".resize").append("path").attr("d",aD.resizeHandlePath)};aD.setBrushY=function(k){k.selectAll("rect").attr("height",be());k.selectAll(".resize path").attr("d",aD.resizeHandlePath)};aD.extendBrush=function(){var k=aW.extent();if(aD.round()){k[0]=k.map(aD.round())[0];k[1]=k.map(aD.round())[1];aI.select(".brush").call(aW.extent(k))}return k};aD.brushIsEmpty=function(k){return aW.empty()||!k||k[1]<=k[0]};aD._brushing=function(){var k=aD.extendBrush();aD.redrawBrush(aI,false);if(aD.brushIsEmpty(k)){c.events.trigger(function(){aD.filter(null);aD.redrawGroup()},c.constants.EVENT_DELAY)}else{var l=c.filters.RangedFilter(k[0],k[1]);c.events.trigger(function(){aD.replaceFilter(l);aD.redrawGroup()},c.constants.EVENT_DELAY)}};aD.redrawBrush=function(k,m){if(aq){if(aD.filter()&&aD.brush().empty()){aD.brush().extent(aD.filter())}var l=c.optionalTransition(m,aD.transitionDuration())(k.select("g.brush"));aD.setBrushY(l);l.call(aD.brush().x(aD.x()).extent(aD.brush().extent()))}aD.fadeDeselectedArea()};aD.fadeDeselectedArea=function(){};aD.resizeHandlePath=function(k){var l=+(k==="e"),m=l?1:-1,n=be()/3;return"M"+(0.5*m)+","+n+"A6,6 0 0 "+l+" "+(6.5*m)+","+(n+6)+"V"+(2*n-6)+"A6,6 0 0 "+l+" "+(0.5*m)+","+(2*n)+"ZM"+(2.5*m)+","+(n+8)+"V"+(2*n-8)+"M"+(4.5*m)+","+(n+8)+"V"+(2*n-8)};function bc(){return aD.anchorName().replace(/[ .#=\[\]]/g,"-")+"-clip"}aD.clipPadding=function(k){if(!arguments.length){return bb}bb=k;return aD};function aO(){var m=c.utils.appendOrSelect(aG,"defs");var n=bc();var k=c.utils.appendOrSelect(m,"#"+n,"clipPath").attr("id",n);var l=bb*2;c.utils.appendOrSelect(k,"rect").attr("width",aD.xAxisLength()+l).attr("height",aD.yAxisHeight()+l).attr("transform","translate(-"+bb+", -"+bb+")")}aD._preprocessData=function(){};aD._doRender=function(){aD.resetSvg();aD._preprocessData();aD._generateG();aO();aM(true);a2();return aD};aD._doRedraw=function(){aD._preprocessData();aM(false);aO();return aD};function aM(k){if(aD.isOrdinal()){aq=false}bk(aD.g(),k);aD._prepareYAxis(aD.g());aD.plotData();if(aD.elasticX()||a8||k){aD.renderXAxis(aD.g())}if(aD.elasticY()||a8||k){aD.renderYAxis(aD.g())}if(k){aD.renderBrush(aD.g(),false)}else{aD.redrawBrush(aD.g(),a8)}aD.fadeDeselectedArea();a8=false}function a2(){if(aJ){aD._enableMouseZoom()}else{if(aS){aD._disableMouseZoom()}}}aD._enableMouseZoom=function(){aS=true;aU.x(aD.x()).scaleExtent(aZ).size([aD.width(),aD.height()]).duration(aD.transitionDuration());aD.root().call(aU)};aD._disableMouseZoom=function(){aD.root().call(a0)};function ar(m,k){var l=[];l[0]=b.max([m[0],k[0]]);l[1]=b.min([m[1],k[1]]);return l}aD.focus=function(k){if(aQ(k)){aD.x().domain(k)}else{aD.x().domain(bf)}aU.x(aD.x());aw()};aD.refocused=function(){return aT};aD.focusChart=function(k){if(!arguments.length){return bi}bi=k;aD.on("filtered",function(l){if(!l.filter()){c.events.trigger(function(){bi.x().domain(bi.xOriginalDomain())})}else{if(!ax(l.filter(),bi.filter())){c.events.trigger(function(){bi.focus(l.filter())})}}});return aD};function ax(k,l){if(!k&&!l){return true}else{if(!k||!l){return false}else{if(k.length===0&&l.length===0){return true}else{if(k[0].valueOf()===l[0].valueOf()&&k[1].valueOf()===l[1].valueOf()){return true}}}}return false}aD.brushOn=function(k){if(!arguments.length){return aq}aq=k;return aD};function aQ(k){return k instanceof Array&&k.length>1}return aD};c.stackMixin=function(t){function z(k,m){var l=k.accessor||t.valueAccessor();k.name=String(k.name||m);k.values=k.group.all().map(function(o,n){return{x:t.keyAccessor()(o,n),y:k.hidden?null:l(o,n),data:o,layer:k.name,hidden:k.hidden}});k.values=k.values.filter(y());return k.values}var v=b.layout.stack().values(z);var i=[];var C={};var A=false;function y(){if(!t.x()){return b.functor(true)}var k=t.x().domain();if(t.isOrdinal()){return function(){return true}}if(t.elasticX()){return function(){return true}}return function(l){return l.x>=k[0]&&l.x<=k[k.length-1]}}t.stack=function(k,m,n){if(!arguments.length){return i}if(arguments.length<=2){n=m}var l={group:k};if(typeof m==="string"){l.name=m}if(typeof n==="function"){l.accessor=n}i.push(l);return t};c.override(t,"group",function(m,k,l){if(!arguments.length){return t._group()}i=[];C={};t.stack(m,k);if(l){t.valueAccessor(l)}return t._group(m,k)});t.hidableStacks=function(k){if(!arguments.length){return A}A=k;return t};function x(k){var l=i.map(c.pluck("name")).indexOf(k);return i[l]}t.hideStack=function(l){var k=x(l);if(k){k.hidden=true}return t};t.showStack=function(l){var k=x(l);if(k){k.hidden=false}return t};t.getValueAccessorByIndex=function(k){return i[k].accessor||t.valueAccessor()};t.yAxisMin=function(){var k=b.min(B(),function(l){return(l.y<0)?(l.y+l.y0):l.y0});return c.utils.subtract(k,t.yAxisPadding())};t.yAxisMax=function(){var k=b.max(B(),function(l){return(l.y>0)?(l.y+l.y0):l.y0});return c.utils.add(k,t.yAxisPadding())};function B(){var k=t.data().map(function(l){return l.values});return Array.prototype.concat.apply([],k)}t.xAxisMin=function(){var k=b.min(B(),c.pluck("x"));return c.utils.subtract(k,t.xAxisPadding())};t.xAxisMax=function(){var k=b.max(B(),c.pluck("x"));return c.utils.add(k,t.xAxisPadding())};c.override(t,"title",function(k,l){if(!k){return t._title()}if(typeof k==="function"){return t._title(k)}if(k===t._groupName&&typeof l==="function"){return t._title(l)}if(typeof l!=="function"){return C[k]||t._title()}C[k]=l;return t});t.stackLayout=function(k){if(!arguments.length){return v}v=k;if(v.values()===b.layout.stack().values()){v.values(z)}return t};function u(k){return !k.hidden}t.data(function(){var k=i.filter(u);return k.length?t.stackLayout()(k):[]});t._ordinalXDomain=function(){var k=B().map(c.pluck("data"));var l=t._computeOrderedGroups(k);return l.map(t.keyAccessor())};t.colorAccessor(function(k){var l=this.layer||this.name||k.name||k.layer;return l});t.legendables=function(){return i.map(function(k,l){return{chart:t,name:k.name,hidden:k.hidden||false,color:t.getColor.call(k,k.values,l)}})};t.isLegendableHidden=function(k){var l=x(k.name);return l?l.hidden:false};t.legendToggle=function(k){if(A){if(t.isLegendableHidden(k)){t.showStack(k.name)}else{t.hideStack(k.name)}t.renderGroup()}};return t};c.capMixin=function(p){var n=Infinity;var i="Others";var o=function(y){var k=b.sum(y,p.valueAccessor()),m=p.group().all(),l=b.sum(m,p.valueAccessor()),z=y.map(p.keyAccessor()),v=m.map(p.keyAccessor()),A=b.set(z),x=v.filter(function(q){return !A.has(q)});if(l>k){return y.concat([{others:x,key:i,value:l-k}])}return y};p.cappedKeyAccessor=function(k,l){if(k.others){return k.key}return p.keyAccessor()(k,l)};p.cappedValueAccessor=function(k,l){if(k.others){return k.value}return p.valueAccessor()(k,l)};p.data(function(k){if(n===Infinity){return p._computeOrderedGroups(k.all())}else{var l=k.top(n);l=p._computeOrderedGroups(l);if(o){return o(l)}return l}});p.cap=function(k){if(!arguments.length){return n}n=k;return p};p.othersLabel=function(k){if(!arguments.length){return i}i=k;return p};p.othersGrouper=function(k){if(!arguments.length){return o}o=k;return p};c.override(p,"onClick",function(k){if(k.others){p.filter([k.others])}p._onClick(k)});return p};c.bubbleMixin=function(i){var z=0.3;var A=10;i.BUBBLE_NODE_CLASS="node";i.BUBBLE_CLASS="bubble";i.MIN_RADIUS=10;i=c.colorMixin(i);i.renderLabel(true);i.data(function(k){return k.top(Infinity)});var C=b.scale.linear().domain([0,100]);var u=function(k){return k.r};i.r=function(k){if(!arguments.length){return C}C=k;return i};i.radiusValueAccessor=function(k){if(!arguments.length){return u}u=k;return i};i.rMin=function(){var k=b.min(i.data(),function(l){return i.radiusValueAccessor()(l)});return k};i.rMax=function(){var k=b.max(i.data(),function(l){return i.radiusValueAccessor()(l)});return k};i.bubbleR=function(k){var l=i.radiusValueAccessor()(k);var m=i.r()(l);if(isNaN(m)||l<=0){m=0}return m};var v=function(k){return i.label()(k)};var x=function(k){return(i.bubbleR(k)>A)};var B=function(k){return x(k)?1:0};var t=function(k){return x(k)?"all":"none"};i._doRenderLabel=function(k){if(i.renderLabel()){var l=k.select("text");if(l.empty()){l=k.append("text").attr("text-anchor","middle").attr("dy",".3em").on("click",i.onClick)}l.attr("opacity",0).attr("pointer-events",t).text(v);c.transition(l,i.transitionDuration()).attr("opacity",B)}};i.doUpdateLabels=function(l){if(i.renderLabel()){var k=l.selectAll("text").attr("pointer-events",t).text(v);c.transition(k,i.transitionDuration()).attr("opacity",B)}};var y=function(k){return i.title()(k)};i._doRenderTitles=function(l){if(i.renderTitle()){var k=l.select("title");if(k.empty()){l.append("title").text(y)}}};i.doUpdateTitles=function(k){if(i.renderTitle()){k.selectAll("title").text(y)}};i.minRadius=function(k){if(!arguments.length){return i.MIN_RADIUS}i.MIN_RADIUS=k;return i};i.minRadiusWithLabel=function(k){if(!arguments.length){return A}A=k;return i};i.maxBubbleRelativeSize=function(k){if(!arguments.length){return z}z=k;return i};i.fadeDeselectedArea=function(){if(i.hasFilter()){i.selectAll("g."+i.BUBBLE_NODE_CLASS).each(function(k){if(i.isSelectedNode(k)){i.highlightSelected(this)}else{i.fadeDeselected(this)}})}else{i.selectAll("g."+i.BUBBLE_NODE_CLASS).each(function(){i.resetHighlight(this)})}};i.isSelectedNode=function(k){return i.hasFilter(k.key)};i.onClick=function(k){var l=k.key;c.events.trigger(function(){i.filter(l);i.redrawGroup()})};return i};c.pieChart=function(aT,ao){var aA=0.5;var aF="pie-slice";var aG="pie-label";var a0="pie-slice-group";var ag="pie-label-group";var aP="empty-chart";var al="empty";var aZ,ap,aU=0,aW=0;var aK;var aD;var aH;var aw=aA;var aB;var aS=false;var aE=c.capMixin(c.colorMixin(c.baseMixin({})));aE.colorAccessor(aE.cappedKeyAccessor);aE.title(function(k){return aE.cappedKeyAccessor(k)+": "+aE.cappedValueAccessor(k)});aE.slicesCap=aE.cap;aE.label(aE.cappedKeyAccessor);aE.renderLabel(true);aE.transitionDuration(350);aE._doRender=function(){aE.resetSvg();aK=aE.svg().append("g").attr("transform","translate("+aE.cx()+","+aE.cy()+")");aK.append("g").attr("class",a0);aK.append("g").attr("class",ag);i();return aE};function i(){aZ=ap?ap:b.min([aE.width(),aE.height()])/2;var l=ax();var m=aQ();var o;if(b.sum(aE.data(),aE.valueAccessor())){o=m(aE.data());aK.classed(aP,false)}else{o=m([{key:al,value:1,others:[al]}]);aK.classed(aP,true)}if(aK){var k=aK.select("g."+a0).selectAll("g."+aF).data(o);var n=aK.select("g."+ag).selectAll("text."+aG).data(o);ar(k,n,l,o);aj(o,l);aN(k,n);ai();c.transition(aK,aE.transitionDuration()).attr("transform","translate("+aE.cx()+","+aE.cy()+")")}}function ar(o,n,l,k){var m=aJ(o);av(m,l);aO(m);ay(n,k,l)}function aJ(k){var l=k.enter().append("g").attr("class",function(n,m){return aF+" _"+m});return l}function av(m,l){var k=m.append("path").attr("fill",aM).on("click",az).attr("d",function(n,o){return aX(n,o,l)});c.transition(k,aE.transitionDuration(),function(n){n.attrTween("d",aL)})}function aO(k){if(aE.renderTitle()){k.append("title").text(function(l){return aE.title()(l.data)})}}aE._applyLabelText=function(k){k.text(function(l){var m=l.data;if((at(m)||am(l))&&!aY(l)){return""}return aE.label()(l.data)})};function ah(k,l){aE._applyLabelText(k);c.transition(k,aE.transitionDuration()).attr("transform",function(m){return aC(m,l)}).attr("text-anchor","middle")}function ak(l,k){aE.select("g.pie-slice._"+l).classed("highlight",k)}function ay(n,k,l){if(aE.renderLabel()){var m=n.enter().append("text").attr("class",function(o,p){var q=aF+" "+aG+" _"+p;if(aB){q+=" external"}return q}).on("click",az).on("mouseover",function(o,p){ak(p,true)}).on("mouseout",function(o,p){ak(p,false)});ah(m,l);if(aB&&aS){au(k,l)}}}function au(n,l){var m=aK.selectAll("polyline."+aF).data(n);m.enter().append("polyline").attr("class",function(p,q){return"pie-path _"+q+" "+aF}).on("click",az).on("mouseover",function(p,q){ak(q,true)}).on("mouseout",function(p,q){ak(q,false)});m.exit().remove();var k=b.svg.arc().outerRadius(aZ-aW+aB).innerRadius(aZ-aW);var o=c.transition(m,aE.transitionDuration());if(o.attrTween){o.attrTween("points",function(p){this._current=this._current||p;var q=b.interpolate(this._current,p);this._current=q(0);return function(s){var r=q(s);return[l.centroid(r),k.centroid(r)]}})}else{o.attr("points",function(p){return[l.centroid(p),k.centroid(p)]})}o.style("visibility",function(p){return p.endAngle-p.startAngle<0.0001?"hidden":"visible"})}function aj(k,l){aq(k,l);aV(k,l);aI(k)}function aq(k,l){var m=aK.selectAll("g."+aF).data(k).select("path").attr("d",function(n,o){return aX(n,o,l)});c.transition(m,aE.transitionDuration(),function(n){n.attrTween("d",aL)}).attr("fill",aM)}function aV(l,m){if(aE.renderLabel()){var k=aK.selectAll("text."+aG).data(l);ah(k,m);if(aB&&aS){au(l,m)}}}function aI(k){if(aE.renderTitle()){aK.selectAll("g."+aF).data(k).select("title").text(function(l){return aE.title()(l.data)})}}function aN(l,k){l.exit().remove();k.exit().remove()}function ai(){if(aE.hasFilter()){aE.selectAll("g."+aF).each(function(k){if(aY(k)){aE.highlightSelected(this)}else{aE.fadeDeselected(this)}})}else{aE.selectAll("g."+aF).each(function(){aE.resetHighlight(this)})}}aE.externalRadiusPadding=function(k){if(!arguments.length){return aW}aW=k;return aE};aE.innerRadius=function(k){if(!arguments.length){return aU}aU=k;return aE};aE.radius=function(k){if(!arguments.length){return ap}ap=k;return aE};aE.cx=function(k){if(!arguments.length){return(aD||aE.width()/2)}aD=k;return aE};aE.cy=function(k){if(!arguments.length){return(aH||aE.height()/2)}aH=k;return aE};function ax(){return b.svg.arc().outerRadius(aZ-aW).innerRadius(aU)}function aY(k){return aE.hasFilter(aE.cappedKeyAccessor(k.data))}aE._doRedraw=function(){i();return aE};aE.minAngleForLabel=function(k){if(!arguments.length){return aw}aw=k;return aE};function aQ(){return b.layout.pie().sort(null).value(aE.cappedValueAccessor)}function am(k){var l=(k.endAngle-k.startAngle);return isNaN(l)||l<aw}function at(k){return aE.cappedValueAccessor(k)===0}function aL(m){m.innerRadius=aU;var k=this._current;if(aR(k)){k={startAngle:0,endAngle:0}}else{k={startAngle:k.startAngle,endAngle:k.endAngle}}var l=b.interpolate(k,m);this._current=l(0);return function(n){return aX(l(n),0,ax())}}function aR(k){return !k||isNaN(k.startAngle)||isNaN(k.endAngle)}function aM(k,l){return aE.getColor(k.data,l)}function az(k,l){if(aK.attr("class")!==aP){aE.onClick(k.data,l)}}function aX(n,l,m){var k=m(n,l);if(k.indexOf("NaN")>=0){k="M0,0"}return k}aE.emptyTitle=function(k){if(arguments.length===0){return al}al=k;return aE};aE.externalLabels=function(k){if(arguments.length===0){return aB}else{if(k){aB=k}else{aB=undefined}}return aE};aE.drawPaths=function(k){if(arguments.length===0){return aS}aS=k;return aE};function aC(k,m){var l;if(aB){l=b.svg.arc().outerRadius(aZ-aW+aB).innerRadius(aZ-aW+aB).centroid(k)}else{l=m.centroid(k)}if(isNaN(l[0])||isNaN(l[1])){return"translate(0,0)"}else{return"translate("+l+")"}}aE.legendables=function(){return aE.data().map(function(k,l){var m={name:k.key,data:k.value,others:k.others,chart:aE};m.color=aE.getColor(k,l);return m})};aE.legendHighlight=function(k){an(k,true)};aE.legendReset=function(k){an(k,false)};aE.legendToggle=function(k){aE.onClick({key:k.name,others:k.others})};function an(l,k){aE.selectAll("g.pie-slice").each(function(m){if(l.name===m.data.key){b.select(this).classed("highlight",k)}})}return aE.anchor(aT,ao)};c.barChart=function(L,F){var N=1;var M=2;var A=3;var K=c.stackMixin(c.coordinateGridMixin({}));var H=M;var E=false;var B=false;var G;c.override(K,"rescale",function(){K._rescale();G=undefined;return K});c.override(K,"render",function(){if(K.round()&&E&&!B){c.logger.warn("By default, brush rounding is disabled if bars are centered. See dc.js bar chart API documentation for details.")}return K._render()});K.label(function(k){return c.utils.printSingleValue(k.y0+k.y)},false);K.plotData=function(){var k=K.chartBodyG().selectAll("g.stack").data(K.data());z();k.enter().append("g").attr("class",function(m,n){return"stack _"+n});var l=k.size()-1;k.each(function(m,n){var o=b.select(this);D(o,n,m);if(K.renderLabel()&&l===n){C(o,n,m)}})};function I(k){return c.utils.safeNumber(Math.abs(K.y()(k.y+k.y0)-K.y()(k.y0)))}function C(k,m,n){var l=k.selectAll("text.barLabel").data(n.values,c.pluck("x"));l.enter().append("text").attr("class","barLabel").attr("text-anchor","middle");if(K.isOrdinal()){l.on("click",K.onClick);l.attr("cursor","pointer")}c.transition(l,K.transitionDuration()).attr("x",function(o){var p=K.x()(o.x);if(!E){p+=G/2}return c.utils.safeNumber(p)}).attr("y",function(p){var o=K.y()(p.y+p.y0);if(p.y<0){o-=I(p)}return c.utils.safeNumber(o-A)}).text(function(o){return K.label()(o)});c.transition(l.exit(),K.transitionDuration()).attr("height",0).remove()}function D(o,k,l){var n=o.selectAll("rect.bar").data(l.values,c.pluck("x"));var m=n.enter().append("rect").attr("class","bar").attr("fill",c.pluck("data",K.getColor)).attr("y",K.yAxisHeight()).attr("height",0);if(K.renderTitle()){m.append("title").text(c.pluck("data",K.title(l.name)))}if(K.isOrdinal()){n.on("click",K.onClick)}c.transition(n,K.transitionDuration()).attr("x",function(p){var q=K.x()(p.x);if(E){q-=G/2}if(K.isOrdinal()&&H!==undefined){q+=H/2}return c.utils.safeNumber(q)}).attr("y",function(q){var p=K.y()(q.y+q.y0);if(q.y<0){p-=I(q)}return c.utils.safeNumber(p)}).attr("width",G).attr("height",function(p){return I(p)}).attr("fill",c.pluck("data",K.getColor)).select("title").text(c.pluck("data",K.title(l.name)));c.transition(n.exit(),K.transitionDuration()).attr("x",function(p){return K.x()(p.x)}).attr("width",G*0.9).remove()}function z(){if(G===undefined){var k=K.xUnitCount();if(K.isOrdinal()&&H===undefined){G=Math.floor(K.x().rangeBand())}else{if(H){G=Math.floor((K.xAxisLength()-(k-1)*H)/k)}else{G=Math.floor(K.xAxisLength()/(1+K.barPadding())/k)}}if(G===Infinity||isNaN(G)||G<N){G=N}}}K.fadeDeselectedArea=function(){var k=K.chartBodyG().selectAll("rect.bar");var n=K.brush().extent();if(K.isOrdinal()){if(K.hasFilter()){k.classed(c.constants.SELECTED_CLASS,function(o){return K.hasFilter(o.x)});k.classed(c.constants.DESELECTED_CLASS,function(o){return !K.hasFilter(o.x)})}else{k.classed(c.constants.SELECTED_CLASS,false);k.classed(c.constants.DESELECTED_CLASS,false)}}else{if(!K.brushIsEmpty(n)){var m=n[0];var l=n[1];k.classed(c.constants.DESELECTED_CLASS,function(o){return o.x<m||o.x>=l})}else{k.classed(c.constants.DESELECTED_CLASS,false)}}};K.centerBar=function(k){if(!arguments.length){return E}E=k;return K};c.override(K,"onClick",function(k){K._onClick(k.data)});K.barPadding=function(k){if(!arguments.length){return K._rangeBandPadding()}K._rangeBandPadding(k);H=undefined;return K};K._useOuterPadding=function(){return H===undefined};K.outerPadding=K._outerRangeBandPadding;K.gap=function(k){if(!arguments.length){return H}H=k;return K};K.extendBrush=function(){var k=K.brush().extent();if(K.round()&&(!E||B)){k[0]=k.map(K.round())[0];k[1]=k.map(K.round())[1];K.chartBodyG().select(".brush").call(K.brush().extent(k))}return k};K.alwaysUseRounding=function(k){if(!arguments.length){return B}B=k;return K};function i(k,l){return function(){var m=b.select(this);var n=m.attr("fill")===k;return l?!n:n}}K.legendHighlight=function(k){if(!K.isLegendableHidden(k)){K.g().selectAll("rect.bar").classed("highlight",i(k.color)).classed("fadeout",i(k.color,true))}};K.legendReset=function(){K.g().selectAll("rect.bar").classed("highlight",false).classed("fadeout",false)};c.override(K,"xAxisMax",function(){var l=this._xAxisMax();if("resolution" in K.xUnits()){var k=K.xUnits().resolution;l+=k}return l});return K.anchor(L,F)};c.lineChart=function(al,ac){var U=5;var aA="dc-tooltip";var ag="dot";var ak="yRef";var ap="xRef";var ab=0.000001;var ax=3;var ay=c.stackMixin(c.coordinateGridMixin({}));var Y=false;var az=U;var ah=null;var V=ab;var ae=ab;var Z="linear";var W=0.7;var aa;var ad;var an=true;ay.transitionDuration(500);ay._rangeBandPadding(1);ay.plotData=function(){var n=ay.chartBodyG();var l=n.selectAll("g.stack-list");if(l.empty()){l=n.append("g").attr("class","stack-list")}var k=l.selectAll("g.stack").data(ay.data());var m=k.enter().append("g").attr("class",function(o,p){return"stack _"+p});au(m,k);T(m,k);ao(n,k);if(ay.renderLabel()){X(k)}};ay.interpolate=function(k){if(!arguments.length){return Z}Z=k;return ay};ay.tension=function(k){if(!arguments.length){return W}W=k;return ay};ay.defined=function(k){if(!arguments.length){return aa}aa=k;return ay};ay.dashStyle=function(k){if(!arguments.length){return ad}ad=k;return ay};ay.renderArea=function(k){if(!arguments.length){return Y}Y=k;return ay};function am(k,l){return ay.getColor.call(k,k.values,l)}function au(m,k){var n=b.svg.line().x(function(o){return ay.x()(o.x)}).y(function(o){return ay.y()(o.y+o.y0)}).interpolate(Z).tension(W);if(aa){n.defined(aa)}var l=m.append("path").attr("class","line").attr("stroke",am);if(ad){l.attr("stroke-dasharray",ad)}c.transition(k.select("path.line"),ay.transitionDuration()).attr("stroke",am).attr("d",function(o){return af(n(o.values))})}function T(m,k){if(Y){var l=b.svg.area().x(function(n){return ay.x()(n.x)}).y(function(n){return ay.y()(n.y+n.y0)}).y0(function(n){return ay.y()(n.y0)}).interpolate(Z).tension(W);if(aa){l.defined(aa)}m.append("path").attr("class","area").attr("fill",am).attr("d",function(n){return af(l(n.values))});c.transition(k.select("path.area"),ay.transitionDuration()).attr("fill",am).attr("d",function(n){return af(l(n.values))})}}function af(k){return(!k||k.indexOf("NaN")>=0)?"M0,0":k}function ao(m,k){if(!ay.brushOn()&&ay.xyTipsOn()){var n=aA+"-list";var l=m.select("g."+n);if(l.empty()){l=m.append("g").attr("class",n)}k.each(function(q,s){var r=q.values;if(aa){r=r.filter(aa)}var p=l.select("g."+aA+"._"+s);if(p.empty()){p=l.append("g").attr("class",aA+" _"+s)}aw(p);var o=p.selectAll("circle."+ag).data(r,c.pluck("x"));o.enter().append("circle").attr("class",ag).attr("r",aj()).style("fill-opacity",V).style("stroke-opacity",ae).attr("fill",ay.getColor).on("mousemove",function(){var t=b.select(this);i(t);ar(t,p)}).on("mouseout",function(){var t=b.select(this);at(t);av(p)});o.call(ai,q);c.transition(o,ay.transitionDuration()).attr("cx",function(t){return c.utils.safeNumber(ay.x()(t.x))}).attr("cy",function(t){return c.utils.safeNumber(ay.y()(t.y+t.y0))}).attr("fill",ay.getColor);o.exit().remove()})}}ay.label(function(k){return c.utils.printSingleValue(k.y0+k.y)},false);function X(k){k.each(function(l,m){var n=b.select(this);var o=n.selectAll("text.lineLabel").data(l.values,c.pluck("x"));o.enter().append("text").attr("class","lineLabel").attr("text-anchor","middle");c.transition(o,ay.transitionDuration()).attr("x",function(p){return c.utils.safeNumber(ay.x()(p.x))}).attr("y",function(q){var p=ay.y()(q.y+q.y0)-ax;return c.utils.safeNumber(p)}).text(function(p){return ay.label()(p)});c.transition(o.exit(),ay.transitionDuration()).attr("height",0).remove()})}function aw(k){var l=k.select("path."+ak).empty()?k.append("path").attr("class",ak):k.select("path."+ak);l.style("display","none").attr("stroke-dasharray","5,5");var m=k.select("path."+ap).empty()?k.append("path").attr("class",ap):k.select("path."+ap);m.style("display","none").attr("stroke-dasharray","5,5")}function i(k){k.style("fill-opacity",0.8);k.style("stroke-opacity",0.8);k.attr("r",az);return k}function ar(l,p){var m=l.attr("cx");var o=l.attr("cy");var q=(ay._yAxisX()-ay.margins().left);var n="M"+q+" "+o+"L"+(m)+" "+(o);var k="M"+m+" "+ay.yAxisHeight()+"L"+m+" "+o;p.select("path."+ak).style("display","").attr("d",n);p.select("path."+ap).style("display","").attr("d",k)}function aj(){return ah||az}function at(k){k.style("fill-opacity",V).style("stroke-opacity",ae).attr("r",aj())}function av(k){k.select("path."+ak).style("display","none");k.select("path."+ap).style("display","none")}function ai(l,k){if(ay.renderTitle()){l.selectAll("title").remove();l.append("title").text(c.pluck("data",ay.title(k.name)))}}ay.xyTipsOn=function(k){if(!arguments.length){return an}an=k;return ay};ay.dotRadius=function(k){if(!arguments.length){return az}az=k;return ay};ay.renderDataPoints=function(k){if(!arguments.length){return{fillOpacity:V,strokeOpacity:ae,radius:ah}}else{if(!k){V=ab;ae=ab;ah=null}else{V=k.fillOpacity||0.8;ae=k.strokeOpacity||0.8;ah=k.radius||2}}return ay};function aq(k,l,m){return function(){var o=b.select(this);var n=(o.attr("stroke")===k&&o.attr("stroke-dasharray")===((l instanceof Array)?l.join(","):null))||o.attr("fill")===k;return m?!n:n}}ay.legendHighlight=function(k){if(!ay.isLegendableHidden(k)){ay.g().selectAll("path.line, path.area").classed("highlight",aq(k.color,k.dashstyle)).classed("fadeout",aq(k.color,k.dashstyle,true))}};ay.legendReset=function(){ay.g().selectAll("path.line, path.area").classed("highlight",false).classed("fadeout",false)};c.override(ay,"legendables",function(){var k=ay._legendables();if(!ad){return k}return k.map(function(l){l.dashstyle=ad;return l})});return ay.anchor(al,ac)};c.dataCount=function(i,r){var o=b.format(",d");var q=c.baseMixin({});var p={some:"",all:""};q.html=function(k){if(!arguments.length){return p}if(k.all){p.all=k.all}if(k.some){p.some=k.some}return q};q.formatNumber=function(k){if(!arguments.length){return o}o=k;return q};q._doRender=function(){var n=q.dimension().size(),k=q.group().value();var l=o(n);var m=o(k);if((n===k)&&(p.all!=="")){q.root().html(p.all.replace("%total-count",l).replace("%filter-count",m))}else{if(p.some!==""){q.root().html(p.some.replace("%total-count",l).replace("%filter-count",m))}else{q.selectAll(".total-count").text(l);q.selectAll(".filter-count").text(m)}}return q};q._doRedraw=function(){return q._doRender()};return q.anchor(i,r)};c.dataTable=function(H,F){var Q="dc-table-label";var D="dc-table-row";var P="dc-table-column";var E="dc-table-group";var T="dc-table-head";var O=c.baseMixin({});var N=25;var C=[];var S=function(k){return k};var I=b.ascending;var i=0;var M;var G=true;O._doRender=function(){O.selectAll("tbody").remove();R(K());return O};O._doColumnValueFormat=function(l,k){return((typeof l==="function")?l(k):((typeof l==="string")?k[l]:l.format(k)))};O._doColumnHeaderFormat=function(k){return(typeof k==="function")?O._doColumnHeaderFnToString(k):((typeof k==="string")?O._doColumnHeaderCapitalize(k):String(k.label))};O._doColumnHeaderCapitalize=function(k){return k.charAt(0).toUpperCase()+k.slice(1)};O._doColumnHeaderFnToString=function(k){var m=String(k);var l=m.indexOf("return ");if(l>=0){var n=m.lastIndexOf(";");if(n>=0){m=m.substring(l+7,n);var o=m.indexOf("numberFormat");if(o>=0){m=m.replace("numberFormat","")}}}return m};function K(){var k=true;C.forEach(function(q){k=k&(typeof q==="function")});if(!k){var l=O.selectAll("thead").data([0]);l.enter().append("thead");l.exit().remove();var n=l.selectAll("tr").data([0]);n.enter().append("tr");n.exit().remove();var o=n.selectAll("th").data(C);o.enter().append("th");o.exit().remove();o.attr("class",T).html(function(q){return(O._doColumnHeaderFormat(q))})}var p=O.root().selectAll("tbody").data(L(),function(q){return O.keyAccessor()(q)});var m=p.enter().append("tbody");if(G===true){m.append("tr").attr("class",E).append("td").attr("class",Q).attr("colspan",C.length).html(function(q){return O.keyAccessor()(q)})}p.exit().remove();return m}function L(){var k;if(I===b.ascending){k=O.dimension().bottom(N)}else{k=O.dimension().top(N)}return b.nest().key(O.group()).sortKeys(I).entries(k.sort(function(l,m){return I(S(l),S(m))}).slice(i,M))}function R(m){var k=m.order().selectAll("tr."+D).data(function(n){return n.values});var l=k.enter().append("tr").attr("class",D);C.forEach(function(o,n){l.append("td").attr("class",P+" _"+n).html(function(p){return O._doColumnValueFormat(o,p)})});k.exit().remove();return k}O._doRedraw=function(){return O._doRender()};O.size=function(k){if(!arguments.length){return N}N=k;return O};O.beginSlice=function(k){if(!arguments.length){return i}i=k;return O};O.endSlice=function(k){if(!arguments.length){return M}M=k;return O};O.columns=function(k){if(!arguments.length){return C}C=k;return O};O.sortBy=function(k){if(!arguments.length){return S}S=k;return O};O.order=function(k){if(!arguments.length){return I}I=k;return O};O.showGroups=function(k){if(!arguments.length){return G}G=k;return O};return O.anchor(H,F)};c.dataGrid=function(N,F){var R="dc-grid-label";var L="dc-grid-item";var E="dc-grid-group";var i="dc-grid-top";var M=c.baseMixin({});var Q=999;var G=function(k){return"you need to provide an html() handling param:  "+JSON.stringify(k)};var D=function(k){return k};var C=b.ascending;var K=0,O;var H=function(k){return"<div class='"+E+"'><h1 class='"+R+"'>"+M.keyAccessor()(k)+"</h1></div>"};M._doRender=function(){M.selectAll("div."+i).remove();B(I());return M};function I(){var l=M.root().selectAll("div."+i).data(P(),function(m){return M.keyAccessor()(m)});var k=l.enter().append("div").attr("class",i);if(H){k.html(function(m){return H(m)})}l.exit().remove();return k}function P(){var k=M.dimension().top(Q);return b.nest().key(M.group()).sortKeys(C).entries(k.sort(function(l,m){return C(D(l),D(m))}).slice(K,O))}function B(l){var k=l.order().selectAll("div."+L).data(function(m){return m.values});k.enter().append("div").attr("class",L).html(function(m){return G(m)});k.exit().remove();return k}M._doRedraw=function(){return M._doRender()};M.beginSlice=function(k){if(!arguments.length){return K}K=k;return M};M.endSlice=function(k){if(!arguments.length){return O}O=k;return M};M.size=function(k){if(!arguments.length){return Q}Q=k;return M};M.html=function(k){if(!arguments.length){return G}G=k;return M};M.htmlGroup=function(k){if(!arguments.length){return H}H=k;return M};M.sortBy=function(k){if(!arguments.length){return D}D=k;return M};M.order=function(k){if(!arguments.length){return C}C=k;return M};return M.anchor(N,F)};c.bubbleChart=function(u,B){var i=c.bubbleMixin(c.coordinateGridMixin({}));var A=false;var x=false;i.transitionDuration(750);var C=function(k){return"translate("+(y(k))+","+(z(k))+")"};i.elasticRadius=function(k){if(!arguments.length){return A}A=k;return i};i.sortBubbleSize=function(k){if(!arguments.length){return x}x=k;return i};i.plotData=function(){if(A){i.r().domain([i.rMin(),i.rMax()])}i.r().range([i.MIN_RADIUS,i.xAxisLength()*i.maxBubbleRelativeSize()]);var k=i.data();if(x){var l=i.radiusValueAccessor();k.sort(function(n,o){return b.descending(l(n),l(o))})}var m=i.chartBodyG().selectAll("g."+i.BUBBLE_NODE_CLASS).data(k,function(n){return n.key});if(x){m.order()}D(m);E(m);v(m);i.fadeDeselectedArea()};function D(l){var k=l.enter().append("g");k.attr("class",i.BUBBLE_NODE_CLASS).attr("transform",C).append("circle").attr("class",function(n,m){return i.BUBBLE_CLASS+" _"+m}).on("click",i.onClick).attr("fill",i.getColor).attr("r",0);c.transition(l,i.transitionDuration()).selectAll("circle."+i.BUBBLE_CLASS).attr("r",function(m){return i.bubbleR(m)}).attr("opacity",function(m){return(i.bubbleR(m)>0)?1:0});i._doRenderLabel(k);i._doRenderTitles(k)}function E(k){c.transition(k,i.transitionDuration()).attr("transform",C).selectAll("circle."+i.BUBBLE_CLASS).attr("fill",i.getColor).attr("r",function(l){return i.bubbleR(l)}).attr("opacity",function(l){return(i.bubbleR(l)>0)?1:0});i.doUpdateLabels(k);i.doUpdateTitles(k)}function v(k){k.exit().remove()}function y(k){var l=i.x()(i.keyAccessor()(k));if(isNaN(l)){l=0}return l}function z(l){var k=i.y()(i.valueAccessor()(l));if(isNaN(k)){k=0}return k}i.renderBrush=function(){};i.redrawBrush=function(){i.fadeDeselectedArea()};return i.anchor(u,B)};c.compositeChart=function(ab,U){var am="sub";var P=12;var ao=c.coordinateGridMixin({});var Z=[];var ar={};var T=false,ap=true,ai=false;var aj=b.svg.axis(),Y=0,af=P,ak,al=false;ao._mandatoryAttributes([]);ao.transitionDuration(500);c.override(ao,"_generateG",function(){var l=this.__generateG();for(var m=0;m<Z.length;++m){var k=Z[m];ad(k,m);if(!k.dimension()){k.dimension(ao.dimension())}if(!k.group()){k.group(ao.group())}k.chartGroup(ao.chartGroup());k.svg(ao.svg());k.xUnits(ao.xUnits());k.transitionDuration(ao.transitionDuration());k.brushOn(ao.brushOn());k.renderTitle(ao.renderTitle());k.elasticX(ao.elasticX())}return l});ao._brushing=function(){var l=ao.extendBrush();var k=ao.brushIsEmpty(l);for(var m=0;m<Z.length;++m){Z[m].replaceFilter(k?null:l)}};ao._prepareYAxis=function(){var k=(ae().length!==0);var l=(aq().length!==0);var m=an(k,l);if(k){aa(m)}if(l){S(m)}if(ae().length>0&&!al){ao._renderHorizontalGridLinesForAxis(ao.g(),ao.y(),ao.yAxis())}else{if(aq().length>0){ao._renderHorizontalGridLinesForAxis(ao.g(),ak,aj)}}};ao.renderYAxis=function(){if(ae().length!==0){ao.renderYAxisAt("y",ao.yAxis(),ao.margins().left);ao.renderYAxisLabel("y",ao.yAxisLabel(),-90)}if(aq().length!==0){ao.renderYAxisAt("yr",ao.rightYAxis(),ao.width()-ao.margins().right);ao.renderYAxisLabel("yr",ao.rightYAxisLabel(),90,ao.width()-af)}};function an(k,n){var q,l,m,o;var p;if(k){q=R();l=i()}if(n){m=ah();o=ac()}if(ao.alignYAxes()&&k&&n){p=W(q,l,m,o)}return p||{lyAxisMin:q,lyAxisMax:l,ryAxisMin:m,ryAxisMax:o}}function W(o,k,l,n){var m=(n-l)/(k-o);return{lyAxisMin:Math.min(o,l/m),lyAxisMax:Math.max(k,n/m),ryAxisMin:Math.min(l,o*m),ryAxisMax:Math.max(n,k*m)}}function S(m){var k=ao.rightY()===undefined||ao.elasticY(),l=k||ao.resizing();if(ao.rightY()===undefined){ao.rightY(b.scale.linear())}if(k){ao.rightY().domain([m.ryAxisMin,m.ryAxisMax])}if(l){ao.rightY().rangeRound([ao.yAxisHeight(),0])}ao.rightY().range([ao.yAxisHeight(),0]);ao.rightYAxis(ao.rightYAxis().scale(ao.rightY()));ao.rightYAxis().orient("right")}function aa(m){var k=ao.y()===undefined||ao.elasticY(),l=k||ao.resizing();if(ao.y()===undefined){ao.y(b.scale.linear())}if(k){ao.y().domain([m.lyAxisMin,m.lyAxisMax])}if(l){ao.y().rangeRound([ao.yAxisHeight(),0])}ao.y().range([ao.yAxisHeight(),0]);ao.yAxis(ao.yAxis().scale(ao.y()));ao.yAxis().orient("left")}function ad(k,l){k._generateG(ao.g());k.g().attr("class",am+" _"+l)}ao.plotData=function(){for(var l=0;l<Z.length;++l){var k=Z[l];if(!k.g()){ad(k,l)}if(T){k.colors(ao.colors())}k.x(ao.x());k.xAxis(ao.xAxis());if(k.useRightYAxis()){k.y(ao.rightY());k.yAxis(ao.rightYAxis())}else{k.y(ao.y());k.yAxis(ao.yAxis())}k.plotData();k._activateRenderlets()}};ao.useRightAxisGridLines=function(k){if(!arguments){return al}al=k;return ao};ao.childOptions=function(k){if(!arguments.length){return ar}ar=k;Z.forEach(function(l){l.options(ar)});return ao};ao.fadeDeselectedArea=function(){for(var l=0;l<Z.length;++l){var k=Z[l];k.brush(ao.brush());k.fadeDeselectedArea()}};ao.rightYAxisLabel=function(l,k){if(!arguments.length){return Y}Y=l;ao.margins().right-=af;af=(k===undefined)?P:k;ao.margins().right+=af;return ao};ao.compose=function(k){Z=k;Z.forEach(function(l){l.height(ao.height());l.width(ao.width());l.margins(ao.margins());if(ap){l.title(ao.title())}l.options(ar)});return ao};ao.children=function(){return Z};ao.shareColors=function(k){if(!arguments.length){return T}T=k;return ao};ao.shareTitle=function(k){if(!arguments.length){return ap}ap=k;return ao};ao.rightY=function(k){if(!arguments.length){return ak}ak=k;ao.rescale();return ao};ao.alignYAxes=function(k){if(!arguments.length){return ai}ai=k;ao.rescale();return ao};function ae(){return Z.filter(function(k){return !k.useRightYAxis()})}function aq(){return Z.filter(function(k){return k.useRightYAxis()})}function V(k){return k.map(function(l){return l.yAxisMin()})}delete ao.yAxisMin;function R(){return b.min(V(ae()))}function ah(){return b.min(V(aq()))}function Q(k){return k.map(function(l){return l.yAxisMax()})}delete ao.yAxisMax;function i(){return c.utils.add(b.max(Q(ae())),ao.yAxisPadding())}function ac(){return c.utils.add(b.max(Q(aq())),ao.yAxisPadding())}function ag(){return Z.map(function(k){return k.xAxisMin()})}c.override(ao,"xAxisMin",function(){return c.utils.subtract(b.min(ag()),ao.xAxisPadding())});function X(){return Z.map(function(k){return k.xAxisMax()})}c.override(ao,"xAxisMax",function(){return c.utils.add(b.max(X()),ao.xAxisPadding())});ao.legendables=function(){return Z.reduce(function(l,k){if(T){k.colors(ao.colors())}l.push.apply(l,k.legendables());return l},[])};ao.legendHighlight=function(l){for(var m=0;m<Z.length;++m){var k=Z[m];k.legendHighlight(l)}};ao.legendReset=function(l){for(var m=0;m<Z.length;++m){var k=Z[m];k.legendReset(l)}};ao.legendToggle=function(){console.log("composite should not be getting legendToggle itself")};ao.rightYAxis=function(k){if(!arguments.length){return aj}aj=k;return ao};return ao.anchor(ab,U)};c.seriesChart=function(i,y){var E=c.compositeChart(i,y);function x(k,l){return b.ascending(E.keyAccessor()(k),E.keyAccessor()(l))}var D={};var B=c.lineChart;var A;var v=b.ascending;var C=x;E._mandatoryAttributes().push("seriesAccessor","chart");E.shareColors(true);E._preprocessData=function(){var l=[];var m;var n=b.nest().key(A);if(v){n.sortKeys(v)}if(C){n.sortValues(C)}var o=n.entries(E.data());var k=o.map(function(q,p){var r=D[q.key]||B.call(E,E,y,q.key,p);if(!D[q.key]){m=true}D[q.key]=r;l.push(q.key);return r.dimension(E.dimension()).group({all:b.functor(q.values)},q.key).keyAccessor(E.keyAccessor()).valueAccessor(E.valueAccessor()).brushOn(E.brushOn())});Object.keys(D).filter(function(p){return l.indexOf(p)===-1}).forEach(function(p){z(p);m=true});E._compose(k);if(m&&E.legend()){E.legend().render()}};function z(k){if(D[k].g()){D[k].g().remove()}delete D[k]}function u(){Object.keys(D).map(z);D={}}E.chart=function(k){if(!arguments.length){return B}B=k;u();return E};E.seriesAccessor=function(k){if(!arguments.length){return A}A=k;u();return E};E.seriesSort=function(k){if(!arguments.length){return v}v=k;u();return E};E.valueSort=function(k){if(!arguments.length){return C}C=k;u();return E};E._compose=E.compose;delete E.compose;return E};c.geoChoroplethChart=function(O,H){var N=c.colorMixin(c.baseMixin({}));N.colorAccessor(function(k){return k||0});var B=b.geo.path();var R;var P=[];N._doRender=function(){N.resetSvg();for(var l=0;l<P.length;++l){var m=N.svg().append("g").attr("class","layer"+l);var k=m.selectAll("g."+F(l).name).data(F(l).data).enter().append("g").attr("class",F(l).name);k.append("path").attr("fill","white").attr("d",B);k.append("title");G(l)}R=false};function G(m){var l=K();if(Q(m)){var k=E(m);M(k,m,l);i(k,m,l)}}function K(){var k={};var m=N.data();for(var l=0;l<m.length;++l){k[N.keyAccessor()(m[l])]=N.valueAccessor()(m[l])}return k}function Q(k){return F(k).keyAccessor}function E(l){var k=N.svg().selectAll(D(l)).classed("selected",function(m){return I(l,m)}).classed("deselected",function(m){return L(l,m)}).attr("class",function(n){var p=F(l).name;var m=c.utils.nameToId(F(l).keyAccessor(n));var o=p+" "+m;if(I(l,n)){o+=" selected"}if(L(l,n)){o+=" deselected"}return o});return k}function D(k){return"g.layer"+k+" g."+F(k).name}function I(l,k){return N.hasFilter()&&N.hasFilter(C(l,k))}function L(l,k){return N.hasFilter()&&!N.hasFilter(C(l,k))}function C(l,k){return F(l).keyAccessor(k)}function F(k){return P[k]}function M(k,n,m){var l=k.select("path").attr("fill",function(){var o=b.select(this).attr("fill");if(o){return o}return"none"}).on("click",function(o){return N.onClick(o,n)});c.transition(l,N.transitionDuration()).attr("fill",function(o,p){return N.getColor(m[F(n).keyAccessor(o)],p)})}N.onClick=function(k,m){var l=F(m).keyAccessor(k);c.events.trigger(function(){N.filter(l);N.redrawGroup()})};function i(k,m,l){if(N.renderTitle()){k.selectAll("title").text(function(n){var p=C(m,n);var o=l[p];return N.title()({key:p,value:o})})}}N._doRedraw=function(){for(var k=0;k<P.length;++k){G(k);if(R){N.svg().selectAll("g."+F(k).name+" path").attr("d",B)}}R=false};N.overlayGeoJson=function(k,n,l){for(var m=0;m<P.length;++m){if(P[m].name===n){P[m].data=k;P[m].keyAccessor=l;return N}}P.push({name:n,data:k,keyAccessor:l});return N};N.projection=function(k){B.projection(k);R=true;return N};N.geoJsons=function(){return P};N.geoPath=function(){return B};N.removeGeoJson=function(n){var k=[];for(var l=0;l<P.length;++l){var m=P[l];if(m.name!==n){k.push(m)}}P=k;return N};return N.anchor(O,H)};c.bubbleOverlay=function(I,D){var G="bubble-overlay";var B="node";var i="bubble";var H=c.bubbleMixin(c.baseMixin({}));var z;var A=[];H.transitionDuration(750);H.radiusValueAccessor(function(k){return k.value});H.point=function(k,l,m){A.push({name:k,x:l,y:m});return H};H._doRender=function(){z=E();H.r().range([H.MIN_RADIUS,H.width()*H.maxBubbleRelativeSize()]);C();H.fadeDeselectedArea();return H};function E(){z=H.select("g."+G);if(z.empty()){z=H.svg().append("g").attr("class",G)}return z}function C(){var k=F();A.forEach(function(n){var m=y(n,k);var l=m.select("circle."+i);if(l.empty()){l=m.append("circle").attr("class",i).attr("r",0).attr("fill",H.getColor).on("click",H.onClick)}c.transition(l,H.transitionDuration()).attr("r",function(o){return H.bubbleR(o)});H._doRenderLabel(m);H._doRenderTitles(m)})}function F(){var k={};H.data().forEach(function(l){k[H.keyAccessor()(l)]=l});return k}function y(n,l){var k=B+" "+c.utils.nameToId(n.name);var m=z.select("g."+c.utils.nameToId(n.name));if(m.empty()){m=z.append("g").attr("class",k).attr("transform","translate("+n.x+","+n.y+")")}m.datum(l[n.name]);return m}H._doRedraw=function(){x();H.fadeDeselectedArea();return H};function x(){var k=F();A.forEach(function(n){var m=y(n,k);var l=m.select("circle."+i);c.transition(l,H.transitionDuration()).attr("r",function(o){return H.bubbleR(o)}).attr("fill",H.getColor);H.doUpdateLabels(m);H.doUpdateTitles(m)})}H.debug=function(m){if(m){var k=H.select("g."+c.constants.DEBUG_GROUP_CLASS);if(k.empty()){k=H.svg().append("g").attr("class",c.constants.DEBUG_GROUP_CLASS)}var l=k.append("text").attr("x",10).attr("y",20);k.append("rect").attr("width",H.width()).attr("height",H.height()).on("mousemove",function(){var n=b.mouse(k.node());var o=n[0]+", "+n[1];l.text(o)})}else{H.selectAll(".debug").remove()}return H};H.anchor(I,D);return H};c.rowChart=function(ah,ad){var at;var ak=10;var an=15;var ap=false;var aw="0.35em";var U=2;var ac=5;var aj=false;var al="row";var af="titlerow";var ab=false;var au=c.capMixin(c.marginMixin(c.colorMixin(c.baseMixin({}))));var X;var ar;var S=b.svg.axis().orient("bottom");var T;au.rowsCap=au.cap;function V(){if(!X||ar){var k=b.extent(T,au.cappedValueAccessor);if(k[0]>0){k[0]=0}if(k[1]<0){k[1]=0}X=b.scale.linear().domain(k).range([0,au.effectiveWidth()])}S.scale(X)}function aq(){var k=at.select("g.axis");V();if(k.empty()){k=at.append("g").attr("class","axis")}k.attr("transform","translate(0, "+au.effectiveHeight()+")");c.transition(k,au.transitionDuration()).call(S)}au._doRender=function(){au.resetSvg();at=au.svg().append("g").attr("transform","translate("+au.margins().left+","+au.margins().top+")");ae();return au};au.title(function(k){return au.cappedKeyAccessor(k)+": "+au.cappedValueAccessor(k)});au.label(au.cappedKeyAccessor);au.x=function(k){if(!arguments.length){return X}X=k;return au};function aa(){at.selectAll("g.tick").select("line.grid-line").remove();at.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return -au.effectiveHeight()})}function ae(){T=au.data();aq();aa();var k=at.selectAll("g."+al).data(T);W(k);i(k);av(k)}function W(k){var l=k.enter().append("g").attr("class",function(m,n){return al+" _"+n});l.append("rect").attr("width",0);Y(l)}function i(k){k.exit().remove()}function Z(){var k=X(0);return(k===-Infinity||k!==k)?X(1):k}function av(l){var k=T.length;var n;if(!aj){n=(au.effectiveHeight()-(k+1)*ac)/k}else{n=aj}if(!ap){an=n/2}var m=l.attr("transform",function(o,p){return"translate(0,"+((p+1)*ac+p*n)+")"}).select("rect").attr("height",n).attr("fill",au.getColor).on("click",ao).classed("deselected",function(o){return(au.hasFilter())?!ai(o):false}).classed("selected",function(o){return(au.hasFilter())?ai(o):false});c.transition(m,au.transitionDuration()).attr("width",function(o){return Math.abs(Z()-X(au.valueAccessor()(o)))}).attr("transform",R);ag(l);am(l)}function ag(k){if(au.renderTitle()){k.selectAll("title").remove();k.append("title").text(au.title())}}function Y(k){if(au.renderLabel()){k.append("text").on("click",ao)}if(au.renderTitleLabel()){k.append("text").attr("class",af).on("click",ao)}}function am(k){if(au.renderLabel()){var m=k.select("text").attr("x",ak).attr("y",an).attr("dy",aw).on("click",ao).attr("class",function(n,o){return al+" _"+o}).text(function(n){return au.label()(n)});c.transition(m,au.transitionDuration()).attr("transform",R)}if(au.renderTitleLabel()){var l=k.select("."+af).attr("x",au.effectiveWidth()-U).attr("y",an).attr("dy",aw).attr("text-anchor","end").on("click",ao).attr("class",function(n,o){return af+" _"+o}).text(function(n){return au.title()(n)});c.transition(l,au.transitionDuration()).attr("transform",R)}}au.renderTitleLabel=function(k){if(!arguments.length){return ab}ab=k;return au};function ao(k){au.onClick(k)}function R(k){var n=X(au.cappedValueAccessor(k)),m=Z(),l=n>m?m:n;return"translate("+l+",0)"}au._doRedraw=function(){ae();return au};au.xAxis=function(){return S};au.fixedBarHeight=function(k){if(!arguments.length){return aj}aj=k;return au};au.gap=function(k){if(!arguments.length){return ac}ac=k;return au};au.elasticX=function(k){if(!arguments.length){return ar}ar=k;return au};au.labelOffsetX=function(k){if(!arguments.length){return ak}ak=k;return au};au.labelOffsetY=function(k){if(!arguments.length){return an}an=k;ap=true;return au};au.titleLabelOffsetX=function(k){if(!arguments.length){return U}U=k;return au};function ai(k){return au.hasFilter(au.cappedKeyAccessor(k))}return au.anchor(ah,ad)};c.leaderBoard=function(af,ab){var ap;var al=10;var T=15;var W=2;var ac=5;var ai=false;var aj="row";var ad="titlerow";var aa=false;var aq=c.capMixin(c.marginMixin(c.colorMixin(c.baseMixin({}))));var X;var ao;var Q=b.svg.axis().orient("bottom");var R;aq.rowsCap=aq.cap;function S(){if(!X||ao){var k=b.extent(R,aq.cappedValueAccessor);if(k[0]>0){k[0]=0}X=b.scale.linear().domain(k).range([0,aq.effectiveWidth()])}Q.scale(X)}function an(){var k=ap.select("g.axis");S();if(k.empty()){k=ap.append("g").attr("class","axis").attr("transform","translate(0, "+aq.effectiveHeight()+")")}c.transition(k,aq.transitionDuration()).call(Q)}aq._doRender=function(){aq.resetSvg();ap=aq.svg().append("g").attr("transform","translate("+aq.margins().left+","+aq.margins().top+")");ae();return aq};aq.title(function(k){return aq.cappedKeyAccessor(k)+": "+aq.cappedValueAccessor(k)});aq.label(aq.cappedKeyAccessor);aq.x=function(k){if(!arguments.length){return X}X=k;return aq};function Z(){ap.selectAll("g.tick").select("line.grid-line").remove();ap.selectAll("g.tick").append("line").attr("class","grid-line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",function(){return -aq.effectiveHeight()})}function ae(){R=aq.data();an();Z();var k=ap.selectAll("g."+aj).data(R);U(k);i(k);ar(k)}function U(k){var l=k.enter().append("g").attr("class",function(m,n){return aj+" _"+n});l.append("rect").attr("width",0);l.append("image").attr("width",0);V(l);ak(k)}function i(k){k.exit().remove()}function Y(){var k=X(0);return k===-Infinity?X(1):k}function ar(l){var k=R.length;var o;if(!ai){o=(aq.effectiveHeight()-(k+1)*ac)/k}else{o=ai}var m=l.attr("transform",function(p,q){return"translate(0,"+((q+1)*ac+q*o)+")"}).select("rect").attr("height",o).attr("fill",function(p){return b.scale.category20().range()[(p.key-1)%20]}).on("click",am).classed("deselected",function(p){return(aq.hasFilter())?!ag(p):false}).classed("selected",function(p){return(aq.hasFilter())?ag(p):false});c.transition(m,aq.transitionDuration()).attr("width",function(p){return Math.abs(Y()-X(aq.valueAccessor()(p)))}).attr("transform",P);var n=l.select("image").attr("x",-o-3).attr("y",0).attr("height",o).attr("width",o).attr("xlink:href",function(p){return aq.title()(p)}).on("click",am).attr("class",function(p,q){return aj+" _"+q}).text(function(p){return aq.label()(p)});ak(l)}function ah(k){if(aq.renderTitle()){k.selectAll("title").remove();k.append("title").text(aq.title())}}function V(k){if(aq.renderLabel()){k.append("text").on("click",am);k.append("image").on("click",am)}if(aq.renderTitleLabel()){k.append("text").attr("class",ad).on("click",am)}}function ak(k){if(aq.renderLabel()){var m=k.select("text").attr("x",al).attr("y",T).on("click",am).attr("class",function(n,o){return aj+" _"+o}).text(function(n){return aq.label()(n)});c.transition(m,aq.transitionDuration()).attr("transform",P)}if(aq.renderTitleLabel()){var l=k.select("."+ad).attr("x",aq.effectiveWidth()-W).attr("y",T).attr("text-anchor","end").on("click",am).attr("class",function(n,o){return ad+" _"+o}).text(function(n){return aq.title()(n)});c.transition(l,aq.transitionDuration()).attr("transform",P)}}aq.renderTitleLabel=function(k){if(!arguments.length){return aa}aa=k;return aq};function am(k){aq.onClick(k)}function P(k){var n=X(aq.cappedValueAccessor(k)),m=Y(),l=n>m?m:n;return"translate("+l+",0)"}aq._doRedraw=function(){ae();return aq};aq.xAxis=function(){return Q};aq.fixedBarHeight=function(k){if(!arguments.length){return ai}ai=k;return aq};aq.gap=function(k){if(!arguments.length){return ac}ac=k;return aq};aq.elasticX=function(k){if(!arguments.length){return ao}ao=k;return aq};aq.labelOffsetX=function(k){if(!arguments.length){return al}al=k;return aq};aq.labelOffsetY=function(k){if(!arguments.length){return T}T=k;return aq};aq.titleLabelOffsetX=function(k){if(!arguments.length){return W}W=k;return aq};function ag(k){return aq.hasFilter(aq.cappedKeyAccessor(k))}return aq.anchor(af,ab)};c.legend=function(){var E=2;var C={},B,L=0,i=0,y=12,G=5,A=false,F=560,H=70,D=false,I=c.pluck("name");var z;C.parent=function(k){if(!arguments.length){return B}B=k;return C};C.render=function(){B.svg().select("g.dc-legend").remove();z=B.svg().append("g").attr("class","dc-legend").attr("transform","translate("+L+","+i+")");var k=B.legendables();var n=z.selectAll("g.dc-legend-item").data(k).enter().append("g").attr("class","dc-legend-item").on("mouseover",function(o){B.legendHighlight(o)}).on("mouseout",function(o){B.legendReset(o)}).on("click",function(o){o.chart.legendToggle(o)});z.selectAll("g.dc-legend-item").classed("fadeout",function(o){return o.chart.isLegendableHidden(o)});if(k.some(c.pluck("dashstyle"))){n.append("line").attr("x1",0).attr("y1",y/2).attr("x2",y).attr("y2",y/2).attr("stroke-width",2).attr("stroke-dasharray",c.pluck("dashstyle")).attr("stroke",c.pluck("color"))}else{n.append("rect").attr("width",y).attr("height",y).attr("fill",function(o){return o?o.color:"blue"})}n.append("text").text(I).attr("x",y+E).attr("y",function(){return y/2+(this.clientHeight?this.clientHeight:13)/2-2});var l=0;var m=0;n.attr("transform",function(o,q){if(A){var r="translate("+l+","+m*K()+")";var p=D===true?this.getBBox().width+G:H;if((l+p)>=F){++m;l=0}else{l+=p}return r}else{return"translate(0,"+q*K()+")"}})};function K(){return G+y}C.x=function(k){if(!arguments.length){return L}L=k;return C};C.y=function(k){if(!arguments.length){return i}i=k;return C};C.gap=function(k){if(!arguments.length){return G}G=k;return C};C.itemHeight=function(k){if(!arguments.length){return y}y=k;return C};C.horizontal=function(k){if(!arguments.length){return A}A=k;return C};C.legendWidth=function(k){if(!arguments.length){return F}F=k;return C};C.itemWidth=function(k){if(!arguments.length){return H}H=k;return C};C.autoItemWidth=function(k){if(!arguments.length){return D}D=k;return C};C.legendText=function(k){if(!arguments.length){return I}I=k;return C};return C};c.scatterPlot=function(K,D){var I=c.coordinateGridMixin({});var M=b.svg.symbol();var C=function(k){return k.value};var G=I.keyAccessor();I.keyAccessor(function(k){return G(k)[0]});I.valueAccessor(function(k){return G(k)[1]});I.colorAccessor(function(){return I._groupName});var i=function(k){return"translate("+I.x()(I.keyAccessor()(k))+","+I.y()(I.valueAccessor()(k))+")"};var F=7;var A=5;var z=3;var E=null;var H=1;var B=0;var N=[];M.size(function(k,l){if(!C(k)){return B}else{if(N[l]){return Math.pow(A,2)}else{return Math.pow(z,2)}}});c.override(I,"_filter",function(k){if(!arguments.length){return I.__filter()}return I.__filter(c.filters.RangedTwoDimensionalFilter(k))});I.plotData=function(){var k=I.chartBodyG().selectAll("path.symbol").data(I.data());k.enter().append("path").attr("class","symbol").attr("opacity",0).attr("fill",I.getColor).attr("transform",i);k.each(function(m,l){N[l]=!I.filter()||I.filter().isFiltered([m.key[0],m.key[1]])});c.transition(k,I.transitionDuration()).attr("opacity",function(m,l){return !C(m)?0:N[l]?1:I.excludedOpacity()}).attr("fill",function(m,l){return I.excludedColor()&&!N[l]?I.excludedColor():I.getColor(m)}).attr("transform",i).attr("d",M);c.transition(k.exit(),I.transitionDuration()).attr("opacity",0).remove()};I.existenceAccessor=function(k){if(!arguments.length){return C}C=k;return this};I.symbol=function(k){if(!arguments.length){return M.type()}M.type(k);return I};I.symbolSize=function(k){if(!arguments.length){return A}A=k;return I};I.highlightedSize=function(k){if(!arguments.length){return F}F=k;return I};I.excludedSize=function(k){if(!arguments.length){return z}z=k;return I};I.excludedColor=function(k){if(!arguments.length){return E}E=k;return I};I.excludedOpacity=function(k){if(!arguments.length){return H}H=k;return I};I.hiddenSize=I.emptySize=function(k){if(!arguments.length){return B}B=k;return I};I.legendables=function(){return[{chart:I,name:I._groupName,color:I.getColor()}]};I.legendHighlight=function(k){L(function(l){return l.attr("fill")===k.color},F);I.selectAll(".chart-body path.symbol").filter(function(){return b.select(this).attr("fill")!==k.color}).classed("fadeout",true)};I.legendReset=function(k){L(function(l){return l.attr("fill")===k.color},A);I.selectAll(".chart-body path.symbol").filter(function(){return b.select(this).attr("fill")!==k.color}).classed("fadeout",false)};function L(m,k){var l=I.selectAll(".chart-body path.symbol").filter(function(){return m(b.select(this))});var n=M.size();M.size(Math.pow(k,2));c.transition(l,I.transitionDuration()).attr("d",M);M.size(n)}I.setHandlePaths=function(){};I.extendBrush=function(){var k=I.brush().extent();if(I.round()){k[0]=k[0].map(I.round());k[1]=k[1].map(I.round());I.g().select(".brush").call(I.brush().extent(k))}return k};I.brushIsEmpty=function(k){return I.brush().empty()||!k||k[0][0]>=k[1][0]||k[0][1]>=k[1][1]};I._brushing=function(){var k=I.extendBrush();I.redrawBrush(I.g());if(I.brushIsEmpty(k)){c.events.trigger(function(){I.filter(null);I.redrawGroup()})}else{var l=c.filters.RangedTwoDimensionalFilter(k);c.events.trigger(function(){I.filter(null);I.filter(l);I.redrawGroup()},c.constants.EVENT_DELAY)}};I.setBrushY=function(k){k.call(I.brush().y(I.y()))};return I.anchor(K,D)};c.numberDisplay=function(u,t){var q="number-display";var i=b.format(".2s");var s=c.baseMixin({});var r={one:"",some:"",none:""};var v;s._mandatoryAttributes(["group"]);s.html=function(k){if(!arguments.length){return r}if(k.none){r.none=k.none}else{if(k.one){r.none=k.one}else{if(k.some){r.none=k.some}}}if(k.one){r.one=k.one}else{if(k.some){r.one=k.some}}if(k.some){r.some=k.some}else{if(k.one){r.some=k.one}}return s};s.value=function(){return s.data()};s.data(function(k){var l=k.value?k.value():k.top(1)[0];return s.valueAccessor()(l)});s.transitionDuration(250);s._doRender=function(){var k=s.value(),l=s.selectAll("."+q);if(l.empty()){l=l.data([0]).enter().append("span").attr("class",q)}l.transition().duration(s.transitionDuration()).ease("quad-out-in").tween("text",function(){var n=isFinite(v)?v:0;var m=b.interpolateNumber(n||0,k);v=k;return function(o){var p=null,y=s.formatNumber()(m(o));if(k===0&&(r.none!=="")){p=r.none}else{if(k===1&&(r.one!=="")){p=r.one}else{if(r.some!==""){p=r.some}}}this.innerHTML=p?p.replace("%number",y):y}})};s._doRedraw=function(){return s._doRender()};s.formatNumber=function(k){if(!arguments.length){return i}i=k;return s};return s.anchor(u,t)};c.heatMap=function(N,G){var M=6.75;var i;var D;var P;var E=M;var K=M;var O=c.colorMixin(c.marginMixin(c.baseMixin({})));O._mandatoryAttributes(["group"]);O.title(O.colorAccessor());var F=function(k){return k};var L=function(k){return k};O.colsLabel=function(k){if(!arguments.length){return F}F=k;return O};O.rowsLabel=function(k){if(!arguments.length){return L}L=k;return O};var C=function(k){B(0,k)};var A=function(k){B(1,k)};var H=function(l){var k=l.key;c.events.trigger(function(){O.filter(k);O.redrawGroup()})};function B(k,m){var l=O.selectAll(".box-group").filter(function(o){return o.key[k]===m});var n=l.filter(function(o){return !O.hasFilter(o.key)});c.events.trigger(function(){if(n.empty()){l.each(function(o){O.filter(o.key)})}else{n.each(function(o){O.filter(o.key)})}O.redrawGroup()})}c.override(O,"filter",function(k){if(!arguments.length){return O._filter()}return O._filter(c.filters.TwoDimensionalFilter(k))});function I(l,m,k){return !m||k[m-1]!==l}O.rows=function(k){if(arguments.length){P=k;return O}if(P){return P}var l=O.data().map(O.valueAccessor());l.sort(b.ascending);return b.scale.ordinal().domain(l.filter(I))};O.cols=function(k){if(arguments.length){D=k;return O}if(D){return D}var l=O.data().map(O.keyAccessor());l.sort(b.ascending);return b.scale.ordinal().domain(l.filter(I))};O._doRender=function(){O.resetSvg();i=O.svg().append("g").attr("class","heatmap").attr("transform","translate("+O.margins().left+","+O.margins().top+")");return O._doRedraw()};O._doRedraw=function(){var o=O.rows(),s=O.cols(),r=o.domain().length,p=s.domain().length,v=Math.floor(O.effectiveWidth()/p),t=Math.floor(O.effectiveHeight()/r);s.rangeRoundBands([0,O.effectiveWidth()]);o.rangeRoundBands([O.effectiveHeight(),0]);var u=i.selectAll("g.box-group").data(O.data(),function(x,y){return O.keyAccessor()(x,y)+"\0"+O.valueAccessor()(x,y)});var n=u.enter().append("g").attr("class","box-group");n.append("rect").attr("class","heat-box").attr("fill","white").on("click",O.boxOnClick());if(O.renderTitle()){n.append("title");u.selectAll("title").text(O.title())}c.transition(u.selectAll("rect"),O.transitionDuration()).attr("x",function(x,y){return s(O.keyAccessor()(x,y))}).attr("y",function(x,y){return o(O.valueAccessor()(x,y))}).attr("rx",E).attr("ry",K).attr("fill",O.getColor).attr("width",v).attr("height",t);u.exit().remove();var m=i.selectAll("g.cols");if(m.empty()){m=i.append("g").attr("class","cols axis")}var l=m.selectAll("text").data(s.domain());l.enter().append("text").attr("x",function(x){return s(x)+v/2}).style("text-anchor","middle").attr("y",O.effectiveHeight()).attr("dy",12).on("click",O.xAxisOnClick()).text(O.colsLabel());c.transition(l,O.transitionDuration()).text(O.colsLabel()).attr("x",function(x){return s(x)+v/2}).attr("y",O.effectiveHeight());l.exit().remove();var k=i.selectAll("g.rows");if(k.empty()){k=i.append("g").attr("class","rows axis")}var q=k.selectAll("text").data(o.domain());q.enter().append("text").attr("dy",6).style("text-anchor","end").attr("x",0).attr("dx",-2).on("click",O.yAxisOnClick()).text(O.rowsLabel());c.transition(q,O.transitionDuration()).text(O.rowsLabel()).attr("y",function(x){return o(x)+t/2});q.exit().remove();if(O.hasFilter()){O.selectAll("g.box-group").each(function(x){if(O.isSelectedNode(x)){O.highlightSelected(this)}else{O.fadeDeselected(this)}})}else{O.selectAll("g.box-group").each(function(){O.resetHighlight(this)})}return O};O.boxOnClick=function(k){if(!arguments.length){return H}H=k;return O};O.xAxisOnClick=function(k){if(!arguments.length){return C}C=k;return O};O.yAxisOnClick=function(k){if(!arguments.length){return A}A=k;return O};O.xBorderRadius=function(k){if(!arguments.length){return E}E=k;return O};O.yBorderRadius=function(k){if(!arguments.length){return K}K=k;return O};O.isSelectedNode=function(k){return O.hasFilter(k.key)};return O.anchor(N,G)};(function(){b.box=function(){var A=1,B=1,x=0,v=null,C=Number,k=i,y=l,z=null;function u(m){m.each(function(p,Y){p=p.map(C).sort(b.ascending);var V=b.select(this),ad=p.length,ac=p[0],Z=p[ad-1];var X=p.quartiles=y(p);var s=k&&k.call(this,p,Y),ab=s&&s.map(function(D){return p[D]});var q=s?b.range(0,s[0]).concat(b.range(s[1]+1,ad)):b.range(ad);var T=b.scale.linear().domain(v&&v.call(this,p,Y)||[ac,Z]).range([B,0]);var r=this.__chart__||b.scale.linear().domain([0,Infinity]).range(T.range());this.__chart__=T;var n=V.selectAll("line.center").data(ab?[ab]:[]);n.enter().insert("line","rect").attr("class","center").attr("x1",A/2).attr("y1",function(D){return r(D[0])}).attr("x2",A/2).attr("y2",function(D){return r(D[1])}).style("opacity",0.000001).transition().duration(x).style("opacity",1).attr("y1",function(D){return T(D[0])}).attr("y2",function(D){return T(D[1])});n.transition().duration(x).style("opacity",1).attr("y1",function(D){return T(D[0])}).attr("y2",function(D){return T(D[1])});n.exit().transition().duration(x).style("opacity",0.000001).attr("y1",function(D){return T(D[0])}).attr("y2",function(D){return T(D[1])}).remove();var U=V.selectAll("rect.box").data([X]);U.enter().append("rect").attr("class","box").attr("x",0).attr("y",function(D){return r(D[2])}).attr("width",A).attr("height",function(D){return r(D[0])-r(D[2])}).transition().duration(x).attr("y",function(D){return T(D[2])}).attr("height",function(D){return T(D[0])-T(D[2])});U.transition().duration(x).attr("y",function(D){return T(D[2])}).attr("height",function(D){return T(D[0])-T(D[2])});var aa=V.selectAll("line.median").data([X[1]]);aa.enter().append("line").attr("class","median").attr("x1",0).attr("y1",r).attr("x2",A).attr("y2",r).transition().duration(x).attr("y1",T).attr("y2",T);aa.transition().duration(x).attr("y1",T).attr("y2",T);var R=V.selectAll("line.whisker").data(ab||[]);R.enter().insert("line","circle, text").attr("class","whisker").attr("x1",0).attr("y1",r).attr("x2",A).attr("y2",r).style("opacity",0.000001).transition().duration(x).attr("y1",T).attr("y2",T).style("opacity",1);R.transition().duration(x).attr("y1",T).attr("y2",T).style("opacity",1);R.exit().transition().duration(x).attr("y1",T).attr("y2",T).style("opacity",0.000001).remove();var o=V.selectAll("circle.outlier").data(q,Number);o.enter().insert("circle","text").attr("class","outlier").attr("r",5).attr("cx",A/2).attr("cy",function(D){return r(p[D])}).style("opacity",0.000001).transition().duration(x).attr("cy",function(D){return T(p[D])}).style("opacity",1);o.transition().duration(x).attr("cy",function(D){return T(p[D])}).style("opacity",1);o.exit().transition().duration(x).attr("cy",function(D){return T(p[D])}).style("opacity",0.000001).remove();var W=z||T.tickFormat(8);var t=V.selectAll("text.box").data(X);t.enter().append("text").attr("class","box").attr("dy",".3em").attr("dx",function(D,E){return E&1?6:-6}).attr("x",function(D,E){return E&1?A:0}).attr("y",r).attr("text-anchor",function(D,E){return E&1?"start":"end"}).text(W).transition().duration(x).attr("y",T);t.transition().duration(x).text(W).attr("y",T);var S=V.selectAll("text.whisker").data(ab||[]);S.enter().append("text").attr("class","whisker").attr("dy",".3em").attr("dx",6).attr("x",A).attr("y",r).text(W).style("opacity",0.000001).transition().duration(x).attr("y",T).style("opacity",1);S.transition().duration(x).text(W).attr("y",T).style("opacity",1);S.exit().transition().duration(x).attr("y",T).style("opacity",0.000001).remove()});b.timer.flush()}u.width=function(m){if(!arguments.length){return A}A=m;return u};u.height=function(m){if(!arguments.length){return B}B=m;return u};u.tickFormat=function(m){if(!arguments.length){return z}z=m;return u};u.duration=function(m){if(!arguments.length){return x}x=m;return u};u.domain=function(m){if(!arguments.length){return v}v=m===null?m:b.functor(m);return u};u.value=function(m){if(!arguments.length){return C}C=m;return u};u.whiskers=function(m){if(!arguments.length){return k}k=m;return u};u.quartiles=function(m){if(!arguments.length){return y}y=m;return u};return u};function i(k){return[0,k.length-1]}function l(k){return[b.quantile(k,0.25),b.quantile(k,0.5),b.quantile(k,0.75)]}})();c.boxPlot=function(I,E){var H=c.coordinateGridMixin({});function C(k){return function(n){var p=n.quartiles[0],o=n.quartiles[2],m=(o-p)*k,q=-1,l=n.length;do{++q}while(n[q]<p-m);do{--l}while(n[l]>o+m);return[q,l]}}var A=1.5;var D=C;var G=D(A);var K=b.box();var L=null;var i=function(k,l){if(H.isOrdinal()){return H.x().rangeBand()}else{return k/(1+H.boxPadding())/l}};H.yAxisPadding(12);H.x(b.scale.ordinal());H.xUnits(c.units.ordinal);H.data(function(k){return k.all().map(function(l){l.map=function(m){return m.call(l,l)};return l}).filter(function(l){var m=H.valueAccessor()(l);return m.length!==0})});H.boxPadding=H._rangeBandPadding;H.boxPadding(0.8);H.outerPadding=H._outerRangeBandPadding;H.outerPadding(0.5);H.boxWidth=function(k){if(!arguments.length){return i}i=b.functor(k);return H};var y=function(k,m){var l=H.x()(H.keyAccessor()(k,m));return"translate("+l+", 0)"};H._preprocessData=function(){if(H.elasticX()){H.x().domain([])}};H.plotData=function(){var l=i(H.effectiveWidth(),H.xUnitCount());K.whiskers(G).width(l).height(H.effectiveHeight()).value(H.valueAccessor()).domain(H.y().domain()).duration(H.transitionDuration()).tickFormat(L);var k=H.chartBodyG().selectAll("g.box").data(H.data(),function(m){return m.key});z(k);B(k);F(k);H.fadeDeselectedArea()};function z(k){var l=k.enter().append("g");l.attr("class","box").attr("transform",y).call(K).on("click",function(m){H.filter(m.key);H.redrawGroup()})}function B(k){c.transition(k,H.transitionDuration()).attr("transform",y).call(K).each(function(){b.select(this).select("rect.box").attr("fill",H.getColor)})}function F(k){k.exit().remove().call(K)}H.fadeDeselectedArea=function(){if(H.hasFilter()){H.g().selectAll("g.box").each(function(k){if(H.isSelectedNode(k)){H.highlightSelected(this)}else{H.fadeDeselected(this)}})}else{H.g().selectAll("g.box").each(function(){H.resetHighlight(this)})}};H.isSelectedNode=function(k){return H.hasFilter(k.key)};H.yAxisMin=function(){var k=b.min(H.data(),function(l){return b.min(H.valueAccessor()(l))});return c.utils.subtract(k,H.yAxisPadding())};H.yAxisMax=function(){var k=b.max(H.data(),function(l){return b.max(H.valueAccessor()(l))});return c.utils.add(k,H.yAxisPadding())};H.tickFormat=function(k){if(!arguments.length){return L}L=k;return H};return H.anchor(I,E)};c.abstractBubbleChart=c.bubbleMixin;c.baseChart=c.baseMixin;c.capped=c.capMixin;c.colorChart=c.colorMixin;c.coordinateGridChart=c.coordinateGridMixin;c.marginable=c.marginMixin;c.stackableChart=c.stackMixin;c.d3=b;c.crossfilter=a;return c}if(typeof define==="function"&&define.amd){define(["d3","crossfilter"],d)}else{if(typeof module==="object"&&module.exports){var h=require("d3");var f=require("crossfilter2");if(typeof f!=="function"){f=f.crossfilter}module.exports=d(h,f)}else{this.dc=d(d3,crossfilter)}}})();var colorbrewer={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}};(function(d,j,m,b){var h="AXMenu",c={animSpeed:200,timeout:300,animIn:"slideDown",animOut:"fadeOut",showArrowIcon:true,firstLevelArrowIcon:'<i class="icon-chevron-down"></i>',menuArrowIcon:'<i class="icon-caret-up icon-arrow-menu"></i>',subMenuArrowIcon:'<i class="icon-chevron-right icon-arrow-submenu"></i>',activeLinkClass:"activelink"};function k(n,i){this.element=n;this.options=d.extend({},c,i);this._defaults=c;this._name=h;this.$el=d(n);this.init();this.$timeoutRef=new Array()}k.prototype={init:function(){this.currentPageLink=j.location.href;this.pageName=a(this.currentPageLink);this.startEventListener(this.$el,this.options);this.addArrowIcon(this.$el,this.options);this.addSubArrowIcon(this.$el,this.options);this.setSelectedElementLink(this.$el)},startEventListener:function(o,n){var i=this;var p=j.location.href;o.find("li").mouseenter(function(){var r=d(this).find("ul:first").first(),t=d(this).first(),s;s=r.next()?r.next().first():false;var q;if(!r.data("arwa-id")){r.data("arwa-id",l())}q=r.data("arwa-id");j.clearTimeout(i.$timeoutRef[q]);t.unbind("mouseleave");o.find("ul").css("z-index",1);if(r[0]&&r[0].nodeName.toLowerCase()==="ul"){r[n.animIn](n.animSpeed);r.css("z-index",2);if(s){s[n.animIn](n.animSpeed)}t.mouseleave(function(){r[n.animOut](n.animSpeed);if(s[0]&&s[0].nodeName.toLowerCase()==="i"){s[n.animOut](0)}})}})},addArrowIcon:function(n,i){var o=this.options;if(i.showArrowIcon===true){n.find(">li").each(function(){d(this).find("ul:first").each(function(){d(this).parent().append(o.menuArrowIcon)})})}},addSubArrowIcon:function(o,n){var p=this.options,i=this;if(n.showArrowIcon===true){o.find("ul a").each(function(){var q=d(this);if(q.next()[0]&&q.next()[0].nodeName.toLowerCase()==="ul"){q.append(p.subMenuArrowIcon)}})}},addFirstLevelArrowIcon:function(o,n){var p=this.options,i=this;if(n.showArrowIcon===true){o.find(">li>a").each(function(){var q=d(this);if(q.next()[0]&&q.next()[0].nodeName.toLowerCase()==="ul"){q.append(p.firstLevelArrowIcon)}})}},setSelectedElementLink:function(n){var q=this.options,p,o,s,i=this;var r=false;d(n).find("a").each(function(){s=d(this);p=s.attr("href");if(d.trim(p)!=""&&i.pageName==a(p)){r=true;s.addClass(i.options.activeLinkClass);s.parentsUntil(n).each(function(){d(this).find(">a").addClass(i.options.activeLinkClass)})}})}};d.fn[h]=function(i){return this.each(function(){if(!d.data(this,"plugin_"+h)){d.data(this,"plugin_"+h,new k(this,i))}})};var f=0;function l(){return"U"+(++f)}function a(o,n){var i;i=o.replace(/[\/]+$/g,"").split("/");return i[i.length-1]}})(jQuery,window,document);function zEng(){var a,b,c;$(".animated").each(function(){var d=$(this);if(d.visible(true)){if(d.data("animtype")=="animate-progress"){d.addClass("animatedVisi");c=d.find(".team-member-progress-bar");c.css("opacity",1).css("width",d.data("progress-to"));d.find(".team-member-progress-bar-value").html(d.data("progress-to"));return}a=d.data("animdelay");if(!a){a=0}d.css("-webkit-animation-delay",a);d.css("-moz-animation-delay",a);d.css("-o-animation-delay",a);d.css("animation-delay",a);b=d.data("animspeed");if(!b){b=0.5}d.css("-webkit-animation-duration",b);d.css("-moz-animation-duration",b);d.css("-o-animation-duration",b);d.css("animation-duration",b);if(d.data("animtype")){d.addClass(d.data("animtype"))}d.addClass("animatedVisi")}else{if(d.data("animrepeat")=="1"){d.removeClass(d.data("animtype"));d.removeClass("animatedVisi")}}})}$(window).ready(zEng);$(window).load(zEng);$(window).scroll(function(a){zEng()});(function(a){a.fn.visible=function(k){var i=a(this),f=a(window),d=f.scrollTop(),h=d+f.height(),l=i.offset().top,j=l+i.height(),c=k===true?j:l,b=k===true?l:j;return((b<=h)&&(c>=d))}})(jQuery);jQuery(document).ready(function(b){b(".searchbox .searchbox-icon").click(function(){var c=b(".searchbox .searchbox-inputtext");c.css("width","110px");window.setTimeout(function(){c.focus()},50);b(".searchbox",this).addClass("searchbox-focus")});b(".searchbox .searchbox-inputtext,body").bind("blur touchstart",function(){var c=b(".searchbox .searchbox-inputtext");if(b.trim(c.val())===""){c.css("width","0px");b(".searchbox",this).removeClass("searchbox-focus")}});b(".clients-list").carouFredSel({items:{width:170,visible:{min:1,max:5}},prev:{button:function(){return jQuery(this).closest(".carousel-container").find(".carousel-prev")},key:"left"},next:{button:function(){return jQuery(this).closest(".carousel-container").find(".carousel-next")},key:"right"},responsive:true,auto:false,scroll:{onAfter:function(){if(/chrome/.test(navigator.userAgent.toLowerCase())){this.style.display="none";this.offsetHeight;this.style.display="block"}},items:1}},{debug:false});easyTabsArwa(".tab-container",{animate:true,animationSpeed:"fast",defaultTab:"li:first-child"});b(".accordion .accordion-row:first-child .title").trigger("click");if(document.getElementById("contact_map")){google.maps.event.addDomListener(window,"load",contactusMap)}b("a[data-rel^='prettyPhoto']").prettyPhoto({animation_speed:"fast",slideshow:5000,autoplay_slideshow:false,opacity:0.8});b("#sticky-navigation").append('<ul class="navigation">'+b(".navigation").html()+"</ul>");b(".navigation").AXMenu({animSpeed:0,timeout:0,animIn:"show",animOut:"hide",showArrowIcon:true,firstLevelArrowIcon:'<i class="icon-chevron-down"></i>',menuArrowIcon:""});b(".header .mobile-nav ").append(b(".navigation").html());b(".header .mobile-nav li").bind("click",function(h){var f=b(this);var d=f.find(">ul");var c=f.find(">a");if(d.length===0&&c[0].nodeName.toLowerCase()==="a"){window.location.href=c.attr("href")}else{d.toggle(0,function(){if(b(this).css("display")==="block"){c.find(".icon-chevron-down").removeClass("icon-chevron-down").addClass("icon-chevron-up")}else{c.find(".icon-chevron-up").removeClass("icon-chevron-up").addClass("icon-chevron-down")}})}h.stopPropagation();return false});b(".mobile-menu-button").click(function(){b(".mobile-nav").toggle()});b(".header .mobile-nav .icon-chevron-right").each(function(){b(this).removeClass("icon-chevron-right").addClass("icon-chevron-down")});b(".rev-slider-fixed,.rev-slider-full").css("visibility","visible");var a=b(".rev-slider-banner-fixed").revolution({delay:9000,startwidth:926,startheight:430,onHoverStop:"on",thumbWidth:100,thumbHeight:50,thumbAmount:3,hideThumbs:0,navigationType:"bullet",navigationArrows:"solo",navigationStyle:"round",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:30,navigationVOffset:-40,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:5,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:5,soloArrowRightVOffset:0,touchenabled:"on",stopAtSlide:-1,stopAfterLoops:-1,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,hideSliderAtLimit:0,fullWidth:"off",fullScreen:"off",fullScreenOffsetContainer:"#topheader-to-offset",shadow:0});b(".rev-slider-banner-full").revolution({delay:5000,startwidth:960,startheight:400,onHoverStop:"on",thumbWidth:100,thumbHeight:50,thumbAmount:3,hideThumbs:0,navigationType:"none",navigationArrows:"solo",navigationStyle:"bullets",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:30,navigationVOffset:30,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,touchenabled:"on",stopAtSlide:-1,stopAfterLoops:-1,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,hideSliderAtLimit:0,fullWidth:"on",fullScreen:"off",fullScreenOffsetContainer:"#topheader-to-offset",shadow:0});b("#ei-slider").eislideshow({animation:"center",autoplay:true,slideshow_interval:3000,speed:800,easing:"",titlesFactor:0.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150});b(".footer-recent-tweets-container").tweetable({username:"wrapbootstrap",limit:2,time:true,html5:true,onComplete:function(c){b("time").timeago()}});ArwaAccordion(".accordion",true);form_validation("#contact-form");form_validation("#comment-form");b("#footer-contact-form").validate({rules:{name:"required"}});b("body").append('<div id="to-top-button"> <i class="icon-angle-up"></i> </div>');b("#to-top-button").click(function(){b("body,html").animate({scrollTop:0})});b(".info-box .icon-remove").click(function(){b(this).parents(".info-box").first().fadeOut()});stickyMenu();b(window).resize(function(){stickyMenu();centeringBullets()});b("input, textarea").placeholder();embed_video_processing();b(".social-media-icon,.tool-tip").tipsy({gravity:"s",fade:true,offset:5});b(".item_img_overlay_content .social-media-icon").unbind("mouseenter");b(".message-box ,.callout-box").each(function(){var d=b(this);var c=d.find(".button");d.append('<a href="'+c.attr("href")+'" class="button large mobile">'+c.html()+"</a>")})});$(window).load(function(){var b=$(".portfolio-items");b.isotope({itemSelector:".portfolio-items .thumb-label-item",masonry:{columnWidth:$(".isotope-item:first").width(),gutterWidth:20},filter:"*"});$(".portfolio-filter-container a").click(function(){b.isotope({filter:this.getAttribute("data-filter")});return false});var a=null;$(".portfolio-filter a").click(function(){if(a===null){$(".portfolio-filter a").removeClass("portfolio-selected")}else{$(a).removeClass("portfolio-selected")}a=this;$(this).addClass("portfolio-selected")});centeringBullets();$(".top_wrapper").each(function(){var c=$(this);if(c.children().length==1){c.find(".header").addClass("header-no-shadow")}});$(".breadcrumbs li:last-child").addClass("last-child")});function easyTabsArwa(a,b){var c=$(".tab-container li.tab");b=b||{};b.animationSpeed=b.animationSpeed||"fast";$(a).easytabs(b)}var map;function contactusMap(){var b,c,a;var b=new google.maps.LatLng(37.775133,-122.419289);c={zoom:11,center:b,scrollwheel:false,mapTypeId:google.maps.MapTypeId.ROADMAP};map=new google.maps.Map(document.getElementById("contact_map"),c);a=new google.maps.Marker({position:b,map:map,title:"Arwa"})}function form_validation(a){var c='<div class="span1 error_container" ><div class="error-box">',b='<i class="icon-remove"></i></div></div>';$(a).validate({errorClass:"input_error",errorElement:"span"});$(".form-wrapper").on("click",".error-box .icon-remove",function(){var d=$(this).parents(".error_container").first();d.fadeOut("fast",function(){d.remove()})})}function embed_video_processing(){var c='<iframe src="http://www.youtube.com/embed/{{id}}" frameborder="0" allowfullscreen=""  width="100%" height="100%" allowfullscreen></iframe>',a='<iframe src="http://player.vimeo.com/video/{{id}}?color=ffffff" frameborder="0" allowfullscreen=""  width="100%" height="360"></iframe>',f='<iframe src="https://w.soundcloud.com/player/?url={{id}}" frameborder="0" allowfullscreen=""  width="100%" height="166"></iframe>',b,d;$(".blog-post-youtube,.blog-post-vimeo,.blog-post-soundcloud").each(function(){d=false;if($(this).hasClass("blog-post-youtube")){d=getYoutubeId($(this).attr("href"));b=c}else{if($(this).hasClass("blog-post-vimeo")){d=getVimeoId($(this).attr("href"));b=a}else{if($(this).hasClass("blog-post-soundcloud")){d=$(this).attr("href");b=f}}}if(d!==false){$(this).replaceWith(b.replace("{{id}}",d))}})}function getYoutubeId(c){var b=/^.*((youtu.[\w]{1,3}\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/;var a=c.match(b);if(a&&a[7].length==11){return a[7]}else{return false}}function getVimeoId(c){var b=/http:\/\/(www\.)?vimeo.com\/(\d+)($|\/)/;var a=c.match(b);if(a){return a[2]}else{return false}}function ArwaAccordion(a){$(document).on("click",a+" .accordion-row .title,"+a+" .accordion-row .open-icon",function(){var i=this,d=$(this).parents(".accordion"),b,n=$(this),k=n.parent(),h,j,f,l,m,n=k.parent(),c=d.data("toggle")=="on"?true:false;if(c===true){j=k.find(".open-icon");f=k.find(".desc");l=k.find(".title");if(k.find(".close-icon").length>0){f.slideUp("fast");j.removeClass("close-icon");l.removeClass("active")}else{f.slideDown("fast");j.addClass("close-icon");l.addClass("active")}}else{n.find(".accordion-row").each(function(){h=$(this);j=h.find(".open-icon");f=h.find(".desc");l=h.find(".title");if(k[0]!=this){f.slideUp("fast");j.removeClass("close-icon");l.removeClass("active")}else{f.slideDown("fast");j.addClass("close-icon");l.addClass("active")}})}});$(a).each(function(){var f=$(this),d,i,h,c,b=parseInt(f.data("active-index")),b=b<0?false:b;if(b!==false){c=f.find(".accordion-row").eq(b);d=c.find(".open-icon");i=c.find(".desc");h=c.find(".title");i.slideDown("fast");d.addClass("close-icon");h.addClass("active")}})}function stickyMenu(){if($(window).width()<980){$(".sticky-navigation,#to-top-button").hide()}else{$(window).scroll(function(){if($(window).scrollTop()>35){$("#header").addClass("sticky-header");$(".sticky-navigation,#to-top-button").fadeIn()}else{$("#header").removeClass("sticky-header");$(".sticky-navigation,#to-top-button").fadeOut()}})}}function centeringBullets(){$(".simplebullets,.slider-fixed-frame .home-bullets").each(function(){var b=$(this),a=b.width();b.css("margin-left",-(a/2)+"px")})}document.createElement("header");document.createElement("nav");document.createElement("section");document.createElement("article");document.createElement("aside");document.createElement("footer");if(!Object.create){Object.create=(function(){function a(){}return function(b){if(arguments.length!=1){throw new Error("Object.create implementation only accepts one parameter.")}a.prototype=b;return new a()}})()}
/*! http://mths.be/placeholder v2.0.7 by @mathias */
;(function(i,k,d){var a="placeholder" in k.createElement("input"),f="placeholder" in k.createElement("textarea"),l=d.fn,c=d.valHooks,n,m;if(a&&f){m=l.placeholder=function(){return this};m.input=m.textarea=true}else{m=l.placeholder=function(){var o=this;o.filter((a?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":b,"blur.placeholder":h}).data("placeholder-enabled",true).trigger("blur.placeholder");return o};m.input=a;m.textarea=f;n={get:function(p){var o=d(p);return o.data("placeholder-enabled")&&o.hasClass("placeholder")?"":p.value},set:function(p,q){var o=d(p);if(!o.data("placeholder-enabled")){return p.value=q}if(q==""){p.value=q;if(p!=k.activeElement){h.call(p)}}else{if(o.hasClass("placeholder")){b.call(p,true,q)||(p.value=q)}else{p.value=q}}return o}};a||(c.input=n);f||(c.textarea=n);d(function(){d(k).delegate("form","submit.placeholder",function(){var o=d(".placeholder",this).each(b);setTimeout(function(){o.each(h)},10)})});d(i).bind("beforeunload.placeholder",function(){d(".placeholder").each(function(){this.value=""})})}function j(p){var o={},q=/^jQuery\d+$/;d.each(p.attributes,function(s,r){if(r.specified&&!q.test(r.name)){o[r.name]=r.value}});return o}function b(p,q){var o=this,r=d(o);if(o.value==r.attr("placeholder")&&r.hasClass("placeholder")){if(r.data("placeholder-password")){r=r.hide().next().show().attr("id",r.removeAttr("id").data("placeholder-id"));if(p===true){return r[0].value=q}r.focus()}else{o.value="";r.removeClass("placeholder");o==k.activeElement&&o.select()}}}function h(){var t,o=this,s=d(o),p=s,r=this.id;if(o.value==""){if(o.type=="password"){if(!s.data("placeholder-textinput")){try{t=s.clone().attr({type:"text"})}catch(q){t=d("<input>").attr(d.extend(j(this),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":true,"placeholder-id":r}).bind("focus.placeholder",b);s.data({"placeholder-textinput":t,"placeholder-id":r}).before(t)}s=s.removeAttr("id").hide().prev().attr("id",r).show()}s.addClass("placeholder");s[0].value=s.attr("placeholder")}else{s.removeClass("placeholder")}}}(this,document,jQuery));(function($){function sc_setScroll(a,b,c){return"transition"==c.transition&&"swing"==b&&(b="ease"),{anims:[],duration:a,orgDuration:a,easing:b,startTime:getTime()}}function sc_startScroll(a,b){for(var c=0,d=a.anims.length;d>c;c++){var e=a.anims[c];e&&e[0][b.transition](e[1],a.duration,a.easing,e[2])}}function sc_stopScroll(a,b){is_boolean(b)||(b=!0),is_object(a.pre)&&sc_stopScroll(a.pre,b);for(var c=0,d=a.anims.length;d>c;c++){var e=a.anims[c];e[0].stop(!0),b&&(e[0].css(e[1]),is_function(e[2])&&e[2]())}is_object(a.post)&&sc_stopScroll(a.post,b)}function sc_afterScroll(a,b,c){switch(b&&b.remove(),c.fx){case"fade":case"crossfade":case"cover-fade":case"uncover-fade":a.css("opacity",1),a.css("filter","")}}function sc_fireCallbacks(a,b,c,d,e){if(b[c]&&b[c].call(a,d),e[c].length){for(var f=0,g=e[c].length;g>f;f++){e[c][f].call(a,d)}}return[]}function sc_fireQueue(a,b,c){return b.length&&(a.trigger(cf_e(b[0][0],c),b[0][1]),b.shift()),b}function sc_hideHiddenItems(a){a.each(function(){var a=$(this);a.data("_cfs_isHidden",a.is(":hidden")).hide()})}function sc_showHiddenItems(a){a&&a.each(function(){var a=$(this);a.data("_cfs_isHidden")||a.show()})}function sc_clearTimers(a){return a.auto&&clearTimeout(a.auto),a.progress&&clearInterval(a.progress),a}function sc_mapCallbackArguments(a,b,c,d,e,f,g){return{width:g.width,height:g.height,items:{old:a,skipped:b,visible:c},scroll:{items:d,direction:e,duration:f}}}function sc_getDuration(a,b,c,d){var e=a.duration;return"none"==a.fx?0:("auto"==e?e=b.scroll.duration/b.scroll.items*c:10>e&&(e=d/e),1>e?0:("fade"==a.fx&&(e/=2),Math.round(e)))}function nv_showNavi(a,b,c){var d=is_number(a.items.minimum)?a.items.minimum:a.items.visible+1;if("show"==b||"hide"==b){var e=b}else{if(d>b){debug(c,"Not enough items ("+b+" total, "+d+" needed): Hiding navigation.");var e="hide"}else{var e="show"}}var f="show"==e?"removeClass":"addClass",g=cf_c("hidden",c);a.auto.button&&a.auto.button[e]()[f](g),a.prev.button&&a.prev.button[e]()[f](g),a.next.button&&a.next.button[e]()[f](g),a.pagination.container&&a.pagination.container[e]()[f](g)}function nv_enableNavi(a,b,c){if(!a.circular&&!a.infinite){var d="removeClass"==b||"addClass"==b?b:!1,e=cf_c("disabled",c);if(a.auto.button&&d&&a.auto.button[d](e),a.prev.button){var f=d||0==b?"addClass":"removeClass";a.prev.button[f](e)}if(a.next.button){var f=d||b==a.items.visible?"addClass":"removeClass";a.next.button[f](e)}}}function go_getObject(a,b){return is_function(b)?b=b.call(a):is_undefined(b)&&(b={}),b}function go_getItemsObject(a,b){return b=go_getObject(a,b),is_number(b)?b={visible:b}:"variable"==b?b={visible:b,width:b,height:b}:is_object(b)||(b={}),b}function go_getScrollObject(a,b){return b=go_getObject(a,b),is_number(b)?b=50>=b?{items:b}:{duration:b}:is_string(b)?b={easing:b}:is_object(b)||(b={}),b}function go_getNaviObject(a,b){if(b=go_getObject(a,b),is_string(b)){var c=cf_getKeyCode(b);b=-1==c?$(b):c}return b}function go_getAutoObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_boolean(b)?b={play:b}:is_number(b)&&(b={timeoutDuration:b}),b.progress&&(is_string(b.progress)||is_jquery(b.progress))&&(b.progress={bar:b.progress}),b}function go_complementAutoObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_boolean(b.play)||(b.play=!0),is_number(b.delay)||(b.delay=0),is_undefined(b.pauseOnEvent)&&(b.pauseOnEvent=!0),is_boolean(b.pauseOnResize)||(b.pauseOnResize=!0),is_number(b.timeoutDuration)||(b.timeoutDuration=10>b.duration?2500:5*b.duration),b.progress&&(is_function(b.progress.bar)&&(b.progress.bar=b.progress.bar.call(a)),is_string(b.progress.bar)&&(b.progress.bar=$(b.progress.bar)),b.progress.bar?(is_function(b.progress.updater)||(b.progress.updater=$.fn.carouFredSel.progressbarUpdater),is_number(b.progress.interval)||(b.progress.interval=50)):b.progress=!1),b}function go_getPrevNextObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={button:b}:is_number(b)&&(b={key:b}),b}function go_complementPrevNextObject(a,b){return is_function(b.button)&&(b.button=b.button.call(a)),is_string(b.button)&&(b.button=$(b.button)),is_string(b.key)&&(b.key=cf_getKeyCode(b.key)),b}function go_getPaginationObject(a,b){return b=go_getNaviObject(a,b),is_jquery(b)?b={container:b}:is_boolean(b)&&(b={keys:b}),b}function go_complementPaginationObject(a,b){return is_function(b.container)&&(b.container=b.container.call(a)),is_string(b.container)&&(b.container=$(b.container)),is_number(b.items)||(b.items=!1),is_boolean(b.keys)||(b.keys=!1),is_function(b.anchorBuilder)||is_false(b.anchorBuilder)||(b.anchorBuilder=$.fn.carouFredSel.pageAnchorBuilder),is_number(b.deviation)||(b.deviation=0),b}function go_getSwipeObject(a,b){return is_function(b)&&(b=b.call(a)),is_undefined(b)&&(b={onTouch:!1}),is_true(b)?b={onTouch:b}:is_number(b)&&(b={items:b}),b}function go_complementSwipeObject(a,b){return is_boolean(b.onTouch)||(b.onTouch=!0),is_boolean(b.onMouse)||(b.onMouse=!1),is_object(b.options)||(b.options={}),is_boolean(b.options.triggerOnTouchEnd)||(b.options.triggerOnTouchEnd=!1),b}function go_getMousewheelObject(a,b){return is_function(b)&&(b=b.call(a)),is_true(b)?b={}:is_number(b)?b={items:b}:is_undefined(b)&&(b=!1),b}function go_complementMousewheelObject(a,b){return b}function gn_getItemIndex(a,b,c,d,e){if(is_string(a)&&(a=$(a,e)),is_object(a)&&(a=$(a,e)),is_jquery(a)?(a=e.children().index(a),is_boolean(c)||(c=!1)):is_boolean(c)||(c=!0),is_number(a)||(a=0),is_number(b)||(b=0),c&&(a+=d.first),a+=b,d.total>0){for(;a>=d.total;){a-=d.total}for(;0>a;){a+=d.total}}return a}function gn_getVisibleItemsPrev(a,b,c){for(var d=0,e=0,f=c;f>=0;f--){var g=a.eq(f);if(d+=g.is(":visible")?g[b.d.outerWidth](!0):0,d>b.maxDimension){return e}0==f&&(f=a.length),e++}}function gn_getVisibleItemsPrevFilter(a,b,c){return gn_getItemsPrevFilter(a,b.items.filter,b.items.visibleConf.org,c)}function gn_getScrollItemsPrevFilter(a,b,c,d){return gn_getItemsPrevFilter(a,b.items.filter,d,c)}function gn_getItemsPrevFilter(a,b,c,d){for(var e=0,f=0,g=d,h=a.length;g>=0;g--){if(f++,f==h){return f}var i=a.eq(g);if(i.is(b)&&(e++,e==c)){return f}0==g&&(g=h)}}function gn_getVisibleOrg(a,b){return b.items.visibleConf.org||a.children().slice(0,b.items.visible).filter(b.items.filter).length}function gn_getVisibleItemsNext(a,b,c){for(var d=0,e=0,f=c,g=a.length-1;g>=f;f++){var h=a.eq(f);if(d+=h.is(":visible")?h[b.d.outerWidth](!0):0,d>b.maxDimension){return e}if(e++,e==g+1){return e}f==g&&(f=-1)}}function gn_getVisibleItemsNextTestCircular(a,b,c,d){var e=gn_getVisibleItemsNext(a,b,c);return b.circular||c+e>d&&(e=d-c),e}function gn_getVisibleItemsNextFilter(a,b,c){return gn_getItemsNextFilter(a,b.items.filter,b.items.visibleConf.org,c,b.circular)}function gn_getScrollItemsNextFilter(a,b,c,d){return gn_getItemsNextFilter(a,b.items.filter,d+1,c,b.circular)-1}function gn_getItemsNextFilter(a,b,c,d){for(var f=0,g=0,h=d,i=a.length-1;i>=h;h++){if(g++,g>=i){return g}var j=a.eq(h);if(j.is(b)&&(f++,f==c)){return g}h==i&&(h=-1)}}function gi_getCurrentItems(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsPrev(a,b,c){return a.slice(c,b.items.visibleConf.old+c)}function gi_getNewItemsPrev(a,b){return a.slice(0,b.items.visible)}function gi_getOldItemsNext(a,b){return a.slice(0,b.items.visibleConf.old)}function gi_getNewItemsNext(a,b,c){return a.slice(c,b.items.visible+c)}function sz_storeMargin(a,b,c){b.usePadding&&(is_string(c)||(c="_cfs_origCssMargin"),a.each(function(){var a=$(this),d=parseInt(a.css(b.d.marginRight),10);is_number(d)||(d=0),a.data(c,d)}))}function sz_resetMargin(a,b,c){if(b.usePadding){var d=is_boolean(c)?c:!1;is_number(c)||(c=0),sz_storeMargin(a,b,"_cfs_tempCssMargin"),a.each(function(){var a=$(this);a.css(b.d.marginRight,d?a.data("_cfs_tempCssMargin"):c+a.data("_cfs_origCssMargin"))})}}function sz_storeOrigCss(a){a.each(function(){var a=$(this);a.data("_cfs_origCss",a.attr("style")||"")})}function sz_restoreOrigCss(a){a.each(function(){var a=$(this);a.attr("style",a.data("_cfs_origCss")||"")})}function sz_setResponsiveSizes(a,b){var d=(a.items.visible,a.items[a.d.width]),e=a[a.d.height],f=is_percentage(e);b.each(function(){var b=$(this),c=d-ms_getPaddingBorderMargin(b,a,"Width");b[a.d.width](c),f&&b[a.d.height](ms_getPercentage(c,e))})}function sz_setSizes(a,b){var c=a.parent(),d=a.children(),e=gi_getCurrentItems(d,b),f=cf_mapWrapperSizes(ms_getSizes(e,b,!0),b,!1);if(c.css(f),b.usePadding){var g=b.padding,h=g[b.d[1]];b.align&&0>h&&(h=0);var i=e.last();i.css(b.d.marginRight,i.data("_cfs_origCssMargin")+h),a.css(b.d.top,g[b.d[0]]),a.css(b.d.left,g[b.d[3]])}return a.css(b.d.width,f[b.d.width]+2*ms_getTotalSize(d,b,"width")),a.css(b.d.height,ms_getLargestSize(d,b,"height")),f}function ms_getSizes(a,b,c){return[ms_getTotalSize(a,b,"width",c),ms_getLargestSize(a,b,"height",c)]}function ms_getLargestSize(a,b,c,d){return is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d?b[b.d[c]]:is_number(b.items[b.d[c]])?b.items[b.d[c]]:(c=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",ms_getTrueLargestSize(a,b,c))}function ms_getTrueLargestSize(a,b,c){for(var d=0,e=0,f=a.length;f>e;e++){var g=a.eq(e),h=g.is(":visible")?g[b.d[c]](!0):0;h>d&&(d=h)}return d}function ms_getTotalSize(a,b,c,d){if(is_boolean(d)||(d=!1),is_number(b[b.d[c]])&&d){return b[b.d[c]]}if(is_number(b.items[b.d[c]])){return b.items[b.d[c]]*a.length}for(var e=c.toLowerCase().indexOf("width")>-1?"outerWidth":"outerHeight",f=0,g=0,h=a.length;h>g;g++){var i=a.eq(g);f+=i.is(":visible")?i[b.d[e]](!0):0}return f}function ms_getParentSize(a,b,c){var d=a.is(":visible");d&&a.hide();var e=a.parent()[b.d[c]]();return d&&a.show(),e}function ms_getMaxDimension(a,b){return is_number(a[a.d.width])?a[a.d.width]:b}function ms_hasVariableSizes(a,b,c){for(var d=!1,e=!1,f=0,g=a.length;g>f;f++){var h=a.eq(f),i=h.is(":visible")?h[b.d[c]](!0):0;d===!1?d=i:d!=i&&(e=!0),0==d&&(e=!0)}return e}function ms_getPaddingBorderMargin(a,b,c){return a[b.d["outer"+c]](!0)-a[b.d[c.toLowerCase()]]()}function ms_getPercentage(a,b){if(is_percentage(b)){if(b=parseInt(b.slice(0,-1),10),!is_number(b)){return a}a*=b/100}return a}function cf_e(a,b,c,d,e){return is_boolean(c)||(c=!0),is_boolean(d)||(d=!0),is_boolean(e)||(e=!1),c&&(a=b.events.prefix+a),d&&(a=a+"."+b.events.namespace),d&&e&&(a+=b.serialNumber),a}function cf_c(a,b){return is_string(b.classnames[a])?b.classnames[a]:a}function cf_mapWrapperSizes(a,b,c){is_boolean(c)||(c=!0);var d=b.usePadding&&c?b.padding:[0,0,0,0],e={};return e[b.d.width]=a[0]+d[1]+d[3],e[b.d.height]=a[1]+d[0]+d[2],e}function cf_sortParams(a,b){for(var c=[],d=0,e=a.length;e>d;d++){for(var f=0,g=b.length;g>f;f++){if(b[f].indexOf(typeof a[d])>-1&&is_undefined(c[f])){c[f]=a[d];break}}}return c}function cf_getPadding(a){if(is_undefined(a)){return[0,0,0,0]}if(is_number(a)){return[a,a,a,a]}if(is_string(a)&&(a=a.split("px").join("").split("em").join("").split(" ")),!is_array(a)){return[0,0,0,0]}for(var b=0;4>b;b++){a[b]=parseInt(a[b],10)}switch(a.length){case 0:return[0,0,0,0];case 1:return[a[0],a[0],a[0],a[0]];case 2:return[a[0],a[1],a[0],a[1]];case 3:return[a[0],a[1],a[2],a[1]];default:return[a[0],a[1],a[2],a[3]]}}function cf_getAlignPadding(a,b){var c=is_number(b[b.d.width])?Math.ceil(b[b.d.width]-ms_getTotalSize(a,b,"width")):0;switch(b.align){case"left":return[0,c];case"right":return[c,0];case"center":default:return[Math.ceil(c/2),Math.floor(c/2)]}}function cf_getDimensions(a){for(var b=[["width","innerWidth","outerWidth","height","innerHeight","outerHeight","left","top","marginRight",0,1,2,3],["height","innerHeight","outerHeight","width","innerWidth","outerWidth","top","left","marginBottom",3,2,1,0]],c=b[0].length,d="right"==a.direction||"left"==a.direction?0:1,e={},f=0;c>f;f++){e[b[0][f]]=b[d][f]}return e}function cf_getAdjust(a,b,c,d){var e=a;if(is_function(c)){e=c.call(d,e)}else{if(is_string(c)){var f=c.split("+"),g=c.split("-");if(g.length>f.length){var h=!0,i=g[0],j=g[1]}else{var h=!1,i=f[0],j=f[1]}switch(i){case"even":e=1==a%2?a-1:a;break;case"odd":e=0==a%2?a-1:a;break;default:e=a}j=parseInt(j,10),is_number(j)&&(h&&(j=-j),e+=j)}}return(!is_number(e)||1>e)&&(e=1),e}function cf_getItemsAdjust(a,b,c,d){return cf_getItemAdjustMinMax(cf_getAdjust(a,b,c,d),b.items.visibleConf)}function cf_getItemAdjustMinMax(a,b){return is_number(b.min)&&b.min>a&&(a=b.min),is_number(b.max)&&a>b.max&&(a=b.max),1>a&&(a=1),a}function cf_getSynchArr(a){is_array(a)||(a=[[a]]),is_array(a[0])||(a=[a]);for(var b=0,c=a.length;c>b;b++){is_string(a[b][0])&&(a[b][0]=$(a[b][0])),is_boolean(a[b][1])||(a[b][1]=!0),is_boolean(a[b][2])||(a[b][2]=!0),is_number(a[b][3])||(a[b][3]=0)}return a}function cf_getKeyCode(a){return"right"==a?39:"left"==a?37:"up"==a?38:"down"==a?40:-1}function cf_setCookie(a,b,c){if(a){var d=b.triggerHandler(cf_e("currentPosition",c));$.fn.carouFredSel.cookie.set(a,d)}}function cf_getCookie(a){var b=$.fn.carouFredSel.cookie.get(a);return""==b?0:b}function in_mapCss(a,b){for(var c={},d=0,e=b.length;e>d;d++){c[b[d]]=a.css(b[d])}return c}function in_complementItems(a,b,c,d){return is_object(a.visibleConf)||(a.visibleConf={}),is_object(a.sizesConf)||(a.sizesConf={}),0==a.start&&is_number(d)&&(a.start=d),is_object(a.visible)?(a.visibleConf.min=a.visible.min,a.visibleConf.max=a.visible.max,a.visible=!1):is_string(a.visible)?("variable"==a.visible?a.visibleConf.variable=!0:a.visibleConf.adjust=a.visible,a.visible=!1):is_function(a.visible)&&(a.visibleConf.adjust=a.visible,a.visible=!1),is_string(a.filter)||(a.filter=c.filter(":hidden").length>0?":visible":"*"),a[b.d.width]||(b.responsive?(debug(!0,"Set a "+b.d.width+" for the items!"),a[b.d.width]=ms_getTrueLargestSize(c,b,"outerWidth")):a[b.d.width]=ms_hasVariableSizes(c,b,"outerWidth")?"variable":c[b.d.outerWidth](!0)),a[b.d.height]||(a[b.d.height]=ms_hasVariableSizes(c,b,"outerHeight")?"variable":c[b.d.outerHeight](!0)),a.sizesConf.width=a.width,a.sizesConf.height=a.height,a}function in_complementVisibleItems(a,b){return"variable"==a.items[a.d.width]&&(a.items.visibleConf.variable=!0),a.items.visibleConf.variable||(is_number(a[a.d.width])?a.items.visible=Math.floor(a[a.d.width]/a.items[a.d.width]):(a.items.visible=Math.floor(b/a.items[a.d.width]),a[a.d.width]=a.items.visible*a.items[a.d.width],a.items.visibleConf.adjust||(a.align=!1)),("Infinity"==a.items.visible||1>a.items.visible)&&(debug(!0,'Not a valid number of visible items: Set to "variable".'),a.items.visibleConf.variable=!0)),a}function in_complementPrimarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerWidth")),a}function in_complementSecondarySize(a,b,c){return"auto"==a&&(a=ms_getTrueLargestSize(c,b,"outerHeight")),a||(a=b.items[b.d.height]),a}function in_getAlignPadding(a,b){var c=cf_getAlignPadding(gi_getCurrentItems(b,a),a);return a.padding[a.d[1]]=c[1],a.padding[a.d[3]]=c[0],a}function in_getResponsiveValues(a,b){var d=cf_getItemAdjustMinMax(Math.ceil(a[a.d.width]/a.items[a.d.width]),a.items.visibleConf);d>b.length&&(d=b.length);var e=Math.floor(a[a.d.width]/d);return a.items.visible=d,a.items[a.d.width]=e,a[a.d.width]=d*e,a}function bt_pauseOnHoverConfig(a){if(is_string(a)){var b=a.indexOf("immediate")>-1?!0:!1,c=a.indexOf("resume")>-1?!0:!1}else{var b=c=!1}return[b,c]}function bt_mousesheelNumber(a){return is_number(a)?a:null}function is_null(a){return null===a}function is_undefined(a){return is_null(a)||a===void 0||""===a||"undefined"===a}function is_array(a){return a instanceof Array}function is_jquery(a){return a instanceof jQuery}function is_object(a){return(a instanceof Object||"object"==typeof a)&&!is_null(a)&&!is_jquery(a)&&!is_array(a)&&!is_function(a)}function is_number(a){return(a instanceof Number||"number"==typeof a)&&!isNaN(a)}function is_string(a){return(a instanceof String||"string"==typeof a)&&!is_undefined(a)&&!is_true(a)&&!is_false(a)}function is_function(a){return a instanceof Function||"function"==typeof a}function is_boolean(a){return a instanceof Boolean||"boolean"==typeof a||is_true(a)||is_false(a)}function is_true(a){return a===!0||"true"===a}function is_false(a){return a===!1||"false"===a}function is_percentage(a){return is_string(a)&&"%"==a.slice(-1)}function getTime(){return(new Date).getTime()}function deprecated(a,b){debug(!0,a+" is DEPRECATED, support for it will be removed. Use "+b+" instead.")}function debug(a,b){if(!is_undefined(window.console)&&!is_undefined(window.console.log)){if(is_object(a)){var c=" ("+a.selector+")";a=a.debug}else{var c=""}if(!a){return !1}b=is_string(b)?"carouFredSel"+c+": "+b:["carouFredSel"+c+":",b],window.console.log(b)}return !1}$.fn.carouFredSel||($.fn.caroufredsel=$.fn.carouFredSel=function(options,configs){if(0==this.length){return debug(!0,'No element found for "'+this.selector+'".'),this}if(this.length>1){return this.each(function(){$(this).carouFredSel(options,configs)})}var $cfs=this,$tt0=this[0],starting_position=!1;$cfs.data("_cfs_isCarousel")&&(starting_position=$cfs.triggerHandler("_cfs_triggerEvent","currentPosition"),$cfs.trigger("_cfs_triggerEvent",["destroy",!0]));var FN={};FN._init=function(a,b,c){a=go_getObject($tt0,a),a.items=go_getItemsObject($tt0,a.items),a.scroll=go_getScrollObject($tt0,a.scroll),a.auto=go_getAutoObject($tt0,a.auto),a.prev=go_getPrevNextObject($tt0,a.prev),a.next=go_getPrevNextObject($tt0,a.next),a.pagination=go_getPaginationObject($tt0,a.pagination),a.swipe=go_getSwipeObject($tt0,a.swipe),a.mousewheel=go_getMousewheelObject($tt0,a.mousewheel),b&&(opts_orig=$.extend(!0,{},$.fn.carouFredSel.defaults,a)),opts=$.extend(!0,{},$.fn.carouFredSel.defaults,a),opts.d=cf_getDimensions(opts),crsl.direction="up"==opts.direction||"left"==opts.direction?"next":"prev";var d=$cfs.children(),e=ms_getParentSize($wrp,opts,"width");if(is_true(opts.cookie)&&(opts.cookie="caroufredsel_cookie_"+conf.serialNumber),opts.maxDimension=ms_getMaxDimension(opts,e),opts.items=in_complementItems(opts.items,opts,d,c),opts[opts.d.width]=in_complementPrimarySize(opts[opts.d.width],opts,d),opts[opts.d.height]=in_complementSecondarySize(opts[opts.d.height],opts,d),opts.responsive&&(is_percentage(opts[opts.d.width])||(opts[opts.d.width]="100%")),is_percentage(opts[opts.d.width])&&(crsl.upDateOnWindowResize=!0,crsl.primarySizePercentage=opts[opts.d.width],opts[opts.d.width]=ms_getPercentage(e,crsl.primarySizePercentage),opts.items.visible||(opts.items.visibleConf.variable=!0)),opts.responsive?(opts.usePadding=!1,opts.padding=[0,0,0,0],opts.align=!1,opts.items.visibleConf.variable=!1):(opts.items.visible||(opts=in_complementVisibleItems(opts,e)),opts[opts.d.width]||(!opts.items.visibleConf.variable&&is_number(opts.items[opts.d.width])&&"*"==opts.items.filter?(opts[opts.d.width]=opts.items.visible*opts.items[opts.d.width],opts.align=!1):opts[opts.d.width]="variable"),is_undefined(opts.align)&&(opts.align=is_number(opts[opts.d.width])?"center":!1),opts.items.visibleConf.variable&&(opts.items.visible=gn_getVisibleItemsNext(d,opts,0))),"*"==opts.items.filter||opts.items.visibleConf.variable||(opts.items.visibleConf.org=opts.items.visible,opts.items.visible=gn_getVisibleItemsNextFilter(d,opts,0)),opts.items.visible=cf_getItemsAdjust(opts.items.visible,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts.responsive){opts.items.visibleConf.min||(opts.items.visibleConf.min=opts.items.visible),opts.items.visibleConf.max||(opts.items.visibleConf.max=opts.items.visible),opts=in_getResponsiveValues(opts,d,e)}else{switch(opts.padding=cf_getPadding(opts.padding),"top"==opts.align?opts.align="left":"bottom"==opts.align&&(opts.align="right"),opts.align){case"center":case"left":case"right":"variable"!=opts[opts.d.width]&&(opts=in_getAlignPadding(opts,d),opts.usePadding=!0);break;default:opts.align=!1,opts.usePadding=0==opts.padding[0]&&0==opts.padding[1]&&0==opts.padding[2]&&0==opts.padding[3]?!1:!0}}is_number(opts.scroll.duration)||(opts.scroll.duration=500),is_undefined(opts.scroll.items)&&(opts.scroll.items=opts.responsive||opts.items.visibleConf.variable||"*"!=opts.items.filter?"visible":opts.items.visible),opts.auto=$.extend(!0,{},opts.scroll,opts.auto),opts.prev=$.extend(!0,{},opts.scroll,opts.prev),opts.next=$.extend(!0,{},opts.scroll,opts.next),opts.pagination=$.extend(!0,{},opts.scroll,opts.pagination),opts.auto=go_complementAutoObject($tt0,opts.auto),opts.prev=go_complementPrevNextObject($tt0,opts.prev),opts.next=go_complementPrevNextObject($tt0,opts.next),opts.pagination=go_complementPaginationObject($tt0,opts.pagination),opts.swipe=go_complementSwipeObject($tt0,opts.swipe),opts.mousewheel=go_complementMousewheelObject($tt0,opts.mousewheel),opts.synchronise&&(opts.synchronise=cf_getSynchArr(opts.synchronise)),opts.auto.onPauseStart&&(opts.auto.onTimeoutStart=opts.auto.onPauseStart,deprecated("auto.onPauseStart","auto.onTimeoutStart")),opts.auto.onPausePause&&(opts.auto.onTimeoutPause=opts.auto.onPausePause,deprecated("auto.onPausePause","auto.onTimeoutPause")),opts.auto.onPauseEnd&&(opts.auto.onTimeoutEnd=opts.auto.onPauseEnd,deprecated("auto.onPauseEnd","auto.onTimeoutEnd")),opts.auto.pauseDuration&&(opts.auto.timeoutDuration=opts.auto.pauseDuration,deprecated("auto.pauseDuration","auto.timeoutDuration"))},FN._build=function(){$cfs.data("_cfs_isCarousel",!0);var a=$cfs.children(),b=in_mapCss($cfs,["textAlign","float","position","top","right","bottom","left","zIndex","width","height","marginTop","marginRight","marginBottom","marginLeft"]),c="relative";switch(b.position){case"absolute":case"fixed":c=b.position}"parent"==conf.wrapper?sz_storeOrigCss($wrp):$wrp.css(b),$wrp.css({overflow:"hidden",position:c}),sz_storeOrigCss($cfs),$cfs.data("_cfs_origCssZindex",b.zIndex),$cfs.css({textAlign:"left","float":"none",position:"absolute",top:0,right:"auto",bottom:"auto",left:0,marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),sz_storeMargin(a,opts),sz_storeOrigCss(a),opts.responsive&&sz_setResponsiveSizes(opts,a)},FN._bind_events=function(){FN._unbind_events(),$cfs.bind(cf_e("stop",conf),function(a,b){return a.stopPropagation(),crsl.isStopped||opts.auto.button&&opts.auto.button.addClass(cf_c("stopped",conf)),crsl.isStopped=!0,opts.auto.play&&(opts.auto.play=!1,$cfs.trigger(cf_e("pause",conf),b)),!0}),$cfs.bind(cf_e("finish",conf),function(a){return a.stopPropagation(),crsl.isScrolling&&sc_stopScroll(scrl),!0}),$cfs.bind(cf_e("pause",conf),function(a,b,c){if(a.stopPropagation(),tmrs=sc_clearTimers(tmrs),b&&crsl.isScrolling){scrl.isStopped=!0;var d=getTime()-scrl.startTime;scrl.duration-=d,scrl.pre&&(scrl.pre.duration-=d),scrl.post&&(scrl.post.duration-=d),sc_stopScroll(scrl,!1)}if(crsl.isPaused||crsl.isScrolling||c&&(tmrs.timePassed+=getTime()-tmrs.startTime),crsl.isPaused||opts.auto.button&&opts.auto.button.addClass(cf_c("paused",conf)),crsl.isPaused=!0,opts.auto.onTimeoutPause){var e=opts.auto.timeoutDuration-tmrs.timePassed,f=100-Math.ceil(100*e/opts.auto.timeoutDuration);opts.auto.onTimeoutPause.call($tt0,f,e)}return !0}),$cfs.bind(cf_e("play",conf),function(a,b,c,d){a.stopPropagation(),tmrs=sc_clearTimers(tmrs);var e=[b,c,d],f=["string","number","boolean"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],"prev"!=b&&"next"!=b&&(b=crsl.direction),is_number(c)||(c=0),is_boolean(d)||(d=!1),d&&(crsl.isStopped=!1,opts.auto.play=!0),!opts.auto.play){return a.stopImmediatePropagation(),debug(conf,"Carousel stopped: Not scrolling.")}crsl.isPaused&&opts.auto.button&&(opts.auto.button.removeClass(cf_c("stopped",conf)),opts.auto.button.removeClass(cf_c("paused",conf))),crsl.isPaused=!1,tmrs.startTime=getTime();var h=opts.auto.timeoutDuration+c;return dur2=h-tmrs.timePassed,perc=100-Math.ceil(100*dur2/h),opts.auto.progress&&(tmrs.progress=setInterval(function(){var a=getTime()-tmrs.startTime+tmrs.timePassed,b=Math.ceil(100*a/h);opts.auto.progress.updater.call(opts.auto.progress.bar[0],b)},opts.auto.progress.interval)),tmrs.auto=setTimeout(function(){opts.auto.progress&&opts.auto.progress.updater.call(opts.auto.progress.bar[0],100),opts.auto.onTimeoutEnd&&opts.auto.onTimeoutEnd.call($tt0,perc,dur2),crsl.isScrolling?$cfs.trigger(cf_e("play",conf),b):$cfs.trigger(cf_e(b,conf),opts.auto)},dur2),opts.auto.onTimeoutStart&&opts.auto.onTimeoutStart.call($tt0,perc,dur2),!0}),$cfs.bind(cf_e("resume",conf),function(a){return a.stopPropagation(),scrl.isStopped?(scrl.isStopped=!1,crsl.isPaused=!1,crsl.isScrolling=!0,scrl.startTime=getTime(),sc_startScroll(scrl,conf)):$cfs.trigger(cf_e("play",conf)),!0}),$cfs.bind(cf_e("prev",conf)+" "+cf_e("next",conf),function(a,b,c,d,e){if(a.stopPropagation(),crsl.isStopped||$cfs.is(":hidden")){return a.stopImmediatePropagation(),debug(conf,"Carousel stopped or hidden: Not scrolling.")}var f=is_number(opts.items.minimum)?opts.items.minimum:opts.items.visible+1;if(f>itms.total){return a.stopImmediatePropagation(),debug(conf,"Not enough items ("+itms.total+" total, "+f+" needed): Not scrolling.")}var g=[b,c,d,e],h=["object","number/string","function","boolean"],i=cf_sortParams(g,h);b=i[0],c=i[1],d=i[2],e=i[3];var j=a.type.slice(conf.events.prefix.length);if(is_object(b)||(b={}),is_function(d)&&(b.onAfter=d),is_boolean(e)&&(b.queue=e),b=$.extend(!0,{},opts[j],b),b.conditions&&!b.conditions.call($tt0,j)){return a.stopImmediatePropagation(),debug(conf,'Callback "conditions" returned false.')}if(!is_number(c)){if("*"!=opts.items.filter){c="visible"}else{for(var k=[c,b.items,opts[j].items],i=0,l=k.length;l>i;i++){if(is_number(k[i])||"page"==k[i]||"visible"==k[i]){c=k[i];break}}}switch(c){case"page":return a.stopImmediatePropagation(),$cfs.triggerHandler(cf_e(j+"Page",conf),[b,d]);case"visible":opts.items.visibleConf.variable||"*"!=opts.items.filter||(c=opts.items.visible)}}if(scrl.isStopped){return $cfs.trigger(cf_e("resume",conf)),$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]]),a.stopImmediatePropagation(),debug(conf,"Carousel resumed scrolling.")}if(b.duration>0&&crsl.isScrolling){return b.queue&&("last"==b.queue&&(queu=[]),("first"!=b.queue||0==queu.length)&&$cfs.trigger(cf_e("queue",conf),[j,[b,c,d]])),a.stopImmediatePropagation(),debug(conf,"Carousel currently scrolling.")}if(tmrs.timePassed=0,$cfs.trigger(cf_e("slide_"+j,conf),[b,c]),opts.synchronise){for(var m=opts.synchronise,n=[b,c],o=0,l=m.length;l>o;o++){var p=j;m[o][2]||(p="prev"==p?"next":"prev"),m[o][1]||(n[0]=m[o][0].triggerHandler("_cfs_triggerEvent",["configuration",p])),n[1]=c+m[o][3],m[o][0].trigger("_cfs_triggerEvent",["slide_"+p,n])}}return !0}),$cfs.bind(cf_e("slide_prev",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&0==itms.first){return opts.infinite&&$cfs.trigger(cf_e("next",conf),itms.total-1),a.stopImmediatePropagation()}if(sz_resetMargin(d,opts),!is_number(c)){if(opts.items.visibleConf.variable){c=gn_getVisibleItemsPrev(d,opts,itms.total-1)}else{if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsPrevFilter(d,opts,itms.total-1,e)}else{c=opts.items.visible}}c=cf_getAdjust(c,opts,b.items,$tt0)}if(opts.circular||itms.total-c<itms.first&&(c=itms.total-itms.first),opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){var f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0);f>=opts.items.visible+c&&itms.total>c&&(c++,f=cf_getItemsAdjust(gn_getVisibleItemsNext(d,opts,itms.total-c),opts,opts.items.visibleConf.adjust,$tt0)),opts.items.visible=f}else{if("*"!=opts.items.filter){var f=gn_getVisibleItemsNextFilter(d,opts,itms.total-c);opts.items.visible=cf_getItemsAdjust(f,opts,opts.items.visibleConf.adjust,$tt0)}}if(sz_resetMargin(d,opts,!0),0==c){return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.")}for(debug(conf,"Scrolling "+c+" items backward."),itms.first+=c;itms.first>=itms.total;){itms.first-=itms.total}opts.circular||(0==itms.first&&b.onEnd&&b.onEnd.call($tt0,"prev"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),$cfs.children().slice(itms.total-c,itms.total).prependTo($cfs),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),g=gi_getOldItemsPrev(d,opts,c),h=gi_getNewItemsPrev(d,opts),i=d.eq(c-1),j=g.last(),k=h.last();sz_resetMargin(d,opts);var l=0,m=0;if(opts.align){var n=cf_getAlignPadding(h,opts);l=n[0],m=n[1]}var o=0>l?opts.padding[opts.d[3]]:0,p=!1,q=$();if(c>opts.items.visible&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,i=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(h,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B={},C={},D=sc_getDuration(b,opts,c,t);switch(b.fx){case"cover":case"cover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visible),opts,"width")}p&&(opts.items[opts.d.width]=r),sz_resetMargin(d,opts,!0),m>=0&&sz_resetMargin(j,opts,opts.padding[opts.d[1]]),l>=0&&sz_resetMargin(i,opts,opts.padding[opts.d[3]]),opts.align&&(opts.padding[opts.d[1]]=m,opts.padding[opts.d[3]]=l),B[opts.d.left]=-(t-o),C[opts.d.left]=-(v-o),x[opts.d.left]=u[opts.d.width];var E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){},L=function(){},M=function(){},N=function(){},O=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp)}switch(b.fx){case"crossfade":case"uncover":case"uncover-fade":s.children().slice(0,c).remove(),s.children().slice(opts.items.visibleConf.old).remove();break;case"cover":case"cover-fade":s.children().slice(opts.items.visible).remove(),s.css(C)}if($cfs.css(B),scrl=sc_setScroll(D,b.easing,conf),w[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0,("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(E=function(){$wrp.css(u)},F=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){switch(k.not(i).length&&(y[opts.d.marginRight]=i.data("_cfs_origCssMargin"),0>l?i.css(y):(K=function(){i.css(y)},L=function(){scrl.anims.push([i,y])})),b.fx){case"cover":case"cover-fade":s.children().eq(c-1).css(y)}k.not(j).length&&(z[opts.d.marginRight]=j.data("_cfs_origCssMargin"),G=function(){j.css(z)},H=function(){scrl.anims.push([j,z])}),m>=0&&(A[opts.d.marginRight]=k.data("_cfs_origCssMargin")+opts.padding[opts.d[1]],I=function(){k.css(A)},J=function(){scrl.anims.push([k,A])})}O=function(){$cfs.css(w)};var P=opts.items.visible+c-itms.total;N=function(){if(P>0&&($cfs.children().slice(itms.total).remove(),g=$($cfs.children().slice(itms.total-(opts.items.visible-P)).get().concat($cfs.children().slice(0,P).get()))),sc_showHiddenItems(p),opts.usePadding){var a=$cfs.children().eq(opts.items.visible+c-1);a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var Q=sc_mapCallbackArguments(g,q,h,c,"prev",D,u);switch(M=function(){sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",Q,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",Q,clbk),b.fx){case"none":$cfs.css(w),E(),G(),I(),K(),O(),N(),M();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){E(),G(),I(),K(),O(),N(),scrl=sc_setScroll(D,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},M]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},M]),F(),G(),I(),K(),O(),N();break;case"cover":scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"cover-fade":scrl.anims.push([$cfs,{opacity:0}]),scrl.anims.push([s,w,function(){G(),I(),K(),O(),N(),M()}]),F();break;case"uncover":scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,M]),F(),G(),I(),K(),O(),N();break;default:scrl.anims.push([$cfs,w,function(){N(),M()}]),F(),H(),J(),L()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slide_next",conf),function(a,b,c){a.stopPropagation();var d=$cfs.children();if(!opts.circular&&itms.first==opts.items.visible){return opts.infinite&&$cfs.trigger(cf_e("prev",conf),itms.total-1),a.stopImmediatePropagation()}if(sz_resetMargin(d,opts),!is_number(c)){if("*"!=opts.items.filter){var e=is_number(b.items)?b.items:gn_getVisibleOrg($cfs,opts);c=gn_getScrollItemsNextFilter(d,opts,0,e)}else{c=opts.items.visible}c=cf_getAdjust(c,opts,b.items,$tt0)}var f=0==itms.first?itms.total:itms.first;if(!opts.circular){if(opts.items.visibleConf.variable){var g=gn_getVisibleItemsNext(d,opts,c),e=gn_getVisibleItemsPrev(d,opts,f-1)}else{var g=opts.items.visible,e=opts.items.visible}c+g>f&&(c=f-e)}if(opts.items.visibleConf.old=opts.items.visible,opts.items.visibleConf.variable){for(var g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0);opts.items.visible-c>=g&&itms.total>c;){c++,g=cf_getItemsAdjust(gn_getVisibleItemsNextTestCircular(d,opts,c,f),opts,opts.items.visibleConf.adjust,$tt0)}opts.items.visible=g}else{if("*"!=opts.items.filter){var g=gn_getVisibleItemsNextFilter(d,opts,c);opts.items.visible=cf_getItemsAdjust(g,opts,opts.items.visibleConf.adjust,$tt0)}}if(sz_resetMargin(d,opts,!0),0==c){return a.stopImmediatePropagation(),debug(conf,"0 items to scroll: Not scrolling.")}for(debug(conf,"Scrolling "+c+" items forward."),itms.first-=c;0>itms.first;){itms.first+=itms.total}opts.circular||(itms.first==opts.items.visible&&b.onEnd&&b.onEnd.call($tt0,"next"),opts.infinite||nv_enableNavi(opts,itms.first,conf)),itms.total<opts.items.visible+c&&$cfs.children().slice(0,opts.items.visible+c-itms.total).clone(!0).appendTo($cfs);var d=$cfs.children(),h=gi_getOldItemsNext(d,opts),i=gi_getNewItemsNext(d,opts,c),j=d.eq(c-1),k=h.last(),l=i.last();sz_resetMargin(d,opts);var m=0,n=0;if(opts.align){var o=cf_getAlignPadding(i,opts);m=o[0],n=o[1]}var p=!1,q=$();if(c>opts.items.visibleConf.old&&(q=d.slice(opts.items.visibleConf.old,c),"directscroll"==b.fx)){var r=opts.items[opts.d.width];p=q,j=k,sc_hideHiddenItems(p),opts.items[opts.d.width]="variable"}var s=!1,t=ms_getTotalSize(d.slice(0,c),opts,"width"),u=cf_mapWrapperSizes(ms_getSizes(i,opts,!0),opts,!opts.usePadding),v=0,w={},x={},y={},z={},A={},B=sc_getDuration(b,opts,c,t);switch(b.fx){case"uncover":case"uncover-fade":v=ms_getTotalSize(d.slice(0,opts.items.visibleConf.old),opts,"width")}p&&(opts.items[opts.d.width]=r),opts.align&&0>opts.padding[opts.d[1]]&&(opts.padding[opts.d[1]]=0),sz_resetMargin(d,opts,!0),sz_resetMargin(k,opts,opts.padding[opts.d[1]]),opts.align&&(opts.padding[opts.d[1]]=n,opts.padding[opts.d[3]]=m),A[opts.d.left]=opts.usePadding?opts.padding[opts.d[3]]:0;var C=function(){},D=function(){},E=function(){},F=function(){},G=function(){},H=function(){},I=function(){},J=function(){},K=function(){};switch(b.fx){case"crossfade":case"cover":case"cover-fade":case"uncover":case"uncover-fade":s=$cfs.clone(!0).appendTo($wrp),s.children().slice(opts.items.visibleConf.old).remove()}switch(b.fx){case"crossfade":case"cover":case"cover-fade":$cfs.css("zIndex",1),s.css("zIndex",0)}if(scrl=sc_setScroll(B,b.easing,conf),w[opts.d.left]=-t,x[opts.d.left]=-v,0>m&&(w[opts.d.left]+=m),("variable"==opts[opts.d.width]||"variable"==opts[opts.d.height])&&(C=function(){$wrp.css(u)},D=function(){scrl.anims.push([$wrp,u])}),opts.usePadding){var L=l.data("_cfs_origCssMargin");n>=0&&(L+=opts.padding[opts.d[1]]),l.css(opts.d.marginRight,L),j.not(k).length&&(z[opts.d.marginRight]=k.data("_cfs_origCssMargin")),E=function(){k.css(z)},F=function(){scrl.anims.push([k,z])};var M=j.data("_cfs_origCssMargin");m>0&&(M+=opts.padding[opts.d[3]]),y[opts.d.marginRight]=M,G=function(){j.css(y)},H=function(){scrl.anims.push([j,y])}}K=function(){$cfs.css(A)};var N=opts.items.visible+c-itms.total;J=function(){N>0&&$cfs.children().slice(itms.total).remove();var a=$cfs.children().slice(0,c).appendTo($cfs).last();if(N>0&&(i=gi_getCurrentItems(d,opts)),sc_showHiddenItems(p),opts.usePadding){if(itms.total<opts.items.visible+c){var b=$cfs.children().eq(opts.items.visible-1);b.css(opts.d.marginRight,b.data("_cfs_origCssMargin")+opts.padding[opts.d[1]])}a.css(opts.d.marginRight,a.data("_cfs_origCssMargin"))}};var O=sc_mapCallbackArguments(h,q,i,c,"next",B,u);switch(I=function(){$cfs.css("zIndex",$cfs.data("_cfs_origCssZindex")),sc_afterScroll($cfs,s,b),crsl.isScrolling=!1,clbk.onAfter=sc_fireCallbacks($tt0,b,"onAfter",O,clbk),queu=sc_fireQueue($cfs,queu,conf),crsl.isPaused||$cfs.trigger(cf_e("play",conf))},crsl.isScrolling=!0,tmrs=sc_clearTimers(tmrs),clbk.onBefore=sc_fireCallbacks($tt0,b,"onBefore",O,clbk),b.fx){case"none":$cfs.css(w),C(),E(),G(),K(),J(),I();break;case"fade":scrl.anims.push([$cfs,{opacity:0},function(){C(),E(),G(),K(),J(),scrl=sc_setScroll(B,b.easing,conf),scrl.anims.push([$cfs,{opacity:1},I]),sc_startScroll(scrl,conf)}]);break;case"crossfade":$cfs.css({opacity:0}),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,{opacity:1},I]),D(),E(),G(),K(),J();break;case"cover":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"cover-fade":$cfs.css(opts.d.left,$wrp[opts.d.width]()),scrl.anims.push([s,{opacity:0}]),scrl.anims.push([$cfs,A,I]),D(),E(),G(),J();break;case"uncover":scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;case"uncover-fade":$cfs.css({opacity:0}),scrl.anims.push([$cfs,{opacity:1}]),scrl.anims.push([s,x,I]),D(),E(),G(),K(),J();break;default:scrl.anims.push([$cfs,w,function(){K(),J(),I()}]),D(),F(),H()}return sc_startScroll(scrl,conf),cf_setCookie(opts.cookie,$cfs,conf),$cfs.trigger(cf_e("updatePageStatus",conf),[!1,u]),!0}),$cfs.bind(cf_e("slideTo",conf),function(a,b,c,d,e,f,g){a.stopPropagation();var h=[b,c,d,e,f,g],i=["string/number/object","number","boolean","object","string","function"],j=cf_sortParams(h,i);return e=j[3],f=j[4],g=j[5],b=gn_getItemIndex(j[0],j[1],j[2],itms,$cfs),0==b?!1:(is_object(e)||(e=!1),"prev"!=f&&"next"!=f&&(f=opts.circular?itms.total/2>=b?"next":"prev":0==itms.first||itms.first>b?"next":"prev"),"prev"==f&&(b=itms.total-b),$cfs.trigger(cf_e(f,conf),[e,b,g]),!0)}),$cfs.bind(cf_e("prevPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d-1,b,"prev",c])}),$cfs.bind(cf_e("nextPage",conf),function(a,b,c){a.stopPropagation();var d=$cfs.triggerHandler(cf_e("currentPage",conf));return $cfs.triggerHandler(cf_e("slideToPage",conf),[d+1,b,"next",c])}),$cfs.bind(cf_e("slideToPage",conf),function(a,b,c,d,e){a.stopPropagation(),is_number(b)||(b=$cfs.triggerHandler(cf_e("currentPage",conf)));var f=opts.pagination.items||opts.items.visible,g=Math.ceil(itms.total/f)-1;return 0>b&&(b=g),b>g&&(b=0),$cfs.triggerHandler(cf_e("slideTo",conf),[b*f,0,!0,c,d,e])}),$cfs.bind(cf_e("jumpToStart",conf),function(a,b){if(a.stopPropagation(),b=b?gn_getItemIndex(b,0,!0,itms,$cfs):0,b+=itms.first,0!=b){if(itms.total>0){for(;b>itms.total;){b-=itms.total}}$cfs.prepend($cfs.children().slice(b,itms.total))}return !0}),$cfs.bind(cf_e("synchronise",conf),function(a,b){if(a.stopPropagation(),b){b=cf_getSynchArr(b)}else{if(!opts.synchronise){return debug(conf,"No carousel to synchronise.")}b=opts.synchronise}for(var c=$cfs.triggerHandler(cf_e("currentPosition",conf)),d=!0,e=0,f=b.length;f>e;e++){b[e][0].triggerHandler(cf_e("slideTo",conf),[c,b[e][3],!0])||(d=!1)}return d}),$cfs.bind(cf_e("queue",conf),function(a,b,c){return a.stopPropagation(),is_function(b)?b.call($tt0,queu):is_array(b)?queu=b:is_undefined(b)||queu.push([b,c]),queu}),$cfs.bind(cf_e("insertItem",conf),function(a,b,c,d,e){a.stopPropagation();var f=[b,c,d,e],g=["string/object","string/number/object","boolean","number"],h=cf_sortParams(f,g);if(b=h[0],c=h[1],d=h[2],e=h[3],is_object(b)&&!is_jquery(b)?b=$(b):is_string(b)&&(b=$(b)),!is_jquery(b)||0==b.length){return debug(conf,"Not a valid object.")}is_undefined(c)&&(c="end"),sz_storeMargin(b,opts),sz_storeOrigCss(b);var i=c,j="before";"end"==c?d?(0==itms.first?(c=itms.total-1,j="after"):(c=itms.first,itms.first+=b.length),0>c&&(c=0)):(c=itms.total-1,j="after"):c=gn_getItemIndex(c,e,d,itms,$cfs);var k=$cfs.children().eq(c);return k.length?k[j](b):(debug(conf,"Correct insert-position not found! Appending item to the end."),$cfs.append(b)),"end"==i||d||itms.first>c&&(itms.first+=b.length),itms.total=$cfs.children().length,itms.first>=itms.total&&(itms.first-=itms.total),$cfs.trigger(cf_e("updateSizes",conf)),$cfs.trigger(cf_e("linkAnchors",conf)),!0}),$cfs.bind(cf_e("removeItem",conf),function(a,b,c,d){a.stopPropagation();var e=[b,c,d],f=["string/number/object","boolean","number"],g=cf_sortParams(e,f);if(b=g[0],c=g[1],d=g[2],b instanceof $&&b.length>1){return i=$(),b.each(function(){var e=$cfs.trigger(cf_e("removeItem",conf),[$(this),c,d]);e&&(i=i.add(e))}),i}if(is_undefined(b)||"end"==b){i=$cfs.children().last()}else{b=gn_getItemIndex(b,d,c,itms,$cfs);var i=$cfs.children().eq(b);i.length&&itms.first>b&&(itms.first-=i.length)}return i&&i.length&&(i.detach(),itms.total=$cfs.children().length,$cfs.trigger(cf_e("updateSizes",conf))),i}),$cfs.bind(cf_e("onBefore",conf)+" "+cf_e("onAfter",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length);return is_array(b)&&(clbk[c]=b),is_function(b)&&clbk[c].push(b),clbk[c]}),$cfs.bind(cf_e("currentPosition",conf),function(a,b){if(a.stopPropagation(),0==itms.first){var c=0}else{var c=itms.total-itms.first}return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("currentPage",conf),function(a,b){a.stopPropagation();var e,c=opts.pagination.items||opts.items.visible,d=Math.ceil(itms.total/c-1);return e=0==itms.first?0:itms.first<itms.total%c?0:itms.first!=c||opts.circular?Math.round((itms.total-itms.first)/c):d,0>e&&(e=0),e>d&&(e=d),is_function(b)&&b.call($tt0,e),e}),$cfs.bind(cf_e("currentVisible",conf),function(a,b){a.stopPropagation();var c=gi_getCurrentItems($cfs.children(),opts);return is_function(b)&&b.call($tt0,c),c}),$cfs.bind(cf_e("slice",conf),function(a,b,c,d){if(a.stopPropagation(),0==itms.total){return !1}var e=[b,c,d],f=["number","number","function"],g=cf_sortParams(e,f);if(b=is_number(g[0])?g[0]:0,c=is_number(g[1])?g[1]:itms.total,d=g[2],b+=itms.first,c+=itms.first,items.total>0){for(;b>itms.total;){b-=itms.total}for(;c>itms.total;){c-=itms.total}for(;0>b;){b+=itms.total}for(;0>c;){c+=itms.total}}var i,h=$cfs.children();return i=c>b?h.slice(b,c):$(h.slice(b,itms.total).get().concat(h.slice(0,c).get())),is_function(d)&&d.call($tt0,i),i}),$cfs.bind(cf_e("isPaused",conf)+" "+cf_e("isStopped",conf)+" "+cf_e("isScrolling",conf),function(a,b){a.stopPropagation();var c=a.type.slice(conf.events.prefix.length),d=crsl[c];return is_function(b)&&b.call($tt0,d),d}),$cfs.bind(cf_e("configuration",conf),function(e,a,b,c){e.stopPropagation();var reInit=!1;if(is_function(a)){a.call($tt0,opts)}else{if(is_object(a)){opts_orig=$.extend(!0,{},opts_orig,a),b!==!1?reInit=!0:opts=$.extend(!0,{},opts,a)}else{if(!is_undefined(a)){if(is_function(b)){var val=eval("opts."+a);is_undefined(val)&&(val=""),b.call($tt0,val)}else{if(is_undefined(b)){return eval("opts."+a)}"boolean"!=typeof c&&(c=!0),eval("opts_orig."+a+" = b"),c!==!1?reInit=!0:eval("opts."+a+" = b")}}}}if(reInit){sz_resetMargin($cfs.children(),opts),FN._init(opts_orig),FN._bind_buttons();var sz=sz_setSizes($cfs,opts);$cfs.trigger(cf_e("updatePageStatus",conf),[!0,sz])}return opts}),$cfs.bind(cf_e("linkAnchors",conf),function(a,b,c){return a.stopPropagation(),is_undefined(b)?b=$("body"):is_string(b)&&(b=$(b)),is_jquery(b)&&0!=b.length?(is_string(c)||(c="a.caroufredsel"),b.find(c).each(function(){var a=this.hash||"";a.length>0&&-1!=$cfs.children().index($(a))&&$(this).unbind("click").click(function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),a)})}),!0):debug(conf,"Not a valid object.")}),$cfs.bind(cf_e("updatePageStatus",conf),function(a,b){if(a.stopPropagation(),opts.pagination.container){var d=opts.pagination.items||opts.items.visible,e=Math.ceil(itms.total/d);b&&(opts.pagination.anchorBuilder&&(opts.pagination.container.children().remove(),opts.pagination.container.each(function(){for(var a=0;e>a;a++){var b=$cfs.children().eq(gn_getItemIndex(a*d,0,!0,itms,$cfs));$(this).append(opts.pagination.anchorBuilder.call(b[0],a+1))}})),opts.pagination.container.each(function(){$(this).children().unbind(opts.pagination.event).each(function(a){$(this).bind(opts.pagination.event,function(b){b.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[a*d,-opts.pagination.deviation,!0,opts.pagination])})})}));var f=$cfs.triggerHandler(cf_e("currentPage",conf))+opts.pagination.deviation;return f>=e&&(f=0),0>f&&(f=e-1),opts.pagination.container.each(function(){$(this).children().removeClass(cf_c("selected",conf)).eq(f).addClass(cf_c("selected",conf))}),!0}}),$cfs.bind(cf_e("updateSizes",conf),function(){var b=opts.items.visible,c=$cfs.children(),d=ms_getParentSize($wrp,opts,"width");if(itms.total=c.length,crsl.primarySizePercentage?(opts.maxDimension=d,opts[opts.d.width]=ms_getPercentage(d,crsl.primarySizePercentage)):opts.maxDimension=ms_getMaxDimension(opts,d),opts.responsive?(opts.items.width=opts.items.sizesConf.width,opts.items.height=opts.items.sizesConf.height,opts=in_getResponsiveValues(opts,c,d),b=opts.items.visible,sz_setResponsiveSizes(opts,c)):opts.items.visibleConf.variable?b=gn_getVisibleItemsNext(c,opts,0):"*"!=opts.items.filter&&(b=gn_getVisibleItemsNextFilter(c,opts,0)),!opts.circular&&0!=itms.first&&b>itms.first){if(opts.items.visibleConf.variable){var e=gn_getVisibleItemsPrev(c,opts,itms.first)-itms.first}else{if("*"!=opts.items.filter){var e=gn_getVisibleItemsPrevFilter(c,opts,itms.first)-itms.first}else{var e=opts.items.visible-itms.first}}debug(conf,"Preventing non-circular: sliding "+e+" items backward."),$cfs.trigger(cf_e("prev",conf),e)}opts.items.visible=cf_getItemsAdjust(b,opts,opts.items.visibleConf.adjust,$tt0),opts.items.visibleConf.old=opts.items.visible,opts=in_getAlignPadding(opts,c);var f=sz_setSizes($cfs,opts);return $cfs.trigger(cf_e("updatePageStatus",conf),[!0,f]),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),f}),$cfs.bind(cf_e("destroy",conf),function(a,b){return a.stopPropagation(),tmrs=sc_clearTimers(tmrs),$cfs.data("_cfs_isCarousel",!1),$cfs.trigger(cf_e("finish",conf)),b&&$cfs.trigger(cf_e("jumpToStart",conf)),sz_restoreOrigCss($cfs.children()),sz_restoreOrigCss($cfs),FN._unbind_events(),FN._unbind_buttons(),"parent"==conf.wrapper?sz_restoreOrigCss($wrp):$wrp.replaceWith($cfs),!0}),$cfs.bind(cf_e("debug",conf),function(){return debug(conf,"Carousel width: "+opts.width),debug(conf,"Carousel height: "+opts.height),debug(conf,"Item widths: "+opts.items.width),debug(conf,"Item heights: "+opts.items.height),debug(conf,"Number of items visible: "+opts.items.visible),opts.auto.play&&debug(conf,"Number of items scrolled automatically: "+opts.auto.items),opts.prev.button&&debug(conf,"Number of items scrolled backward: "+opts.prev.items),opts.next.button&&debug(conf,"Number of items scrolled forward: "+opts.next.items),conf.debug}),$cfs.bind("_cfs_triggerEvent",function(a,b,c){return a.stopPropagation(),$cfs.triggerHandler(cf_e(b,conf),c)})},FN._unbind_events=function(){$cfs.unbind(cf_e("",conf)),$cfs.unbind(cf_e("",conf,!1)),$cfs.unbind("_cfs_triggerEvent")},FN._bind_buttons=function(){if(FN._unbind_buttons(),nv_showNavi(opts,itms.total,conf),nv_enableNavi(opts,itms.first,conf),opts.auto.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.auto.pauseOnHover);$wrp.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.auto.button&&opts.auto.button.bind(cf_e(opts.auto.event,conf,!1),function(a){a.preventDefault();var b=!1,c=null;crsl.isPaused?b="play":opts.auto.pauseOnEvent&&(b="pause",c=bt_pauseOnHoverConfig(opts.auto.pauseOnEvent)),b&&$cfs.trigger(cf_e(b,conf),c)}),opts.prev.button&&(opts.prev.button.bind(cf_e(opts.prev.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("prev",conf))}),opts.prev.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.prev.pauseOnHover);opts.prev.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.next.button&&(opts.next.button.bind(cf_e(opts.next.event,conf,!1),function(a){a.preventDefault(),$cfs.trigger(cf_e("next",conf))}),opts.next.pauseOnHover)){var a=bt_pauseOnHoverConfig(opts.next.pauseOnHover);opts.next.button.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if(opts.pagination.container&&opts.pagination.pauseOnHover){var a=bt_pauseOnHoverConfig(opts.pagination.pauseOnHover);opts.pagination.container.bind(cf_e("mouseenter",conf,!1),function(){$cfs.trigger(cf_e("pause",conf),a)}).bind(cf_e("mouseleave",conf,!1),function(){$cfs.trigger(cf_e("resume",conf))})}if((opts.prev.key||opts.next.key)&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b==opts.next.key&&(a.preventDefault(),$cfs.trigger(cf_e("next",conf))),b==opts.prev.key&&(a.preventDefault(),$cfs.trigger(cf_e("prev",conf)))}),opts.pagination.keys&&$(document).bind(cf_e("keyup",conf,!1,!0,!0),function(a){var b=a.keyCode;b>=49&&58>b&&(b=(b-49)*opts.items.visible,itms.total>=b&&(a.preventDefault(),$cfs.trigger(cf_e("slideTo",conf),[b,0,!0,opts.pagination])))}),$.fn.swipe){var b="ontouchstart" in window;if(b&&opts.swipe.onTouch||!b&&opts.swipe.onMouse){var c=$.extend(!0,{},opts.prev,opts.swipe),d=$.extend(!0,{},opts.next,opts.swipe),e=function(){$cfs.trigger(cf_e("prev",conf),[c])},f=function(){$cfs.trigger(cf_e("next",conf),[d])};switch(opts.direction){case"up":case"down":opts.swipe.options.swipeUp=f,opts.swipe.options.swipeDown=e;break;default:opts.swipe.options.swipeLeft=f,opts.swipe.options.swipeRight=e}crsl.swipe&&$cfs.swipe("destroy"),$wrp.swipe(opts.swipe.options),$wrp.css("cursor","move"),crsl.swipe=!0}}if($.fn.mousewheel&&opts.mousewheel){var g=$.extend(!0,{},opts.prev,opts.mousewheel),h=$.extend(!0,{},opts.next,opts.mousewheel);crsl.mousewheel&&$wrp.unbind(cf_e("mousewheel",conf,!1)),$wrp.bind(cf_e("mousewheel",conf,!1),function(a,b){a.preventDefault(),b>0?$cfs.trigger(cf_e("prev",conf),[g]):$cfs.trigger(cf_e("next",conf),[h])}),crsl.mousewheel=!0}if(opts.auto.play&&$cfs.trigger(cf_e("play",conf),opts.auto.delay),crsl.upDateOnWindowResize){var i=function(){$cfs.trigger(cf_e("finish",conf)),opts.auto.pauseOnResize&&!crsl.isPaused&&$cfs.trigger(cf_e("play",conf)),sz_resetMargin($cfs.children(),opts),$cfs.trigger(cf_e("updateSizes",conf))},j=$(window),k=null;if($.debounce&&"debounce"==conf.onWindowResize){k=$.debounce(200,i)}else{if($.throttle&&"throttle"==conf.onWindowResize){k=$.throttle(300,i)}else{var l=0,m=0;k=function(){var a=j.width(),b=j.height();(a!=l||b!=m)&&(i(),l=a,m=b)}}}j.bind(cf_e("resize",conf,!1,!0,!0),k)}},FN._unbind_buttons=function(){var b=(cf_e("",conf),cf_e("",conf,!1));ns3=cf_e("",conf,!1,!0,!0),$(document).unbind(ns3),$(window).unbind(ns3),$wrp.unbind(b),opts.auto.button&&opts.auto.button.unbind(b),opts.prev.button&&opts.prev.button.unbind(b),opts.next.button&&opts.next.button.unbind(b),opts.pagination.container&&(opts.pagination.container.unbind(b),opts.pagination.anchorBuilder&&opts.pagination.container.children().remove()),crsl.swipe&&($cfs.swipe("destroy"),$wrp.css("cursor","default"),crsl.swipe=!1),crsl.mousewheel&&(crsl.mousewheel=!1),nv_showNavi(opts,"hide",conf),nv_enableNavi(opts,"removeClass",conf)},is_boolean(configs)&&(configs={debug:configs});var crsl={direction:"next",isPaused:!0,isScrolling:!1,isStopped:!1,mousewheel:!1,swipe:!1},itms={total:$cfs.children().length,first:0},tmrs={auto:null,progress:null,startTime:getTime(),timePassed:0},scrl={isStopped:!1,duration:0,startTime:0,easing:"",anims:[]},clbk={onBefore:[],onAfter:[]},queu=[],conf=$.extend(!0,{},$.fn.carouFredSel.configs,configs),opts={},opts_orig=$.extend(!0,{},options),$wrp="parent"==conf.wrapper?$cfs.parent():$cfs.wrap("<"+conf.wrapper.element+' class="'+conf.wrapper.classname+'" />').parent();if(conf.selector=$cfs.selector,conf.serialNumber=$.fn.carouFredSel.serialNumber++,conf.transition=conf.transition&&$.fn.transition?"transition":"animate",FN._init(opts_orig,!0,starting_position),FN._build(),FN._bind_events(),FN._bind_buttons(),is_array(opts.items.start)){var start_arr=opts.items.start}else{var start_arr=[];0!=opts.items.start&&start_arr.push(opts.items.start)}if(opts.cookie&&start_arr.unshift(parseInt(cf_getCookie(opts.cookie),10)),start_arr.length>0){for(var a=0,l=start_arr.length;l>a;a++){var s=start_arr[a];if(0!=s){if(s===!0){if(s=window.location.hash,1>s.length){continue}}else{"random"===s&&(s=Math.floor(Math.random()*itms.total))}if($cfs.triggerHandler(cf_e("slideTo",conf),[s,0,!0,{fx:"none"}])){break}}}}var siz=sz_setSizes($cfs,opts),itm=gi_getCurrentItems($cfs.children(),opts);return opts.onCreate&&opts.onCreate.call($tt0,{width:siz.width,height:siz.height,items:itm}),$cfs.trigger(cf_e("updatePageStatus",conf),[!0,siz]),$cfs.trigger(cf_e("linkAnchors",conf)),conf.debug&&$cfs.trigger(cf_e("debug",conf)),$cfs},$.fn.carouFredSel.serialNumber=1,$.fn.carouFredSel.defaults={synchronise:!1,infinite:!0,circular:!0,responsive:!1,direction:"left",items:{start:0},scroll:{easing:"swing",duration:500,pauseOnHover:!1,event:"click",queue:!1}},$.fn.carouFredSel.configs={debug:!1,transition:!1,onWindowResize:"throttle",events:{prefix:"",namespace:"cfs"},wrapper:{element:"div",classname:"caroufredsel_wrapper"},classnames:{}},$.fn.carouFredSel.pageAnchorBuilder=function(a){return'<a href="#"><span>'+a+"</span></a>"},$.fn.carouFredSel.progressbarUpdater=function(a){$(this).css("width",a+"%")},$.fn.carouFredSel.cookie={get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0,d=b.length;d>c;c++){for(var e=b[c];" "==e.charAt(0);){e=e.slice(1)}if(0==e.indexOf(a)){return e.slice(a.length)}}return 0},set:function(a,b,c){var d="";if(c){var e=new Date;e.setTime(e.getTime()+1000*60*60*24*c),d="; expires="+e.toGMTString()}document.cookie=a+"="+b+d+"; path=/"},remove:function(a){$.fn.carouFredSel.cookie.set(a,"",-1)}},$.extend($.easing,{quadratic:function(a){var b=a*a;return a*(-b*a+4*b-6*a+4)},cubic:function(a){return a*(4*a*a-9*a+6)},elastic:function(a){var b=a*a;return a*(33*b*b-106*b*a+126*b-67*a+15)}}))})(jQuery);(function(c){function b(d){return(d||"").toLowerCase()}var a="20130409";c.fn.cycle=function(d){var f;return 0!==this.length||c.isReady?this.each(function(){var q,j,m,p,k=c(this),i=c.fn.cycle.log;if(!k.data("cycle.opts")){(k.data("cycle-log")===!1||d&&d.log===!1||j&&j.log===!1)&&(i=c.noop),i("--c2 init--"),q=k.data();for(var h in q){q.hasOwnProperty(h)&&/^cycle[A-Z]+/.test(h)&&(p=q[h],m=h.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),i(m+":",p,"("+typeof p+")"),q[m]=p)}j=c.extend({},c.fn.cycle.defaults,q,d||{}),j.timeoutId=0,j.paused=j.paused||!1,j.container=k,j._maxZ=j.maxZ,j.API=c.extend({_container:k},c.fn.cycle.API),j.API.log=i,j.API.trigger=function(n,l){return j.container.trigger(n,l),j.API},k.data("cycle.opts",j),k.data("cycle.API",j.API),j.API.trigger("cycle-bootstrap",[j,j.API]),j.API.addInitialSlides(),j.API.preInitSlideshow(),j.slides.length&&j.API.initSlideshow()}}):(f={s:this.selector,c:this.context},c.fn.cycle.log("requeuing slideshow (dom not ready)"),c(function(){c(f.s,f.c).cycle(d)}),this)},c.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var f=this.opts(),d=f.slides;f.slideCount=0,f.slides=c(),d=d.jquery?d:f.container.find(d),f.random&&d.sort(function(){return Math.random()-0.5}),f.API.add(d)},preInitSlideshow:function(){var f=this.opts();f.API.trigger("cycle-pre-initialize",[f]);var d=c.fn.cycle.transitions[f.fx];d&&c.isFunction(d.preInit)&&d.preInit(f),f._preInitialized=!0},postInitSlideshow:function(){var f=this.opts();f.API.trigger("cycle-post-initialize",[f]);var d=c.fn.cycle.transitions[f.fx];d&&c.isFunction(d.postInit)&&d.postInit(f)},initSlideshow:function(){var f,d=this.opts(),h=d.container;d.API.calcFirstSlide(),"static"==d.container.css("position")&&d.container.css("position","relative"),c(d.slides[d.currSlide]).css("opacity",1).show(),d.API.stackSlides(d.slides[d.currSlide],d.slides[d.nextSlide],!d.reverse),d.pauseOnHover&&(d.pauseOnHover!==!0&&(h=c(d.pauseOnHover)),h.hover(function(){d.API.pause(!0)},function(){d.API.resume(!0)})),d.timeout&&(f=d.API.getSlideOpts(d.nextSlide),d.API.queueTransition(f,f.timeout+d.delay)),d._initialized=!0,d.API.updateView(!0),d.API.trigger("cycle-initialized",[d]),d.API.postInitSlideshow()},pause:function(f){var d=this.opts(),j=d.API.getSlideOpts(),h=d.hoverPaused||d.paused;f?d.hoverPaused=!0:d.paused=!0,h||(d.container.addClass("cycle-paused"),d.API.trigger("cycle-paused",[d]).log("cycle-paused"),j.timeout&&(clearTimeout(d.timeoutId),d.timeoutId=0,d._remainingTimeout-=c.now()-d._lastQueue,(0>d._remainingTimeout||isNaN(d._remainingTimeout))&&(d._remainingTimeout=void 0)))},resume:function(h){var f=this.opts(),d=!f.hoverPaused&&!f.paused;h?f.hoverPaused=!1:f.paused=!1,d||(f.container.removeClass("cycle-paused"),f.API.queueTransition(f.API.getSlideOpts(),f._remainingTimeout),f.API.trigger("cycle-resumed",[f,f._remainingTimeout]).log("cycle-resumed"))},add:function(f,d){var l,h=this.opts(),j=h.slideCount,k=!1;"string"==c.type(f)&&(f=c.trim(f)),c(f).each(function(){var i,m=c(this);d?h.container.prepend(m):h.container.append(m),h.slideCount++,i=h.API.buildSlideOpts(m),h.slides=d?c(m).add(h.slides):h.slides.add(m),h.API.initSlide(i,m,--h._maxZ),m.data("cycle.opts",i),h.API.trigger("cycle-slide-added",[h,i,m])}),h.API.updateView(!0),k=h._preInitialized&&2>j&&h.slideCount>=1,k&&(h._initialized?h.timeout&&(l=h.slides.length,h.nextSlide=h.reverse?l-1:1,h.timeoutId||h.API.queueTransition(h)):h.API.initSlideshow())},calcFirstSlide:function(){var f,d=this.opts();f=parseInt(d.startingSlide||0,10),(f>=d.slides.length||0>f)&&(f=0),d.currSlide=f,d.reverse?(d.nextSlide=f-1,0>d.nextSlide&&(d.nextSlide=d.slides.length-1)):(d.nextSlide=f+1,d.nextSlide==d.slides.length&&(d.nextSlide=0))},calcNextSlide:function(){var f,d=this.opts();d.reverse?(f=0>d.nextSlide-1,d.nextSlide=f?d.slideCount-1:d.nextSlide-1,d.currSlide=f?0:d.nextSlide+1):(f=d.nextSlide+1==d.slides.length,d.nextSlide=f?0:d.nextSlide+1,d.currSlide=f?d.slides.length-1:d.nextSlide-1)},calcTx:function(f,d){var j,h=f;return d&&h.manualFx&&(j=c.fn.cycle.transitions[h.manualFx]),j||(j=c.fn.cycle.transitions[h.fx]),j||(j=c.fn.cycle.transitions.fade,h.API.log('Transition "'+h.fx+'" not found.  Using fade.')),j},prepareTx:function(k,f){var d,p,h,l,m,j=this.opts();return 2>j.slideCount?(j.timeoutId=0,void 0):(!k||j.busy&&!j.manualTrump||(j.API.stopTransition(),j.busy=!1,clearTimeout(j.timeoutId),j.timeoutId=0),j.busy||(0!==j.timeoutId||k)&&(p=j.slides[j.currSlide],h=j.slides[j.nextSlide],l=j.API.getSlideOpts(j.nextSlide),m=j.API.calcTx(l,k),j._tx=m,k&&void 0!==l.manualSpeed&&(l.speed=l.manualSpeed),j.nextSlide!=j.currSlide&&(k||!j.paused&&!j.hoverPaused&&j.timeout)?(j.API.trigger("cycle-before",[l,p,h,f]),m.before&&m.before(l,p,h,f),d=function(){j.busy=!1,j.container.data("cycle.opts")&&(m.after&&m.after(l,p,h,f),j.API.trigger("cycle-after",[l,p,h,f]),j.API.queueTransition(l),j.API.updateView(!0))},j.busy=!0,m.transition?m.transition(l,p,h,f,d):j.API.doTransition(l,p,h,f,d),j.API.calcNextSlide(),j.API.updateView()):j.API.queueTransition(l)),void 0)},doTransition:function(q,k,h,u,f){var m=q,d=c(k),j=c(h),p=function(){j.animate(m.animIn||{opacity:1},m.speed,m.easeIn||m.easing,f)};j.css(m.cssBefore||{}),d.animate(m.animOut||{},m.speed,m.easeOut||m.easing,function(){d.css(m.cssAfter||{}),m.sync||p()}),m.sync&&p()},queueTransition:function(f,d){var j=this.opts(),h=void 0!==d?d:f.timeout;return 0===j.nextSlide&&0===--j.loop?(j.API.log("terminating; loop=0"),j.timeout=0,h?setTimeout(function(){j.API.trigger("cycle-finished",[j])},h):j.API.trigger("cycle-finished",[j]),j.nextSlide=j.currSlide,void 0):(h&&(j._lastQueue=c.now(),void 0===d&&(j._remainingTimeout=f.timeout),j.paused||j.hoverPaused||(j.timeoutId=setTimeout(function(){j.API.prepareTx(!1,!j.reverse)},h))),void 0)},stopTransition:function(){var d=this.opts();d.slides.filter(":animated").length&&(d.slides.stop(!1,!0),d.API.trigger("cycle-transition-stopped",[d])),d._tx&&d._tx.stopTransition&&d._tx.stopTransition(d)},advanceSlide:function(f){var d=this.opts();return clearTimeout(d.timeoutId),d.timeoutId=0,d.nextSlide=d.currSlide+f,0>d.nextSlide?d.nextSlide=d.slides.length-1:d.nextSlide>=d.slides.length&&(d.nextSlide=0),d.API.prepareTx(!0,f>=0),!1},buildSlideOpts:function(f){var p,h,k=this.opts(),m=f.data()||{};for(var j in m){m.hasOwnProperty(j)&&/^cycle[A-Z]+/.test(j)&&(p=m[j],h=j.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),k.API.log("["+(k.slideCount-1)+"]",h+":",p,"("+typeof p+")"),m[h]=p)}m=c.extend({},c.fn.cycle.defaults,k,m),m.slideNum=k.slideCount;try{delete m.API,delete m.slideCount,delete m.currSlide,delete m.nextSlide,delete m.slides}catch(d){}return m},getSlideOpts:function(f){var d=this.opts();void 0===f&&(f=d.currSlide);var j=d.slides[f],h=c(j).data("cycle.opts");return c.extend({},d,h)},initSlide:function(f,d,j){var h=this.opts();d.css(f.slideCss||{}),j>0&&d.css("zIndex",j),isNaN(f.speed)&&(f.speed=c.fx.speeds[f.speed]||c.fx.speeds._default),f.sync||(f.speed=f.speed/2),d.addClass(h.slideClass)},updateView:function(h){var f=this.opts();if(f._initialized){var d=f.API.getSlideOpts(),j=f.slides[f.currSlide];!h&&(f.API.trigger("cycle-update-view-before",[f,d,j]),0>f.updateView)||(f.slideActiveClass&&f.slides.removeClass(f.slideActiveClass).eq(f.currSlide).addClass(f.slideActiveClass),h&&f.hideNonActive&&f.slides.filter(":not(."+f.slideActiveClass+")").hide(),f.API.trigger("cycle-update-view",[f,d,j,h]),f.API.trigger("cycle-update-view-after",[f,d,j]))}},getComponent:function(f){var d=this.opts(),h=d[f];return"string"==typeof h?/^\s*[\>|\+|~]/.test(h)?d.container.find(h):c(h):h.jquery?h:c(h)},stackSlides:function(f,d,m){var h=this.opts();f||(f=h.slides[h.currSlide],d=h.slides[h.nextSlide],m=!h.reverse),c(f).css("zIndex",h.maxZ);var k,l=h.maxZ-2,j=h.slideCount;if(m){for(k=h.currSlide+1;j>k;k++){c(h.slides[k]).css("zIndex",l--)}for(k=0;h.currSlide>k;k++){c(h.slides[k]).css("zIndex",l--)}}else{for(k=h.currSlide-1;k>=0;k--){c(h.slides[k]).css("zIndex",l--)}for(k=j-1;k>h.currSlide;k--){c(h.slides[k]).css("zIndex",l--)}}c(d).css("zIndex",h.maxZ-1)},getSlideIndex:function(d){return this.opts().slides.index(d)}},c.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},c.fn.cycle.version=function(){return"Cycle2: "+a},c.fn.cycle.transitions={custom:{},none:{before:function(h,f,d,j){h.API.stackSlides(d,f,j),h.cssBefore={opacity:1,display:"block"}}},fade:{before:function(f,d,k,h){var j=f.API.getSlideOpts(f.nextSlide).slideCss||{};f.API.stackSlides(d,k,h),f.cssBefore=c.extend(j,{opacity:0,display:"block"}),f.animIn={opacity:1},f.animOut={opacity:0}}},fadeout:{before:function(f,d,k,h){var j=f.API.getSlideOpts(f.nextSlide).slideCss||{};f.API.stackSlides(d,k,h),f.cssBefore=c.extend(j,{opacity:1,display:"block"}),f.animOut={opacity:0}}},scrollHorz:{before:function(j,f,d,k){j.API.stackSlides(f,d,k);var h=j.container.css("overflow","hidden").width();j.cssBefore={left:k?h:-h,top:0,opacity:1,display:"block"},j.cssAfter={zIndex:j._maxZ-2,left:0},j.animIn={left:0},j.animOut={left:k?-h:h}}}},c.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4000,updateView:-1},c(document).ready(function(){c(c.fn.cycle.defaults.autoSelector).cycle()})})(jQuery),function(d){function b(h,m){var i,k,l,j=m.autoHeight;if("container"==j){k=d(m.slides[m.currSlide]).outerHeight(),m.container.height(k)}else{if(m._autoHeightRatio){m.container.height(m.container.width()/m._autoHeightRatio)}else{if("calc"===j||"number"==d.type(j)&&j>=0){if(l="calc"===j?a(h,m):j>=m.slides.length?0:j,l==m._sentinelIndex){return}m._sentinelIndex=l,m._sentinel&&m._sentinel.remove(),i=d(m.slides[l].cloneNode(!0)),i.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),i.css({position:"static",visibility:"hidden",display:"block"}).prependTo(m.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),i.find("*").css("visibility","hidden"),m._sentinel=i}}}}function a(j,h){var l=0,k=-1;return h.slides.each(function(n){var m=d(this).height();m>k&&(k=m,l=n)}),l}function f(j,h,p,k){var l=d(k).outerHeight(),m=h.sync?h.speed/2:h.speed;h.container.animate({height:l},m)}function c(h,j){j._autoHeightOnResize&&(d(window).off("resize orientationchange",j._autoHeightOnResize),j._autoHeightOnResize=null),j.container.off("cycle-slide-added cycle-slide-removed",b),j.container.off("cycle-destroyed",c),j.container.off("cycle-before",f),j._sentinel&&(j._sentinel.remove(),j._sentinel=null)}d.extend(d.fn.cycle.defaults,{autoHeight:0}),d(document).on("cycle-initialized",function(k,p){function q(){b(k,p)}var m,j=p.autoHeight,h=d.type(j),n=null;("string"===h||"number"===h)&&(p.container.on("cycle-slide-added cycle-slide-removed",b),p.container.on("cycle-destroyed",c),"container"==j?p.container.on("cycle-before",f):"string"===h&&/\d+\:\d+/.test(j)&&(m=j.match(/(\d+)\:(\d+)/),m=m[1]/m[2],p._autoHeightRatio=m),"number"!==h&&(p._autoHeightOnResize=function(){clearTimeout(n),n=setTimeout(q,50)},d(window).on("resize orientationchange",p._autoHeightOnResize)),setTimeout(q,30))})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),a(document).on("cycle-update-view",function(c,b,f,d){"caption"===b.captionModule&&a.each(["caption","overlay"],function(){var i=this,h=f[i+"Template"],j=b.API.getComponent(i);j.length&&h?(j.html(b.API.tmpl(h,f,b,d)),j.show()):j.hide()})}),a(document).on("cycle-destroyed",function(c,b){var d;a.each(["caption","overlay"],function(){var h=this,f=b[h+"Template"];b[h]&&f&&(d=b.API.getComponent("caption"),d.empty())})})}(jQuery),function(b){var a=b.fn.cycle;b.fn.cycle=function(d){var k,f,h,j=b.makeArray(arguments);return"number"==b.type(d)?this.cycle("goto",d):"string"==b.type(d)?this.each(function(){var c;return k=d,h=b(this).data("cycle.opts"),void 0===h?(a.log('slideshow must be initialized before sending commands; "'+k+'" ignored'),void 0):(k="goto"==k?"jump":k,f=h.API[k],b.isFunction(f)?(c=b.makeArray(j),c.shift(),f.apply(h.API,c)):(a.log("unknown command: ",k),void 0))}):a.apply(this,arguments)},b.extend(b.fn.cycle,a),b.extend(a.API,{next:function(){var d=this.opts();if(!d.busy||d.manualTrump){var c=d.reverse?-1:1;d.allowWrap===!1&&d.currSlide+c>=d.slideCount||(d.API.advanceSlide(c),d.API.trigger("cycle-next",[d]).log("cycle-next"))}},prev:function(){var d=this.opts();if(!d.busy||d.manualTrump){var c=d.reverse?1:-1;d.allowWrap===!1&&0>d.currSlide+c||(d.API.advanceSlide(c),d.API.trigger("cycle-prev",[d]).log("cycle-prev"))}},destroy:function(){this.stop();var d=this.opts(),c=b.isFunction(b._data)?b._data:b.noop;clearTimeout(d.timeoutId),d.timeoutId=0,d.API.stop(),d.API.trigger("cycle-destroyed",[d]).log("cycle-destroyed"),d.container.removeData(),c(d.container[0],"parsedAttrs",!1),d.retainStylesOnDestroy||(d.container.removeAttr("style"),d.slides.removeAttr("style"),d.slides.removeClass("cycle-slide-active")),d.slides.each(function(){b(this).removeData(),c(this,"parsedAttrs",!1)})},jump:function(f){var d,c=this.opts();if(!c.busy||c.manualTrump){var h=parseInt(f,10);if(isNaN(h)||0>h||h>=c.slides.length){return c.API.log("goto: invalid slide index: "+h),void 0}if(h==c.currSlide){return c.API.log("goto: skipping, already on slide",h),void 0}c.nextSlide=h,clearTimeout(c.timeoutId),c.timeoutId=0,c.API.log("goto: ",h," (zero-index)"),d=c.currSlide<c.nextSlide,c.API.prepareTx(!0,d)}},stop:function(){var d=this.opts(),c=d.container;clearTimeout(d.timeoutId),d.timeoutId=0,d.API.stopTransition(),d.pauseOnHover&&(d.pauseOnHover!==!0&&(c=b(d.pauseOnHover)),c.off("mouseenter mouseleave")),d.API.trigger("cycle-stopped",[d]).log("cycle-stopped")},reinit:function(){var c=this.opts();c.API.destroy(),c.container.cycle()},remove:function(f){for(var d,m,h=this.opts(),k=[],l=1,j=0;h.slides.length>j;j++){d=h.slides[j],j==f?m=d:(k.push(d),b(d).data("cycle.opts").slideNum=l,l++)}m&&(h.slides=b(k),h.slideCount--,b(m).remove(),f==h.currSlide&&h.API.advanceSlide(1),h.API.trigger("cycle-slide-removed",[h,f,m]).log("cycle-slide-removed"),h.API.updateView())}}),b(document).on("click.cycle","[data-cycle-cmd]",function(d){d.preventDefault();var c=b(this),h=c.data("cycle-cmd"),f=c.data("cycle-context")||".cycle-slideshow";b(f).cycle(h,c.data("cycle-arg"))})}(jQuery),function(b){function a(d,c){var f;return d._hashFence?(d._hashFence=!1,void 0):(f=window.location.hash.substring(1),d.slides.each(function(h){return b(this).data("cycle-hash")==f?(c===!0?d.startingSlide=h:(d.nextSlide=h,d.API.prepareTx(!0,!1)),!1):void 0}),void 0)}b(document).on("cycle-pre-initialize",function(c,d){a(d,!0),d._onHashChange=function(){a(d,!1)},b(window).on("hashchange",d._onHashChange)}),b(document).on("cycle-update-view",function(f,d,c){c.hash&&(d._hashFence=!0,window.location.hash=c.hash)}),b(document).on("cycle-destroyed",function(d,c){c._onHashChange&&b(window).off("hashchange",c._onHashChange)})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{loader:!1}),a(document).on("cycle-bootstrap",function(c,b){function f(j,q){function m(l){var n;"wait"==b.loader?(k.push(l),0===h&&(k.sort(p),d.apply(b.API,[k,q]),b.container.removeClass("cycle-loading"))):(n=a(b.slides[b.currSlide]),d.apply(b.API,[l,q]),n.show(),b.container.removeClass("cycle-loading"))}function p(n,l){return n.data("index")-l.data("index")}var k=[];if("string"==a.type(j)){j=a.trim(j)}else{if("array"===a.type(j)){for(var i=0;j.length>i;i++){j[i]=a(j[i])[0]}}}j=a(j);var h=j.length;h&&(j.hide().appendTo("body").each(function(r){function v(){0===--n&&(--h,m(s))}var n=0,s=a(this),o=s.is("img")?s:s.find("img");return s.data("index",r),o=o.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),o.length?(n=o.length,o.each(function(){this.complete?v():a(this).load(function(){v()}).error(function(){0===--n&&(b.API.log("slide skipped; img not loaded:",this.src),0===--h&&"wait"==b.loader&&d.apply(b.API,[k,q]))})}),void 0):(--h,k.push(s),void 0)}),h&&b.container.addClass("cycle-loading"))}var d;b.loader&&(d=b.API.add,b.API.add=f)})}(jQuery),function(c){function b(f,d,k){var h,j=f.API.getComponent("pager");j.each(function(){var i=c(this);if(d.pagerTemplate){var l=f.API.tmpl(d.pagerTemplate,d,f,k[0]);h=c(l).appendTo(i)}else{h=i.children().eq(f.slideCount-1)}h.on(f.pagerEvent,function(m){m.preventDefault(),f.API.page(i,m.currentTarget)})})}function a(j,f){var d=this.opts();if(!d.busy||d.manualTrump){var l=j.children().index(f),h=l,k=h>d.currSlide;d.currSlide!=h&&(d.nextSlide=h,d.API.prepareTx(!0,k),d.API.trigger("cycle-pager-activated",[d,j,f]))}}c.extend(c.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerTemplate:"<span>&bull;</span>"}),c(document).on("cycle-bootstrap",function(f,d,h){h.buildPagerLink=b}),c(document).on("cycle-slide-added",function(h,d,i,f){d.pager&&(d.API.buildPagerLink(d,i,f),d.API.page=a)}),c(document).on("cycle-slide-removed",function(f,d,j){if(d.pager){var h=d.API.getComponent("pager");h.each(function(){var i=c(this);c(i.children()[j]).remove()})}}),c(document).on("cycle-update-view",function(f,d){var h;d.pager&&(h=d.API.getComponent("pager"),h.each(function(){c(this).children().removeClass(d.pagerActiveClass).eq(d.currSlide).addClass(d.pagerActiveClass)}))}),c(document).on("cycle-destroyed",function(h,f){var d=f.API.getComponent("pager");d&&(d.children().off(f.pagerEvent),f.pagerTemplate&&d.empty())})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),a(document).on("cycle-initialized",function(d,c){if(c.API.getComponent("next").on(c.nextEvent,function(h){h.preventDefault(),c.API.next()}),c.API.getComponent("prev").on(c.prevEvent,function(h){h.preventDefault(),c.API.prev()}),c.swipe){var b=c.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",f=c.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";c.container.on(b,function(){c.API.next()}),c.container.on(f,function(){c.API.prev()})}}),a(document).on("cycle-update-view",function(h,d){if(!d.allowWrap){var b=d.disabledClass,l=d.API.getComponent("next"),f=d.API.getComponent("prev"),j=d._prevBoundry||0,k=d._nextBoundry||d.slideCount-1;d.currSlide==k?l.addClass(b).prop("disabled",!0):l.removeClass(b).prop("disabled",!1),d.currSlide===j?f.addClass(b).prop("disabled",!0):f.removeClass(b).prop("disabled",!1)}}),a(document).on("cycle-destroyed",function(c,b){b.API.getComponent("prev").off(b.nextEvent),b.API.getComponent("next").off(b.prevEvent),b.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{progressive:!1}),a(document).on("cycle-pre-initialize",function(u,k){if(k.progressive){var h,v,f=k.API,p=f.next,b=f.prev,j=f.prepareTx,q=a.type(k.progressive);if("array"==q){h=k.progressive}else{if(a.isFunction(k.progressive)){h=k.progressive(k)}else{if("string"==q){if(v=a(k.progressive),h=a.trim(v.html()),!h){return}if(/^(\[)/.test(h)){try{h=a.parseJSON(h)}catch(m){return f.log("error parsing progressive slides",m),void 0}}else{h=h.split(RegExp(v.data("cycle-split")||"\n")),h[h.length-1]||h.pop()}}}}j&&(f.prepareTx=function(i,c){var d,l;return i||0===h.length?(j.apply(k.API,[i,c]),void 0):(c&&k.currSlide==k.slideCount-1?(l=h[0],h=h.slice(1),k.container.one("cycle-slide-added",function(o,n){setTimeout(function(){n.API.advanceSlide(1)},50)}),k.API.add(l)):c||0!==k.currSlide?j.apply(k.API,[i,c]):(d=h.length-1,l=h[d],h=h.slice(0,d),k.container.one("cycle-slide-added",function(o,n){setTimeout(function(){n.currSlide=1,n.API.advanceSlide(-1)},50)}),k.API.add(l,!0)),void 0)}),p&&(f.next=function(){var d=this.opts();if(h.length&&d.currSlide==d.slideCount-1){var c=h[0];h=h.slice(1),d.container.one("cycle-slide-added",function(l,i){p.apply(i.API),i.container.removeClass("cycle-loading")}),d.container.addClass("cycle-loading"),d.API.add(c)}else{p.apply(d.API)}}),b&&(f.prev=function(){var l=this.opts();if(h.length&&0===l.currSlide){var d=h.length-1,c=h[d];h=h.slice(0,d),l.container.one("cycle-slide-added",function(n,i){i.currSlide=1,i.API.advanceSlide(-1),i.container.removeClass("cycle-loading")}),l.container.addClass("cycle-loading"),l.API.add(c,!0)}else{b.apply(l.API)}})}})}(jQuery),function(a){a.extend(a.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),a.extend(a.fn.cycle.API,{tmpl:function(c,b){var f=RegExp(b.tmplRegex||a.fn.cycle.defaults.tmplRegex,"g"),d=a.makeArray(arguments);return d.shift(),c.replace(f,function(k,j){var s,p,q,m,h=j.split(".");for(s=0;d.length>s;s++){if(q=d[s]){if(h.length>1){for(m=q,p=0;h.length>p;p++){q=m,m=m[h[p]]||j}}else{m=q[j]}if(a.isFunction(m)){return m.apply(q,d)}if(void 0!==m&&null!==m&&m!=j){return m}}}return j})}})}(jQuery);
/*! carousel transition plugin for Cycle2;  version: 20130528 */
(function(a){a(document).on("cycle-bootstrap",function(d,c,b){if(c.fx!=="carousel"){return}b.getSlideIndex=function(j){var h=this.opts()._carouselWrap.children();var f=h.index(j);return f%h.length};b.next=function(){var f=c.reverse?-1:1;if(c.allowWrap===false&&(c.currSlide+f)>c.slideCount-c.carouselVisible){return}c.API.advanceSlide(f);c.API.trigger("cycle-next",[c]).log("cycle-next")}});a.fn.cycle.transitions.carousel={preInit:function(c){c.hideNonActive=false;c.container.on("cycle-destroyed",a.proxy(this.onDestroy,c.API));c.API.stopTransition=this.stopTransition;for(var b=0;b<c.startingSlide;b++){c.container.append(c.slides[0])}},postInit:function(b){var k,h,m,n,c;var l=b.carouselVertical;if(b.carouselVisible&&b.carouselVisible>b.slideCount){b.carouselVisible=b.slideCount-1}var f=b.carouselVisible||b.slides.length;var d={display:l?"block":"inline-block",position:"static"};b.container.css({position:"relative",overflow:"hidden"});b.slides.css(d);b._currSlide=b.currSlide;c=a('<div class="cycle-carousel-wrap"></div>').prependTo(b.container).css({margin:0,padding:0,top:0,left:0,position:"absolute"}).append(b.slides);b._carouselWrap=c;if(!l){c.css("white-space","nowrap")}if(b.allowWrap!==false){for(h=0;h<(b.carouselVisible===undefined?2:1);h++){for(k=0;k<b.slideCount;k++){c.append(b.slides[k].cloneNode(true))}k=b.slideCount;while(k--){c.prepend(b.slides[k].cloneNode(true))}}c.find(".cycle-slide-active").removeClass("cycle-slide-active");b.slides.eq(b.startingSlide).addClass("cycle-slide-active")}if(b.pager&&b.allowWrap===false){n=b.slideCount-f;a(b.pager).children().filter(":gt("+n+")").hide()}b._nextBoundry=b.slideCount-b.carouselVisible;this.prepareDimensions(b)},prepareDimensions:function(h){var k,l,c,f;var b=h.carouselVertical;var i=h.carouselVisible||h.slides.length;if(h.carouselFluid&&h.carouselVisible){if(!h._carouselResizeThrottle){this.fluidSlides(h)}}else{if(h.carouselVisible&&h.carouselSlideDimension){k=i*h.carouselSlideDimension;h.container[b?"height":"width"](k)}else{if(h.carouselVisible){k=i*a(h.slides[0])[b?"outerHeight":"outerWidth"](true);h.container[b?"height":"width"](k)}}}l=(h.carouselOffset||0);if(h.allowWrap!==false){if(h.carouselSlideDimension){l-=((h.slideCount+h.currSlide)*h.carouselSlideDimension)}else{f=h._carouselWrap.children();for(var d=0;d<(h.slideCount+h.currSlide);d++){l-=a(f[d])[b?"outerHeight":"outerWidth"](true)}}}h._carouselWrap.css(b?"top":"left",l)},fluidSlides:function(h){var i;var b=h.slides.eq(0);var d=b.outerWidth()-b.width();var j=this.prepareDimensions;a(window).on("resize",c);h._carouselResizeThrottle=c;f();function c(){clearTimeout(i);i=setTimeout(f,20)}function f(){h._carouselWrap.stop(false,true);var k=h.container.width()/h.carouselVisible;k=Math.ceil(k-d);h._carouselWrap.children().width(k);if(h._sentinel){h._sentinel.width(k)}j(h)}},transition:function(b,o,i,f,m){var k,j={};var c=b.nextSlide-b.currSlide;var h=b.carouselVertical;var d=b.speed;if(b.allowWrap===false){f=c>0;var n=b._currSlide;var l=b.slideCount-b.carouselVisible;if(c>0&&b.nextSlide>l&&n==l){c=0}else{if(c>0&&b.nextSlide>l){c=b.nextSlide-n-(b.nextSlide-l)}else{if(c<0&&b.currSlide>l&&b.nextSlide>l){c=0}else{if(c<0&&b.currSlide>l){c+=b.currSlide-l}else{n=b.currSlide}}}}k=this.getScroll(b,h,n,c);b.API.opts()._currSlide=b.nextSlide>l?l:b.nextSlide}else{if(f&&b.nextSlide===0){k=this.getDim(b,b.currSlide,h);m=this.genCallback(b,f,h,m)}else{if(!f&&b.nextSlide==b.slideCount-1){k=this.getDim(b,b.currSlide,h);m=this.genCallback(b,f,h,m)}else{k=this.getScroll(b,h,b.currSlide,c)}}}j[h?"top":"left"]=f?("-="+k):("+="+k);if(b.throttleSpeed){d=(k/a(b.slides[0])[h?"height":"width"]())*b.speed}b._carouselWrap.animate(j,d,b.easing,m)},getDim:function(f,d,c){var b=a(f.slides[d]);return b[c?"outerHeight":"outerWidth"](true)},getScroll:function(h,c,f,b){var d,j=0;if(b>0){for(d=f;d<f+b;d++){j+=this.getDim(h,d,c)}}else{for(d=f;d>f+b;d--){j+=this.getDim(h,d,c)}}return j},genCallback:function(d,c,b,f){return function(){var i=a(d.slides[d.nextSlide]).position();var h=0-i[b?"top":"left"]+(d.carouselOffset||0);d._carouselWrap.css(d.carouselVertical?"top":"left",h);f()}},stopTransition:function(){var b=this.opts();b.slides.stop(false,true);b._carouselWrap.stop(false,true)},onDestroy:function(c){var b=this.opts();if(b._carouselResizeThrottle){a(window).off("resize",b._carouselResizeThrottle)}b.slides.prependTo(b.container);b._carouselWrap.remove()}}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(f,h,a,j,i){return jQuery.easing[jQuery.easing.def](f,h,a,j,i)},easeInQuad:function(f,h,a,j,i){return j*(h/=i)*h+a},easeOutQuad:function(f,h,a,j,i){return -j*(h/=i)*(h-2)+a},easeInOutQuad:function(f,h,a,j,i){if((h/=i/2)<1){return j/2*h*h+a}return -j/2*((--h)*(h-2)-1)+a},easeInCubic:function(f,h,a,j,i){return j*(h/=i)*h*h+a},easeOutCubic:function(f,h,a,j,i){return j*((h=h/i-1)*h*h+1)+a},easeInOutCubic:function(f,h,a,j,i){if((h/=i/2)<1){return j/2*h*h*h+a}return j/2*((h-=2)*h*h+2)+a},easeInQuart:function(f,h,a,j,i){return j*(h/=i)*h*h*h+a},easeOutQuart:function(f,h,a,j,i){return -j*((h=h/i-1)*h*h*h-1)+a},easeInOutQuart:function(f,h,a,j,i){if((h/=i/2)<1){return j/2*h*h*h*h+a}return -j/2*((h-=2)*h*h*h-2)+a},easeInQuint:function(f,h,a,j,i){return j*(h/=i)*h*h*h*h+a},easeOutQuint:function(f,h,a,j,i){return j*((h=h/i-1)*h*h*h*h+1)+a},easeInOutQuint:function(f,h,a,j,i){if((h/=i/2)<1){return j/2*h*h*h*h*h+a}return j/2*((h-=2)*h*h*h*h+2)+a},easeInSine:function(f,h,a,j,i){return -j*Math.cos(h/i*(Math.PI/2))+j+a},easeOutSine:function(f,h,a,j,i){return j*Math.sin(h/i*(Math.PI/2))+a},easeInOutSine:function(f,h,a,j,i){return -j/2*(Math.cos(Math.PI*h/i)-1)+a},easeInExpo:function(f,h,a,j,i){return(h==0)?a:j*Math.pow(2,10*(h/i-1))+a},easeOutExpo:function(f,h,a,j,i){return(h==i)?a+j:j*(-Math.pow(2,-10*h/i)+1)+a},easeInOutExpo:function(f,h,a,j,i){if(h==0){return a}if(h==i){return a+j}if((h/=i/2)<1){return j/2*Math.pow(2,10*(h-1))+a}return j/2*(-Math.pow(2,-10*--h)+2)+a},easeInCirc:function(f,h,a,j,i){return -j*(Math.sqrt(1-(h/=i)*h)-1)+a},easeOutCirc:function(f,h,a,j,i){return j*Math.sqrt(1-(h=h/i-1)*h)+a},easeInOutCirc:function(f,h,a,j,i){if((h/=i/2)<1){return -j/2*(Math.sqrt(1-h*h)-1)+a}return j/2*(Math.sqrt(1-(h-=2)*h)+1)+a},easeInElastic:function(h,j,f,n,m){var k=1.70158;var l=0;var i=n;if(j==0){return f}if((j/=m)==1){return f+n}if(!l){l=m*0.3}if(i<Math.abs(n)){i=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/i)}return -(i*Math.pow(2,10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l))+f},easeOutElastic:function(h,j,f,n,m){var k=1.70158;var l=0;var i=n;if(j==0){return f}if((j/=m)==1){return f+n}if(!l){l=m*0.3}if(i<Math.abs(n)){i=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/i)}return i*Math.pow(2,-10*j)*Math.sin((j*m-k)*(2*Math.PI)/l)+n+f},easeInOutElastic:function(h,j,f,n,m){var k=1.70158;var l=0;var i=n;if(j==0){return f}if((j/=m/2)==2){return f+n}if(!l){l=m*(0.3*1.5)}if(i<Math.abs(n)){i=n;var k=l/4}else{var k=l/(2*Math.PI)*Math.asin(n/i)}if(j<1){return -0.5*(i*Math.pow(2,10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l))+f}return i*Math.pow(2,-10*(j-=1))*Math.sin((j*m-k)*(2*Math.PI)/l)*0.5+n+f},easeInBack:function(f,h,a,k,j,i){if(i==undefined){i=1.70158}return k*(h/=j)*h*((i+1)*h-i)+a},easeOutBack:function(f,h,a,k,j,i){if(i==undefined){i=1.70158}return k*((h=h/j-1)*h*((i+1)*h+i)+1)+a},easeInOutBack:function(f,h,a,k,j,i){if(i==undefined){i=1.70158}if((h/=j/2)<1){return k/2*(h*h*(((i*=(1.525))+1)*h-i))+a}return k/2*((h-=2)*h*(((i*=(1.525))+1)*h+i)+2)+a},easeInBounce:function(f,h,a,j,i){return j-jQuery.easing.easeOutBounce(f,i-h,0,j,i)+a},easeOutBounce:function(f,h,a,j,i){if((h/=i)<(1/2.75)){return j*(7.5625*h*h)+a}else{if(h<(2/2.75)){return j*(7.5625*(h-=(1.5/2.75))*h+0.75)+a}else{if(h<(2.5/2.75)){return j*(7.5625*(h-=(2.25/2.75))*h+0.9375)+a}else{return j*(7.5625*(h-=(2.625/2.75))*h+0.984375)+a}}}},easeInOutBounce:function(f,h,a,j,i){if(h<i/2){return jQuery.easing.easeInBounce(f,h*2,0,j,i)*0.5+a}return jQuery.easing.easeOutBounce(f,h*2-i,0,j,i)*0.5+j*0.5+a}});(function(a){a.easytabs=function(l,f){var h=this,s=a(l),k={animate:true,panelActiveClass:"active",tabActiveClass:"active",defaultTab:"li:first-child",animationSpeed:"normal",tabs:"> ul > li",updateHash:true,cycle:false,collapsible:false,collapsedClass:"collapsed",collapsedByDefault:true,uiTabs:false,transitionIn:"fadeIn",transitionOut:"fadeOut",transitionInEasing:"swing",transitionOutEasing:"swing",transitionCollapse:"slideUp",transitionUncollapse:"slideDown",transitionCollapseEasing:"swing",transitionUncollapseEasing:"swing",containerClass:"",tabsClass:"",tabClass:"",panelClass:"",cache:true,event:"click",panelContext:s},j,n,y,o,d,v={fast:200,normal:400,slow:600},t;h.init=function(){h.settings=t=a.extend({},k,f);t.bind_str=t.event+".easytabs";if(t.uiTabs){t.tabActiveClass="ui-tabs-selected";t.containerClass="ui-tabs ui-widget ui-widget-content ui-corner-all";t.tabsClass="ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all";t.tabClass="ui-state-default ui-corner-top";t.panelClass="ui-tabs-panel ui-widget-content ui-corner-bottom"}if(t.collapsible&&f.defaultTab!==undefined&&f.collpasedByDefault===undefined){t.collapsedByDefault=false}if(typeof(t.animationSpeed)==="string"){t.animationSpeed=v[t.animationSpeed]}a("a.anchor").remove().prependTo("body");s.data("easytabs",{});h.setTransitions();h.getTabs();b();i();z();p();c();s.attr("data-easytabs",true)};h.setTransitions=function(){y=(t.animate)?{show:t.transitionIn,hide:t.transitionOut,speed:t.animationSpeed,collapse:t.transitionCollapse,uncollapse:t.transitionUncollapse,halfSpeed:t.animationSpeed/2}:{show:"show",hide:"hide",speed:0,collapse:"hide",uncollapse:"show",halfSpeed:0}};h.getTabs=function(){var A;h.tabs=s.find(t.tabs),h.panels=a(),h.tabs.each(function(){var D=a(this),C=D.children("a"),B=D.children("a").data("target");D.data("easytabs",{});if(B!==undefined&&B!==null){D.data("easytabs").ajax=C.attr("href")}else{B=C.attr("href")}B=B.match(/#([^\?]+)/)[1];A=t.panelContext.find("#"+B);if(A.length){A.data("easytabs",{position:A.css("position"),visibility:A.css("visibility")});A.not(t.panelActiveClass).hide();h.panels=h.panels.add(A);D.data("easytabs").panel=A}else{h.tabs=h.tabs.not(D);if("console" in window){console.warn("Warning: tab without matching panel for selector '#"+B+"' removed from set")}}})};h.selectTab=function(A,F){var B=window.location,E=B.hash.match(/^[^\?]*/)[0],C=A.parent().data("easytabs").panel,D=A.parent().data("easytabs").ajax;if(t.collapsible&&!d&&(A.hasClass(t.tabActiveClass)||A.hasClass(t.collapsedClass))){h.toggleTabCollapse(A,C,D,F)}else{if(!A.hasClass(t.tabActiveClass)||!C.hasClass(t.panelActiveClass)){q(A,C,D,F)}else{if(!t.cache){q(A,C,D,F)}}}};h.toggleTabCollapse=function(A,B,C,D){h.panels.stop(true,true);if(x(s,"easytabs:before",[A,B,t])){h.tabs.filter("."+t.tabActiveClass).removeClass(t.tabActiveClass).children().removeClass(t.tabActiveClass);if(A.hasClass(t.collapsedClass)){if(C&&(!t.cache||!A.parent().data("easytabs").cached)){s.trigger("easytabs:ajax:beforeSend",[A,B]);B.load(C,function(F,E,G){A.parent().data("easytabs").cached=true;s.trigger("easytabs:ajax:complete",[A,B,F,E,G])})}A.parent().removeClass(t.collapsedClass).addClass(t.tabActiveClass).children().removeClass(t.collapsedClass).addClass(t.tabActiveClass);B.addClass(t.panelActiveClass)[y.uncollapse](y.speed,t.transitionUncollapseEasing,function(){s.trigger("easytabs:midTransition",[A,B,t]);if(typeof D=="function"){D()}})}else{A.addClass(t.collapsedClass).parent().addClass(t.collapsedClass);B.removeClass(t.panelActiveClass)[y.collapse](y.speed,t.transitionCollapseEasing,function(){s.trigger("easytabs:midTransition",[A,B,t]);if(typeof D=="function"){D()}})}}};h.matchTab=function(A){return h.tabs.find("[href='"+A+"'],[data-target='"+A+"']").first()};h.matchInPanel=function(A){return(A&&h.validId(A)?h.panels.filter(":has("+A+")").first():[])};h.validId=function(A){return A.substr(1).match(/^[A-Za-z]+[A-Za-z0-9\-_:\.].$/)};h.selectTabFromHashChange=function(){var B=window.location.hash.match(/^[^\?]*/)[0],A=h.matchTab(B),C;if(t.updateHash){if(A.length){d=true;h.selectTab(A)}else{C=h.matchInPanel(B);if(C.length){B="#"+C.attr("id");A=h.matchTab(B);d=true;h.selectTab(A)}else{if(!j.hasClass(t.tabActiveClass)&&!t.cycle){if(B===""||h.matchTab(o).length||s.closest(B).length){d=true;h.selectTab(n)}}}}}};h.cycleTabs=function(A){if(t.cycle){A=A%h.tabs.length;$tab=a(h.tabs[A]).children("a").first();d=true;h.selectTab($tab,function(){setTimeout(function(){h.cycleTabs(A+1)},t.cycle)})}};h.publicMethods={select:function(A){var B;if((B=h.tabs.filter(A)).length===0){if((B=h.tabs.find("a[href='"+A+"']")).length===0){if((B=h.tabs.find("a"+A)).length===0){if((B=h.tabs.find("[data-target='"+A+"']")).length===0){if((B=h.tabs.find("a[href$='"+A+"']")).length===0){a.error("Tab '"+A+"' does not exist in tab set")}}}}}else{B=B.children("a").first()}h.selectTab(B)}};var x=function(D,A,C){var B=a.Event(A);D.trigger(B,C);return B.result!==false};var b=function(){s.addClass(t.containerClass);h.tabs.parent().addClass(t.tabsClass);h.tabs.addClass(t.tabClass);h.panels.addClass(t.panelClass)};var i=function(){var B=window.location.hash.match(/^[^\?]*/)[0],A=h.matchTab(B).parent(),C;if(A.length===1){j=A;t.cycle=false}else{C=h.matchInPanel(B);if(C.length){B="#"+C.attr("id");j=h.matchTab(B).parent()}else{j=h.tabs.parent().find(t.defaultTab);if(j.length===0){a.error("The specified default tab ('"+t.defaultTab+"') could not be found in the tab set ('"+t.tabs+"') out of "+h.tabs.length+" tabs.")}}}n=j.children("a").first();r(A)};var r=function(C){var B,A;if(t.collapsible&&C.length===0&&t.collapsedByDefault){j.addClass(t.collapsedClass).children().addClass(t.collapsedClass)}else{B=a(j.data("easytabs").panel);A=j.data("easytabs").ajax;if(A&&(!t.cache||!j.data("easytabs").cached)){s.trigger("easytabs:ajax:beforeSend",[n,B]);B.load(A,function(E,D,F){j.data("easytabs").cached=true;s.trigger("easytabs:ajax:complete",[n,B,E,D,F])})}j.data("easytabs").panel.show().addClass(t.panelActiveClass);j.addClass(t.tabActiveClass).children().addClass(t.tabActiveClass)}s.trigger("easytabs:initialised",[n,B])};var z=function(){h.tabs.children("a").bind(t.bind_str,function(A){t.cycle=false;d=false;h.selectTab(a(this));A.preventDefault?A.preventDefault():A.returnValue=false})};var q=function(C,G,H,L){h.panels.stop(true,true);if(x(s,"easytabs:before",[C,G,t])){var D=h.panels.filter(":visible"),B=G.parent(),I,A,F,K,E=window.location.hash.match(/^[^\?]*/)[0];if(t.animate){I=u(G);A=D.length?m(D):0;F=I-A}o=E;K=function(){s.trigger("easytabs:midTransition",[C,G,t]);if(t.animate&&t.transitionIn=="fadeIn"){if(F<0){B.animate({height:B.height()+F},y.halfSpeed).css({"min-height":""})}}if(t.updateHash&&!d){window.location.hash="#"+G.attr("id")}else{d=false}G[y.show](y.speed,t.transitionInEasing,function(){B.css({height:"","min-height":""});s.trigger("easytabs:after",[C,G,t]);if(typeof L=="function"){L()}})};if(H&&(!t.cache||!C.parent().data("easytabs").cached)){s.trigger("easytabs:ajax:beforeSend",[C,G]);G.load(H,function(N,M,O){C.parent().data("easytabs").cached=true;s.trigger("easytabs:ajax:complete",[C,G,N,M,O])})}if(t.animate&&t.transitionOut=="fadeOut"){if(F>0){B.animate({height:(B.height()+F)},y.halfSpeed)}else{B.css({"min-height":B.height()})}}h.tabs.filter("."+t.tabActiveClass).removeClass(t.tabActiveClass).children().removeClass(t.tabActiveClass);h.tabs.filter("."+t.collapsedClass).removeClass(t.collapsedClass).children().removeClass(t.collapsedClass);C.parent().addClass(t.tabActiveClass).children().addClass(t.tabActiveClass);h.panels.filter("."+t.panelActiveClass).removeClass(t.panelActiveClass);G.addClass(t.panelActiveClass);if(D.length){D[y.hide](y.speed,t.transitionOutEasing,K)}else{G[y.uncollapse](y.speed,t.transitionUncollapseEasing,K)}}};var u=function(C){if(C.data("easytabs")&&C.data("easytabs").lastHeight){return C.data("easytabs").lastHeight}var E=C.css("display"),B,A;try{B=a("<div></div>",{position:"absolute",visibility:"hidden",overflow:"hidden"})}catch(D){B=a("<div></div>",{visibility:"hidden",overflow:"hidden"})}A=C.wrap(B).css({position:"relative",visibility:"hidden",display:"block"}).outerHeight();C.unwrap();C.css({position:C.data("easytabs").position,visibility:C.data("easytabs").visibility,display:E});C.data("easytabs").lastHeight=A;return A};var m=function(B){var A=B.outerHeight();if(B.data("easytabs")){B.data("easytabs").lastHeight=A}else{B.data("easytabs",{lastHeight:A})}return A};var p=function(){if(typeof a(window).hashchange==="function"){a(window).hashchange(function(){h.selectTabFromHashChange()})}else{if(a.address&&typeof a.address.change==="function"){a.address.change(function(){h.selectTabFromHashChange()})}}};var c=function(){var A;if(t.cycle){A=h.tabs.index(j);setTimeout(function(){h.cycleTabs(A+1)},t.cycle)}};h.init()};a.fn.easytabs=function(c){var b=arguments;return this.each(function(){var f=a(this),d=f.data("easytabs");if(undefined===d){d=new a.easytabs(this,c);f.data("easytabs",d)}if(d.publicMethods[c]){return d.publicMethods[c](Array.prototype.slice.call(b,1))}})}})(jQuery);(function(d,f,h){var a=f.event,c;a.special.smartresize={setup:function(){f(this).bind("resize",a.special.smartresize.handler)},teardown:function(){f(this).unbind("resize",a.special.smartresize.handler)},handler:function(l,i){var k=this,j=arguments;l.type="smartresize";if(c){clearTimeout(c)}c=setTimeout(function(){jQuery.event.handle.apply(k,j)},i==="execAsap"?0:100)}};f.fn.smartresize=function(i){return i?this.bind("smartresize",i):this.trigger("smartresize",["execAsap"])};f.Slideshow=function(i,j){this.$el=f(j);this.$list=this.$el.find("ul.ei-slider-large");this.$imgItems=this.$list.children("li");this.itemsCount=this.$imgItems.length;this.$images=this.$imgItems.find("img:first");this.$sliderthumbs=this.$el.find("ul.ei-slider-thumbs").hide();this.$sliderElems=this.$sliderthumbs.children("li");this.$sliderElem=this.$sliderthumbs.children("li.ei-slider-element");this.$thumbs=this.$sliderElems.not(".ei-slider-element");this._init(i)};f.Slideshow.defaults={animation:"sides",autoplay:false,slideshow_interval:3000,speed:800,easing:"",titlesFactor:0.6,titlespeed:800,titleeasing:"",thumbMaxWidth:150};f.Slideshow.prototype={_init:function(j){this.options=f.extend(true,{},f.Slideshow.defaults,j);this.$imgItems.css("opacity",0);this.$imgItems.find("div.ei-title > *").css("opacity",0);this.current=0;var i=this;this.$loading=f('<div class="ei-slider-loading">Loading</div>').prependTo(i.$el);f.when(this._preloadImages()).done(function(){i.$loading.hide();i._setImagesSize();i._initThumbs();i.$imgItems.eq(i.current).css({opacity:1,"z-index":10}).show().find("div.ei-title > *").css("opacity",1);if(i.options.autoplay){i._startSlideshow()}i._initEvents()})},_preloadImages:function(){var i=this,j=0;return f.Deferred(function(k){i.$images.each(function(l){f("<img/>").load(function(){if(++j===i.itemsCount){k.resolve()}}).attr("src",f(this).attr("src"))})}).promise()},_setImagesSize:function(){this.elWidth=this.$el.width();var i=this;this.$images.each(function(k){var j=f(this);imgDim=i._getImageDim(j.attr("src"));j.css({width:imgDim.width,height:imgDim.height,marginLeft:imgDim.left,marginTop:imgDim.top})})},_getImageDim:function(i){var j=new Image();j.src=i;var n=this.elWidth,t=this.$el.height(),q=t/n,r=j.width,m=j.height,l=m/r,s,o,p,k;if(q>l){o=t;s=t/l}else{o=n*l;s=n}return{width:s,height:o,left:(n-s)/2,top:(t-o)/2}},_initThumbs:function(){this.$sliderElems.css({"max-width":this.options.thumbMaxWidth+"px",width:100/this.itemsCount+"%"});this.$sliderthumbs.css("max-width",this.options.thumbMaxWidth*this.itemsCount+"px").show()},_startSlideshow:function(){var i=this;this.slideshow=setTimeout(function(){var j;(i.current===i.itemsCount-1)?j=0:j=i.current+1;i._slideTo(j);if(i.options.autoplay){i._startSlideshow()}},this.options.slideshow_interval)},_slideTo:function(n){if(n===this.current||this.isAnimating){return false}this.isAnimating=true;var m=this.$imgItems.eq(this.current),j=this.$imgItems.eq(n),i=this,l={zIndex:10},k={opacity:1};if(this.options.animation==="sides"){l.left=(n>this.current)?-1*this.elWidth:this.elWidth;k.left=0}j.find("div.ei-title > h2").css("margin-left",50+"px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginLeft:0+"px",opacity:1},this.options.titlespeed,this.options.titleeasing).end().find("div.ei-title > h3").css("margin-left",-50+"px").stop().delay(this.options.speed*this.options.titlesFactor).animate({marginLeft:0+"px",opacity:1},this.options.titlespeed,this.options.titleeasing);f.when(m.css("z-index",1).find("div.ei-title > *").stop().fadeOut(this.options.speed/2,function(){f(this).show().css("opacity",0)}),j.css(l).stop().animate(k,this.options.speed,this.options.easing),this.$sliderElem.stop().animate({left:this.$thumbs.eq(n).position().left},this.options.speed)).done(function(){m.css("opacity",0).find("div.ei-title > *").css("opacity",0);i.current=n;i.isAnimating=false})},_initEvents:function(){var i=this;f(d).on("smartresize.eislideshow",function(j){i._setImagesSize();i.$sliderElem.css("left",i.$thumbs.eq(i.current).position().left)});this.$thumbs.on("click.eislideshow",function(k){if(i.options.autoplay){clearTimeout(i.slideshow);i.options.autoplay=false}var l=f(this),j=l.index()-1;i._slideTo(j);return false})}};var b=function(i){if(this.console){console.error(i)}};f.fn.eislideshow=function(j){if(typeof j==="string"){var i=Array.prototype.slice.call(arguments,1);this.each(function(){var k=f.data(this,"eislideshow");if(!k){b("cannot call methods on eislideshow prior to initialization; attempted to call method '"+j+"'");return}if(!f.isFunction(k[j])||j.charAt(0)==="_"){b("no such method '"+j+"' for eislideshow instance");return}k[j].apply(k,i)})}else{this.each(function(){var k=f.data(this,"eislideshow");if(!k){f.data(this,"eislideshow",new f.Slideshow(j,this))}})}return this}})(window,jQuery);(function(p,h,k){var u=p.document;var m=p.Modernizr;var r=function(B){return B.charAt(0).toUpperCase()+B.slice(1)};var x="Moz Webkit O Ms".split(" ");var q=function(F){var E=u.documentElement.style,C;if(typeof E[F]==="string"){return F}F=r(F);for(var D=0,B=x.length;D<B;D++){C=x[D]+F;if(typeof E[C]==="string"){return C}}};var c=q("transform"),y=q("transitionProperty");
/*!
     * Modernizr v1.6ish: miniModernizr for Isotope
     * http://www.modernizr.com
     *
     * Developed by:
     * - Faruk Ates  http://farukat.es/
     * - Paul Irish  http://paulirish.com/
     *
     * Copyright (c) 2009-2010
     * Dual-licensed under the BSD or MIT licenses.
     * http://www.modernizr.com/license/
     */
;var l={csstransforms:function(){return !!c},csstransforms3d:function(){var F=!!q("perspective");if(F){var C=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),E="@media ("+C.join("transform-3d),(")+"modernizr)",D=h("<style>"+E+"{#modernizr{height:3px}}</style>").appendTo("head"),B=h('<div id="modernizr" />').appendTo("html");F=B.height()===3;B.remove();D.remove()}return F},csstransitions:function(){return !!y}};var o;if(m){for(o in l){if(!m.hasOwnProperty(o)){m.addTest(o,l[o])}}}else{m=p.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var A=" ";var s;for(o in l){s=l[o]();m[o]=s;A+=" "+(s?"":"no-")+o}h("html").addClass(A)}if(m.csstransforms){var f=m.csstransforms3d?{translate:function(B){return"translate3d("+B[0]+"px, "+B[1]+"px, 0) "},scale:function(B){return"scale3d("+B+", "+B+", 1) "}}:{translate:function(B){return"translate("+B[0]+"px, "+B[1]+"px) "},scale:function(B){return"scale("+B+") "}};var v=function(E,C,K){var H=h.data(E,"isoTransform")||{},M={},D,F={},I;M[C]=K;h.extend(H,M);for(D in H){I=H[D];F[D]=f[D](I)}var G=F.translate||"",L=F.scale||"",B=G+L;h.data(E,"isoTransform",H);E.style[c]=B};h.cssNumber.scale=true;h.cssHooks.scale={set:function(B,C){v(B,"scale",C)},get:function(D,C){var B=h.data(D,"isoTransform");return B&&B.scale?B.scale:1}};h.fx.step.scale=function(B){h.cssHooks.scale.set(B.elem,B.now+B.unit)};h.cssNumber.translate=true;h.cssHooks.translate={set:function(B,C){v(B,"translate",C)},get:function(D,C){var B=h.data(D,"isoTransform");return B&&B.translate?B.translate:[0,0]}}}var b,a;if(m.csstransitions){b={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd otransitionend",transitionProperty:"transitionend"}[y];a=q("transitionDuration")}var n=h.event,j=h.event.handle?"handle":"dispatch",d;n.special.smartresize={setup:function(){h(this).bind("resize",n.special.smartresize.handler)},teardown:function(){h(this).unbind("resize",n.special.smartresize.handler)},handler:function(E,B){var D=this,C=arguments;E.type="smartresize";if(d){clearTimeout(d)}d=setTimeout(function(){n[j].apply(D,C)},B==="execAsap"?0:100)}};h.fn.smartresize=function(B){return B?this.bind("smartresize",B):this.trigger("smartresize",["execAsap"])};h.Isotope=function(B,C,D){this.element=h(C);this._create(B);this._init(D)};var i=["width","height"];var t=h(p);h.Isotope.settings={resizable:true,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:false,duration:800},sortBy:"original-order",sortAscending:true,resizesContainer:true,transformsEnabled:true,itemPositionDataEnabled:false};h.Isotope.prototype={_create:function(G){this.options=h.extend({},h.Isotope.settings,G);this.styleQueue=[];this.elemCount=0;var E=this.element[0].style;this.originalStyle={};var D=i.slice(0);for(var I in this.options.containerStyle){D.push(I)}for(var H=0,C=D.length;H<C;H++){I=D[H];this.originalStyle[I]=E[I]||""}this.element.css(this.options.containerStyle);this._updateAnimationEngine();this._updateUsingTransforms();var F={"original-order":function(L,K){K.elemCount++;return K.elemCount},random:function(){return Math.random()}};this.options.getSortData=h.extend(this.options.getSortData,F);this.reloadItems();this.offset={left:parseInt((this.element.css("padding-left")||0),10),top:parseInt((this.element.css("padding-top")||0),10)};var B=this;setTimeout(function(){B.element.addClass(B.options.containerClass)},0);if(this.options.resizable){t.bind("smartresize.isotope",function(){B.resize()})}this.element.delegate("."+this.options.hiddenClass,"click",function(){return false})},_getAtoms:function(E){var B=this.options.itemSelector,D=B?E.filter(B).add(E.find(B)):E,C={position:"absolute"};D=D.filter(function(F,G){return G.nodeType===1});if(this.usingTransforms){C.left=0;C.top=0}D.css(C).addClass(this.options.itemClass);this.updateSortData(D,true);return D},_init:function(B){this.$filteredAtoms=this._filter(this.$allAtoms);this._sort();this.reLayout(B)},option:function(D){if(h.isPlainObject(D)){this.options=h.extend(true,this.options,D);var B;for(var C in D){B="_update"+r(C);if(this[B]){this[B]()}}}},_updateAnimationEngine:function(){var C=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");var B;switch(C){case"css":case"none":B=false;break;case"jquery":B=true;break;default:B=!m.csstransitions}this.isUsingJQueryAnimation=B;this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var B=this.usingTransforms=this.options.transformsEnabled&&m.csstransforms&&m.csstransitions&&!this.isUsingJQueryAnimation;if(!B){delete this.options.hiddenStyle.scale;delete this.options.visibleStyle.scale}this.getPositionStyles=B?this._translate:this._positionAbs},_filter:function(H){var D=this.options.filter===""?"*":this.options.filter;if(!D){return H}var G=this.options.hiddenClass,C="."+G,F=H.filter(C),B=F;if(D!=="*"){B=F.filter(D);var E=H.not(C).not(D).addClass(G);this.styleQueue.push({$el:E,style:this.options.hiddenStyle})}this.styleQueue.push({$el:B,style:this.options.visibleStyle});B.removeClass(G);return H.filter(D)},updateSortData:function(G,D){var C=this,E=this.options.getSortData,F,B;G.each(function(){F=h(this);B={};for(var H in E){if(!D&&H==="original-order"){B[H]=h.data(this,"isotope-sort-data")[H]}else{B[H]=E[H](F,C)}}h.data(this,"isotope-sort-data",B)})},_sort:function(){var E=this.options.sortBy,D=this._getSorter,B=this.options.sortAscending?1:-1,C=function(I,H){var G=D(I,E),F=D(H,E);if(G===F&&E!=="original-order"){G=D(I,"original-order");F=D(H,"original-order")}return((G>F)?1:(G<F)?-1:0)*B};this.$filteredAtoms.sort(C)},_getSorter:function(B,C){return h.data(B,"isotope-sort-data")[C]},_translate:function(B,C){return{translate:[B,C]}},_positionAbs:function(B,C){return{left:B,top:C}},_pushPosition:function(D,C,E){C=Math.round(C+this.offset.left);E=Math.round(E+this.offset.top);var B=this.getPositionStyles(C,E);this.styleQueue.push({$el:D,style:B});if(this.options.itemPositionDataEnabled){D.data("isotope-item-position",{x:C,y:E})}},layout:function(E,D){var C=this.options.layoutMode;this["_"+C+"Layout"](E);if(this.options.resizesContainer){var B=this["_"+C+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:B})}this._processStyleQueue(E,D);this.isLaidOut=true},_processStyleQueue:function(C,S){var E=!this.isLaidOut?"css":(this.isUsingJQueryAnimation?"animate":"css"),H=this.options.animationOptions,I=this.options.onLayout,Q,F,M,N;F=function(T,U){U.$el[E](U.style,H)};if(this._isInserting&&this.isUsingJQueryAnimation){F=function(T,U){Q=U.$el.hasClass("no-transition")?"css":E;U.$el[Q](U.style,H)}}else{if(S||I||H.complete){var D=false,L=[S,I,H.complete],R=this;M=true;N=function(){if(D){return}var V;for(var U=0,T=L.length;U<T;U++){V=L[U];if(typeof V==="function"){V.call(R.element,C,R)}}D=true};if(this.isUsingJQueryAnimation&&E==="animate"){H.complete=N;M=false}else{if(m.csstransitions){var K=0,O=this.styleQueue[0],P=O&&O.$el,B;while(!P||!P.length){B=this.styleQueue[K++];if(!B){return}P=B.$el}var G=parseFloat(getComputedStyle(P[0])[a]);if(G>0){F=function(T,U){U.$el[E](U.style,H).one(b,N)};M=false}}}}}h.each(this.styleQueue,F);if(M){N()}this.styleQueue=[]},resize:function(){if(this["_"+this.options.layoutMode+"ResizeChanged"]()){this.reLayout()}},reLayout:function(B){this["_"+this.options.layoutMode+"Reset"]();this.layout(this.$filteredAtoms,B)},addItems:function(C,D){var B=this._getAtoms(C);this.$allAtoms=this.$allAtoms.add(B);if(D){D(B)}},insert:function(C,D){this.element.append(C);var B=this;this.addItems(C,function(E){var F=B._filter(E);B._addHideAppended(F);B._sort();B.reLayout();B._revealAppended(F,D)})},appended:function(C,D){var B=this;this.addItems(C,function(E){B._addHideAppended(E);B.layout(E);B._revealAppended(E,D)})},_addHideAppended:function(B){this.$filteredAtoms=this.$filteredAtoms.add(B);B.addClass("no-transition");this._isInserting=true;this.styleQueue.push({$el:B,style:this.options.hiddenStyle})},_revealAppended:function(C,D){var B=this;setTimeout(function(){C.removeClass("no-transition");B.styleQueue.push({$el:C,style:B.options.visibleStyle});B._isInserting=false;B._processStyleQueue(C,D)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(D,E){this.$allAtoms=this.$allAtoms.not(D);this.$filteredAtoms=this.$filteredAtoms.not(D);var B=this;var C=function(){D.remove();if(E){E.call(B.element)}};if(D.filter(":not(."+this.options.hiddenClass+")").length){this.styleQueue.push({$el:D,style:this.options.hiddenStyle});this._sort();this.reLayout(C)}else{C()}},shuffle:function(B){this.updateSortData(this.$allAtoms);this.options.sortBy="random";this._sort();this.reLayout(B)},destroy:function(){var D=this.usingTransforms;var C=this.options;this.$allAtoms.removeClass(C.hiddenClass+" "+C.itemClass).each(function(){var F=this.style;F.position="";F.top="";F.left="";F.opacity="";if(D){F[c]=""}});var B=this.element[0].style;for(var E in this.originalStyle){B[E]=this.originalStyle[E]}this.element.unbind(".isotope").undelegate("."+C.hiddenClass,"click").removeClass(C.containerClass).removeData("isotope");t.unbind(".isotope")},_getSegments:function(H){var E=this.options.layoutMode,D=H?"rowHeight":"columnWidth",C=H?"height":"width",G=H?"rows":"cols",I=this.element[C](),B,F=this.options[E]&&this.options[E][D]||this.$filteredAtoms["outer"+r(C)](true)||I;B=Math.floor(I/F);B=Math.max(B,1);this[E][G]=B;this[E][D]=F},_checkIfSegmentsChanged:function(E){var C=this.options.layoutMode,D=E?"rows":"cols",B=this[C][D];this._getSegments(E);return(this[C][D]!==B)},_masonryReset:function(){this.masonry={};this._getSegments();var B=this.masonry.cols;this.masonry.colYs=[];while(B--){this.masonry.colYs.push(0)}},_masonryLayout:function(D){var B=this,C=B.masonry;D.each(function(){var I=h(this),G=Math.ceil(I.outerWidth(true)/C.columnWidth);G=Math.min(G,C.cols);if(G===1){B._masonryPlaceBrick(I,C.colYs)}else{var K=C.cols+1-G,F=[],H,E;for(E=0;E<K;E++){H=C.colYs.slice(E,E+G);F[E]=Math.max.apply(Math,H)}B._masonryPlaceBrick(I,F)}})},_masonryPlaceBrick:function(E,I){var B=Math.min.apply(Math,I),L=0;for(var D=0,F=I.length;D<F;D++){if(I[D]===B){L=D;break}}var K=this.masonry.columnWidth*L,H=B;this._pushPosition(E,K,H);var G=B+E.outerHeight(true),C=this.masonry.cols+1-F;for(D=0;D<C;D++){this.masonry.colYs[L+D]=G}},_masonryGetContainerSize:function(){var B=Math.max.apply(Math,this.masonry.colYs);return{height:B}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(E){var B=this,D=this.element.width(),C=this.fitRows;E.each(function(){var H=h(this),G=H.outerWidth(true),F=H.outerHeight(true);if(C.x!==0&&G+C.x>D){C.x=0;C.y=C.height}B._pushPosition(H,C.x,C.y);C.height=Math.max(C.y+F,C.height);C.x+=G})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return true},_cellsByRowReset:function(){this.cellsByRow={index:0};this._getSegments();this._getSegments(true)},_cellsByRowLayout:function(D){var B=this,C=this.cellsByRow;D.each(function(){var G=h(this),F=C.index%C.cols,H=Math.floor(C.index/C.cols),E=(F+0.5)*C.columnWidth-G.outerWidth(true)/2,I=(H+0.5)*C.rowHeight-G.outerHeight(true)/2;B._pushPosition(G,E,I);C.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(C){var B=this;C.each(function(D){var E=h(this);B._pushPosition(E,0,B.straightDown.y);B.straightDown.y+=E.outerHeight(true)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return true},_masonryHorizontalReset:function(){this.masonryHorizontal={};this._getSegments(true);var B=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(B--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(D){var B=this,C=B.masonryHorizontal;D.each(function(){var I=h(this),G=Math.ceil(I.outerHeight(true)/C.rowHeight);G=Math.min(G,C.rows);if(G===1){B._masonryHorizontalPlaceBrick(I,C.rowXs)}else{var K=C.rows+1-G,F=[],H,E;for(E=0;E<K;E++){H=C.rowXs.slice(E,E+G);F[E]=Math.max.apply(Math,H)}B._masonryHorizontalPlaceBrick(I,F)}})},_masonryHorizontalPlaceBrick:function(E,K){var B=Math.min.apply(Math,K),H=0;for(var D=0,F=K.length;D<F;D++){if(K[D]===B){H=D;break}}var L=B,I=this.masonryHorizontal.rowHeight*H;this._pushPosition(E,L,I);var G=B+E.outerWidth(true),C=this.masonryHorizontal.rows+1-F;for(D=0;D<C;D++){this.masonryHorizontal.rowXs[H+D]=G}},_masonryHorizontalGetContainerSize:function(){var B=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:B}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(E){var B=this,D=this.element.height(),C=this.fitColumns;E.each(function(){var H=h(this),G=H.outerWidth(true),F=H.outerHeight(true);if(C.y!==0&&F+C.y>D){C.x=C.width;C.y=0}B._pushPosition(H,C.x,C.y);C.width=Math.max(C.x+G,C.width);C.y+=F})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return true},_cellsByColumnReset:function(){this.cellsByColumn={index:0};this._getSegments();this._getSegments(true)},_cellsByColumnLayout:function(D){var B=this,C=this.cellsByColumn;D.each(function(){var G=h(this),F=Math.floor(C.index/C.rows),H=C.index%C.rows,E=(F+0.5)*C.columnWidth-G.outerWidth(true)/2,I=(H+0.5)*C.rowHeight-G.outerHeight(true)/2;B._pushPosition(G,E,I);C.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(true)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(C){var B=this;C.each(function(D){var E=h(this);B._pushPosition(E,B.straightAcross.x,0);B.straightAcross.x+=E.outerWidth(true)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return true}};
/*!
     * jQuery imagesLoaded plugin v1.1.0
     * http://github.com/desandro/imagesloaded
     *
     * MIT License. by Paul Irish et al.
     */
;h.fn.imagesLoaded=function(I){var G=this,E=G.find("img").add(G.filter("img")),B=E.length,H="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",D=[];function F(){I.call(G,E)}function C(L){var K=L.target;if(K.src!==H&&h.inArray(K,D)===-1){D.push(K);if(--B<=0){setTimeout(F);E.unbind(".imagesLoaded",C)}}}if(!B){F()}E.bind("load.imagesLoaded error.imagesLoaded",C).each(function(){var K=this.src;this.src=H;this.src=K});return G};var z=function(B){if(p.console){p.console.error(B)}};h.fn.isotope=function(C,D){if(typeof C==="string"){var B=Array.prototype.slice.call(arguments,1);this.each(function(){var E=h.data(this,"isotope");if(!E){z("cannot call methods on isotope prior to initialization; attempted to call method '"+C+"'");return}if(!h.isFunction(E[C])||C.charAt(0)==="_"){z("no such method '"+C+"' for isotope instance");return}E[C].apply(E,B)})}else{this.each(function(){var E=h.data(this,"isotope");if(E){E.option(C);E._init(D)}else{h.data(this,"isotope",new h.Isotope(C,this,D))}})}return this};h.Isotope.prototype._getMasonryGutterColumns=function(){var C=this.options.masonry&&this.options.masonry.gutterWidth||0;var B=this.element.width();this.masonry.columnWidth=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(true)||B;this.masonry.columnWidth+=C;this.masonry.cols=Math.floor((B+C)/this.masonry.columnWidth);this.masonry.cols=Math.max(this.masonry.cols,1)};h.Isotope.prototype._masonryReset=function(){this.masonry={};this._getMasonryGutterColumns();var B=this.masonry.cols;this.masonry.colYs=[];while(B--){this.masonry.colYs.push(0)}};h.Isotope.prototype._masonryResizeChanged=function(){var B=this.masonry.cols;this._getMasonryGutterColumns();return(this.masonry.cols!==B)}})(window,jQuery);(function(f){f.prettyPhoto={version:"3.1.5"};f.fn.prettyPhoto=function(i){i=jQuery.extend({hook:"data-rel",animation_speed:"fast",ajaxcallback:function(){},slideshow:5000,autoplay_slideshow:false,opacity:0.8,show_title:true,allow_resize:true,allow_expand:true,default_width:500,default_height:344,counter_separator_label:"/",theme:"pp_default",horizontal_padding:20,hideflash:false,wmode:"opaque",autoplay:true,modal:false,deeplinking:true,overlay_gallery:true,overlay_gallery_max:30,keyboard_shortcuts:true,changepicturecallback:function(){},callback:function(){},ie6_fallback:true,markup:'<div class="pp_pic_holder"> 						<div class="ppt">&nbsp;</div> 						<div class="pp_top"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 						<div class="pp_content_container"> 							<div class="pp_left"> 							<div class="pp_right"> 								<div class="pp_content"> 									<div class="pp_loaderIcon"></div> 									<div class="pp_fade"> 										<a href="#" class="pp_expand" title="Expand the image">Expand</a> 										<div class="pp_hoverContainer"> 											<a class="pp_next" href="#">next</a> 											<a class="pp_previous" href="#">previous</a> 										</div> 										<div id="pp_full_res"></div> 										<div class="pp_details"> 											<div class="pp_nav"> 												<a href="#" class="pp_arrow_previous">Previous</a> 												<p class="currentTextHolder">0/0</p> 												<a href="#" class="pp_arrow_next">Next</a> 											</div> 											<p class="pp_description"></p> 											<div class="pp_social">{pp_social}</div> 											<a class="pp_close" href="#">Close</a> 										</div> 									</div> 								</div> 							</div> 							</div> 						</div> 						<div class="pp_bottom"> 							<div class="pp_left"></div> 							<div class="pp_middle"></div> 							<div class="pp_right"></div> 						</div> 					</div> 					<div class="pp_overlay"></div>',gallery_markup:'<div class="pp_gallery"> 								<a href="#" class="pp_arrow_previous">Previous</a> 								<div> 									<ul> 										{gallery} 									</ul> 								</div> 								<a href="#" class="pp_arrow_next">Next</a> 							</div>',image_markup:'<img id="fullResImage" src="{path}" />',flash_markup:'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="{width}" height="{height}"><param name="wmode" value="{wmode}" /><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="{path}" /><embed src="{path}" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="{width}" height="{height}" wmode="{wmode}"></embed></object>',quicktime_markup:'<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase="http://www.apple.com/qtactivex/qtplugin.cab" height="{height}" width="{width}"><param name="src" value="{path}"><param name="autoplay" value="{autoplay}"><param name="type" value="video/quicktime"><embed src="{path}" height="{height}" width="{width}" autoplay="{autoplay}" type="video/quicktime" pluginspage="http://www.apple.com/quicktime/download/"></embed></object>',iframe_markup:'<iframe src ="{path}" width="{width}" height="{height}" frameborder="no"></iframe>',inline_markup:'<div class="pp_inline">{content}</div>',custom_markup:"",social_tools:'<div class="twitter"><a href="http://twitter.com/share" class="twitter-share-button" data-count="none">Tweet</a><script type="text/javascript" src="http://platform.twitter.com/widgets.js"><\/script></div><div class="facebook"><iframe src="//www.facebook.com/plugins/like.php?locale=en_US&href={location_href}&amp;layout=button_count&amp;show_faces=true&amp;width=500&amp;action=like&amp;font&amp;colorscheme=light&amp;height=23" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:500px; height:23px;" allowTransparency="true"></iframe></div>'},i);var p=this,o=false,v,t,u,x,A,B,k=f(window).height(),E=f(window).width(),l;doresize=true,scroll_pos=C();f(window).unbind("resize.prettyphoto").bind("resize.prettyphoto",function(){s();z()});if(i.keyboard_shortcuts){f(document).unbind("keydown.prettyphoto").bind("keydown.prettyphoto",function(F){if(typeof $pp_pic_holder!="undefined"){if($pp_pic_holder.is(":visible")){switch(F.keyCode){case 37:f.prettyPhoto.changePage("previous");F.preventDefault();break;case 39:f.prettyPhoto.changePage("next");F.preventDefault();break;case 27:if(!settings.modal){f.prettyPhoto.close()}F.preventDefault();break}}}})}f.prettyPhoto.initialize=function(){settings=i;if(settings.theme=="pp_default"){settings.horizontal_padding=16}theRel=f(this).attr(settings.hook);galleryRegExp=/\[(?:.*)\]/;isSet=(galleryRegExp.exec(theRel))?true:false;pp_images=(isSet)?jQuery.map(p,function(G,F){if(f(G).attr(settings.hook).indexOf(theRel)!=-1){return f(G).attr("href")}}):f.makeArray(f(this).attr("href"));pp_titles=(isSet)?jQuery.map(p,function(G,F){if(f(G).attr(settings.hook).indexOf(theRel)!=-1){return(f(G).find("img").attr("alt"))?f(G).find("img").attr("alt"):""}}):f.makeArray(f(this).find("img").attr("alt"));pp_descriptions=(isSet)?jQuery.map(p,function(G,F){if(f(G).attr(settings.hook).indexOf(theRel)!=-1){return(f(G).attr("title"))?f(G).attr("title"):""}}):f.makeArray(f(this).attr("title"));if(pp_images.length>settings.overlay_gallery_max){settings.overlay_gallery=false}set_position=jQuery.inArray(f(this).attr("href"),pp_images);rel_index=(isSet)?set_position:f("a["+settings.hook+"^='"+theRel+"']").index(f(this));j(this);if(settings.allow_resize){f(window).bind("scroll.prettyphoto",function(){s()})}f.prettyPhoto.open();return false};f.prettyPhoto.open=function(F){if(typeof settings=="undefined"){settings=i;pp_images=f.makeArray(arguments[0]);pp_titles=(arguments[1])?f.makeArray(arguments[1]):f.makeArray("");pp_descriptions=(arguments[2])?f.makeArray(arguments[2]):f.makeArray("");isSet=(pp_images.length>1)?true:false;set_position=(arguments[3])?arguments[3]:0;j(F.target)}if(settings.hideflash){f("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","hidden")}n(f(pp_images).size());f(".pp_loaderIcon").show();if(settings.deeplinking){b()}if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href));$pp_pic_holder.find(".pp_social").html(facebook_like_link)}if($ppt.is(":hidden")){$ppt.css("opacity",0).show()}$pp_overlay.show().fadeTo(settings.animation_speed,settings.opacity);$pp_pic_holder.find(".currentTextHolder").text((set_position+1)+settings.counter_separator_label+f(pp_images).size());if(typeof pp_descriptions[set_position]!="undefined"&&pp_descriptions[set_position]!=""){$pp_pic_holder.find(".pp_description").show().html(unescape(pp_descriptions[set_position]))}else{$pp_pic_holder.find(".pp_description").hide()}movie_width=(parseFloat(a("width",pp_images[set_position])))?a("width",pp_images[set_position]):settings.default_width.toString();movie_height=(parseFloat(a("height",pp_images[set_position])))?a("height",pp_images[set_position]):settings.default_height.toString();o=false;if(movie_height.indexOf("%")!=-1){movie_height=parseFloat((f(window).height()*parseFloat(movie_height)/100)-150);o=true}if(movie_width.indexOf("%")!=-1){movie_width=parseFloat((f(window).width()*parseFloat(movie_width)/100)-150);o=true}$pp_pic_holder.fadeIn(function(){(settings.show_title&&pp_titles[set_position]!=""&&typeof pp_titles[set_position]!="undefined")?$ppt.html(unescape(pp_titles[set_position])):$ppt.html("&nbsp;");imgPreloader="";skipInjection=false;switch(D(pp_images[set_position])){case"image":imgPreloader=new Image();nextImage=new Image();if(isSet&&set_position<f(pp_images).size()-1){nextImage.src=pp_images[set_position+1]}prevImage=new Image();if(isSet&&pp_images[set_position-1]){prevImage.src=pp_images[set_position-1]}$pp_pic_holder.find("#pp_full_res")[0].innerHTML=settings.image_markup.replace(/{path}/g,pp_images[set_position]);imgPreloader.onload=function(){v=r(imgPreloader.width,imgPreloader.height);m()};imgPreloader.onerror=function(){alert("Image cannot be loaded. Make sure the path is correct and image exist.");f.prettyPhoto.close()};imgPreloader.src=pp_images[set_position];break;case"youtube":v=r(movie_width,movie_height);movie_id=a("v",pp_images[set_position]);if(movie_id==""){movie_id=pp_images[set_position].split("youtu.be/");movie_id=movie_id[1];if(movie_id.indexOf("?")>0){movie_id=movie_id.substr(0,movie_id.indexOf("?"))}if(movie_id.indexOf("&")>0){movie_id=movie_id.substr(0,movie_id.indexOf("&"))}}movie="http://www.youtube.com/embed/"+movie_id;(a("rel",pp_images[set_position]))?movie+="?rel="+a("rel",pp_images[set_position]):movie+="?rel=1";if(settings.autoplay){movie+="&autoplay=1"}toInject=settings.iframe_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,movie);break;case"vimeo":v=r(movie_width,movie_height);movie_id=pp_images[set_position];var H=/http(s?):\/\/(www\.)?vimeo.com\/(\d+)/;var G=movie_id.match(H);movie="http://player.vimeo.com/video/"+G[3]+"?title=0&amp;byline=0&amp;portrait=0";if(settings.autoplay){movie+="&autoplay=1;"}vimeo_width=v.width+"/embed/?moog_width="+v.width;toInject=settings.iframe_markup.replace(/{width}/g,vimeo_width).replace(/{height}/g,v.height).replace(/{path}/g,movie);break;case"quicktime":v=r(movie_width,movie_height);v.height+=15;v.contentHeight+=15;v.containerHeight+=15;toInject=settings.quicktime_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,pp_images[set_position]).replace(/{autoplay}/g,settings.autoplay);break;case"flash":v=r(movie_width,movie_height);flash_vars=pp_images[set_position];flash_vars=flash_vars.substring(pp_images[set_position].indexOf("flashvars")+10,pp_images[set_position].length);filename=pp_images[set_position];filename=filename.substring(0,filename.indexOf("?"));toInject=settings.flash_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{wmode}/g,settings.wmode).replace(/{path}/g,filename+"?"+flash_vars);break;case"iframe":v=r(movie_width,movie_height);frame_url=pp_images[set_position];frame_url=frame_url.substr(0,frame_url.indexOf("iframe")-1);toInject=settings.iframe_markup.replace(/{width}/g,v.width).replace(/{height}/g,v.height).replace(/{path}/g,frame_url);break;case"ajax":doresize=false;v=r(movie_width,movie_height);doresize=true;skipInjection=true;f.get(pp_images[set_position],function(I){toInject=settings.inline_markup.replace(/{content}/g,I);$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;m()});break;case"custom":v=r(movie_width,movie_height);toInject=settings.custom_markup;break;case"inline":myClone=f(pp_images[set_position]).clone().append('<br clear="all" />').css({width:settings.default_width}).wrapInner('<div id="pp_full_res"><div class="pp_inline"></div></div>').appendTo(f("body")).show();doresize=false;v=r(f(myClone).width(),f(myClone).height());doresize=true;f(myClone).remove();toInject=settings.inline_markup.replace(/{content}/g,f(pp_images[set_position]).html());break}if(!imgPreloader&&!skipInjection){$pp_pic_holder.find("#pp_full_res")[0].innerHTML=toInject;m()}});return false};f.prettyPhoto.changePage=function(F){currentGalleryPage=0;if(F=="previous"){set_position--;if(set_position<0){set_position=f(pp_images).size()-1}}else{if(F=="next"){set_position++;if(set_position>f(pp_images).size()-1){set_position=0}}else{set_position=F}}rel_index=set_position;if(!doresize){doresize=true}if(settings.allow_expand){f(".pp_contract").removeClass("pp_contract").addClass("pp_expand")}q(function(){f.prettyPhoto.open()})};f.prettyPhoto.changeGalleryPage=function(F){if(F=="next"){currentGalleryPage++;if(currentGalleryPage>totalPage){currentGalleryPage=0}}else{if(F=="previous"){currentGalleryPage--;if(currentGalleryPage<0){currentGalleryPage=totalPage}}else{currentGalleryPage=F}}slide_speed=(F=="next"||F=="previous")?settings.animation_speed:0;slide_to=currentGalleryPage*(itemsPerPage*itemWidth);$pp_gallery.find("ul").animate({left:-slide_to},slide_speed)};f.prettyPhoto.startSlideshow=function(){if(typeof l=="undefined"){$pp_pic_holder.find(".pp_play").unbind("click").removeClass("pp_play").addClass("pp_pause").click(function(){f.prettyPhoto.stopSlideshow();return false});l=setInterval(f.prettyPhoto.startSlideshow,settings.slideshow)}else{f.prettyPhoto.changePage("next")}};f.prettyPhoto.stopSlideshow=function(){$pp_pic_holder.find(".pp_pause").unbind("click").removeClass("pp_pause").addClass("pp_play").click(function(){f.prettyPhoto.startSlideshow();return false});clearInterval(l);l=undefined};f.prettyPhoto.close=function(){if($pp_overlay.is(":animated")){return}f.prettyPhoto.stopSlideshow();$pp_pic_holder.stop().find("object,embed").css("visibility","hidden");f("div.pp_pic_holder,div.ppt,.pp_fade").fadeOut(settings.animation_speed,function(){f(this).remove()});$pp_overlay.fadeOut(settings.animation_speed,function(){if(settings.hideflash){f("object,embed,iframe[src*=youtube],iframe[src*=vimeo]").css("visibility","visible")}f(this).remove();f(window).unbind("scroll.prettyphoto");c();settings.callback();doresize=true;t=false;delete settings})};function m(){f(".pp_loaderIcon").hide();projectedTop=scroll_pos.scrollTop+((k/2)-(v.containerHeight/2));if(projectedTop<0){projectedTop=0}$ppt.fadeTo(settings.animation_speed,1);$pp_pic_holder.find(".pp_content").animate({height:v.contentHeight,width:v.contentWidth},settings.animation_speed);$pp_pic_holder.animate({top:projectedTop,left:((E/2)-(v.containerWidth/2)<0)?0:(E/2)-(v.containerWidth/2),width:v.containerWidth},settings.animation_speed,function(){$pp_pic_holder.find(".pp_hoverContainer,#fullResImage").height(v.height).width(v.width);$pp_pic_holder.find(".pp_fade").fadeIn(settings.animation_speed);if(isSet&&D(pp_images[set_position])=="image"){$pp_pic_holder.find(".pp_hoverContainer").show()}else{$pp_pic_holder.find(".pp_hoverContainer").hide()}if(settings.allow_expand){if(v.resized){f("a.pp_expand,a.pp_contract").show()}else{f("a.pp_expand").hide()}}if(settings.autoplay_slideshow&&!l&&!t){f.prettyPhoto.startSlideshow()}settings.changepicturecallback();t=true});h();i.ajaxcallback()}function q(F){$pp_pic_holder.find("#pp_full_res object,#pp_full_res embed").css("visibility","hidden");$pp_pic_holder.find(".pp_fade").fadeOut(settings.animation_speed,function(){f(".pp_loaderIcon").show();F()})}function n(F){(F>1)?f(".pp_nav").show():f(".pp_nav").hide()}function r(G,F){resized=false;y(G,F);imageWidth=G,imageHeight=F;if(((B>E)||(A>k))&&doresize&&settings.allow_resize&&!o){resized=true,fitting=false;while(!fitting){if((B>E)){imageWidth=(E-200);imageHeight=(F/G)*imageWidth}else{if((A>k)){imageHeight=(k-200);imageWidth=(G/F)*imageHeight}else{fitting=true}}A=imageHeight,B=imageWidth}if((B>E)||(A>k)){r(B,A)}y(imageWidth,imageHeight)}return{width:Math.floor(imageWidth),height:Math.floor(imageHeight),containerHeight:Math.floor(A),containerWidth:Math.floor(B)+(settings.horizontal_padding*2),contentHeight:Math.floor(u),contentWidth:Math.floor(x),resized:resized}}function y(G,F){G=parseFloat(G);F=parseFloat(F);$pp_details=$pp_pic_holder.find(".pp_details");$pp_details.width(G);detailsHeight=parseFloat($pp_details.css("marginTop"))+parseFloat($pp_details.css("marginBottom"));$pp_details=$pp_details.clone().addClass(settings.theme).width(G).appendTo(f("body")).css({position:"absolute",top:-10000});detailsHeight+=$pp_details.height();detailsHeight=(detailsHeight<=34)?36:detailsHeight;$pp_details.remove();$pp_title=$pp_pic_holder.find(".ppt");$pp_title.width(G);titleHeight=parseFloat($pp_title.css("marginTop"))+parseFloat($pp_title.css("marginBottom"));$pp_title=$pp_title.clone().appendTo(f("body")).css({position:"absolute",top:-10000});titleHeight+=$pp_title.height();$pp_title.remove();u=F+detailsHeight;x=G;A=u+titleHeight+$pp_pic_holder.find(".pp_top").height()+$pp_pic_holder.find(".pp_bottom").height();B=G}function D(F){if(F.match(/youtube\.com\/watch/i)||F.match(/youtu\.be/i)){return"youtube"}else{if(F.match(/vimeo\.com/i)){return"vimeo"}else{if(F.match(/\b.mov\b/i)){return"quicktime"}else{if(F.match(/\b.swf\b/i)){return"flash"}else{if(F.match(/\biframe=true\b/i)){return"iframe"}else{if(F.match(/\bajax=true\b/i)){return"ajax"}else{if(F.match(/\bcustom=true\b/i)){return"custom"}else{if(F.substr(0,1)=="#"){return"inline"}else{return"image"}}}}}}}}}function s(){if(doresize&&typeof $pp_pic_holder!="undefined"){scroll_pos=C();contentHeight=$pp_pic_holder.height(),contentwidth=$pp_pic_holder.width();projectedTop=(k/2)+scroll_pos.scrollTop-(contentHeight/2);if(projectedTop<0){projectedTop=0}if(contentHeight>k){return}$pp_pic_holder.css({top:projectedTop,left:(E/2)+scroll_pos.scrollLeft-(contentwidth/2)})}}function C(){if(self.pageYOffset){return{scrollTop:self.pageYOffset,scrollLeft:self.pageXOffset}}else{if(document.documentElement&&document.documentElement.scrollTop){return{scrollTop:document.documentElement.scrollTop,scrollLeft:document.documentElement.scrollLeft}}else{if(document.body){return{scrollTop:document.body.scrollTop,scrollLeft:document.body.scrollLeft}}}}}function z(){k=f(window).height(),E=f(window).width();if(typeof $pp_overlay!="undefined"){$pp_overlay.height(f(document).height()).width(E)}}function h(){if(isSet&&settings.overlay_gallery&&D(pp_images[set_position])=="image"){itemWidth=52+5;navWidth=(settings.theme=="facebook"||settings.theme=="pp_default")?50:30;itemsPerPage=Math.floor((v.containerWidth-100-navWidth)/itemWidth);itemsPerPage=(itemsPerPage<pp_images.length)?itemsPerPage:pp_images.length;totalPage=Math.ceil(pp_images.length/itemsPerPage)-1;if(totalPage==0){navWidth=0;$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").hide()}else{$pp_gallery.find(".pp_arrow_next,.pp_arrow_previous").show()}galleryWidth=itemsPerPage*itemWidth;fullGalleryWidth=pp_images.length*itemWidth;$pp_gallery.css("margin-left",-((galleryWidth/2)+(navWidth/2))).find("div:first").width(galleryWidth+5).find("ul").width(fullGalleryWidth).find("li.selected").removeClass("selected");goToPage=(Math.floor(set_position/itemsPerPage)<totalPage)?Math.floor(set_position/itemsPerPage):totalPage;f.prettyPhoto.changeGalleryPage(goToPage);$pp_gallery_li.filter(":eq("+set_position+")").addClass("selected")}else{$pp_pic_holder.find(".pp_content").unbind("mouseenter mouseleave")}}function j(F){if(settings.social_tools){facebook_like_link=settings.social_tools.replace("{location_href}",encodeURIComponent(location.href))}settings.markup=settings.markup.replace("{pp_social}","");f("body").append(settings.markup);$pp_pic_holder=f(".pp_pic_holder"),$ppt=f(".ppt"),$pp_overlay=f("div.pp_overlay");if(isSet&&settings.overlay_gallery){currentGalleryPage=0;toInject="";for(var G=0;G<pp_images.length;G++){if(!pp_images[G].match(/\b(jpg|jpeg|png|gif)\b/gi)){classname="default";img_src=""}else{classname="";img_src=pp_images[G]}toInject+="<li class='"+classname+"'><a href='#'><img src='"+img_src+"' width='50' alt='' /></a></li>"}toInject=settings.gallery_markup.replace(/{gallery}/g,toInject);$pp_pic_holder.find("#pp_full_res").after(toInject);$pp_gallery=f(".pp_pic_holder .pp_gallery"),$pp_gallery_li=$pp_gallery.find("li");$pp_gallery.find(".pp_arrow_next").click(function(){f.prettyPhoto.changeGalleryPage("next");f.prettyPhoto.stopSlideshow();return false});$pp_gallery.find(".pp_arrow_previous").click(function(){f.prettyPhoto.changeGalleryPage("previous");f.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_content").hover(function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeIn()},function(){$pp_pic_holder.find(".pp_gallery:not(.disabled)").fadeOut()});itemWidth=52+5;$pp_gallery_li.each(function(H){f(this).find("a").click(function(){f.prettyPhoto.changePage(H);f.prettyPhoto.stopSlideshow();return false})})}if(settings.slideshow){$pp_pic_holder.find(".pp_nav").prepend('<a href="#" class="pp_play">Play</a>');$pp_pic_holder.find(".pp_nav .pp_play").click(function(){f.prettyPhoto.startSlideshow();return false})}$pp_pic_holder.attr("class","pp_pic_holder "+settings.theme);$pp_overlay.css({opacity:0,height:f(document).height(),width:f(window).width()}).bind("click",function(){if(!settings.modal){f.prettyPhoto.close()}});f("a.pp_close").bind("click",function(){f.prettyPhoto.close();return false});if(settings.allow_expand){f("a.pp_expand").bind("click",function(H){if(f(this).hasClass("pp_expand")){f(this).removeClass("pp_expand").addClass("pp_contract");doresize=false}else{f(this).removeClass("pp_contract").addClass("pp_expand");doresize=true}q(function(){f.prettyPhoto.open()});return false})}$pp_pic_holder.find(".pp_previous, .pp_nav .pp_arrow_previous").bind("click",function(){f.prettyPhoto.changePage("previous");f.prettyPhoto.stopSlideshow();return false});$pp_pic_holder.find(".pp_next, .pp_nav .pp_arrow_next").bind("click",function(){f.prettyPhoto.changePage("next");f.prettyPhoto.stopSlideshow();return false});s()}if(!pp_alreadyInitialized&&d()){pp_alreadyInitialized=true;hashIndex=d();hashRel=hashIndex;hashIndex=hashIndex.substring(hashIndex.indexOf("/")+1,hashIndex.length-1);hashRel=hashRel.substring(0,hashRel.indexOf("/"));setTimeout(function(){f("a["+i.hook+"^='"+hashRel+"']:eq("+hashIndex+")").trigger("click")},50)}return this.unbind("click.prettyphoto").bind("click.prettyphoto",f.prettyPhoto.initialize)};function d(){var h=location.href;hashtag=(h.indexOf("#prettyPhoto")!==-1)?decodeURI(h.substring(h.indexOf("#prettyPhoto")+1,h.length)):false;return hashtag}function b(){if(typeof theRel=="undefined"){return}location.hash=theRel+"/"+rel_index+"/"}function c(){if(location.href.indexOf("#prettyPhoto")!==-1){location.hash="prettyPhoto"}}function a(j,i){j=j.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var h="[\\?&]"+j+"=([^&#]*)";var l=new RegExp(h);var k=l.exec(i);return(k==null)?"":k[1]}})(jQuery);var pp_alreadyInitialized=false;
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * Copyright(c) 2011 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
;
/*!
 jQuery WaitForImages
 
 Copyright (c) 2012 Alex Dickson
 
 Permission is hereby granted, free of charge, to any person
 obtaining a copy of this software and associated documentation
 files (the "Software"), to deal in the Software without
 restriction, including without limitation the rights to use,
 copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the
 Software is furnished to do so, subject to the following
 conditions:
 
 The above copyright notice and this permission notice shall be
 included in all copies or substantial portions of the Software.
 
 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 OTHER DEALINGS IN THE SOFTWARE.
 
 
 https://github.com/alexanderdickson/waitForImages
 
 
 */
;
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2012 Rico Sta. Cruz <rico@ricostacruz.com>
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
(function(s){s.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var d=document.createElement("div");var r={};function b(y){if(y in d.style){return y}var x=["Moz","Webkit","O","ms"];var t=y.charAt(0).toUpperCase()+y.substr(1);if(y in d.style){return y}for(var v=0;v<x.length;++v){var u=x[v]+t;if(u in d.style){return u}}}function f(){d.style[r.transform]="";d.style[r.transform]="rotateY(90deg)";return d.style[r.transform]!==""}var a=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;r.transition=b("transition");r.transitionDelay=b("transitionDelay");r.transform=b("transform");r.transformOrigin=b("transformOrigin");r.transform3d=f();var k={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var h=r.transitionEnd=k[r.transition]||null;for(var q in r){if(r.hasOwnProperty(q)&&typeof s.support[q]==="undefined"){s.support[q]=r[q]}}d=null;s.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.55, .055, .675, .19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};s.cssHooks["transit:transform"]={get:function(t){return $(t).data("transform")||new l()},set:function(u,t){var x=t;if(!(x instanceof l)){x=new l(x)}if(r.transform==="WebkitTransform"&&!a){u.style[r.transform]=x.toString(true)}else{u.style[r.transform]=x.toString()}$(u).data("transform",x)}};s.cssHooks.transform={set:s.cssHooks["transit:transform"].set};if(s.fn.jquery<"1.8"){s.cssHooks.transformOrigin={get:function(t){return t.style[r.transformOrigin]},set:function(t,u){t.style[r.transformOrigin]=u}};s.cssHooks.transition={get:function(t){return t.style[r.transition]},set:function(t,u){t.style[r.transition]=u}}}o("scale");o("translate");o("rotate");o("rotateX");o("rotateY");o("rotate3d");o("perspective");o("skewX");o("skewY");o("x",true);o("y",true);function l(t){if(typeof t==="string"){this.parse(t)}return this}l.prototype={setFromString:function(v,u){var t=(typeof u==="string")?u.split(","):(u.constructor===Array)?u:[u];t.unshift(v);l.prototype.set.apply(this,t)},set:function(u){var t=Array.prototype.slice.apply(arguments,[1]);if(this.setter[u]){this.setter[u].apply(this,t)}else{this[u]=t.join(",")}},get:function(t){if(this.getter[t]){return this.getter[t].apply(this)}else{return this[t]||0}},setter:{rotate:function(t){this.rotate=p(t,"deg")},rotateX:function(t){this.rotateX=p(t,"deg")},rotateY:function(t){this.rotateY=p(t,"deg")},scale:function(t,u){if(u===undefined){u=t}this.scale=t+","+u},skewX:function(t){this.skewX=p(t,"deg")},skewY:function(t){this.skewY=p(t,"deg")},perspective:function(t){this.perspective=p(t,"px")},x:function(t){this.set("translate",t,null)},y:function(t){this.set("translate",null,t)},translate:function(t,u){if(this._translateX===undefined){this._translateX=0}if(this._translateY===undefined){this._translateY=0}if(t!==null&&t!==undefined){this._translateX=p(t,"px")}if(u!==null&&u!==undefined){this._translateY=p(u,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var t=(this.scale||"1,1").split(",");if(t[0]){t[0]=parseFloat(t[0])}if(t[1]){t[1]=parseFloat(t[1])}return(t[0]===t[1])?t[0]:t},rotate3d:function(){var u=(this.rotate3d||"0,0,0,0deg").split(",");for(var t=0;t<=3;++t){if(u[t]){u[t]=parseFloat(u[t])}}if(u[3]){u[3]=p(u[3],"deg")}return u}},parse:function(u){var t=this;u.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(v,z,y){t.setFromString(z,y)})},toString:function(v){var u=[];for(var t in this){if(this.hasOwnProperty(t)){if((!r.transform3d)&&((t==="rotateX")||(t==="rotateY")||(t==="perspective")||(t==="transformOrigin"))){continue}if(t[0]!=="_"){if(v&&(t==="scale")){u.push(t+"3d("+this[t]+",1)")}else{if(v&&(t==="translate")){u.push(t+"3d("+this[t]+",0)")}else{u.push(t+"("+this[t]+")")}}}}}return u.join(" ")}};function n(u,t,v){if(t===true){u.queue(v)}else{if(t){u.queue(t,v)}else{v()}}}function j(u){var t=[];s.each(u,function(v){v=s.camelCase(v);v=s.transit.propertyMap[v]||s.cssProps[v]||v;v=c(v);if(s.inArray(v,t)===-1){t.push(v)}});return t}function i(u,y,A,t){var v=j(u);if(s.cssEase[A]){A=s.cssEase[A]}var z=""+m(y)+" "+A;if(parseInt(t,10)>0){z+=" "+m(t)}var x=[];s.each(v,function(C,B){x.push(B+" "+z)});return x.join(", ")}s.fn.transition=s.fn.transit=function(D,v,C,G){var H=this;var y=0;var A=true;var t=s.extend(true,{},D);if(typeof v==="function"){G=v;v=undefined}if(typeof v==="object"){C=v.easing;y=v.delay||0;A=v.queue||true;G=v.complete;v=v.duration}if(typeof C==="function"){G=C;C=undefined}if(typeof t.easing!=="undefined"){C=t.easing;delete t.easing}if(typeof t.duration!=="undefined"){v=t.duration;delete t.duration}if(typeof t.complete!=="undefined"){G=t.complete;delete t.complete}if(typeof t.queue!=="undefined"){A=t.queue;delete t.queue}if(typeof t.delay!=="undefined"){y=t.delay;delete t.delay}if(typeof v==="undefined"){v=s.fx.speeds._default}if(typeof C==="undefined"){C=s.cssEase._default}v=m(v);var I=i(t,v,C,y);var F=s.transit.enabled&&r.transition;var x=F?(parseInt(v,10)+parseInt(y,10)):0;if(x===0){var E=function(K){H.css(t);if(G){G.apply(H)}if(K){K()}};n(H,A,E);return H}var B={};var u=function(M){var L=false;var K=function(){if(L){H.unbind(h,K)}if(x>0){H.each(function(){this.style[r.transition]=(B[this]||null)})}if(typeof G==="function"){G.apply(H)}if(typeof M==="function"){M()}};if((x>0)&&(h)&&(s.transit.useTransitionEnd)){L=true;H.bind(h,K)}else{window.setTimeout(K,x)}H.each(function(){if(x>0){this.style[r.transition]=I}$(this).css(D)})};var z=function(K){this.offsetWidth;u(K)};n(H,A,z);return this};function o(u,t){if(!t){s.cssNumber[u]=true}s.transit.propertyMap[u]=r.transform;s.cssHooks[u]={get:function(x){var v=$(x).css("transit:transform");return v.get(u)},set:function(x,y){var v=$(x).css("transit:transform");v.setFromString(u,y);$(x).css({"transit:transform":v})}}}function c(t){return t.replace(/([A-Z])/g,function(u){return"-"+u.toLowerCase()})}function p(u,t){if((typeof u==="string")&&(!u.match(/^[\-0-9\.]+$/))){return u}else{return""+u+t}}function m(u){var t=u;if(typeof t==="string"&&(!t.match(/^[\-0-9\.]+/))){t=s.fx.speeds[t]||s.fx.speeds._default}return p(t,"ms")}s.transit.getTransitionValue=i})(jQuery);(function(b,a){jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(h,d,j,f,c){return jQuery.easing[jQuery.easing.def](h,d,j,f,c)},easeInQuad:function(h,d,j,f,c){return f*(d/=c)*d+j},easeOutQuad:function(h,d,j,f,c){return -f*(d/=c)*(d-2)+j},easeInOutQuad:function(h,d,j,f,c){if((d/=c/2)<1){return f/2*d*d+j}return -f/2*(--d*(d-2)-1)+j},easeInCubic:function(h,d,j,f,c){return f*(d/=c)*d*d+j},easeOutCubic:function(h,d,j,f,c){return f*((d=d/c-1)*d*d+1)+j},easeInOutCubic:function(h,d,j,f,c){if((d/=c/2)<1){return f/2*d*d*d+j}return f/2*((d-=2)*d*d+2)+j},easeInQuart:function(h,d,j,f,c){return f*(d/=c)*d*d*d+j},easeOutQuart:function(h,d,j,f,c){return -f*((d=d/c-1)*d*d*d-1)+j},easeInOutQuart:function(h,d,j,f,c){if((d/=c/2)<1){return f/2*d*d*d*d+j}return -f/2*((d-=2)*d*d*d-2)+j},easeInQuint:function(h,d,j,f,c){return f*(d/=c)*d*d*d*d+j},easeOutQuint:function(h,d,j,f,c){return f*((d=d/c-1)*d*d*d*d+1)+j},easeInOutQuint:function(h,d,j,f,c){if((d/=c/2)<1){return f/2*d*d*d*d*d+j}return f/2*((d-=2)*d*d*d*d+2)+j},easeInSine:function(h,d,j,f,c){return -f*Math.cos(d/c*(Math.PI/2))+f+j},easeOutSine:function(h,d,j,f,c){return f*Math.sin(d/c*(Math.PI/2))+j},easeInOutSine:function(h,d,j,f,c){return -f/2*(Math.cos(Math.PI*d/c)-1)+j},easeInExpo:function(h,d,j,f,c){return d==0?j:f*Math.pow(2,10*(d/c-1))+j},easeOutExpo:function(h,d,j,f,c){return d==c?j+f:f*(-Math.pow(2,-10*d/c)+1)+j},easeInOutExpo:function(h,d,j,f,c){if(d==0){return j}if(d==c){return j+f}if((d/=c/2)<1){return f/2*Math.pow(2,10*(d-1))+j}return f/2*(-Math.pow(2,-10*--d)+2)+j},easeInCirc:function(h,d,j,f,c){return -f*(Math.sqrt(1-(d/=c)*d)-1)+j},easeOutCirc:function(h,d,j,f,c){return f*Math.sqrt(1-(d=d/c-1)*d)+j},easeInOutCirc:function(h,d,j,f,c){if((d/=c/2)<1){return -f/2*(Math.sqrt(1-d*d)-1)+j}return f/2*(Math.sqrt(1-(d-=2)*d)+1)+j},easeInElastic:function(k,f,m,j,d){var h=1.70158;var l=0;var c=j;if(f==0){return m}if((f/=d)==1){return m+j}if(!l){l=d*0.3}if(c<Math.abs(j)){c=j;var h=l/4}else{var h=l/(2*Math.PI)*Math.asin(j/c)}return -(c*Math.pow(2,10*(f-=1))*Math.sin((f*d-h)*2*Math.PI/l))+m},easeOutElastic:function(k,f,m,j,d){var h=1.70158;var l=0;var c=j;if(f==0){return m}if((f/=d)==1){return m+j}if(!l){l=d*0.3}if(c<Math.abs(j)){c=j;var h=l/4}else{var h=l/(2*Math.PI)*Math.asin(j/c)}return c*Math.pow(2,-10*f)*Math.sin((f*d-h)*2*Math.PI/l)+j+m},easeInOutElastic:function(k,f,m,j,d){var h=1.70158;var l=0;var c=j;if(f==0){return m}if((f/=d/2)==2){return m+j}if(!l){l=d*0.3*1.5}if(c<Math.abs(j)){c=j;var h=l/4}else{var h=l/(2*Math.PI)*Math.asin(j/c)}if(f<1){return -0.5*c*Math.pow(2,10*(f-=1))*Math.sin((f*d-h)*2*Math.PI/l)+m}return c*Math.pow(2,-10*(f-=1))*Math.sin((f*d-h)*2*Math.PI/l)*0.5+j+m},easeInBack:function(j,d,k,h,c,f){if(f==undefined){f=1.70158}return h*(d/=c)*d*((f+1)*d-f)+k},easeOutBack:function(j,d,k,h,c,f){if(f==undefined){f=1.70158}return h*((d=d/c-1)*d*((f+1)*d+f)+1)+k},easeInOutBack:function(j,d,k,h,c,f){if(f==undefined){f=1.70158}if((d/=c/2)<1){return h/2*d*d*(((f*=1.525)+1)*d-f)+k}return h/2*((d-=2)*d*(((f*=1.525)+1)*d+f)+2)+k},easeInBounce:function(h,d,j,f,c){return f-jQuery.easing.easeOutBounce(h,c-d,0,f,c)+j},easeOutBounce:function(h,d,j,f,c){if((d/=c)<1/2.75){return f*7.5625*d*d+j}else{if(d<2/2.75){return f*(7.5625*(d-=1.5/2.75)*d+0.75)+j}else{if(d<2.5/2.75){return f*(7.5625*(d-=2.25/2.75)*d+0.9375)+j}else{return f*(7.5625*(d-=2.625/2.75)*d+0.984375)+j}}}},easeInOutBounce:function(h,d,j,f,c){if(d<c/2){return jQuery.easing.easeInBounce(h,d*2,0,f,c)*0.5+j}return jQuery.easing.easeOutBounce(h,d*2-c,0,f,c)*0.5+f*0.5+j}});b.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage"]};b.expr[":"].uncached=function(c){var d=document.createElement("img");d.src=c.src;return b(c).is('img[src!=""]')&&!d.complete};b.fn.waitForImages=function(c,f,d){if(b.isPlainObject(arguments[0])){f=c.each;d=c.waitForAll;c=c.finished}c=c||b.noop;f=f||b.noop;d=!!d;if(!b.isFunction(c)||!b.isFunction(f)){throw new TypeError("An invalid callback was supplied.")}return this.each(function(){var k=b(this),m=[];if(d){var p=b.waitForImages.hasImageProperties||[],j=/url\((['"]?)(.*?)\1\)/g;k.find("*").each(function(){var i=b(this);if(i.is("img:uncached")){m.push({src:i.attr("src"),element:i[0]})}b.each(p,function(q,s){var o=i.css(s);if(!o){return true}var l;while(l=j.exec(o)){m.push({src:l[2],element:i[0]})}})})}else{k.find("img:uncached").each(function(){m.push({src:this.src,element:this})})}var n=m.length,h=0;if(n==0){c.call(k[0])}b.each(m,function(l,i){var q=new Image;b(q).bind("load error",function(o){h++;f.call(i.element,h,n,o.type=="load");if(h==n){c.call(k[0]);return false}});q.src=i.src})})};b.fn.swipe=function(A){if(!this){return false}var G={fingers:1,threshold:75,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,click:null,triggerOnTouchEnd:true,allowPageScroll:"auto"};var C="left";var K="right";var B="up";var F="down";var x="none";var N="horizontal";var I="vertical";var P="auto";var L="start";var D="move";var O="end";var q="cancel";var H="ontouchstart" in window,M=H?"touchstart":"mousedown",j=H?"touchmove":"mousemove",Q=H?"touchend":"mouseup",k="touchcancel";var z="start";if(A.allowPageScroll==undefined&&(A.swipe!=undefined||A.swipeStatus!=undefined)){A.allowPageScroll=x}if(A){b.extend(G,A)}return this.each(function(){function R(){var t=l();if(t<=45&&t>=0){return C}else{if(t<=360&&t>=315){return C}else{if(t>=135&&t<=225){return K}else{if(t>45&&t<135){return F}else{return B}}}}}function l(){var U=v.x-f.x;var S=f.y-v.y;var V=Math.atan2(S,U);var T=Math.round(V*180/Math.PI);if(T<0){T=360-Math.abs(T)}return T}function s(){return Math.round(Math.sqrt(Math.pow(f.x-v.x,2)+Math.pow(f.y-v.y,2)))}function i(U,T){if(G.allowPageScroll==x){U.preventDefault()}else{var S=G.allowPageScroll==P;switch(T){case C:if(G.swipeLeft&&S||!S&&G.allowPageScroll!=N){U.preventDefault()}break;case K:if(G.swipeRight&&S||!S&&G.allowPageScroll!=N){U.preventDefault()}break;case B:if(G.swipeUp&&S||!S&&G.allowPageScroll!=I){U.preventDefault()}break;case F:if(G.swipeDown&&S||!S&&G.allowPageScroll!=I){U.preventDefault()}break}}}function o(T,S){if(G.swipeStatus){G.swipeStatus.call(y,T,S,direction||null,distance||0)}if(S==q){if(G.click&&(m==1||!H)&&(isNaN(distance)||distance==0)){G.click.call(y,T,T.target)}}if(S==O){if(G.swipe){G.swipe.call(y,T,direction,distance)}switch(direction){case C:if(G.swipeLeft){G.swipeLeft.call(y,T,direction,distance)}break;case K:if(G.swipeRight){G.swipeRight.call(y,T,direction,distance)}break;case B:if(G.swipeUp){G.swipeUp.call(y,T,direction,distance)}break;case F:if(G.swipeDown){G.swipeDown.call(y,T,direction,distance)}break}}}function d(t){m=0;v.x=0;v.y=0;f.x=0;f.y=0;E.x=0;E.y=0}function r(t){t.preventDefault();distance=s();direction=R();if(G.triggerOnTouchEnd){z=O;if((m==G.fingers||!H)&&f.x!=0){if(distance>=G.threshold){o(t,z);d(t)}else{z=q;o(t,z);d(t)}}else{z=q;o(t,z);d(t)}}else{if(z==D){z=q;o(t,z);d(t)}}p.removeEventListener(j,h,false);p.removeEventListener(Q,r,false)}function h(S){if(z==O||z==q){return}var t=H?S.touches[0]:S;f.x=t.pageX;f.y=t.pageY;direction=R();if(H){m=S.touches.length}z=D;i(S,direction);if(m==G.fingers||!H){distance=s();if(G.swipeStatus){o(S,z,direction,distance)}if(!G.triggerOnTouchEnd){if(distance>=G.threshold){z=O;o(S,z);d(S)}}}else{z=q;o(S,z);d(S)}}function n(T){var S=H?T.touches[0]:T;z=L;if(H){m=T.touches.length}distance=0;direction=null;if(m==G.fingers||!H){v.x=f.x=S.pageX;v.y=f.y=S.pageY;if(G.swipeStatus){o(T,z)}}else{d(T)}p.addEventListener(j,h,false);p.addEventListener(Q,r,false)}var p=this;var y=b(this);var c=null;var m=0;var v={x:0,y:0};var f={x:0,y:0};var E={x:0,y:0};try{this.addEventListener(M,n,false);this.addEventListener(k,d)}catch(u){}})}})(jQuery);function revslider_showDoubleJqueryError(a){var b="Revolution Slider Error: You have some jquery.js library include that comes after the revolution files js include.";b+="<br> This includes make eliminates the revolution slider libraries, and make it not work.";b+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Slider Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.";b+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it.";b="<span style='font-size:16px;color:#BC0C06;'>"+b+"</span>";jQuery(a).show().html(b)}(function(u,o){u.fn.extend({revolution:function(P){u.fn.revolution.defaults={delay:9000,startheight:400,startwidth:960,hideThumbs:200,thumbWidth:100,thumbHeight:50,thumbAmount:5,navigationType:"bullet",navigationArrows:"withbullet",navigationStyle:"round",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:20,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,touchenabled:"on",onHoverStop:"on",stopAtSlide:-1,stopAfterLoops:-1,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,hideSliderAtLimit:0,shadow:1,fullWidth:"off",fullScreen:"off"};P=u.extend({},u.fn.revolution.defaults,P);return this.each(function(){var T=P;var S=u(this);if(!S.hasClass("revslider-initialised")){S.addClass("revslider-initialised");if(S.attr("id")==o){S.attr("id","revslider-"+Math.round(Math.random()*1000+5))}T.firefox13=false;T.ie=!u.support.opacity;T.ie9=(document.documentMode==9);var Y=u.fn.jquery.split("."),Z=parseFloat(Y[0]),ac=parseFloat(Y[1]),V=parseFloat(Y[2]||"0");if(Z==1&&ac<7){S.html('<div style="text-align:center; padding:40px 0px; font-size:20px; color:#992222;"> The Current Version of jQuery:'+Y+" <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>")}if(Z>1){T.ie=false}if(!u.support.transition){u.fn.transition=u.fn.animate}u.cssEase.Bounce="cubic-bezier(0,1,0.5,1.3)";S.find(".caption").each(function(){u(this).addClass("tp-caption")});var ad=0;var R=0;var X=0;S.find(".tp-caption iframe").each(function(af){try{if(u(this).attr("src").indexOf("you")>0&&ad==0){ad=1;var ag=document.createElement("script");ag.src="http://www.youtube.com/player_api";var ah=document.getElementsByTagName("script")[0];ah.parentNode.insertBefore(ag,ah)}}catch(ai){}});S.find(".tp-caption iframe").each(function(af){try{if(u(this).attr("src").indexOf("vim")>0&&R==0){R=1;var ah=document.createElement("script");ah.src="http://a.vimeocdn.com/js/froogaloop2.min.js";var ag=document.getElementsByTagName("script")[0];ag.parentNode.insertBefore(ah,ag)}}catch(ai){}});S.find(".tp-caption video").each(function(af){try{if(u(this).hasClass("video-js")&&X==0){X=1;var ah=document.createElement("script");ah.src=T.videoJsPath+"video.js";var ag=document.getElementsByTagName("script")[0];ag.parentNode.insertBefore(ah,ag);u("head").append('<link rel="stylesheet" type="text/css" href="'+T.videoJsPath+'video-js.min.css" media="screen" />');u("head").append('<script> videojs.options.flash.swf = "'+T.videoJsPath+'video-js.swf";<\/script>')}}catch(ai){}});if(T.shuffle=="on"){for(var ae=0;ae<S.find(">ul:first-child >li").length;ae++){var W=Math.round(Math.random()*S.find(">ul:first-child >li").length);S.find(">ul:first-child >li:eq("+W+")").prependTo(S.find(">ul:first-child"))}}T.slots=4;T.act=-1;T.next=0;if(T.startWithSlide!=o){T.next=T.startWithSlide}var ab=A("#")[0];if(ab.length<9){if(ab.split("slide").length>1){var U=parseInt(ab.split("slide")[1],0);if(U<1){U=1}if(U>S.find(">ul:first >li").length){U=S.find(">ul:first >li").length}T.next=U-1}}T.origcd=T.delay;T.firststart=1;if(T.navigationHOffset==o){T.navOffsetHorizontal=0}if(T.navigationVOffset==o){T.navOffsetVertical=0}S.append('<div class="tp-loader"></div>');if(S.find(".tp-bannertimer").length==0){S.append('<div class="tp-bannertimer" style="visibility:hidden"></div>')}var aa=S.find(".tp-bannertimer");if(aa.length>0){aa.css({width:"0%"})}S.addClass("tp-simpleresponsive");T.container=S;T.slideamount=S.find(">ul:first >li").length;if(S.height()==0){S.height(T.startheight)}if(T.startwidth==o||T.startwidth==0){T.startwidth=S.width()}if(T.startheight==o||T.startheight==0){T.startheight=S.height()}T.width=S.width();T.height=S.height();T.bw=T.startwidth/S.width();T.bh=T.startheight/S.height();if(T.width!=T.startwidth){T.height=Math.round(T.startheight*(T.width/T.startwidth));S.height(T.height)}if(T.shadow!=0){S.parent().append('<div class="tp-bannershadow tp-shadow'+T.shadow+'"></div>');S.parent().find(".tp-bannershadow").css({width:T.width})}S.find("ul").css({display:"none"});if(T.lazyLoad!="on"){S.waitForImages(function(){S.find("ul").css({display:"block"});v(S,T);if(T.slideamount>1){L(S,T)}if(T.slideamount>1){H(S,T)}if(T.slideamount>1){O(S,T)}u("#unvisible_button").click(function(){T.navigationArrows=u(".selectnavarrows").val();T.navigationType=u(".selectnavtype").val();T.navigationStyle=u(".selectnavstyle").val();T.soloArrowStyle="default";u(".tp-bullets").remove();u(".tparrows").remove();if(T.slideamount>1){L(S,T)}if(T.slideamount>1){H(S,T)}if(T.slideamount>1){O(S,T)}});k(S,T);if(T.hideThumbs>0){y(S,T)}S.waitForImages(function(){S.find(".tp-loader").fadeOut(600);setTimeout(function(){d(S,T);if(T.slideamount>1){n(S,T)}S.trigger("revolution.slide.onloaded")},600)})})}else{var Q=S.find("ul >li >img").first();if(Q.data("lazyload")!=o){Q.attr("src",Q.data("lazyload"))}Q.data("lazydone",1);Q.parent().waitForImages(function(){S.find("ul").css({display:"block"});v(S,T);if(T.slideamount>1){L(S,T)}if(T.slideamount>1){H(S,T)}if(T.slideamount>1){O(S,T)}k(S,T);if(T.hideThumbs>0){y(S,T)}Q.parent().waitForImages(function(){S.find(".tp-loader").fadeOut(600);setTimeout(function(){d(S,T);if(T.slideamount>1){n(S,T)}S.trigger("revolution.slide.onloaded")},600)})})}u(window).resize(function(){if(u("body").find(S)!=0){if(S.outerWidth(true)!=T.width){q(S,T)}}});S.find(".tp-scrollbelowslider").on("click",function(){var ag=0;try{ag=u("body").find(T.fullScreenOffsetContainer).height()}catch(af){}try{ag=ag-u(this).data("scrolloffset")}catch(af){}u("body,html").animate({scrollTop:(S.offset().top+(S.find(">ul >li").height())-ag)+"px"},{duration:400})})}})},revscroll:function(P){return this.each(function(){var Q=u(this);u("body,html").animate({scrollTop:(Q.offset().top+(Q.find(">ul >li").height())-P)+"px"},{duration:400})})},revpause:function(P){return this.each(function(){var Q=u(this);Q.data("conthover",1);Q.data("conthover-changed",1);Q.trigger("revolution.slide.onpause");var R=Q.parent().find(".tp-bannertimer");R.stop()})},revresume:function(P){return this.each(function(){var Q=u(this);Q.data("conthover",0);Q.data("conthover-changed",1);Q.trigger("revolution.slide.onresume");var R=Q.parent().find(".tp-bannertimer");var S=R.data("opt");R.animate({width:"100%"},{duration:((S.delay-S.cd)-100),queue:false,easing:"linear"})})},revnext:function(P){return this.each(function(){var Q=u(this);Q.parent().find(".tp-rightarrow").click()})},revprev:function(P){return this.each(function(){var Q=u(this);Q.parent().find(".tp-leftarrow").click()})},revmaxslide:function(P){return u(this).find(">ul:first-child >li").length},revcurrentslide:function(R){var P=u(this);var Q=P.parent().find(".tp-bannertimer");var S=Q.data("opt");return S.act},revlastslide:function(R){var P=u(this);var Q=P.parent().find(".tp-bannertimer");var S=Q.data("opt");return S.lastslide},revshowslide:function(P){return this.each(function(){var Q=u(this);Q.data("showus",P);Q.parent().find(".tp-rightarrow").click()})}});function A(R){var T=[],S;var P=window.location.href.slice(window.location.href.indexOf(R)+1).split("_");for(var Q=0;Q<P.length;Q++){P[Q]=P[Q].replace("%3D","=");S=P[Q].split("=");T.push(S[0]);T[S[0]]=S[1]}return T}function q(P,Q){P.find(".defaultimg").each(function(T){C(u(this),Q);Q.height=Math.round(Q.startheight*(Q.width/Q.startwidth));P.height(Q.height);C(u(this),Q);try{P.parent().find(".tp-bannershadow").css({width:Q.width})}catch(V){}var R=P.find(">ul >li:eq("+Q.act+") .slotholder");var U=P.find(">ul >li:eq("+Q.next+") .slotholder");N(P,Q);U.find(".defaultimg").css({opacity:0});R.find(".defaultimg").css({opacity:1});r(P,Q);var S=P.find(">ul >li:eq("+Q.next+")");P.find(".tp-caption").each(function(){u(this).stop(true,true)});m(S,Q);b(Q,P)})}function b(R,P){R.cd=0;if(R.videoplaying!=true){var Q=P.find(".tp-bannertimer");if(Q.length>0){Q.stop();Q.css({width:"0%"});Q.animate({width:"100%"},{duration:(R.delay-100),queue:false,easing:"linear"})}clearTimeout(R.thumbtimer);R.thumbtimer=setTimeout(function(){G(P);K(P,R)},200)}}function D(R,P){R.cd=0;var Q=P.find(".tp-bannertimer");if(Q.length>0){Q.stop(true,true);Q.css({width:"0%"})}clearTimeout(R.thumbtimer)}function s(R,P){R.cd=0;d(P,R);var Q=P.find(".tp-bannertimer");if(Q.length>0){Q.stop();Q.css({width:"0%"});Q.animate({width:"100%"},{duration:(R.delay-100),queue:false,easing:"linear"})}}function H(S,V){var U=S.parent();if(V.navigationType=="thumb"||V.navsecond=="both"){U.append('<div class="tp-bullets tp-thumbs '+V.navigationStyle+'"><div class="tp-mask"><div class="tp-thumbcontainer"></div></div></div>')}var R=U.find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer");var T=R.parent();T.width(V.thumbWidth*V.thumbAmount);T.height(V.thumbHeight);T.parent().width(V.thumbWidth*V.thumbAmount);T.parent().height(V.thumbHeight);S.find(">ul:first >li").each(function(Z){var X=S.find(">ul:first >li:eq("+Z+")");if(X.data("thumb")!=o){var aa=X.data("thumb")}else{var aa=X.find("img:first").attr("src")}R.append('<div class="bullet thumb"><img src="'+aa+'"></div>');var Y=R.find(".bullet:first")});var W=100;R.find(".bullet").each(function(X){var Y=u(this);if(X==V.slideamount-1){Y.addClass("last")}if(X==0){Y.addClass("first")}Y.width(V.thumbWidth);Y.height(V.thumbHeight);if(W>Y.outerWidth(true)){W=Y.outerWidth(true)}Y.click(function(){if(V.transition==0&&Y.index()!=V.act){V.next=Y.index();s(V,S)}})});var Q=W*S.find(">ul:first >li").length;var P=R.parent().width();V.thumbWidth=W;if(P<Q){u(document).mousemove(function(X){u("body").data("mousex",X.pageX)});R.parent().mouseenter(function(){var aa=u(this);aa.addClass("over");var Z=aa.offset();var ae=u("body").data("mousex")-Z.left;var X=aa.width();var Y=aa.find(".bullet:first").outerWidth(true);var ad=Y*S.find(">ul:first >li").length;var af=(ad-X)+15;var ac=af/X;ae=ae-30;var ab=(0-((ae)*ac));if(ab>0){ab=0}if(ab<0-ad+X){ab=0-ad+X}E(aa,ab,200)});R.parent().mousemove(function(){var aa=u(this);var Z=aa.offset();var ae=u("body").data("mousex")-Z.left;var X=aa.width();var Y=aa.find(".bullet:first").outerWidth(true);var ad=Y*S.find(">ul:first >li").length;var af=(ad-X)+15;var ac=af/X;ae=ae-30;var ab=(0-((ae)*ac));if(ab>0){ab=0}if(ab<0-ad+X){ab=0-ad+X}E(aa,ab,0)});R.parent().mouseleave(function(){var X=u(this);X.removeClass("over");G(S)})}}function G(P){var Q=P.parent().find(".tp-bullets.tp-thumbs .tp-mask .tp-thumbcontainer");var U=Q.parent();var T=U.offset();var S=U.find(".bullet:first").outerWidth(true);var Y=U.find(".bullet.selected").index()*S;var R=U.width();var S=U.find(".bullet:first").outerWidth(true);var X=S*P.find(">ul:first >li").length;var Z=(X-R);var W=Z/R;var V=0-Y;if(V>0){V=0}if(V<0-X+R){V=0-X+R}if(!U.hasClass("over")){E(U,V,200)}}function E(Q,R,P){Q.stop();Q.find(".tp-thumbcontainer").animate({left:R+"px"},{duration:P,queue:false})}function L(Q,R){if(R.navigationType=="bullet"||R.navigationType=="both"){Q.parent().append('<div class="tp-bullets simplebullets '+R.navigationStyle+'"></div>')}var P=Q.parent().find(".tp-bullets");Q.find(">ul:first >li").each(function(T){var U=Q.find(">ul:first >li:eq("+T+") img:first").attr("src");P.append('<div class="bullet"></div>');var S=P.find(".bullet:first")});P.find(".bullet").each(function(S){var T=u(this);if(S==R.slideamount-1){T.addClass("last")}if(S==0){T.addClass("first")}T.click(function(){var U=false;if(R.navigationArrows=="withbullet"||R.navigationArrows=="nexttobullets"){if(T.index()-1==R.act){U=true}}else{if(T.index()==R.act){U=true}}if(R.transition==0&&!U){if(R.navigationArrows=="withbullet"||R.navigationArrows=="nexttobullets"){R.next=T.index()-1}else{R.next=T.index()}s(R,Q)}})});P.append('<div class="tpclear"></div>');K(Q,R)}function O(Q,S){var P=Q.find(".tp-bullets");var T="";var R=S.navigationStyle;if(S.navigationArrows=="none"){T="visibility:none"}S.soloArrowStyle="default";if(S.navigationArrows!="none"&&S.navigationArrows!="nexttobullets"){R=S.soloArrowStyle}Q.parent().append('<div style="'+T+'" class="tp-leftarrow tparrows '+R+'"></div>');Q.parent().append('<div style="'+T+'" class="tp-rightarrow tparrows '+R+'"></div>');Q.parent().find(".tp-rightarrow").click(function(){if(S.transition==0){if(Q.data("showus")!=o&&Q.data("showus")!=-1){S.next=Q.data("showus")-1}else{S.next=S.next+1}Q.data("showus",-1);if(S.next>=S.slideamount){S.next=0}if(S.next<0){S.next=0}if(S.act!=S.next){s(S,Q)}}});Q.parent().find(".tp-leftarrow").click(function(){if(S.transition==0){S.next=S.next-1;S.leftarrowpressed=1;if(S.next<0){S.next=S.slideamount-1}s(S,Q)}});K(Q,S)}function k(P,Q){if(Q.touchenabled=="on"){P.swipe({data:P,swipeRight:function(){if(Q.transition==0){Q.next=Q.next-1;Q.leftarrowpressed=1;if(Q.next<0){Q.next=Q.slideamount-1}s(Q,P)}},swipeLeft:function(){if(Q.transition==0){Q.next=Q.next+1;if(Q.next==Q.slideamount){Q.next=0}s(Q,P)}},allowPageScroll:"auto"})}}function y(R,S){var Q=R.parent().find(".tp-bullets");var P=R.parent().find(".tparrows");if(Q==null){R.append('<div class=".tp-bullets"></div>');var Q=R.parent().find(".tp-bullets")}if(P==null){R.append('<div class=".tparrows"></div>');var P=R.parent().find(".tparrows")}R.data("hidethumbs",S.hideThumbs);Q.addClass("hidebullets");P.addClass("hidearrows");Q.hover(function(){Q.addClass("hovered");clearTimeout(R.data("hidethumbs"));Q.removeClass("hidebullets");P.removeClass("hidearrows")},function(){Q.removeClass("hovered");if(!R.hasClass("hovered")&&!Q.hasClass("hovered")){R.data("hidethumbs",setTimeout(function(){Q.addClass("hidebullets");P.addClass("hidearrows")},S.hideThumbs))}});P.hover(function(){Q.addClass("hovered");clearTimeout(R.data("hidethumbs"));Q.removeClass("hidebullets");P.removeClass("hidearrows")},function(){Q.removeClass("hovered")});R.on("mouseenter",function(){R.addClass("hovered");clearTimeout(R.data("hidethumbs"));Q.removeClass("hidebullets");P.removeClass("hidearrows")});R.on("mouseleave",function(){R.removeClass("hovered");if(!R.hasClass("hovered")&&!Q.hasClass("hovered")){R.data("hidethumbs",setTimeout(function(){Q.addClass("hidebullets");P.addClass("hidearrows")},S.hideThumbs))}})}function K(R,T){var P=R.parent();var Q=P.find(".tp-bullets");var S=P.find(".tp-leftarrow");var U=P.find(".tp-rightarrow");if(T.navigationType=="thumb"&&T.navigationArrows=="nexttobullets"){T.navigationArrows="solo"}if(T.navigationArrows=="nexttobullets"){S.prependTo(Q).css({"float":"left"});U.insertBefore(Q.find(".tpclear")).css({"float":"left"})}if(T.navigationArrows!="none"&&T.navigationArrows!="nexttobullets"){S.css({position:"absolute"});U.css({position:"absolute"});if(T.soloArrowLeftValign=="center"){S.css({top:"50%",marginTop:(T.soloArrowLeftVOffset-Math.round(S.innerHeight()/2))+"px"})}if(T.soloArrowLeftValign=="bottom"){S.css({bottom:(0+T.soloArrowLeftVOffset)+"px"})}if(T.soloArrowLeftValign=="top"){S.css({top:(0+T.soloArrowLeftVOffset)+"px"})}if(T.soloArrowLeftHalign=="center"){S.css({left:"50%",marginLeft:(T.soloArrowLeftHOffset-Math.round(S.innerWidth()/2))+"px"})}if(T.soloArrowLeftHalign=="left"){S.css({left:(0+T.soloArrowLeftHOffset)+"px"})}if(T.soloArrowLeftHalign=="right"){S.css({right:(0+T.soloArrowLeftHOffset)+"px"})}if(T.soloArrowRightValign=="center"){U.css({top:"50%",marginTop:(T.soloArrowRightVOffset-Math.round(U.innerHeight()/2))+"px"})}if(T.soloArrowRightValign=="bottom"){U.css({bottom:(0+T.soloArrowRightVOffset)+"px"})}if(T.soloArrowRightValign=="top"){U.css({top:(0+T.soloArrowRightVOffset)+"px"})}if(T.soloArrowRightHalign=="center"){U.css({left:"50%",marginLeft:(T.soloArrowRightHOffset-Math.round(U.innerWidth()/2))+"px"})}if(T.soloArrowRightHalign=="left"){U.css({left:(0+T.soloArrowRightHOffset)+"px"})}if(T.soloArrowRightHalign=="right"){U.css({right:(0+T.soloArrowRightHOffset)+"px"})}if(S.position()!=null){S.css({top:Math.round(parseInt(S.position().top,0))+"px"})}if(U.position()!=null){U.css({top:Math.round(parseInt(U.position().top,0))+"px"})}}if(T.navigationArrows=="none"){S.css({visibility:"hidden"});U.css({visibility:"hidden"})}if(T.navigationVAlign=="center"){Q.css({top:"50%",marginTop:(T.navigationVOffset-Math.round(Q.innerHeight()/2))+"px"})}if(T.navigationVAlign=="bottom"){Q.css({bottom:(0+T.navigationVOffset)+"px"})}if(T.navigationVAlign=="top"){Q.css({top:(0+T.navigationVOffset)+"px"})}if(T.navigationHAlign=="center"){Q.css({left:"50%",marginLeft:(T.navigationHOffset-Math.round(Q.innerWidth()/2))+"px"})}if(T.navigationHAlign=="left"){Q.css({left:(0+T.navigationHOffset)+"px"})}if(T.navigationHAlign=="right"){Q.css({right:(0+T.navigationHOffset)+"px"})}}function C(U,Q){Q.width=parseInt(Q.container.width(),0);Q.height=parseInt(Q.container.height(),0);Q.bw=(Q.width/Q.startwidth);if(Q.fullScreen=="on"){Q.height=Q.bw*Q.startheight}Q.bh=(Q.height/Q.startheight);if(Q.bh>1){Q.bh=1;Q.bw=1}if((U.data("lazyload")!=o&&U.data("lazydone")==1)||U.data("lazyload")===o){if(U.data("orgw")!=o&&U.data("orgw")!=0){U.width(U.data("orgw"));U.height(U.data("orgh"))}}var S=Q.width/U.width();var Y=Q.height/U.height();Q.fw=S;Q.fh=Y;if((U.data("lazyload")!=o&&U.data("lazydone")==1)||U.data("lazyload")===o){if(U.data("orgw")==o||U.data("orgw")==0){U.data("orgw",U.width());U.data("orgh",U.height())}}if(Q.fullWidth=="on"&&Q.fullScreen!="on"){var X=Q.container.parent().width();var T=Q.container.parent().height();var R=T/U.data("orgh");var V=X/U.data("orgw");if((U.data("lazyload")!=o&&U.data("lazydone")==1)||U.data("lazyload")===o){U.width(U.width()*R);U.height(T)}if(U.width()<X){U.width(X+50);var V=U.width()/U.data("orgw");U.height(U.data("orgh")*V)}if(U.width()>X){U.data("fxof",(X/2-U.width()/2));U.css({position:"absolute",left:U.data("fxof")+"px"})}if(U.height()<=T){U.data("fyof",0);U.data("fxof",(X/2-U.width()/2));U.css({position:"absolute",top:U.data("fyof")+"px",left:U.data("fxof")+"px"})}if(U.height()>T&&U.data("fullwidthcentering")=="on"){U.data("fyof",(T/2-U.height()/2));U.data("fxof",(X/2-U.width()/2));U.css({position:"absolute",top:U.data("fyof")+"px",left:U.data("fxof")+"px"})}}else{if(Q.fullScreen=="on"){var X=Q.container.parent().width();var T=u(window).height();var P=T/2-(Q.startheight*Q.bh)/2;if(P<0){T=Q.startheight*Q.bh}if(Q.fullScreenOffsetContainer!=o){try{T=T-u(Q.fullScreenOffsetContainer).outerHeight(true)}catch(W){}}Q.container.parent().height(T);Q.container.css({height:"100%"});Q.height=T;var R=T/U.data("orgh");var V=X/U.data("orgw");if((U.data("lazyload")!=o&&U.data("lazydone")==1)||U.data("lazyload")===o){U.width(U.width()*R);U.height(T)}if(U.width()<X){U.width(X+50);var V=U.width()/U.data("orgw");U.height(U.data("orgh")*V)}if(U.width()>X){U.data("fxof",(X/2-U.width()/2));U.css({position:"absolute",left:U.data("fxof")+"px"})}if(U.height()<=T){U.data("fyof",0);U.data("fxof",(X/2-U.width()/2));U.css({position:"absolute",top:U.data("fyof")+"px",left:U.data("fxof")+"px"})}if(U.height()>T&&U.data("fullwidthcentering")=="on"){U.data("fyof",(T/2-U.height()/2));U.data("fxof",(X/2-U.width()/2));U.css({position:"absolute",top:U.data("fyof")+"px",left:U.data("fxof")+"px"})}}else{if((U.data("lazyload")!=o&&U.data("lazydone")==1)||U.data("lazyload")===o){U.width(Q.width);U.height(U.height()*S)}if(U.height()<Q.height&&U.height()!=0&&U.height()!=null){if((U.data("lazyload")!=o&&U.data("lazydone")==1)||U.data("lazyload")===o){U.height(Q.height);U.width(U.data("orgw")*Y)}}}}U.data("neww",U.width());U.data("newh",U.height());if(Q.fullWidth=="on"){Q.slotw=Math.ceil(U.width()/Q.slots)}else{Q.slotw=Math.ceil(Q.width/Q.slots)}if(Q.fullSreen=="on"){Q.sloth=Math.ceil(u(window).height()/Q.slots)}else{Q.sloth=Math.ceil(Q.height/Q.slots)}}function v(P,Q){P.find(".tp-caption").each(function(){u(this).addClass(u(this).data("transition"));u(this).addClass("start")});P.find(">ul:first").css({overflow:"hidden",width:"100%",height:"100%",maxHeight:P.parent().css("maxHeight")});P.find(">ul:first >li").each(function(S){var R=u(this);R.css({width:"100%",height:"100%",overflow:"hidden"});if(R.data("link")!=o){var U=R.data("link");var V="_self";var T=2;if(R.data("slideindex")=="back"){T=0}var W=R.data("linktoslide");if(R.data("target")!=o){V=R.data("target")}if(U=="slide"){R.append('<div class="tp-caption sft slidelink" style="z-index:'+T+';" data-x="0" data-y="0" data-linktoslide="'+W+'" data-start="0"><a><div></div></a></div>')}else{W="no";R.append('<div class="tp-caption sft slidelink" style="z-index:'+T+';" data-x="0" data-y="0" data-linktoslide="'+W+'" data-start="0"><a target="'+V+'" href="'+U+'"><div></div></a></div>')}}});P.parent().css({overflow:"visible"});P.find(">ul:first >li >img").each(function(S){var R=u(this);R.addClass("defaultimg");if(R.data("lazyload")!=o&&R.data("lazydone")!=1){}else{C(R,Q);C(R,Q)}R.wrap('<div class="slotholder"></div>');R.css({opacity:0});R.data("li-id",S)})}function j(Z,Q,S){var W=Z;var U=W.find("img");C(U,Q);var P=U.attr("src");var ab=U.css("background-color");var aa=U.data("neww");var V=U.data("newh");var Y=U.data("fxof");if(Y==o){Y=0}var X=U.data("fyof");if(U.data("fullwidthcentering")!="on"||X==o){X=0}var R=0;if(!S){var R=0-Q.slotw}for(var T=0;T<Q.slots;T++){W.append('<div class="slot" style="position:absolute;top:'+(0+X)+"px;left:"+(Y+T*Q.slotw)+"px;overflow:hidden;width:"+Q.slotw+"px;height:"+V+'px"><div class="slotslide" style="position:absolute;top:0px;left:'+R+"px;width:"+Q.slotw+"px;height:"+V+'px;overflow:hidden;"><img style="background-color:'+ab+";position:absolute;top:0px;left:"+(0-(T*Q.slotw))+"px;width:"+aa+"px;height:"+V+'px" src="'+P+'"></div></div>')}}function a(Z,Q,S){var W=Z;var U=W.find("img");C(U,Q);var P=U.attr("src");var ab=U.css("background-color");var aa=U.data("neww");var V=U.data("newh");var Y=U.data("fxof");if(Y==o){Y=0}var X=U.data("fyof");if(U.data("fullwidthcentering")!="on"||X==o){X=0}var R=0;if(!S){var R=0-Q.sloth}for(var T=0;T<Q.slots+2;T++){W.append('<div class="slot" style="position:absolute;top:'+(X+(T*Q.sloth))+"px;left:"+(Y)+"px;overflow:hidden;width:"+aa+"px;height:"+(Q.sloth)+'px"><div class="slotslide" style="position:absolute;top:'+(R)+"px;left:0px;width:"+aa+"px;height:"+Q.sloth+'px;overflow:hidden;"><img style="position:absolute;background-color:'+ab+";top:"+(0-(T*Q.sloth))+"px;left:0px;width:"+aa+"px;height:"+V+'px" src="'+P+'"></div></div>')}}function I(ad,R,T){var Y=ad;var W=Y.find("img");C(W,R);var Q=W.attr("src");var af=W.css("background-color");var ae=W.data("neww");var X=W.data("newh");var ac=W.data("fxof");if(ac==o){ac=0}var Z=W.data("fyof");if(W.data("fullwidthcentering")!="on"||Z==o){Z=0}var S=0;var P=0;if(R.sloth>R.slotw){P=R.sloth}else{P=R.slotw}if(!T){var S=0-P}R.slotw=P;R.sloth=P;var ab=0;var aa=0;for(var U=0;U<R.slots;U++){aa=0;for(var V=0;V<R.slots;V++){Y.append('<div class="slot" style="position:absolute;top:'+(Z+aa)+"px;left:"+(ac+ab)+"px;width:"+P+"px;height:"+P+'px;overflow:hidden;"><div class="slotslide" data-x="'+ab+'" data-y="'+aa+'" style="position:absolute;top:'+(0)+"px;left:"+(0)+"px;width:"+P+"px;height:"+P+'px;overflow:hidden;"><img style="position:absolute;top:'+(0-aa)+"px;left:"+(0-ab)+"px;width:"+ae+"px;height:"+X+"pxbackground-color:"+af+';"src="'+Q+'"></div></div>');aa=aa+P}ab=ab+P}}function N(P,Q,R){if(R==o){R==80}setTimeout(function(){P.find(".slotholder .slot").each(function(){clearTimeout(u(this).data("tout"));u(this).remove()});Q.transition=0},R)}function r(P,R){var T=P.find(">li:eq("+R.act+")");var Q=P.find(">li:eq("+R.next+")");var S=Q.find(".tp-caption");if(S.find("iframe")==0){if(S.hasClass("hcenter")){S.css({height:R.height+"px",top:"0px",left:(R.width/2-S.outerWidth()/2)+"px"})}else{if(S.hasClass("vcenter")){S.css({width:R.width+"px",left:"0px",top:(R.height/2-S.outerHeight()/2)+"px"})}}}}function d(P,R){try{var U=P.find(">ul:first-child >li:eq("+R.act+")")}catch(T){var U=P.find(">ul:first-child >li:eq(1)")}R.lastslide=R.act;var Q=P.find(">ul:first-child >li:eq("+R.next+")");var S=Q.find(".defaultimg");if(S.data("lazyload")!=o&&S.data("lazydone")!=1){S.attr("src",Q.find(".defaultimg").data("lazyload")),S.data("lazydone",1);S.data("orgw",0);P.find(".tp-loader").fadeIn(300);setTimeout(function(){D(R,P)},180);Q.waitForImages(function(){b(R,P);C(S,R);K(P,R);C(S,R);c(P,R);P.find(".tp-loader").fadeOut(300)})}else{c(P,R)}}function c(ab,P){ab.trigger("revolution.slide.onbeforeswap");P.transition=1;P.videoplaying=false;try{var V=ab.find(">ul:first-child >li:eq("+P.act+")")}catch(al){var V=ab.find(">ul:first-child >li:eq(1)")}P.lastslide=P.act;var X=ab.find(">ul:first-child >li:eq("+P.next+")");var ag=V.find(".slotholder");var aj=X.find(".slotholder");V.css({visibility:"visible"});X.css({visibility:"visible"});if(P.ie){if(R=="boxfade"){R="boxslide"}if(R=="slotfade-vertical"){R="slotzoom-vertical"}if(R=="slotfade-horizontal"){R="slotzoom-horizontal"}}if(X.data("delay")!=o){P.cd=0;P.delay=X.data("delay")}else{P.delay=P.origcd}V.css({left:"0px",top:"0px"});X.css({left:"0px",top:"0px"});if(X.data("differentissplayed")=="prepared"){X.data("differentissplayed","done");X.data("transition",X.data("savedtransition"));X.data("slotamount",X.data("savedslotamount"));X.data("masterspeed",X.data("savedmasterspeed"))}if(X.data("fstransition")!=o&&X.data("differentissplayed")!="done"){X.data("savedtransition",X.data("transition"));X.data("savedslotamount",X.data("slotamount"));X.data("savedmasterspeed",X.data("masterspeed"));X.data("transition",X.data("fstransition"));X.data("slotamount",X.data("fsslotamount"));X.data("masterspeed",X.data("fsmasterspeed"));X.data("differentissplayed","prepared")}var Q=0;var an=X.data("transition").split(",");var ae=X.data("nexttransid");if(ae==o){ae=0;X.data("nexttransid",ae)}else{ae=ae+1;if(ae==an.length){ae=0}X.data("nexttransid",ae)}var R=an[ae];if(R=="boxslide"){Q=0}else{if(R=="boxfade"){Q=1}else{if(R=="slotslide-horizontal"){Q=2}else{if(R=="slotslide-vertical"){Q=3}else{if(R=="curtain-1"){Q=4}else{if(R=="curtain-2"){Q=5}else{if(R=="curtain-3"){Q=6}else{if(R=="slotzoom-horizontal"){Q=7}else{if(R=="slotzoom-vertical"){Q=8}else{if(R=="slotfade-horizontal"){Q=9}else{if(R=="slotfade-vertical"){Q=10}else{if(R=="fade"){Q=11}else{if(R=="slideleft"){Q=12}else{if(R=="slideup"){Q=13}else{if(R=="slidedown"){Q=14}else{if(R=="slideright"){Q=15}else{if(R=="papercut"){Q=16}else{if(R=="3dcurtain-horizontal"){Q=17}else{if(R=="3dcurtain-vertical"){Q=18}else{if(R=="cubic"||R=="cube"){Q=19}else{if(R=="flyin"){Q=20}else{if(R=="turnoff"){Q=21}else{Q=Math.round(Math.random()*21);X.data("slotamount",Math.round(Math.random()*12+4))}}}}}}}}}}}}}}}}}}}}}}if(R=="random-static"){Q=Math.round(Math.random()*16);if(Q>15){Q=15}if(Q<0){Q=0}}if(R=="random-premium"){Q=Math.round(Math.random()*6+16);if(Q>21){Q=21}if(Q<16){Q=16}}var am=-1;if(P.leftarrowpressed==1||P.act>P.next){am=1}if(R=="slidehorizontal"){Q=12;if(P.leftarrowpressed==1){Q=15}}if(R=="slidevertical"){Q=13;if(P.leftarrowpressed==1){Q=14}}P.leftarrowpressed=0;if(Q>21){Q=21}if(Q<0){Q=0}if((P.ie||P.ie9)&&Q>18){Q=Math.round(Math.random()*16);X.data("slotamount",Math.round(Math.random()*12+4))}if(P.ie&&(Q==17||Q==16||Q==2||Q==3||Q==9||Q==10)){Q=Math.round(Math.random()*3+12)}if(P.ie9&&(Q==3)){Q=4}var ac=300;if(X.data("masterspeed")!=o&&X.data("masterspeed")>99&&X.data("masterspeed")<4001){ac=X.data("masterspeed")}ab.parent().find(".bullet").each(function(){var ar=u(this);ar.removeClass("selected");if(P.navigationArrows=="withbullet"||P.navigationArrows=="nexttobullets"){if(ar.index()-1==P.next){ar.addClass("selected")}}else{if(ar.index()==P.next){ar.addClass("selected")}}});ab.find(">li").each(function(){var ar=u(this);if(ar.index!=P.act&&ar.index!=P.next){ar.css({"z-index":16})}});V.css({"z-index":18});X.css({"z-index":20});X.css({opacity:0});if(V.index()!=X.index()){B(V,P)}m(X,P);if(X.data("slotamount")==o||X.data("slotamount")<1){P.slots=Math.round(Math.random()*12+4);if(R=="boxslide"){P.slots=Math.round(Math.random()*6+3)}}else{P.slots=X.data("slotamount")}if(X.data("rotate")==o){P.rotate=0}else{if(X.data("rotate")==999){P.rotate=Math.round(Math.random()*360)}else{P.rotate=X.data("rotate")}}if(!u.support.transition||P.ie||P.ie9){P.rotate=0}if(P.firststart==1){V.css({opacity:0});P.firststart=0}if(Q==0){ac=ac+100;if(P.slots>10){P.slots=10}X.css({opacity:1});I(ag,P,true);I(aj,P,false);aj.find(".defaultimg").css({opacity:0});aj.find(".slotslide").each(function(ar){var at=u(this);if(P.ie9){at.transition({top:(0-P.sloth),left:(0-P.slotw)},0)}else{at.transition({top:(0-P.sloth),left:(0-P.slotw),rotate:P.rotate},0)}setTimeout(function(){at.transition({top:0,left:0,scale:1,rotate:0},ac*1.5,function(){if(ar==(P.slots*P.slots)-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})},ar*15)})}if(Q==1){if(P.slots>5){P.slots=5}X.css({opacity:1});I(aj,P,false);aj.find(".defaultimg").css({opacity:0});aj.find(".slotslide").each(function(ar){var at=u(this);at.css({opacity:0});at.find("img").css({opacity:0});if(P.ie9){at.find("img").transition({top:(Math.random()*P.slotw-P.slotw)+"px",left:(Math.random()*P.slotw-P.slotw)+"px"},0)}else{at.find("img").transition({top:(Math.random()*P.slotw-P.slotw)+"px",left:(Math.random()*P.slotw-P.slotw)+"px",rotate:P.rotate},0)}var au=Math.random()*1000+(ac+200);if(ar==(P.slots*P.slots)-1){au=1500}at.find("img").transition({opacity:1,top:(0-at.data("y"))+"px",left:(0-at.data("x"))+"px",rotate:0},au);at.transition({opacity:1},au,function(){if(ar==(P.slots*P.slots)-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})})}if(Q==2){ac=ac+200;X.css({opacity:1});j(ag,P,true);j(aj,P,false);aj.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(){var ar=u(this);ar.transit({left:P.slotw+"px",rotate:(0-P.rotate)},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})});aj.find(".slotslide").each(function(){var ar=u(this);if(P.ie9){ar.transit({left:(0-P.slotw)+"px"},0)}else{ar.transit({left:(0-P.slotw)+"px",rotate:P.rotate},0)}ar.transit({left:"0px",rotate:0},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}if(P.ie){ag.find(".defaultimg").css({opacity:1})}P.act=P.next;G(ab)})})}if(Q==3){ac=ac+200;X.css({opacity:1});a(ag,P,true);a(aj,P,false);aj.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(){var ar=u(this);ar.transit({top:P.sloth+"px",rotate:P.rotate},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})});aj.find(".slotslide").each(function(){var ar=u(this);if(P.ie9){ar.transit({top:(0-P.sloth)+"px"},0)}else{ar.transit({top:(0-P.sloth)+"px",rotate:P.rotate},0)}ar.transit({top:"0px",rotate:0},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})})}if(Q==4){X.css({opacity:1});j(ag,P,true);j(aj,P,true);aj.find(".defaultimg").css({opacity:0});ag.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(at){var ar=u(this);ar.transit({top:(0+(P.height))+"px",opacity:1,rotate:P.rotate},ac+(at*(70-P.slots)))});aj.find(".slotslide").each(function(at){var ar=u(this);if(P.ie9){ar.transition({top:(0-(P.height))+"px",opacity:0},0)}else{ar.transition({top:(0-(P.height))+"px",opacity:0,rotate:P.rotate},0)}ar.transition({top:"0px",opacity:1,rotate:0},ac+(at*(70-P.slots)),function(){if(at==P.slots-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})})}if(Q==5){X.css({opacity:1});j(ag,P,true);j(aj,P,true);aj.find(".defaultimg").css({opacity:0});ag.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(at){var ar=u(this);ar.transition({top:(0+(P.height))+"px",opacity:1,rotate:P.rotate},ac+((P.slots-at)*(70-P.slots)))});aj.find(".slotslide").each(function(at){var ar=u(this);if(P.ie9){ar.transition({top:(0-(P.height))+"px",opacity:0},0)}else{ar.transition({top:(0-(P.height))+"px",opacity:0,rotate:P.rotate},0)}ar.transition({top:"0px",opacity:1,rotate:0},ac+((P.slots-at)*(70-P.slots)),function(){if(at==0){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})})}if(Q==6){X.css({opacity:1});if(P.slots<2){P.slots=2}j(ag,P,true);j(aj,P,true);aj.find(".defaultimg").css({opacity:0});ag.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(au){var at=u(this);if(au<P.slots/2){var ar=(au+2)*60}else{var ar=(2+P.slots-au)*60}at.transition({top:(0+(P.height))+"px",opacity:1},ac+ar)});aj.find(".slotslide").each(function(au){var at=u(this);if(P.ie9){at.transition({top:(0-(P.height))+"px",opacity:0},0)}else{at.transition({top:(0-(P.height))+"px",opacity:0,rotate:P.rotate},0)}if(au<P.slots/2){var ar=(au+2)*60}else{var ar=(2+P.slots-au)*60}at.transition({top:"0px",opacity:1,rotate:0},ac+ar,function(){if(au==Math.round(P.slots/2)){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})})}if(Q==7){ac=ac*3;X.css({opacity:1});j(ag,P,true);j(aj,P,true);aj.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(){var ar=u(this).find("img");ar.transition({left:(0-P.slotw/2)+"px",top:(0-P.height/2)+"px",width:(P.slotw*2)+"px",height:(P.height*2)+"px",opacity:0,rotate:P.rotate},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})});/						/;aj.find(".slotslide").each(function(at){var ar=u(this).find("img");if(P.ie9){ar.transition({left:(0)+"px",top:(0)+"px",opacity:0},0)}else{ar.transition({left:(0)+"px",top:(0)+"px",opacity:0,rotate:P.rotate},0)}ar.transition({left:(0-at*P.slotw)+"px",top:(0)+"px",width:(aj.find(".defaultimg").data("neww"))+"px",height:(aj.find(".defaultimg").data("newh"))+"px",opacity:1,rotate:0},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})})}if(Q==8){ac=ac*3;X.css({opacity:1});a(ag,P,true);a(aj,P,true);aj.find(".defaultimg").css({opacity:0});ag.find(".slotslide").each(function(){var ar=u(this).find("img");ar.transition({left:(0-P.width/2)+"px",top:(0-P.sloth/2)+"px",width:(P.width*2)+"px",height:(P.sloth*2)+"px",opacity:0,rotate:P.rotate},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})});aj.find(".slotslide").each(function(at){var ar=u(this).find("img");if(P.ie9){ar.transition({left:(0)+"px",top:(0)+"px",opacity:0},0)}else{ar.transition({left:(0)+"px",top:(0)+"px",opacity:0,rotate:P.rotate},0)}ar.transition({left:(0)+"px",top:(0-at*P.sloth)+"px",width:(aj.find(".defaultimg").data("neww"))+"px",height:(aj.find(".defaultimg").data("newh"))+"px",opacity:1,rotate:0},ac,function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)})})}if(Q==9){X.css({opacity:1});P.slots=P.width/20;j(aj,P,true);aj.find(".defaultimg").css({opacity:0});var W=0;aj.find(".slotslide").each(function(at){var ar=u(this);W++;ar.transition({opacity:0,x:0,y:0},0);ar.data("tout",setTimeout(function(){ar.transition({x:0,y:0,opacity:1},ac)},at*4))});setTimeout(function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}if(P.ie){ag.find(".defaultimg").css({opacity:1})}P.act=P.next;G(ab)},(ac+(W*4)))}if(Q==10){X.css({opacity:1});P.slots=P.height/20;a(aj,P,true);aj.find(".defaultimg").css({opacity:0});var W=0;aj.find(".slotslide").each(function(at){var ar=u(this);W++;ar.transition({opacity:0,x:0,y:0},0);ar.data("tout",setTimeout(function(){ar.transition({x:0,y:0,opacity:1},ac)},at*4))});setTimeout(function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}if(P.ie){ag.find(".defaultimg").css({opacity:1})}P.act=P.next;G(ab)},(ac+(W*4)))}if(Q==11){X.css({opacity:1});P.slots=1;j(aj,P,true);aj.find(".defaultimg").css({opacity:0,position:"relative"});var W=0;aj.find(".slotslide").each(function(at){var ar=u(this);W++;if(P.ie9||P.ie){if(P.ie){X.css({opacity:"0"})}ar.css({opacity:0})}else{ar.transition({opacity:0,rotate:P.rotate},0)}setTimeout(function(){if(P.ie9||P.ie){if(P.ie){X.animate({opacity:1},{duration:ac})}else{ar.transition({opacity:1},ac)}}else{ar.transition({opacity:1,rotate:0},ac)}},10)});setTimeout(function(){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}if(P.ie){ag.find(".defaultimg").css({opacity:1})}P.act=P.next;G(ab)},ac+15)}if(Q==12||Q==13||Q==14||Q==15){ac=ac*3;X.css({opacity:1});P.slots=1;j(aj,P,true);j(ag,P,true);ag.find(".defaultimg").css({opacity:0});aj.find(".defaultimg").css({opacity:0});var ad=P.width;var ap=P.height;var Y=aj.find(".slotslide");if(P.fullWidth=="on"||P.fullSreen=="on"){ad=Y.width();ap=Y.height()}if(Q==12){if(P.ie9){Y.transition({left:ad+"px"},0)}else{Y.transition({left:ad+"px",rotate:P.rotate},0)}}else{if(Q==15){if(P.ie9){Y.transition({left:(0-ad)+"px"},0)}else{Y.transition({left:(0-ad)+"px",rotate:P.rotate},0)}}else{if(Q==13){if(P.ie9){Y.transition({top:(ap)+"px"},0)}else{Y.transition({top:(ap)+"px",rotate:P.rotate},0)}}else{if(Q==14){if(P.ie9){Y.transition({top:(0-ap)+"px"},0)}else{Y.transition({top:(0-ap)+"px",rotate:P.rotate},0)}}}}}Y.transition({left:"0px",top:"0px",opacity:1,rotate:0},ac,function(){N(ab,P,0);if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}aj.find(".defaultimg").css({opacity:1});P.act=P.next;G(ab)});var af=ag.find(".slotslide");if(Q==12){af.transition({left:(0-ad)+"px",opacity:1,rotate:0},ac)}else{if(Q==15){af.transition({left:(ad)+"px",opacity:1,rotate:0},ac)}else{if(Q==13){af.transition({top:(0-ap)+"px",opacity:1,rotate:0},ac)}else{if(Q==14){af.transition({top:(ap)+"px",opacity:1,rotate:0},ac)}}}}}if(Q==16){V.css({position:"absolute","z-index":20});X.css({position:"absolute","z-index":15});V.wrapInner('<div class="tp-half-one"></div>');V.find(".tp-half-one").clone(true).appendTo(V).addClass("tp-half-two");V.find(".tp-half-two").removeClass("tp-half-one");V.find(".tp-half-two").wrapInner('<div class="tp-offset"></div>');var ad=P.width;var ap=P.height;if(P.fullWidth=="on"||P.fullSreen=="on"){ad=P.container.parent().width();ap=P.container.parent().height()}var aq=V.find(".defaultimg");if(aq.length>0&&aq.data("fullwidthcentering")=="on"){var ai=ap/2;var S=aq.position().top}else{var ai=ap/2;var S=0}V.find(".tp-half-one").css({width:ad+"px",height:(S+ai)+"px",overflow:"hidden",position:"absolute",top:"0px",left:"0px"});V.find(".tp-half-two").css({width:ad+"px",height:(S+ai)+"px",overflow:"hidden",position:"absolute",top:(S+ai)+"px",left:"0px"});V.find(".tp-half-two .tp-offset").css({position:"absolute",top:(0-ai-S)+"px",left:"0px"});if(!u.support.transition){V.find(".tp-half-one").animate({opacity:0,top:(0-ap/2)+"px"},{duration:500,queue:false});V.find(".tp-half-two").animate({opacity:0,top:(ap)+"px"},{duration:500,queue:false})}else{var ak=Math.round(Math.random()*40-20);var ah=Math.round(Math.random()*40-20);var U=Math.random()*1+1;var T=Math.random()*1+1;V.find(".tp-half-one").transition({opacity:1,scale:U,rotate:ak,y:(0-ap/1.4)+"px"},800,"in");V.find(".tp-half-two").transition({opacity:1,scale:T,rotate:ah,y:(0+ap/1.4)+"px"},800,"in");if(V.html()!=null){X.transition({scale:0.8,x:P.width*0.1,y:ap*0.1,rotate:ak},0).transition({rotate:0,scale:1,x:0,y:0},600,"snap")}}aj.find(".defaultimg").css({opacity:1});setTimeout(function(){V.css({position:"absolute","z-index":18});X.css({position:"absolute","z-index":20});aj.find(".defaultimg").css({opacity:1});ag.find(".defaultimg").css({opacity:0});if(V.find(".tp-half-one").length>0){V.find(".tp-half-one >img, .tp-half-one >div").unwrap()}V.find(".tp-half-two").remove();P.transition=0;P.act=P.next},800);X.css({opacity:1})}if(Q==17){ac=ac+100;if(P.slots>10){P.slots=10}X.css({opacity:1});a(ag,P,true);a(aj,P,false);aj.find(".defaultimg").css({opacity:0});aj.find(".slotslide").each(function(ar){var at=u(this);at.transition({opacity:0,rotateY:350,rotateX:40,perspective:"1400px"},0);setTimeout(function(){at.transition({opacity:1,top:0,left:0,scale:1,perspective:"150px",rotate:0,rotateY:0,rotateX:0},ac*2,function(){if(ar==P.slots-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})},ar*100)})}if(Q==18){ac=ac+100;if(P.slots>10){P.slots=10}X.css({opacity:1});j(ag,P,true);j(aj,P,false);aj.find(".defaultimg").css({opacity:0});aj.find(".slotslide").each(function(ar){var at=u(this);at.transition({rotateX:10,rotateY:310,perspective:"1400px",rotate:0,opacity:0},0);setTimeout(function(){at.transition({top:0,left:0,scale:1,perspective:"150px",rotate:0,rotateY:0,rotateX:0,opacity:1},ac*2,function(){if(ar==P.slots-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})},ar*100)})}if(Q==19){ac=ac+100;if(P.slots>10){P.slots=10}X.css({opacity:1});j(ag,P,true);j(aj,P,false);aj.find(".defaultimg").css({opacity:0});var aa=X.css("z-index");var Z=V.css("z-index");aj.find(".slotslide").each(function(ar){var at=u(this);at.parent().css({overflow:"visible"});at.css({background:"#333"});if(am==1){at.transition({opacity:0,left:0,top:P.height/2,rotate3d:"1, 0, 0, -90deg "},0)}else{at.transition({opacity:0,left:0,top:0-P.height/2,rotate3d:"1, 0, 0, 90deg "},0)}setTimeout(function(){at.transition({opacity:1,top:0,perspective:P.height*2,rotate3d:" 1, 0, 0, 0deg "},ac*2,function(){if(ar==P.slots-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})},ar*150)});ag.find(".slotslide").each(function(ar){var at=u(this);at.parent().css({overflow:"visible"});at.css({background:"#333"});at.transition({top:0,rotate3d:"1, 0, 0, 0deg"},0);ag.find(".defaultimg").css({opacity:0});setTimeout(function(){if(am==1){at.transition({opacity:0.6,left:0,perspective:P.height*2,top:0-P.height/2,rotate3d:"1, 0, 0, 90deg"},ac*2,function(){})}else{at.transition({opacity:0.6,left:0,perspective:P.height*2,top:(0+P.height/2),rotate3d:"1, 0, 0, -90deg"},ac*2,function(){})}},ar*150)})}if(Q==20){ac=ac+100;if(P.slots>10){P.slots=10}X.css({opacity:1});a(ag,P,true);a(aj,P,false);aj.find(".defaultimg").css({opacity:0});aj.find(".slotslide").each(function(ar){var at=u(this);at.parent().css({overflow:"visible"});if(am==1){at.transition({scale:0.8,top:0,left:0-P.width,rotate3d:"2, 5, 0, 110deg"},0)}else{at.transition({scale:0.8,top:0,left:0+P.width,rotate3d:"2, 5, 0, -110deg"},0)}setTimeout(function(){at.transition({scale:0.8,left:0,perspective:P.width,rotate3d:"1, 5, 0, 0deg"},ac*2,"ease").transition({scale:1},200,"out",function(){if(ar==P.slots-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})},ar*100)});ag.find(".slotslide").each(function(ar){var at=u(this);at.transition({scale:0.5,left:0,rotate3d:"1, 5, 0, 5deg"},300,"in-out");ag.find(".defaultimg").css({opacity:0});setTimeout(function(){if(am==1){at.transition({top:0,left:P.width/2,perspective:P.width,rotate3d:"0, -3, 0, 70deg",opacity:0},ac*2,"out",function(){})}else{at.transition({top:0,left:0-P.width/2,perspective:P.width,rotate3d:"0, -3, 0, -70deg",opacity:0},ac*2,"out",function(){})}},ar*100)})}if(Q==21){ac=ac+100;if(P.slots>10){P.slots=10}X.css({opacity:1});a(ag,P,true);a(aj,P,false);aj.find(".defaultimg").css({opacity:0});aj.find(".slotslide").each(function(ar){var at=u(this);if(am==1){at.transition({top:0,left:0-(P.width),rotate3d:"0, 1, 0, 90deg"},0)}else{at.transition({top:0,left:0+(P.width),rotate3d:"0, 1, 0, -90deg"},0)}setTimeout(function(){at.transition({left:0,perspective:P.width*2,rotate3d:"0, 0, 0, 0deg"},ac*2,function(){if(ar==P.slots-1){N(ab,P);aj.find(".defaultimg").css({opacity:1});if(X.index()!=V.index()){ag.find(".defaultimg").css({opacity:0})}P.act=P.next;G(ab)}})},ar*100)});ag.find(".slotslide").each(function(ar){var at=u(this);at.transition({left:0,rotate3d:"0, 0, 0, 0deg"},0);ag.find(".defaultimg").css({opacity:0});setTimeout(function(){if(am==1){at.transition({top:0,left:(P.width/2),perspective:P.width,rotate3d:"0, 1, 0, -90deg"},ac*1.5,function(){})}else{at.transition({top:0,left:(0-P.width/2),perspective:P.width,rotate3d:"0, 1, 0, +90deg"},ac*1.5,function(){})}},ar*100)})}var ao={};ao.slideIndex=P.next+1;ab.trigger("revolution.slide.onchange",ao);setTimeout(function(){ab.trigger("revolution.slide.onafterswap")},ac);ab.trigger("revolution.slide.onvideostop")}function z(){}function t(R){if(R.data==YT.PlayerState.PLAYING){var P=u("body").find(".tp-bannertimer");var Q=P.data("opt");P.stop();Q.videoplaying=true;Q.videostartednow=1}else{var P=u("body").find(".tp-bannertimer");var Q=P.data("opt");if(R.data!=-1){if(Q.conthover==0){P.animate({width:"100%"},{duration:((Q.delay-Q.cd)-100),queue:false,easing:"linear"})}Q.videoplaying=false;Q.videostoppednow=1}}if(R.data==0&&Q.nextslideatend==true){Q.container.revnext()}}function h(P){P.target.playVideo()}function i(Q,P,R){if(Q.addEventListener){Q.addEventListener(P,R,false)}else{Q.attachEvent(P,R,false)}}function x(Q){var P=$f(Q);P.addEvent("ready",function(R){P.addEvent("play",function(U){var S=u("body").find(".tp-bannertimer");var T=S.data("opt");S.stop();T.videoplaying=true});P.addEvent("finish",function(U){var S=u("body").find(".tp-bannertimer");var T=S.data("opt");if(T.conthover==0){S.animate({width:"100%"},{duration:((T.delay-T.cd)-100),queue:false,easing:"linear"})}T.videoplaying=false;T.videostartednow=1;if(T.nextslideatend==true){T.container.revnext()}});P.addEvent("pause",function(U){var S=u("body").find(".tp-bannertimer");var T=S.data("opt");if(T.conthover==0){S.animate({width:"100%"},{duration:((T.delay-T.cd)-100),queue:false,easing:"linear"})}T.videoplaying=false;T.videostoppednow=1})})}function p(Q){var P=$f(Q);P.addEvent("ready",function(R){P.api("play")});P.addEvent("play",function(T){var R=u("body").find(".tp-bannertimer");var S=R.data("opt");R.stop();S.videoplaying=true});P.addEvent("finish",function(T){var R=u("body").find(".tp-bannertimer");var S=R.data("opt");if(S.conthover==0){R.animate({width:"100%"},{duration:((S.delay-S.cd)-100),queue:false,easing:"linear"})}S.videoplaying=false;S.videostartednow=1;if(S.nextslideatend==true){S.container.revnext()}});P.addEvent("pause",function(T){var R=u("body").find(".tp-bannertimer");var S=R.data("opt");if(S.conthover==0){R.animate({width:"100%"},{duration:((S.delay-S.cd)-100),queue:false,easing:"linear"})}S.videoplaying=false;S.videostoppednow=1})}function l(P){P.on("play",function(){var Q=u("body").find(".tp-bannertimer");var R=Q.data("opt");Q.stop();try{R.videoplaying=true}catch(S){}});P.on("pause",function(){var Q=u("body").find(".tp-bannertimer");var R=Q.data("opt");if(R.conthover==0){Q.animate({width:"100%"},{duration:((R.delay-R.cd)-100),queue:false,easing:"linear"})}R.videoplaying=false;R.videostoppednow=1});P.on("ended",function(){var Q=u("body").find(".tp-bannertimer");var R=Q.data("opt");if(R.conthover==0){Q.animate({width:"100%"},{duration:((R.delay-R.cd)-100),queue:false,easing:"linear"})}R.videoplaying=false;R.videostoppednow=1;if(R.nextslideatend==true){R.container.revnext()}})}function m(T,S,U){var Q=0;var P=0;T.find(".tp-caption").each(function(an){Q=S.width/2-S.startwidth/2;if(S.bh>1){S.bw=1;S.bh=1}if(S.bw>1){S.bw=1;S.bh=1}var aa=S.bw;var ai=S.bh;if(S.fullScreen=="on"){P=S.height/2-(S.startheight*S.bh)/2}if(P<0){P=0}var ap=T.find(".tp-caption:eq("+an+")");var aq=0;if(S.width<S.hideCaptionAtLimit&&ap.data("captionhidden")=="on"){ap.addClass("tp-hidden-caption");aq=1}else{if(S.width<S.hideAllCaptionAtLilmit){ap.addClass("tp-hidden-caption");aq=1}else{ap.removeClass("tp-hidden-caption")}}ap.stop(true,true);if(aq==0){if(ap.data("linktoslide")!=o){ap.css({cursor:"pointer"});if(ap.data("linktoslide")!="no"){ap.click(function(){var av=u(this);var au=av.data("linktoslide");if(au!="next"&&au!="prev"){S.container.data("showus",au);S.container.parent().find(".tp-rightarrow").click()}else{if(au=="next"){S.container.parent().find(".tp-rightarrow").click()}else{if(au=="prev"){S.container.parent().find(".tp-leftarrow").click()}}}})}}if(ap.hasClass("coloredbg")){Q=0}if(Q<0){Q=0}clearTimeout(ap.data("timer"));clearTimeout(ap.data("timer-end"));var ao="iframe"+Math.round(Math.random()*1000+1);if(ap.find("iframe").length>0){ap.find("iframe").each(function(){var az=u(this);if(az.attr("src").toLowerCase().indexOf("youtube")>=0){S.nextslideatend=ap.data("nextslideatend");if(!az.hasClass("HasListener")){try{az.attr("id",ao);var aC;if(ap.data("autoplay")==true){aC=new YT.Player(ao,{events:{onStateChange:t,onReady:h}})}else{aC=new YT.Player(ao,{events:{onStateChange:t}})}az.addClass("HasListener");ap.data("player",aC);if(ap.data("autoplay")==true){var aD=u("body").find("#"+S.container.attr("id")).find(".tp-bannertimer");setTimeout(function(){aD.stop();S.videoplaying=true},200)}}catch(aA){}}else{if(ap.data("autoplay")==true){var aC=ap.data("player");aC.playVideo();var aD=u("body").find("#"+S.container.attr("id")).find(".tp-bannertimer");setTimeout(function(){aD.stop();S.videoplaying=true},200)}}}else{if(az.attr("src").toLowerCase().indexOf("vimeo")>=0){S.nextslideatend=ap.data("nextslideatend");if(!az.hasClass("HasListener")){az.addClass("HasListener");az.attr("id",ao);var aB=az.attr("src");var ay={},au=aB,aE=/([^&=]+)=([^&]*)/g,ax;while(ax=aE.exec(au)){ay[decodeURIComponent(ax[1])]=decodeURIComponent(ax[2])}if(ay.player_id!=o){aB=aB.replace(ay.player_id,ao)}else{aB=aB+"&player_id="+ao}try{aB=aB.replace("api=0","api=1")}catch(aA){}aB=aB+"&api=1";az.attr("src",aB);var aC=ap.find("iframe")[0];if(ap.data("autoplay")==true){$f(aC).addEvent("ready",p);var aD=u("body").find("#"+S.container.attr("id")).find(".tp-bannertimer");setTimeout(function(){aD.stop();S.videoplaying=true},200)}else{$f(aC).addEvent("ready",x)}}else{if(ap.data("autoplay")==true){var az=ap.find("iframe");var av=az.attr("id");var aw=$f(av);aw.api("pause");var aD=u("body").find("#"+S.container.attr("id")).find(".tp-bannertimer");setTimeout(function(){aD.stop();S.videoplaying=true},200)}}}}})}if(ap.find("video").length>0){ap.find("video").each(function(av){var ax=u(this).parent();if(ax.hasClass("video-js")){S.nextslideatend=ap.data("nextslideatend");if(!ax.hasClass("HasListener")){ax.addClass("HasListener");var aw="videoid_"+Math.round(Math.random()*1000+1);ax.attr("id",aw);videojs(aw).ready(function(){l(this)})}else{aw=ax.attr("id")}if(ap.data("autoplay")==true){var au=u("body").find("#"+S.container.attr("id")).find(".tp-bannertimer");setTimeout(function(){au.stop();S.videoplaying=true},200);videojs(aw).ready(function(){var ay=this;ax.data("timerplay",setTimeout(function(){ay.play()},ap.data("start")))})}if(ax.data("ww")==o){ax.data("ww",ax.width())}if(ax.data("hh")==o){ax.data("hh",ax.height())}videojs(aw).ready(function(){if(!ap.hasClass("fullscreenvideo")){var ay=videojs(aw);try{ay.width(ax.data("ww")*S.bw);ay.height(ax.data("hh")*S.bh)}catch(az){}}})}})}if(ap.hasClass("randomrotate")&&(S.ie||S.ie9)){ap.removeClass("randomrotate").addClass("sfb")}ap.removeClass("noFilterClass");var am=0;var at=0;if(ap.find("img").length>0){var af=ap.find("img");if(af.data("ww")==o){af.data("ww",af.width())}if(af.data("hh")==o){af.data("hh",af.height())}var ar=af.data("ww");var Z=af.data("hh");af.width(ar*S.bw);af.height(Z*S.bh);am=af.width();at=af.height()}else{if(ap.find("iframe").length>0){var af=ap.find("iframe");if(ap.data("ww")==o){ap.data("ww",af.width())}if(ap.data("hh")==o){ap.data("hh",af.height())}var ar=ap.data("ww");var Z=ap.data("hh");var ad=ap;if(ad.data("fsize")==o){ad.data("fsize",parseInt(ad.css("font-size"),0)||0)}if(ad.data("pt")==o){ad.data("pt",parseInt(ad.css("paddingTop"),0)||0)}if(ad.data("pb")==o){ad.data("pb",parseInt(ad.css("paddingBottom"),0)||0)}if(ad.data("pl")==o){ad.data("pl",parseInt(ad.css("paddingLeft"),0)||0)}if(ad.data("pr")==o){ad.data("pr",parseInt(ad.css("paddingRight"),0)||0)}if(ad.data("mt")==o){ad.data("mt",parseInt(ad.css("marginTop"),0)||0)}if(ad.data("mb")==o){ad.data("mb",parseInt(ad.css("marginBottom"),0)||0)}if(ad.data("ml")==o){ad.data("ml",parseInt(ad.css("marginLeft"),0)||0)}if(ad.data("mr")==o){ad.data("mr",parseInt(ad.css("marginRight"),0)||0)}if(ad.data("bt")==o){ad.data("bt",parseInt(ad.css("borderTop"),0)||0)}if(ad.data("bb")==o){ad.data("bb",parseInt(ad.css("borderBottom"),0)||0)}if(ad.data("bl")==o){ad.data("bl",parseInt(ad.css("borderLeft"),0)||0)}if(ad.data("br")==o){ad.data("br",parseInt(ad.css("borderRight"),0)||0)}if(ad.data("lh")==o){ad.data("lh",parseInt(ad.css("lineHeight"),0)||0)}var aj=S.width;var ah=S.height;if(aj>S.startwidth){aj=S.startwidth}if(ah>S.startheight){ah=S.startheight}if(!ap.hasClass("fullscreenvideo")){ap.css({"font-size":(ad.data("fsize")*S.bw)+"px","padding-top":(ad.data("pt")*S.bh)+"px","padding-bottom":(ad.data("pb")*S.bh)+"px","padding-left":(ad.data("pl")*S.bw)+"px","padding-right":(ad.data("pr")*S.bw)+"px","margin-top":(ad.data("mt")*S.bh)+"px","margin-bottom":(ad.data("mb")*S.bh)+"px","margin-left":(ad.data("ml")*S.bw)+"px","margin-right":(ad.data("mr")*S.bw)+"px","border-top":(ad.data("bt")*S.bh)+"px","border-bottom":(ad.data("bb")*S.bh)+"px","border-left":(ad.data("bl")*S.bw)+"px","border-right":(ad.data("br")*S.bw)+"px","line-height":(ad.data("lh")*S.bh)+"px",height:(Z*S.bh)+"px","white-space":"nowrap"})}else{ap.css({width:S.startwidth*S.bw,height:S.startheight*S.bh})}af.width(ar*S.bw);af.height(Z*S.bh);am=af.width();at=af.height()}else{ap.find(".tp-resizeme, .tp-resizeme *").each(function(){M(u(this),S)});M(ap,S);at=ap.outerHeight(true);am=ap.outerWidth(true);var al=ap.outerHeight();var X=ap.css("backgroundColor");ap.find(".frontcorner").css({borderWidth:al+"px",left:(0-al)+"px",borderRight:"0px solid transparent",borderTopColor:X});ap.find(".frontcornertop").css({borderWidth:al+"px",left:(0-al)+"px",borderRight:"0px solid transparent",borderBottomColor:X});ap.find(".backcorner").css({borderWidth:al+"px",right:(0-al)+"px",borderLeft:"0px solid transparent",borderBottomColor:X});ap.find(".backcornertop").css({borderWidth:al+"px",right:(0-al)+"px",borderLeft:"0px solid transparent",borderTopColor:X})}}if(ap.data("voffset")==o){ap.data("voffset",0)}if(ap.data("hoffset")==o){ap.data("hoffset",0)}var ab=ap.data("voffset")*aa;var Y=ap.data("hoffset")*aa;var W=S.startwidth*aa;var ae=S.startheight*aa;if(ap.data("x")=="center"||ap.data("xcenter")=="center"){ap.data("xcenter","center");ap.data("x",(W/2-ap.outerWidth(true)/2)/aa+Y)}if(ap.data("x")=="left"||ap.data("xleft")=="left"){ap.data("xleft","left");ap.data("x",(0)/aa+Y)}if(ap.data("x")=="right"||ap.data("xright")=="right"){ap.data("xright","right");ap.data("x",((W-ap.outerWidth(true))+Y)/aa)}if(ap.data("y")=="center"||ap.data("ycenter")=="center"){ap.data("ycenter","center");ap.data("y",(ae/2-ap.outerHeight(true)/2)/S.bh+ab)}if(ap.data("y")=="top"||ap.data("ytop")=="top"){ap.data("ytop","top");ap.data("y",(0)/S.bh+ab)}if(ap.data("y")=="bottom"||ap.data("ybottom")=="bottom"){ap.data("ybottom","bottom");ap.data("y",((ae-ap.outerHeight(true))+ab)/aa)}if(ap.hasClass("fade")){ap.css({opacity:0,left:(aa*ap.data("x")+Q)+"px",top:(S.bh*ap.data("y")+P)+"px"})}if(ap.hasClass("randomrotate")){ap.css({left:(aa*ap.data("x")+Q)+"px",top:((ai*ap.data("y"))+P)+"px"});var V=Math.random()*2+1;var ag=Math.round(Math.random()*200-100);var ac=Math.round(Math.random()*200-100);var ak=Math.round(Math.random()*200-100);ap.data("repx",ac);ap.data("repy",ak);ap.data("repo",ap.css("opacity"));ap.data("rotate",ag);ap.data("scale",V);ap.transition({opacity:0,scale:V,rotate:ag,x:ac,y:ak,duration:"0ms"})}else{if(S.ie||S.ie9){}else{if(ap.find("iframe").length==0){ap.transition({scale:1,rotate:0})}}}if(ap.hasClass("lfr")){ap.css({opacity:1,left:(15+S.width)+"px",top:(S.bh*ap.data("y")+P)+"px"})}if(ap.hasClass("lfl")){ap.css({opacity:1,left:(-15-am)+"px",top:(S.bh*ap.data("y")+P)+"px"})}if(ap.hasClass("sfl")){ap.css({opacity:0,left:((aa*ap.data("x"))-50+Q)+"px",top:(S.bh*ap.data("y")+P)+"px"})}if(ap.hasClass("sfr")){ap.css({opacity:0,left:((aa*ap.data("x"))+50+Q)+"px",top:(S.bh*ap.data("y")+P)+"px"})}if(ap.hasClass("lft")){ap.css({opacity:1,left:(aa*ap.data("x")+Q)+"px",top:(-25-at)+"px"})}if(ap.hasClass("lfb")){ap.css({opacity:1,left:(aa*ap.data("x")+Q)+"px",top:(25+S.height)+"px"})}if(ap.hasClass("sft")){ap.css({opacity:0,left:(aa*ap.data("x")+Q)+"px",top:((S.bh*ap.data("y")+P)-50)+"px"})}if(ap.hasClass("sfb")){ap.css({opacity:0,left:(aa*ap.data("x")+Q)+"px",top:((S.bh*ap.data("y")+P)+50)+"px"})}ap.data("timer",setTimeout(function(){var au=ap.data("easing");if(au==o){au="linear"}ap.css({visibility:"visible"});if(ap.hasClass("fade")){ap.data("repo",ap.css("opacity"));ap.transition({opacity:1,duration:ap.data("speed")})}if(ap.hasClass("randomrotate")){au=au.replace("Elastic","Back");au=au.replace("Bounce","Back");ap.transition({opacity:1,scale:1,left:(aa*ap.data("x")+Q)+"px",top:(ai*(ap.data("y"))+P)+"px",rotate:0,x:0,y:0,duration:ap.data("speed"),easing:au});if(S.ie){ap.addClass("noFilterClass")}}if(ap.hasClass("lfr")||ap.hasClass("lfl")||ap.hasClass("sfr")||ap.hasClass("sfl")||ap.hasClass("lft")||ap.hasClass("lfb")||ap.hasClass("sft")||ap.hasClass("sfb")){ap.data("repx",ap.position().left);ap.data("repy",ap.position().top);ap.data("repo",ap.css("opacity"));if(au.indexOf("Bounce")>=0||au.indexOf("Elastic")>=0){ap.animate({opacity:1,left:(aa*ap.data("x")+Q)+"px",top:S.bh*(ap.data("y"))+P+"px"},{duration:ap.data("speed"),easing:au,complete:function(){if(S.ie){u(this).addClass("noFilterClass")}}})}else{ap.transition({opacity:1,left:(aa*ap.data("x")+Q)+"px",top:S.bh*(ap.data("y"))+P+"px",duration:ap.data("speed"),easing:au})}}},ap.data("start")));if(ap.data("end")!=o){ap.data("timer-end",setTimeout(function(){if((S.ie||S.ie9)&&(ap.hasClass("randomrotate")||ap.hasClass("randomrotateout"))){ap.removeClass("randomrotate").removeClass("randomrotateout").addClass("fadeout")}f(ap,S)},ap.data("end")))}}});var R=u("body").find("#"+S.container.attr("id")).find(".tp-bannertimer");R.data("opt",S)}function M(Q,P){if(Q.data("fsize")==o){Q.data("fsize",parseInt(Q.css("font-size"),0)||0)}if(Q.data("pt")==o){Q.data("pt",parseInt(Q.css("paddingTop"),0)||0)}if(Q.data("pb")==o){Q.data("pb",parseInt(Q.css("paddingBottom"),0)||0)}if(Q.data("pl")==o){Q.data("pl",parseInt(Q.css("paddingLeft"),0)||0)}if(Q.data("pr")==o){Q.data("pr",parseInt(Q.css("paddingRight"),0)||0)}if(Q.data("mt")==o){Q.data("mt",parseInt(Q.css("marginTop"),0)||0)}if(Q.data("mb")==o){Q.data("mb",parseInt(Q.css("marginBottom"),0)||0)}if(Q.data("ml")==o){Q.data("ml",parseInt(Q.css("marginLeft"),0)||0)}if(Q.data("mr")==o){Q.data("mr",parseInt(Q.css("marginRight"),0)||0)}if(Q.data("bt")==o){Q.data("bt",parseInt(Q.css("borderTopWidth"),0)||0)}if(Q.data("bb")==o){Q.data("bb",parseInt(Q.css("borderBottomWidth"),0)||0)}if(Q.data("bl")==o){Q.data("bl",parseInt(Q.css("borderLeftWidth"),0)||0)}if(Q.data("br")==o){Q.data("br",parseInt(Q.css("borderRightWidth"),0)||0)}if(Q.data("lh")==o){Q.data("lh",parseInt(Q.css("lineHeight"),0)||0)}if(Q.data("minwidth")==o){Q.data("minwidth",parseInt(Q.css("minWidth"),0)||0)}if(Q.data("minheight")==o){Q.data("minheight",parseInt(Q.css("minHeight"),0)||0)}if(Q.data("maxwidth")==o){Q.data("maxwidth",parseInt(Q.css("maxWidth"),0)||"none")}if(Q.data("maxheight")==o){Q.data("maxheight",parseInt(Q.css("maxHeight"),0)||"none")}Q.css({"font-size":Math.round((Q.data("fsize")*P.bw))+"px","padding-top":Math.round((Q.data("pt")*P.bh))+"px","padding-bottom":Math.round((Q.data("pb")*P.bh))+"px","padding-left":Math.round((Q.data("pl")*P.bw))+"px","padding-right":Math.round((Q.data("pr")*P.bw))+"px","margin-top":(Q.data("mt")*P.bh)+"px","margin-bottom":(Q.data("mb")*P.bh)+"px","margin-left":(Q.data("ml")*P.bw)+"px","margin-right":(Q.data("mr")*P.bw)+"px",borderTopWidth:Math.round((Q.data("bt")*P.bh))+"px",borderBottomWidth:Math.round((Q.data("bb")*P.bh))+"px",borderLeftWidth:Math.round((Q.data("bl")*P.bw))+"px",borderRightWidth:Math.round((Q.data("br")*P.bw))+"px","line-height":Math.round((Q.data("lh")*P.bh))+"px","white-space":"nowrap",minWidth:(Q.data("minwidth")*P.bw)+"px",minHeight:(Q.data("minheight")*P.bh)+"px"});if(Q.data("maxheight")!="none"){Q.css({maxHeight:(Q.data("maxheight")*P.bh)+"px"})}if(Q.data("maxwidth")!="none"){Q.css({maxWidth:(Q.data("maxwidth")*P.bw)+"px"})}}function B(Q,P){Q.find(".tp-caption").each(function(W){var ac=Q.find(".tp-caption:eq("+W+")");ac.stop(true,true);clearTimeout(ac.data("timer"));clearTimeout(ac.data("timer-end"));var aa=ac.data("easing");aa="easeInOutSine";var ab=ac.data("repx");var Z=ac.data("repy");var X=ac.data("repo");var S=ac.data("rotate");var U=ac.data("scale");if(ac.find("iframe").length>0){try{var V=ac.find("iframe");var R=V.attr("id");var T=$f(R);T.api("pause")}catch(Y){}try{var ad=ac.data("player");ad.stopVideo()}catch(Y){}}if(ac.find("video").length>0){try{ac.find("video").each(function(ae){var ag=u(this).parent();var af=ag.attr("id");clearTimeout(ag.data("timerplay"));videojs(af).ready(function(){var ah=this;ah.pause()})})}catch(Y){}}try{f(ac,P)}catch(Y){}})}function f(S,Q){if(S.hasClass("randomrotate")&&(Q.ie||Q.ie9)){S.removeClass("randomrotate").addClass("sfb")}if(S.hasClass("randomrotateout")&&(Q.ie||Q.ie9)){S.removeClass("randomrotateout").addClass("stb")}var R=S.data("endspeed");if(R==o){R=S.data("speed")}var U=S.data("repx");var V=S.data("repy");var P=S.data("repo");if(Q.ie){S.css({opacity:"inherit",filter:"inherit"})}if(S.hasClass("ltr")||S.hasClass("ltl")||S.hasClass("str")||S.hasClass("stl")||S.hasClass("ltt")||S.hasClass("ltb")||S.hasClass("stt")||S.hasClass("stb")){U=S.position().left;V=S.position().top;if(S.hasClass("ltr")){U=Q.width+60}else{if(S.hasClass("ltl")){U=0-S.width()-60}else{if(S.hasClass("ltt")){V=0-S.height()-60}else{if(S.hasClass("ltb")){V=Q.height+60}else{if(S.hasClass("str")){U=U+50;P=0}else{if(S.hasClass("stl")){U=U-50;P=0}else{if(S.hasClass("stt")){V=V-50;P=0}else{if(S.hasClass("stb")){V=V+50;P=0}}}}}}}}var T=S.data("endeasing");if(T==o){T="linear"}if(T.indexOf("Bounce")>=0||T.indexOf("Elastic")>=0){S.animate({opacity:P,left:U+"px",top:V+"px"},{duration:S.data("endspeed"),easing:T,complete:function(){u(this).css({visibility:"hidden"})}})}else{S.transition({opacity:P,left:U+"px",top:V+"px",duration:S.data("endspeed"),easing:T})}if(Q.ie){S.removeClass("noFilterClass")}}else{if(S.hasClass("randomrotateout")){S.transition({opacity:0,scale:Math.random()*2+0.3,left:Math.random()*Q.width+"px",top:Math.random()*Q.height+"px",rotate:Math.random()*40,duration:R,easing:T,complete:function(){u(this).css({visibility:"hidden"})}});if(Q.ie){S.removeClass("noFilterClass")}}else{if(S.hasClass("fadeout")){if(Q.ie){S.removeClass("noFilterClass")}S.transition({opacity:0,duration:200})}else{if(S.hasClass("lfr")||S.hasClass("lfl")||S.hasClass("sfr")||S.hasClass("sfl")||S.hasClass("lft")||S.hasClass("lfb")||S.hasClass("sft")||S.hasClass("sfb")){if(S.hasClass("lfr")){U=Q.width+60}else{if(S.hasClass("lfl")){U=0-S.width()-60}else{if(S.hasClass("lft")){V=0-S.height()-60}else{if(S.hasClass("lfb")){V=Q.height+60}}}}var T=S.data("endeasing");if(T==o){T="linear"}if(T.indexOf("Bounce")>=0||T.indexOf("Elastic")>=0){S.animate({opacity:P,left:U+"px",top:V+"px"},{duration:S.data("endspeed"),easing:T,complete:function(){u(this).css({visibility:"hidden"})}})}else{S.transition({opacity:P,left:U+"px",top:V+"px",duration:S.data("endspeed"),easing:T})}if(Q.ie){S.removeClass("noFilterClass")}}else{if(S.hasClass("fade")){S.transition({opacity:0,duration:R});if(Q.ie){S.removeClass("noFilterClass")}}else{if(S.hasClass("randomrotate")){S.transition({opacity:0,scale:Math.random()*2+0.3,left:Math.random()*Q.width+"px",top:Math.random()*Q.height+"px",rotate:Math.random()*40,duration:R,easing:T});if(Q.ie){S.removeClass("noFilterClass")}}}}}}}}function F(P,Q){P.children().each(function(){try{u(this).die("click")}catch(S){}try{u(this).die("mouseenter")}catch(S){}try{u(this).die("mouseleave")}catch(S){}try{u(this).unbind("hover")}catch(S){}});try{P.die("click","mouseenter","mouseleave")}catch(R){}clearInterval(Q.cdint);P=null}function n(P,R){R.cd=0;R.loop=0;if(R.stopAfterLoops!=o&&R.stopAfterLoops>-1){R.looptogo=R.stopAfterLoops}else{R.looptogo=9999999}if(R.stopAtSlide!=o&&R.stopAtSlide>-1){R.lastslidetoshow=R.stopAtSlide}else{R.lastslidetoshow=999}R.stopLoop="off";if(R.looptogo==0){R.stopLoop="on"}if(R.slideamount>1&&!(R.stopAfterLoops==0&&R.stopAtSlide==1)){var Q=P.find(".tp-bannertimer");if(Q.length>0){Q.css({width:"0%"});Q.animate({width:"100%"},{duration:(R.delay-100),queue:false,easing:"linear"})}Q.data("opt",R);R.cdint=setInterval(function(){if(u("body").find(P).length==0){F(P,R)}if(P.data("conthover-changed")==1){R.conthover=P.data("conthover");P.data("conthover-changed",0)}if(R.conthover!=1&&R.videoplaying!=true&&R.width>R.hideSliderAtLimit){R.cd=R.cd+100}if(R.fullWidth!="on"){if(R.width>R.hideSliderAtLimit){P.parent().removeClass("tp-hide-revslider")}else{P.parent().addClass("tp-hide-revslider")}}if(R.videostartednow==1){P.trigger("revolution.slide.onvideoplay");R.videostartednow=0}if(R.videostoppednow==1){P.trigger("revolution.slide.onvideostop");R.videostoppednow=0}if(R.cd>=R.delay){R.cd=0;R.act=R.next;R.next=R.next+1;if(R.next>P.find(">ul >li").length-1){R.next=0;R.looptogo=R.looptogo-1;if(R.looptogo<=0){R.stopLoop="on"}}if(R.stopLoop=="on"&&R.next==R.lastslidetoshow-1){clearInterval(R.cdint);P.find(".tp-bannertimer").css({visibility:"hidden"});P.trigger("revolution.slide.onstop")}d(P,R);if(Q.length>0){Q.css({width:"0%"});Q.animate({width:"100%"},{duration:(R.delay-100),queue:false,easing:"linear"})}}},100);P.hover(function(){if(R.onHoverStop=="on"){R.conthover=1;Q.stop();P.trigger("revolution.slide.onpause")}},function(){if(P.data("conthover")!=1){P.trigger("revolution.slide.onresume");R.conthover=0;if(R.onHoverStop=="on"&&R.videoplaying!=true){Q.animate({width:"100%"},{duration:((R.delay-R.cd)-100),queue:false,easing:"linear"})}}})}}})(jQuery);(function(c){function b(h,f){return(typeof h=="function")?(h.call(f)):h}function d(f){while(f=f.parentNode){if(f==document){return true}}return false}function a(h,f){this.$element=c(h);this.options=f;this.enabled=true;this.fixTitle()}a.prototype={show:function(){var j=this.getTitle();if(j&&this.enabled){var i=this.tip();i.find(".tipsy-inner")[this.options.html?"html":"text"](j);i[0].className="tipsy";i.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var m=c.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight});var f=i[0].offsetWidth,l=i[0].offsetHeight,k=b(this.options.gravity,this.$element[0]);var h;switch(k.charAt(0)){case"n":h={top:m.top+m.height+this.options.offset,left:m.left+m.width/2-f/2};break;case"s":h={top:m.top-l-this.options.offset,left:m.left+m.width/2-f/2};break;case"e":h={top:m.top+m.height/2-l/2,left:m.left-f-this.options.offset};break;case"w":h={top:m.top+m.height/2-l/2,left:m.left+m.width+this.options.offset};break}if(k.length==2){if(k.charAt(1)=="w"){h.left=m.left+m.width/2-15}else{h.left=m.left+m.width/2-f+15}}i.css(h).addClass("tipsy-"+k);i.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+k.charAt(0);if(this.options.className){i.addClass(b(this.options.className,this.$element[0]))}if(this.options.fade){i.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{i.css({visibility:"visible",opacity:this.options.opacity})}}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){c(this).remove()})}else{this.tip().remove()}},fixTitle:function(){var f=this.$element;if(f.attr("title")||typeof(f.attr("original-title"))!="string"){f.attr("original-title",f.attr("title")||"").removeAttr("title")}},getTitle:function(){var i,f=this.$element,h=this.options;this.fixTitle();var i,h=this.options;if(typeof h.title=="string"){i=f.attr(h.title=="title"?"original-title":h.title)}else{if(typeof h.title=="function"){i=h.title.call(f[0])}}i=(""+i).replace(/(^\s*|\s*$)/,"");return i||h.fallback},tip:function(){if(!this.$tip){this.$tip=c('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>');this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};c.fn.tipsy=function(k){if(k===true){return this.data("tipsy")}else{if(typeof k=="string"){var m=this.data("tipsy");if(m){m[k]()}return this}}k=c.extend({},c.fn.tipsy.defaults,k);function j(o){var p=c.data(o,"tipsy");if(!p){p=new a(o,c.fn.tipsy.elementOptions(o,k));c.data(o,"tipsy",p)}return p}function n(){var o=j(this);o.hoverState="in";if(k.delayIn==0){o.show()}else{o.fixTitle();setTimeout(function(){if(o.hoverState=="in"){o.show()}},k.delayIn)}}function i(){var o=j(this);o.hoverState="out";if(k.delayOut==0){o.hide()}else{setTimeout(function(){if(o.hoverState=="out"){o.hide()}},k.delayOut)}}if(!k.live){this.each(function(){j(this)})}if(k.trigger!="manual"){var f=k.live?"live":"bind",l=k.trigger=="hover"?"mouseenter":"focus",h=k.trigger=="hover"?"mouseleave":"blur";this[f](l,n)[f](h,i)}return this};c.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};c.fn.tipsy.revalidate=function(){c(".tipsy").each(function(){var f=c.data(this,"tipsy-pointee");if(!f||!d(f)){c(this).remove()}})};c.fn.tipsy.elementOptions=function(h,f){return c.metadata?c.extend({},f,c(h).metadata()):f};c.fn.tipsy.autoNS=function(){return c(this).offset().top>(c(document).scrollTop()+c(window).height()/2)?"s":"n"};c.fn.tipsy.autoWE=function(){return c(this).offset().left>(c(document).scrollLeft()+c(window).width()/2)?"e":"w"};c.fn.tipsy.autoBounds=function(h,f){return function(){var i={ns:f[0],ew:(f.length>1?f[1]:false)},l=c(document).scrollTop()+h,j=c(document).scrollLeft()+h,k=c(this);if(k.offset().top<l){i.ns="n"}if(k.offset().left<j){i.ew="w"}if(c(window).width()+c(document).scrollLeft()-k.offset().left<h){i.ew="e"}if(c(window).height()+c(document).scrollTop()-k.offset().top<h){i.ns="s"}return i.ns+(i.ew?i.ew:"")}}})(jQuery);
/*!
 * jQuery Validation Plugin 1.11.1
 *
 * http://bassistance.de/jquery-plugins/jquery-plugin-validation/
 * http://docs.jquery.com/Plugins/Validation
 *
 * Copyright 2013 Jrn Zaefferer
 * Released under the MIT license:
 *   http://www.opensource.org/licenses/mit-license.php
 */
(function(a){a.extend(a.fn,{validate:function(b){if(!this.length){if(b&&b.debug&&window.console){console.warn("Nothing selected, can't validate, returning nothing.")}return}var c=a.data(this[0],"validator");if(c){return c}this.attr("novalidate","novalidate");c=new a.validator(b,this[0]);a.data(this[0],"validator",c);if(c.settings.onsubmit){this.validateDelegate(":submit","click",function(d){if(c.settings.submitHandler){c.submitButton=d.target}if(a(d.target).hasClass("cancel")){c.cancelSubmit=true}if(a(d.target).attr("formnovalidate")!==undefined){c.cancelSubmit=true}});this.submit(function(d){if(c.settings.debug){d.preventDefault()}function f(){var h;if(c.settings.submitHandler){if(c.submitButton){h=a("<input type='hidden'/>").attr("name",c.submitButton.name).val(a(c.submitButton).val()).appendTo(c.currentForm)}c.settings.submitHandler.call(c,c.currentForm,d);if(c.submitButton){h.remove()}return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return f()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return f()}else{c.focusInvalid();return false}})}return c},valid:function(){if(a(this[0]).is("form")){return this.validate().form()}else{var c=true;var b=a(this[0].form).validate();this.each(function(){c=c&&b.element(this)});return c}},removeAttrs:function(d){var b={},c=this;a.each(d.split(/\s/),function(f,h){b[h]=c.attr(h);c.removeAttr(h)});return b},rules:function(f,b){var i=this[0];if(f){var d=a.data(i.form,"validator").settings;var k=d.rules;var l=a.validator.staticRules(i);switch(f){case"add":a.extend(l,a.validator.normalizeRule(b));delete l.messages;k[i.name]=l;if(b.messages){d.messages[i.name]=a.extend(d.messages[i.name],b.messages)}break;case"remove":if(!b){delete k[i.name];return l}var j={};a.each(b.split(/\s/),function(m,n){j[n]=l[n];delete l[n]});return j}}var h=a.validator.normalizeRules(a.extend({},a.validator.classRules(i),a.validator.attributeRules(i),a.validator.dataRules(i),a.validator.staticRules(i)),i);if(h.required){var c=h.required;delete h.required;h=a.extend({required:c},h)}return h}});a.extend(a.expr[":"],{blank:function(b){return !a.trim(""+a(b).val())},filled:function(b){return !!a.trim(""+a(b).val())},unchecked:function(b){return !a(b).prop("checked")}});a.validator=function(b,c){this.settings=a.extend(true,{},a.validator.defaults,b);this.currentForm=c;this.init()};a.validator.format=function(b,c){if(arguments.length===1){return function(){var d=a.makeArray(arguments);d.unshift(b);return a.validator.format.apply(this,d)}}if(arguments.length>2&&c.constructor!==Array){c=a.makeArray(arguments).slice(1)}if(c.constructor!==Array){c=[c]}a.each(c,function(d,f){b=b.replace(new RegExp("\\{"+d+"\\}","g"),function(){return f})});return b};a.extend(a.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:a([]),errorLabelContainer:a([]),onsubmit:true,ignore:":hidden",ignoreTitle:false,onfocusin:function(b,c){this.lastActive=b;if(this.settings.focusCleanup&&!this.blockFocusCleanup){if(this.settings.unhighlight){this.settings.unhighlight.call(this,b,this.settings.errorClass,this.settings.validClass)}this.addWrapper(this.errorsFor(b)).hide()}},onfocusout:function(b,c){if(!this.checkable(b)&&(b.name in this.submitted||!this.optional(b))){this.element(b)}},onkeyup:function(b,c){if(c.which===9&&this.elementValue(b)===""){return}else{if(b.name in this.submitted||b===this.lastElement){this.element(b)}}},onclick:function(b,c){if(b.name in this.submitted){this.element(b)}else{if(b.parentNode.name in this.submitted){this.element(b.parentNode)}}},highlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).addClass(b).removeClass(c)}else{a(d).addClass(b).removeClass(c)}},unhighlight:function(d,b,c){if(d.type==="radio"){this.findByName(d.name).removeClass(b).addClass(c)}else{a(d).removeClass(b).addClass(c)}}},setDefaults:function(b){a.extend(a.validator.defaults,b)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:a.validator.format("Please enter no more than {0} characters."),minlength:a.validator.format("Please enter at least {0} characters."),rangelength:a.validator.format("Please enter a value between {0} and {1} characters long."),range:a.validator.format("Please enter a value between {0} and {1}."),max:a.validator.format("Please enter a value less than or equal to {0}."),min:a.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=a(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||a(this.currentForm);this.containers=a(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=(this.groups={});a.each(this.settings.groups,function(f,h){if(typeof h==="string"){h=h.split(/\s/)}a.each(h,function(j,i){b[i]=f})});var d=this.settings.rules;a.each(d,function(f,h){d[f]=a.validator.normalizeRule(h)});function c(i){var h=a.data(this[0].form,"validator"),f="on"+i.type.replace(/^validate/,"");if(h.settings[f]){h.settings[f].call(h,this[0],i)}}a(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",c).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",c);if(this.settings.invalidHandler){a(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)}},form:function(){this.checkForm();a.extend(this.submitted,this.errorMap);this.invalid=a.extend({},this.errorMap);if(!this.valid()){a(this.currentForm).triggerHandler("invalid-form",[this])}this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var b=0,c=(this.currentElements=this.elements());c[b];b++){this.check(c[b])}return this.valid()},element:function(c){c=this.validationTargetFor(this.clean(c));this.lastElement=c;this.prepareElement(c);this.currentElements=a(c);var b=this.check(c)!==false;if(b){delete this.invalid[c.name]}else{this.invalid[c.name]=true}if(!this.numberOfInvalids()){this.toHide=this.toHide.add(this.containers)}this.showErrors();return b},showErrors:function(c){if(c){a.extend(this.errorMap,c);this.errorList=[];for(var b in c){this.errorList.push({message:c[b],element:this.findByName(b)[0]})}this.successList=a.grep(this.successList,function(d){return !(d.name in c)})}if(this.settings.showErrors){this.settings.showErrors.call(this,this.errorMap,this.errorList)}else{this.defaultShowErrors()}},resetForm:function(){if(a.fn.resetForm){a(this.currentForm).resetForm()}this.submitted={};this.lastElement=null;this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(d){var c=0;for(var b in d){c++}return c},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()===0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{a(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(b){}}},findLastActive:function(){var b=this.lastActive;return b&&a.grep(this.errorList,function(c){return c.element.name===b.name}).length===1&&b},elements:function(){var c=this,b={};return a(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){if(!this.name&&c.settings.debug&&window.console){console.error("%o has no name assigned",this)}if(this.name in b||!c.objectLength(a(this).rules())){return false}b[this.name]=true;return true})},clean:function(b){return a(b)[0]},errors:function(){var b=this.settings.errorClass.replace(" ",".");return a(this.settings.errorElement+"."+b,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=a([]);this.toHide=a([]);this.currentElements=a([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(b){this.reset();this.toHide=this.errorsFor(b)},elementValue:function(b){var c=a(b).attr("type"),d=a(b).val();if(c==="radio"||c==="checkbox"){return a("input[name='"+a(b).attr("name")+"']:checked").val()}if(typeof d==="string"){return d.replace(/\r/g,"")}return d},check:function(c){c=this.validationTargetFor(this.clean(c));var j=a(c).rules();var d=false;var i=this.elementValue(c);var b;for(var k in j){var h={method:k,parameters:j[k]};try{b=a.validator.methods[k].call(this,i,c,h.parameters);if(b==="dependency-mismatch"){d=true;continue}d=false;if(b==="pending"){this.toHide=this.toHide.not(this.errorsFor(c));return}if(!b){this.formatAndAdd(c,h);return false}}catch(f){if(this.settings.debug&&window.console){console.log("Exception occurred when checking element "+c.id+", check the '"+h.method+"' method.",f)}throw f}}if(d){return}if(this.objectLength(j)){this.successList.push(c)}return true},customDataMessage:function(b,c){return a(b).data("msg-"+c.toLowerCase())||(b.attributes&&a(b).attr("data-msg-"+c.toLowerCase()))},customMessage:function(c,d){var b=this.settings.messages[c];return b&&(b.constructor===String?b:b[d])},findDefined:function(){for(var b=0;b<arguments.length;b++){if(arguments[b]!==undefined){return arguments[b]}}return undefined},defaultMessage:function(b,c){return this.findDefined(this.customMessage(b.name,c),this.customDataMessage(b,c),!this.settings.ignoreTitle&&b.title||undefined,a.validator.messages[c],"<strong>Warning: No message defined for "+b.name+"</strong>")},formatAndAdd:function(c,f){var d=this.defaultMessage(c,f.method),b=/\$?\{(\d+)\}/g;if(typeof d==="function"){d=d.call(this,f.parameters,c)}else{if(b.test(d)){d=a.validator.format(d.replace(b,"{$1}"),f.parameters)}}this.errorList.push({message:d,element:c});this.errorMap[c.name]=d;this.submitted[c.name]=d},addWrapper:function(b){if(this.settings.wrapper){b=b.add(b.parent(this.settings.wrapper))}return b},defaultShowErrors:function(){var c,d;for(c=0;this.errorList[c];c++){var b=this.errorList[c];if(this.settings.highlight){this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass)}this.showLabel(b.element,b.message)}if(this.errorList.length){this.toShow=this.toShow.add(this.containers)}if(this.settings.success){for(c=0;this.successList[c];c++){this.showLabel(this.successList[c])}}if(this.settings.unhighlight){for(c=0,d=this.validElements();d[c];c++){this.settings.unhighlight.call(this,d[c],this.settings.errorClass,this.settings.validClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return a(this.errorList).map(function(){return this.element})},showLabel:function(c,d){var b=this.errorsFor(c);if(b.length){b.removeClass(this.settings.validClass).addClass(this.settings.errorClass);b.html(d)}else{b=a("<"+this.settings.errorElement+">").attr("for",this.idOrName(c)).addClass(this.settings.errorClass).html(d||"");if(this.settings.wrapper){b=b.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()}if(!this.labelContainer.append(b).length){if(this.settings.errorPlacement){this.settings.errorPlacement(b,a(c))}else{b.insertAfter(c)}}}if(!d&&this.settings.success){b.text("");if(typeof this.settings.success==="string"){b.addClass(this.settings.success)}else{this.settings.success(b,c)}}this.toShow=this.toShow.add(b)},errorsFor:function(c){var b=this.idOrName(c);return this.errors().filter(function(){return a(this).attr("for")===b})},idOrName:function(b){return this.groups[b.name]||(this.checkable(b)?b.name:b.id||b.name)},validationTargetFor:function(b){if(this.checkable(b)){b=this.findByName(b.name).not(this.settings.ignore)[0]}return b},checkable:function(b){return(/radio|checkbox/i).test(b.type)},findByName:function(b){return a(this.currentForm).find("[name='"+b+"']")},getLength:function(c,b){switch(b.nodeName.toLowerCase()){case"select":return a("option:selected",b).length;case"input":if(this.checkable(b)){return this.findByName(b.name).filter(":checked").length}}return c.length},depend:function(c,b){return this.dependTypes[typeof c]?this.dependTypes[typeof c](c,b):true},dependTypes:{"boolean":function(c,b){return c},string:function(c,b){return !!a(c,b.form).length},"function":function(c,b){return c(b)}},optional:function(b){var c=this.elementValue(b);return !a.validator.methods.required.call(this,c,b)&&"dependency-mismatch"},startRequest:function(b){if(!this.pending[b.name]){this.pendingRequest++;this.pending[b.name]=true}},stopRequest:function(b,c){this.pendingRequest--;if(this.pendingRequest<0){this.pendingRequest=0}delete this.pending[b.name];if(c&&this.pendingRequest===0&&this.formSubmitted&&this.form()){a(this.currentForm).submit();this.formSubmitted=false}else{if(!c&&this.pendingRequest===0&&this.formSubmitted){a(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}}},previousValue:function(b){return a.data(b,"previousValue")||a.data(b,"previousValue",{old:null,valid:true,message:this.defaultMessage(b,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},number:{number:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(b,c){if(b.constructor===String){this.classRuleSettings[b]=c}else{a.extend(this.classRuleSettings,b)}},classRules:function(c){var d={};var b=a(c).attr("class");if(b){a.each(b.split(" "),function(){if(this in a.validator.classRuleSettings){a.extend(d,a.validator.classRuleSettings[this])}})}return d},attributeRules:function(c){var h={};var b=a(c);var d=b[0].getAttribute("type");for(var i in a.validator.methods){var f;if(i==="required"){f=b.get(0).getAttribute(i);if(f===""){f=true}f=!!f}else{f=b.attr(i)}if(/min|max/.test(i)&&(d===null||/number|range|text/.test(d))){f=Number(f)}if(f){h[i]=f}else{if(d===i&&d!=="range"){h[i]=true}}}if(h.maxlength&&/-1|2147483647|524288/.test(h.maxlength)){delete h.maxlength}return h},dataRules:function(c){var h,d,f={},b=a(c);for(h in a.validator.methods){d=b.data("rule-"+h.toLowerCase());if(d!==undefined){f[h]=d}}return f},staticRules:function(c){var d={};var b=a.data(c.form,"validator");if(b.settings.rules){d=a.validator.normalizeRule(b.settings.rules[c.name])||{}}return d},normalizeRules:function(c,b){a.each(c,function(h,f){if(f===false){delete c[h];return}if(f.param||f.depends){var d=true;switch(typeof f.depends){case"string":d=!!a(f.depends,b.form).length;break;case"function":d=f.depends.call(b,b);break}if(d){c[h]=f.param!==undefined?f.param:true}else{delete c[h]}}});a.each(c,function(d,f){c[d]=a.isFunction(f)?f(b):f});a.each(["minlength","maxlength"],function(){if(c[this]){c[this]=Number(c[this])}});a.each(["rangelength","range"],function(){var d;if(c[this]){if(a.isArray(c[this])){c[this]=[Number(c[this][0]),Number(c[this][1])]}else{if(typeof c[this]==="string"){d=c[this].split(/[\s,]+/);c[this]=[Number(d[0]),Number(d[1])]}}}});if(a.validator.autoCreateRanges){if(c.min&&c.max){c.range=[c.min,c.max];delete c.min;delete c.max}if(c.minlength&&c.maxlength){c.rangelength=[c.minlength,c.maxlength];delete c.minlength;delete c.maxlength}}return c},normalizeRule:function(c){if(typeof c==="string"){var b={};a.each(c.split(/\s/),function(){b[this]=true});c=b}return c},addMethod:function(b,d,c){a.validator.methods[b]=d;a.validator.messages[b]=c!==undefined?c:a.validator.messages[b];if(d.length<3){a.validator.addClassRules(b,a.validator.normalizeRule(b))}},methods:{required:function(c,b,f){if(!this.depend(f,b)){return"dependency-mismatch"}if(b.nodeName.toLowerCase()==="select"){var d=a(b).val();return d&&d.length>0}if(this.checkable(b)){return this.getLength(c,b)>0}return a.trim(c).length>0},email:function(c,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(c)},url:function(c,b){return this.optional(b)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(c)},date:function(c,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(c).toString())},dateISO:function(c,b){return this.optional(b)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(c)},number:function(c,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(c)},digits:function(c,b){return this.optional(b)||/^\d+$/.test(c)},creditcard:function(h,c){if(this.optional(c)){return"dependency-mismatch"}if(/[^0-9 \-]+/.test(h)){return false}var i=0,f=0,b=false;h=h.replace(/\D/g,"");for(var j=h.length-1;j>=0;j--){var d=h.charAt(j);f=parseInt(d,10);if(b){if((f*=2)>9){f-=9}}i+=f;b=!b}return(i%10)===0},minlength:function(d,b,f){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||c>=f},maxlength:function(d,b,f){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||c<=f},rangelength:function(d,b,f){var c=a.isArray(d)?d.length:this.getLength(a.trim(d),b);return this.optional(b)||(c>=f[0]&&c<=f[1])},min:function(c,b,d){return this.optional(b)||c>=d},max:function(c,b,d){return this.optional(b)||c<=d},range:function(c,b,d){return this.optional(b)||(c>=d[0]&&c<=d[1])},equalTo:function(c,b,f){var d=a(f);if(this.settings.onfocusout){d.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){a(b).valid()})}return c===d.val()},remote:function(h,c,i){if(this.optional(c)){return"dependency-mismatch"}var d=this.previousValue(c);if(!this.settings.messages[c.name]){this.settings.messages[c.name]={}}d.originalMessage=this.settings.messages[c.name].remote;this.settings.messages[c.name].remote=d.message;i=typeof i==="string"&&{url:i}||i;if(d.old===h){return d.valid}d.old=h;var b=this;this.startRequest(c);var f={};f[c.name]=h;a.ajax(a.extend(true,{url:i,mode:"abort",port:"validate"+c.name,dataType:"json",data:f,success:function(k){b.settings.messages[c.name].remote=d.originalMessage;var m=k===true||k==="true";if(m){var j=b.formSubmitted;b.prepareElement(c);b.formSubmitted=j;b.successList.push(c);delete b.invalid[c.name];b.showErrors()}else{var n={};var l=k||b.defaultMessage(c,"remote");n[c.name]=d.message=a.isFunction(l)?l(h):l;b.invalid[c.name]=true;b.showErrors(n)}d.valid=m;b.stopRequest(c,m)}},i));return"pending"}}});a.format=a.validator.format}(jQuery));(function(c){var a={};if(c.ajaxPrefilter){c.ajaxPrefilter(function(h,f,i){var d=h.port;if(h.mode==="abort"){if(a[d]){a[d].abort()}a[d]=i}})}else{var b=c.ajax;c.ajax=function(f){var h=("mode" in f?f:c.ajaxSettings).mode,d=("port" in f?f:c.ajaxSettings).port;if(h==="abort"){if(a[d]){a[d].abort()}a[d]=b.apply(this,arguments);return a[d]}return b.apply(this,arguments)}}}(jQuery));(function(a){a.extend(a.fn,{validateDelegate:function(d,c,b){return this.bind(c,function(f){var h=a(f.target);if(h.is(d)){return b.apply(h,arguments)}})}})}(jQuery));if(!jQuery.support.cors&&jQuery.ajaxTransport&&window.XDomainRequest){var httpRegEx=/^https?:\/\//i;var getOrPostRegEx=/^get|post$/i;var sameSchemeRegEx=new RegExp("^"+location.protocol,"i");var htmlRegEx=/text\/html/i;var jsonRegEx=/\/json/i;var xmlRegEx=/\/xml/i;jQuery.ajaxTransport("text html xml json",function(b,f,c){if(b.crossDomain&&b.async&&getOrPostRegEx.test(b.type)&&httpRegEx.test(b.url)&&sameSchemeRegEx.test(b.url)){var a=null;var d=(f.dataType||"").toLowerCase();return{send:function(j,i){a=new XDomainRequest();if(/^\d+$/.test(f.timeout)){a.timeout=f.timeout}a.ontimeout=function(){i(500,"timeout")};a.onload=function(){var p="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType;var k={code:200,message:"success"};var m={text:a.responseText};try{if(d==="html"||htmlRegEx.test(a.contentType)){m.html=a.responseText}else{if(d==="json"||(d!=="text"&&jsonRegEx.test(a.contentType))){try{m.json=jQuery.parseJSON(a.responseText)}catch(o){k.code=500;k.message="parseerror"}}else{if(d==="xml"||(d!=="text"&&xmlRegEx.test(a.contentType))){var n=new ActiveXObject("Microsoft.XMLDOM");n.async=false;try{n.loadXML(a.responseText)}catch(o){n=undefined}if(!n||!n.documentElement||n.getElementsByTagName("parsererror").length){k.code=500;k.message="parseerror";throw"Invalid XML: "+a.responseText}m.xml=n}}}}catch(l){throw l}finally{i(k.code,k.message,m,p)}};a.onprogress=function(){};a.onerror=function(){i(500,"error",{text:a.responseText})};var h="";if(f.data){h=(jQuery.type(f.data)==="string")?f.data:jQuery.param(f.data)}a.open(b.type,b.url);a.send(h)},abort:function(){if(a){a.abort()}}}}})}(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a(jQuery)}}(function(d){d.timeago=function(j){if(j instanceof Date){return a(j)}else{if(typeof j==="string"){return a(d.timeago.parse(j))}else{if(typeof j==="number"){return a(new Date(j))}else{return a(d.timeago.datetime(j))}}}};var i=d.timeago;d.extend(d.timeago,{settings:{refreshMillis:60000,allowFuture:false,localeTitle:false,cutoff:0,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",wordSeparator:" ",numbers:[]}},inWords:function(p){var q=this.settings.strings;var m=q.prefixAgo;var u=q.suffixAgo;if(this.settings.allowFuture){if(p<0){m=q.prefixFromNow;u=q.suffixFromNow}}var s=Math.abs(p)/1000;var j=s/60;var r=j/60;var t=r/24;var n=t/365;function l(v,y){var x=d.isFunction(v)?v(y,p):v;var z=(q.numbers&&q.numbers[y])||y;return x.replace(/%d/i,z)}var o=s<45&&l(q.seconds,Math.round(s))||s<90&&l(q.minute,1)||j<45&&l(q.minutes,Math.round(j))||j<90&&l(q.hour,1)||r<24&&l(q.hours,Math.round(r))||r<42&&l(q.day,1)||t<30&&l(q.days,Math.round(t))||t<45&&l(q.month,1)||t<365&&l(q.months,Math.round(t/30))||n<1.5&&l(q.year,1)||l(q.years,Math.round(n));var k=q.wordSeparator||"";if(q.wordSeparator===undefined){k=" "}return d.trim([m,o,u].join(k))},parse:function(k){var j=d.trim(k);j=j.replace(/\.\d+/,"");j=j.replace(/-/,"/").replace(/-/,"/");j=j.replace(/T/," ").replace(/Z/," UTC");j=j.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2");return new Date(j)},datetime:function(k){var j=i.isTime(k)?d(k).attr("datetime"):d(k).attr("title");return i.parse(j)},isTime:function(j){return d(j).get(0).tagName.toLowerCase()==="time"}});var f={init:function(){var k=d.proxy(c,this);k();var j=i.settings;if(j.refreshMillis>0){setInterval(k,j.refreshMillis)}},update:function(j){d(this).data("timeago",{datetime:i.parse(j)});c.apply(this)},updateFromDOM:function(){d(this).data("timeago",{datetime:i.parse(i.isTime(this)?d(this).attr("datetime"):d(this).attr("title"))});c.apply(this)}};d.fn.timeago=function(l,j){var k=l?f[l]:f.init;if(!k){throw new Error("Unknown function name '"+l+"' for timeago")}this.each(function(){k.call(this,j)});return this};function c(){var k=b(this);var j=i.settings;if(!isNaN(k.datetime)){if(j.cutoff==0||h(k.datetime)<j.cutoff){d(this).text(a(k.datetime))}}return this}function b(j){j=d(j);if(!j.data("timeago")){j.data("timeago",{datetime:i.datetime(j)});var k=d.trim(j.text());if(i.settings.localeTitle){j.attr("title",j.data("timeago").datetime.toLocaleString())}else{if(k.length>0&&!(i.isTime(j)&&j.attr("title"))){j.attr("title",k)}}}return j.data("timeago")}function a(j){return i.inWords(h(j))}function h(j){return(new Date().getTime()-j.getTime())}document.createElement("abbr");document.createElement("time")}));(function(a){jQuery.support.cors=true;jQuery.fn.tweetable=function(b){b=a.extend({},a.fn.tweetable.options,b);return this.each(function(){var m=jQuery(this),l=jQuery('<ul class="tweetList footer-recent-tweets">')[b.position.toLowerCase()+"To"](m),i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],k="http://api.getmytweets.co.uk/?screenname=",j="&limit=",d,n,f,c,h;jQuery.getJSON(k+b.username+j+b.limit,m,function(r){a(".footer-recent-tweets-container .loading").hide();d=r&&r.error||null;if(d){l.append('<li class="tweet_content item"><p class="tweet_link">'+b.failed+"</p></li>");return}jQuery.each(r.tweets,function(u,x){if(u>=b.limit){return}l.append('<li class="tweet_content_'+u+'"><p class="tweet_link_'+u+'">'+x.response.replace(/#(.*?)(\s|$)/g,'<span class="hash">#$1 </span>').replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$&">$&</a> ').replace(/@(.*?)(\s|\(|\)|$)/g,'<a href="http://twitter.com/$1">@$1 </a>$2').replace(/:">/,' ">').replace(/: <\/a>/,"</a>:")+"</p></li>");if(b.time===true){for(c=0;c<=12;c++){if(i[c]===x.tweet_date.substr(4,3)){f=c+1;n=(f<10)?"0"+f:f}}var v=x.tweet_date.substr(26,4)+"-"+n+"-"+x.tweet_date.substr(8,2)+"T"+x.tweet_date.substr(11,8)+"Z";jQuery(".tweet_link_"+u).append('<p class="timestamp"><'+((b.html5)?'time datetime="'+v+'"':"small")+"> "+x.tweet_date.substr(8,2)+"/"+n+"/"+x.tweet_date.substr(26,4)+", "+x.tweet_date.substr(11,5)+"</"+((b.html5)?"time":"small")+"></p>")}});if(b.rotate===true){var p=l.find("li"),t=p.length||null,s=0,q=b.speed;if(!t){return}function o(){p.eq(s++).fadeOut(400,function(){s=(s===t)?0:s;p.eq(s).fadeIn(400)})}p.slice(1).hide();setInterval(o,q)}b.onComplete(l)}).error(function(o,q,p){})})};a.fn.tweetable.options={limit:5,username:"philipbeel",time:false,rotate:false,speed:5000,replies:false,position:"append",failed:"No tweets available",html5:false,retweets:false,onComplete:function(b){}}})(jQuery);var bedtimePolar,buildShareButtons,chart,createDataTable,drawGauge,drawStopWatch,extremesSet,getData,histogram,imageSearchResults,makeGame,makeHeatMap,root,scoreGame,scoreUser,shareRequest,urlToParams,width,__indexOf=[].indexOf||function(c){for(var b=0,a=this.length;b<a;b++){if(b in this&&this[b]===c){return b}}return -1};root=typeof exports!=="undefined"&&exports!==null?exports:this;$(document).ready(function(){var a;if(typeof Raven!=="undefined"&&Raven!==null){a="https://c8ceb992ae6d4480a7566c7a049af473@bugs.infino.me/3";Raven.config(a).install()}});root.mobilecheck=function(){var a;a=false;(function(b){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,4))){a=true}})(navigator.userAgent||navigator.vendor||window.opera);return a};createDataTable=function(c,a){var d,h,b;try{b={pagingType:"full_numbers",pageLength:25,orderClasses:true,processing:true,dom:'T<"clear">lfrtip',filterDelay:true,searchHighlight:true};$.extend(b,a);h=$(c).dataTable(b);if(b.filterDelay){h.fnSetFilteringDelay(d=400)}return h}catch(f){return reportError(f)}};urlToParams=function(){var a;a=window.location.search.substring(1);return JSON.parse('{"'+decodeURI(a).replace(/"/g,'"').replace(/&/g,'","').replace(RegExp("=","g"),'":"')+'"}')};window.urlToParams=urlToParams;$(document).ready(function(){if($("#disqus_thread").length){console.log("loading disqus threads",disqus_url);root.disqus_shortname="infinome";root.disqus_developer=1;(function(){var a;a=document.createElement("script");a.type="text/javascript";a.async=true;a.src="//"+root.disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)})()}});$(document).ready(function(){try{$(".addTTAM").each(function(b){var c;console.log("making ttam button");if(!this.id){return}c=TTAM(TTAM_CLIENT_ID);c.connectButton(this.id,TTAM_SCOPE)})}catch(a){console.log(a);reportError(a)}});$(document).ready(function(){try{if(!$(".addthis_toolbox").length){return}addthis.init()}catch(a){console.log("Cannot load addthis....")}});$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();if($(".mypopover").length){$(".mypopover").popover({placement:"bottom",trigger:"hover",html:true})}});(function(a){var b;b=function(d,h){var f,c;c=this;f=$(this.chart.container.parentNode);if(h){c.group.hide()}if(h){f.appear();d.call(this,h)}else{if(f.is(":appeared")){d.call(c);c.group.show()}else{f.on("appear",function(){if(!c.animated){d.call(c);c.group.show();c.animated=true}})}}};a.wrap(a.Series.prototype,"animate",b);a.wrap(a.seriesTypes.column.prototype,"animate",b);a.wrap(a.seriesTypes.pie.prototype,"animate",b)})(Highcharts);imageSearchResults=function(d,a){var b,c,f,h;b=document.querySelector(a);c=document.createDocumentFragment();$.each(d,function(k,i){var n,j,l,m;n=document.createElement("div");n.className="imgPreviewDiv is-hidden";l=0;m=0;$(n).click(function(o){$("#imgModal img").attr("src","https://www.ncbi.nlm.nih.gov/pmc/articles/PMC"+i.pmc+"/bin/"+i.fig_xref+".jpg");$("#imgDetail img").attr("src","https://www.ncbi.nlm.nih.gov/pmc/articles/PMC"+i.pmc+"/bin/"+i.fig_xref+".jpg");$(".caption").html(i.fig_caption);$(".paperLink").attr("href","http://www.ncbi.nlm.nih.gov/pmc/articles/PMC"+i.pmc);$(".modal").modal("show")});j=document.createElement("img");j.className="imgPreview";j.src="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC"+i.pmc+"/bin/"+i.fig_xref+".gif";n.appendChild(j);c.appendChild(n)});h=new Packery(b,{itemSelector:".imgPreviewDiv",gutter:20});b.appendChild(c);f=imagesLoaded(b);f.on("progress",function(j,i){var k;if(!i.isLoaded){return}k=i.img.parentNode;classie.remove(k,"is-hidden");h.appended(k)})};$(document).ready(function(){if(!$("#imgSearch").length){return}imageSearchResults(results,"#imgSearch")});$(document).ready(function(){if(!$("#catalogue").length){return}return createDataTable("#studies",{pageLength:5,ajax:"studies.json",serverSide:true})});root.plotBands=[{color:"#ffffff",from:0,to:16600,label:{text:"",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:16600,to:247216319,label:{text:"1",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:247216319,to:489967468,label:{text:"2",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:489967468,to:689414295,label:{text:"3",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:689414295,to:880677358,label:{text:"4",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:880677358,to:1061515224,label:{text:"5",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:1061515224,to:1232412217,label:{text:"6",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:1232412217,to:1391233641,label:{text:"7",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:1391233641,to:1537508467,label:{text:"8",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:1537508467,to:1677950765,label:{text:"9",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:1677950765,to:1813325502,label:{text:"10",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:1813325502,to:1947777886,label:{text:"11",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:1947777886,to:2080067420,label:{text:"12",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:2080067420,to:2194195400,label:{text:"13",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:2194195400,to:2300555985,label:{text:"14",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:2300555985,to:2400894900,label:{text:"15",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:2400894900,to:2489717154,label:{text:"16",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:2489717154,to:2568371896,label:{text:"17",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:2568371896,to:2644489049,label:{text:"18",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:2644489049,to:2708295700,label:{text:"19",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:2708295700,to:2770731665,label:{text:"20",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:2770731665,to:2817675988,label:{text:"21",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:2817675988,to:2867204941,label:{text:"22",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#f7f7ff",from:2867204941,to:3022118695,label:{text:"X",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}},{color:"#ffffff",from:3022118695,to:3079860347,label:{text:"Y",verticalAlign:"bottom",y:10,style:{fontSize:"11px"}}}];root.chromosomeSeries={type:"columnrange",name:"Chromosomes",shadow:{width:5},xAxis:1,borderRadius:10,borderColor:"black",color:{pattern:"/static/img/plaid.png",width:1,height:480},data:[{x:0,low:7000000,high:-6983400,name:"Mitochondrial"},{x:0,low:7016600,high:240216319,name:"1"},{x:0,low:254216319,high:482967468,name:"2"},{x:0,low:496967468,high:682414295,name:"3"},{x:0,low:696414295,high:873677358,name:"4"},{x:0,low:887677358,high:1054515224,name:"5"},{x:0,low:1068515224,high:1225412217,name:"6"},{x:0,low:1239412217,high:1384233641,name:"7"},{x:0,low:1398233641,high:1530508467,name:"8"},{x:0,low:1544508467,high:1670950765,name:"9"},{x:0,low:1684950765,high:1806325502,name:"10"},{x:0,low:1820325502,high:1940777886,name:"11"},{x:0,low:1954777886,high:2073067420,name:"12"},{x:0,low:2087067420,high:2187195400,name:"13"},{x:0,low:2201195400,high:2293555985,name:"14"},{x:0,low:2307555985,high:2393894900,name:"15"},{x:0,low:2407894900,high:2482717154,name:"16"},{x:0,low:2496717154,high:2561371896,name:"17"},{x:0,low:2575371896,high:2637489049,name:"18"},{x:0,low:2651489049,high:2701295700,name:"19"},{x:0,low:2715295700,high:2763731665,name:"20"},{x:0,low:2777731665,high:2810675988,name:"21"},{x:0,low:2824675988,high:2860204941,name:"22"},{x:0,low:2874204941,high:3015118695,name:"X"},{x:0,low:3029118695,high:3072860347,name:"Y"}],showInLegend:false,dataLabels:{enabled:false}};root.chromosomeSeries=chromosomeSeries;$(document).ready(function(){if(!$("#manhattan").length){return}return $(document).ready(function(){var h,i,c,j,d,f,k,a,b,l;k=$("#rsTable").dataTable({sScrollY:"200px",bPaginate:false,bScrollCollapse:true});b=$("#rsTable").DataTable();c=$("#genes").dataTable({sScrollY:"400px",bPaginate:false});f={id:"pieChart",type:"pie",name:"Allele Frequency",data:[{name:"T",id:"T",visible:true},{name:"C",id:"C",visible:true},{name:"G",id:"G",visible:true},{name:"A",id:"A",visible:true}],center:[70,70],size:50,showInLegend:false,dataLabels:{enabled:true}};$("#manhattan").highcharts({title:{text:null},credits:{enabled:false},tooltip:{positioner:function(o,p,n){var m,q;q=0;m=n.plotX;if(n.plotY<p){if(n.plotX<o){m+=o}else{m-=o}}return{x:m,y:q}}},chart:{alignTicks:false,inverted:true,type:"scatter",zoomType:"xy",animation:{duration:1000}},legend:{enabled:false,layout:"vertical",align:"right"},xAxis:[{maxPadding:0.15,minPadding:0.07,reversed:false,title:{text:"Significance (-log pValue )"}},{reversed:false,labels:{enabled:false},visible:false,type:"category",min:0,max:1,top:"90%",height:"10%",opposite:false,lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",minorTickLength:0,tickLength:0}],yAxis:{gridLineWidth:0,title:{text:"Chromosome Location",offset:10},labels:{enabled:false},min:0,max:3079860347,plotBands:window.plotBands},labels:{items:[{html:"Allele Frequency",style:{left:"60px",top:"10px"}}]},series:[chromosomeSeries,f],plotOptions:{pie:{slicedOffset:5,allowPointSelect:false},scatter:{allowPointSelect:true,dataLabels:{format:'<span class="datalabel">{series.name}</span>',useHTML:true,enabled:false,y:-5,crop:false},point:{events:{select:function(){var o,n,m;o=this.series.name;n=this.name;m=this.you;console.log("rs"+n+" - "+o);return $.post("rs.json",{rs:n},function(s){var q,r,p,v,y,z,t,x,u;$("#rs").html('This SNP : <a href="/snp/rs'+n+'">rs'+n+'</a> | Linkouts: (<a target="_BLANK" href="http://www.snpedia.com/index.php/Rs'+n+'">SNPedia</a>)');$("#yourGenotype").html("Your genotype : <b>"+m+"</b>");$("#geneDesc").html("<h3>Nearby Genes:</h3>"+s.genes);z=s.snp;u=["T","C","G","A"];for(t=0,x=u.length;t<x;t++){q=u[t];y=i.get(q);p=z.aFreqs[q];if(!p){p=0}r={y:p,sliced:false,visible:true,name:q+" ("+Math.round(p*100)+"%)"};if(__indexOf.call(m,q)>=0){r.sliced=true}y.update(r,0)}v=i.get("pieChart");v.redraw();b.clear();b.rows.add(s.data).draw()})}}},marker:{radius:4,symbol:"diamond",states:{hover:{enabled:true,lineColor:"rgb(100,100,100)",symbol:"circle"}}},tooltip:{useHTML:true,pointFormat:"<b>rs{point.name}</b><br/><b>Significance:</b> {point.x}<br /><b>Genome location:</b> {point.y}<br/>You: {point.you} {point.youare}",pointFormat:"<b>rs{point.name}</b><br/>You: {point.you} {point.youare}",headerFormat:"<b>{series.name} - {point.name}</b>",formatter:function(){return'<div class="highcharts-tooltip"><span></span></div>'}}},columnrange:{tooltip:{followPointer:false,headerFormat:"",pointFormat:"Chromosome: {point.name}"}}}});i=$("#manhattan").highcharts();a=[];j=[];d=[];l=function(o){var q,n,p,m;if(o){console.log("highlighting");console.log(j);console.log(d);n={marker:{fillColor:"#FFA500",radius:5}};q=0;while(q<j.length){m=i.get(j[q]);if(m){m.update(n,0)}q++}n={marker:{fillColor:"#FF0000",radius:5}};q=0;while(q<d.length){m=i.get(d[q]);if(m){m.update(n,0)}q++}p={color:"#888888"};q=2;while(q<i.series.length){i.series[q].update(p,0);q++}}else{n={marker:{fillColor:null,radius:4}};q=0;while(q<j.length){m=i.get(j[q]);if(m){m.update(n,0)}q++}q=0;while(q<d.length){m=i.get(d[q]);if(m){m.update(n,0)}q++}p={color:null};q=2;while(q<i.series.length){i.series[q].update(p,0);q++}}return i.redraw()};h=function(o){var n,m;m={disease:o};n=[];$("input[name='options[]']:checked").each(function(){return n.push(parseInt($(this).val()))});m.checked=n;return $.post("data.json",m,function(q){var p,t,s,r;console.log("data received");while(i.series.length>2){i.series[2].remove(false)}console.log("old plot cleared");r=q.series;for(t in r){s=r[t];s.xAxis=0;i.addSeries(s,0)}console.log("new series added");console.log("redrawing");i.redraw();console.log("done");j=q.hetPoints;d=q.homPoints;if($("#highlightMode").length){p=$("#highlightMode").bootstrapSwitch("state");console.log(p);if(p){l(p)}}})};$(".selectpicker").selectpicker();$("#diseaseSelector").change(function(){var m;m=$(this).val();return h(m)});$("#highlightMode").bootstrapSwitch("size","mini");$("#highlightMode").on("switchChange.bootstrapSwitch",function(m,n){l(n)});h("bmi")})});$(document).ready(function(){var a;if(!$("#alleleFreqChart").length){return}$("#alleleFreqChart").highcharts({title:{text:""},credits:{enabled:false},chart:{alignTicks:false,type:"scatter",zoomType:"xy",animation:{duration:500}},legend:{enabled:true,layout:"vertical",align:"right"},xAxis:[{title:{text:"Allele Frequency"}},{labels:{enabled:false},visible:false,min:0,max:100,opposite:true,lineWidth:0,minorGridLineWidth:0,minorTickLength:0,tickLength:0}],yAxis:{gridLineWidth:0,title:{text:"Significance (-log pValue )"},labels:{enabled:true},min:0},series:[],plotOptions:{scatter:{allowPointSelect:true,marker:{radius:4,symbol:"diamond",states:{hover:{enabled:true,lineColor:"rgb(100,100,100)",symbol:"circle"}}},tooltip:{useHTML:true,formatter:function(){return'<div class="highcharts-tooltip"><span>'+this.point.name+"<br /><b>"+Highcharts.numberFormat(this.y).replace(","," ")+" K ["+Highcharts.numberFormat(this.percentage,2)+"%]</b></span></div>"}}}}});a=$("#alleleFreqChart").highcharts();return $.getJSON("alleles.json",function(d){var c,b;console.log(d);c=d.data;b={name:"points",data:c};a.series=[];a.addSeries(b,0);return a.redraw()})});$(document).ready(function(){var b,f,c,a,d;if(!$("#papers").length){return}d=createDataTable("#papers",{data:papers,sDom:"lfrtip",scrollY:"600px",scrollCollapse:true,paging:$("#visjs").length===0,fnRowCallback:function(k,j,i,h){$(k).attr("id",j[1]);return k}});a=d.fnSettings().nTable.parentNode;if(!$("#visjs").length){return}b=document.getElementById("visjs");c={interaction:{hideEdgesOnDrag:true},physics:{stabilization:{enabled:true,iterations:2000,updateInterval:25}},nodes:{shape:"circle",color:{background:"blue",border:"gray",highlight:{background:"pink",border:"red"}}},edges:{arrows:{to:{enabled:true,scaleFactor:1}},color:{color:"gray",highlight:"orange"}}};f=new vis.Network(b,graph,c);f.on("select",function(i){var j,h;console.log(i);j=i.nodes[0];console.log(j);h="tr#"+j.toString();console.log(h);$(a).scrollTo(h,100)});return $("#papers tbody").on("click","tr",function(){var h,i;i=$(this).attr("id");f.focus(i,{animation:{duration:500}});f.selectNodes([i],true);h=f.getConnectedNodes(i);if(!h.length){h=[i]}f.moveTo({Scale:h});console.log(i);if($(this).hasClass("selected")){$(this).removeClass("selected")}else{d.$("tr.selected").removeClass("selected");$(this).addClass("selected")}})});$(document).ready(function(){var d,c,h,b,f,a;if($("#genesTable").length){createDataTable("#genesTable",{pageLength:15,ajax:"genes.json",serverSide:true,aaSorting:[]})}if($("#geneGWAS").length){$("#geneGWAS").dataTable({data:gwasData,sScrollY:"400px",bPaginate:false,bScrollCollapse:true})}if($("#geneImages").length){$.getJSON("images",function(i){var j;j=i.results;console.log(j);if(Object.keys(j).length){$(".row.images").show();return imageSearchResults(j,"#geneImages")}})}if($("#papersAsync").length){f=createDataTable("#papersAsync",{data:papers,sDom:"lfrtip",scrollY:"600px",scrollCollapse:true,paging:true,ordering:false,pageLength:100,lengthMenu:[[100,250,500,-1],[100,250,500,"All"]]});f=f.DataTable();h=papers.length;c=function(i){$.ajax({dataType:"json",url:"search",data:{start:i},success:function(j){console.log(j);f.rows.add(j.results);f.draw("page");if(j.results.length<=0){return}h+=j.results.length;if(h>500){return}c(h)}})};c(papers.length)}if($("#jsmol").length){a="WEBGL HTML5";b=["h2oOn=true",'set animframecallback "jmolscript:if (!selectionHalos) {select model=_modelNumber}"','set errorCallback "myCallback"','set defaultloadscript "isDssp = false',"set defaultVDW babel",'if(!h2oOn){display !water}"',"set zoomlarge false","refresh",'load "/view/'+pdb+'.pdb"',"spacefill off","wireframe off","cartoons on","color structure"];b=b.join(";");d={width:"100%",height:300,debug:false,color:"white",addSelectionOptions:false,use:a,j2sPath:"/static/jsmol/j2s",script:b,disableInitialConsole:true};Jmol.setDocument(0);Jmol.getApplet("jmol1",d);$("#jsmol").html(Jmol.getAppletHtml(jmol1))}});try{$(document).ready(function(){var n,m,b,d,a,o,p,k,h,l,f,c;if(!$("#snpPage").length){return}if($("#rsPDB").length){console.log("Fetching PDBs");$.ajax({dataType:"json",url:"pdbs",success:function(s){var j,q,u,t,v,x,r,i;console.log(s);t=s.pdbs;"console.log 'pdbs', data\ntable.rows.add(data.results)\ntable.draw('page')\nreturn if data.results.length <= 0\nfetched += data.results.length\nreturn if fetched > 500\nfetchPage fetched\nreturn";if(!t.length){return}q=t[0].pdb;u="/view/"+q+".pdb";j=t[0].chains[0];x=j[2]+":"+j[0];i="WEBGL HTML5";v=["h2oOn=false",'set animframecallback "jmolscript:if (!selectionHalos) {select model=_modelNumber}"','set errorCallback "myCallback"','set defaultloadscript "isDssp = false',"set defaultVDW babel",'if(!h2oOn){display !water}"',"set zoomlarge false","set platformSpeed 9","refresh",'load "'+u+'"',"spacefill off","wireframe off","cartoons on","color structure","select {"+x+"}; wireframe 40; color amino;","zoomto 1 {within(10,"+x+")} 0;","set platformSpeed 3"];v=v.join(";");console.log(v);r={width:"100%",height:450,debug:false,color:"white",addSelectionOptions:false,use:i,j2sPath:"/static/jsmol/j2s",script:v,disableInitialConsole:true};Jmol.setDocument(0);root.jmol=Jmol.getApplet("jmol1",r);$("#rsPDB").html(Jmol.getAppletHtml(jmol1));setTimeout(jsmolShowResidue(jmol._script,x),1000)}})}if($("#snpGWAS").length){$("#snpGWAS").dataTable({data:gwasData,sScrollY:"400px",bPaginate:false,bScrollCollapse:true})}if($("#snpImages").length){$.getJSON("images",function(i){var j;j=i.results;console.log(j);if(Object.keys(j).length){$(".row.images").show();return imageSearchResults(j,"#snpImages")}})}if($("#alleleFreq").length){b=[];p=[];d=["A","C","G","T"];for(k=f=0;f<=3;k=++f){n=d[k];a=alleleFreqs[n];if(a){b.push([n,a])}for(h=c=k;k<=3?c<=3:c>=3;h=k<=3?++c:--c){m=d[h];o=alleleFreqs[n]*alleleFreqs[m];if(o){p.push([n+m,o])}}}Highcharts.getOptions().colors=Highcharts.map(Highcharts.getOptions().colors,function(i){return{radialGradient:{cx:0.5,cy:0.3,r:0.7},stops:[[0,i],[1,Highcharts.Color(i).brighten(-0.3).get("rgb")]]}});l=100;$("#alleleFreq").highcharts({credits:{enabled:false},chart:{height:2*l,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false},title:{text:"Allele Frequencies"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{pie:{size:l,cursor:"pointer",showInLegend:true,dataLabels:{enabled:true,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:(Highcharts.theme&&Highcharts.theme.contrastTextColor)||"black"}}}},series:[{type:"pie",name:"Allele Frequency",data:b}]});return $("#genotypeFreq").highcharts({credits:{enabled:false},chart:{height:2*l,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false},title:{text:"Genotype Frequencies"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},legend:{layout:"vertical",align:"right",verticalAlign:"middle"},plotOptions:{pie:{size:l,allowPointSelect:true,cursor:"pointer",showInLegend:true,dataLabels:{enabled:true,format:"<b>{point.name}</b>: {point.percentage:.1f} %",style:{color:(Highcharts.theme&&Highcharts.theme.contrastTextColor)||"black"}}}},series:[{type:"pie",name:"Genotype Frequencies",data:p}]})}})}catch(e){reportError(e)}$(document).ready(function(){if($("#gwas.byPval").length){$("#gwas").dataTable({order:[[0,"desc"]],data:gwasData,sScrollY:"600px",bPaginate:false,bScrollCollapse:true})}if($("#riskHist").length){$.get("risk.json",{},function(b){var c,a;console.log(b);if(!b.hist.length){return}if(b.hist.length<10){return}c={chart:{type:"area",zoomType:"x",alignTicks:false,marginTop:60},credits:{enabled:false},legend:{enabled:true},title:{text:"Number of Risk Alleles in Population"},xAxis:[{ordinal:false,opposite:true,labels:{enabled:false},lineWidth:0,tickWidth:0,useHTML:true,plotLines:[{color:"red",zIndex:7,width:3,label:{text:""}}]},{title:{text:""},linkedTo:0,opposite:false}],yAxis:[{title:{text:"Users"},min:0,gridLineWidth:0}],plotOptions:{series:{shadow:true,column:{borderWidth:0,borderColor:"#777"}}},tooltip:{shared:true,valueSuffix:" "},series:[{name:"Population",zIndex:1,step:false,id:"userHist",type:"column",pointPadding:0,borderWidth:0,color:Highcharts.getOptions().colors[0],data:b.hist}]};a={type:"flags",name:"flags",showInLegend:false,zIndex:4,shadow:false,shape:"squarepin",color:"red",lineWidth:2,data:[]};a.data.push({x:b.you,title:"You have "+b.you+" effect alleles"});if(b.you){c.series.push(a);c.xAxis[0].plotLines[0].value=b.you}$("#riskHist").highcharts(c)})}});$(document).ready(function(){if($("#traitsGraph").length){$.get("traitGraph.json",{},function(b){var a,f,d,c;console.log(b);f=b.graph;a=document.getElementById("traitsGraph");c={nodes:{shape:"dot"}};d=new vis.Network(a,f,c)})}if($("#traitsTable").length){$("#traitsTable").dataTable({order:[[0,"desc"]],data:traits,sScrollY:"600px",bPaginate:false,bScrollCollapse:true})}if($("#papersTable").length){$("#papersTable").dataTable({order:[[0,"desc"]],data:papers,sScrollY:"600px",bPaginate:false,bScrollCollapse:true})}});width=void 0;$(document).ready(function(){if(!$("#friendsGraph").length){return}d3.json("graph.json",function(f){var a,b,j,d,i,c,h;console.log(f);makeChord(f.nodes,f.matrix,"#friendChord");a="img/soft-scraps-icons/";c=null;d=null;i=null;b=document.getElementById("friendsGraph");j={nodes:f.nodes,edges:f.edges};h={physics:{forceAtlas2Based:{gravitationalConstant:-26,centralGravity:0.005,springLength:230,springConstant:0.18},maxVelocity:146,solver:"forceAtlas2Based",timestep:0.35,stabilization:{enabled:true,iterations:2000,updateInterval:25}},nodes:{borderWidth:4,size:30,color:{border:"#222222",background:"#666666"},font:{color:"#eeeeee"}},edges:{color:"lightgray"}};i=new vis.Network(b,j,h)})});root.drawSankey=function(A,n,H,c){var j,F,z,b,u,B,C,D,m,a,E,s,k,q,G,o,y,i,h,d,v,x,t,p,f,l,r;h=15;a=function(I){if(!I.target.name){I.target.name=I.target.n}return"linkGrad-"+I.source.name.split(" ").join("_")+I.target.name.split(" ").join("_")};i=function(I){return I.color=z(I.name.replace(RegExp(" .*"),""))};u=function(I){d3.select(this).attr("transform","translate("+I.x+","+(I.y=Math.max(0,Math.min(s-I.dy,d3.event.y)))+")");l.relayout();k.attr("d",t)};B=function(){return function(K,I){var L;L=r.selectAll(" .node");L=L.filter(function(M){return M.name!==v[I].name});r.selectAll(".link").filter(function(M){return M.source.name!==v[I].name&&M.target.name!==v[I].name}).transition().style("opacity",0.2);r.selectAll(".link").filter(function(M){return M.source.name===v[I].name||M.target.name===v[I].name}).style("stroke","#070").style("stroke",function(M){return i(M.source)}).style("stroke-dasharray","7,5").style("-webkit-animation","dash 5s linear infinite").style("animation","dash 5s linear infinite").transition().style("stroke-opacity",0.4)}};C=function(){return function(K,I){var L;L=r.selectAll(".node");L.transition().style("opacity",1);r.selectAll(".link").style("stroke-dasharray","none").style("-webkit-animation","none").style("animation","none").style("stroke",function(M){return"url(#"+a(M)+")"}).transition().style("opacity",1).style("stroke-opacity",0.2)}};d=30;F=$(A).width();G=600;o=300;j=G;q={top:7,right:40,bottom:15,left:10};x=n.length;if(x<3){q.left=50}if(x<7){j=Math.min(G,o*x);p=j/x-h;q.right=p-d;q.right=Math.max(1,q.right)}if(x===1&&!n[0].pic){p=j;f=j/2;q.right=f;n[0].pic="/static/img/dnaguy.svg"}width=F-q.left-q.right;s=j-q.top-q.bottom;m=d3.format(".2f");D=function(I){return m(I)+""};z=d3.scale.category20();r=d3.select(A).append("svg").attr("width",width+q.left+q.right).attr("height",s+q.top+q.bottom).append("g").attr("transform","translate("+q.left+","+q.top+")");b=r.append("defs");l=d3.sankey().nodeWidth(d).nodePadding(h).size([width,s]);t=l.link();v=n.concat(H);l.nodes(v).links(c).layout(4096);E=b.selectAll("linearGradient").data(c,a);E.enter().append("linearGradient").attr("id",a).attr("gradientUnits","userSpaceOnUse");E.attr("x1",function(I){return I.source.x}).attr("y1",function(I){return I.source.y}).attr("x2",function(I){return I.target.x}).attr("y2",function(I){return I.target.y});E.html("").append("stop").attr("offset","0%").attr("stop-color",function(I){return i(I.source.x<=I.target.x?I.source:I.target)});E.append("stop").attr("offset","100%").attr("stop-color",function(I){return i(I.source.x>I.target.x?I.source:I.target)});k=r.append("g").selectAll(".link").data(c).enter().append("path").attr("class","link").attr("d",t).style("fill","none").style("stroke",function(I){return"url(#"+a(I)+")"}).style("stroke-width",function(I){return Math.max(3,I.dy)}).sort(function(K,I){return I.dy-K.dy});k.append("title").text(function(I){return I.source.name+"  "+I.target.name+"\n"+D(I.value)});y=r.append("g").selectAll(".node").data(v).enter().append("g").attr("class","node").attr("transform",function(I){return"translate("+I.x+","+I.y+")"}).call(d3.behavior.drag().origin(function(I){return I}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",u)).on("mouseover",B()).on("mouseout",C());r.selectAll(".node").filter(function(I){return I.pic}).append("image").attr("xlink:href",function(I){return I.pic}).attr("height",function(I){return I.dy}).attr("width",function(I){return I.dy}).attr("transform","translate(-1,0)").append("title").text(function(I){return I.name+"\n"+D(I.value)});r.selectAll(".node").filter(function(I){return !I.pic}).append("rect").attr("height",function(I){return Math.max(1,I.dy)}).attr("width",l.nodeWidth()).style("fill",function(I){return I.color=z(I.name.replace(RegExp(" .*"),""))}).style("stroke",function(I){return d3.rgb(I.color).darker(2)}).append("title").text(function(I){return I.name+"\n"+D(I.value)});r.selectAll(".node").filter(function(I){return I.ancestry&&I.fbid}).append("text").attr("x",function(I){return I.dy/2}).attr("y",function(I){return I.dy+7}).attr("dy",".35em").attr("text-anchor","middle").text(function(I){return I.n});r.selectAll(".node").filter(function(I){return !I.ancestry}).append("text").attr("y",function(I){return I.dy/2}).attr("dy",".35em").attr("transform",null).text(function(K){var I;I=K.name;if(I==="Total"){I="Earth"}return I}).attr("x",6+l.nodeWidth()).attr("text-anchor","start").filter(function(I){return I.name})};root.buildSankey=function(r,v){var s,j,c,n,k,d,m,h,y,i,q,t,o,l,x,f,a,p,b,u;$(r).empty();k=[];t=[];a={};i={};f={};l=function(C,A,z){var E,D,B;E=A.label;D=A.proportion;if(C&&!(E in i[C])){i[C][E]=0}if(!(E in i)){i[E]={}}if("unassigned" in A&&A.unassigned>0){a[z][E]=A.unassigned}if(C){i[C][E]+=D}if("sub_populations" in A){for(B in A.sub_populations){l(E,A.sub_populations[B],z)}}else{if(D>0){a[z][E]=D}}};m=0;for(b=0,u=v.length;b<u;b++){d=v[b];a[m]={};d.name="p"+String(d.id);if(d.fbid){d.pic="https://graph.facebook.com/"+d.fbid+"/picture?type=large"}k.push(d);s=d.ancestry;l(null,s,m);m++}n=m;y=[];c=[];for(o in i){for(j in i[o]){p=i[o][j];if(p>0){if(!(o in y)){y[o]=n;n++;t.push({name:o})}if(!(j in y)){y[j]=n;n++;t.push({name:j})}c.push({source:y[o],target:y[j],value:p})}}}for(m in a){for(h in a[m]){p=a[m][h];if(p>0){if(!(h in y)){y[h]=n;n++;t.push({name:h})}c.push({source:y[h],target:parseInt(m),value:p})}}}for(q in f){t.push({name:q+" unassigned"});x=0;for(m in f[q]){p=f[q][m];x+=p;c.push({source:n,target:parseInt(m),value:p})}if(q!=="Total"){c.push({source:y[q],target:n,value:x})}n++}"console.log(popIDs);\nconsole.log('popLinks');\nconsole.log(popLinks);\nconsole.log 'popLinks:'+popLinks\nconsole.log('userLinks');\nconsole.log(userLinks);\nconsole.log('nodes');\nconsole.log(peepNodes);\nconsole.log(popNodes);\nconsole.log('links');\nconsole.log(links);";drawSankey(r,k,t,c)};root.makeAncestrySankey=function(b,a){buildSankey(b,a);$(window).resize(function(){buildSankey(b,a)})};$(document).ready(function(){if(!$("#ancestry").length){return}d3.json("ancestry.json",function(a){var b;b=a.data;console.log(b);makeAncestrySankey("#ancestry",b)});if($("#shareAncestry").length){makeShareButton((function(){return{type:"ancestrySankey"}}),"#shareAncestry","Show your friends",null)}});$(document).ready(function(){if(!$("#friendsAncestry").length){return}d3.json("friends.json",function(a){var b;b=a.data;console.log(b);makeAncestrySankey("#friendsAncestry",b)})});$(document).ready(function(){var c,a,b;if($("#riskbars").length){$("#dashes").height($("#riskbars").height())}if($("#diseasepie").length){$("#diseasepie").highcharts({credits:{enabled:false},chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false,credits:{enabled:false}},legend:{enabled:false},title:{text:"Leading Causes of Death in America"},subtitle:{text:'Source : <a target="_blank" href="http://www.cdc.gov/nchs/fastats/deaths.htm">CDC</a>'},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:true,cursor:"pointer",dataLabels:{enabled:true,color:"#000000",connectorColor:"#000000"},showInLegend:true}},series:[{type:"pie",name:"Fraction of Deaths",startAngle:0,data:[{name:"Heart Disease",y:24.2,sliced:true,selected:true},["Cancer",23.2],["Respiratory Diseases",5.5],["Stroke",5.2],["Accidents",4.8],["Alzheimer's",3.4],["Diabetes",2.8],["Nephritis",2],["Flu",2],["Suicide",1.6],["Septicemia",1.4],["Liver Disease",1.3],["Essential Hypertension",1.1],["Parkinson's",0.9],["Pneumonitis",0.7],{name:"All Other Causes",y:19.6,color:"#eee"}]}]})}root.mortalityBMI=function(d){this.chart=new Highcharts.Chart({credits:{enabled:false},chart:{renderTo:d,type:"spline"},title:{text:"Body Mass Index and Mortality Risk"},subtitle:{text:'Source : <a target="_BLANK" href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3066051/">Body-Mass Index and Mortality among 1.46 Million White Adults</a>'},subtitle:{text:""},legend:{layout:"vertical",align:"right",verticalAlign:"bottom",x:-10,y:-20,floating:true,borderWidth:1,backgroundColor:"#FFFFFF"},xAxis:{min:13,max:47,title:"Body Mass Index (BMI)",plotBands:[{color:"#e8e8ff",from:0,to:18.5,label:{text:"Underweight",verticalAlign:"top",y:-3}},{color:"#e8ffe8",from:18.5,to:24.9,label:{text:"Normal",verticalAlign:"top",y:-3}},{color:"#ffffe8",from:25,to:29.9,label:{text:"Overweight",verticalAlign:"top",y:-3}},{color:"#ffe8e8",from:30,to:500,label:{text:"Obese",verticalAlign:"top",y:-3}}]},yAxis:{title:{text:"Mortality Risk (Hazard Ratio)"}},tooltip:{formatter:function(){if(this.series.type==="pie"){return false}return"<b>"+this.series.name+"</b> |  BMI "+this.x+" |  Hazard Ratio  "+this.y+" "}},series:[{id:"Men",name:"Men",data:[[16.7,1.6],[19.2,1.16],[21.2,1.04],[23.7,1],[26.2,1.04],[28.7,1.2],[32.45,1.43],[37.45,1.94],[44.95,3.01]]},{type:"errorbar",data:[[16.7,1.28,1.99],[19.2,0.97,1.37],[21.2,0.97,1.12],[23.7,1,1],[26.2,0.99,1.09],[28.7,1.13,1.27],[32.45,1.34,1.51],[37.45,1.76,2.14],[44.95,2.6,3.49]]},{id:"Women",name:"Women",color:"#CC00CC",data:[[16.7,1.63],[19.2,1.24],[21.2,1.06],[23.7,1],[26.2,1.08],[28.7,1.14],[32.45,1.33],[37.45,1.68],[44.95,2.28]]},{type:"errorbar",data:[[16.7,1.42,1.87],[19.2,1.13,1.37],[21.2,1,1.13],[23.7,1,1],[26.2,1.02,1.15],[28.7,1.07,1.22],[32.45,1.25,1.42],[37.45,1.54,1.84],[44.95,2.04,2.54]]}]});$("#"+d).parent().append('<p style="float:right;">Data source: <a target="_BLANK" href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3066051/">Body-Mass Index and Mortality among 1.46 Million White Adults</a></p>');this.drawUserBMI=function(h){var i,f;f=this.chart.xAxis[0].min;i=this.chart.xAxis[0].max;this.chart.xAxis[0].removePlotLine("bmi");if(h>f&&h<i){this.chart.xAxis[0].setExtremes(f,i,1)}if(h>i){this.chart.xAxis[0].setExtremes(f,h+5,1)}if(h<f){this.chart.xAxis[0].setExtremes(Math.max(h-5,0),i,1)}return this.chart.xAxis[0].addPlotLine({id:"bmi",value:h,color:"red",width:2})}};if($("#longevityBMI").length){c=new mortalityBMI("bmiChart");a=null;if($("#bmipie").length){a=new Highcharts.Chart({credits:{enabled:false},chart:{renderTo:"bmipie",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false},legend:{layout:"vertical",align:"right",verticalAlign:"bottom",x:0,y:0,floating:true,borderWidth:1,backgroundColor:"#FFFFFF"},title:{text:"Population Breakdown"},subtitle:{text:'Source : <a target="_blank" href="http://www.cdc.gov/nchs/fastats/overwt.htm">CDC</a>'},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:true,cursor:"pointer",dataLabels:{enabled:false,color:"#000000",connectorColor:"#000000"},showInLegend:true}},series:[{type:"pie",startAngle:230,name:"Fraction of Americans",data:[["Healthy",30.8],["Overweight",33.3],["Obese",35.9]]}]})}b=function(){var f,d,h;h=$("#weight").val();d=$("#height").val();f=h/(d/100*d/100);if(f<5||f>200){return}c.drawUserBMI(f);$("#BMItext").html(f.toFixed(1));if(a){a.series[0].data[0].slice(0);a.series[0].data[1].slice(0);a.series[0].data[2].slice(0);if(f<18.5){$("#BMItext").css("color","#88b");a.series[0].data[0].slice(1)}if(f>18.5&&f<24.9){$("#BMItext").css("color","#8b8");a.series[0].data[0].slice(1)}if(f>24.9&&f<29.9){$("#BMItext").css("color","#bb7");a.series[0].data[1].slice(1)}if(f>30){$("#BMItext").css("color","#c77");a.series[0].data[2].slice(1)}}};$("#weight, #height").keyup(function(){b()});$("#lbs").keyup(function(){var f,d;d=$("#lbs").val();f=d*0.453592;$("#weight").val(f.toFixed(0));b()});$("#feet, #inches").keyup(function(){var d,f;f=12*$("#feet").val()+1*$("#inches").val();d=f*2.54;$("#height").val(d.toFixed(0));b()});$("#weight").keyup(function(){var f,d;f=$("#weight").val();d=f*(1/0.453592);$("#lbs").val(d.toFixed(0));b()});$("#height").keyup(function(){var d,f,h;d=$("#height").val();h=d*(1/2.54);f=h/12;h=h%12;$("#feet").val(f.toFixed(0));$("#inches").val(h.toFixed(0));b()});return}});root.pickSharePage=function(){var a,b;b=["https://www.infino.me/","https://www.infino.me/join/a","https://www.infino.me/join/b","https://www.infino.me/join/c"];a=b[Math.floor(Math.random()*b.length)];return a};root.shareSpinnerOpts={lines:10,length:10,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:0.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2000000000,className:"spinner",top:"50%",left:"50%",shadow:false,hwaccel:false,position:"relative"};shareRequest=function(b,a){var c;console.log("Sharing!");c=a+" .spinner";$(c).spin(root.shareSpinnerOpts);$.getJSON("/share/post.json",b,function(f){var d;d="https://infino.me/share/"+f.code;console.log("href",d);FB.ui({method:"share",href:d},function(h){console.log("facebook share result: ",h);$(c).spin(false)})})};root.makeShareButton=function(c,a,d,f){var b;b="";if(f){b+=f+"&nbsp;&nbsp;&nbsp;"}b=b.concat('<div class="spinner" style="width: 30px; height: 33px; border: 0px solid black; float: left;margin-right:20px;"></div>');b=b.concat('<a class="btn btn-social btn-facebook", style="color:#FFF;">');b=b.concat('<i class="fa fa-facebook"></i> '+d);b=b.concat("</a>");$(a).html(b);$(a+" a").click(function(){var h;h=c();shareRequest(h,a)})};buildShareButtons=function(){$(".shareVizButton").each(function(b){var f,i,d,h,a,c;a=this;console.log(a);c=$(a).data("sharetype");i=$(a).data("comment");f=$(a).data("txt");h=$(a).data("post");if(!h){h="/share/post.json"}d="";if(i){d+=i+"&nbsp;&nbsp;&nbsp;"}d=d.concat('<div class="spinner" style="width: 30px; height: 33px; border: 0px solid black; float: left;margin-right:20px;"></div>');d=d.concat('<a class="btn btn-social btn-facebook", style="color:#FFF;">');d=d.concat('<i class="fa fa-facebook"></i> '+f);d=d.concat("</a>");$(a).html(d);$(a).find("a").click(function(){var j,k;k=$(a).find(".spinner");$(k).spin(root.shareSpinnerOpts);j={type:c};$.getJSON(h,j,function(m){var l;l="https://infino.me/share/"+m.code;FB.ui({method:"share",href:l},function(n){console.log("facebook share result: ",n);$(k).spin(false)})})})})};$(document).ready(function(){if(!(typeof FACEBOOK_APP_ID!=="undefined"&&FACEBOOK_APP_ID!==null)){return}console.log("Initializing facebook api");FB.init({version:"v2.0",appId:FACEBOOK_APP_ID,frictionlessRequests:true,cookie:true});buildShareButtons();$("#shareInfinome,.shareInfinome").click(function(){var a;a=pickSharePage();FB.ui({method:"share",href:a},function(b){if(b){$.ajax({url:"/shared"})}})})});Array.prototype.unique=function(){var c,b,h,f,d,a;b={};for(c=f=0,d=this.length;0<=d?f<d:f>d;c=0<=d?++f:--f){b[this[c]]=this[c]}a=[];for(c in b){h=b[c];a.push(h)}return a};$(document).ready(function(){return;$("p").each(function(c){var h,j,d,i,b,f,a;i=$(this).html();d=i.match(/(rs[0-9]+)/g);if(d){b=d.unique();for(f=0,a=b.length;f<a;f++){j=b[f];h='<b><span class="mypopover" data-original-title="'+j+'" data-content="Heres some info on this snp">'+j+"</span></b>";i=i.replace(j,h)}$(this).html(i)}});return $(".mypopover").popover({placement:"right",trigger:"hover",html:true})});$(document).ready(function(){var d,c,a,b;if(!$("#waitSpin").length){return}a=$("#waitSpin").data("taskid");console.log(a);c={lines:13,length:28,width:14,radius:42,scale:1,corners:1,color:"#000",opacity:0.25,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2,className:"spinner",top:"50%",left:"50%",shadow:false,hwaccel:false,position:"relative"};$("#waitSpin").spin(c);d=false;b=function(f){$.post("status",f,function(h){console.log(h);if(h.status==="SUCCESS"){d=true;$("#waitSpin").spin(false);$("#waitSpin .status").html("Done!");$("#buttons").show()}},"json").fail(function(){console.log("Couldnt poll for jobs :(")}).always(function(){if(!d){setTimeout(b,1000)}})};return setTimeout(b,5000)});String.prototype.replaceAll=function(b,a){return this.split(b).join(a)};$(document).ready(function(){var b,d,a,f,h,c,j,i;root.decodeSeries=function(k){var m,l;if(k===null){return null}l="[["+k.split("|").join("],[")+"]]";m=JSON.parse(l);return m};root.scaleTimeseries=function(m){var l,k;for(l in m){l=l;k=m[l];k[0]*=1000}return m};if($("#friendsUse").length){d3.json("friendsUse.json",function(m){var p,o,s,k,q,r,n,l;k=m.friendDevices;s={};k.forEach(function(u){var t;if(u.name){if(!(u.api in s)){s[u.api]={};s[u.api].url=u.url;s[u.api].users=[]}s[u.api].users.push({name:u.name,fbid:u.fbid})}});if(Object.keys(s).length){$("#friendsUse").before("<h4>Trackers your friends use</h4>")}for(p in s){o=s[p];l=[];for(r in o.users){n=o.users[r];l.push("<li><img src='https://graph.facebook.com/"+n.fbid+"/picture?type=square' />"+n.name+"</li>")}q=p;if(o.url){q="<a target='_BLANK' href='"+o.url+"'>"+q+"</a>"}$("#friendsUse").append("<div class='dev'><span class='devTitle'>"+q+"</span><div class='well well-sm'><ul>"+l.join("")+"</ul></div></div>");o=s[p]}})}if(!$("#steps-leaderboard").length){return}f=function(){var p,n,F,I,N,z,S,G,D,O,H,t,y,M,P,l,o,m,R,u,B,A,k,s,E,r,C,Q,q,L,v,x,K;u=crossfilter(d);n=u.groupAll();o=function(U,T,V){if(U.value[T]){return U.value[V]/U.value[T]}else{return 0}};p=function(U,T){if(T in U.set){U.set[T]++}else{U.set[T]=1;U.count++}return U};A=function(U,T){U.set[T]--;if(U.set[T]===0){delete U.set[T];U.count--}return U};m=function(){return{set:{},count:0}};y=function(T){return{all:function(){return T.all().filter(function(U){return U.key!==""})}}};D=u.dimension(function(T){return T.dd});Q=u.dimension(function(T){return j[T.sensor].user});q=Q.group().reduce((function(U,T){++U.count;U.sumSteps+=T.steps;U.sumCalories+=T.calories;U.sumStairs+=T.stairs;if(T.timeAsleep>0){++U.sleepCount;U.sumTimeAsleep+=T.timeAsleep;U.sumSleepEfficiency+=T.sleepEfficiency}return U}),(function(U,T){--U.count;U.sumSteps-=T.steps;U.sumCalories-=T.calories;U.sumStairs-=T.stairs;if(T.timeAsleep>0){--U.sleepCount;U.sumTimeAsleep-=T.timeAsleep;U.sumSleepEfficiency-=T.sleepEfficiency}return U}),function(){return{count:0,sumSteps:0,sumCalories:0,sumStairs:0,sleepCount:0,sumTimeAsleep:0,sumSleepEfficiency:0}});G=$("#bubbleCol").width();S=Math.min(G,400);userBubbleChart.width(G).height(S).margins({top:10,right:50,bottom:30,left:40}).transitionDuration(1500).dimension(Q).group(q).xAxisPadding(1000).x(d3.scale.linear().domain([0,25000])).elasticX(true).keyAccessor(function(T){return o(T,"count","sumSteps")}).xAxisLabel("Steps per day").y(d3.scale.linear()).elasticY(true).valueAccessor(function(U){var T;T=o(U,"count","sumCalories");if(T<500){T=1500}return T}).yAxisPadding(500).yAxisLabel("Calories burned").colorAccessor(function(T){return o(T,"sleepCount","sumSleepEfficiency")}).colors(colorbrewer.RdYlGn[9]).colorDomain([0,100]).r(d3.scale.linear().domain([0,4000])).radiusValueAccessor(function(T){return o(T,"count","sumCalories")}).maxBubbleRelativeSize(0.07).renderHorizontalGridLines(true).renderVerticalGridLines(true).legend(dc.legend().x(0).y(10).itemHeight(13).gap(5)).renderLabel(true).label(function(T){return""+i[T.key].name});userBubbleChart.yAxis().tickFormat(function(T){return T});x=u.dimension(function(T){return T.week});K=x.group().reduce((function(U,T){if(j[T.sensor].user!==1){++U.count;U.sumSteps+=T.steps;U.sumStairs+=T.stairs}return U}),(function(U,T){if(j[T.sensor].user!==1){--U.count;U.sumSteps-=T.steps;U.sumStairs-=T.stairs}return U}),function(){return{count:0,sumSteps:0,sumStairs:0}});v=x.group().reduce((function(U,T){if(j[T.sensor].user===1){++U.count;U.sumSteps+=T.steps}return U}),(function(U,T){if(j[T.sensor].user===1){--U.count;U.sumSteps-=T.steps}return U}),function(){return{count:0,sumSteps:0,avgSteps:0}});C=$("#monthly-move-chart").parent().width();M=dc.lineChart(timeseriesChart).renderArea(false).brushOn(false).colors("orange").interpolate("step-before").group(K,"Steps per Week (friends)").valueAccessor(function(T){if(T.value.count){return T.value.sumSteps/T.value.count}else{return 0}});L=dc.lineChart(timeseriesChart).renderArea(true).brushOn(false).interpolate("step-before").group(v,"Steps per Week (You)").valueAccessor(function(T){if(T.value.count){return T.value.sumSteps/T.value.count}else{return 0}});timeseriesChart.width(C).height(170).margins({top:15,right:50,bottom:25,left:45}).transitionDuration(1000).dimension(x).mouseZoomable(false).x(d3.time.scale().domain([c,h])).round(d3.time.week.round).xUnits(d3.time.weeks).elasticY(true).renderHorizontalGridLines(true).legend(dc.legend().x(60).y(110).itemHeight(13).gap(5)).brushOn(true).compose([L,M]).render();P=u.dimension(function(T){return j[T.sensor].gender});l=P.group().reduce((function(U,T){return p(U,j[T.sensor].name)}),(function(U,T){return A(U,j[T.sensor].name)}),function(){return m()});genderChart.width(180).height(180).radius(65).innerRadius(30).dimension(P).group(l).renderLabel(false).valueAccessor(function(T){return T.value.count}).legend(dc.legend().x(70).y(70).itemHeight(10).gap(5)).colors(d3.scale.ordinal().domain(["male","female","?"]).range(["#3E85FD","#F590E5","#DDD"]));F=u.dimension(function(T){return j[T.sensor].api});I=F.group().reduce((function(U,T){return p(U,T.name)}),(function(U,T){return A(U,T.name)}),function(){return m()});apiChart.width(180).height(180).radius(60).innerRadius(0).dimension(F).group(I).renderLabel(false).legend(dc.legend().x(0).y(0).itemHeight(10).gap(5)).colors(d3.scale.category20()).valueAccessor(function(T){return T.value.count});O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];H=u.dimension(function(T){return T.day});t=H.group();dayOfWeekRow.width($("#day-of-week-row").parent().width()).height(180).margins({top:0,left:10,right:10,bottom:-1}).dimension(H).group(t).elasticX(true).label(function(T){return O[T.key]}).title(function(T){return T.value});R=400;B=i.length;if(B<10){R=B*40}stepsLeaderboard.width($("#steps-leaderboard").parent().width()).height(R).margins({top:0,left:40,right:10,bottom:20}).dimension(Q).group(q).label(function(T){return i[T.key].name}).valueAccessor(function(T){return o(T,"count","sumSteps")}).ordering(function(T){return -o(T,"count","sumSteps")}).title(function(T){return i[T.key].pic}).elasticX(true).xAxis().ticks(4);stepsLeaderboard.xAxis().tickFormat(function(T){return""});stairsLeaderboard.width(200).height(250).margins({top:20,left:40,right:40,bottom:20}).dimension(Q).group(q).valueAccessor(function(T){return o(T,"count","sumStairs")}).ordering(function(T){return -o(T,"count","sumStairs")}).rowsCap(7).othersGrouper(false).elasticX(true).xAxis().ticks(4);sleeptimeLeaderboard.width(200).height(250).margins({top:20,left:40,right:40,bottom:20}).dimension(Q).group(q).valueAccessor(function(T){return o(T,"sleepCount","sumTimeAsleep")}).ordering(function(T){return -o(T,"sleepCount","sumTimeAsleep")}).rowsCap(7).othersGrouper(false).elasticX(true).xAxis().ticks(4);E=u.dimension(function(T){return Math.round(T.steps/1000)});r=E.group();stepsHistogram.width(370).height(190).width($("#steps-histogram").parent().width()).height(180).margins({top:10,right:30,bottom:30,left:40}).dimension(E).group(r).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([0,25])).colors(colorbrewer.RdYlGn[9]).colorAccessor(function(T){return T.key}).colorDomain([0,10]).renderHorizontalGridLines(true);stepsHistogram.xAxis().tickFormat(function(T){return T+"k"});stepsHistogram.yAxis().ticks(5);k=u.dimension(function(T){return Math.round(T.timeAsleep)});s=k.group();sleeptimeHistogram.width($("#sleeptime-histogram").parent().width()).height(190).margins({top:10,right:10,bottom:30,left:10}).dimension(k).group(s).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([0,12])).renderHorizontalGridLines(true).colors(colorbrewer.RdYlGn[9]).colorAccessor(function(T){return T.key}).colorDomain([0,12]);sleeptimeHistogram.yAxis().ticks(5);N=u.dimension(function(U){var T;T=U.bedTime/60/60-12;return Math.round(T)});z=N.group();bedtimeHistogram.width($("#bedtime-histogram").parent().width()).height(190).margins({top:10,right:5,bottom:30,left:5}).dimension(N).group(z).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([5,21])).renderHorizontalGridLines(true);bedtimeHistogram.xAxis().tickFormat(function(T){if(T===12){return"M"}if(T===24){return"N"}if(T>12){T-=12}return T+""});bedtimeHistogram.yAxis().ticks(5);dc.dataCount(".dc-data-count").dimension(u).group(n).html({some:"<strong>%filter-count</strong> selected out of <strong>%total-count</strong> records | <a href='javascript:dc.filterAll(); dc.renderAll();''>Reset All</a>",all:"All records selected. (<strong>%total-count</strong>) Click on the graphs to apply filters."});dc.renderAll()};"use strict";(function(){var k;k=dc.compositeChart;dc.compositeChart=function(m,n){var l;l=k(m,n);l._brushing=function(){var p,o;p=l.extendBrush();o=null;if(!l.brushIsEmpty(p)){o=dc.filters.RangedFilter(p[0],p[1])}dc.events.trigger((function(){if(!o){l.filter(null)}else{l.replaceFilter(o)}l.redrawGroup()}),dc.constants.EVENT_DELAY)};return l}})();root.stepsLeaderboard=dc.leaderBoard("#steps-leaderboard");root.stairsLeaderboard=dc.leaderBoard("#stairs-leaderboard");root.sleeptimeLeaderboard=dc.leaderBoard("#sleeptime-leaderboard");root.dayOfWeekRow=dc.rowChart("#day-of-week-row");root.userBubbleChart=dc.bubbleChart("#yearly-bubble-chart");root.timeseriesChart=dc.compositeChart("#monthly-move-chart");root.apiChart=dc.pieChart("#api-chart");root.genderChart=dc.pieChart("#gender-chart");root.stepsHistogram=dc.barChart("#steps-histogram");root.sleeptimeHistogram=dc.barChart("#sleeptime-histogram");root.bedtimeHistogram=dc.barChart("#bedtime-histogram");a=void 0;b=void 0;j=void 0;i=[];d=[];c=void 0;h=void 0;d3.json("dc.json",function(m){var l,k,n;j=m.data;l=d3.time.format("%Y%m%d");k=d3.format(".2f");n=0;j.forEach(function(r){var v,p,t,o,q,u;if(!r.steps){return}u=function(z,s){var A;var x,y;if(!z){return}z=decodeSeries(z);y=0;while(y<z.length){x=z[y][0];if(x in t){t[x][s]=z[y][1]}y++}};if(!r.name){r.name="?"}if(!r.gender){r.gender="?"}if(r.pic){r.pic="https://graph.facebook.com/"+r.pic.toString()+"/picture?type=square"}i[r.user]={name:r.name,pic:r.pic,gender:r.gender};t={};r.steps=decodeSeries(r.steps);q=0;while(q<r.steps.length){t[r.steps[q][0]]=[r.steps[q][1],null,null,null,null];q++}delete r.steps;u(r.calories,1);delete r.calories;u(r.timeAsleep,2);delete r.timeAsleep;u(r.sleepEfficiency,3);delete r.sleepEfficiency;u(r.bedTime,4);delete r.bedTime;for(p in t){v=t[p];v.push(n);o=l.parse(p);v.push(o);v={sensor:n};v.dd=l.parse(p);if(c===void 0){c=v.dd;h=v.dd}if(v.dd<c){c=v.dd}if(v.dd>h){h=v.dd}v.month=d3.time.month(v.dd);v.week=d3.time.week(v.dd);v.day=v.dd.getDay();v.steps=t[p][0];v.calories=t[p][1];v.timeAsleep=t[p][2];v.sleepEfficiency=t[p][3];v.bedTime=t[p][4];v.stairs=0;v.calories=v.calories===null?-1:+v.calories;v.timeAsleep=v.timeAsleep===null?-1:+v.timeAsleep;v.sleepEfficiency=v.sleepEfficiency===null?-1:+v.sleepEfficiency;v.bedTime=v.bedTime===null?-9999999:+v.bedTime;d.push(v)}n++});console.log(i);console.log(j);console.log(d);f()});return $(window).resize(function(){f()})});root.makeBMIBubble=function(i){var f,c,k,l,h,b,j,d,a;console.log(i);a=false;i.forEach(function(m){m.value=m.bmi*m.bmi;if(m.isUser){a=true}});if(a){$("#bubble").append('<center><p class="bmiLegend">* Rotating circle is you</p></center>')}j=$("#bubble").parent().width();l=Math.round(0.9*j);h=d3.format(",d");c=d3.scale.linear().domain([18,22,28,35]).range(["#b8b8cf","#b8cfb8","#dfdf98","#df8888"]);f=d3.layout.pack().sort(null).size([l,l]).padding(1.5);d=d3.select("#bubble").append("svg").attr("width",l).attr("height",l).attr("class","bubble");k={children:i};b=d.selectAll(".node").data(f.nodes(k).filter(function(m){return !m.children})).enter().append("g").attr("class","node").attr("transform",function(m){return"translate("+m.x+","+m.y+")"});b.append("title").text(function(m){return"Height : "+m.height+" m  Weight : "+m.weight+" kg"});b.append("circle").attr("r",function(m){return m.r}).style("fill",function(m){return c(Math.round(m.bmi))}).attr("class",function(m){if(m.isUser){return"userBMI"}else{return"otherBMI"}}).attr("stroke",function(m){if(m.isUser){return"black"}else{return"white"}}).attr("stroke-width",function(m){if(m.isUser){return 2}else{return 0}}).attr("stroke-dasharray",function(m){return[6,6]});d3.select(self.frameElement).style("height",l+"px")};$(document).ready(function(){if(!$("#bubble").length){return}console.log("drawing bubble");d3.json("/bubble.json",function(a){makeBMIBubble(a.bmi)})});root.histStats=function(j){var c,f,b,h,k,d,a;a=0;d=0;h=0;b=0;while(b<j.length){k=j[b];c=k[0];f=k[1];a+=c*f;d+=f;if(f>h){h=f}b++}return{mean:a/d,mode:0,median:0,maxCount:h}};histogram=function(){this.config={chart:{type:"area",zoomType:"x",alignTicks:false,marginTop:60},credits:{enabled:false},legend:{enabled:true},title:{text:""},xAxis:[{ordinal:false,opposite:true,labels:{enabled:false},lineWidth:0,tickWidth:0,useHTML:true,min:0,plotLines:[{color:"red",zIndex:7,dashStyle:"dash",width:3},{color:"orange",zIndex:6,dashStyle:"dash",width:3}]},{title:{text:""},linkedTo:0,opposite:false}],yAxis:[{title:{text:"Days (you)"},min:0,gridLineWidth:0},{title:{text:"Days (Others)"},min:0,opposite:true,gridLineWidth:0}],plotOptions:{series:{shadow:true,column:{borderWidth:0,borderColor:"#777"}}},tooltip:{shared:true,valueSuffix:" "},series:[{name:"You",zIndex:1,step:false,id:"userHist",type:"column",pointPadding:0,borderWidth:0,color:Highcharts.getOptions().colors[0]},{name:"Others",zIndex:1,step:true,lineWidth:3,id:"othersHist",yAxis:1,type:"spline",color:Highcharts.getOptions().colors[3]}]};this.draw=function(F){var b,o,u,t,s,B,m,G,v,x,C,k,h,d,c,A,E,D,z,y,a,q,n,l,j,f;console.log(F);console.log(F.measure.measure,F.user.length);if(F.measure.measure==="bedTime"){this.config.xAxis[1].tickInterval=1;this.config.xAxis[0].min=5;this.config.xAxis[0].max=18;this.config.xAxis[1].min=5;this.config.xAxis[1].max=18;this.config.xAxis[1].labels={formatter:function(){if(this.value===0){return"Midnight"}if(this.value===12){return"Midnight"}if(this.value>12){return this.value-12+" am"}else{return this.value+" pm"}return this.value+""}};q=F.user;for(k=0,A=q.length;k<A;k++){s=q[k];s[0]-=12}n=F.others;for(h=0,E=n.length;h<E;h++){s=n[h];s[0]-=12}}this.config.series[0].data=F.user;this.config.series[1].data=F.others;G=F.measure.n+" ("+F.measure.metric+")";switch(F.measure.measure){case"steps":G="Steps Taken";break;case"stairs":G="Stairs Climbed";break;case"bedTime":G="Bed Time"}this.config.title.text=G;C=0;v=0.95;x=0;for(u in F.user){t=F.user[u];x+=t[1]}m=0;console.log(F.user);l=F.user;for(d=0,D=l.length;d<D;d++){t=l[d];m+=t[1];C=t[0];if(m>v*x){break}}x=0;j=F.others;for(c=0,z=j.length;c<z;c++){t=j[c];x+=t[1]}m=0;f=F.others;for(a=0,y=f.length;a<y;a++){u=f[a];m+=t[1];if(t[0]>C){C=t[0]}if(m>v*x){break}}console.log("xMax",C);switch(F.measure.measure){case"steps":C=30000}o={type:"flags",name:"flags",showInLegend:false,zIndex:4,shadow:false,shape:"squarepin",color:"red",lineWidth:2,data:[]};B=histStats(F.user);this.config.yAxis[0].ceiling=B.maxCount;this.config.xAxis[0].plotLines[0].value=B.mean;o.data.push({x:B.mean,title:"Your Average"});B=histStats(F.others);this.config.yAxis[1].ceiling=B.maxCount;this.config.xAxis[0].plotLines[1].value=B.mean;b={x:B.mean,title:"Background Average"};this.config.xAxis[0].ceiling=C;this.config.series.push(o);$("#histogram").highcharts(this.config);return""}};getData=function(a){$.post("histdata.json",{m:a.id},function(b){var c,d,f;console.log(b);d={};d.user=decodeSeries(b.user.data);d.others=decodeSeries(b.others.data);d.measure=a;f=new histogram;c=f.draw(d)})};chart=null;$(document).ready(function(){if(!$("#histButtons").length){return}$.post("histseries.json",function(c){var b,d,a;for(d in c){a=c[d].n;console.log(d,c);b='<label class="btn btn-default" data-id="'+d+'"><input type="radio" >'+a+"</label>";$("#histButtons").append(b)}$("#histButtons label").click(function(){var f;f=$(this).attr("data-id");console.log(c[f]);getData(c[f])});$("#histButtons label:first").click()})});bedtimePolar=function(c){var a,b;a={chart:{polar:true},title:{text:"Bedtime"},pane:{startAngle:180-(360/24),endAngle:360+180-(360/24)},xAxis:{tickInterval:1,min:6,max:18,labels:{formatter:function(){if(this.value===0){return"Midnight"}if(this.value===12){return"Midnight"}if(this.value>12){return this.value-12}return this.value+""}},plotLines:[{color:"red",zIndex:7,dashStyle:"dash",width:2},{color:"orange",dashStyle:"dash",width:3}]},yAxis:[{min:0,ticks:false},{min:0,ticks:false}],plotOptions:{series:{pointStart:0,pointInterval:1,groupPadding:0}},series:[{type:"column",name:"You",data:[],shadow:true},{type:"column",name:"Others",data:[],zIndex:3,color:Highcharts.getOptions().colors[3],yAxis:1,shadow:true}]};a.series[0].data=c.user;a.series[1].data=c.others;b=histStats(c.user);a.xAxis.plotLines[0].value=b.mean;console.log(b);b=histStats(c.others);a.xAxis.plotLines[1].value=b.mean;$("#bedtimePolar").highcharts(a)};$(document).ready(function(){if(!$("#bedtimePolar").length){return}$.get("bedtime.json",function(d){var k,j,f,b,m,i,h,c,l,a;console.log("polar response",d);j={};i=decodeSeries(d.user);b=decodeSeries(d.others);j.user=i;j.others=b;j.user=[0,0,0,0,0,0,0,0,0,0,0,0];j.others=[0,0,0,0,0,0,0,0,0,0,0,0];j.user=[];j.others=[];for(h=0,l=i.length;h<l;h++){m=i[h];f=m[0];if(f<18&&f>6){continue}f-=12;k=m[1];j.user.push([f,k])}for(c=0,a=b.length;c<a;c++){m=b[c];f=m[0];if(f<18&&f>6){continue}f-=12;k=m[1];j.others.push([f,k])}console.log("bedtime",j);bedtimePolar(j)})});root.makeChord=function(r,A,C){var E,o,x,l,k,z,h,p,d,a,u,D,n,B,I,y,v,m,t,f,H,c,b,F,G,q;H=(function(){var s,j,i;i=[];for(s=0,j=r.length;s<j;s++){t=r[s];i.push(t.name+" ("+t.api+")")}return i})();console.log("making chord diagram");width=600;u=600;width=$(C).parent().width();u=width;y=Math.min(width,u)/3-10;n=y-27;h=d3.format(".2f");o=d3.svg.arc().innerRadius(n).outerRadius(y);root.layout=d3.layout.chord().padding(0.04).sortSubgroups(d3.descending).sortChords(d3.ascending);v=d3.svg.chord().radius(n);l=d3.select(C).append("svg").attr("width",width).attr("height",u).append("g").attr("id","circle").attr("transform","translate("+width/2+","+u/2+")");l.append("circle").attr("r",y);f=d3.scale.category20();z=d3.scale.linear().domain([-1,0,1]).range(["#d99","#ccc","#9f9"]);E=[];for(D=c=0,F=A.length;c<F;D=++c){m=A[D];E[D]=[];m[D]=0;q=A[D];for(B=b=0,G=q.length;b<G;B=++b){k=q[B];if(Math.abs(k)<0.4){k=0}E[D][B]=Math.abs(k)}}I=function(s,j){x.classed("fade",function(i){return i.source.index!==j&&i.target.index!==j})};layout.matrix(E);p=l.selectAll(".group").data(layout.groups).enter().append("g").attr("class","group").on("mouseover",I);p.append("title").text(function(s,j){return r[j].name+" ("+r[j].api+")"});d=p.append("path").attr("id",function(s,j){return"group"+j}).attr("d",o).style("fill",function(s,j){r[j].color;return f(j)});a=p.append("text").attr("x",6).attr("dy",15);a.append("textPath").text(function(s,j){return r[j].name});p.append("svg:text").each(function(i){return i.angle=(i.startAngle+i.endAngle)/2}).attr("dy",".35em").attr("text-anchor",function(i){if(i.angle>Math.PI){return"end"}return null}).attr("transform",function(j){var i;i="rotate("+(j.angle*180/Math.PI-90)+")translate("+(n+26)+")";if(j.angle>Math.PI){i+="rotate(180)"}return i}).text(function(i){return r[i.index].name});x=l.selectAll(".chord").data(layout.chords).enter().append("path").attr("class","chord").style("opacity",0.5).style("fill",function(s,j){z(A[s.source.index][s.target.index]);return f(j)}).attr("d",v);x.append("title").text(function(i){return r[i.source.index].name+"  "+r[i.target.index].name+": "+h(A[i.source.index][i.target.index])})};$("#corrTimeseries").highcharts({credits:{enabled:false},chart:{type:"spline",zoomType:"x"},title:{text:"Timeseries"},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"},title:{text:"Date"}},yAxis:[{title:"series 1"},{title:"series 2",opposite:true}],tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x:%e. %b}: {point.y:.2f} m"},plotOptions:{spline:{marker:{enabled:true}}},series:[{name:"1",yAxis:0},{name:"2",yAxis:1}]});width=$("#corrScatter").width();$("#corrScatter").highcharts({credits:{enabled:false},chart:{type:"scatter",zoomType:"xy",height:width*0.6},title:{text:"Scatter"},xAxis:{title:{enabled:true}},yAxis:{title:{enabled:true}},legend:{enabled:false},plotOptions:{scatter:{marker:{radius:5,states:{hover:{enabled:true,lineColor:"rgb(100,100,100)"}}},states:{hover:{marker:{enabled:false}}},tooltip:{headerFormat:"<b>{series.name}</b><br>",pointFormat:"{point.x}, {point.y}"}}},series:[{name:"Scatter",color:"rgba(223, 83, 83, .5)"}]});makeHeatMap=function(k,o){var h,l,f,p,q,m,b,d,c,n,a;m=(function(){var r,j,i;i=[];for(r=0,j=k.length;r<j;r++){q=k[r];i.push(q.name+" ("+q.api+")")}return i})();h=[];for(l=d=0,n=o.length;d<n;l=++d){p=o[l];for(f=c=0,a=p.length;c<a;f=++c){b=p[f];h.push([l,f,b])}}width=$("#heatMap").width();$("#heatMap").highcharts({credits:{enabled:false},chart:{type:"heatmap",height:width*0.85,width:width,marginTop:40,marginBottom:150,marginRight:80},title:{text:"Correlation between timeseries"},xAxis:{categories:m},yAxis:{categories:m,labels:{step:1}},plotOptions:{heatmap:{allowPointSelect:true},series:{events:{click:function(s){var v,j,u,r,t,i,z;u=$("#corrScatter").highcharts();t=$("#corrTimeseries").highcharts();i=s.point.x;z=s.point.y;console.log(i,z,k[i],k[z]);v=k[i];r=k[z];v.name=v.name+"("+v.api+")";r.name=r.name+"("+r.api+")";root.foo=v;if(u){u.xAxis[0].options.title.text=v.name}j=[{api:v.api,tsType:v.tsType},{api:r.api,tsType:r.tsType}];console.log("posting",j);$.ajax({type:"POST",url:"tsdata.json",data:JSON.stringify(j),contentType:"application/json",dataType:"json",success:function(x){var y;if(u){u.series[0].setData(x.scatter,true);u.xAxis[0].setTitle({text:v.name});u.yAxis[0].setTitle({text:r.name})}if(t){x.series[0]=(function(){var C,A,D,B;D=x.series[0];B=[];for(C=0,A=D.length;C<A;C++){y=D[C];B.push([Date.parse(y[0]),y[1]])}return B})();x.series[1]=(function(){var C,A,D,B;D=x.series[1];B=[];for(C=0,A=D.length;C<A;C++){y=D[C];B.push([Date.parse(y[0]),y[1]])}return B})();t.series[0].name=v.name;t.series[1].name=r.name;t.series[0].update({name:v.name,data:x.series[0]},false);t.series[1].update({name:r.name,data:x.series[1]},true)}console.log("response",x)},failure:function(x){if(u){u.series[0].setData(null,true)}if(t){t.series[0].setData(null,false);t.series[1].setData(null,true)}alert(x)}})}}}},colorAxis:{min:-1,max:1,minColor:"#FFAAAA",minColor:"#FFFFFF",maxColor:Highcharts.getOptions().colors[0],maxColor:"#AAFFAA"},colorAxis:{reversed:false,stops:[[0,"#ddaaaa"],[0.5,"#ffffff"],[1,"#aaddaa"]],min:-1,max:1,startOnTick:false,endOnTick:false},legend:{align:"right",layout:"vertical",margin:0,verticalAlign:"top",y:25,symbolHeight:280},tooltip:{formatter:function(){return"<b>"+this.series.xAxis.categories[this.point.x]+"<br>correlates with"+this.series.yAxis.categories[this.point.y]+"<br> : "+this.point.value+"</b>"}},series:[{name:"Correlation",borderWidth:1,data:h,dataLabels:{enabled:false,color:"#000000"}}]})};$(document).ready(function(){if(!$("#corrScatter").length){return}d3.json("chord.json",function(b){var a,c;c=b.series;a=b.matrix;makeHeatMap(c,a)})});root.makeStepsCalendar=function(m){var h,n,v,q,t,o,k,u,c,r,a,b,d,i,p,l,j,f,s;width=960;width=$("#calendar").parent().width();h=17;h=Math.round(width/53)-1;k=136;k=7*h+20;b=d3.format(".1%");o=d3.time.format("%Y-%m-%d");t=m[0][0].split("-");r=t[0];c=t[0];u=0;v={};for(f=0,s=m.length;f<s;f++){i=m[f];q=i[0];p=i[1];v[q]=p;q=q.split("-");j=parseInt(q[0]);if(j<r){r=j}if(j>c){c=j}if(p>u){u=p}}u=10000;n=d3.scale.linear().domain([0,u]).range(["#d99","#9d9"]);l=d3.select("#calendar").selectAll("svg").data(d3.range(r,c+1)).enter().append("svg").attr("width",width).attr("height",k).append("g").attr("transform","translate("+(width-(h*53))/2+","+(k-(h*7)-1+")"));a=function(B){var C,A,z,y,x;z=new Date(B.getFullYear(),B.getMonth()+1,0);C=B.getDay();y=d3.time.weekOfYear(B);A=z.getDay();x=d3.time.weekOfYear(z);return"M"+(y+1)*h+","+C*h+"H"+y*h+"V"+7*h+"H"+x*h+"V"+(A+1)*h+"H"+(x+1)*h+"V"+0+"H"+(y+1)*h+"Z"};d=l.selectAll(".day").data(function(x){return d3.time.days(new Date(x,0,1),new Date(x+1,0,1))}).enter().append("rect").attr("class","day").attr("width",h).attr("height",h).attr("x",function(x){return d3.time.weekOfYear(x)*h+20}).attr("y",function(x){return x.getDay()*h}).datum(o);d.append("title").text(function(x){return x});l.selectAll(".month").data(function(x){return d3.time.months(new Date(x,0,1),new Date(x+1,0,1))}).enter().append("path").attr("class","month").attr("transform","translate(20,0)").attr("d",a);l.append("text").attr("transform","translate(15,"+h*3.5+")rotate(-90)").style("text-anchor","middle").text(function(x){return x});l.selectAll(".monthText").data(function(y,x){d3.time.months(new Date(y,0,1),new Date(y+1,0,1));return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}).enter().append("text").style("text-anchor","middle").attr("transform",function(z,x){var y,A;"translate("+(70+x*(width/12))+",-3)";y=width/14;A=y+x*y;return"translate("+A+",-3)"}).text(function(y,x){return y});d.filter(function(x){return x in v}).style("fill",function(x){return n(v[x])}).select("title").text(function(x){return x+": "+b(v[x])})};d3.select(self.frameElement).style("height","2910px");$(document).ready(function(){if(!$("#calendar").length){return}if($("#share").length){return}d3.json("steps.json",function(a){console.log("steps data: ",a);makeStepsCalendar(a.steps)});if($("#shareCalendar").length){makeShareButton((function(){return{type:"stepsCalendar"}}),"#shareCalendar","Share on Facebook",null)}});scoreUser=function(){var j;var c,d,b,h,j,f,a;if(chart.series[0].groupedData){f=chart.series[0].currentDataGrouping.unitName;a={};for(c in chart.series[0].groupedData){c=c;j=chart.series[0].groupedData[c];a[j.x]=j.y}h=0;b=0;for(c in chart.series[1].groupedData){c=c;j=chart.series[1].groupedData[c];if(j.x in a){h++;if(j.y<a[j.x]){b++}}}console.log(b+" "+h);d="";if(b>h-b){d="On average, you got <b>more</b> steps per "+f+" than your friends."}else{d='On average, <span style="color:red">your friends got more exercise</span> than you did each '+f}$("#message p").html("<p>"+d+"</p>")}};extremesSet=function(a){console.log(a);scoreUser()};root.thresholdPlot={config:{chart:{type:"areaspline",height:500,zoomType:"x"},legend:{enabled:true},title:{text:""},xAxis:{type:"datetime",ordinal:false,minRange:1000*60*60*24},yAxis:[{gridLineWidth:0,plotLines:[{value:9990,width:4,dashStyle:"dash",color:"#bbbb55",zIndex:5,label:{text:"Recommended"}}],min:0,title:{text:null}}],rangeSelector:{selected:0,buttons:[{type:"week",count:2,text:"2w"},{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}]},scrollbar:{enabled:false,liveRedraw:true},plotOptions:{areaspline:{fillOpacity:0.5},series:{shadow:true,dataGrouping:{groupPixelWidth:40},marker:{enabled:true,radius:3}}},tooltip:{shared:true,valueDecimals:0},series:[{name:"Daily Steps",type:"areaspline",threshold:10000,lineWidth:0.5,shadow:true,lineWidth:0.2,shadow:false,color:Highcharts.Color(Highcharts.getOptions().colors[2]).setOpacity(0.9).get("rgba"),negativeColor:Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0.9).get("rgba")}]},draw:function(a){this.config.series[0].data=a;$("#threshold").highcharts("StockChart",this.config)}};$(document).ready(function(){if(!$("#threshold").length){return}d3.json("steps.json",function(a){var c,b;console.log("steps data: ",a);b=(function(){var i,f,h,d;h=a.steps;d=[];for(i=0,f=h.length;i<f;i++){c=h[i];d.push([Date.parse(c[0]),c[1]])}return d})();thresholdPlot.draw(b)})});root.makeBullets=function(d){var a,c,b;c={top:5,right:20,bottom:20,left:200};c.left=20;c.right=10;width=$("#bullets").parent().width();width=0.9*width;width=0.7*width;width=width-c.left-c.right;a=50-c.top-c.bottom;chart=d3.bullet().width(width).height(a);console.log("height",a,width);d3.select("#bullets").selectAll("tr").data(d).enter().append("tr").append("td").attr("class","title").text(function(f){return f.title});d3.select("#bullets").selectAll("tr").data(d).append("td").attr("class","chart");d3.select("#bullets").selectAll("tr").data(d).append("td").attr("class",function(f){if(f.percentile>50){return"goodStatus"}else{return"badStatus"}}).text(function(f){if(f.percentile>50){return"Higher than "+f.percentile+" percent of users"}else{return"Lower than "+(100-f.percentile)+" percent of users"}});b=d3.select("#bullets").selectAll("td.chart").data(d).append("svg").attr("class","bullet").attr("width",width+c.left+c.right).attr("height",a+c.top+c.bottom).append("g").attr("transform","translate("+c.left+","+c.top+")").call(chart);"title = svg.append('g').style('text-anchor', 'end').attr('transform', 'translate(-6,' + height / 2 + ')')\ntitle.append('text').attr('class', 'title').text (d) ->\n	d.title\ntitle.append('text').attr('class', 'subtitle').attr('dy', '1em').text (d) ->\n	'Percentile: ' + d.percentile + ' %'";console.log("svg",b)};$(document).ready(function(){if(!$("#bullets").length){return}if($("#share").length){return}d3.json("bullets.json",function(a){var b;b=a.bullets;makeBullets(b)});if($("#shareBullets").length){makeShareButton((function(){return{type:"bulletCharts"}}),"#shareBullets","Share on Facebook","")}});$(document).ready(function(){var c,f,a,b,h,d;if(!$("#bedditDash").length){return}b=function(){var o,l,j,E,v,z,F,B,r,u,k,s,m,x,n,C,D,i,q,y,G,p,A,H,t;console.log("beddit dash");root.ndx=crossfilter(f);root.all=ndx.groupAll();k=function(K,I,L){if(K.value[I]){return K.value[L]/K.value[I]}else{return 0}};o=function(K,I){if(I in K.set){K.set[I]++}else{K.set[I]=1;K.count++}return K};x=function(K,I){K.set[I]--;if(K.set[I]===0){delete K.set[I];K.count--}return K};m=function(){return{set:{},count:0}};u=function(I){return{all:function(){return I.all().filter(function(K){return K.key!==""})}}};n=ndx.dimension(function(I){return[I.restingHeartRate,I.respirationRate]});C=n.group();scatterA.width($("#scatter-a").width()).height(400).x(d3.scale.linear().domain([40,100])).xAxisLabel("Resting Heart Rate").yAxisLabel("Respiration Rate").symbolSize(8).clipPadding(10).dimension(n).group(C);z=ndx.dimension(function(I){return I.date});G=ndx.dimension(function(I){return I.user});p=G.group().reduce((function(K,I){++K.count;K.sumSteps+=I.steps;K.sumCalories+=I.calories;K.sumStairs+=I.stairs;if(I.timeAsleep>0){++K.sleepCount;K.sumTimeAsleep+=I.timeAsleep;K.sumSleepEfficiency+=I.sleepEfficiency}return K}),(function(K,I){--K.count;K.sumSteps-=I.steps;K.sumCalories-=I.calories;K.sumStairs-=I.stairs;if(I.timeAsleep>0){--K.sleepCount;K.sumTimeAsleep-=I.timeAsleep;K.sumSleepEfficiency-=I.sleepEfficiency}return K}),function(){return{count:0,sumSteps:0,sumCalories:0,sumStairs:0,sleepCount:0,sumTimeAsleep:0,sumSleepEfficiency:0}});t=ndx.dimension(function(I){return I.week});y=$("#stage-ts").parent().width();D=z.group().reduce((function(K,I){K;return I}),(function(K,I){K;return I}),function(){return{}});stageTS.width(y).height(180).margins({top:40,right:50,bottom:30,left:100}).dimension(z).rangeChart(rangeChart).group(D,"Sleeping").valueAccessor(function(I){return I.value.stageS}).stack(D,"Away",function(I){return I.value.stageA}).stack(D,"Restless",function(I){return I.value.stageR}).stack(D,"Awake",function(I){return I.value.stageW}).stack(D,"No Signal",function(I){return I.value.stageN}).x(d3.time.scale().domain([d,h])).xUnits(d3.time.days).renderHorizontalGridLines(true).centerBar(true).elasticY(true).legend(dc.legend().x(0).y(10)).title(function(I){return I.key+"\n: Time  Asleep: "+Math.round(I.value.stageS)+"\nTime Restless: "+Math.round(I.value.stageR)});rangeChart.width(y).height(40).margins({top:0,right:50,bottom:20,left:100}).dimension(z).group(D).valueAccessor(function(I){return I.value.timeAsleep}).x(d3.time.scale().domain([d,h])).xUnits(d3.time.days);rangeChart.yAxis().ticks(0);F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];B=ndx.dimension(function(I){return I.day});r=B.group();dayOfWeekRow.width($("#day-of-week-row").parent().width()).height(180).margins({top:0,left:10,right:10,bottom:-1}).dimension(B).group(r).elasticX(true).label(function(I){return F[I.key]}).title(function(I){return I.value});i=ndx.dimension(function(I){return Math.round(I.timeAsleep/3600)});q=i.group();j=ndx.groupAll().reduce((function(K,I){++K.count;K.timeAsleepSum+=I.timeAsleep;K.scoreSum+=I.score;return K}),(function(K,I){--K.count;K.timeAsleepSum-=I.timeAsleep;K.scoreSum-=I.score;return K}),function(){return{count:0,timeAsleepSum:0,scoreSum:0}});sleeptimeHistogram.width($("#sleeptime-histogram").parent().width()).height(190).margins({top:10,right:10,bottom:30,left:30}).dimension(i).group(q).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([0,14])).renderHorizontalGridLines(true).colors(colorbrewer.RdYlGn[9]).colorAccessor(function(I){return I.key}).colorDomain([0,8]);sleeptimeHistogram.yAxis().ticks(5);l=function(I){if(I.count){return I.scoreSum/I.count}else{return 0}};scoreBox.valueAccessor(l).group(j);s=function(I){if(I===12){return"M"}if(I===24){return"N"}if(I>12){I-=12}return I+""};E=ndx.dimension(function(K){var I;I=K.bedTime-12;return Math.round(I)});v=E.group();bedtimeHistogram.width($("#bedtime-histogram").parent().width()).height(190).margins({top:10,right:5,bottom:30,left:5}).dimension(E).group(v).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([4,23])).renderHorizontalGridLines(true);bedtimeHistogram.xAxis().tickFormat(s);bedtimeHistogram.yAxis().ticks(5);A=ndx.dimension(function(K){var I;I=K.timeAwake+12;return Math.round(I)});H=A.group();waketimeHistogram.width($("#waketime-histogram").parent().width()).height(190).margins({top:10,right:5,bottom:30,left:5}).dimension(A).group(H).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([11,25])).renderHorizontalGridLines(true);waketimeHistogram.xAxis().tickFormat(s);waketimeHistogram.yAxis().ticks(5);dc.dataCount(".dc-data-count").dimension(ndx).group(all).html({some:"<strong>%filter-count</strong> selected out of <strong>%total-count</strong> records | <a href='javascript:dc.filterAll(); dc.renderAll();''>Reset All</a>",all:"All records selected. (<strong>%total-count</strong>) Click on the graphs to apply filters."});dc.renderAll()};root.dayOfWeekRow=dc.rowChart("#day-of-week-row");root.rangeChart=dc.lineChart("#range-chart");root.stageTS=dc.barChart("#stage-ts");root.sleeptimeHistogram=dc.barChart("#sleeptime-histogram");root.scoreBox=dc.numberDisplay("#score-box");root.bedtimeHistogram=dc.barChart("#bedtime-histogram");root.waketimeHistogram=dc.barChart("#waketime-histogram");root.scatterA=dc.scatterPlot("#scatter-a");a=void 0;c=void 0;f=[];d=void 0;h=void 0;d3.json("beddit.json",function(l){var p,j,i,o,n,k,m;console.log(l);f=l.data;j=d3.time.format("%Y-%m-%d");i=d3.format(".2f");o=0;f=[];m=l.data;for(n=0,k=m.length;n<k;n++){p=m[n];p.date=j.parse(p.date);if(d===void 0){d=p.date;h=p.date}if(p.date<d){d=p.date}if(p.date>h){h=p.date}p.month=d3.time.month(p.date);p.week=d3.time.week(p.date);p.day=p.date.getDay();p.sensor="Beddit";if(!p.morningHRV){p.morningHRV=0}p.morningHRV=+p.morningHRV;p.eveningHRV=+p.eveningHRV;p.allnightHRV=+p.allnightHRV;p.restingHRV=+p.restingHRV;p.stageA=+p.stageA/60;p.stageS=+p.stageS/60;p.stageR=+p.stageR/60;p.stageW=+p.stageW/60;p.stageN=+p.stageN/60;p.stageG=+p.stageG/60;p.bedTime=+p.bedTime;p.timeAwake=+p.timeAwake;p.score=+p.score;p.steps=p.timeAsleep;p.calories=p.timeAsleep;p.timeAsleep=p.timeAsleep;p.sleepEfficiency=p.timeAsleep;p.stairs=0;p.calories=p.calories===null?-1:+p.calories;p.sleepEfficiency=p.sleepEfficiency===null?-1:+p.sleepEfficiency;f.push(p)}console.log(f);b()});return $(window).resize(function(){b()})});$(document).ready(function(){var j,d,a,f,k,b,h,c,i;if($("#userBMIrisk").length){chart=new mortalityBMI("userBMIrisk");$.getJSON("/fitness/userBMI.json",function(l){var m;m=l.bmi;if(m){chart.drawUserBMI(m)}})}if($("#weightSeries").length){k=[["week",[1]],["month",[1,2,3,4,6]]];d3.json("weight.json",function(q){var r,x,u,n,m,B,y,A,v,s,p,z,l,t,o;console.log("response",q);u=[];t=q.data;for(s=0,z=t.length;s<z;s++){x=t[s];n=Date.parse(x.date);v=x.weight;u.push([n,v])}A=[];o=q.steps;for(p=0,l=o.length;p<l;p++){x=o[p];n=Date.parse(x.date);y=x.steps;B=[n,y];if(y){r="#000000";if(y>5000){r="#CCCC00"}if(y>10000){r="#CC0000"}B={x:n,y:y,color:r}}A.push(B)}m=function(C){return Math.round(C*2.20462)};return $("#weightSeries").highcharts({navigator:{enabled:false},credits:{enabled:false},chart:{height:600,type:"spline",zoomType:"x"},title:{text:"Weight and Exercise History"},legend:{enabled:false},xAxis:{type:"datetime",title:{text:"Date"}},plotOptions:{spline:{marker:{enabled:true,radius:3}}},yAxis:[{title:{text:"Body Weight (kg)",opposite:true}}],yAxis:[{title:{text:"Body Weight lbs (kg)"},height:"65%",lineWidth:2,opposite:true,minPadding:0,labels:{formatter:function(){return m(this.value)+" ("+this.value+")"}}},{title:{text:"Steps"},top:"65%",height:"35%",lineWidth:2,maxPadding:0,minPadding:0}],series:[{name:"1",yAxis:0,data:u}],series:[{name:"Weight",data:u,dataGrouping:{units:k}},{type:"column",name:"Steps",data:A,yAxis:1}]})})}if(!$("#weightDash").length){return}f=function(){var s,o,l,C,G,D,z,n,H,p,u,t,v,m,I,A,r,E,F,B,x,y,q;console.log("weight dash");root.ndx=crossfilter(d);root.all=ndx.groupAll();n=function(L,K,M){if(L.value[K]){return L.value[M]/L.value[K]}else{return 0}};s=function(L,K){if(K in L.set){L.set[K]++}else{L.set[K]=1;L.count++}return L};A=function(L,K){L.set[K]--;if(L.set[K]===0){delete L.set[K];L.count--}return L};p=function(){return{set:{},count:0}};z=function(K){return{all:function(){return K.all().filter(function(L){return L.key!==""})}}};r=ndx.dimension(function(K){return[K.weight,K.weight]});E=r.group();scatterA.width($("#scatter-a").width()).height(400).x(d3.scale.linear().domain([40,100])).xAxisLabel("Weight").yAxisLabel("Weight").symbolSize(8).clipPadding(10).dimension(r).group(E);C=ndx.dimension(function(K){return K.date});x=ndx.dimension(function(K){return K.week});B=$("#stage-ts").parent().width();F=C.group().reduce((function(L,K){L;return K}),(function(L,K){L;return K}),function(){return{}});rangeChart.width(B).height(150).margins({top:0,right:50,bottom:20,left:100}).dimension(C).group(F).valueAccessor(function(K){return K.value.weight}).x(d3.time.scale().domain([c,b])).y(d3.time.scale().domain([i,h])).elasticY(true).xUnits(d3.time.days);y=ndx.dimension(function(K){return Math.round(K.weight/10)});q=y.group();l=ndx.groupAll().reduce((function(L,K){++L.count;L.weightSum+=K.weight;L.scoreSum+=K.score;return L}),(function(L,K){--L.count;L.weightSum-=K.weight;L.scoreSum-=K.score;return L}),function(){return{count:0,weightSum:0,scoreSum:0}});sleeptimeHistogram.width($("#sleeptime-histogram").parent().width()).height(190).margins({top:10,right:10,bottom:30,left:30}).dimension(y).group(q).elasticY(true).centerBar(true).gap(1).round(dc.round.floor).alwaysUseRounding(true).x(d3.scale.linear().domain([0,14])).renderHorizontalGridLines(true).colors(colorbrewer.RdYlGn[9]).colorAccessor(function(K){return K.key}).colorDomain([0,8]);sleeptimeHistogram.yAxis().ticks(5);o=function(K){if(K.count){return K.weightSum/K.count}else{return 0}};scoreBox.valueAccessor(o).group(l);G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];D=ndx.dimension(function(K){return K.day});root.dayOfWeekGroup=D.group().reduce((function(L,K){++L.count;L.weightSum+=K.weight;L.scoreSum+=K.score;return L}),(function(L,K){--L.count;L.weightSum-=K.weight;L.scoreSum-=K.score;return L}),function(){return{count:0,weightSum:0,scoreSum:0}});dayOfWeekRow.width($("#day-of-week-row").parent().width()).height(180).margins({top:0,left:10,right:10,bottom:-1}).dimension(D).group(dayOfWeekGroup).elasticX(true).valueAccessor(function(K){if(K.value.count){return K.value.weightSum/K.value.count}else{return 0}}).label(function(K){return G[K.key]}).title(function(K){if(K.value.count){return"avg weight :"+K.value.weightSum/K.value.count}else{return 0}});v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];u=ndx.dimension(function(K){return K.month});t=u.group().reduce((function(L,K){++L.count;L.weightSum+=K.weight;return L}),(function(L,K){--L.count;L.weightSum-=K.weight;return L}),function(){return{count:0,weightSum:0}});monthChart.width($("#month-of-year").parent().width()).height(180).margins({top:0,left:10,right:10,bottom:30}).dimension(u).group(t).x(d3.scale.linear().domain([-1,12])).elasticX(false).centerBar(true).valueAccessor(function(K){if(K.value.count){return K.value.weightSum/K.value.count}else{return 0}}).label(function(K){return v[K.key]}).title(function(K){if(K.value.count){return"avg weight :"+K.value.weightSum/K.value.count}else{return 0}});monthChart.xAxis().tickFormat(function(K){return v[K]});m=ndx.dimension(function(K){return[K.month,K.year]});I=m.group().reduce((function(L,K){++L.count;L.weightSum+=K.weight;L.absGain+=K.close-K.open;L.fluctuation+=Math.abs(K.close-K.open);L.sumIndex+=(K.open+K.close)/2;L.avgIndex=L.count?L.sumIndex/L.count:0;L.percentageGain=L.avgIndex?L.absGain/L.avgIndex*100:0;L.fluctuationPercentage=L.avgIndex?L.fluctuation/L.avgIndex*100:0;return L}),(function(L,K){--L.count;L.weightSum-=K.weight;L.absGain-=K.close-K.open;L.fluctuation-=Math.abs(K.close-K.open);L.sumIndex-=(K.open+K.close)/2;L.avgIndex=L.count?L.sumIndex/L.count:0;L.percentageGain=L.avgIndex?L.absGain/L.avgIndex*100:0;L.fluctuationPercentage=L.avgIndex?L.fluctuation/L.avgIndex*100:0;return L}),function(){return{count:0,weightSum:0,absGain:0,fluctuation:0,fluctuationPercentage:0,sumIndex:0,avgIndex:0,percentageGain:0}});H=function(K){return d3.scale.linear().domain([i,h]).range(["lightgreen","red"])(K)};H.domain=function(){return[i,h]};width=$("#heatmap").width();heatmapChart.width(width).height(27*10+40).dimension(m).group(I).rowOrdering(d3.descending).xBorderRadius(6).keyAccessor(function(K){return K.key[0]}).colsLabel(function(K){return v[K]}).valueAccessor(function(K){return +K.key[1]}).colorAccessor(function(K){if(K.value.count){return K.value.weightSum/K.value.count}else{return 0}}).title(function(K){return" Month:   "+K.key[0]+"\n  Year:   "+K.key[1]+"\n  Gain:   "+K.value.percentageGain+"%"}).colors(H).calculateColorDomain();heatmapChart.xBorderRadius(0);heatmapChart.yBorderRadius(0);heatmapChart.render();dc.dataCount(".dc-data-count").dimension(ndx).group(all).html({some:"<strong>%filter-count</strong> selected out of <strong>%total-count</strong> records | <a href='javascript:dc.filterAll(); dc.renderAll();''>Reset All</a>",all:"All records selected. (<strong>%total-count</strong>) Click on the graphs to apply filters."});dc.renderAll()};root.dayOfWeekRow=dc.rowChart("#day-of-week-row");root.monthChart=dc.barChart("#month-of-year");root.rangeChart=dc.lineChart("#range-chart");root.sleeptimeHistogram=dc.barChart("#sleeptime-histogram");root.scoreBox=dc.numberDisplay("#score-box");root.scatterA=dc.scatterPlot("#scatter-a");root.heatmapChart=dc.heatMap("#heatmap");a=void 0;j=void 0;d=[];c=void 0;b=void 0;i=void 0;h=void 0;d3.json("weight.json",function(o){var s,m,l,r,q,n,p;console.log("dc response",o);d=o.data;m=d3.time.format("%Y-%m-%d");l=d3.format(".2f");r=0;d=[];p=o.data;for(q=0,n=p.length;q<n;q++){s=p[q];s.date=m.parse(s.date);if(c===void 0){c=s.date;b=s.date}if(s.date<c){c=s.date}if(s.date>b){b=s.date}if(s.weight){if(i===void 0){i=s.weight}if(h===void 0){h=s.weight}if(s.weight<i){i=s.weight}if(s.weight>h){h=s.weight}}s.day=s.date.getDay();s.month=s.date.getMonth();s.year=s.date.getFullYear();s.sensor="Scale";s.weight=+s.weight;if(!s.morningHRV){s.morningHRV=0}s.morningHRV=+s.morningHRV;s.eveningHRV=+s.eveningHRV;s.allnightHRV=+s.allnightHRV;s.restingHRV=+s.restingHRV;s.stageA=+s.stageA/60;s.stageS=+s.stageS/60;s.stageR=+s.stageR/60;s.stageW=+s.stageW/60;s.stageN=+s.stageN/60;s.stageG=+s.stageG/60;s.bedTime=+s.bedTime;s.timeAwake=+s.timeAwake;s.score=+s.score;d.push(s)}f()});return $(window).resize(function(){f()})});root.jsmolShowResidue=function(a,b){a("select {all}; color cartoon translucent gray;");a("select {"+b+"}; wireframe 80; color amino;");return a("zoomto 1 {within(10,"+b+")} 0;")};$(document).ready(function(){var c,b,a;if(!$("#jsmolTest").length){return}console.log("initializing jmol applet");a="WebGL HTML5";b=["h2oOn=true",'set animframecallback "jmolscript:if (!selectionHalos) {select model=_modelNumber}"','set errorCallback "myCallback"','set defaultloadscript "isDssp = false',"set defaultVDW babel",'if(!h2oOn){display !water}"',"set zoomlarge false","refresh",'load "/static/pdb/ok/pdb1okc.pdb"',"spacefill off","wireframe off","cartoons on","color structure"];b=b.join(";");c={width:"100%",height:650,debug:false,color:"white",addSelectionOptions:false,serverURL:"http://chemapps.stolaf.edu/jmol/jsmol/php/jsmol.php",use:a,j2sPath:"/static/jsmol/j2s",script:b,disableInitialConsole:true};Jmol.setDocument(0);Jmol.getApplet("jmol1",c);$("#jsmolTest").html(Jmol.getAppletHtml(jmol1))});root.makeSharePage=function(a){switch(a.type){case"stepsCalendar":makeStepsCalendar(a.data);break;case"bulletCharts":makeBullets(a.data);break;case"ancestrySankey":makeAncestrySankey("#ancestry",a.data)}};root.makeScreenshot=function(){root.response=$.ajax({type:"GET",url:"data.json",async:false}).responseText;root.response=JSON.parse(response);console.log(response);makeSharePage(response)};$(document).ready(function(){if(!$("#share").length){return}if($("#screenshot").length){return}console.log("share page loaded");d3.json("data.json",function(a){makeSharePage(a)})});$(document).ready(function(){if(!$("#pleaseShare").length){return}$("#collapse").click(function(){$("#pleaseShare").collapse();$("#buttons").collapse()});$("#shareButton").click(function(){var a;a=pickSharePage();FB.ui({method:"share",href:a},function(b){console.log(b);if(b){$.ajax({url:"/share/shared"});$("#pleaseShare").collapse();$("#buttons").collapse()}})})});$(document).ready(function(){var a;if(!$(".hungrybot").length){return}a=function(f,c,b){var d;d=Snap(f);return Snap.load("/static/img/hungryBot.svg",function(H){var x,m,j,E,y,z,l,h,B,q,p,G,n,D,v,i,t,k,u,r,C,F,o,A;C=d;C.append(H);C.attr(c);x={};h=C.select("#hungryBot");l=h.select("#theHead");m=l.getBBox();D=" "+parseInt(m.x+0.5*m.width)+" "+parseInt(m.y+0.25*m.height);B=h.select("#lArm");m=B.getBBox();G=parseInt(m.x+m.width+1)+" "+parseInt(m.y+m.height-2);p=B.select("#lForeArm");m=p.getBBox();q=parseInt(m.x+5)+" "+parseInt(m.y+m.height-2.5);v=h.select("#rArm");m=v.getBBox();k=parseInt(m.x+1)+" "+parseInt(m.y+m.height-2);t=v.select("#rForeArm");m=t.getBBox();i=parseInt(m.x+m.width-3)+" "+parseInt(m.y+m.height-2.5);u=l.select("#rEye");n=h.select("#leftEye");F=l.select("#signals");A=void 0;x.pointRight=function(){v.animate({transform:"t0,0r60 "+k},1000,mina.backout,function(){return v.animate({transform:"t0,0r0"+k},2000,mina.backout)});t.animate({transform:"t0,0r45 "+i},1000,mina.backout,function(){return t.animate({transform:"t0,0r0 "+i},2000,mina.backout)})};x.shrug=function(){v.animate({transform:"t0,0r60 "+k},1000,mina.backout,function(){return v.animate({transform:"t0,0r0"+k},1000,mina.backout)});t.animate({transform:"t0,0r70 "+i},1000,mina.backout,function(){return t.animate({transform:"t0,0r0 "+i},1000,mina.backout)});B.animate({transform:"t0,0r-60 "+G},1000,mina.backout,function(){return B.animate({transform:"t0,0r0"+G},1000,mina.backout)});p.animate({transform:"t0,0r-70 "+q},1000,mina.backout,function(){return p.animate({transform:"t0,0r0 "+q},1000,mina.backout)})};x.wave=function(){t.animate({transform:"t0,0r70 "+i},700,mina.backout);v.animate({transform:"t0,0r60 "+k},700,mina.easin,function(){return t.animate({transform:"t0,0r130 "+i},500,function(){return t.animate({transform:"t0,0r60 "+i},500,function(){return t.animate({transform:"t0,0r130 "+i},500)})})})};x.headTilt=function(){l.animate({transform:"t0,0r-10"+D},1000,function(){return l.animate({transform:"t0,0r0"+D},1500)})};x.headBob=function(){l.animate({transform:"t0,-5r0"+D},200,function(){l.animate({transform:"t0,0,0r0"+D},200,mina.bounce);return A=setTimeout(headBob,200)})};x.flail=function(){v.animate({transform:"t0,0r360 "+k},700,function(){return v.animate({transform:"t0,0r0 "+k},0)});B.animate({transform:"t0,0r-360 "+G},1000,function(){return B.animate({transform:"t0,0r0 "+G},0,mina.backout)});t.animate({transform:"t0,0r360 "+i},300,mina.backout,function(){return t.animate({transform:"t0,0r0 "+i},300,mina.backout,function(){return t.animate({transform:"t0,0r360 "+i},300,function(){return t.animate({transform:"t0,0r0 "+i},0)})})});p.animate({transform:"t0,0r360 "+q},500,mina.backout,function(){return p.animate({transform:"t0,0r0 "+q},500,mina.backout)})};x.wink=function(){return u.animate({transform:"s1,0"},100,function(){u.animate({transform:"s1,1"},200);return setTimeout(wink,20000)})};x.transmit=function(){return F.animate({transform:"s0,0"},0,function(){return F.animate({transform:"s1,1"},200,mina.bounce)})};y=function(){var s;l.animate({transform:"t0,-35r360"},300,mina.bounce);s="M 0,0 C -1.075665,6.1938644 -8.2437896,7.7974862 -13.536375,8.511875 -28.521294,10.271422 -43.395081,6.5722879 -58.37026,6.4567988 -72.630328,5.6862095 -87.087691,6.4268109 -101.1577,3.5990742 -106.12552,2.5681706 -112.69779,-0.09295834 -112.661,-6.119 c -2.60485,-16.510978 2.67335,-34.341553 15.149812,-45.749566 18.924434,-17.920652 15.390067,14.988251 38.046803,27.095389 11.658419,5.710238 55.1107563,-19.464525 58.70960738,-6.861594 C 2.3098235,-21.423362 2.3807917,-10.356438 0,0 z";mouth.animate({d:s},1000,mina.bounce)};r=0;E=0;z=false;o=function(){if(z){return}clearTimeout(A);l.animate({transform:"r1"},1);l.animate({transform:"t0,20r"+0},200,mina.easeinout);arm.animate({transform:"t0,7r-10"},150,mina.bounce,function(){return arm.animate({transform:"t0,0r0"},200,mina.bounce)});u.animate({transform:"s1.5,1.5"},200,mina.bounce,function(){return u.animate({transform:"s1,1"},200,mina.bounce)});n.animate({transform:"s1.5,1.5"},200,mina.bounce,function(){return n.animate({transform:"s1,1"},200,mina.bounce)});A=setTimeout(j,200)};j=function(){clearTimeout(A);l.animate({transform:"t0,0r"+0},200,mina.backout);E++;if(E>6){z=true;A=setTimeout(y,200)}};h.click(x.transmit);return b(h,x)})};if($("#hungrybotShare").length){a("#hungrybotShare",{width:250,height:250},function(b,c){b.click(c.wave);setTimeout(c.headTilt,4500);if(hits){setTimeout(c.pointRight,2000)}else{setTimeout(c.shrug,2000)}})}if($("#hungrybot").length){a("#hungrybot",{width:250,height:250},function(b,c){b.click(c.wave);setTimeout(c.headTilt,4500);setTimeout(c.wave,2000)})}});makeGame=function(a){var f,j,i,h,b,c,d;j=0;f=null;i=function(){var l,k;l=$("#range");l.ionRangeSlider({grid:true,min:10,max:90,from:30,prefix:"Age ",max_postfix:"+",onFinish:function(m){console.log(m);$("#ageType").val(m.from)}});k=l.data("ionRangeSlider");return k};d=i();window.slider=d;$("#ageType").focus();$("#ageType").keyup(function(){var k;k=$(this).val();console.log(k);d.update({from:k})});c=$("#sb-slider").slicebox({onReady:function(){f=new Date()},orientation:"h",cuboidsRandom:false,cuboidsCount:1,disperseFactor:10,sequentialFactor:30,perspective:1,speed:400});window.slicebox=c;h=function(){var k;console.log(j,a.length);j++;if(j<a.length){window.slicebox.next();console.log(a.length,j);width=parseInt(100*j/a.length);console.log("width",width);$(".progress-bar").animate({width:width+"%"},500)}else{$(".progress-bar").animate({width:"100%"},500);k=function(){scoreGame()};window.setTimeout(k,1000)}};b=function(n){var o,m,l,k;m=new Date();k=m-f;f=new Date();l=a[j];o={photo:l,guess:n,timeTaken:k};$.post("guess.json",o,function(p){var t,r,q,s;console.log("response: ",p);$("#ageType").select();$("#ageType").focus();s=p.age;t=n-s;r=s+",  off by "+Math.abs(t)+" years";if(Math.abs(t)<5){r="Close! : "+s}if(t===0){r=s+" !   Exact Guess!"}if(n===0){r="Skipped..."+s+" years"}q=500;$("#flash h3").html(r);$("#flash").animate({opacity:1},700).delay(q).animate({opacity:0});h()})};$("#panel").flip({trigger:"manual"});$("form").submit(function(k){k.preventDefault()});$("#submit").click(function(l){var k;k=d.result.from;b(k)});$("#skip").click(function(k){b(0)})};$(document).ready(function(){var a;if($("#faceGame").length){a=ids;makeGame(a)}});drawStopWatch=function(d,a){var b,c,f,h;b=function(){var i;i=new Date;return{hours:i.getHours()+i.getMinutes()/60,minutes:i.getMinutes()*12/60+i.getSeconds()*12/3600,seconds:i.getSeconds()*12/60}};c=b();f=function(j,i){return new Array((i||2)+1-(String(j).length)).join(0)+j};h=function(){var k,i,l,j;c=b();i=chart.get("hour");l=chart.get("minute");j=chart.get("second");k=c.seconds===0?false:{easing:"easeOutBounce"};chart.tooltipText=f(Math.floor(c.hours),2)+":"+f(Math.floor(c.minutes*5),2)+":"+f(c.seconds*5,2);i.update(6,true,k);l.update(c.minutes,true,k);j.update(c.seconds,true,k)};$("#stopWatch").highcharts({chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:false},credits:{enabled:false},title:{text:d+" seconds per guess"},subtitle:{text:"Faster than "+a+"% of others"},pane:{startAngle:0,endAngle:320,background:[{backgroundColor:{radialGradient:{cx:0.5,cy:-0.4,r:1.9},stops:[[0.5,"rgba(255, 255, 255, 0.2)"],[0.5,"rgba(200, 200, 200, 0.2)"]]}}]},yAxis:{labels:{distance:-20},min:0,max:55,lineWidth:0,showFirstLabel:true,minorTickInterval:"auto",minorTickWidth:1,minorTickLength:10,minorTickPosition:"inside",minorGridLineWidth:0,minorTickColor:"#666",tickInterval:5,tickWidth:2,tickPosition:"inside",tickLength:10,tickColor:"#666"},tooltip:{formatter:function(){return this.series.chart.tooltipText}},plotOptions:{series:{animation:{duration:1000}}},series:[{data:[{id:"hour",y:d,dial:{radius:"60%",baseWidth:2,baseLength:"140%",rearLength:0}}],dataLabels:{enabled:false}}]})};drawGauge=function(b){var a;b=Math.round(b);a={chart:{type:"solidgauge"},title:null,pane:{center:["50%","85%"],size:"140%",startAngle:-90,endAngle:90,background:{backgroundColor:Highcharts.theme&&Highcharts.theme.background2||"#EEE",innerRadius:"60%",outerRadius:"100%",shape:"arc"}},tooltip:{enabled:false},yAxis:{stops:[[0.1,"#DF5353"],[0.5,"#DDDF0D"],[0.9,"#55BF3B"]],lineWidth:0,minorTickInterval:null,tickAmount:2,title:{y:-70},labels:{y:16},min:0,max:100,title:{text:"Ranking"},title:{text:""}},plotOptions:{solidgauge:{dataLabels:{y:5,borderWidth:0,useHTML:true}}},credits:{enabled:false},series:[{name:"Ranking",data:[b],dataLabels:{format:'<div style="text-align:center"><span style="font-size:13px;color:gray">You </br>guessed better than</span></br><span style="font-size:35px;color:'+(Highcharts.theme&&Highcharts.theme.contrastTextColor||"black")+'">{y}%</span><br/><span style="font-size:13px;color:gray">of other players</span></div>'}}]};$("#gauge").highcharts(a)};scoreGame=function(){$("#faceGame").collapse();$("#scores").collapse();$.getJSON("score.json",function(a){console.log("score data:",a);drawGauge(a.errorRank);drawStopWatch(a.meanTime,a.timeRank);setTimeout((function(){$("#femaleScore").flip("true")}),800);setTimeout((function(){$("#maleScore").flip("true")}),1600);if(a.femaleError<0){$("#femaleScore span").css("color","green").html(Math.abs(a.femaleError)+" years younger on average")}if(a.femaleError>0){$("#femaleScore span").css("color","red").html(a.femaleError+" years older on average")}if(a.maleError<0){$("#maleScore span").css("color","green").html(Math.abs(a.maleError)+" years younger on average")}if(a.maleError>0){$("#maleScore span").css("color","red").html(Math.abs(a.maleError)+" years older on average")}if(!a.femaleError){$("#femaleScore h4").html("You didn't guess any female faces")}if(!a.maleError){return $("#maleScore h4").html("You didn't guess any male faces")}})};window.scoreGame=scoreGame;$(document).ready(function(){if($(".genderScore").length){$("#femaleScore").flip({trigger:"manual"});$("#maleScore").flip({trigger:"manual"})}if($("#testScore").length){scoreGame()}});$(document).ready(function(){var a;if($(".image-picker").length){a=4;jQuery("select.image-picker.show-labels").imagepicker({hide_select:true,show_label:true,limit:a,limit_reached:function(){return alert("You can only select "+a)}})}});if($("#usa-mortality").length){if(mobilecheck()&&document.location.pathname==="/mortality/usmap"){document.location="usmap-mobile";$("#mobile").show()}if(!mobilecheck()&&document.location.pathname==="/mortality/usmap-mobile"){document.location="usmap"}}$(document).ready(function(){var h,f,j,d,c,b,i,a;if(!$("#usa-mortality").length){return}$("#loading").show();$(".share").click(function(){var k;k="https://www.infino.me/usa-mortality";FB.ui({method:"share",href:k},function(l){if(l){$.ajax({url:"/shared"})}})});f={"5f":"F50-F59","27":"J40-J47","1b":"G70-G72","2":"B15-B19","42":"P35-P39","49":"R10-R19","2b":"J96-J98","61":"G00-G09","1c":"G80-G83","7":"C00-C97","6b":"N20-N23","87":"R70-R79","66":"J85-J86","1":"A30-A49","5b":"E20-E34","51":"Y40-Y84","10":"E65-E68","48":"Q90-Q99","7c":"E15-E16",b:"D60-D64","22":"I30-I51","0":"A00-A09","13":"F10-F19","43":"Q00-Q07","32":"K80-K86","84":"O00-O07","14":"F30-F39","82":"R40-R46","8d":"P70-P74","2c":"K20-K31","28":"J60-J70","47":"Q80-Q89","6c":"N25-N28","78":"Q38-Q45","24":"I70-I78","2e":"K50-K52","85":"O30-O48","16":"G20-G25","18":"G35-G37","8a":"I00-I02","40":"P05-P08","71":"O95-O99","38":"M40-M54","60":"F70-F79","25":"I80-I89","3c":"N17-N19","23":"I60-I69","86":"B65-B83","75":"P80-P83","4a":"R50-R68","6":"B90-B94","64":"J20-J22","4f":"X85-Y09","19":"G40-G47","46":"Q65-Q79","70":"O85-O92","62":"I95-I99","8c":"L40-L44","73":"P50-P61","88":"A50-A64","3b":"N10-N15","26":"J09-J18","4d":"W00-X59","68":"K35-K38","8f":"H65-H74","1d":"G90-G98","5":"B35-B49",d:"E00-E07","6f":"O20-O29","31":"K70-K76","33":"K90-K92","35":"L80-L98","3d":"N30-N39","6a":"M60-M79","8b":"D00-D09","56":"B50-B64","74":"P76-P78","1f":"I10-I15","12":"F01-F09","77":"Q30-Q34","59":"D70-D76","4":"B25-B34","20":"I20-I25","57":"B99-B99","7e":"U00-U49","30":"K65-K66","80":"O60-O75","3f":"P00-P04","8e":"F80-F89","44":"Q20-Q28","3a":"N00-N07","2a":"J90-J94","79":"R00-R09","83":"L50-L53","2d":"K40-K46","2f":"K55-K63","4b":"R95-R99","21":"I26-I28",e:"E10-E14","6e":"N80-N98","58":"D55-D59","41":"P20-P29","90":"L20-L30","89":"G50-G58","7d":"N60-N64","4e":"X60-X84","1e":"I05-I09","3e":"N40-N50","45":"Q60-Q64","9":"D37-D48","36":"M00-M25","34":"L00-L08","37":"M30-M35","81":"O10-O16","55":"B00-B09","5c":"E50-E64","5a":"D80-D89","7a":"Y35-Y36","54":"A80-A89",f:"E40-E46","67":"K00-K14","1a":"G60-G64","69":"L10-L13",c:"D65-D69","72":"P10-P15","3":"B20-B24","39":"M80-M94","17":"G30-G31","4c":"V01-V99","63":"J00-J06",a:"D50-D53","5e":"F40-F48","6d":"N70-N76","52":"Y85-Y89","50":"Y10-Y34","15":"G10-G14","11":"E70-E88","7b":"R90-R94","5d":"F20-F29","65":"J30-J39","7f":"A90-A99","53":"A16-A19","29":"J80-J84","8":"D10-D36","76":"P90-P96"};d={"0":"1","1":"1-4","2":"5-9","3":"10-14","4":"15-19","5":"20-24","6":"25-34","7":"35-44","8":"45-54","9":"55-64","10":"65-74","11":"75-84","12":"85+",x:"NS"};i={1:"Alabama",2:"Alaska",4:"Arizona",5:"Arkansas",6:"California",8:"Colorado",9:"Connecticut",10:"Delaware",11:"District of Columbia",12:"Florida",13:"Georgia",15:"Hawaii",16:"Idaho",17:"Illinois",18:"Indiana",19:"Iowa",20:"Kansas",21:"Kentucky",22:"Louisiana",23:"Maine",24:"Maryland",25:"Massachusetts",26:"Michigan",27:"Minnesota",28:"Mississippi",29:"Missouri",30:"Montana",31:"Nebraska",32:"Nevada",33:"New Hampshire",34:"New Jersey",35:"New Mexico",36:"New York",37:"North Carolina",38:"North Dakota",39:"Ohio",40:"Oklahoma",41:"Oregon",42:"Pennsylvania",44:"Rhode Island",45:"South Carolina",46:"South Dakota",47:"Tennessee",48:"Texas",49:"Utah",50:"Vermont",51:"Virginia",53:"Washington",54:"West Virginia",55:"Wisconsin",56:"Wyoming"};a={Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District of Columbia":"DC",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"};j={"J00-J06":"Acute upper respiratory infections","D60-D64":"Aplastic and other anaemias","M00-M25":"Arthropathies","A90-A99":"Arthropod-borne viral fevers and viral haemorrhagic fevers","X85-Y09":"Assault","F50-F59":"Behavioural syndromes associated with physiological disturbances and physical factors","D10-D36":"Benign neoplasms","P10-P15":"Birth trauma","G80-G83":"Cerebral palsy and other paralytic syndromes","I60-I69":"Cerebrovascular diseases","D80-D89":"Certain disorders involving the immune mechanism","Q90-Q99":"Chromosomal abnormalities, not elsewhere classified","J40-J47":"Chronic lower respiratory diseases","I05-I09":"Chronic rheumatic heart diseases","D65-D69":"Coagulation defects, purpura and other haemorrhagic conditions","Y40-Y84":"Complications of medical and surgical care","O85-O92":"Complications predominantly related to the puerperium","P80-P83":"Conditions involving the integument and temperature regulation of newborn","Q65-Q79":"Congenital malformations and deformations of the musculoskeletal system","Q20-Q28":"Congenital malformations of the circulatory system","Q00-Q07":"Congenital malformations of the nervous system","Q30-Q34":"Congenital malformations of the respiratory system","Q60-Q64":"Congenital malformations of the urinary system","G35-G37":"Demyelinating diseases of the central nervous system","E10-E14":"Diabetes mellitus","P76-P78":"Digestive system disorders of newborn","K35-K38":"Diseases of appendix","I70-I78":"Diseases of arteries, arterioles and capillaries","K70-K76":"Diseases of liver","N40-N50":"Diseases of male genital organs","G70-G72":"Diseases of myoneural junction and muscle","K20-K31":"Diseases of oesophagus, stomach and duodenum","K00-K14":"Diseases of oral cavity, salivary glands and jaws","K65-K66":"Diseases of peritoneum","I80-I89":"Diseases of veins, lymphatic vessels and lymph nodes, not elsewhere classified","K80-K86":"Disorders of gallbladder, biliary tract and pancreas","E20-E34":"Disorders of other endocrine glands","E00-E07":"Disorders of thyroid gland","P05-P08":"Disorders related to length of gestation and fetal growth","M40-M54":"Dorsopathies","G40-G47":"Episodic and paroxysmal disorders","Y10-Y34":"Event of undetermined intent","G20-G25":"Extrapyramidal and movement disorders","R50-R68":"General symptoms and signs","N00-N07":"Glomerular diseases","D55-D59":"Haemolytic anaemias","P50-P61":"Haemorrhagic and haematological disorders of newborn","K40-K46":"Hernia","B20-B24":"Human immunodeficiency virus [HIV] disease","I10-I15":"Hypertensive diseases","ICD Sub-Chapter Code":"ICD Sub-Chapter","R95-R99":"Ill-defined and unknown causes of mortality","L00-L08":"Infections of the skin and subcutaneous tissue","P35-P39":"Infections specific to the perinatal period","G00-G09":"Inflammatory diseases of the central nervous system","J09-J18":"Influenza and pneumonia","X60-X84":"Intentional self-harm","A00-A09":"Intestinal infectious diseases","I20-I25":"Ischaemic heart diseases","Y35-Y36":"Legal intervention and operations of war","J60-J70":"Lung diseases due to external agents","C00-C97":"Malignant neoplasms (Cancers)","E40-E46":"Malnutrition","F10-F19":"Mental and behavioural disorders due to psychoactive substance use","F70-F79":"Mental retardation","E70-E88":"Metabolic disorders","F30-F39":"Mood [affective] disorders","B35-B49":"Mycoses","D37-D48":"Neoplasms of uncertain or unknown behaviour","F40-F48":"Neurotic, stress-related and somatoform disorders","P00-P04":"Newborn affected by maternal factors and by complications of pregnancy, labour and delivery","K50-K52":"Noninfective enteritis and colitis","N80-N98":"Noninflammatory disorders of female genital tract","D50-D53":"Nutritional anaemias","E65-E68":"Obesity and other hyperalimentation","F01-F09":"Organic, including symptomatic, mental disorders","M80-M94":"Osteopathies and chondropathies","J20-J22":"Other acute lower respiratory infections","I95-I99":"Other and unspecified disorders of the circulatory system","A30-A49":"Other bacterial diseases","Q38-Q45":"Other congenital malformations of the digestive system","Q80-Q89":"Other congenital malformations","G30-G31":"Other degenerative diseases of the nervous system","D70-D76":"Other diseases of blood and blood-forming organs","K55-K63":"Other diseases of intestines","J90-J94":"Other diseases of pleura","K90-K92":"Other diseases of the digestive system","J96-J98":"Other diseases of the respiratory system","J30-J39":"Other diseases of upper respiratory tract","N30-N39":"Other diseases of urinary system","N25-N28":"Other disorders of kidney and ureter","G90-G98":"Other disorders of the nervous system","L80-L98":"Other disorders of the skin and subcutaneous tissue","P90-P96":"Other disorders originating in the perinatal period","W00-X59":"Other external causes of accidental injury","I30-I51":"Other forms of heart disease","O20-O29":"Other maternal disorders predominantly related to pregnancy","E50-E64":"Other nutritional deficiencies","O95-O99":"Other obstetric conditions, not elsewhere classified","J80-J84":"Other respiratory diseases principally affecting the interstitium","B25-B34":"Other viral diseases","G60-G64":"Polyneuropathies and other disorders of the peripheral nervous system","U00-U49":"Provisional assignment of new diseases of uncertain etiology","I26-I28":"Pulmonary heart disease and diseases of pulmonary circulation","N17-N19":"Renal failure","N10-N15":"Renal tubulo-interstitial diseases","P20-P29":"Respiratory and cardiovascular disorders specific to the perinatal period","F20-F29":"Schizophrenia, schizotypal and delusional disorders","Y85-Y89":"Sequelae of external causes of morbidity and mortality","B90-B94":"Sequelae of infectious and parasitic diseases","M60-M79":"Soft tissue disorders","J85-J86":"Suppurative and necrotic conditions of lower respiratory tract","R40-R46":"Symptoms and signs involving cognition, perception, emotional state and behaviour","R00-R09":"Symptoms and signs involving the circulatory and respiratory systems","R10-R19":"Symptoms and signs involving the digestive system and abdomen","G10-G14":"Systemic atrophies primarily affecting the central nervous system","M30-M35":"Systemic connective tissue disorders","V01-V99":"Transport accidents","A16-A19":"Tuberculosis","N20-N23":"Urolithiasis","B15-B19":"Viral hepatitis","B00-B09":"Viral infections characterized by skin and mucous membrane lesions","A80-A89":"Viral infections of the central nervous system"};h=function(n){var l,k,m;if(!n){return"Other"}k=n[0];m=+n.slice(1);k;l="other";switch(k){case"A":l="Certain infectious and parasitic diseases";break;case"B":l="Certain infectious and parasitic diseases";break;case"C":l="Cancers (Neoplasms)";break;case"D":if(m<=48){l="Neoplasms"}else{l="Diseases of the blood, or involving the immune mechanism"}break;case"E":l="Endocrine, nutritional and metabolic diseases";break;case"F":l="Mental and behavioural disorders";break;case"G":l="Diseases of the nervous system";break;case"H":if(m<=57){l="Diseases of the eye and adnexa"}else{l="Diseases of the ear and mastoid process"}break;case"I":l="Diseases of the circulatory system";break;case"J":l="Diseases of the respiratory system";break;case"K":l="Diseases of the digestive system";break;case"L":l="Diseases of the skin and subcutaneous tissue";break;case"M":l="Diseases of the musculoskeletal system and connective tissue";break;case"N":l="Diseases of the genitourinary system";break;case"O":l="Pregnancy, childbirth and the puerperium";break;case"P":l="Certain conditions originating in the perinatal period";break;case"Q":l="Birth Defects, deformations and chromosomal abnormalities";break;case"R":l="Symptoms, signs and abnormal clinical and laboratory findings";break;case"U":l="Codes for special purposes";break;case"V":l="External causes of morbidity and mortality";break;case"W":l="External causes of morbidity and mortality";break;case"X":l="External causes of morbidity and mortality";break;case"Y":l="External causes of morbidity and mortality"}return l};b=d3.format(".2f");root.usChart=dc.geoChoroplethChart("#us-chart");root.ageHistogram=dc.barChart("#age-histogram");root.causeChart=dc.rowChart("#cause-chart");root.chapterChart=dc.rowChart("#icd-chapter");root.genderChart=dc.pieChart("#gender-chart");c=function(k){var m,l;l=(function(){var q,o,p,n;p=k.data();n=[];for(q=0,o=p.length;q<o;q++){m=p[q];n.push(m.value/stateDeathTotals[m.key])}return n})();e=d3.extent(l);if(e[1]===e[0]){e=[0,2]}k.colorDomain(e)};usChart.on("preRender",function(k){return c(k)});usChart.on("preRedraw",function(k){return c(k)});d3.tsv("static/usmap.tsv",function(n){var k,l,m;k=d3.time.format("%Y");root.stateDeathTotals={};for(l in i){m=a[i[l]];stateDeathTotals[m]=0}n.forEach(function(o){o.state=a[i[+o.state]];o.deaths=+o.deaths;o.age=parseInt(o.age,16);stateDeathTotals[o.state]+=o.deaths;o.chapter=h(f[o.icd])});d3.json("static/us-states.json",function(r){var C,p,o,y,x,s,q,A,v,t,B,u,z;q=$(document).width();B=crossfilter(n);root.states=B.dimension(function(D){return D.state});root.stateDeaths=states.group().reduceSum(function(D){return D.deaths});$(".viz").show();t=$("#us-chart").width();u=d3.geo.albersUsa().scale(t).translate([t/2,250]);usChart.width(t).height(500).projection(u).dimension(states).group(stateDeaths).colors(d3.scale.quantize().range(["#FFEBD6","#F5CBAE","#EBA988","#E08465","#D65D45","#CC3527","#C40A0A"])).valueAccessor(function(D){return D.value/stateDeathTotals[D.key]}).title(function(D){return"State: "+D.key+"\nPercent of Deaths\nin this state :  "+100*D.value}).overlayGeoJson(r.features,"state",function(D){return D.properties.name});o=B.dimension(function(D){return D.icd});y=o.group().reduceSum(function(D){return D.deaths});causeChart.width($("#cause-chart").width()).height(1000).dimension(o).group(y).rowsCap(30).ordering(function(D){return -D.value}).label(function(D){return j[f[D.key]]}).elasticX(true).othersGrouper(false).renderLabel(true).transitionDuration(1000).xAxis().tickFormat(function(D){return""});x=B.dimension(function(D){return D.chapter});s=x.group().reduceSum(function(D){return D.deaths});chapterChart.width($("#icd-chapter").width()).height(450).dimension(x).group(s).rowsCap(15).ordering(function(D){return -D.value}).elasticX(true).rowsCap(17).othersGrouper(false).renderLabel(true).transitionDuration(1000).xAxis().tickFormat(function(D){return""});C=B.dimension(function(D){return D.age});p=C.group().reduceSum(function(D){return D.deaths});ageHistogram.width($("#age-histogram").width()+15).height(200).margins({top:10,right:0,bottom:30,left:0}).dimension(C).group(p).elasticY(true).gap(1).x(d3.scale.linear().domain([0,13])).colors(colorbrewer.RdYlGn[9]).colorAccessor(function(D){return D.key}).colorDomain([0,18]).renderHorizontalGridLines(true).centerBar(true);ageHistogram.xAxis().tickFormat(function(D){return d[D]});ageHistogram.xAxis().ticks(15);ageHistogram.yAxis().ticks(5);ageHistogram.yAxis().ticks(0);A=B.dimension(function(D){return D.gender});v=A.group().reduceSum(function(D){return D.deaths});z=$("#gender-chart").width()-5;console.log("pie width:",z);genderChart.width(z).height(180).radius(65).innerRadius(30).dimension(A).group(v).renderLabel(false).legend(dc.legend().x(z/2-10).y(70).itemHeight(10).gap(5)).colors(d3.scale.ordinal().domain(["M","F","?"]).range(["#3E85FD","#F590E5","#DDD"]));dc.renderAll();$("#loading").hide()})})});$(document).ready(function(){var h,c,b,a,d,f;if(!$("#whoMortality").length){return}c={G20:"Parkinson disease",V031:"Pedestrian injured in collision with car, pick-up truck or van: Traffic accident",P239:"Congenital pneumonia, unspecified",C249:"Malignant neoplasm: Biliary tract, unspecified",G319:"Degenerative disease of nervous system, unspecified",C240:"Malignant neoplasm: Extrahepatic bile duct",C809:"Malignant neoplasm, unspecified",I739:"Peripheral vascular disease, unspecified",B909:"Sequelae of respiratory and unspecified tuberculosis",I639:"Cerebral infarction, unspecified",I632:"Cerebral infarction due to unspecified occlusion or stenosis of precerebral arteries",I633:"Cerebral infarction due to thrombosis of cerebral arteries",J22:"Unspecified acute lower respiratory infection",R98:"Unattended death",R99:"Other ill-defined and unspecified causes of mortality",R95:"Sudden infant death syndrome",G009:"Bacterial meningitis, unspecified",I743:"Embolism and thrombosis of arteries of lower extremities",K562:"Volvulus",K566:"Other and unspecified intestinal obstruction",K567:"Ileus, unspecified",I51:"Complications and ill-defined descriptions of heart disease",I50:"Heart failure",I120:"Hypertensive renal disease with renal failure",I248:"Other forms of acute ischaemic heart disease",E039:"Hypothyroidism, unspecified",K922:"Gastrointestinal haemorrhage, unspecified",K920:"Haematemesis",D619:"Aplastic anaemia, unspecified",V092:"Pedestrian injured in traffic accident involving other and unspecified motor vehicles",C069:"Malignant neoplasm: Mouth, unspecified",D84:"Other immunodeficiencies",C348:"Malignant neoplasm: Overlapping lesion of bronchus and lung",C349:"Malignant neoplasm: Bronchus or lung, unspecified",C343:"Malignant neoplasm: Lower lobe, bronchus or lung",C340:"Malignant neoplasm: Main bronchus",C341:"Malignant neoplasm: Upper lobe, bronchus or lung",F102:"Mental and behavioural disorders due to use of alcohol: Dependence syndrome",B99:"Other and unspecified infectious diseases",I330:"Acute and subacute infective endocarditis",K631:"Perforation of intestine (nontraumatic)",I442:"Atrioventricular block, complete",J448:"Other specified chronic obstructive pulmonary disease",E109:"Insulin-dependent diabetes mellitus: Without complications",D469:"Myelodysplastic syndrome, unspecified",J440:"Chronic obstructive pulmonary disease with acute lower respiratory infection",J441:"Chronic obstructive pulmonary disease with acute exacerbation, unspecified",R73:"Elevated blood glucose level",C449:"Malignant neoplasm: Malignant neoplasm of skin, unspecified",C119:"Malignant neoplasm: Nasopharynx, unspecified",N12:"Tubulo-interstitial nephritis, not specified as acute or chronic",R509:"Fever, unspecified",K703:"Alcoholic cirrhosis of liver",Q897:"Multiple congenital malformations, not elsewhere classified",K704:"Alcoholic hepatic failure",K709:"Alcoholic liver disease, unspecified",I350:"Aortic (valve) stenosis",C833:"Diffuse large B-cell lymphoma",K529:"Noninfective gastroenteritis and colitis, unspecified",I709:"Generalized and unspecified atherosclerosis",N40:"Hyperplasia of prostate",I702:"Atherosclerosis of arteries of extremities",C519:"Malignant neoplasm: Vulva, unspecified",P23:"Congenital pneumonia",P22:"Respiratory distress of newborn",C710:"Malignant neoplasm: Cerebrum, except lobes and ventricles",C499:"Malignant neoplasm: Connective and soft tissue, unspecified",C719:"Malignant neoplasm: Brain, unspecified",A09:"Other gastroenteritis and colitis of infectious and unspecified origin",G039:"Meningitis, unspecified",G049:"Encephalitis, myelitis and encephalomyelitis, unspecified",I340:"Mitral (valve) insufficiency",I270:"Primary pulmonary hypertension",E148:"Unspecified diabetes mellitus: With unspecified complications",E149:"Unspecified diabetes mellitus: Without complications",E146:"Unspecified diabetes mellitus: With other specified complications",C34:"Malignant neoplasm of bronchus and lung",E145:"Unspecified diabetes mellitus: With peripheral circulatory complications",E142:"Unspecified diabetes mellitus: With renal complications",E140:"Unspecified diabetes mellitus: With coma",E141:"Unspecified diabetes mellitus: With ketoacidosis",C159:"Malignant neoplasm: Oesophagus, unspecified",B572:"Chagas disease (chronic) with heart involvement",I638:"Other cerebral infarction",G409:"Epilepsy, unspecified",K746:"Other and unspecified cirrhosis of liver",D430:"Neoplasm of uncertain or unknown behaviour: Brain, supratentorial",D432:"Neoplasm of uncertain or unknown behaviour: Brain, unspecified",E669:"Obesity, unspecified",E668:"Other obesity",K85:"Acute pancreatitis",J81:"Pulmonary oedema",J80:"Adult respiratory distress syndrome",B24:"Unspecified human immunodeficiency virus [HIV] disease",I634:"Cerebral infarction due to embolism of cerebral arteries",I635:"Cerebral infarction due to unspecified occlusion or stenosis of cerebral arteries",G40:"Epilepsy",Q249:"Congenital malformation of heart, unspecified",B20:"Human immunodeficiency virus [HIV] disease resulting in infectious and parasitic diseases",I629:"Intracranial haemorrhage (nontraumatic), unspecified",I620:"Subdural haemorrhage (acute)(nontraumatic)",K802:"Calculus of gallbladder without cholecystitis",P96:"Other conditions originating in the perinatal period",B33:"Other viral diseases, not elsewhere classified",I38:"Endocarditis, valve unspecified",X59:"Exposure to unspecified factor",C900:"Multiple myeloma",A41:"Other sepsis",K274:"Peptic ulcer, site unspecified: Chronic or unspecified with haemorrhage",K579:"Diverticular disease of intestine, part unspecified, without perforation or abscess",K578:"Diverticular disease of intestine, part unspecified, with perforation and abscess",C819:"Hodgkin lymphoma, unspecified",I059:"Mitral valve disease, unspecified",N17:"Acute renal failure",N18:"Chronic kidney disease",N19:"Unspecified kidney failure",K70:"Alcoholic liver disease",K72:"Hepatic failure, not elsewhere classified",K74:"Fibrosis and cirrhosis of liver",I48:"Atrial fibrillation and flutter",K76:"Other diseases of liver",I46:"Cardiac arrest",I42:"Cardiomyopathy",C71:"Malignant neoplasm of brain",C73:"Malignant neoplasm of thyroid gland",I132:"Hypertensive heart and renal disease with both (congestive) heart failure and renal failure",K830:"Cholangitis",K859:"Acute pancreatitis, unspecified",B238:"HIV disease resulting in other specified conditions",C689:"Malignant neoplasm: Urinary organ, unspecified",A047:"Enterocolitis due to Clostridium difficile",Q909:"Down syndrome, unspecified",V877:"Person injured in collision between other specified motor vehicles (traffic)",I498:"Other specified cardiac arrhythmias",I499:"Cardiac arrhythmia, unspecified",N039:"Chronic nephritic syndrome: Unspecified",E115:"Non-insulin-dependent diabetes mellitus: With peripheral circulatory complications",E117:"Non-insulin-dependent diabetes mellitus: With multiple complications",E116:"Non-insulin-dependent diabetes mellitus: With other specified complications",E112:"Non-insulin-dependent diabetes mellitus: With renal complications",J459:"Asthma, unspecified",I229:"Subsequent myocardial infarction of unspecified site",C539:"Malignant neoplasm: Cervix uteri, unspecified",P220:"Respiratory distress syndrome of newborn",AAA:"All other causes",F03:"Unspecified dementia",V299:"Motorcycle rider [any] injured in unspecified traffic accident",E11:"Non-insulin-dependent diabetes mellitus",J44:"Other chronic obstructive pulmonary disease",J47:"Bronchiectasis",J46:"Status asthmaticus",J40:"Bronchitis, not specified as acute or chronic",J42:"Unspecified chronic bronchitis",V89:"Motor- or nonmotor-vehicle accident, type of vehicle unspecified",J159:"Bacterial pneumonia, unspecified",J984:"Other disorders of lung",J988:"Other specified respiratory disorders",J152:"Pneumonia due to staphylococcus",G03:"Meningitis due to other and unspecified causes",N390:"Urinary tract infection, site not specified",C91:"Lymphoid leukaemia",C97:"Malignant neoplasms of independent (primary) multiple sites",E14:"Unspecified diabetes mellitus",K659:"Peritonitis, unspecified",C229:"Malignant neoplasm: Liver, unspecified",C541:"Malignant neoplasm: Endometrium",C221:"Malignant neoplasm: Intrahepatic bile duct carcinoma",C220:"Malignant neoplasm: Liver cell carcinoma",E878:"Other disorders of electrolyte and fluid balance, not elsewhere classified",E86:"Volume depletion",Y34:"Unspecified event, undetermined intent",M069:"Rheumatoid arthritis, unspecified",I713:"Abdominal aortic aneurysm, ruptured",I711:"Thoracic aortic aneurysm, ruptured",I710:"Dissection of aorta [any part]",I714:"Abdominal aortic aneurysm, without mention of rupture",Y86:"Sequelae of other accidents",I749:"Embolism and thrombosis of unspecified artery",C760:"Malignant neoplasm of other and ill-defined sites: Head, face and neck",C762:"Malignant neoplasm of other and ill-defined sites: Abdomen",E119:"Non-insulin-dependent diabetes mellitus: Without complications",I74:"Arterial embolism and thrombosis",I70:"Atherosclerosis",C22:"Malignant neoplasm of liver and intrahepatic bile ducts",C23:"Malignant neoplasm of gallbladder",C20:"Malignant neoplasm of rectum",C25:"Malignant neoplasm of pancreas",P285:"Respiratory failure of newborn",I269:"Pulmonary embolism without mention of acute cor pulmonale",C169:"Malignant neoplasm: Stomach, unspecified",R09:"Other symptoms and signs involving the circulatory and respiratory systems",C162:"Malignant neoplasm: Body of stomach",C163:"Malignant neoplasm: Pyloric antrum",C160:"Malignant neoplasm: Cardia",B200:"HIV disease resulting in mycobacterial infection",B207:"HIV disease resulting in multiple infections",B208:"HIV disease resulting in other infectious and parasitic diseases",B209:"HIV disease resulting in unspecified infectious or parasitic disease",M809:"Unspecified osteoporosis with pathological fracture",C184:"Malignant neoplasm: Transverse colon",C187:"Malignant neoplasm: Sigmoid colon",C180:"Malignant neoplasm: Caecum",D849:"Immunodeficiency, unspecified",C182:"Malignant neoplasm: Ascending colon",R579:"Shock, unspecified",C189:"Malignant neoplasm: Colon, unspecified",R570:"Cardiogenic shock",I509:"Heart failure, unspecified",I279:"Pulmonary heart disease, unspecified",P219:"Birth asphyxia, unspecified",I500:"Congestive heart failure",I501:"Left ventricular failure",C260:"Malignant neoplasm: Intestinal tract, part unspecified",C950:"Acute leukaemia of unspecified cell type",J90:"Pleural effusion, not elsewhere classified",C439:"Malignant neoplasm: Malignant melanoma of skin, unspecified",C269:"Malignant neoplasm: Ill-defined sites within the digestive system",V499:"Car occupant [any] injured in unspecified traffic accident",L89:"Decubitus ulcer and pressure area",C509:"Malignant neoplasm: Breast, unspecified",J96:"Respiratory failure, not elsewhere classified",E43:"Unspecified severe protein-energy malnutrition",E46:"Unspecified protein-energy malnutrition",N189:"Chronic kidney disease, unspecified",J98:"Other respiratory disorders",I614:"Intracerebral haemorrhage in cerebellum",I615:"Intracerebral haemorrhage, intraventricular",I613:"Intracerebral haemorrhage in brain stem",I610:"Intracerebral haemorrhage in hemisphere, subcortical",I619:"Intracerebral haemorrhage, unspecified",I249:"Acute ischaemic heart disease, unspecified",J189:"Pneumonia, unspecified",J182:"Hypostatic pneumonia, unspecified",J181:"Lobar pneumonia, unspecified",J180:"Bronchopneumonia, unspecified",K729:"Hepatic failure, unspecified",Q24:"Other congenital malformations of heart",I20:"Angina pectoris",I21:"Acute myocardial infarction",I24:"Other acute ischaemic heart diseases",I25:"Chronic ischaemic heart disease",I26:"Pulmonary embolism",P78:"Other perinatal digestive system disorders",C911:"Chronic lymphocytic leukaemia of B-cell type",C910:"Acute lymphoblastic leukaemia [ALL]",K265:"Duodenal ulcer: Chronic or unspecified with perforation",K264:"Duodenal ulcer: Chronic or unspecified with haemorrhage",J841:"Other interstitial pulmonary diseases with fibrosis",J849:"Interstitial pulmonary disease, unspecified",J45:"Asthma",J969:"Respiratory failure, unspecified",J961:"Chronic respiratory failure",P369:"Bacterial sepsis of newborn, unspecified",A419:"Sepsis, unspecified",C67:"Malignant neoplasm of bladder",C64:"Malignant neoplasm of kidney, except renal pelvis",C61:"Malignant neoplasm of prostate",I95:"Hypotension",I99:"Other and unspecified disorders of circulatory system",C329:"Malignant neoplasm: Larynx, unspecified",P969:"Condition originating in the perinatal period, unspecified",B171:"Acute hepatitis C",I461:"Sudden cardiac death, so described",I469:"Cardiac arrest, unspecified",D471:"Chronic myeloproliferative disease",C19:"Malignant neoplasm of rectosigmoid junction",C18:"Malignant neoplasm of colon",G809:"Cerebral palsy, unspecified",I359:"Aortic valve disorder, unspecified",C16:"Malignant neoplasm of stomach",C15:"Malignant neoplasm of oesophagus",I219:"Acute myocardial infarction, unspecified",I212:"Acute transmural myocardial infarction of other sites",I210:"Acute transmural myocardial infarction of anterior wall",I211:"Acute transmural myocardial infarction of inferior wall",C139:"Malignant neoplasm: Hypopharynx, unspecified",I214:"Acute subendocardial myocardial infarction",D649:"Anaemia, unspecified",C787:"Secondary malignant neoplasm of liver and intrahepatic bile duct",F019:"Vascular dementia, unspecified",R53:"Malaise and fatigue",R54:"Senility",R55:"Syncope and collapse",V435:"Car occupant injured in collision with car, pick-up truck or van: Driver injured in traffic accident",G35:"Multiple sclerosis",K650:"Acute peritonitis",C80:"Malignant neoplasm, without specification of site",K769:"Liver disease, unspecified",I490:"Ventricular fibrillation and flutter",C259:"Malignant neoplasm: Pancreas, unspecified",G301:"Alzheimer disease with late onset",C250:"Malignant neoplasm: Head of pancreas",G309:"Alzheimer disease, unspecified",K255:"Gastric ulcer: Chronic or unspecified with perforation",E785:"Hyperlipidaemia, unspecified",A19:"Miliary tuberculosis",N179:"Acute renal failure, unspecified",C959:"Leukaemia, unspecified",V234:"Motorcycle rider injured in collision with car, pick-up truck or van: Driver injured in traffic accident",Y24:"Other and unspecified firearm discharge, undetermined intent",I080:"Disorders of both mitral and aortic valves",B59:"Pneumocystosis",R092:"Respiratory arrest",E147:"Unspecified diabetes mellitus: With multiple complications",K254:"Gastric ulcer: Chronic or unspecified with haemorrhage",D65:"Disseminated intravascular coagulation [defibrination syndrome]",I27:"Other pulmonary heart diseases",J209:"Acute bronchitis, unspecified",C679:"Malignant neoplasm: Bladder, unspecified",K559:"Vascular disorder of intestine, unspecified",K550:"Acute vascular disorders of intestine",I64:"Stroke, not specified as haemorrhage or infarction",I67:"Other cerebrovascular diseases",P07:"Disorders related to short gestation and low birth weight, not elsewhere classified",I61:"Intracerebral haemorrhage",I63:"Cerebral infarction",I69:"Sequelae of cerebrovascular disease",I429:"Cardiomyopathy, unspecified",C56:"Malignant neoplasm of ovary",C55:"Malignant neoplasm of uterus, part unspecified",C53:"Malignant neoplasm of cervix uteri",C50:"Malignant neoplasm of breast",I420:"Dilated cardiomyopathy",I422:"Other hypertrophic cardiomyopathy",I426:"Alcoholic cardiomyopathy",I258:"Other forms of chronic ischaemic heart disease",I259:"Chronic ischaemic heart disease, unspecified",I255:"Ischaemic cardiomyopathy",I252:"Old myocardial infarction",I250:"Atherosclerotic cardiovascular disease, so described",I251:"Atherosclerotic heart disease",B182:"Chronic viral hepatitis C",R961:"Death occurring less than 24 hours from onset of symptoms, not otherwise explained",R960:"Instantaneous death",V892:"Person injured in unspecified motor-vehicle accident, traffic",V899:"Person injured in unspecified vehicle accident",I60:"Subarachnoid haemorrhage",I515:"Myocardial degeneration",I514:"Myocarditis, unspecified",I517:"Cardiomegaly",I516:"Cardiovascular disease, unspecified",I698:"Sequelae of other and unspecified cerebrovascular diseases",I694:"Sequelae of stroke, not specified as haemorrhage or infarction",I519:"Heart disease, unspecified",I693:"Sequelae of cerebral infarction",V475:"Car occupant injured in collision with fixed or stationary object: Driver injured in traffic accident",I691:"Sequelae of intracerebral haemorrhage",G931:"Anoxic brain damage, not elsewhere classified",J449:"Chronic obstructive pulmonary disease, unspecified",A162:"Tuberculosis of lung, without mention of bacteriological or histological confirmation",G936:"Cerebral oedema",A169:"Respiratory tuberculosis unspecified, without mention of bacteriological or histological confirmation",V099:"Pedestrian injured in unspecified transport accident",C450:"Mesothelioma of pleura",C109:"Malignant neoplasm: Oropharynx, unspecified",R64:"Cachexia",V093:"Pedestrian injured in unspecified traffic accident",C459:"Mesothelioma, unspecified",C851:"B-cell lymphoma, unspecified",C859:"Non-Hodgkin lymphoma, unspecified",P070:"Extremely low birth weight",P073:"Other preterm infants",P072:"Extreme immaturity",I609:"Subarachnoid haemorrhage, unspecified",J18:"Pneumonia, organism unspecified",I802:"Phlebitis and thrombophlebitis of other deep vessels of lower extremities",C549:"Malignant neoplasm: Corpus uteri, unspecified",I11:"Hypertensive heart disease",I10:"Essential (primary) hypertension",X70:"Intentional self-harm by hanging, strangulation and suffocation",C920:"Acute myeloblastic leukaemia [AML]",C921:"Chronic myeloid leukaemia [CML], BCR/ABL-positive",I719:"Aortic aneurysm of unspecified site, without mention of rupture",I672:"Cerebral atherosclerosis",I776:"Arteritis, unspecified",I678:"Other specified cerebrovascular diseases",I679:"Cerebrovascular disease, unspecified",J960:"Acute respiratory failure",J690:"Pneumonitis due to food and vomit",K92:"Other diseases of digestive system",I718:"Aortic aneurysm of unspecified site, ruptured",I119:"Hypertensive heart disease without (congestive) heart failure",K819:"Cholecystitis, unspecified",I110:"Hypertensive heart disease with (congestive) heart failure",K810:"Acute cholecystitis",A16:"Respiratory tuberculosis, not confirmed bacteriologically or histologically",G122:"Motor neuron disease",R688:"Other specified general symptoms and signs",I351:"Aortic (valve) insufficiency",X599:"Exposure to unspecified factor causing other and unspecified injury",J439:"Emphysema, unspecified",I209:"Angina pectoris, unspecified",X590:"Exposure to unspecified factor causing fracture",C140:"Malignant neoplasm: Pharynx, unspecified",X99:"Assault by sharp object",C419:"Malignant neoplasm: Bone and articular cartilage, unspecified",C029:"Malignant neoplasm: Tongue, unspecified",D381:"Neoplasm of uncertain or unknown behaviour: Trachea, bronchus and lung"};a=d3.format(".2f");f=dc.geoChoroplethChart("#world-map");d=dc.lineChart("#timeseries-chart");f.on("preRender",function(i){var k,j;root.c=i;console.log("fire");j=(function(){var o,m,n,l;n=i.data();l=[];for(o=0,m=n.length;o<m;o++){k=n[o];l.push(k.value)}return l})();e=d3.extent(j);i.colorDomain(e)});f.on("preRedraw",function(i){var k,j;console.log("fire");j=(function(){var o,m,n,l;n=i.data();l=[];for(o=0,m=n.length;o<m;o++){k=n[o];l.push(k.value)}return l})();e=d3.extent(j);i.colorDomain(e)});h=dc.rowChart("#cause-chart");b=dc.pieChart("#gender-chart");d3.tsv("static/whoMortality.tsv",function(m){var j,l,i,k;i=d3.time.format("%Y");m.forEach(function(n){n.deaths=+n.deaths;n.year=+n.year});k=crossfilter(m);j=k.dimension(function(n){return n.country});l=j.group().reduceSum(function(n){return n.deaths});d3.json("static/ne-countries-50m.json",function(q){var n,v,o,y,u,p,r,t,s,x;r=i.parse("1998");p=i.parse("2015");o=$(document).width();t=d3.geo.mercator().scale(150);f.width(1000).height(500).projection(t).dimension(j).group(l).colors(d3.scale.quantize().range(["#FFEBD6","#F5CBAE","#EBA988","#E08465","#D65D45","#CC3527","#C40A0A"])).valueAccessor(function(z){return z.value}).overlayGeoJson(q.features,"countries",function(z){return z.properties.iso_a2}).title(function(z){return"Country: "+z.key+"\nTotal Deaths: "+a(z.value?z.value:0)});n=k.dimension(function(z){return z.cause});v=n.group().reduceSum(function(z){return z.deaths});h.width(o*0.23).height(900).dimension(n).group(v).rowsCap(30).ordering(function(z){return -z.value}).label(function(z){return c[z.key]}).elasticX(true).othersGrouper(false).renderLabel(true).transitionDuration(1000).xAxis().tickFormat(function(z){return""});"chapterDim = ndx.dimension (d) ->\n	ICD10(d.ICD)\nchapterGroup = chapterDim.group().reduceSum (d) ->\n	d.deaths\n\nchapterChart.width(300).height(450)\n.dimension(chapterDim).group(chapterGroup)\n.rowsCap(15)\n.ordering (d) ->\n	-d.value\n.elasticX(true).rowsCap(17).othersGrouper(false).renderLabel(true).transitionDuration(1000).xAxis()\n.tickFormat (v) ->\n	''";s=k.dimension(function(z){return z.year});x=s.group().reduceSum(function(z){return z.deaths});d.interpolate("step-before").renderArea(true).width(0.3*o).height(200).transitionDuration(1000).margins({top:30,right:50,bottom:25,left:50}).dimension(s).mouseZoomable(false).x(d3.scale.linear().domain([1999,2014])).valueAccessor(function(z){console.log(z);return z.value}).elasticY(true).renderHorizontalGridLines(true).brushOn(true).group(x,"Downloads per day").title(function(A){var z;z=A.value.avg?A.value.avg:A.value;if(isNaN(z)){z=0}return""});d.yAxis().ticks(3);"ageDim = ndx.dimension (d) ->\n	d.age\nageGroup = ageDim.group().reduceSum (d) ->\n	d.deaths\n\nageHistogram.width(0.3*dw).height(200)\n.margins({top: 10, right: 50, bottom: 30, left: 40})\n.dimension(ageDim)\n.group(ageGroup)\n.elasticY(true).gap(1)#.round(dc.round.floor).alwaysUseRounding(true)\n.x(d3.scale.linear().domain([1,14]))\n.colors(colorbrewer.RdYlGn[9])\n.colorAccessor (d) ->\n	d.key\n.colorDomain([0,18])\n.renderHorizontalGridLines(true)\n.centerBar(true)\n\nageGroups =\n	'NS': null\n	1: '1'\n	2: '1-4'\n	3: '5-9'\n	4: '10-14'\n	5: '15-19'\n	6: '20-24'\n	7: '25-34'\n	8: '35-44'\n	9: '45-54'\n	10: '55-64'\n	11: '65-74'\n	12: '75-84'\n	13: '85+'\n\n\nageHistogram.xAxis().tickFormat (v) ->\n	v + ' yo'\n	ageGroups[v]\n\n\nageHistogram.xAxis().ticks 15\nageHistogram.yAxis().ticks 5";y=k.dimension(function(z){return z.gender});u=y.group().reduceSum(function(z){return z.deaths});b.width(180).height(180).radius(65).innerRadius(30).dimension(y).group(u).renderLabel(false).legend(dc.legend().x(70).y(70).itemHeight(10).gap(5)).colors(d3.scale.ordinal().domain(["M","F","?"]).range(["#3E85FD","#F590E5","#DDD"]));dc.renderAll()})})});